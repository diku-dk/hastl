// Generated by Futhark 0.21.0
// git: 0d9594f (Wed Sep 8 23:21:55 2021 +0200)

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers\n")
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int flag);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *ctx);
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value);
int futhark_get_num_sizes(void);
const char *futhark_get_size_name(int);
const char *futhark_get_size_class(int);

// Arrays
struct futhark_f32_2d;
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1);
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              unsigned char *data,
                                              int64_t offset, int64_t dim0,
                                              int64_t dim1);
int futhark_free_f32_2d(struct futhark_context *ctx,
                        struct futhark_f32_2d *arr);
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data);
unsigned char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                         struct futhark_f32_2d *arr);
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr);

// Opaque values


// Entry points
int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_c

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                            const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

// End of util.h.
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

static uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

static float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>



// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.

#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

static inline uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

static inline uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

static inline uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

static inline uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

static inline uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

static inline uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

static inline uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

static inline uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

static inline uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

static inline uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

static inline uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

static inline uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

static inline uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

static inline uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

static inline uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

static inline uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

static inline uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

static inline uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

static inline uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

static inline uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

static inline uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

static inline uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

static inline uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

static inline uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

static inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

static inline int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

static inline int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

static inline int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

static inline int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

static inline int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

static inline int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

static inline int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

static inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

static inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

static inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

static inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

static inline int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

static inline int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

static inline int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

static inline int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

static inline int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

static inline int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

static inline int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

static inline int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

static inline int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

static inline int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

static inline int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

static inline int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

static inline int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

static inline int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

static inline int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

static inline int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

static inline uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

static inline uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

static inline uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

static inline uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

static inline int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

static inline int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

static inline int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

static inline int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

static inline uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

static inline uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

static inline uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

static inline uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

static inline uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

static inline uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

static inline uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

static inline uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

static inline uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

static inline uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

static inline uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

static inline uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

static inline int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

static inline int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

static inline int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

static inline int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

static inline uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

static inline uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

static inline uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

static inline uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

static inline uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

static inline uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

static inline uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

static inline uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

static inline uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

static inline uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

static inline uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

static inline uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

static inline bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

static inline bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

static inline bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

static inline bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

static inline bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

static inline bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

static inline bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

static inline bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

static inline bool slt8(int8_t x, int8_t y) {
  return x < y;
}

static inline bool slt16(int16_t x, int16_t y) {
  return x < y;
}

static inline bool slt32(int32_t x, int32_t y) {
  return x < y;
}

static inline bool slt64(int64_t x, int64_t y) {
  return x < y;
}

static inline bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

static inline bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

static inline bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

static inline bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

static inline uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline bool itob_i8_bool(int8_t x) {
  return x;
}

static inline bool itob_i16_bool(int16_t x) {
  return x;
}

static inline bool itob_i32_bool(int32_t x) {
  return x;
}

static inline bool itob_i64_bool(int64_t x) {
  return x;
}

static inline int8_t btoi_bool_i8(bool x) {
  return x;
}

static inline int16_t btoi_bool_i16(bool x) {
  return x;
}

static inline int32_t btoi_bool_i32(bool x) {
  return x;
}

static inline int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

static int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

static int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

static int32_t abs32(int32_t x) {
  return abs(x);
}

static int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
static int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

static int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

static int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

static int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

static int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

static int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

static int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

static int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  return mul_hi(a, b);
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  return mul_hi(a, b);
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mul_hi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul_hi(a, b);
}

#elif defined(__CUDA_ARCH__)

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mulhi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul64hi(a, b);
}

#else // Not OpenCL or CUDA, but plain C.

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  uint64_t aa = a;
  uint64_t bb = b;

  return aa * bb >> 32;
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  __uint128_t aa = a;
  __uint128_t bb = b;

  return aa * bb >> 64;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return mad_hi(a, b, c);
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return mad_hi(a, b, c);
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return mad_hi(a, b, c);
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return mad_hi(a, b, c);
}

#else // Not OpenCL

static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return futrts_mul_hi8(a, b) + c;
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return futrts_mul_hi16(a, b) + c;
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return futrts_mul_hi32(a, b) + c;
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return futrts_mul_hi64(a, b) + c;
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

static int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

static int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

static int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

static int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

static int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

static int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

static inline float fdiv32(float x, float y) {
  return x / y;
}

static inline float fadd32(float x, float y) {
  return x + y;
}

static inline float fsub32(float x, float y) {
  return x - y;
}

static inline float fmul32(float x, float y) {
  return x * y;
}

static inline bool cmplt32(float x, float y) {
  return x < y;
}

static inline bool cmple32(float x, float y) {
  return x <= y;
}

static inline float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

static inline float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

static inline float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

static inline float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

static inline float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

static inline float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

static inline float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

static inline float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

static inline int8_t fptosi_f32_i8(float x) {
  return (int8_t) x;
}

static inline int16_t fptosi_f32_i16(float x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f32_i32(float x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f32_i64(float x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f32_i8(float x) {
  return (uint8_t) x;
}

static inline uint16_t fptoui_f32_i16(float x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f32_i32(float x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f32_i64(float x) {
  return (uint64_t) x;
}

#ifdef __OPENCL_VERSION__
static inline float fabs32(float x) {
  return fabs(x);
}

static inline float fmax32(float x, float y) {
  return fmax(x, y);
}

static inline float fmin32(float x, float y) {
  return fmin(x, y);
}

static inline float fpow32(float x, float y) {
  return pow(x, y);
}

#else // Not OpenCL, but CUDA or plain C.

static inline float fabs32(float x) {
  return fabsf(x);
}

static inline float fmax32(float x, float y) {
  return fmaxf(x, y);
}

static inline float fmin32(float x, float y) {
  return fminf(x, y);
}

static inline float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

static inline bool futrts_isnan32(float x) {
  return isnan(x);
}

static inline bool futrts_isinf32(float x) {
  return isinf(x);
}

#ifdef __OPENCL_VERSION__
static inline float futrts_log32(float x) {
  return log(x);
}

static inline float futrts_log2_32(float x) {
  return log2(x);
}

static inline float futrts_log10_32(float x) {
  return log10(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrt(x);
}

static inline float futrts_exp32(float x) {
  return exp(x);
}

static inline float futrts_cos32(float x) {
  return cos(x);
}

static inline float futrts_sin32(float x) {
  return sin(x);
}

static inline float futrts_tan32(float x) {
  return tan(x);
}

static inline float futrts_acos32(float x) {
  return acos(x);
}

static inline float futrts_asin32(float x) {
  return asin(x);
}

static inline float futrts_atan32(float x) {
  return atan(x);
}

static inline float futrts_cosh32(float x) {
  return cosh(x);
}

static inline float futrts_sinh32(float x) {
  return sinh(x);
}

static inline float futrts_tanh32(float x) {
  return tanh(x);
}

static inline float futrts_acosh32(float x) {
  return acosh(x);
}

static inline float futrts_asinh32(float x) {
  return asinh(x);
}

static inline float futrts_atanh32(float x) {
  return atanh(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgamma(x);
}

static inline float futrts_lgamma32(float x) {
  return lgamma(x);
}

static inline float fmod32(float x, float y) {
  return fmod(x, y);
}

static inline float futrts_round32(float x) {
  return rint(x);
}

static inline float futrts_floor32(float x) {
  return floor(x);
}

static inline float futrts_ceil32(float x) {
  return ceil(x);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

static inline float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

static inline float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#else // Not OpenCL, but CUDA or plain C.

static inline float futrts_log32(float x) {
  return logf(x);
}

static inline float futrts_log2_32(float x) {
  return log2f(x);
}

static inline float futrts_log10_32(float x) {
  return log10f(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrtf(x);
}

static inline float futrts_exp32(float x) {
  return expf(x);
}

static inline float futrts_cos32(float x) {
  return cosf(x);
}

static inline float futrts_sin32(float x) {
  return sinf(x);
}

static inline float futrts_tan32(float x) {
  return tanf(x);
}

static inline float futrts_acos32(float x) {
  return acosf(x);
}

static inline float futrts_asin32(float x) {
  return asinf(x);
}

static inline float futrts_atan32(float x) {
  return atanf(x);
}

static inline float futrts_cosh32(float x) {
  return coshf(x);
}

static inline float futrts_sinh32(float x) {
  return sinhf(x);
}

static inline float futrts_tanh32(float x) {
  return tanhf(x);
}

static inline float futrts_acosh32(float x) {
  return acoshf(x);
}

static inline float futrts_asinh32(float x) {
  return asinhf(x);
}

static inline float futrts_atanh32(float x) {
  return atanhf(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgammaf(x);
}

static inline float futrts_lgamma32(float x) {
  return lgammaf(x);
}

static inline float fmod32(float x, float y) {
  return fmodf(x, y);
}

static inline float futrts_round32(float x) {
  return rintf(x);
}

static inline float futrts_floor32(float x) {
  return floorf(x);
}

static inline float futrts_ceil32(float x) {
  return ceilf(x);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

static inline float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

static inline float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

static inline int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}

static inline float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0) - (x < 0);
}

#ifdef FUTHARK_F64_ENABLED

static inline double fdiv64(double x, double y) {
  return x / y;
}

static inline double fadd64(double x, double y) {
  return x + y;
}

static inline double fsub64(double x, double y) {
  return x - y;
}

static inline double fmul64(double x, double y) {
  return x * y;
}

static inline bool cmplt64(double x, double y) {
  return x < y;
}

static inline bool cmple64(double x, double y) {
  return x <= y;
}

static inline double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

static inline double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

static inline double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

static inline double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

static inline double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

static inline double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

static inline double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

static inline double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

static inline int8_t fptosi_f64_i8(double x) {
  return (int8_t) x;
}

static inline int16_t fptosi_f64_i16(double x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f64_i32(double x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f64_i64(double x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f64_i8(double x) {
  return (uint8_t) x;
}

static inline uint16_t fptoui_f64_i16(double x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f64_i32(double x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f64_i64(double x) {
  return (uint64_t) x;
}

static inline double fabs64(double x) {
  return fabs(x);
}

static inline double fmax64(double x, double y) {
  return fmax(x, y);
}

static inline double fmin64(double x, double y) {
  return fmin(x, y);
}

static inline double fpow64(double x, double y) {
  return pow(x, y);
}

static inline double futrts_log64(double x) {
  return log(x);
}

static inline double futrts_log2_64(double x) {
  return log2(x);
}

static inline double futrts_log10_64(double x) {
  return log10(x);
}

static inline double futrts_sqrt64(double x) {
  return sqrt(x);
}

static inline double futrts_exp64(double x) {
  return exp(x);
}

static inline double futrts_cos64(double x) {
  return cos(x);
}

static inline double futrts_sin64(double x) {
  return sin(x);
}

static inline double futrts_tan64(double x) {
  return tan(x);
}

static inline double futrts_acos64(double x) {
  return acos(x);
}

static inline double futrts_asin64(double x) {
  return asin(x);
}

static inline double futrts_atan64(double x) {
  return atan(x);
}

static inline double futrts_cosh64(double x) {
  return cosh(x);
}

static inline double futrts_sinh64(double x) {
  return sinh(x);
}

static inline double futrts_tanh64(double x) {
  return tanh(x);
}

static inline double futrts_acosh64(double x) {
  return acosh(x);
}

static inline double futrts_asinh64(double x) {
  return asinh(x);
}

static inline double futrts_atanh64(double x) {
  return atanh(x);
}

static inline double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

static inline double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

static inline double futrts_gamma64(double x) {
  return tgamma(x);
}

static inline double futrts_lgamma64(double x) {
  return lgamma(x);
}

static inline double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

static inline double futrts_round64(double x) {
  return rint(x);
}

static inline double futrts_ceil64(double x) {
  return ceil(x);
}

static inline double futrts_floor64(double x) {
  return floor(x);
}

static inline bool futrts_isnan64(double x) {
  return isnan(x);
}

static inline bool futrts_isinf64(double x) {
  return isinf(x);
}

static inline int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

static inline double fmod64(double x, double y) {
  return fmod(x, y);
}

static inline double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

static inline double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

static inline double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

static inline float fpconv_f32_f32(float x) {
  return (float) x;
}

static inline double fpconv_f32_f64(float x) {
  return (double) x;
}

static inline float fpconv_f64_f32(double x) {
  return (float) x;
}

static inline double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600)
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

static inline f16 fadd16(f16 x, f16 y) {
  return x + y;
}

static inline f16 fsub16(f16 x, f16 y) {
  return x - y;
}

static inline f16 fmul16(f16 x, f16 y) {
  return x * y;
}

static inline bool cmplt16(f16 x, f16 y) {
  return x < y;
}

static inline bool cmple16(f16 x, f16 y) {
  return x <= y;
}

static inline f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

static inline f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

static inline f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

static inline f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

static inline f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

static inline f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

static inline f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

static inline f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

static inline int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

static inline int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

static inline uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

#ifndef EMULATE_F16

#ifdef __OPENCL_VERSION__
static inline f16 fabs16(f16 x) {
  return fabs(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

static inline f16 fabs16(f16 x) {
  return fabsf(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

static inline bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

static inline bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}

#ifdef __OPENCL_VERSION__
static inline f16 futrts_log16(f16 x) {
  return log(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return log2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return log10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

static inline f16 futrts_exp16(f16 x) {
  return exp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return cos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return sin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tan(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acos(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asin(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atan(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rint(x);
}

static inline f16 futrts_floor16(f16 x) {
  return floor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}

#else // Assume CUDA.

static inline f16 futrts_log16(f16 x) {
  return hlog(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

static inline f16 futrts_exp16(f16 x) {
  return hexp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return hcos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return hsin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tanf(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acosf(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asinf(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atanf(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rintf(x);
}

static inline f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
static inline int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
static inline f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#else
static inline int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

static inline f16 fabs16(f16 x) {
  return fabs32(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

static inline bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

static inline bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

static inline f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

static inline f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

static inline f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

static inline f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

static inline f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

static inline f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

static inline f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

static inline f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

static inline f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

static inline int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

static inline f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

static inline int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

static inline f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

static inline f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0) - (x < 0);
}

#endif

#endif

static inline float fpconv_f16_f16(f16 x) {
  return x;
}

static inline float fpconv_f16_f32(f16 x) {
  return x;
}

static inline f16 fpconv_f32_f16(float x) {
  return x;
}

#ifdef FUTHARK_F64_ENABLED

static inline double fpconv_f16_f64(f16 x) {
  return (double) x;
}

static inline f16 fpconv_f64_f16(double x) {
  return (f16) x;
}

#endif


// End of scalar_f16.h.

static int init_constants(struct futhark_context *);
static int free_constants(struct futhark_context *);
struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct futhark_context_config {
    int debugging;
};
struct futhark_context_config *futhark_context_config_new(void)
{
    struct futhark_context_config *cfg =
                                  (struct futhark_context_config *) malloc(sizeof(struct futhark_context_config));
    
    if (cfg == NULL)
        return NULL;
    cfg->debugging = 0;
    return cfg;
}
void futhark_context_config_free(struct futhark_context_config *cfg)
{
    free(cfg);
}
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int detail)
{
    cfg->debugging = detail;
}
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int detail)
{
    // Does nothing for this backend.
    (void) cfg;
    (void) detail;
}
struct futhark_context {
    int detail_memory;
    int debugging;
    int profiling;
    int logging;
    lock_t lock;
    char *error;
    FILE *log;
    int profiling_paused;
    int64_t peak_mem_usage_default;
    int64_t cur_mem_usage_default;
    struct {
        int dummy;
    } constants;
};
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg)
{
    struct futhark_context *ctx =
                           (struct futhark_context *) malloc(sizeof(struct futhark_context));
    
    if (ctx == NULL)
        return NULL;
    ctx->detail_memory = cfg->debugging;
    ctx->debugging = cfg->debugging;
    ctx->profiling = cfg->debugging;
    ctx->logging = cfg->debugging;
    ctx->error = NULL;
    ctx->log = stderr;
    create_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    ctx->cur_mem_usage_default = 0;
    init_constants(ctx);
    return ctx;
}
void futhark_context_free(struct futhark_context *ctx)
{
    free_constants(ctx);
    free_lock(&ctx->lock);
    free(ctx);
}
int futhark_context_sync(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
static const char *size_names[0];
static const char *size_vars[0];
static const char *size_classes[0];
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value)
{
    (void) cfg;
    (void) size_name;
    (void) size_value;
    return 1;
}
static int memblock_unref(struct futhark_context *ctx, struct memblock *block,
                          const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log,
                    "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n",
                    desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            free(block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log,
                        "%lld bytes freed (now allocated: %lld bytes)\n",
                        (long long) block->size,
                        (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
static int memblock_alloc(struct futhark_context *ctx, struct memblock *block,
                          int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1,
                      "Negative allocation of %lld bytes attempted for %s in %s.\n",
                      (long long) size, desc, "default space",
                      ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    ctx->cur_mem_usage_default += size;
    if (ctx->detail_memory)
        fprintf(ctx->log,
                "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)",
                (long long) size, desc, "default space",
                (long long) ctx->cur_mem_usage_default);
    if (ctx->cur_mem_usage_default > ctx->peak_mem_usage_default) {
        ctx->peak_mem_usage_default = ctx->cur_mem_usage_default;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    block->mem = (unsigned char *) malloc((size_t) size);
    block->references = (int *) malloc(sizeof(int));
    *block->references = 1;
    block->size = size;
    block->desc = desc;
    return ret;
}
static int memblock_set(struct futhark_context *ctx, struct memblock *lhs,
                        struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
int futhark_get_num_sizes(void)
{
    return sizeof(size_names) / sizeof(size_names[0]);
}
const char *futhark_get_size_name(int i)
{
    return size_names[i];
}
const char *futhark_get_size_class(int i)
{
    return size_classes[i];
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    if (ctx->detail_memory || ctx->profiling || ctx->logging) {
        { }
    }
    if (ctx->profiling) { }
    return builder.str;
}
char *futhark_context_get_error(struct futhark_context *ctx)
{
    char *error = ctx->error;
    
    ctx->error = NULL;
    return error;
}
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f)
{
    ctx->log = f;
}
void futhark_context_pause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 1;
}
void futhark_context_unpause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 0;
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_73377,
                             struct memblock Y_mem_72031, int64_t m_70279,
                             int64_t n_70280, int64_t q_70282,
                             int64_t degree_70283, int64_t jump_70284,
                             int64_t jump_threshold_70285,
                             int64_t q_threshold_70286);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_f32_2d {
    struct memblock mem;
    int64_t shape[2];
};
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 4 > 0)
        memmove(arr->mem.mem + 0, data + 0, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              unsigned char *data,
                                              int64_t offset, int64_t dim0,
                                              int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 4 > 0)
        memmove(arr->mem.mem + 0, data + offset, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data)
{
    lock_lock(&ctx->lock);
    if ((size_t) (arr->shape[0] * arr->shape[1]) * 4 > 0)
        memmove(data + 0, arr->mem.mem + 0, (size_t) (arr->shape[0] *
                                                      arr->shape[1]) * 4);
    lock_unlock(&ctx->lock);
    return 0;
}
unsigned char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                         struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->shape;
}

static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_73377,
                             struct memblock Y_mem_72031, int64_t m_70279,
                             int64_t n_70280, int64_t q_70282,
                             int64_t degree_70283, int64_t jump_70284,
                             int64_t jump_threshold_70285,
                             int64_t q_threshold_70286)
{
    (void) ctx;
    
    int err = 0;
    size_t mem_72052_cached_sizze_73378 = 0;
    unsigned char *mem_72052 = NULL;
    size_t mem_72067_cached_sizze_73379 = 0;
    unsigned char *mem_72067 = NULL;
    size_t mem_72070_cached_sizze_73380 = 0;
    unsigned char *mem_72070 = NULL;
    size_t mem_72097_cached_sizze_73381 = 0;
    unsigned char *mem_72097 = NULL;
    size_t mem_72112_cached_sizze_73382 = 0;
    unsigned char *mem_72112 = NULL;
    size_t mem_72185_cached_sizze_73383 = 0;
    unsigned char *mem_72185 = NULL;
    size_t mem_72200_cached_sizze_73384 = 0;
    unsigned char *mem_72200 = NULL;
    size_t mem_72203_cached_sizze_73385 = 0;
    unsigned char *mem_72203 = NULL;
    size_t mem_72230_cached_sizze_73386 = 0;
    unsigned char *mem_72230 = NULL;
    size_t mem_72245_cached_sizze_73387 = 0;
    unsigned char *mem_72245 = NULL;
    size_t mem_72348_cached_sizze_73388 = 0;
    unsigned char *mem_72348 = NULL;
    size_t mem_72363_cached_sizze_73389 = 0;
    unsigned char *mem_72363 = NULL;
    size_t mem_72366_cached_sizze_73390 = 0;
    unsigned char *mem_72366 = NULL;
    size_t mem_72393_cached_sizze_73391 = 0;
    unsigned char *mem_72393 = NULL;
    size_t mem_72408_cached_sizze_73392 = 0;
    unsigned char *mem_72408 = NULL;
    size_t mem_72533_cached_sizze_73393 = 0;
    unsigned char *mem_72533 = NULL;
    size_t mem_72548_cached_sizze_73394 = 0;
    unsigned char *mem_72548 = NULL;
    size_t mem_72551_cached_sizze_73395 = 0;
    unsigned char *mem_72551 = NULL;
    size_t mem_72578_cached_sizze_73396 = 0;
    unsigned char *mem_72578 = NULL;
    size_t mem_72593_cached_sizze_73397 = 0;
    unsigned char *mem_72593 = NULL;
    size_t mem_72619_cached_sizze_73398 = 0;
    unsigned char *mem_72619 = NULL;
    size_t mem_72681_cached_sizze_73399 = 0;
    unsigned char *mem_72681 = NULL;
    size_t mem_72696_cached_sizze_73400 = 0;
    unsigned char *mem_72696 = NULL;
    size_t mem_72699_cached_sizze_73401 = 0;
    unsigned char *mem_72699 = NULL;
    size_t mem_72726_cached_sizze_73402 = 0;
    unsigned char *mem_72726 = NULL;
    size_t mem_72741_cached_sizze_73403 = 0;
    unsigned char *mem_72741 = NULL;
    size_t mem_72778_cached_sizze_73404 = 0;
    unsigned char *mem_72778 = NULL;
    size_t mem_72781_cached_sizze_73405 = 0;
    unsigned char *mem_72781 = NULL;
    size_t mem_72874_cached_sizze_73406 = 0;
    unsigned char *mem_72874 = NULL;
    size_t mem_72889_cached_sizze_73407 = 0;
    unsigned char *mem_72889 = NULL;
    size_t mem_72892_cached_sizze_73408 = 0;
    unsigned char *mem_72892 = NULL;
    size_t mem_72919_cached_sizze_73409 = 0;
    unsigned char *mem_72919 = NULL;
    size_t mem_72934_cached_sizze_73410 = 0;
    unsigned char *mem_72934 = NULL;
    size_t mem_72971_cached_sizze_73411 = 0;
    unsigned char *mem_72971 = NULL;
    size_t mem_72974_cached_sizze_73412 = 0;
    unsigned char *mem_72974 = NULL;
    size_t mem_73001_cached_sizze_73413 = 0;
    unsigned char *mem_73001 = NULL;
    size_t mem_73004_cached_sizze_73414 = 0;
    unsigned char *mem_73004 = NULL;
    struct memblock mem_out_73225;
    
    mem_out_73225.references = NULL;
    
    bool cond_70287 = jump_70284 == (int64_t) 1;
    int64_t n_m_70288;
    
    if (cond_70287) {
        n_m_70288 = n_70280;
    } else {
        bool zzero_70289 = jump_70284 == (int64_t) 0;
        bool nonzzero_70290 = !zzero_70289;
        bool nonzzero_cert_70291;
        
        if (!nonzzero_70290) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  loess.fut:579:38-45\n   #1  loess.fut:572:1-611:26\n");
            if (memblock_unref(ctx, &mem_out_73225, "mem_out_73225") != 0)
                return 1;
            return 1;
        }
        
        int64_t x_70292 = sdiv64(n_70280, jump_70284);
        int64_t n_m_f_res_70293 = add64((int64_t) 1, x_70292);
        
        n_m_70288 = n_m_f_res_70293;
    }
    
    int64_t i_70294 = sub64(n_70280, (int64_t) 1);
    bool x_70295 = sle64((int64_t) 0, i_70294);
    bool y_70296 = slt64(i_70294, n_70280);
    bool bounds_check_70297 = x_70295 && y_70296;
    bool index_certs_70298;
    
    if (!bounds_check_70297) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [", (long long) i_70294,
                               "] out of bounds for array of shape [",
                               (long long) n_70280, "].",
                               "-> #0  /prelude/array.fut:26:29-34\n   #1  utils.fut:45:13-20\n   #2  loess.fut:584:5-54\n   #3  loess.fut:572:1-611:26\n");
        if (memblock_unref(ctx, &mem_out_73225, "mem_out_73225") != 0)
            return 1;
        return 1;
    }
    
    int64_t min_res_70300 = smin64(n_70280, q_70282);
    bool bounds_invalid_upwards_70301 = slt64(n_m_70288, (int64_t) 0);
    bool valid_70302 = !bounds_invalid_upwards_70301;
    bool range_valid_c_70303;
    
    if (!valid_70302) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) n_m_70288, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  utils.fut:6:3-16\n   #3  loess.fut:442:3-469:10\n   #4  loess.fut:502:15-61\n   #5  loess.fut:589:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:588:5-590:26\n   #9  loess.fut:572:1-611:26\n");
        if (memblock_unref(ctx, &mem_out_73225, "mem_out_73225") != 0)
            return 1;
        return 1;
    }
    
    bool loop_cond_70305 = slt64((int64_t) 1, min_res_70300);
    float i64_res_70306 = sitofp_i64_f32(q_70282);
    bool cond_70307 = slt64(jump_70284, jump_threshold_70285);
    bool cond_f_res_70308 = slt64(q_threshold_70286, q_70282);
    bool x_70309 = !cond_70307;
    bool y_70310 = cond_f_res_70308 && x_70309;
    bool cond_70311 = cond_70307 || y_70310;
    struct memblock ext_mem_73107;
    
    ext_mem_73107.references = NULL;
    
    struct memblock ext_mem_73099;
    
    ext_mem_73099.references = NULL;
    if (cond_70311) {
        bool match_lit_70314 = (int64_t) 0 == degree_70283;
        int64_t binop_x_72032 = m_70279 * n_m_70288;
        int64_t binop_y_72033 = (int64_t) 4 * binop_x_72032;
        int64_t bytes_72034 = smax64((int64_t) 0, binop_y_72033);
        int64_t binop_y_72050 = (int64_t) 8 * n_70280;
        int64_t bytes_72051 = smax64((int64_t) 0, binop_y_72050);
        int64_t binop_y_72065 = (int64_t) 4 * n_70280;
        int64_t bytes_72066 = smax64((int64_t) 0, binop_y_72065);
        int64_t binop_y_72110 = (int64_t) 4 * q_70282;
        int64_t bytes_72111 = smax64((int64_t) 0, binop_y_72110);
        struct memblock ext_mem_72505;
        
        ext_mem_72505.references = NULL;
        
        struct memblock ext_mem_72497;
        
        ext_mem_72497.references = NULL;
        if (match_lit_70314) {
            struct memblock mem_72035;
            
            mem_72035.references = NULL;
            if (memblock_alloc(ctx, &mem_72035, bytes_72034, "mem_72035")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_73226 = 0; i_73226 < m_70279; i_73226++) {
                for (int64_t i_73227 = 0; i_73227 < n_m_70288; i_73227++) {
                    ((float *) mem_72035.mem)[i_73226 * n_m_70288 + i_73227] =
                        0.0F;
                }
            }
            
            struct memblock mem_72039;
            
            mem_72039.references = NULL;
            if (memblock_alloc(ctx, &mem_72039, bytes_72034, "mem_72039")) {
                err = 1;
                goto cleanup;
            }
            if (mem_72052_cached_sizze_73378 < (size_t) bytes_72051) {
                mem_72052 = realloc(mem_72052, bytes_72051);
                mem_72052_cached_sizze_73378 = bytes_72051;
            }
            if (mem_72067_cached_sizze_73379 < (size_t) bytes_72066) {
                mem_72067 = realloc(mem_72067, bytes_72066);
                mem_72067_cached_sizze_73379 = bytes_72066;
            }
            if (mem_72070_cached_sizze_73380 < (size_t) bytes_72051) {
                mem_72070 = realloc(mem_72070, bytes_72051);
                mem_72070_cached_sizze_73380 = bytes_72051;
            }
            if (mem_72097_cached_sizze_73381 < (size_t) bytes_72051) {
                mem_72097 = realloc(mem_72097, bytes_72051);
                mem_72097_cached_sizze_73381 = bytes_72051;
            }
            if (mem_72112_cached_sizze_73382 < (size_t) bytes_72111) {
                mem_72112 = realloc(mem_72112, bytes_72111);
                mem_72112_cached_sizze_73382 = bytes_72111;
            }
            for (int64_t i_71660 = 0; i_71660 < m_70279; i_71660++) {
                int64_t discard_71633;
                int64_t scanacc_71629 = (int64_t) 0;
                
                for (int64_t i_71631 = 0; i_71631 < n_70280; i_71631++) {
                    float x_70325 = ((float *) Y_mem_72031.mem)[i_71660 *
                                                                n_70280 +
                                                                i_71631];
                    bool isnan_res_70326;
                    
                    isnan_res_70326 = futrts_isnan32(x_70325);
                    
                    bool defunc_0_p_res_70327 = !isnan_res_70326;
                    int64_t defunc_0_f_res_70328 =
                            btoi_bool_i64(defunc_0_p_res_70327);
                    int64_t defunc_1_op_res_70324 = add64(defunc_0_f_res_70328,
                                                          scanacc_71629);
                    
                    ((int64_t *) mem_72052)[i_71631] = defunc_1_op_res_70324;
                    
                    int64_t scanacc_tmp_73229 = defunc_1_op_res_70324;
                    
                    scanacc_71629 = scanacc_tmp_73229;
                }
                discard_71633 = scanacc_71629;
                
                int64_t last_res_70329 = ((int64_t *) mem_72052)[i_70294];
                
                for (int64_t i_73231 = 0; i_73231 < n_70280; i_73231++) {
                    ((float *) mem_72067)[i_73231] = 0.0F;
                }
                for (int64_t i_73232 = 0; i_73232 < n_70280; i_73232++) {
                    ((int64_t *) mem_72070)[i_73232] = (int64_t) -1;
                }
                for (int64_t write_iter_71634 = 0; write_iter_71634 < n_70280;
                     write_iter_71634++) {
                    float write_iv_71637 = ((float *) Y_mem_72031.mem)[i_71660 *
                                                                       n_70280 +
                                                                       write_iter_71634];
                    int64_t write_iv_71638 =
                            ((int64_t *) mem_72052)[write_iter_71634];
                    bool isnan_res_70337;
                    
                    isnan_res_70337 = futrts_isnan32(write_iv_71637);
                    
                    bool defunc_0_p_res_70338 = !isnan_res_70337;
                    int64_t defunc_1_f_res_70339;
                    
                    if (defunc_0_p_res_70338) {
                        int64_t defunc_1_f_res_t_res_70340 =
                                sub64(write_iv_71638, (int64_t) 1);
                        
                        defunc_1_f_res_70339 = defunc_1_f_res_t_res_70340;
                    } else {
                        defunc_1_f_res_70339 = (int64_t) -1;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_70339) &&
                        slt64(defunc_1_f_res_70339, n_70280)) {
                        ((int64_t *) mem_72070)[defunc_1_f_res_70339] =
                            write_iter_71634;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_70339) &&
                        slt64(defunc_1_f_res_70339, n_70280)) {
                        if ((int64_t) 4 > 0)
                            memmove(mem_72067 + defunc_1_f_res_70339 *
                                    (int64_t) 4, Y_mem_72031.mem + (i_71660 *
                                                                    n_70280 +
                                                                    write_iter_71634) *
                                    (int64_t) 4, (int64_t) 4);
                    }
                }
                for (int64_t i_71644 = 0; i_71644 < n_70280; i_71644++) {
                    int64_t x_70342 = ((int64_t *) mem_72070)[i_71644];
                    int64_t defunc_0_f_res_70343 = add64((int64_t) 1, x_70342);
                    
                    ((int64_t *) mem_72097)[i_71644] = defunc_0_f_res_70343;
                }
                
                int64_t min_arg_70344 = sub64(last_res_70329, (int64_t) 1);
                int64_t min_arg_70345 = sub64(last_res_70329, min_res_70300);
                int64_t min_res_70346 = smin64(q_70282, last_res_70329);
                float i64_res_70347 = sitofp_i64_f32(last_res_70329);
                float x_70348 = i64_res_70306 - i64_res_70347;
                float max_arg_70349 = x_70348 / 2.0F;
                float max_res_70350 = fmax32(0.0F, max_arg_70349);
                
                for (int64_t i_71648 = 0; i_71648 < q_70282; i_71648++) {
                    bool cond_70353 = sle64(last_res_70329, i_71648);
                    float defunc_0_f_res_70354;
                    
                    if (cond_70353) {
                        defunc_0_f_res_70354 = 0.0F;
                    } else {
                        defunc_0_f_res_70354 = 1.0F;
                    }
                    ((float *) mem_72112)[i_71648] = defunc_0_f_res_70354;
                }
                for (int64_t i_71656 = 0; i_71656 < n_m_70288; i_71656++) {
                    int64_t min_arg_70357 = mul64(jump_70284, i_71656);
                    int64_t min_res_70358 = smin64(i_70294, min_arg_70357);
                    int64_t defunc_0_g_res_70359 = add64((int64_t) 1,
                                                         min_res_70358);
                    bool init_idx_70360;
                    int64_t init_idx_70361;
                    int64_t init_idx_70362;
                    bool loop_while_70363;
                    int64_t low_70364;
                    int64_t high_70365;
                    
                    loop_while_70363 = x_70295;
                    low_70364 = (int64_t) 0;
                    high_70365 = i_70294;
                    while (loop_while_70363) {
                        int64_t x_70366 = add64(low_70364, high_70365);
                        int64_t mid_70367 = sdiv64(x_70366, (int64_t) 2);
                        bool x_70368 = sle64((int64_t) 0, mid_70367);
                        bool y_70369 = slt64(mid_70367, n_70280);
                        bool bounds_check_70370 = x_70368 && y_70369;
                        bool index_certs_70371;
                        
                        if (!bounds_check_70370) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) mid_70367,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72039, "mem_72039") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72035, "mem_72035") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72497,
                                               "ext_mem_72497") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72505,
                                               "ext_mem_72505") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t mid_id_70372 =
                                ((int64_t *) mem_72097)[mid_70367];
                        bool cond_70373 = slt64(mid_id_70372, (int64_t) 0);
                        int64_t mid_idx_70374;
                        
                        if (cond_70373) {
                            mid_idx_70374 = (int64_t) 9223372036854775807;
                        } else {
                            mid_idx_70374 = mid_id_70372;
                        }
                        
                        bool cond_70375 = sle64(defunc_0_g_res_70359,
                                                mid_idx_70374);
                        int64_t loopres_70376;
                        int64_t loopres_70377;
                        
                        if (cond_70375) {
                            int64_t loopres_t_res_70378 = sub64(mid_70367,
                                                                (int64_t) 1);
                            
                            loopres_70376 = low_70364;
                            loopres_70377 = loopres_t_res_70378;
                        } else {
                            int64_t loopres_f_res_70379 = add64((int64_t) 1,
                                                                mid_70367);
                            
                            loopres_70376 = loopres_f_res_70379;
                            loopres_70377 = high_70365;
                        }
                        
                        bool loop_cond_70380 = sle64(loopres_70376,
                                                     loopres_70377);
                        bool loop_while_tmp_73238 = loop_cond_70380;
                        int64_t low_tmp_73239 = loopres_70376;
                        int64_t high_tmp_73240 = loopres_70377;
                        
                        loop_while_70363 = loop_while_tmp_73238;
                        low_70364 = low_tmp_73239;
                        high_70365 = high_tmp_73240;
                    }
                    init_idx_70360 = loop_while_70363;
                    init_idx_70361 = low_70364;
                    init_idx_70362 = high_70365;
                    
                    bool idx_70381;
                    int64_t idx_70382;
                    int64_t idx_70383;
                    int64_t idx_70384;
                    bool loop_while_70385;
                    int64_t l_idx_70386;
                    int64_t r_idx_70387;
                    int64_t span_70388;
                    
                    loop_while_70385 = loop_cond_70305;
                    l_idx_70386 = init_idx_70361;
                    r_idx_70387 = init_idx_70361;
                    span_70388 = (int64_t) 1;
                    while (loop_while_70385) {
                        int64_t max_arg_70389 = sub64(l_idx_70386, (int64_t) 1);
                        int64_t max_res_70390 = smax64((int64_t) 0,
                                                       max_arg_70389);
                        int64_t min_arg_70391 = add64((int64_t) 1, r_idx_70387);
                        int64_t min_res_70392 = smin64(min_arg_70344,
                                                       min_arg_70391);
                        bool x_70393 = sle64((int64_t) 0, max_res_70390);
                        bool y_70394 = slt64(max_res_70390, n_70280);
                        bool bounds_check_70395 = x_70393 && y_70394;
                        bool index_certs_70396;
                        
                        if (!bounds_check_70395) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_70390,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72039, "mem_72039") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72035, "mem_72035") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72497,
                                               "ext_mem_72497") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72505,
                                               "ext_mem_72505") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70397 =
                                ((int64_t *) mem_72097)[max_res_70390];
                        int64_t abs_arg_70398 = sub64(x_70397,
                                                      defunc_0_g_res_70359);
                        int64_t abs_res_70399 = abs64(abs_arg_70398);
                        bool x_70400 = sle64((int64_t) 0, min_res_70392);
                        bool y_70401 = slt64(min_res_70392, n_70280);
                        bool bounds_check_70402 = x_70400 && y_70401;
                        bool index_certs_70403;
                        
                        if (!bounds_check_70402) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) min_res_70392,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72039, "mem_72039") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72035, "mem_72035") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72497,
                                               "ext_mem_72497") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72505,
                                               "ext_mem_72505") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70404 =
                                ((int64_t *) mem_72097)[min_res_70392];
                        int64_t abs_arg_70405 = sub64(x_70404,
                                                      defunc_0_g_res_70359);
                        int64_t abs_res_70406 = abs64(abs_arg_70405);
                        bool cond_70407 = max_res_70390 == l_idx_70386;
                        int64_t loopres_70408;
                        int64_t loopres_70409;
                        int64_t loopres_70410;
                        
                        if (cond_70407) {
                            loopres_70408 = l_idx_70386;
                            loopres_70409 = r_idx_70387;
                            loopres_70410 = min_res_70300;
                        } else {
                            bool cond_70411 = slt64(abs_res_70399,
                                                    abs_res_70406);
                            bool cond_f_res_70412 = min_res_70392 ==
                                 r_idx_70387;
                            bool x_70413 = !cond_70411;
                            bool y_70414 = cond_f_res_70412 && x_70413;
                            bool cond_70415 = cond_70411 || y_70414;
                            int64_t loopres_f_res_70416;
                            
                            if (cond_70415) {
                                loopres_f_res_70416 = max_res_70390;
                            } else {
                                loopres_f_res_70416 = l_idx_70386;
                            }
                            
                            int64_t loopres_f_res_70417;
                            
                            if (cond_70415) {
                                loopres_f_res_70417 = r_idx_70387;
                            } else {
                                loopres_f_res_70417 = min_res_70392;
                            }
                            
                            int64_t loopres_f_res_70418;
                            
                            if (cond_70415) {
                                int64_t loopres_f_res_t_res_70419 =
                                        add64((int64_t) 1, span_70388);
                                
                                loopres_f_res_70418 = loopres_f_res_t_res_70419;
                            } else {
                                int64_t loopres_f_res_f_res_70420 =
                                        add64((int64_t) 1, span_70388);
                                
                                loopres_f_res_70418 = loopres_f_res_f_res_70420;
                            }
                            loopres_70408 = loopres_f_res_70416;
                            loopres_70409 = loopres_f_res_70417;
                            loopres_70410 = loopres_f_res_70418;
                        }
                        
                        bool loop_cond_70421 = slt64(loopres_70410,
                                                     min_res_70300);
                        bool loop_while_tmp_73241 = loop_cond_70421;
                        int64_t l_idx_tmp_73242 = loopres_70408;
                        int64_t r_idx_tmp_73243 = loopres_70409;
                        int64_t span_tmp_73244 = loopres_70410;
                        
                        loop_while_70385 = loop_while_tmp_73241;
                        l_idx_70386 = l_idx_tmp_73242;
                        r_idx_70387 = r_idx_tmp_73243;
                        span_70388 = span_tmp_73244;
                    }
                    idx_70381 = loop_while_70385;
                    idx_70382 = l_idx_70386;
                    idx_70383 = r_idx_70387;
                    idx_70384 = span_70388;
                    
                    int64_t min_res_70422 = smin64(min_arg_70345, idx_70382);
                    int64_t max_res_70423 = smax64((int64_t) 0, min_res_70422);
                    int64_t x_70424 = add64(min_res_70346, max_res_70423);
                    int64_t r_70425 = sub64(x_70424, (int64_t) 1);
                    bool x_70426 = sle64((int64_t) 0, r_70425);
                    bool y_70427 = slt64(r_70425, n_70280);
                    bool bounds_check_70428 = x_70426 && y_70427;
                    bool index_certs_70429;
                    
                    if (!bounds_check_70428) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) r_70425,
                                      "] out of bounds for array of shape [",
                                      (long long) n_70280, "].",
                                      "-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:16-51\n   #5  loess.fut:589:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:588:5-590:26\n   #9  loess.fut:572:1-611:26\n");
                        if (memblock_unref(ctx, &mem_72039, "mem_72039") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_72035, "mem_72035") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_72497,
                                           "ext_mem_72497") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_72505,
                                           "ext_mem_72505") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73099,
                                           "ext_mem_73099") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73107,
                                           "ext_mem_73107") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_73225,
                                           "mem_out_73225") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_70430 = ((int64_t *) mem_72070)[r_70425];
                    int64_t abs_arg_70431 = sub64(x_70430, min_res_70358);
                    int64_t abs_res_70432 = abs64(abs_arg_70431);
                    bool x_70433 = sle64((int64_t) 0, max_res_70423);
                    bool y_70434 = slt64(max_res_70423, n_70280);
                    bool bounds_check_70435 = x_70433 && y_70434;
                    bool index_certs_70436;
                    
                    if (!bounds_check_70435) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) max_res_70423,
                                      "] out of bounds for array of shape [",
                                      (long long) n_70280, "].",
                                      "-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:16-51\n   #5  loess.fut:589:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:588:5-590:26\n   #9  loess.fut:572:1-611:26\n");
                        if (memblock_unref(ctx, &mem_72039, "mem_72039") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_72035, "mem_72035") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_72497,
                                           "ext_mem_72497") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_72505,
                                           "ext_mem_72505") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73099,
                                           "ext_mem_73099") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73107,
                                           "ext_mem_73107") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_73225,
                                           "mem_out_73225") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_70437 = ((int64_t *) mem_72070)[max_res_70423];
                    int64_t abs_arg_70438 = sub64(x_70437, min_res_70358);
                    int64_t abs_res_70439 = abs64(abs_arg_70438);
                    int64_t max_res_70440 = smax64(abs_res_70432,
                                                   abs_res_70439);
                    float defunc_0_f_res_70441 = sitofp_i64_f32(max_res_70440);
                    float defunc_1_f_res_70442 = max_res_70350 +
                          defunc_0_f_res_70441;
                    float defunc_2_reduce_res_70443;
                    float redout_71650 = 0.0F;
                    
                    for (int64_t i_71651 = 0; i_71651 < q_70282; i_71651++) {
                        float x_70448 = ((float *) mem_72112)[i_71651];
                        bool cond_70449 = sle64(last_res_70329, i_71651);
                        int64_t defunc_0_f_res_70450;
                        
                        if (cond_70449) {
                            defunc_0_f_res_70450 = (int64_t) 0;
                        } else {
                            int64_t i_70451 = add64(max_res_70423, i_71651);
                            int64_t defunc_0_add_arg_70452 =
                                    ((int64_t *) mem_72070)[i_70451];
                            int64_t defunc_1_add_res_70453 = add64((int64_t) 1,
                                                                   defunc_0_add_arg_70452);
                            
                            defunc_0_f_res_70450 = defunc_1_add_res_70453;
                        }
                        
                        int64_t binop_p_70454 = sub64(defunc_0_f_res_70450,
                                                      min_res_70358);
                        float defunc_0_f_res_70455 =
                              sitofp_i64_f32(binop_p_70454);
                        float abs_res_70456 =
                              (float) fabs(defunc_0_f_res_70455);
                        float tmp1_70457 = abs_res_70456 / defunc_1_f_res_70442;
                        float x_70458 = tmp1_70457 * tmp1_70457;
                        float y_70459 = tmp1_70457 * x_70458;
                        float tmp2_70460 = 1.0F - y_70459;
                        float x_70461 = tmp2_70460 * tmp2_70460;
                        float tmp3_70462 = tmp2_70460 * x_70461;
                        float w_j_70463 = x_70448 * tmp3_70462;
                        float defunc_1_op_res_70446 = w_j_70463 + redout_71650;
                        float redout_tmp_73245 = defunc_1_op_res_70446;
                        
                        redout_71650 = redout_tmp_73245;
                    }
                    defunc_2_reduce_res_70443 = redout_71650;
                    
                    float a0_70464 = 1.0F / defunc_2_reduce_res_70443;
                    float defunc_2_reduce_res_70465;
                    float redout_71652 = 0.0F;
                    
                    for (int64_t i_71653 = 0; i_71653 < q_70282; i_71653++) {
                        float x_70470 = ((float *) mem_72112)[i_71653];
                        bool cond_70471 = sle64(last_res_70329, i_71653);
                        int64_t defunc_0_f_res_70472;
                        
                        if (cond_70471) {
                            defunc_0_f_res_70472 = (int64_t) 0;
                        } else {
                            int64_t i_70473 = add64(max_res_70423, i_71653);
                            int64_t defunc_0_add_arg_70474 =
                                    ((int64_t *) mem_72070)[i_70473];
                            int64_t defunc_1_add_res_70475 = add64((int64_t) 1,
                                                                   defunc_0_add_arg_70474);
                            
                            defunc_0_f_res_70472 = defunc_1_add_res_70475;
                        }
                        
                        int64_t binop_p_70476 = sub64(defunc_0_f_res_70472,
                                                      min_res_70358);
                        float defunc_0_f_res_70477 =
                              sitofp_i64_f32(binop_p_70476);
                        float abs_res_70478 =
                              (float) fabs(defunc_0_f_res_70477);
                        float tmp1_70479 = abs_res_70478 / defunc_1_f_res_70442;
                        float x_70480 = tmp1_70479 * tmp1_70479;
                        float y_70481 = tmp1_70479 * x_70480;
                        float tmp2_70482 = 1.0F - y_70481;
                        float x_70483 = tmp2_70482 * tmp2_70482;
                        float tmp3_70484 = tmp2_70482 * x_70483;
                        float tmp4_70485 = x_70470 * tmp3_70484;
                        float defunc_0_f_res_70486;
                        
                        if (cond_70471) {
                            defunc_0_f_res_70486 = 0.0F;
                        } else {
                            int64_t i_70487 = add64(max_res_70423, i_71653);
                            float defunc_0_add_arg_70488 =
                                  ((float *) mem_72067)[i_70487];
                            
                            defunc_0_f_res_70486 = defunc_0_add_arg_70488;
                        }
                        
                        float x_70489 = a0_70464 * tmp4_70485;
                        float defunc_9_fit_fun_res_70490 =
                              defunc_0_f_res_70486 * x_70489;
                        float defunc_1_op_res_70468 =
                              defunc_9_fit_fun_res_70490 + redout_71652;
                        float redout_tmp_73246 = defunc_1_op_res_70468;
                        
                        redout_71652 = redout_tmp_73246;
                    }
                    defunc_2_reduce_res_70465 = redout_71652;
                    ((float *) mem_72039.mem)[i_71660 * n_m_70288 + i_71656] =
                        defunc_2_reduce_res_70465;
                }
            }
            if (memblock_set(ctx, &ext_mem_72505, &mem_72039, "mem_72039") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_72497, &mem_72035, "mem_72035") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_72039, "mem_72039") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_72035, "mem_72035") != 0)
                return 1;
        } else {
            bool match_lit_70493 = (int64_t) 1 == degree_70283;
            int64_t binop_x_72155 = m_70279 * n_m_70288;
            int64_t binop_y_72156 = (int64_t) 4 * binop_x_72155;
            int64_t bytes_72157 = smax64((int64_t) 0, binop_y_72156);
            int64_t binop_y_72183 = (int64_t) 8 * n_70280;
            int64_t bytes_72184 = smax64((int64_t) 0, binop_y_72183);
            int64_t binop_y_72198 = (int64_t) 4 * n_70280;
            int64_t bytes_72199 = smax64((int64_t) 0, binop_y_72198);
            int64_t binop_y_72243 = (int64_t) 4 * q_70282;
            int64_t bytes_72244 = smax64((int64_t) 0, binop_y_72243);
            int64_t binop_x_72318 = m_70279 * n_m_70288;
            int64_t binop_y_72319 = (int64_t) 4 * binop_x_72318;
            int64_t bytes_72320 = smax64((int64_t) 0, binop_y_72319);
            int64_t binop_y_72346 = (int64_t) 8 * n_70280;
            int64_t bytes_72347 = smax64((int64_t) 0, binop_y_72346);
            int64_t binop_y_72361 = (int64_t) 4 * n_70280;
            int64_t bytes_72362 = smax64((int64_t) 0, binop_y_72361);
            int64_t binop_y_72406 = (int64_t) 4 * q_70282;
            int64_t bytes_72407 = smax64((int64_t) 0, binop_y_72406);
            struct memblock ext_mem_72489;
            
            ext_mem_72489.references = NULL;
            
            struct memblock ext_mem_72481;
            
            ext_mem_72481.references = NULL;
            if (match_lit_70493) {
                struct memblock mem_72158;
                
                mem_72158.references = NULL;
                if (memblock_alloc(ctx, &mem_72158, bytes_72157, "mem_72158")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_72162;
                
                mem_72162.references = NULL;
                if (memblock_alloc(ctx, &mem_72162, bytes_72157, "mem_72162")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_72185_cached_sizze_73383 < (size_t) bytes_72184) {
                    mem_72185 = realloc(mem_72185, bytes_72184);
                    mem_72185_cached_sizze_73383 = bytes_72184;
                }
                if (mem_72200_cached_sizze_73384 < (size_t) bytes_72199) {
                    mem_72200 = realloc(mem_72200, bytes_72199);
                    mem_72200_cached_sizze_73384 = bytes_72199;
                }
                if (mem_72203_cached_sizze_73385 < (size_t) bytes_72184) {
                    mem_72203 = realloc(mem_72203, bytes_72184);
                    mem_72203_cached_sizze_73385 = bytes_72184;
                }
                if (mem_72230_cached_sizze_73386 < (size_t) bytes_72184) {
                    mem_72230 = realloc(mem_72230, bytes_72184);
                    mem_72230_cached_sizze_73386 = bytes_72184;
                }
                if (mem_72245_cached_sizze_73387 < (size_t) bytes_72244) {
                    mem_72245 = realloc(mem_72245, bytes_72244);
                    mem_72245_cached_sizze_73387 = bytes_72244;
                }
                for (int64_t i_71702 = 0; i_71702 < m_70279; i_71702++) {
                    int64_t discard_71667;
                    int64_t scanacc_71663 = (int64_t) 0;
                    
                    for (int64_t i_71665 = 0; i_71665 < n_70280; i_71665++) {
                        float x_70504 = ((float *) Y_mem_72031.mem)[i_71702 *
                                                                    n_70280 +
                                                                    i_71665];
                        bool isnan_res_70505;
                        
                        isnan_res_70505 = futrts_isnan32(x_70504);
                        
                        bool defunc_0_p_res_70506 = !isnan_res_70505;
                        int64_t defunc_0_f_res_70507 =
                                btoi_bool_i64(defunc_0_p_res_70506);
                        int64_t defunc_1_op_res_70503 =
                                add64(defunc_0_f_res_70507, scanacc_71663);
                        
                        ((int64_t *) mem_72185)[i_71665] =
                            defunc_1_op_res_70503;
                        
                        int64_t scanacc_tmp_73249 = defunc_1_op_res_70503;
                        
                        scanacc_71663 = scanacc_tmp_73249;
                    }
                    discard_71667 = scanacc_71663;
                    
                    int64_t last_res_70508 = ((int64_t *) mem_72185)[i_70294];
                    
                    for (int64_t i_73251 = 0; i_73251 < n_70280; i_73251++) {
                        ((float *) mem_72200)[i_73251] = 0.0F;
                    }
                    for (int64_t i_73252 = 0; i_73252 < n_70280; i_73252++) {
                        ((int64_t *) mem_72203)[i_73252] = (int64_t) -1;
                    }
                    for (int64_t write_iter_71668 = 0; write_iter_71668 <
                         n_70280; write_iter_71668++) {
                        float write_iv_71671 =
                              ((float *) Y_mem_72031.mem)[i_71702 * n_70280 +
                                                          write_iter_71668];
                        int64_t write_iv_71672 =
                                ((int64_t *) mem_72185)[write_iter_71668];
                        bool isnan_res_70516;
                        
                        isnan_res_70516 = futrts_isnan32(write_iv_71671);
                        
                        bool defunc_0_p_res_70517 = !isnan_res_70516;
                        int64_t defunc_1_f_res_70518;
                        
                        if (defunc_0_p_res_70517) {
                            int64_t defunc_1_f_res_t_res_70519 =
                                    sub64(write_iv_71672, (int64_t) 1);
                            
                            defunc_1_f_res_70518 = defunc_1_f_res_t_res_70519;
                        } else {
                            defunc_1_f_res_70518 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_70518) &&
                            slt64(defunc_1_f_res_70518, n_70280)) {
                            ((int64_t *) mem_72203)[defunc_1_f_res_70518] =
                                write_iter_71668;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_70518) &&
                            slt64(defunc_1_f_res_70518, n_70280)) {
                            if ((int64_t) 4 > 0)
                                memmove(mem_72200 + defunc_1_f_res_70518 *
                                        (int64_t) 4, Y_mem_72031.mem +
                                        (i_71702 * n_70280 + write_iter_71668) *
                                        (int64_t) 4, (int64_t) 4);
                        }
                    }
                    for (int64_t i_71678 = 0; i_71678 < n_70280; i_71678++) {
                        int64_t x_70521 = ((int64_t *) mem_72203)[i_71678];
                        int64_t defunc_0_f_res_70522 = add64((int64_t) 1,
                                                             x_70521);
                        
                        ((int64_t *) mem_72230)[i_71678] = defunc_0_f_res_70522;
                    }
                    
                    int64_t min_arg_70523 = sub64(last_res_70508, (int64_t) 1);
                    int64_t min_arg_70524 = sub64(last_res_70508,
                                                  min_res_70300);
                    int64_t min_res_70525 = smin64(q_70282, last_res_70508);
                    float i64_res_70526 = sitofp_i64_f32(last_res_70508);
                    float x_70527 = i64_res_70306 - i64_res_70526;
                    float max_arg_70528 = x_70527 / 2.0F;
                    float max_res_70529 = fmax32(0.0F, max_arg_70528);
                    
                    for (int64_t i_71682 = 0; i_71682 < q_70282; i_71682++) {
                        bool cond_70532 = sle64(last_res_70508, i_71682);
                        float defunc_0_f_res_70533;
                        
                        if (cond_70532) {
                            defunc_0_f_res_70533 = 0.0F;
                        } else {
                            defunc_0_f_res_70533 = 1.0F;
                        }
                        ((float *) mem_72245)[i_71682] = defunc_0_f_res_70533;
                    }
                    for (int64_t i_71695 = 0; i_71695 < n_m_70288; i_71695++) {
                        int64_t min_arg_70537 = mul64(jump_70284, i_71695);
                        int64_t min_res_70538 = smin64(i_70294, min_arg_70537);
                        int64_t defunc_0_g_res_70539 = add64((int64_t) 1,
                                                             min_res_70538);
                        bool init_idx_70540;
                        int64_t init_idx_70541;
                        int64_t init_idx_70542;
                        bool loop_while_70543;
                        int64_t low_70544;
                        int64_t high_70545;
                        
                        loop_while_70543 = x_70295;
                        low_70544 = (int64_t) 0;
                        high_70545 = i_70294;
                        while (loop_while_70543) {
                            int64_t x_70546 = add64(low_70544, high_70545);
                            int64_t mid_70547 = sdiv64(x_70546, (int64_t) 2);
                            bool x_70548 = sle64((int64_t) 0, mid_70547);
                            bool y_70549 = slt64(mid_70547, n_70280);
                            bool bounds_check_70550 = x_70548 && y_70549;
                            bool index_certs_70551;
                            
                            if (!bounds_check_70550) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_70547,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70280, "].",
                                              "-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                                if (memblock_unref(ctx, &mem_72162,
                                                   "mem_72162") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72158,
                                                   "mem_72158") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72481,
                                                   "ext_mem_72481") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72489,
                                                   "ext_mem_72489") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72497,
                                                   "ext_mem_72497") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72505,
                                                   "ext_mem_72505") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73099,
                                                   "ext_mem_73099") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73107,
                                                   "ext_mem_73107") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73225,
                                                   "mem_out_73225") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_70552 =
                                    ((int64_t *) mem_72230)[mid_70547];
                            bool cond_70553 = slt64(mid_id_70552, (int64_t) 0);
                            int64_t mid_idx_70554;
                            
                            if (cond_70553) {
                                mid_idx_70554 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_70554 = mid_id_70552;
                            }
                            
                            bool cond_70555 = sle64(defunc_0_g_res_70539,
                                                    mid_idx_70554);
                            int64_t loopres_70556;
                            int64_t loopres_70557;
                            
                            if (cond_70555) {
                                int64_t loopres_t_res_70558 = sub64(mid_70547,
                                                                    (int64_t) 1);
                                
                                loopres_70556 = low_70544;
                                loopres_70557 = loopres_t_res_70558;
                            } else {
                                int64_t loopres_f_res_70559 = add64((int64_t) 1,
                                                                    mid_70547);
                                
                                loopres_70556 = loopres_f_res_70559;
                                loopres_70557 = high_70545;
                            }
                            
                            bool loop_cond_70560 = sle64(loopres_70556,
                                                         loopres_70557);
                            bool loop_while_tmp_73259 = loop_cond_70560;
                            int64_t low_tmp_73260 = loopres_70556;
                            int64_t high_tmp_73261 = loopres_70557;
                            
                            loop_while_70543 = loop_while_tmp_73259;
                            low_70544 = low_tmp_73260;
                            high_70545 = high_tmp_73261;
                        }
                        init_idx_70540 = loop_while_70543;
                        init_idx_70541 = low_70544;
                        init_idx_70542 = high_70545;
                        
                        bool idx_70561;
                        int64_t idx_70562;
                        int64_t idx_70563;
                        int64_t idx_70564;
                        bool loop_while_70565;
                        int64_t l_idx_70566;
                        int64_t r_idx_70567;
                        int64_t span_70568;
                        
                        loop_while_70565 = loop_cond_70305;
                        l_idx_70566 = init_idx_70541;
                        r_idx_70567 = init_idx_70541;
                        span_70568 = (int64_t) 1;
                        while (loop_while_70565) {
                            int64_t max_arg_70569 = sub64(l_idx_70566,
                                                          (int64_t) 1);
                            int64_t max_res_70570 = smax64((int64_t) 0,
                                                           max_arg_70569);
                            int64_t min_arg_70571 = add64((int64_t) 1,
                                                          r_idx_70567);
                            int64_t min_res_70572 = smin64(min_arg_70523,
                                                           min_arg_70571);
                            bool x_70573 = sle64((int64_t) 0, max_res_70570);
                            bool y_70574 = slt64(max_res_70570, n_70280);
                            bool bounds_check_70575 = x_70573 && y_70574;
                            bool index_certs_70576;
                            
                            if (!bounds_check_70575) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_70570,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70280, "].",
                                              "-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                                if (memblock_unref(ctx, &mem_72162,
                                                   "mem_72162") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72158,
                                                   "mem_72158") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72481,
                                                   "ext_mem_72481") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72489,
                                                   "ext_mem_72489") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72497,
                                                   "ext_mem_72497") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72505,
                                                   "ext_mem_72505") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73099,
                                                   "ext_mem_73099") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73107,
                                                   "ext_mem_73107") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73225,
                                                   "mem_out_73225") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_70577 =
                                    ((int64_t *) mem_72230)[max_res_70570];
                            int64_t abs_arg_70578 = sub64(x_70577,
                                                          defunc_0_g_res_70539);
                            int64_t abs_res_70579 = abs64(abs_arg_70578);
                            bool x_70580 = sle64((int64_t) 0, min_res_70572);
                            bool y_70581 = slt64(min_res_70572, n_70280);
                            bool bounds_check_70582 = x_70580 && y_70581;
                            bool index_certs_70583;
                            
                            if (!bounds_check_70582) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_70572,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70280, "].",
                                              "-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                                if (memblock_unref(ctx, &mem_72162,
                                                   "mem_72162") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72158,
                                                   "mem_72158") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72481,
                                                   "ext_mem_72481") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72489,
                                                   "ext_mem_72489") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72497,
                                                   "ext_mem_72497") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72505,
                                                   "ext_mem_72505") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73099,
                                                   "ext_mem_73099") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73107,
                                                   "ext_mem_73107") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73225,
                                                   "mem_out_73225") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_70584 =
                                    ((int64_t *) mem_72230)[min_res_70572];
                            int64_t abs_arg_70585 = sub64(x_70584,
                                                          defunc_0_g_res_70539);
                            int64_t abs_res_70586 = abs64(abs_arg_70585);
                            bool cond_70587 = max_res_70570 == l_idx_70566;
                            int64_t loopres_70588;
                            int64_t loopres_70589;
                            int64_t loopres_70590;
                            
                            if (cond_70587) {
                                loopres_70588 = l_idx_70566;
                                loopres_70589 = r_idx_70567;
                                loopres_70590 = min_res_70300;
                            } else {
                                bool cond_70591 = slt64(abs_res_70579,
                                                        abs_res_70586);
                                bool cond_f_res_70592 = min_res_70572 ==
                                     r_idx_70567;
                                bool x_70593 = !cond_70591;
                                bool y_70594 = cond_f_res_70592 && x_70593;
                                bool cond_70595 = cond_70591 || y_70594;
                                int64_t loopres_f_res_70596;
                                
                                if (cond_70595) {
                                    loopres_f_res_70596 = max_res_70570;
                                } else {
                                    loopres_f_res_70596 = l_idx_70566;
                                }
                                
                                int64_t loopres_f_res_70597;
                                
                                if (cond_70595) {
                                    loopres_f_res_70597 = r_idx_70567;
                                } else {
                                    loopres_f_res_70597 = min_res_70572;
                                }
                                
                                int64_t loopres_f_res_70598;
                                
                                if (cond_70595) {
                                    int64_t loopres_f_res_t_res_70599 =
                                            add64((int64_t) 1, span_70568);
                                    
                                    loopres_f_res_70598 =
                                        loopres_f_res_t_res_70599;
                                } else {
                                    int64_t loopres_f_res_f_res_70600 =
                                            add64((int64_t) 1, span_70568);
                                    
                                    loopres_f_res_70598 =
                                        loopres_f_res_f_res_70600;
                                }
                                loopres_70588 = loopres_f_res_70596;
                                loopres_70589 = loopres_f_res_70597;
                                loopres_70590 = loopres_f_res_70598;
                            }
                            
                            bool loop_cond_70601 = slt64(loopres_70590,
                                                         min_res_70300);
                            bool loop_while_tmp_73262 = loop_cond_70601;
                            int64_t l_idx_tmp_73263 = loopres_70588;
                            int64_t r_idx_tmp_73264 = loopres_70589;
                            int64_t span_tmp_73265 = loopres_70590;
                            
                            loop_while_70565 = loop_while_tmp_73262;
                            l_idx_70566 = l_idx_tmp_73263;
                            r_idx_70567 = r_idx_tmp_73264;
                            span_70568 = span_tmp_73265;
                        }
                        idx_70561 = loop_while_70565;
                        idx_70562 = l_idx_70566;
                        idx_70563 = r_idx_70567;
                        idx_70564 = span_70568;
                        
                        int64_t min_res_70602 = smin64(min_arg_70524,
                                                       idx_70562);
                        int64_t max_res_70603 = smax64((int64_t) 0,
                                                       min_res_70602);
                        int64_t x_70604 = add64(min_res_70525, max_res_70603);
                        int64_t r_70605 = sub64(x_70604, (int64_t) 1);
                        bool x_70606 = sle64((int64_t) 0, r_70605);
                        bool y_70607 = slt64(r_70605, n_70280);
                        bool bounds_check_70608 = x_70606 && y_70607;
                        bool index_certs_70609;
                        
                        if (!bounds_check_70608) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_70605,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:16-51\n   #5  loess.fut:589:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:588:5-590:26\n   #9  loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72162, "mem_72162") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72158, "mem_72158") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72481,
                                               "ext_mem_72481") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72489,
                                               "ext_mem_72489") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72497,
                                               "ext_mem_72497") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72505,
                                               "ext_mem_72505") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70610 = ((int64_t *) mem_72203)[r_70605];
                        int64_t abs_arg_70611 = sub64(x_70610, min_res_70538);
                        int64_t abs_res_70612 = abs64(abs_arg_70611);
                        bool x_70613 = sle64((int64_t) 0, max_res_70603);
                        bool y_70614 = slt64(max_res_70603, n_70280);
                        bool bounds_check_70615 = x_70613 && y_70614;
                        bool index_certs_70616;
                        
                        if (!bounds_check_70615) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_70603,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:16-51\n   #5  loess.fut:589:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:588:5-590:26\n   #9  loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72162, "mem_72162") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72158, "mem_72158") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72481,
                                               "ext_mem_72481") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72489,
                                               "ext_mem_72489") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72497,
                                               "ext_mem_72497") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72505,
                                               "ext_mem_72505") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70617 =
                                ((int64_t *) mem_72203)[max_res_70603];
                        int64_t abs_arg_70618 = sub64(x_70617, min_res_70538);
                        int64_t abs_res_70619 = abs64(abs_arg_70618);
                        int64_t max_res_70620 = smax64(abs_res_70612,
                                                       abs_res_70619);
                        float defunc_0_f_res_70621 =
                              sitofp_i64_f32(max_res_70620);
                        float defunc_1_f_res_70622 = max_res_70529 +
                              defunc_0_f_res_70621;
                        float defunc_2_reduce_res_70623;
                        float defunc_2_reduce_res_70624;
                        float defunc_2_reduce_res_70625;
                        float redout_71684;
                        float redout_71685;
                        float redout_71686;
                        
                        redout_71684 = 0.0F;
                        redout_71685 = 0.0F;
                        redout_71686 = 0.0F;
                        for (int64_t i_71687 = 0; i_71687 < q_70282;
                             i_71687++) {
                            float x_70636 = ((float *) mem_72245)[i_71687];
                            bool cond_70637 = sle64(last_res_70508, i_71687);
                            int64_t defunc_0_f_res_70638;
                            
                            if (cond_70637) {
                                defunc_0_f_res_70638 = (int64_t) 0;
                            } else {
                                int64_t i_70639 = add64(max_res_70603, i_71687);
                                int64_t defunc_0_add_arg_70640 =
                                        ((int64_t *) mem_72203)[i_70639];
                                int64_t defunc_1_add_res_70641 =
                                        add64((int64_t) 1,
                                              defunc_0_add_arg_70640);
                                
                                defunc_0_f_res_70638 = defunc_1_add_res_70641;
                            }
                            
                            int64_t binop_p_70642 = sub64(defunc_0_f_res_70638,
                                                          min_res_70538);
                            float defunc_0_f_res_70643 =
                                  sitofp_i64_f32(binop_p_70642);
                            float abs_res_70644 =
                                  (float) fabs(defunc_0_f_res_70643);
                            float tmp1_70645 = abs_res_70644 /
                                  defunc_1_f_res_70622;
                            float x_70646 = tmp1_70645 * tmp1_70645;
                            float y_70647 = tmp1_70645 * x_70646;
                            float tmp2_70648 = 1.0F - y_70647;
                            float x_70649 = tmp2_70648 * tmp2_70648;
                            float tmp3_70650 = tmp2_70648 * x_70649;
                            float w_j_70651 = x_70636 * tmp3_70650;
                            float xw_j_70652 = defunc_0_f_res_70643 * w_j_70651;
                            float x2w_j_70653 = defunc_0_f_res_70643 *
                                  xw_j_70652;
                            float defunc_1_op_res_70628 = w_j_70651 +
                                  redout_71684;
                            float defunc_1_op_res_70631 = xw_j_70652 +
                                  redout_71685;
                            float defunc_1_op_res_70634 = x2w_j_70653 +
                                  redout_71686;
                            float redout_tmp_73266 = defunc_1_op_res_70628;
                            float redout_tmp_73267 = defunc_1_op_res_70631;
                            float redout_tmp_73268 = defunc_1_op_res_70634;
                            
                            redout_71684 = redout_tmp_73266;
                            redout_71685 = redout_tmp_73267;
                            redout_71686 = redout_tmp_73268;
                        }
                        defunc_2_reduce_res_70623 = redout_71684;
                        defunc_2_reduce_res_70624 = redout_71685;
                        defunc_2_reduce_res_70625 = redout_71686;
                        
                        float x_70654 = defunc_2_reduce_res_70623 *
                              defunc_2_reduce_res_70625;
                        float y_70655 = defunc_2_reduce_res_70624 *
                              defunc_2_reduce_res_70624;
                        float y_70656 = x_70654 - y_70655;
                        float det1_70657 = 1.0F / y_70656;
                        float a11_70658 = defunc_2_reduce_res_70625 *
                              det1_70657;
                        float x_70659 = 0.0F - defunc_2_reduce_res_70624;
                        float b11_70660 = det1_70657 * x_70659;
                        float c11_70661 = defunc_2_reduce_res_70623 *
                              det1_70657;
                        float defunc_2_reduce_res_70662;
                        float defunc_2_reduce_res_70663;
                        float redout_71688;
                        float redout_71689;
                        
                        redout_71688 = 0.0F;
                        redout_71689 = 0.0F;
                        for (int64_t i_71690 = 0; i_71690 < q_70282;
                             i_71690++) {
                            float x_70671 = ((float *) mem_72245)[i_71690];
                            bool cond_70672 = sle64(last_res_70508, i_71690);
                            int64_t defunc_0_f_res_70673;
                            
                            if (cond_70672) {
                                defunc_0_f_res_70673 = (int64_t) 0;
                            } else {
                                int64_t i_70674 = add64(max_res_70603, i_71690);
                                int64_t defunc_0_add_arg_70675 =
                                        ((int64_t *) mem_72203)[i_70674];
                                int64_t defunc_1_add_res_70676 =
                                        add64((int64_t) 1,
                                              defunc_0_add_arg_70675);
                                
                                defunc_0_f_res_70673 = defunc_1_add_res_70676;
                            }
                            
                            int64_t binop_p_70677 = sub64(defunc_0_f_res_70673,
                                                          min_res_70538);
                            float defunc_0_f_res_70678 =
                                  sitofp_i64_f32(binop_p_70677);
                            float abs_res_70679 =
                                  (float) fabs(defunc_0_f_res_70678);
                            float tmp1_70680 = abs_res_70679 /
                                  defunc_1_f_res_70622;
                            float x_70681 = tmp1_70680 * tmp1_70680;
                            float y_70682 = tmp1_70680 * x_70681;
                            float tmp2_70683 = 1.0F - y_70682;
                            float x_70684 = tmp2_70683 * tmp2_70683;
                            float tmp3_70685 = tmp2_70683 * x_70684;
                            float tmp4_70686 = x_70671 * tmp3_70685;
                            float defunc_1_f_res_70687 = defunc_0_f_res_70678 *
                                  tmp4_70686;
                            float defunc_0_f_res_70688;
                            
                            if (cond_70672) {
                                defunc_0_f_res_70688 = 0.0F;
                            } else {
                                int64_t i_70689 = add64(max_res_70603, i_71690);
                                float defunc_0_add_arg_70690 =
                                      ((float *) mem_72200)[i_70689];
                                
                                defunc_0_f_res_70688 = defunc_0_add_arg_70690;
                            }
                            
                            float x_70691 = a11_70658 * tmp4_70686;
                            float y_70692 = b11_70660 * defunc_1_f_res_70687;
                            float x_70693 = x_70691 + y_70692;
                            float defunc_9_fit_fun_res_70694 =
                                  defunc_0_f_res_70688 * x_70693;
                            float x_70695 = b11_70660 * tmp4_70686;
                            float y_70696 = c11_70661 * defunc_1_f_res_70687;
                            float x_70697 = x_70695 + y_70696;
                            float defunc_9_slope_fun_res_70698 =
                                  defunc_0_f_res_70688 * x_70697;
                            float defunc_1_op_res_70666 =
                                  defunc_9_fit_fun_res_70694 + redout_71688;
                            float defunc_1_op_res_70669 =
                                  defunc_9_slope_fun_res_70698 + redout_71689;
                            float redout_tmp_73269 = defunc_1_op_res_70666;
                            float redout_tmp_73270 = defunc_1_op_res_70669;
                            
                            redout_71688 = redout_tmp_73269;
                            redout_71689 = redout_tmp_73270;
                        }
                        defunc_2_reduce_res_70662 = redout_71688;
                        defunc_2_reduce_res_70663 = redout_71689;
                        ((float *) mem_72158.mem)[i_71702 * n_m_70288 +
                                                  i_71695] =
                            defunc_2_reduce_res_70662;
                        ((float *) mem_72162.mem)[i_71702 * n_m_70288 +
                                                  i_71695] =
                            defunc_2_reduce_res_70663;
                    }
                }
                if (memblock_set(ctx, &ext_mem_72489, &mem_72158,
                                 "mem_72158") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_72481, &mem_72162,
                                 "mem_72162") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72162, "mem_72162") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72158, "mem_72158") != 0)
                    return 1;
            } else {
                struct memblock mem_72321;
                
                mem_72321.references = NULL;
                if (memblock_alloc(ctx, &mem_72321, bytes_72320, "mem_72321")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_72325;
                
                mem_72325.references = NULL;
                if (memblock_alloc(ctx, &mem_72325, bytes_72320, "mem_72325")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_72348_cached_sizze_73388 < (size_t) bytes_72347) {
                    mem_72348 = realloc(mem_72348, bytes_72347);
                    mem_72348_cached_sizze_73388 = bytes_72347;
                }
                if (mem_72363_cached_sizze_73389 < (size_t) bytes_72362) {
                    mem_72363 = realloc(mem_72363, bytes_72362);
                    mem_72363_cached_sizze_73389 = bytes_72362;
                }
                if (mem_72366_cached_sizze_73390 < (size_t) bytes_72347) {
                    mem_72366 = realloc(mem_72366, bytes_72347);
                    mem_72366_cached_sizze_73390 = bytes_72347;
                }
                if (mem_72393_cached_sizze_73391 < (size_t) bytes_72347) {
                    mem_72393 = realloc(mem_72393, bytes_72347);
                    mem_72393_cached_sizze_73391 = bytes_72347;
                }
                if (mem_72408_cached_sizze_73392 < (size_t) bytes_72407) {
                    mem_72408 = realloc(mem_72408, bytes_72407);
                    mem_72408_cached_sizze_73392 = bytes_72407;
                }
                for (int64_t i_71747 = 0; i_71747 < m_70279; i_71747++) {
                    int64_t discard_71710;
                    int64_t scanacc_71706 = (int64_t) 0;
                    
                    for (int64_t i_71708 = 0; i_71708 < n_70280; i_71708++) {
                        float x_70709 = ((float *) Y_mem_72031.mem)[i_71747 *
                                                                    n_70280 +
                                                                    i_71708];
                        bool isnan_res_70710;
                        
                        isnan_res_70710 = futrts_isnan32(x_70709);
                        
                        bool defunc_0_p_res_70711 = !isnan_res_70710;
                        int64_t defunc_0_f_res_70712 =
                                btoi_bool_i64(defunc_0_p_res_70711);
                        int64_t defunc_1_op_res_70708 =
                                add64(defunc_0_f_res_70712, scanacc_71706);
                        
                        ((int64_t *) mem_72348)[i_71708] =
                            defunc_1_op_res_70708;
                        
                        int64_t scanacc_tmp_73273 = defunc_1_op_res_70708;
                        
                        scanacc_71706 = scanacc_tmp_73273;
                    }
                    discard_71710 = scanacc_71706;
                    
                    int64_t last_res_70713 = ((int64_t *) mem_72348)[i_70294];
                    
                    for (int64_t i_73275 = 0; i_73275 < n_70280; i_73275++) {
                        ((float *) mem_72363)[i_73275] = 0.0F;
                    }
                    for (int64_t i_73276 = 0; i_73276 < n_70280; i_73276++) {
                        ((int64_t *) mem_72366)[i_73276] = (int64_t) -1;
                    }
                    for (int64_t write_iter_71711 = 0; write_iter_71711 <
                         n_70280; write_iter_71711++) {
                        float write_iv_71714 =
                              ((float *) Y_mem_72031.mem)[i_71747 * n_70280 +
                                                          write_iter_71711];
                        int64_t write_iv_71715 =
                                ((int64_t *) mem_72348)[write_iter_71711];
                        bool isnan_res_70721;
                        
                        isnan_res_70721 = futrts_isnan32(write_iv_71714);
                        
                        bool defunc_0_p_res_70722 = !isnan_res_70721;
                        int64_t defunc_1_f_res_70723;
                        
                        if (defunc_0_p_res_70722) {
                            int64_t defunc_1_f_res_t_res_70724 =
                                    sub64(write_iv_71715, (int64_t) 1);
                            
                            defunc_1_f_res_70723 = defunc_1_f_res_t_res_70724;
                        } else {
                            defunc_1_f_res_70723 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_70723) &&
                            slt64(defunc_1_f_res_70723, n_70280)) {
                            ((int64_t *) mem_72366)[defunc_1_f_res_70723] =
                                write_iter_71711;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_70723) &&
                            slt64(defunc_1_f_res_70723, n_70280)) {
                            if ((int64_t) 4 > 0)
                                memmove(mem_72363 + defunc_1_f_res_70723 *
                                        (int64_t) 4, Y_mem_72031.mem +
                                        (i_71747 * n_70280 + write_iter_71711) *
                                        (int64_t) 4, (int64_t) 4);
                        }
                    }
                    for (int64_t i_71721 = 0; i_71721 < n_70280; i_71721++) {
                        int64_t x_70726 = ((int64_t *) mem_72366)[i_71721];
                        int64_t defunc_0_f_res_70727 = add64((int64_t) 1,
                                                             x_70726);
                        
                        ((int64_t *) mem_72393)[i_71721] = defunc_0_f_res_70727;
                    }
                    
                    int64_t min_arg_70728 = sub64(last_res_70713, (int64_t) 1);
                    int64_t min_arg_70729 = sub64(last_res_70713,
                                                  min_res_70300);
                    int64_t min_res_70730 = smin64(q_70282, last_res_70713);
                    float i64_res_70731 = sitofp_i64_f32(last_res_70713);
                    float x_70732 = i64_res_70306 - i64_res_70731;
                    float max_arg_70733 = x_70732 / 2.0F;
                    float max_res_70734 = fmax32(0.0F, max_arg_70733);
                    
                    for (int64_t i_71725 = 0; i_71725 < q_70282; i_71725++) {
                        bool cond_70737 = sle64(last_res_70713, i_71725);
                        float defunc_0_f_res_70738;
                        
                        if (cond_70737) {
                            defunc_0_f_res_70738 = 0.0F;
                        } else {
                            defunc_0_f_res_70738 = 1.0F;
                        }
                        ((float *) mem_72408)[i_71725] = defunc_0_f_res_70738;
                    }
                    for (int64_t i_71740 = 0; i_71740 < n_m_70288; i_71740++) {
                        int64_t min_arg_70742 = mul64(jump_70284, i_71740);
                        int64_t min_res_70743 = smin64(i_70294, min_arg_70742);
                        int64_t defunc_0_g_res_70744 = add64((int64_t) 1,
                                                             min_res_70743);
                        bool init_idx_70745;
                        int64_t init_idx_70746;
                        int64_t init_idx_70747;
                        bool loop_while_70748;
                        int64_t low_70749;
                        int64_t high_70750;
                        
                        loop_while_70748 = x_70295;
                        low_70749 = (int64_t) 0;
                        high_70750 = i_70294;
                        while (loop_while_70748) {
                            int64_t x_70751 = add64(low_70749, high_70750);
                            int64_t mid_70752 = sdiv64(x_70751, (int64_t) 2);
                            bool x_70753 = sle64((int64_t) 0, mid_70752);
                            bool y_70754 = slt64(mid_70752, n_70280);
                            bool bounds_check_70755 = x_70753 && y_70754;
                            bool index_certs_70756;
                            
                            if (!bounds_check_70755) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_70752,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70280, "].",
                                              "-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                                if (memblock_unref(ctx, &mem_72325,
                                                   "mem_72325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72321,
                                                   "mem_72321") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72481,
                                                   "ext_mem_72481") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72489,
                                                   "ext_mem_72489") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72497,
                                                   "ext_mem_72497") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72505,
                                                   "ext_mem_72505") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73099,
                                                   "ext_mem_73099") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73107,
                                                   "ext_mem_73107") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73225,
                                                   "mem_out_73225") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_70757 =
                                    ((int64_t *) mem_72393)[mid_70752];
                            bool cond_70758 = slt64(mid_id_70757, (int64_t) 0);
                            int64_t mid_idx_70759;
                            
                            if (cond_70758) {
                                mid_idx_70759 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_70759 = mid_id_70757;
                            }
                            
                            bool cond_70760 = sle64(defunc_0_g_res_70744,
                                                    mid_idx_70759);
                            int64_t loopres_70761;
                            int64_t loopres_70762;
                            
                            if (cond_70760) {
                                int64_t loopres_t_res_70763 = sub64(mid_70752,
                                                                    (int64_t) 1);
                                
                                loopres_70761 = low_70749;
                                loopres_70762 = loopres_t_res_70763;
                            } else {
                                int64_t loopres_f_res_70764 = add64((int64_t) 1,
                                                                    mid_70752);
                                
                                loopres_70761 = loopres_f_res_70764;
                                loopres_70762 = high_70750;
                            }
                            
                            bool loop_cond_70765 = sle64(loopres_70761,
                                                         loopres_70762);
                            bool loop_while_tmp_73283 = loop_cond_70765;
                            int64_t low_tmp_73284 = loopres_70761;
                            int64_t high_tmp_73285 = loopres_70762;
                            
                            loop_while_70748 = loop_while_tmp_73283;
                            low_70749 = low_tmp_73284;
                            high_70750 = high_tmp_73285;
                        }
                        init_idx_70745 = loop_while_70748;
                        init_idx_70746 = low_70749;
                        init_idx_70747 = high_70750;
                        
                        bool idx_70766;
                        int64_t idx_70767;
                        int64_t idx_70768;
                        int64_t idx_70769;
                        bool loop_while_70770;
                        int64_t l_idx_70771;
                        int64_t r_idx_70772;
                        int64_t span_70773;
                        
                        loop_while_70770 = loop_cond_70305;
                        l_idx_70771 = init_idx_70746;
                        r_idx_70772 = init_idx_70746;
                        span_70773 = (int64_t) 1;
                        while (loop_while_70770) {
                            int64_t max_arg_70774 = sub64(l_idx_70771,
                                                          (int64_t) 1);
                            int64_t max_res_70775 = smax64((int64_t) 0,
                                                           max_arg_70774);
                            int64_t min_arg_70776 = add64((int64_t) 1,
                                                          r_idx_70772);
                            int64_t min_res_70777 = smin64(min_arg_70728,
                                                           min_arg_70776);
                            bool x_70778 = sle64((int64_t) 0, max_res_70775);
                            bool y_70779 = slt64(max_res_70775, n_70280);
                            bool bounds_check_70780 = x_70778 && y_70779;
                            bool index_certs_70781;
                            
                            if (!bounds_check_70780) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_70775,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70280, "].",
                                              "-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                                if (memblock_unref(ctx, &mem_72325,
                                                   "mem_72325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72321,
                                                   "mem_72321") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72481,
                                                   "ext_mem_72481") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72489,
                                                   "ext_mem_72489") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72497,
                                                   "ext_mem_72497") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72505,
                                                   "ext_mem_72505") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73099,
                                                   "ext_mem_73099") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73107,
                                                   "ext_mem_73107") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73225,
                                                   "mem_out_73225") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_70782 =
                                    ((int64_t *) mem_72393)[max_res_70775];
                            int64_t abs_arg_70783 = sub64(x_70782,
                                                          defunc_0_g_res_70744);
                            int64_t abs_res_70784 = abs64(abs_arg_70783);
                            bool x_70785 = sle64((int64_t) 0, min_res_70777);
                            bool y_70786 = slt64(min_res_70777, n_70280);
                            bool bounds_check_70787 = x_70785 && y_70786;
                            bool index_certs_70788;
                            
                            if (!bounds_check_70787) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_70777,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70280, "].",
                                              "-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                                if (memblock_unref(ctx, &mem_72325,
                                                   "mem_72325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72321,
                                                   "mem_72321") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72481,
                                                   "ext_mem_72481") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72489,
                                                   "ext_mem_72489") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72497,
                                                   "ext_mem_72497") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72505,
                                                   "ext_mem_72505") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73099,
                                                   "ext_mem_73099") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73107,
                                                   "ext_mem_73107") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73225,
                                                   "mem_out_73225") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_70789 =
                                    ((int64_t *) mem_72393)[min_res_70777];
                            int64_t abs_arg_70790 = sub64(x_70789,
                                                          defunc_0_g_res_70744);
                            int64_t abs_res_70791 = abs64(abs_arg_70790);
                            bool cond_70792 = max_res_70775 == l_idx_70771;
                            int64_t loopres_70793;
                            int64_t loopres_70794;
                            int64_t loopres_70795;
                            
                            if (cond_70792) {
                                loopres_70793 = l_idx_70771;
                                loopres_70794 = r_idx_70772;
                                loopres_70795 = min_res_70300;
                            } else {
                                bool cond_70796 = slt64(abs_res_70784,
                                                        abs_res_70791);
                                bool cond_f_res_70797 = min_res_70777 ==
                                     r_idx_70772;
                                bool x_70798 = !cond_70796;
                                bool y_70799 = cond_f_res_70797 && x_70798;
                                bool cond_70800 = cond_70796 || y_70799;
                                int64_t loopres_f_res_70801;
                                
                                if (cond_70800) {
                                    loopres_f_res_70801 = max_res_70775;
                                } else {
                                    loopres_f_res_70801 = l_idx_70771;
                                }
                                
                                int64_t loopres_f_res_70802;
                                
                                if (cond_70800) {
                                    loopres_f_res_70802 = r_idx_70772;
                                } else {
                                    loopres_f_res_70802 = min_res_70777;
                                }
                                
                                int64_t loopres_f_res_70803;
                                
                                if (cond_70800) {
                                    int64_t loopres_f_res_t_res_70804 =
                                            add64((int64_t) 1, span_70773);
                                    
                                    loopres_f_res_70803 =
                                        loopres_f_res_t_res_70804;
                                } else {
                                    int64_t loopres_f_res_f_res_70805 =
                                            add64((int64_t) 1, span_70773);
                                    
                                    loopres_f_res_70803 =
                                        loopres_f_res_f_res_70805;
                                }
                                loopres_70793 = loopres_f_res_70801;
                                loopres_70794 = loopres_f_res_70802;
                                loopres_70795 = loopres_f_res_70803;
                            }
                            
                            bool loop_cond_70806 = slt64(loopres_70795,
                                                         min_res_70300);
                            bool loop_while_tmp_73286 = loop_cond_70806;
                            int64_t l_idx_tmp_73287 = loopres_70793;
                            int64_t r_idx_tmp_73288 = loopres_70794;
                            int64_t span_tmp_73289 = loopres_70795;
                            
                            loop_while_70770 = loop_while_tmp_73286;
                            l_idx_70771 = l_idx_tmp_73287;
                            r_idx_70772 = r_idx_tmp_73288;
                            span_70773 = span_tmp_73289;
                        }
                        idx_70766 = loop_while_70770;
                        idx_70767 = l_idx_70771;
                        idx_70768 = r_idx_70772;
                        idx_70769 = span_70773;
                        
                        int64_t min_res_70807 = smin64(min_arg_70729,
                                                       idx_70767);
                        int64_t max_res_70808 = smax64((int64_t) 0,
                                                       min_res_70807);
                        int64_t x_70809 = add64(min_res_70730, max_res_70808);
                        int64_t r_70810 = sub64(x_70809, (int64_t) 1);
                        bool x_70811 = sle64((int64_t) 0, r_70810);
                        bool y_70812 = slt64(r_70810, n_70280);
                        bool bounds_check_70813 = x_70811 && y_70812;
                        bool index_certs_70814;
                        
                        if (!bounds_check_70813) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_70810,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:16-51\n   #5  loess.fut:589:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:588:5-590:26\n   #9  loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72325, "mem_72325") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72321, "mem_72321") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72481,
                                               "ext_mem_72481") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72489,
                                               "ext_mem_72489") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72497,
                                               "ext_mem_72497") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72505,
                                               "ext_mem_72505") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70815 = ((int64_t *) mem_72366)[r_70810];
                        int64_t abs_arg_70816 = sub64(x_70815, min_res_70743);
                        int64_t abs_res_70817 = abs64(abs_arg_70816);
                        bool x_70818 = sle64((int64_t) 0, max_res_70808);
                        bool y_70819 = slt64(max_res_70808, n_70280);
                        bool bounds_check_70820 = x_70818 && y_70819;
                        bool index_certs_70821;
                        
                        if (!bounds_check_70820) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_70808,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:16-51\n   #5  loess.fut:589:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:588:5-590:26\n   #9  loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72325, "mem_72325") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72321, "mem_72321") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72481,
                                               "ext_mem_72481") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72489,
                                               "ext_mem_72489") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72497,
                                               "ext_mem_72497") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72505,
                                               "ext_mem_72505") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70822 =
                                ((int64_t *) mem_72366)[max_res_70808];
                        int64_t abs_arg_70823 = sub64(x_70822, min_res_70743);
                        int64_t abs_res_70824 = abs64(abs_arg_70823);
                        int64_t max_res_70825 = smax64(abs_res_70817,
                                                       abs_res_70824);
                        float defunc_0_f_res_70826 =
                              sitofp_i64_f32(max_res_70825);
                        float defunc_1_f_res_70827 = max_res_70734 +
                              defunc_0_f_res_70826;
                        float defunc_2_reduce_res_70828;
                        float defunc_2_reduce_res_70829;
                        float defunc_2_reduce_res_70830;
                        float defunc_2_reduce_res_70831;
                        float defunc_2_reduce_res_70832;
                        float redout_71727;
                        float redout_71728;
                        float redout_71729;
                        float redout_71730;
                        float redout_71731;
                        
                        redout_71727 = 0.0F;
                        redout_71728 = 0.0F;
                        redout_71729 = 0.0F;
                        redout_71730 = 0.0F;
                        redout_71731 = 0.0F;
                        for (int64_t i_71732 = 0; i_71732 < q_70282;
                             i_71732++) {
                            float x_70849 = ((float *) mem_72408)[i_71732];
                            bool cond_70850 = sle64(last_res_70713, i_71732);
                            int64_t defunc_0_f_res_70851;
                            
                            if (cond_70850) {
                                defunc_0_f_res_70851 = (int64_t) 0;
                            } else {
                                int64_t i_70852 = add64(max_res_70808, i_71732);
                                int64_t defunc_0_add_arg_70853 =
                                        ((int64_t *) mem_72366)[i_70852];
                                int64_t defunc_1_add_res_70854 =
                                        add64((int64_t) 1,
                                              defunc_0_add_arg_70853);
                                
                                defunc_0_f_res_70851 = defunc_1_add_res_70854;
                            }
                            
                            int64_t binop_p_70855 = sub64(defunc_0_f_res_70851,
                                                          min_res_70743);
                            float defunc_0_f_res_70856 =
                                  sitofp_i64_f32(binop_p_70855);
                            float abs_res_70857 =
                                  (float) fabs(defunc_0_f_res_70856);
                            float tmp1_70858 = abs_res_70857 /
                                  defunc_1_f_res_70827;
                            float x_70859 = tmp1_70858 * tmp1_70858;
                            float y_70860 = tmp1_70858 * x_70859;
                            float tmp2_70861 = 1.0F - y_70860;
                            float x_70862 = tmp2_70861 * tmp2_70861;
                            float tmp3_70863 = tmp2_70861 * x_70862;
                            float w_j_70864 = x_70849 * tmp3_70863;
                            float xw_j_70865 = defunc_0_f_res_70856 * w_j_70864;
                            float x2w_j_70866 = defunc_0_f_res_70856 *
                                  xw_j_70865;
                            float x3w_j_70867 = defunc_0_f_res_70856 *
                                  x2w_j_70866;
                            float x4w_j_70868 = defunc_0_f_res_70856 *
                                  x3w_j_70867;
                            float defunc_1_op_res_70835 = w_j_70864 +
                                  redout_71727;
                            float defunc_1_op_res_70838 = xw_j_70865 +
                                  redout_71728;
                            float defunc_1_op_res_70841 = x2w_j_70866 +
                                  redout_71729;
                            float defunc_1_op_res_70844 = x3w_j_70867 +
                                  redout_71730;
                            float defunc_1_op_res_70847 = x4w_j_70868 +
                                  redout_71731;
                            float redout_tmp_73290 = defunc_1_op_res_70835;
                            float redout_tmp_73291 = defunc_1_op_res_70838;
                            float redout_tmp_73292 = defunc_1_op_res_70841;
                            float redout_tmp_73293 = defunc_1_op_res_70844;
                            float redout_tmp_73294 = defunc_1_op_res_70847;
                            
                            redout_71727 = redout_tmp_73290;
                            redout_71728 = redout_tmp_73291;
                            redout_71729 = redout_tmp_73292;
                            redout_71730 = redout_tmp_73293;
                            redout_71731 = redout_tmp_73294;
                        }
                        defunc_2_reduce_res_70828 = redout_71727;
                        defunc_2_reduce_res_70829 = redout_71728;
                        defunc_2_reduce_res_70830 = redout_71729;
                        defunc_2_reduce_res_70831 = redout_71730;
                        defunc_2_reduce_res_70832 = redout_71731;
                        
                        float x_70869 = defunc_2_reduce_res_70830 *
                              defunc_2_reduce_res_70832;
                        float y_70870 = defunc_2_reduce_res_70831 *
                              defunc_2_reduce_res_70831;
                        float a12_70871 = x_70869 - y_70870;
                        float x_70872 = defunc_2_reduce_res_70830 *
                              defunc_2_reduce_res_70831;
                        float y_70873 = defunc_2_reduce_res_70829 *
                              defunc_2_reduce_res_70832;
                        float b12_70874 = x_70872 - y_70873;
                        float x_70875 = defunc_2_reduce_res_70829 *
                              defunc_2_reduce_res_70831;
                        float y_70876 = defunc_2_reduce_res_70830 *
                              defunc_2_reduce_res_70830;
                        float c12_70877 = x_70875 - y_70876;
                        float x_70878 = defunc_2_reduce_res_70828 *
                              defunc_2_reduce_res_70832;
                        float b2_70879 = x_70878 - y_70876;
                        float x_70880 = defunc_2_reduce_res_70829 *
                              defunc_2_reduce_res_70830;
                        float y_70881 = defunc_2_reduce_res_70828 *
                              defunc_2_reduce_res_70831;
                        float c2_70882 = x_70880 - y_70881;
                        float x_70883 = defunc_2_reduce_res_70828 * a12_70871;
                        float y_70884 = defunc_2_reduce_res_70829 * b12_70874;
                        float x_70885 = x_70883 + y_70884;
                        float y_70886 = defunc_2_reduce_res_70830 * c12_70877;
                        float y_70887 = x_70885 + y_70886;
                        float det_70888 = 1.0F / y_70887;
                        float a12_70889 = a12_70871 * det_70888;
                        float b12_70890 = b12_70874 * det_70888;
                        float c12_70891 = c12_70877 * det_70888;
                        float b2_70892 = b2_70879 * det_70888;
                        float c2_70893 = c2_70882 * det_70888;
                        float defunc_2_reduce_res_70894;
                        float defunc_2_reduce_res_70895;
                        float redout_71733;
                        float redout_71734;
                        
                        redout_71733 = 0.0F;
                        redout_71734 = 0.0F;
                        for (int64_t i_71735 = 0; i_71735 < q_70282;
                             i_71735++) {
                            float x_70903 = ((float *) mem_72408)[i_71735];
                            bool cond_70904 = sle64(last_res_70713, i_71735);
                            int64_t defunc_0_f_res_70905;
                            
                            if (cond_70904) {
                                defunc_0_f_res_70905 = (int64_t) 0;
                            } else {
                                int64_t i_70906 = add64(max_res_70808, i_71735);
                                int64_t defunc_0_add_arg_70907 =
                                        ((int64_t *) mem_72366)[i_70906];
                                int64_t defunc_1_add_res_70908 =
                                        add64((int64_t) 1,
                                              defunc_0_add_arg_70907);
                                
                                defunc_0_f_res_70905 = defunc_1_add_res_70908;
                            }
                            
                            int64_t binop_p_70909 = sub64(defunc_0_f_res_70905,
                                                          min_res_70743);
                            float defunc_0_f_res_70910 =
                                  sitofp_i64_f32(binop_p_70909);
                            float abs_res_70911 =
                                  (float) fabs(defunc_0_f_res_70910);
                            float tmp1_70912 = abs_res_70911 /
                                  defunc_1_f_res_70827;
                            float x_70913 = tmp1_70912 * tmp1_70912;
                            float y_70914 = tmp1_70912 * x_70913;
                            float tmp2_70915 = 1.0F - y_70914;
                            float x_70916 = tmp2_70915 * tmp2_70915;
                            float tmp3_70917 = tmp2_70915 * x_70916;
                            float tmp4_70918 = x_70903 * tmp3_70917;
                            float defunc_1_f_res_70919 = defunc_0_f_res_70910 *
                                  tmp4_70918;
                            float defunc_1_f_res_70920 = defunc_0_f_res_70910 *
                                  defunc_1_f_res_70919;
                            float defunc_0_f_res_70921;
                            
                            if (cond_70904) {
                                defunc_0_f_res_70921 = 0.0F;
                            } else {
                                int64_t i_70922 = add64(max_res_70808, i_71735);
                                float defunc_0_add_arg_70923 =
                                      ((float *) mem_72363)[i_70922];
                                
                                defunc_0_f_res_70921 = defunc_0_add_arg_70923;
                            }
                            
                            float x_70924 = a12_70889 * tmp4_70918;
                            float y_70925 = b12_70890 * defunc_1_f_res_70919;
                            float x_70926 = x_70924 + y_70925;
                            float y_70927 = c12_70891 * defunc_1_f_res_70920;
                            float x_70928 = x_70926 + y_70927;
                            float defunc_9_fit_fun_res_70929 =
                                  defunc_0_f_res_70921 * x_70928;
                            float x_70930 = b12_70890 * tmp4_70918;
                            float y_70931 = b2_70892 * defunc_1_f_res_70919;
                            float x_70932 = x_70930 + y_70931;
                            float y_70933 = c2_70893 * defunc_1_f_res_70920;
                            float x_70934 = x_70932 + y_70933;
                            float defunc_9_slope_fun_res_70935 =
                                  defunc_0_f_res_70921 * x_70934;
                            float defunc_1_op_res_70898 =
                                  defunc_9_fit_fun_res_70929 + redout_71733;
                            float defunc_1_op_res_70901 =
                                  defunc_9_slope_fun_res_70935 + redout_71734;
                            float redout_tmp_73295 = defunc_1_op_res_70898;
                            float redout_tmp_73296 = defunc_1_op_res_70901;
                            
                            redout_71733 = redout_tmp_73295;
                            redout_71734 = redout_tmp_73296;
                        }
                        defunc_2_reduce_res_70894 = redout_71733;
                        defunc_2_reduce_res_70895 = redout_71734;
                        ((float *) mem_72321.mem)[i_71747 * n_m_70288 +
                                                  i_71740] =
                            defunc_2_reduce_res_70894;
                        ((float *) mem_72325.mem)[i_71747 * n_m_70288 +
                                                  i_71740] =
                            defunc_2_reduce_res_70895;
                    }
                }
                if (memblock_set(ctx, &ext_mem_72489, &mem_72321,
                                 "mem_72321") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_72481, &mem_72325,
                                 "mem_72325") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72325, "mem_72325") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72321, "mem_72321") != 0)
                    return 1;
            }
            if (memblock_set(ctx, &ext_mem_72505, &ext_mem_72489,
                             "ext_mem_72489") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_72497, &ext_mem_72481,
                             "ext_mem_72481") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_72481, "ext_mem_72481") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_72489, "ext_mem_72489") != 0)
                return 1;
        }
        if (memblock_set(ctx, &ext_mem_73107, &ext_mem_72505,
                         "ext_mem_72505") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_73099, &ext_mem_72497,
                         "ext_mem_72497") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_72497, "ext_mem_72497") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_72505, "ext_mem_72505") != 0)
            return 1;
    } else {
        bool match_lit_70938 = (int64_t) 0 == degree_70283;
        int64_t binop_x_72513 = m_70279 * n_m_70288;
        int64_t binop_y_72514 = (int64_t) 4 * binop_x_72513;
        int64_t bytes_72515 = smax64((int64_t) 0, binop_y_72514);
        int64_t binop_y_72531 = (int64_t) 8 * n_70280;
        int64_t bytes_72532 = smax64((int64_t) 0, binop_y_72531);
        int64_t binop_y_72546 = (int64_t) 4 * n_70280;
        int64_t bytes_72547 = smax64((int64_t) 0, binop_y_72546);
        int64_t binop_y_72591 = (int64_t) 4 * q_70282;
        int64_t bytes_72592 = smax64((int64_t) 0, binop_y_72591);
        struct memblock ext_mem_73091;
        
        ext_mem_73091.references = NULL;
        
        struct memblock ext_mem_73083;
        
        ext_mem_73083.references = NULL;
        if (match_lit_70938) {
            struct memblock mem_72516;
            
            mem_72516.references = NULL;
            if (memblock_alloc(ctx, &mem_72516, bytes_72515, "mem_72516")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_73297 = 0; i_73297 < m_70279; i_73297++) {
                for (int64_t i_73298 = 0; i_73298 < n_m_70288; i_73298++) {
                    ((float *) mem_72516.mem)[i_73297 * n_m_70288 + i_73298] =
                        0.0F;
                }
            }
            
            struct memblock mem_72520;
            
            mem_72520.references = NULL;
            if (memblock_alloc(ctx, &mem_72520, bytes_72515, "mem_72520")) {
                err = 1;
                goto cleanup;
            }
            if (mem_72533_cached_sizze_73393 < (size_t) bytes_72532) {
                mem_72533 = realloc(mem_72533, bytes_72532);
                mem_72533_cached_sizze_73393 = bytes_72532;
            }
            if (mem_72548_cached_sizze_73394 < (size_t) bytes_72547) {
                mem_72548 = realloc(mem_72548, bytes_72547);
                mem_72548_cached_sizze_73394 = bytes_72547;
            }
            if (mem_72551_cached_sizze_73395 < (size_t) bytes_72532) {
                mem_72551 = realloc(mem_72551, bytes_72532);
                mem_72551_cached_sizze_73395 = bytes_72532;
            }
            if (mem_72578_cached_sizze_73396 < (size_t) bytes_72532) {
                mem_72578 = realloc(mem_72578, bytes_72532);
                mem_72578_cached_sizze_73396 = bytes_72532;
            }
            if (mem_72593_cached_sizze_73397 < (size_t) bytes_72592) {
                mem_72593 = realloc(mem_72593, bytes_72592);
                mem_72593_cached_sizze_73397 = bytes_72592;
            }
            if (mem_72619_cached_sizze_73398 < (size_t) bytes_72592) {
                mem_72619 = realloc(mem_72619, bytes_72592);
                mem_72619_cached_sizze_73398 = bytes_72592;
            }
            for (int64_t i_71785 = 0; i_71785 < m_70279; i_71785++) {
                int64_t discard_71755;
                int64_t scanacc_71751 = (int64_t) 0;
                
                for (int64_t i_71753 = 0; i_71753 < n_70280; i_71753++) {
                    float x_70949 = ((float *) Y_mem_72031.mem)[i_71785 *
                                                                n_70280 +
                                                                i_71753];
                    bool isnan_res_70950;
                    
                    isnan_res_70950 = futrts_isnan32(x_70949);
                    
                    bool defunc_0_p_res_70951 = !isnan_res_70950;
                    int64_t defunc_0_f_res_70952 =
                            btoi_bool_i64(defunc_0_p_res_70951);
                    int64_t defunc_1_op_res_70948 = add64(defunc_0_f_res_70952,
                                                          scanacc_71751);
                    
                    ((int64_t *) mem_72533)[i_71753] = defunc_1_op_res_70948;
                    
                    int64_t scanacc_tmp_73300 = defunc_1_op_res_70948;
                    
                    scanacc_71751 = scanacc_tmp_73300;
                }
                discard_71755 = scanacc_71751;
                
                int64_t last_res_70953 = ((int64_t *) mem_72533)[i_70294];
                
                for (int64_t i_73302 = 0; i_73302 < n_70280; i_73302++) {
                    ((float *) mem_72548)[i_73302] = 0.0F;
                }
                for (int64_t i_73303 = 0; i_73303 < n_70280; i_73303++) {
                    ((int64_t *) mem_72551)[i_73303] = (int64_t) -1;
                }
                for (int64_t write_iter_71756 = 0; write_iter_71756 < n_70280;
                     write_iter_71756++) {
                    float write_iv_71759 = ((float *) Y_mem_72031.mem)[i_71785 *
                                                                       n_70280 +
                                                                       write_iter_71756];
                    int64_t write_iv_71760 =
                            ((int64_t *) mem_72533)[write_iter_71756];
                    bool isnan_res_70961;
                    
                    isnan_res_70961 = futrts_isnan32(write_iv_71759);
                    
                    bool defunc_0_p_res_70962 = !isnan_res_70961;
                    int64_t defunc_1_f_res_70963;
                    
                    if (defunc_0_p_res_70962) {
                        int64_t defunc_1_f_res_t_res_70964 =
                                sub64(write_iv_71760, (int64_t) 1);
                        
                        defunc_1_f_res_70963 = defunc_1_f_res_t_res_70964;
                    } else {
                        defunc_1_f_res_70963 = (int64_t) -1;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_70963) &&
                        slt64(defunc_1_f_res_70963, n_70280)) {
                        ((int64_t *) mem_72551)[defunc_1_f_res_70963] =
                            write_iter_71756;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_70963) &&
                        slt64(defunc_1_f_res_70963, n_70280)) {
                        if ((int64_t) 4 > 0)
                            memmove(mem_72548 + defunc_1_f_res_70963 *
                                    (int64_t) 4, Y_mem_72031.mem + (i_71785 *
                                                                    n_70280 +
                                                                    write_iter_71756) *
                                    (int64_t) 4, (int64_t) 4);
                    }
                }
                for (int64_t i_71766 = 0; i_71766 < n_70280; i_71766++) {
                    int64_t x_70966 = ((int64_t *) mem_72551)[i_71766];
                    int64_t defunc_0_f_res_70967 = add64((int64_t) 1, x_70966);
                    
                    ((int64_t *) mem_72578)[i_71766] = defunc_0_f_res_70967;
                }
                
                int64_t min_arg_70968 = sub64(last_res_70953, (int64_t) 1);
                int64_t min_arg_70969 = sub64(last_res_70953, min_res_70300);
                int64_t min_res_70970 = smin64(q_70282, last_res_70953);
                float i64_res_70971 = sitofp_i64_f32(last_res_70953);
                float x_70972 = i64_res_70306 - i64_res_70971;
                float max_arg_70973 = x_70972 / 2.0F;
                float max_res_70974 = fmax32(0.0F, max_arg_70973);
                
                for (int64_t i_71770 = 0; i_71770 < q_70282; i_71770++) {
                    bool cond_70977 = sle64(last_res_70953, i_71770);
                    float defunc_0_f_res_70978;
                    
                    if (cond_70977) {
                        defunc_0_f_res_70978 = 0.0F;
                    } else {
                        defunc_0_f_res_70978 = 1.0F;
                    }
                    ((float *) mem_72593)[i_71770] = defunc_0_f_res_70978;
                }
                for (int64_t i_71781 = 0; i_71781 < n_m_70288; i_71781++) {
                    int64_t min_arg_70981 = mul64(jump_70284, i_71781);
                    int64_t min_res_70982 = smin64(i_70294, min_arg_70981);
                    int64_t defunc_0_g_res_70983 = add64((int64_t) 1,
                                                         min_res_70982);
                    bool init_idx_70984;
                    int64_t init_idx_70985;
                    int64_t init_idx_70986;
                    bool loop_while_70987;
                    int64_t low_70988;
                    int64_t high_70989;
                    
                    loop_while_70987 = x_70295;
                    low_70988 = (int64_t) 0;
                    high_70989 = i_70294;
                    while (loop_while_70987) {
                        int64_t x_70990 = add64(low_70988, high_70989);
                        int64_t mid_70991 = sdiv64(x_70990, (int64_t) 2);
                        bool x_70992 = sle64((int64_t) 0, mid_70991);
                        bool y_70993 = slt64(mid_70991, n_70280);
                        bool bounds_check_70994 = x_70992 && y_70993;
                        bool index_certs_70995;
                        
                        if (!bounds_check_70994) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) mid_70991,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72520, "mem_72520") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72516, "mem_72516") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73083,
                                               "ext_mem_73083") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73091,
                                               "ext_mem_73091") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t mid_id_70996 =
                                ((int64_t *) mem_72578)[mid_70991];
                        bool cond_70997 = slt64(mid_id_70996, (int64_t) 0);
                        int64_t mid_idx_70998;
                        
                        if (cond_70997) {
                            mid_idx_70998 = (int64_t) 9223372036854775807;
                        } else {
                            mid_idx_70998 = mid_id_70996;
                        }
                        
                        bool cond_70999 = sle64(defunc_0_g_res_70983,
                                                mid_idx_70998);
                        int64_t loopres_71000;
                        int64_t loopres_71001;
                        
                        if (cond_70999) {
                            int64_t loopres_t_res_71002 = sub64(mid_70991,
                                                                (int64_t) 1);
                            
                            loopres_71000 = low_70988;
                            loopres_71001 = loopres_t_res_71002;
                        } else {
                            int64_t loopres_f_res_71003 = add64((int64_t) 1,
                                                                mid_70991);
                            
                            loopres_71000 = loopres_f_res_71003;
                            loopres_71001 = high_70989;
                        }
                        
                        bool loop_cond_71004 = sle64(loopres_71000,
                                                     loopres_71001);
                        bool loop_while_tmp_73309 = loop_cond_71004;
                        int64_t low_tmp_73310 = loopres_71000;
                        int64_t high_tmp_73311 = loopres_71001;
                        
                        loop_while_70987 = loop_while_tmp_73309;
                        low_70988 = low_tmp_73310;
                        high_70989 = high_tmp_73311;
                    }
                    init_idx_70984 = loop_while_70987;
                    init_idx_70985 = low_70988;
                    init_idx_70986 = high_70989;
                    
                    bool idx_71005;
                    int64_t idx_71006;
                    int64_t idx_71007;
                    int64_t idx_71008;
                    bool loop_while_71009;
                    int64_t l_idx_71010;
                    int64_t r_idx_71011;
                    int64_t span_71012;
                    
                    loop_while_71009 = loop_cond_70305;
                    l_idx_71010 = init_idx_70985;
                    r_idx_71011 = init_idx_70985;
                    span_71012 = (int64_t) 1;
                    while (loop_while_71009) {
                        int64_t max_arg_71013 = sub64(l_idx_71010, (int64_t) 1);
                        int64_t max_res_71014 = smax64((int64_t) 0,
                                                       max_arg_71013);
                        int64_t min_arg_71015 = add64((int64_t) 1, r_idx_71011);
                        int64_t min_res_71016 = smin64(min_arg_70968,
                                                       min_arg_71015);
                        bool x_71017 = sle64((int64_t) 0, max_res_71014);
                        bool y_71018 = slt64(max_res_71014, n_70280);
                        bool bounds_check_71019 = x_71017 && y_71018;
                        bool index_certs_71020;
                        
                        if (!bounds_check_71019) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_71014,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72520, "mem_72520") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72516, "mem_72516") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73083,
                                               "ext_mem_73083") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73091,
                                               "ext_mem_73091") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_71021 =
                                ((int64_t *) mem_72578)[max_res_71014];
                        int64_t abs_arg_71022 = sub64(x_71021,
                                                      defunc_0_g_res_70983);
                        int64_t abs_res_71023 = abs64(abs_arg_71022);
                        bool x_71024 = sle64((int64_t) 0, min_res_71016);
                        bool y_71025 = slt64(min_res_71016, n_70280);
                        bool bounds_check_71026 = x_71024 && y_71025;
                        bool index_certs_71027;
                        
                        if (!bounds_check_71026) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) min_res_71016,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72520, "mem_72520") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72516, "mem_72516") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73083,
                                               "ext_mem_73083") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73091,
                                               "ext_mem_73091") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_71028 =
                                ((int64_t *) mem_72578)[min_res_71016];
                        int64_t abs_arg_71029 = sub64(x_71028,
                                                      defunc_0_g_res_70983);
                        int64_t abs_res_71030 = abs64(abs_arg_71029);
                        bool cond_71031 = max_res_71014 == l_idx_71010;
                        int64_t loopres_71032;
                        int64_t loopres_71033;
                        int64_t loopres_71034;
                        
                        if (cond_71031) {
                            loopres_71032 = l_idx_71010;
                            loopres_71033 = r_idx_71011;
                            loopres_71034 = min_res_70300;
                        } else {
                            bool cond_71035 = slt64(abs_res_71023,
                                                    abs_res_71030);
                            bool cond_f_res_71036 = min_res_71016 ==
                                 r_idx_71011;
                            bool x_71037 = !cond_71035;
                            bool y_71038 = cond_f_res_71036 && x_71037;
                            bool cond_71039 = cond_71035 || y_71038;
                            int64_t loopres_f_res_71040;
                            
                            if (cond_71039) {
                                loopres_f_res_71040 = max_res_71014;
                            } else {
                                loopres_f_res_71040 = l_idx_71010;
                            }
                            
                            int64_t loopres_f_res_71041;
                            
                            if (cond_71039) {
                                loopres_f_res_71041 = r_idx_71011;
                            } else {
                                loopres_f_res_71041 = min_res_71016;
                            }
                            
                            int64_t loopres_f_res_71042;
                            
                            if (cond_71039) {
                                int64_t loopres_f_res_t_res_71043 =
                                        add64((int64_t) 1, span_71012);
                                
                                loopres_f_res_71042 = loopres_f_res_t_res_71043;
                            } else {
                                int64_t loopres_f_res_f_res_71044 =
                                        add64((int64_t) 1, span_71012);
                                
                                loopres_f_res_71042 = loopres_f_res_f_res_71044;
                            }
                            loopres_71032 = loopres_f_res_71040;
                            loopres_71033 = loopres_f_res_71041;
                            loopres_71034 = loopres_f_res_71042;
                        }
                        
                        bool loop_cond_71045 = slt64(loopres_71034,
                                                     min_res_70300);
                        bool loop_while_tmp_73312 = loop_cond_71045;
                        int64_t l_idx_tmp_73313 = loopres_71032;
                        int64_t r_idx_tmp_73314 = loopres_71033;
                        int64_t span_tmp_73315 = loopres_71034;
                        
                        loop_while_71009 = loop_while_tmp_73312;
                        l_idx_71010 = l_idx_tmp_73313;
                        r_idx_71011 = r_idx_tmp_73314;
                        span_71012 = span_tmp_73315;
                    }
                    idx_71005 = loop_while_71009;
                    idx_71006 = l_idx_71010;
                    idx_71007 = r_idx_71011;
                    idx_71008 = span_71012;
                    
                    int64_t min_res_71046 = smin64(min_arg_70969, idx_71006);
                    int64_t max_res_71047 = smax64((int64_t) 0, min_res_71046);
                    int64_t x_71048 = add64(min_res_70970, max_res_71047);
                    int64_t r_71049 = sub64(x_71048, (int64_t) 1);
                    bool x_71050 = sle64((int64_t) 0, r_71049);
                    bool y_71051 = slt64(r_71049, n_70280);
                    bool bounds_check_71052 = x_71050 && y_71051;
                    bool index_certs_71053;
                    
                    if (!bounds_check_71052) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) r_71049,
                                      "] out of bounds for array of shape [",
                                      (long long) n_70280, "].",
                                      "-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:16-51\n   #5  loess.fut:589:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:588:5-590:26\n   #9  loess.fut:572:1-611:26\n");
                        if (memblock_unref(ctx, &mem_72520, "mem_72520") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_72516, "mem_72516") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73083,
                                           "ext_mem_73083") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73091,
                                           "ext_mem_73091") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73099,
                                           "ext_mem_73099") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73107,
                                           "ext_mem_73107") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_73225,
                                           "mem_out_73225") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_71054 = ((int64_t *) mem_72551)[r_71049];
                    int64_t abs_arg_71055 = sub64(x_71054, min_res_70982);
                    int64_t abs_res_71056 = abs64(abs_arg_71055);
                    bool x_71057 = sle64((int64_t) 0, max_res_71047);
                    bool y_71058 = slt64(max_res_71047, n_70280);
                    bool bounds_check_71059 = x_71057 && y_71058;
                    bool index_certs_71060;
                    
                    if (!bounds_check_71059) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) max_res_71047,
                                      "] out of bounds for array of shape [",
                                      (long long) n_70280, "].",
                                      "-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:16-51\n   #5  loess.fut:589:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:588:5-590:26\n   #9  loess.fut:572:1-611:26\n");
                        if (memblock_unref(ctx, &mem_72520, "mem_72520") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_72516, "mem_72516") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73083,
                                           "ext_mem_73083") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73091,
                                           "ext_mem_73091") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73099,
                                           "ext_mem_73099") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73107,
                                           "ext_mem_73107") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_73225,
                                           "mem_out_73225") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_71061 = ((int64_t *) mem_72551)[max_res_71047];
                    int64_t abs_arg_71062 = sub64(x_71061, min_res_70982);
                    int64_t abs_res_71063 = abs64(abs_arg_71062);
                    int64_t max_res_71064 = smax64(abs_res_71056,
                                                   abs_res_71063);
                    float defunc_0_f_res_71065 = sitofp_i64_f32(max_res_71064);
                    float defunc_1_f_res_71066 = max_res_70974 +
                          defunc_0_f_res_71065;
                    float defunc_2_reduce_res_71067;
                    float redout_71773 = 0.0F;
                    
                    for (int64_t i_71775 = 0; i_71775 < q_70282; i_71775++) {
                        float x_71073 = ((float *) mem_72593)[i_71775];
                        bool cond_71074 = sle64(last_res_70953, i_71775);
                        int64_t defunc_0_f_res_71075;
                        
                        if (cond_71074) {
                            defunc_0_f_res_71075 = (int64_t) 0;
                        } else {
                            int64_t i_71076 = add64(max_res_71047, i_71775);
                            int64_t defunc_0_add_arg_71077 =
                                    ((int64_t *) mem_72551)[i_71076];
                            int64_t defunc_1_add_res_71078 = add64((int64_t) 1,
                                                                   defunc_0_add_arg_71077);
                            
                            defunc_0_f_res_71075 = defunc_1_add_res_71078;
                        }
                        
                        int64_t binop_p_71079 = sub64(defunc_0_f_res_71075,
                                                      min_res_70982);
                        float defunc_0_f_res_71080 =
                              sitofp_i64_f32(binop_p_71079);
                        float abs_res_71081 =
                              (float) fabs(defunc_0_f_res_71080);
                        float tmp1_71082 = abs_res_71081 / defunc_1_f_res_71066;
                        float x_71083 = tmp1_71082 * tmp1_71082;
                        float y_71084 = tmp1_71082 * x_71083;
                        float tmp2_71085 = 1.0F - y_71084;
                        float x_71086 = tmp2_71085 * tmp2_71085;
                        float tmp3_71087 = tmp2_71085 * x_71086;
                        float tmp4_71088 = x_71073 * tmp3_71087;
                        float defunc_1_op_res_71071 = tmp4_71088 + redout_71773;
                        
                        ((float *) mem_72619)[i_71775] = tmp4_71088;
                        
                        float redout_tmp_73316 = defunc_1_op_res_71071;
                        
                        redout_71773 = redout_tmp_73316;
                    }
                    defunc_2_reduce_res_71067 = redout_71773;
                    
                    float a0_71089 = 1.0F / defunc_2_reduce_res_71067;
                    float defunc_2_reduce_res_71090;
                    float redout_71777 = 0.0F;
                    
                    for (int64_t i_71778 = 0; i_71778 < q_70282; i_71778++) {
                        float x_71095 = ((float *) mem_72619)[i_71778];
                        bool cond_71096 = sle64(last_res_70953, i_71778);
                        float defunc_0_f_res_71097;
                        
                        if (cond_71096) {
                            defunc_0_f_res_71097 = 0.0F;
                        } else {
                            int64_t i_71098 = add64(max_res_71047, i_71778);
                            float defunc_0_add_arg_71099 =
                                  ((float *) mem_72548)[i_71098];
                            
                            defunc_0_f_res_71097 = defunc_0_add_arg_71099;
                        }
                        
                        float x_71100 = a0_71089 * x_71095;
                        float defunc_9_fit_fun_res_71101 =
                              defunc_0_f_res_71097 * x_71100;
                        float defunc_1_op_res_71093 =
                              defunc_9_fit_fun_res_71101 + redout_71777;
                        float redout_tmp_73318 = defunc_1_op_res_71093;
                        
                        redout_71777 = redout_tmp_73318;
                    }
                    defunc_2_reduce_res_71090 = redout_71777;
                    ((float *) mem_72520.mem)[i_71785 * n_m_70288 + i_71781] =
                        defunc_2_reduce_res_71090;
                }
            }
            if (memblock_set(ctx, &ext_mem_73091, &mem_72520, "mem_72520") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_73083, &mem_72516, "mem_72516") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_72520, "mem_72520") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_72516, "mem_72516") != 0)
                return 1;
        } else {
            bool match_lit_71104 = (int64_t) 1 == degree_70283;
            int64_t binop_x_72651 = m_70279 * n_m_70288;
            int64_t binop_y_72652 = (int64_t) 4 * binop_x_72651;
            int64_t bytes_72653 = smax64((int64_t) 0, binop_y_72652);
            int64_t binop_y_72679 = (int64_t) 8 * n_70280;
            int64_t bytes_72680 = smax64((int64_t) 0, binop_y_72679);
            int64_t binop_y_72694 = (int64_t) 4 * n_70280;
            int64_t bytes_72695 = smax64((int64_t) 0, binop_y_72694);
            int64_t binop_y_72739 = (int64_t) 4 * q_70282;
            int64_t bytes_72740 = smax64((int64_t) 0, binop_y_72739);
            int64_t binop_x_72844 = m_70279 * n_m_70288;
            int64_t binop_y_72845 = (int64_t) 4 * binop_x_72844;
            int64_t bytes_72846 = smax64((int64_t) 0, binop_y_72845);
            int64_t binop_y_72872 = (int64_t) 8 * n_70280;
            int64_t bytes_72873 = smax64((int64_t) 0, binop_y_72872);
            int64_t binop_y_72887 = (int64_t) 4 * n_70280;
            int64_t bytes_72888 = smax64((int64_t) 0, binop_y_72887);
            int64_t binop_y_72932 = (int64_t) 4 * q_70282;
            int64_t bytes_72933 = smax64((int64_t) 0, binop_y_72932);
            struct memblock ext_mem_73075;
            
            ext_mem_73075.references = NULL;
            
            struct memblock ext_mem_73067;
            
            ext_mem_73067.references = NULL;
            if (match_lit_71104) {
                struct memblock mem_72654;
                
                mem_72654.references = NULL;
                if (memblock_alloc(ctx, &mem_72654, bytes_72653, "mem_72654")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_72658;
                
                mem_72658.references = NULL;
                if (memblock_alloc(ctx, &mem_72658, bytes_72653, "mem_72658")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_72681_cached_sizze_73399 < (size_t) bytes_72680) {
                    mem_72681 = realloc(mem_72681, bytes_72680);
                    mem_72681_cached_sizze_73399 = bytes_72680;
                }
                if (mem_72696_cached_sizze_73400 < (size_t) bytes_72695) {
                    mem_72696 = realloc(mem_72696, bytes_72695);
                    mem_72696_cached_sizze_73400 = bytes_72695;
                }
                if (mem_72699_cached_sizze_73401 < (size_t) bytes_72680) {
                    mem_72699 = realloc(mem_72699, bytes_72680);
                    mem_72699_cached_sizze_73401 = bytes_72680;
                }
                if (mem_72726_cached_sizze_73402 < (size_t) bytes_72680) {
                    mem_72726 = realloc(mem_72726, bytes_72680);
                    mem_72726_cached_sizze_73402 = bytes_72680;
                }
                if (mem_72741_cached_sizze_73403 < (size_t) bytes_72740) {
                    mem_72741 = realloc(mem_72741, bytes_72740);
                    mem_72741_cached_sizze_73403 = bytes_72740;
                }
                if (mem_72778_cached_sizze_73404 < (size_t) bytes_72740) {
                    mem_72778 = realloc(mem_72778, bytes_72740);
                    mem_72778_cached_sizze_73404 = bytes_72740;
                }
                if (mem_72781_cached_sizze_73405 < (size_t) bytes_72740) {
                    mem_72781 = realloc(mem_72781, bytes_72740);
                    mem_72781_cached_sizze_73405 = bytes_72740;
                }
                for (int64_t i_71833 = 0; i_71833 < m_70279; i_71833++) {
                    int64_t discard_71792;
                    int64_t scanacc_71788 = (int64_t) 0;
                    
                    for (int64_t i_71790 = 0; i_71790 < n_70280; i_71790++) {
                        float x_71115 = ((float *) Y_mem_72031.mem)[i_71833 *
                                                                    n_70280 +
                                                                    i_71790];
                        bool isnan_res_71116;
                        
                        isnan_res_71116 = futrts_isnan32(x_71115);
                        
                        bool defunc_0_p_res_71117 = !isnan_res_71116;
                        int64_t defunc_0_f_res_71118 =
                                btoi_bool_i64(defunc_0_p_res_71117);
                        int64_t defunc_1_op_res_71114 =
                                add64(defunc_0_f_res_71118, scanacc_71788);
                        
                        ((int64_t *) mem_72681)[i_71790] =
                            defunc_1_op_res_71114;
                        
                        int64_t scanacc_tmp_73321 = defunc_1_op_res_71114;
                        
                        scanacc_71788 = scanacc_tmp_73321;
                    }
                    discard_71792 = scanacc_71788;
                    
                    int64_t last_res_71119 = ((int64_t *) mem_72681)[i_70294];
                    
                    for (int64_t i_73323 = 0; i_73323 < n_70280; i_73323++) {
                        ((float *) mem_72696)[i_73323] = 0.0F;
                    }
                    for (int64_t i_73324 = 0; i_73324 < n_70280; i_73324++) {
                        ((int64_t *) mem_72699)[i_73324] = (int64_t) -1;
                    }
                    for (int64_t write_iter_71793 = 0; write_iter_71793 <
                         n_70280; write_iter_71793++) {
                        float write_iv_71796 =
                              ((float *) Y_mem_72031.mem)[i_71833 * n_70280 +
                                                          write_iter_71793];
                        int64_t write_iv_71797 =
                                ((int64_t *) mem_72681)[write_iter_71793];
                        bool isnan_res_71127;
                        
                        isnan_res_71127 = futrts_isnan32(write_iv_71796);
                        
                        bool defunc_0_p_res_71128 = !isnan_res_71127;
                        int64_t defunc_1_f_res_71129;
                        
                        if (defunc_0_p_res_71128) {
                            int64_t defunc_1_f_res_t_res_71130 =
                                    sub64(write_iv_71797, (int64_t) 1);
                            
                            defunc_1_f_res_71129 = defunc_1_f_res_t_res_71130;
                        } else {
                            defunc_1_f_res_71129 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_71129) &&
                            slt64(defunc_1_f_res_71129, n_70280)) {
                            ((int64_t *) mem_72699)[defunc_1_f_res_71129] =
                                write_iter_71793;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_71129) &&
                            slt64(defunc_1_f_res_71129, n_70280)) {
                            if ((int64_t) 4 > 0)
                                memmove(mem_72696 + defunc_1_f_res_71129 *
                                        (int64_t) 4, Y_mem_72031.mem +
                                        (i_71833 * n_70280 + write_iter_71793) *
                                        (int64_t) 4, (int64_t) 4);
                        }
                    }
                    for (int64_t i_71803 = 0; i_71803 < n_70280; i_71803++) {
                        int64_t x_71132 = ((int64_t *) mem_72699)[i_71803];
                        int64_t defunc_0_f_res_71133 = add64((int64_t) 1,
                                                             x_71132);
                        
                        ((int64_t *) mem_72726)[i_71803] = defunc_0_f_res_71133;
                    }
                    
                    int64_t min_arg_71134 = sub64(last_res_71119, (int64_t) 1);
                    int64_t min_arg_71135 = sub64(last_res_71119,
                                                  min_res_70300);
                    int64_t min_res_71136 = smin64(q_70282, last_res_71119);
                    float i64_res_71137 = sitofp_i64_f32(last_res_71119);
                    float x_71138 = i64_res_70306 - i64_res_71137;
                    float max_arg_71139 = x_71138 / 2.0F;
                    float max_res_71140 = fmax32(0.0F, max_arg_71139);
                    
                    for (int64_t i_71807 = 0; i_71807 < q_70282; i_71807++) {
                        bool cond_71143 = sle64(last_res_71119, i_71807);
                        float defunc_0_f_res_71144;
                        
                        if (cond_71143) {
                            defunc_0_f_res_71144 = 0.0F;
                        } else {
                            defunc_0_f_res_71144 = 1.0F;
                        }
                        ((float *) mem_72741)[i_71807] = defunc_0_f_res_71144;
                    }
                    for (int64_t i_71826 = 0; i_71826 < n_m_70288; i_71826++) {
                        int64_t min_arg_71148 = mul64(jump_70284, i_71826);
                        int64_t min_res_71149 = smin64(i_70294, min_arg_71148);
                        int64_t defunc_0_g_res_71150 = add64((int64_t) 1,
                                                             min_res_71149);
                        bool init_idx_71151;
                        int64_t init_idx_71152;
                        int64_t init_idx_71153;
                        bool loop_while_71154;
                        int64_t low_71155;
                        int64_t high_71156;
                        
                        loop_while_71154 = x_70295;
                        low_71155 = (int64_t) 0;
                        high_71156 = i_70294;
                        while (loop_while_71154) {
                            int64_t x_71157 = add64(low_71155, high_71156);
                            int64_t mid_71158 = sdiv64(x_71157, (int64_t) 2);
                            bool x_71159 = sle64((int64_t) 0, mid_71158);
                            bool y_71160 = slt64(mid_71158, n_70280);
                            bool bounds_check_71161 = x_71159 && y_71160;
                            bool index_certs_71162;
                            
                            if (!bounds_check_71161) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_71158,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70280, "].",
                                              "-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                                if (memblock_unref(ctx, &mem_72658,
                                                   "mem_72658") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72654,
                                                   "mem_72654") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73067,
                                                   "ext_mem_73067") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73075,
                                                   "ext_mem_73075") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73083,
                                                   "ext_mem_73083") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73091,
                                                   "ext_mem_73091") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73099,
                                                   "ext_mem_73099") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73107,
                                                   "ext_mem_73107") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73225,
                                                   "mem_out_73225") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_71163 =
                                    ((int64_t *) mem_72726)[mid_71158];
                            bool cond_71164 = slt64(mid_id_71163, (int64_t) 0);
                            int64_t mid_idx_71165;
                            
                            if (cond_71164) {
                                mid_idx_71165 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_71165 = mid_id_71163;
                            }
                            
                            bool cond_71166 = sle64(defunc_0_g_res_71150,
                                                    mid_idx_71165);
                            int64_t loopres_71167;
                            int64_t loopres_71168;
                            
                            if (cond_71166) {
                                int64_t loopres_t_res_71169 = sub64(mid_71158,
                                                                    (int64_t) 1);
                                
                                loopres_71167 = low_71155;
                                loopres_71168 = loopres_t_res_71169;
                            } else {
                                int64_t loopres_f_res_71170 = add64((int64_t) 1,
                                                                    mid_71158);
                                
                                loopres_71167 = loopres_f_res_71170;
                                loopres_71168 = high_71156;
                            }
                            
                            bool loop_cond_71171 = sle64(loopres_71167,
                                                         loopres_71168);
                            bool loop_while_tmp_73331 = loop_cond_71171;
                            int64_t low_tmp_73332 = loopres_71167;
                            int64_t high_tmp_73333 = loopres_71168;
                            
                            loop_while_71154 = loop_while_tmp_73331;
                            low_71155 = low_tmp_73332;
                            high_71156 = high_tmp_73333;
                        }
                        init_idx_71151 = loop_while_71154;
                        init_idx_71152 = low_71155;
                        init_idx_71153 = high_71156;
                        
                        bool idx_71172;
                        int64_t idx_71173;
                        int64_t idx_71174;
                        int64_t idx_71175;
                        bool loop_while_71176;
                        int64_t l_idx_71177;
                        int64_t r_idx_71178;
                        int64_t span_71179;
                        
                        loop_while_71176 = loop_cond_70305;
                        l_idx_71177 = init_idx_71152;
                        r_idx_71178 = init_idx_71152;
                        span_71179 = (int64_t) 1;
                        while (loop_while_71176) {
                            int64_t max_arg_71180 = sub64(l_idx_71177,
                                                          (int64_t) 1);
                            int64_t max_res_71181 = smax64((int64_t) 0,
                                                           max_arg_71180);
                            int64_t min_arg_71182 = add64((int64_t) 1,
                                                          r_idx_71178);
                            int64_t min_res_71183 = smin64(min_arg_71134,
                                                           min_arg_71182);
                            bool x_71184 = sle64((int64_t) 0, max_res_71181);
                            bool y_71185 = slt64(max_res_71181, n_70280);
                            bool bounds_check_71186 = x_71184 && y_71185;
                            bool index_certs_71187;
                            
                            if (!bounds_check_71186) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_71181,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70280, "].",
                                              "-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                                if (memblock_unref(ctx, &mem_72658,
                                                   "mem_72658") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72654,
                                                   "mem_72654") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73067,
                                                   "ext_mem_73067") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73075,
                                                   "ext_mem_73075") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73083,
                                                   "ext_mem_73083") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73091,
                                                   "ext_mem_73091") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73099,
                                                   "ext_mem_73099") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73107,
                                                   "ext_mem_73107") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73225,
                                                   "mem_out_73225") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_71188 =
                                    ((int64_t *) mem_72726)[max_res_71181];
                            int64_t abs_arg_71189 = sub64(x_71188,
                                                          defunc_0_g_res_71150);
                            int64_t abs_res_71190 = abs64(abs_arg_71189);
                            bool x_71191 = sle64((int64_t) 0, min_res_71183);
                            bool y_71192 = slt64(min_res_71183, n_70280);
                            bool bounds_check_71193 = x_71191 && y_71192;
                            bool index_certs_71194;
                            
                            if (!bounds_check_71193) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_71183,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70280, "].",
                                              "-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                                if (memblock_unref(ctx, &mem_72658,
                                                   "mem_72658") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72654,
                                                   "mem_72654") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73067,
                                                   "ext_mem_73067") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73075,
                                                   "ext_mem_73075") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73083,
                                                   "ext_mem_73083") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73091,
                                                   "ext_mem_73091") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73099,
                                                   "ext_mem_73099") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73107,
                                                   "ext_mem_73107") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73225,
                                                   "mem_out_73225") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_71195 =
                                    ((int64_t *) mem_72726)[min_res_71183];
                            int64_t abs_arg_71196 = sub64(x_71195,
                                                          defunc_0_g_res_71150);
                            int64_t abs_res_71197 = abs64(abs_arg_71196);
                            bool cond_71198 = max_res_71181 == l_idx_71177;
                            int64_t loopres_71199;
                            int64_t loopres_71200;
                            int64_t loopres_71201;
                            
                            if (cond_71198) {
                                loopres_71199 = l_idx_71177;
                                loopres_71200 = r_idx_71178;
                                loopres_71201 = min_res_70300;
                            } else {
                                bool cond_71202 = slt64(abs_res_71190,
                                                        abs_res_71197);
                                bool cond_f_res_71203 = min_res_71183 ==
                                     r_idx_71178;
                                bool x_71204 = !cond_71202;
                                bool y_71205 = cond_f_res_71203 && x_71204;
                                bool cond_71206 = cond_71202 || y_71205;
                                int64_t loopres_f_res_71207;
                                
                                if (cond_71206) {
                                    loopres_f_res_71207 = max_res_71181;
                                } else {
                                    loopres_f_res_71207 = l_idx_71177;
                                }
                                
                                int64_t loopres_f_res_71208;
                                
                                if (cond_71206) {
                                    loopres_f_res_71208 = r_idx_71178;
                                } else {
                                    loopres_f_res_71208 = min_res_71183;
                                }
                                
                                int64_t loopres_f_res_71209;
                                
                                if (cond_71206) {
                                    int64_t loopres_f_res_t_res_71210 =
                                            add64((int64_t) 1, span_71179);
                                    
                                    loopres_f_res_71209 =
                                        loopres_f_res_t_res_71210;
                                } else {
                                    int64_t loopres_f_res_f_res_71211 =
                                            add64((int64_t) 1, span_71179);
                                    
                                    loopres_f_res_71209 =
                                        loopres_f_res_f_res_71211;
                                }
                                loopres_71199 = loopres_f_res_71207;
                                loopres_71200 = loopres_f_res_71208;
                                loopres_71201 = loopres_f_res_71209;
                            }
                            
                            bool loop_cond_71212 = slt64(loopres_71201,
                                                         min_res_70300);
                            bool loop_while_tmp_73334 = loop_cond_71212;
                            int64_t l_idx_tmp_73335 = loopres_71199;
                            int64_t r_idx_tmp_73336 = loopres_71200;
                            int64_t span_tmp_73337 = loopres_71201;
                            
                            loop_while_71176 = loop_while_tmp_73334;
                            l_idx_71177 = l_idx_tmp_73335;
                            r_idx_71178 = r_idx_tmp_73336;
                            span_71179 = span_tmp_73337;
                        }
                        idx_71172 = loop_while_71176;
                        idx_71173 = l_idx_71177;
                        idx_71174 = r_idx_71178;
                        idx_71175 = span_71179;
                        
                        int64_t min_res_71213 = smin64(min_arg_71135,
                                                       idx_71173);
                        int64_t max_res_71214 = smax64((int64_t) 0,
                                                       min_res_71213);
                        int64_t x_71215 = add64(min_res_71136, max_res_71214);
                        int64_t r_71216 = sub64(x_71215, (int64_t) 1);
                        bool x_71217 = sle64((int64_t) 0, r_71216);
                        bool y_71218 = slt64(r_71216, n_70280);
                        bool bounds_check_71219 = x_71217 && y_71218;
                        bool index_certs_71220;
                        
                        if (!bounds_check_71219) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_71216,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:16-51\n   #5  loess.fut:589:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:588:5-590:26\n   #9  loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72658, "mem_72658") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72654, "mem_72654") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73067,
                                               "ext_mem_73067") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73075,
                                               "ext_mem_73075") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73083,
                                               "ext_mem_73083") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73091,
                                               "ext_mem_73091") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_71221 = ((int64_t *) mem_72699)[r_71216];
                        int64_t abs_arg_71222 = sub64(x_71221, min_res_71149);
                        int64_t abs_res_71223 = abs64(abs_arg_71222);
                        bool x_71224 = sle64((int64_t) 0, max_res_71214);
                        bool y_71225 = slt64(max_res_71214, n_70280);
                        bool bounds_check_71226 = x_71224 && y_71225;
                        bool index_certs_71227;
                        
                        if (!bounds_check_71226) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_71214,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:16-51\n   #5  loess.fut:589:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:588:5-590:26\n   #9  loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72658, "mem_72658") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72654, "mem_72654") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73067,
                                               "ext_mem_73067") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73075,
                                               "ext_mem_73075") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73083,
                                               "ext_mem_73083") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73091,
                                               "ext_mem_73091") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_71228 =
                                ((int64_t *) mem_72699)[max_res_71214];
                        int64_t abs_arg_71229 = sub64(x_71228, min_res_71149);
                        int64_t abs_res_71230 = abs64(abs_arg_71229);
                        int64_t max_res_71231 = smax64(abs_res_71223,
                                                       abs_res_71230);
                        float defunc_0_f_res_71232 =
                              sitofp_i64_f32(max_res_71231);
                        float defunc_1_f_res_71233 = max_res_71140 +
                              defunc_0_f_res_71232;
                        float defunc_2_reduce_res_71255;
                        float defunc_2_reduce_res_71256;
                        float defunc_2_reduce_res_71257;
                        float redout_71811;
                        float redout_71812;
                        float redout_71813;
                        
                        redout_71811 = 0.0F;
                        redout_71812 = 0.0F;
                        redout_71813 = 0.0F;
                        for (int64_t i_71816 = 0; i_71816 < q_70282;
                             i_71816++) {
                            float x_71270 = ((float *) mem_72741)[i_71816];
                            bool cond_71271 = sle64(last_res_71119, i_71816);
                            int64_t defunc_0_f_res_71272;
                            
                            if (cond_71271) {
                                defunc_0_f_res_71272 = (int64_t) 0;
                            } else {
                                int64_t i_71273 = add64(max_res_71214, i_71816);
                                int64_t defunc_0_add_arg_71274 =
                                        ((int64_t *) mem_72699)[i_71273];
                                int64_t defunc_1_add_res_71275 =
                                        add64((int64_t) 1,
                                              defunc_0_add_arg_71274);
                                
                                defunc_0_f_res_71272 = defunc_1_add_res_71275;
                            }
                            
                            int64_t binop_p_71276 = sub64(defunc_0_f_res_71272,
                                                          min_res_71149);
                            float defunc_0_f_res_71277 =
                                  sitofp_i64_f32(binop_p_71276);
                            float abs_res_71278 =
                                  (float) fabs(defunc_0_f_res_71277);
                            float tmp1_71279 = abs_res_71278 /
                                  defunc_1_f_res_71233;
                            float x_71280 = tmp1_71279 * tmp1_71279;
                            float y_71281 = tmp1_71279 * x_71280;
                            float tmp2_71282 = 1.0F - y_71281;
                            float x_71283 = tmp2_71282 * tmp2_71282;
                            float tmp3_71284 = tmp2_71282 * x_71283;
                            float tmp4_71285 = x_71270 * tmp3_71284;
                            float defunc_1_f_res_71286 = defunc_0_f_res_71277 *
                                  tmp4_71285;
                            float defunc_1_f_res_71287 = defunc_0_f_res_71277 *
                                  defunc_1_f_res_71286;
                            float defunc_1_op_res_71262 = tmp4_71285 +
                                  redout_71811;
                            float defunc_1_op_res_71265 = defunc_1_f_res_71286 +
                                  redout_71812;
                            float defunc_1_op_res_71268 = defunc_1_f_res_71287 +
                                  redout_71813;
                            
                            ((float *) mem_72778)[i_71816] =
                                defunc_1_f_res_71286;
                            ((float *) mem_72781)[i_71816] = tmp4_71285;
                            
                            float redout_tmp_73338 = defunc_1_op_res_71262;
                            float redout_tmp_73339 = defunc_1_op_res_71265;
                            float redout_tmp_73340 = defunc_1_op_res_71268;
                            
                            redout_71811 = redout_tmp_73338;
                            redout_71812 = redout_tmp_73339;
                            redout_71813 = redout_tmp_73340;
                        }
                        defunc_2_reduce_res_71255 = redout_71811;
                        defunc_2_reduce_res_71256 = redout_71812;
                        defunc_2_reduce_res_71257 = redout_71813;
                        
                        float x_71293 = defunc_2_reduce_res_71255 *
                              defunc_2_reduce_res_71257;
                        float y_71294 = defunc_2_reduce_res_71256 *
                              defunc_2_reduce_res_71256;
                        float y_71295 = x_71293 - y_71294;
                        float det1_71296 = 1.0F / y_71295;
                        float a11_71297 = defunc_2_reduce_res_71257 *
                              det1_71296;
                        float x_71298 = 0.0F - defunc_2_reduce_res_71256;
                        float b11_71299 = det1_71296 * x_71298;
                        float c11_71300 = defunc_2_reduce_res_71255 *
                              det1_71296;
                        float defunc_2_reduce_res_71301;
                        float defunc_2_reduce_res_71302;
                        float redout_71819;
                        float redout_71820;
                        
                        redout_71819 = 0.0F;
                        redout_71820 = 0.0F;
                        for (int64_t i_71821 = 0; i_71821 < q_70282;
                             i_71821++) {
                            float x_71310 = ((float *) mem_72781)[i_71821];
                            float x_71311 = ((float *) mem_72778)[i_71821];
                            bool cond_71312 = sle64(last_res_71119, i_71821);
                            float defunc_0_f_res_71313;
                            
                            if (cond_71312) {
                                defunc_0_f_res_71313 = 0.0F;
                            } else {
                                int64_t i_71314 = add64(max_res_71214, i_71821);
                                float defunc_0_add_arg_71315 =
                                      ((float *) mem_72696)[i_71314];
                                
                                defunc_0_f_res_71313 = defunc_0_add_arg_71315;
                            }
                            
                            float x_71316 = a11_71297 * x_71310;
                            float y_71317 = b11_71299 * x_71311;
                            float x_71318 = x_71316 + y_71317;
                            float defunc_9_fit_fun_res_71319 =
                                  defunc_0_f_res_71313 * x_71318;
                            float x_71320 = b11_71299 * x_71310;
                            float y_71321 = c11_71300 * x_71311;
                            float x_71322 = x_71320 + y_71321;
                            float defunc_9_slope_fun_res_71323 =
                                  defunc_0_f_res_71313 * x_71322;
                            float defunc_1_op_res_71305 =
                                  defunc_9_fit_fun_res_71319 + redout_71819;
                            float defunc_1_op_res_71308 =
                                  defunc_9_slope_fun_res_71323 + redout_71820;
                            float redout_tmp_73343 = defunc_1_op_res_71305;
                            float redout_tmp_73344 = defunc_1_op_res_71308;
                            
                            redout_71819 = redout_tmp_73343;
                            redout_71820 = redout_tmp_73344;
                        }
                        defunc_2_reduce_res_71301 = redout_71819;
                        defunc_2_reduce_res_71302 = redout_71820;
                        ((float *) mem_72654.mem)[i_71833 * n_m_70288 +
                                                  i_71826] =
                            defunc_2_reduce_res_71301;
                        ((float *) mem_72658.mem)[i_71833 * n_m_70288 +
                                                  i_71826] =
                            defunc_2_reduce_res_71302;
                    }
                }
                if (memblock_set(ctx, &ext_mem_73075, &mem_72654,
                                 "mem_72654") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_73067, &mem_72658,
                                 "mem_72658") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72658, "mem_72658") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72654, "mem_72654") != 0)
                    return 1;
            } else {
                struct memblock mem_72847;
                
                mem_72847.references = NULL;
                if (memblock_alloc(ctx, &mem_72847, bytes_72846, "mem_72847")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_72851;
                
                mem_72851.references = NULL;
                if (memblock_alloc(ctx, &mem_72851, bytes_72846, "mem_72851")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_72874_cached_sizze_73406 < (size_t) bytes_72873) {
                    mem_72874 = realloc(mem_72874, bytes_72873);
                    mem_72874_cached_sizze_73406 = bytes_72873;
                }
                if (mem_72889_cached_sizze_73407 < (size_t) bytes_72888) {
                    mem_72889 = realloc(mem_72889, bytes_72888);
                    mem_72889_cached_sizze_73407 = bytes_72888;
                }
                if (mem_72892_cached_sizze_73408 < (size_t) bytes_72873) {
                    mem_72892 = realloc(mem_72892, bytes_72873);
                    mem_72892_cached_sizze_73408 = bytes_72873;
                }
                if (mem_72919_cached_sizze_73409 < (size_t) bytes_72873) {
                    mem_72919 = realloc(mem_72919, bytes_72873);
                    mem_72919_cached_sizze_73409 = bytes_72873;
                }
                if (mem_72934_cached_sizze_73410 < (size_t) bytes_72933) {
                    mem_72934 = realloc(mem_72934, bytes_72933);
                    mem_72934_cached_sizze_73410 = bytes_72933;
                }
                if (mem_72971_cached_sizze_73411 < (size_t) bytes_72933) {
                    mem_72971 = realloc(mem_72971, bytes_72933);
                    mem_72971_cached_sizze_73411 = bytes_72933;
                }
                if (mem_72974_cached_sizze_73412 < (size_t) bytes_72933) {
                    mem_72974 = realloc(mem_72974, bytes_72933);
                    mem_72974_cached_sizze_73412 = bytes_72933;
                }
                if (mem_73001_cached_sizze_73413 < (size_t) bytes_72933) {
                    mem_73001 = realloc(mem_73001, bytes_72933);
                    mem_73001_cached_sizze_73413 = bytes_72933;
                }
                if (mem_73004_cached_sizze_73414 < (size_t) bytes_72933) {
                    mem_73004 = realloc(mem_73004, bytes_72933);
                    mem_73004_cached_sizze_73414 = bytes_72933;
                }
                for (int64_t i_71891 = 0; i_71891 < m_70279; i_71891++) {
                    int64_t discard_71841;
                    int64_t scanacc_71837 = (int64_t) 0;
                    
                    for (int64_t i_71839 = 0; i_71839 < n_70280; i_71839++) {
                        float x_71334 = ((float *) Y_mem_72031.mem)[i_71891 *
                                                                    n_70280 +
                                                                    i_71839];
                        bool isnan_res_71335;
                        
                        isnan_res_71335 = futrts_isnan32(x_71334);
                        
                        bool defunc_0_p_res_71336 = !isnan_res_71335;
                        int64_t defunc_0_f_res_71337 =
                                btoi_bool_i64(defunc_0_p_res_71336);
                        int64_t defunc_1_op_res_71333 =
                                add64(defunc_0_f_res_71337, scanacc_71837);
                        
                        ((int64_t *) mem_72874)[i_71839] =
                            defunc_1_op_res_71333;
                        
                        int64_t scanacc_tmp_73347 = defunc_1_op_res_71333;
                        
                        scanacc_71837 = scanacc_tmp_73347;
                    }
                    discard_71841 = scanacc_71837;
                    
                    int64_t last_res_71338 = ((int64_t *) mem_72874)[i_70294];
                    
                    for (int64_t i_73349 = 0; i_73349 < n_70280; i_73349++) {
                        ((float *) mem_72889)[i_73349] = 0.0F;
                    }
                    for (int64_t i_73350 = 0; i_73350 < n_70280; i_73350++) {
                        ((int64_t *) mem_72892)[i_73350] = (int64_t) -1;
                    }
                    for (int64_t write_iter_71842 = 0; write_iter_71842 <
                         n_70280; write_iter_71842++) {
                        float write_iv_71845 =
                              ((float *) Y_mem_72031.mem)[i_71891 * n_70280 +
                                                          write_iter_71842];
                        int64_t write_iv_71846 =
                                ((int64_t *) mem_72874)[write_iter_71842];
                        bool isnan_res_71346;
                        
                        isnan_res_71346 = futrts_isnan32(write_iv_71845);
                        
                        bool defunc_0_p_res_71347 = !isnan_res_71346;
                        int64_t defunc_1_f_res_71348;
                        
                        if (defunc_0_p_res_71347) {
                            int64_t defunc_1_f_res_t_res_71349 =
                                    sub64(write_iv_71846, (int64_t) 1);
                            
                            defunc_1_f_res_71348 = defunc_1_f_res_t_res_71349;
                        } else {
                            defunc_1_f_res_71348 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_71348) &&
                            slt64(defunc_1_f_res_71348, n_70280)) {
                            ((int64_t *) mem_72892)[defunc_1_f_res_71348] =
                                write_iter_71842;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_71348) &&
                            slt64(defunc_1_f_res_71348, n_70280)) {
                            if ((int64_t) 4 > 0)
                                memmove(mem_72889 + defunc_1_f_res_71348 *
                                        (int64_t) 4, Y_mem_72031.mem +
                                        (i_71891 * n_70280 + write_iter_71842) *
                                        (int64_t) 4, (int64_t) 4);
                        }
                    }
                    for (int64_t i_71852 = 0; i_71852 < n_70280; i_71852++) {
                        int64_t x_71351 = ((int64_t *) mem_72892)[i_71852];
                        int64_t defunc_0_f_res_71352 = add64((int64_t) 1,
                                                             x_71351);
                        
                        ((int64_t *) mem_72919)[i_71852] = defunc_0_f_res_71352;
                    }
                    
                    int64_t min_arg_71353 = sub64(last_res_71338, (int64_t) 1);
                    int64_t min_arg_71354 = sub64(last_res_71338,
                                                  min_res_70300);
                    int64_t min_res_71355 = smin64(q_70282, last_res_71338);
                    float i64_res_71356 = sitofp_i64_f32(last_res_71338);
                    float x_71357 = i64_res_70306 - i64_res_71356;
                    float max_arg_71358 = x_71357 / 2.0F;
                    float max_res_71359 = fmax32(0.0F, max_arg_71358);
                    
                    for (int64_t i_71856 = 0; i_71856 < q_70282; i_71856++) {
                        bool cond_71362 = sle64(last_res_71338, i_71856);
                        float defunc_0_f_res_71363;
                        
                        if (cond_71362) {
                            defunc_0_f_res_71363 = 0.0F;
                        } else {
                            defunc_0_f_res_71363 = 1.0F;
                        }
                        ((float *) mem_72934)[i_71856] = defunc_0_f_res_71363;
                    }
                    for (int64_t i_71884 = 0; i_71884 < n_m_70288; i_71884++) {
                        int64_t min_arg_71367 = mul64(jump_70284, i_71884);
                        int64_t min_res_71368 = smin64(i_70294, min_arg_71367);
                        int64_t defunc_0_g_res_71369 = add64((int64_t) 1,
                                                             min_res_71368);
                        bool init_idx_71370;
                        int64_t init_idx_71371;
                        int64_t init_idx_71372;
                        bool loop_while_71373;
                        int64_t low_71374;
                        int64_t high_71375;
                        
                        loop_while_71373 = x_70295;
                        low_71374 = (int64_t) 0;
                        high_71375 = i_70294;
                        while (loop_while_71373) {
                            int64_t x_71376 = add64(low_71374, high_71375);
                            int64_t mid_71377 = sdiv64(x_71376, (int64_t) 2);
                            bool x_71378 = sle64((int64_t) 0, mid_71377);
                            bool y_71379 = slt64(mid_71377, n_70280);
                            bool bounds_check_71380 = x_71378 && y_71379;
                            bool index_certs_71381;
                            
                            if (!bounds_check_71380) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_71377,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70280, "].",
                                              "-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                                if (memblock_unref(ctx, &mem_72851,
                                                   "mem_72851") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72847,
                                                   "mem_72847") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73067,
                                                   "ext_mem_73067") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73075,
                                                   "ext_mem_73075") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73083,
                                                   "ext_mem_73083") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73091,
                                                   "ext_mem_73091") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73099,
                                                   "ext_mem_73099") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73107,
                                                   "ext_mem_73107") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73225,
                                                   "mem_out_73225") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_71382 =
                                    ((int64_t *) mem_72919)[mid_71377];
                            bool cond_71383 = slt64(mid_id_71382, (int64_t) 0);
                            int64_t mid_idx_71384;
                            
                            if (cond_71383) {
                                mid_idx_71384 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_71384 = mid_id_71382;
                            }
                            
                            bool cond_71385 = sle64(defunc_0_g_res_71369,
                                                    mid_idx_71384);
                            int64_t loopres_71386;
                            int64_t loopres_71387;
                            
                            if (cond_71385) {
                                int64_t loopres_t_res_71388 = sub64(mid_71377,
                                                                    (int64_t) 1);
                                
                                loopres_71386 = low_71374;
                                loopres_71387 = loopres_t_res_71388;
                            } else {
                                int64_t loopres_f_res_71389 = add64((int64_t) 1,
                                                                    mid_71377);
                                
                                loopres_71386 = loopres_f_res_71389;
                                loopres_71387 = high_71375;
                            }
                            
                            bool loop_cond_71390 = sle64(loopres_71386,
                                                         loopres_71387);
                            bool loop_while_tmp_73357 = loop_cond_71390;
                            int64_t low_tmp_73358 = loopres_71386;
                            int64_t high_tmp_73359 = loopres_71387;
                            
                            loop_while_71373 = loop_while_tmp_73357;
                            low_71374 = low_tmp_73358;
                            high_71375 = high_tmp_73359;
                        }
                        init_idx_71370 = loop_while_71373;
                        init_idx_71371 = low_71374;
                        init_idx_71372 = high_71375;
                        
                        bool idx_71391;
                        int64_t idx_71392;
                        int64_t idx_71393;
                        int64_t idx_71394;
                        bool loop_while_71395;
                        int64_t l_idx_71396;
                        int64_t r_idx_71397;
                        int64_t span_71398;
                        
                        loop_while_71395 = loop_cond_70305;
                        l_idx_71396 = init_idx_71371;
                        r_idx_71397 = init_idx_71371;
                        span_71398 = (int64_t) 1;
                        while (loop_while_71395) {
                            int64_t max_arg_71399 = sub64(l_idx_71396,
                                                          (int64_t) 1);
                            int64_t max_res_71400 = smax64((int64_t) 0,
                                                           max_arg_71399);
                            int64_t min_arg_71401 = add64((int64_t) 1,
                                                          r_idx_71397);
                            int64_t min_res_71402 = smin64(min_arg_71353,
                                                           min_arg_71401);
                            bool x_71403 = sle64((int64_t) 0, max_res_71400);
                            bool y_71404 = slt64(max_res_71400, n_70280);
                            bool bounds_check_71405 = x_71403 && y_71404;
                            bool index_certs_71406;
                            
                            if (!bounds_check_71405) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_71400,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70280, "].",
                                              "-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                                if (memblock_unref(ctx, &mem_72851,
                                                   "mem_72851") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72847,
                                                   "mem_72847") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73067,
                                                   "ext_mem_73067") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73075,
                                                   "ext_mem_73075") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73083,
                                                   "ext_mem_73083") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73091,
                                                   "ext_mem_73091") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73099,
                                                   "ext_mem_73099") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73107,
                                                   "ext_mem_73107") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73225,
                                                   "mem_out_73225") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_71407 =
                                    ((int64_t *) mem_72919)[max_res_71400];
                            int64_t abs_arg_71408 = sub64(x_71407,
                                                          defunc_0_g_res_71369);
                            int64_t abs_res_71409 = abs64(abs_arg_71408);
                            bool x_71410 = sle64((int64_t) 0, min_res_71402);
                            bool y_71411 = slt64(min_res_71402, n_70280);
                            bool bounds_check_71412 = x_71410 && y_71411;
                            bool index_certs_71413;
                            
                            if (!bounds_check_71412) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_71402,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70280, "].",
                                              "-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:589:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:588:5-590:26\n   #10 loess.fut:572:1-611:26\n");
                                if (memblock_unref(ctx, &mem_72851,
                                                   "mem_72851") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72847,
                                                   "mem_72847") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73067,
                                                   "ext_mem_73067") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73075,
                                                   "ext_mem_73075") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73083,
                                                   "ext_mem_73083") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73091,
                                                   "ext_mem_73091") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73099,
                                                   "ext_mem_73099") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73107,
                                                   "ext_mem_73107") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73225,
                                                   "mem_out_73225") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_71414 =
                                    ((int64_t *) mem_72919)[min_res_71402];
                            int64_t abs_arg_71415 = sub64(x_71414,
                                                          defunc_0_g_res_71369);
                            int64_t abs_res_71416 = abs64(abs_arg_71415);
                            bool cond_71417 = max_res_71400 == l_idx_71396;
                            int64_t loopres_71418;
                            int64_t loopres_71419;
                            int64_t loopres_71420;
                            
                            if (cond_71417) {
                                loopres_71418 = l_idx_71396;
                                loopres_71419 = r_idx_71397;
                                loopres_71420 = min_res_70300;
                            } else {
                                bool cond_71421 = slt64(abs_res_71409,
                                                        abs_res_71416);
                                bool cond_f_res_71422 = min_res_71402 ==
                                     r_idx_71397;
                                bool x_71423 = !cond_71421;
                                bool y_71424 = cond_f_res_71422 && x_71423;
                                bool cond_71425 = cond_71421 || y_71424;
                                int64_t loopres_f_res_71426;
                                
                                if (cond_71425) {
                                    loopres_f_res_71426 = max_res_71400;
                                } else {
                                    loopres_f_res_71426 = l_idx_71396;
                                }
                                
                                int64_t loopres_f_res_71427;
                                
                                if (cond_71425) {
                                    loopres_f_res_71427 = r_idx_71397;
                                } else {
                                    loopres_f_res_71427 = min_res_71402;
                                }
                                
                                int64_t loopres_f_res_71428;
                                
                                if (cond_71425) {
                                    int64_t loopres_f_res_t_res_71429 =
                                            add64((int64_t) 1, span_71398);
                                    
                                    loopres_f_res_71428 =
                                        loopres_f_res_t_res_71429;
                                } else {
                                    int64_t loopres_f_res_f_res_71430 =
                                            add64((int64_t) 1, span_71398);
                                    
                                    loopres_f_res_71428 =
                                        loopres_f_res_f_res_71430;
                                }
                                loopres_71418 = loopres_f_res_71426;
                                loopres_71419 = loopres_f_res_71427;
                                loopres_71420 = loopres_f_res_71428;
                            }
                            
                            bool loop_cond_71431 = slt64(loopres_71420,
                                                         min_res_70300);
                            bool loop_while_tmp_73360 = loop_cond_71431;
                            int64_t l_idx_tmp_73361 = loopres_71418;
                            int64_t r_idx_tmp_73362 = loopres_71419;
                            int64_t span_tmp_73363 = loopres_71420;
                            
                            loop_while_71395 = loop_while_tmp_73360;
                            l_idx_71396 = l_idx_tmp_73361;
                            r_idx_71397 = r_idx_tmp_73362;
                            span_71398 = span_tmp_73363;
                        }
                        idx_71391 = loop_while_71395;
                        idx_71392 = l_idx_71396;
                        idx_71393 = r_idx_71397;
                        idx_71394 = span_71398;
                        
                        int64_t min_res_71432 = smin64(min_arg_71354,
                                                       idx_71392);
                        int64_t max_res_71433 = smax64((int64_t) 0,
                                                       min_res_71432);
                        int64_t x_71434 = add64(min_res_71355, max_res_71433);
                        int64_t r_71435 = sub64(x_71434, (int64_t) 1);
                        bool x_71436 = sle64((int64_t) 0, r_71435);
                        bool y_71437 = slt64(r_71435, n_70280);
                        bool bounds_check_71438 = x_71436 && y_71437;
                        bool index_certs_71439;
                        
                        if (!bounds_check_71438) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_71435,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:16-51\n   #5  loess.fut:589:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:588:5-590:26\n   #9  loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72851, "mem_72851") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72847, "mem_72847") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73067,
                                               "ext_mem_73067") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73075,
                                               "ext_mem_73075") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73083,
                                               "ext_mem_73083") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73091,
                                               "ext_mem_73091") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_71440 = ((int64_t *) mem_72892)[r_71435];
                        int64_t abs_arg_71441 = sub64(x_71440, min_res_71368);
                        int64_t abs_res_71442 = abs64(abs_arg_71441);
                        bool x_71443 = sle64((int64_t) 0, max_res_71433);
                        bool y_71444 = slt64(max_res_71433, n_70280);
                        bool bounds_check_71445 = x_71443 && y_71444;
                        bool index_certs_71446;
                        
                        if (!bounds_check_71445) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_71433,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70280, "].",
                                          "-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:16-51\n   #5  loess.fut:589:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:588:5-590:26\n   #9  loess.fut:572:1-611:26\n");
                            if (memblock_unref(ctx, &mem_72851, "mem_72851") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72847, "mem_72847") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73067,
                                               "ext_mem_73067") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73075,
                                               "ext_mem_73075") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73083,
                                               "ext_mem_73083") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73091,
                                               "ext_mem_73091") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73099,
                                               "ext_mem_73099") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73107,
                                               "ext_mem_73107") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73225,
                                               "mem_out_73225") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_71447 =
                                ((int64_t *) mem_72892)[max_res_71433];
                        int64_t abs_arg_71448 = sub64(x_71447, min_res_71368);
                        int64_t abs_res_71449 = abs64(abs_arg_71448);
                        int64_t max_res_71450 = smax64(abs_res_71442,
                                                       abs_res_71449);
                        float defunc_0_f_res_71451 =
                              sitofp_i64_f32(max_res_71450);
                        float defunc_1_f_res_71452 = max_res_71359 +
                              defunc_0_f_res_71451;
                        
                        for (int64_t i_71862 = 0; i_71862 < q_70282;
                             i_71862++) {
                            float x_71456 = ((float *) mem_72934)[i_71862];
                            bool cond_71457 = sle64(last_res_71338, i_71862);
                            int64_t defunc_0_f_res_71458;
                            
                            if (cond_71457) {
                                defunc_0_f_res_71458 = (int64_t) 0;
                            } else {
                                int64_t i_71459 = add64(max_res_71433, i_71862);
                                int64_t defunc_0_add_arg_71460 =
                                        ((int64_t *) mem_72892)[i_71459];
                                int64_t defunc_1_add_res_71461 =
                                        add64((int64_t) 1,
                                              defunc_0_add_arg_71460);
                                
                                defunc_0_f_res_71458 = defunc_1_add_res_71461;
                            }
                            
                            int64_t binop_p_71462 = sub64(defunc_0_f_res_71458,
                                                          min_res_71368);
                            float defunc_0_f_res_71463 =
                                  sitofp_i64_f32(binop_p_71462);
                            float abs_res_71464 =
                                  (float) fabs(defunc_0_f_res_71463);
                            float tmp1_71465 = abs_res_71464 /
                                  defunc_1_f_res_71452;
                            float x_71466 = tmp1_71465 * tmp1_71465;
                            float y_71467 = tmp1_71465 * x_71466;
                            float tmp2_71468 = 1.0F - y_71467;
                            float x_71469 = tmp2_71468 * tmp2_71468;
                            float tmp3_71470 = tmp2_71468 * x_71469;
                            float tmp4_71471 = x_71456 * tmp3_71470;
                            
                            ((float *) mem_72971)[i_71862] =
                                defunc_0_f_res_71463;
                            ((float *) mem_72974)[i_71862] = tmp4_71471;
                        }
                        
                        float defunc_2_reduce_res_71478;
                        float defunc_2_reduce_res_71479;
                        float defunc_2_reduce_res_71480;
                        float defunc_2_reduce_res_71481;
                        float defunc_2_reduce_res_71482;
                        float redout_71867;
                        float redout_71868;
                        float redout_71869;
                        float redout_71870;
                        float redout_71871;
                        
                        redout_71867 = 0.0F;
                        redout_71868 = 0.0F;
                        redout_71869 = 0.0F;
                        redout_71870 = 0.0F;
                        redout_71871 = 0.0F;
                        for (int64_t i_71874 = 0; i_71874 < q_70282;
                             i_71874++) {
                            float x_71500 = ((float *) mem_72971)[i_71874];
                            float x_71501 = ((float *) mem_72974)[i_71874];
                            float defunc_1_f_res_71502 = x_71500 * x_71501;
                            float defunc_1_f_res_71503 = x_71500 *
                                  defunc_1_f_res_71502;
                            float defunc_1_f_res_71504 = x_71500 *
                                  defunc_1_f_res_71503;
                            float defunc_1_f_res_71505 = x_71500 *
                                  defunc_1_f_res_71504;
                            float defunc_1_op_res_71487 = x_71501 +
                                  redout_71867;
                            float defunc_1_op_res_71490 = defunc_1_f_res_71502 +
                                  redout_71868;
                            float defunc_1_op_res_71493 = defunc_1_f_res_71503 +
                                  redout_71869;
                            float defunc_1_op_res_71496 = defunc_1_f_res_71504 +
                                  redout_71870;
                            float defunc_1_op_res_71499 = defunc_1_f_res_71505 +
                                  redout_71871;
                            
                            ((float *) mem_73001)[i_71874] =
                                defunc_1_f_res_71503;
                            ((float *) mem_73004)[i_71874] =
                                defunc_1_f_res_71502;
                            
                            float redout_tmp_73366 = defunc_1_op_res_71487;
                            float redout_tmp_73367 = defunc_1_op_res_71490;
                            float redout_tmp_73368 = defunc_1_op_res_71493;
                            float redout_tmp_73369 = defunc_1_op_res_71496;
                            float redout_tmp_73370 = defunc_1_op_res_71499;
                            
                            redout_71867 = redout_tmp_73366;
                            redout_71868 = redout_tmp_73367;
                            redout_71869 = redout_tmp_73368;
                            redout_71870 = redout_tmp_73369;
                            redout_71871 = redout_tmp_73370;
                        }
                        defunc_2_reduce_res_71478 = redout_71867;
                        defunc_2_reduce_res_71479 = redout_71868;
                        defunc_2_reduce_res_71480 = redout_71869;
                        defunc_2_reduce_res_71481 = redout_71870;
                        defunc_2_reduce_res_71482 = redout_71871;
                        
                        float x_71513 = defunc_2_reduce_res_71480 *
                              defunc_2_reduce_res_71482;
                        float y_71514 = defunc_2_reduce_res_71481 *
                              defunc_2_reduce_res_71481;
                        float a12_71515 = x_71513 - y_71514;
                        float x_71516 = defunc_2_reduce_res_71480 *
                              defunc_2_reduce_res_71481;
                        float y_71517 = defunc_2_reduce_res_71479 *
                              defunc_2_reduce_res_71482;
                        float b12_71518 = x_71516 - y_71517;
                        float x_71519 = defunc_2_reduce_res_71479 *
                              defunc_2_reduce_res_71481;
                        float y_71520 = defunc_2_reduce_res_71480 *
                              defunc_2_reduce_res_71480;
                        float c12_71521 = x_71519 - y_71520;
                        float x_71522 = defunc_2_reduce_res_71478 *
                              defunc_2_reduce_res_71482;
                        float b2_71523 = x_71522 - y_71520;
                        float x_71524 = defunc_2_reduce_res_71479 *
                              defunc_2_reduce_res_71480;
                        float y_71525 = defunc_2_reduce_res_71478 *
                              defunc_2_reduce_res_71481;
                        float c2_71526 = x_71524 - y_71525;
                        float x_71527 = defunc_2_reduce_res_71478 * a12_71515;
                        float y_71528 = defunc_2_reduce_res_71479 * b12_71518;
                        float x_71529 = x_71527 + y_71528;
                        float y_71530 = defunc_2_reduce_res_71480 * c12_71521;
                        float y_71531 = x_71529 + y_71530;
                        float det_71532 = 1.0F / y_71531;
                        float a12_71533 = a12_71515 * det_71532;
                        float b12_71534 = b12_71518 * det_71532;
                        float c12_71535 = c12_71521 * det_71532;
                        float b2_71536 = b2_71523 * det_71532;
                        float c2_71537 = c2_71526 * det_71532;
                        float defunc_2_reduce_res_71538;
                        float defunc_2_reduce_res_71539;
                        float redout_71877;
                        float redout_71878;
                        
                        redout_71877 = 0.0F;
                        redout_71878 = 0.0F;
                        for (int64_t i_71879 = 0; i_71879 < q_70282;
                             i_71879++) {
                            float x_71547 = ((float *) mem_72974)[i_71879];
                            float x_71548 = ((float *) mem_73004)[i_71879];
                            float x_71549 = ((float *) mem_73001)[i_71879];
                            bool cond_71550 = sle64(last_res_71338, i_71879);
                            float defunc_0_f_res_71551;
                            
                            if (cond_71550) {
                                defunc_0_f_res_71551 = 0.0F;
                            } else {
                                int64_t i_71552 = add64(max_res_71433, i_71879);
                                float defunc_0_add_arg_71553 =
                                      ((float *) mem_72889)[i_71552];
                                
                                defunc_0_f_res_71551 = defunc_0_add_arg_71553;
                            }
                            
                            float x_71554 = a12_71533 * x_71547;
                            float y_71555 = b12_71534 * x_71548;
                            float x_71556 = x_71554 + y_71555;
                            float y_71557 = c12_71535 * x_71549;
                            float x_71558 = x_71556 + y_71557;
                            float defunc_9_fit_fun_res_71559 =
                                  defunc_0_f_res_71551 * x_71558;
                            float x_71560 = b12_71534 * x_71547;
                            float y_71561 = b2_71536 * x_71548;
                            float x_71562 = x_71560 + y_71561;
                            float y_71563 = c2_71537 * x_71549;
                            float x_71564 = x_71562 + y_71563;
                            float defunc_9_slope_fun_res_71565 =
                                  defunc_0_f_res_71551 * x_71564;
                            float defunc_1_op_res_71542 =
                                  defunc_9_fit_fun_res_71559 + redout_71877;
                            float defunc_1_op_res_71545 =
                                  defunc_9_slope_fun_res_71565 + redout_71878;
                            float redout_tmp_73373 = defunc_1_op_res_71542;
                            float redout_tmp_73374 = defunc_1_op_res_71545;
                            
                            redout_71877 = redout_tmp_73373;
                            redout_71878 = redout_tmp_73374;
                        }
                        defunc_2_reduce_res_71538 = redout_71877;
                        defunc_2_reduce_res_71539 = redout_71878;
                        ((float *) mem_72847.mem)[i_71891 * n_m_70288 +
                                                  i_71884] =
                            defunc_2_reduce_res_71538;
                        ((float *) mem_72851.mem)[i_71891 * n_m_70288 +
                                                  i_71884] =
                            defunc_2_reduce_res_71539;
                    }
                }
                if (memblock_set(ctx, &ext_mem_73075, &mem_72847,
                                 "mem_72847") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_73067, &mem_72851,
                                 "mem_72851") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72851, "mem_72851") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72847, "mem_72847") != 0)
                    return 1;
            }
            if (memblock_set(ctx, &ext_mem_73091, &ext_mem_73075,
                             "ext_mem_73075") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_73083, &ext_mem_73067,
                             "ext_mem_73067") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_73067, "ext_mem_73067") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_73075, "ext_mem_73075") != 0)
                return 1;
        }
        if (memblock_set(ctx, &ext_mem_73107, &ext_mem_73091,
                         "ext_mem_73091") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_73099, &ext_mem_73083,
                         "ext_mem_73083") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_73083, "ext_mem_73083") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_73091, "ext_mem_73091") != 0)
            return 1;
    }
    
    bool cond_71568 = slt64((int64_t) 1, jump_70284);
    int64_t binop_x_73115 = m_70279 * n_70280;
    int64_t binop_y_73116 = (int64_t) 4 * binop_x_73115;
    int64_t bytes_73117 = smax64((int64_t) 0, binop_y_73116);
    int64_t ext_73163;
    
    if (cond_71568) {
        ext_73163 = n_70280;
    } else {
        ext_73163 = n_m_70288;
    }
    
    int64_t ext_73162;
    
    if (cond_71568) {
        ext_73162 = n_70280;
    } else {
        ext_73162 = n_m_70288;
    }
    
    struct memblock ext_mem_73159;
    
    ext_mem_73159.references = NULL;
    if (cond_71568) {
        bool zzero_71570 = jump_70284 == (int64_t) 0;
        bool nonzzero_71571 = !zzero_71570;
        bool nonzzero_cert_71572;
        
        if (!nonzzero_71571) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  loess.fut:546:20-27\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:545:3-549:9\n   #5  loess.fut:608:13-59\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:607:5-609:29\n   #9  loess.fut:572:1-611:26\n");
            if (memblock_unref(ctx, &ext_mem_73159, "ext_mem_73159") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_73099, "ext_mem_73099") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_73107, "ext_mem_73107") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_73225, "mem_out_73225") != 0)
                return 1;
            return 1;
        }
        
        int64_t y_71573 = sub64(n_m_70288, (int64_t) 1);
        struct memblock mem_73118;
        
        mem_73118.references = NULL;
        if (memblock_alloc(ctx, &mem_73118, bytes_73117, "mem_73118")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_71900 = 0; i_71900 < m_70279; i_71900++) {
            for (int64_t i_71896 = 0; i_71896 < n_70280; i_71896++) {
                int64_t m_v_71579 = sdiv64(i_71896, jump_70284);
                bool cond_71580 = m_v_71579 == y_71573;
                int64_t j_71581;
                
                if (cond_71580) {
                    int64_t j_t_res_71582 = sub64(m_v_71579, (int64_t) 1);
                    
                    j_71581 = j_t_res_71582;
                } else {
                    j_71581 = m_v_71579;
                }
                
                int64_t min_arg_71583 = mul64(jump_70284, j_71581);
                int64_t min_res_71584 = smin64(i_70294, min_arg_71583);
                int64_t defunc_0_m_fun_arg_71585 = add64((int64_t) 1, j_71581);
                int64_t min_arg_71586 = mul64(jump_70284,
                                              defunc_0_m_fun_arg_71585);
                int64_t min_res_71587 = smin64(i_70294, min_arg_71586);
                int64_t i64_arg_71588 = sub64(min_res_71587, min_res_71584);
                float i64_res_71589 = sitofp_i64_f32(i64_arg_71588);
                int64_t i64_arg_71590 = sub64(i_71896, min_res_71584);
                float i64_res_71591 = sitofp_i64_f32(i64_arg_71590);
                float u_71592 = i64_res_71591 / i64_res_71589;
                float u2_71593 = u_71592 * u_71592;
                float u3_71594 = u_71592 * u2_71593;
                float x_71595 = 2.0F * u3_71594;
                float y_71596 = 3.0F * u2_71593;
                float x_71597 = x_71595 - y_71596;
                float x_71598 = 1.0F + x_71597;
                bool x_71599 = sle64((int64_t) 0, j_71581);
                bool y_71600 = slt64(j_71581, n_m_70288);
                bool bounds_check_71601 = x_71599 && y_71600;
                bool index_certs_71602;
                
                if (!bounds_check_71601) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_71581,
                                  "] out of bounds for array of shape [",
                                  (long long) n_m_70288, "].",
                                  "-> #0  loess.fut:535:27-33\n   #1  loess.fut:548:13-50\n   #2  /prelude/soacs.fut:59:3-10\n   #3  /prelude/array.fut:195:3-17\n   #4  utils.fut:6:3-16\n   #5  loess.fut:545:3-549:9\n   #6  loess.fut:608:13-59\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:607:5-609:29\n   #10 loess.fut:572:1-611:26\n");
                    if (memblock_unref(ctx, &mem_73118, "mem_73118") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_73159, "ext_mem_73159") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_73099, "ext_mem_73099") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_73107, "ext_mem_73107") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_73225, "mem_out_73225") !=
                        0)
                        return 1;
                    return 1;
                }
                
                float y_71603 = ((float *) ext_mem_73107.mem)[i_71900 *
                                                              n_m_70288 +
                                                              j_71581];
                float x_71604 = x_71598 * y_71603;
                float x_71605 = y_71596 - x_71595;
                bool x_71606 = sle64((int64_t) 0, defunc_0_m_fun_arg_71585);
                bool y_71607 = slt64(defunc_0_m_fun_arg_71585, n_m_70288);
                bool bounds_check_71608 = x_71606 && y_71607;
                bool index_certs_71609;
                
                if (!bounds_check_71608) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [",
                                  (long long) defunc_0_m_fun_arg_71585,
                                  "] out of bounds for array of shape [",
                                  (long long) n_m_70288, "].",
                                  "-> #0  loess.fut:536:27-37\n   #1  loess.fut:548:13-50\n   #2  /prelude/soacs.fut:59:3-10\n   #3  /prelude/array.fut:195:3-17\n   #4  utils.fut:6:3-16\n   #5  loess.fut:545:3-549:9\n   #6  loess.fut:608:13-59\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:607:5-609:29\n   #10 loess.fut:572:1-611:26\n");
                    if (memblock_unref(ctx, &mem_73118, "mem_73118") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_73159, "ext_mem_73159") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_73099, "ext_mem_73099") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_73107, "ext_mem_73107") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_73225, "mem_out_73225") !=
                        0)
                        return 1;
                    return 1;
                }
                
                float y_71610 = ((float *) ext_mem_73107.mem)[i_71900 *
                                                              n_m_70288 +
                                                              defunc_0_m_fun_arg_71585];
                float y_71611 = x_71605 * y_71610;
                float x_71612 = x_71604 + y_71611;
                float y_71613 = 2.0F * u2_71593;
                float x_71614 = u3_71594 - y_71613;
                float x_71615 = u_71592 + x_71614;
                float y_71616 = ((float *) ext_mem_73099.mem)[i_71900 *
                                                              n_m_70288 +
                                                              j_71581];
                float x_71617 = x_71615 * y_71616;
                float y_71618 = i64_res_71589 * x_71617;
                float x_71619 = x_71612 + y_71618;
                float x_71620 = u3_71594 - u2_71593;
                float y_71621 = ((float *) ext_mem_73099.mem)[i_71900 *
                                                              n_m_70288 +
                                                              defunc_0_m_fun_arg_71585];
                float x_71622 = x_71620 * y_71621;
                float y_71623 = i64_res_71589 * x_71622;
                float defunc_4_interpolate_proc_res_71624 = x_71619 + y_71623;
                
                ((float *) mem_73118.mem)[i_71900 * n_70280 + i_71896] =
                    defunc_4_interpolate_proc_res_71624;
            }
        }
        if (memblock_set(ctx, &ext_mem_73159, &mem_73118, "mem_73118") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_73118, "mem_73118") != 0)
            return 1;
    } else {
        bool dim_match_71625 = n_70280 == n_m_70288;
        bool empty_or_match_cert_71626;
        
        if (!dim_match_71625) {
            ctx->error =
                msgprintf("Error: %s%lld%s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                          "Value of (core language) shape (",
                          (long long) m_70279, ", ", (long long) n_m_70288,
                          ") cannot match shape of type `[",
                          (long long) m_70279, "][", (long long) n_70280,
                          "]f32`.",
                          "-> #0  loess.fut:611:5-26\n   #1  loess.fut:572:1-611:26\n");
            if (memblock_unref(ctx, &ext_mem_73159, "ext_mem_73159") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_73099, "ext_mem_73099") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_73107, "ext_mem_73107") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_73225, "mem_out_73225") != 0)
                return 1;
            return 1;
        }
        if (memblock_set(ctx, &ext_mem_73159, &ext_mem_73107,
                         "ext_mem_73107") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &ext_mem_73099, "ext_mem_73099") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_73107, "ext_mem_73107") != 0)
        return 1;
    
    int64_t binop_x_73167 = m_70279 * n_70280;
    int64_t binop_y_73168 = (int64_t) 4 * binop_x_73167;
    int64_t bytes_73169 = smax64((int64_t) 0, binop_y_73168);
    struct memblock mem_73170;
    
    mem_73170.references = NULL;
    if (memblock_alloc(ctx, &mem_73170, bytes_73169, "mem_73170")) {
        err = 1;
        goto cleanup;
    }
    if (m_70279 * n_70280 * (int64_t) 4 > 0)
        memmove(mem_73170.mem + (int64_t) 0, ext_mem_73159.mem + (int64_t) 0,
                m_70279 * n_70280 * (int64_t) 4);
    if (memblock_unref(ctx, &ext_mem_73159, "ext_mem_73159") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_73225, &mem_73170, "mem_73170") != 0)
        return 1;
    (*mem_out_p_73377).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_73377, &mem_out_73225, "mem_out_73225") !=
        0)
        return 1;
    if (memblock_unref(ctx, &mem_73170, "mem_73170") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_73159, "ext_mem_73159") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_73099, "ext_mem_73099") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_73107, "ext_mem_73107") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_out_73225, "mem_out_73225") != 0)
        return 1;
    
  cleanup:
    { }
    free(mem_72052);
    free(mem_72067);
    free(mem_72070);
    free(mem_72097);
    free(mem_72112);
    free(mem_72185);
    free(mem_72200);
    free(mem_72203);
    free(mem_72230);
    free(mem_72245);
    free(mem_72348);
    free(mem_72363);
    free(mem_72366);
    free(mem_72393);
    free(mem_72408);
    free(mem_72533);
    free(mem_72548);
    free(mem_72551);
    free(mem_72578);
    free(mem_72593);
    free(mem_72619);
    free(mem_72681);
    free(mem_72696);
    free(mem_72699);
    free(mem_72726);
    free(mem_72741);
    free(mem_72778);
    free(mem_72781);
    free(mem_72874);
    free(mem_72889);
    free(mem_72892);
    free(mem_72919);
    free(mem_72934);
    free(mem_72971);
    free(mem_72974);
    free(mem_73001);
    free(mem_73004);
    return err;
}

int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5)
{
    struct memblock Y_mem_72031;
    
    Y_mem_72031.references = NULL;
    
    int64_t m_70279;
    int64_t n_70280;
    int64_t q_70282;
    int64_t degree_70283;
    int64_t jump_70284;
    int64_t jump_threshold_70285;
    int64_t q_threshold_70286;
    struct memblock mem_out_73225;
    
    mem_out_73225.references = NULL;
    
    int ret = 0;
    
    lock_lock(&ctx->lock);
    Y_mem_72031 = in0->mem;
    m_70279 = in0->shape[0];
    n_70280 = in0->shape[1];
    q_70282 = in1;
    degree_70283 = in2;
    jump_70284 = in3;
    jump_threshold_70285 = in4;
    q_threshold_70286 = in5;
    if (!(m_70279 == in0->shape[0] && n_70280 == in0->shape[1])) {
        ret = 1;
        if (!ctx->error)
            ctx->error =
                msgprintf("Error: entry point arguments have invalid sizes.\n");
    }
    if (ret == 0) {
        ret = futrts_entry_main(ctx, &mem_out_73225, Y_mem_72031, m_70279,
                                n_70280, q_70282, degree_70283, jump_70284,
                                jump_threshold_70285, q_threshold_70286);
        if (ret == 0) {
            assert((*out0 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out0)->mem = mem_out_73225;
            (*out0)->shape[0] = m_70279;
            (*out0)->shape[1] = n_70280;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  
