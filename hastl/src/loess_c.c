// Generated by Futhark 0.20.0
// git: 5cc4d4b (Tue Jul 6 11:53:53 2021 -0700)
#ifndef _GNU_SOURCE
#define _GNU_SOURCE
#endif
#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif
// Headers

#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation

struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int flag);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *ctx);
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value);
int futhark_get_num_sizes(void);
const char *futhark_get_size_name(int);
const char *futhark_get_size_class(int);

// Arrays

struct futhark_f32_2d;
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1);
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              char *data, int offset,
                                              int64_t dim0, int64_t dim1);
int futhark_free_f32_2d(struct futhark_context *ctx,
                        struct futhark_f32_2d *arr);
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data);
char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                struct futhark_f32_2d *arr);
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr);

// Opaque values


// Entry points

int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5);

// Miscellaneous

int futhark_context_sync(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_c
#ifdef __cplusplus
}
#endif
#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}


static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                            const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, msg...) check_err(err, 0, __func__, __LINE__, msg)
#define CHECK_ERRNO(err, msg...) check_err(err, 1, __func__, __LINE__, msg)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  size_t start = ftell(f);
  fseek(f, 0, SEEK_END);
  size_t src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc(src_size + 1);
  if (fread(s, 1, src_size, f) != src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

// End of util.h.

// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>

// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.

static inline uint8_t add8(uint8_t x, uint8_t y)
{
    return x + y;
}
static inline uint16_t add16(uint16_t x, uint16_t y)
{
    return x + y;
}
static inline uint32_t add32(uint32_t x, uint32_t y)
{
    return x + y;
}
static inline uint64_t add64(uint64_t x, uint64_t y)
{
    return x + y;
}
static inline uint8_t sub8(uint8_t x, uint8_t y)
{
    return x - y;
}
static inline uint16_t sub16(uint16_t x, uint16_t y)
{
    return x - y;
}
static inline uint32_t sub32(uint32_t x, uint32_t y)
{
    return x - y;
}
static inline uint64_t sub64(uint64_t x, uint64_t y)
{
    return x - y;
}
static inline uint8_t mul8(uint8_t x, uint8_t y)
{
    return x * y;
}
static inline uint16_t mul16(uint16_t x, uint16_t y)
{
    return x * y;
}
static inline uint32_t mul32(uint32_t x, uint32_t y)
{
    return x * y;
}
static inline uint64_t mul64(uint64_t x, uint64_t y)
{
    return x * y;
}
static inline uint8_t udiv8(uint8_t x, uint8_t y)
{
    return x / y;
}
static inline uint16_t udiv16(uint16_t x, uint16_t y)
{
    return x / y;
}
static inline uint32_t udiv32(uint32_t x, uint32_t y)
{
    return x / y;
}
static inline uint64_t udiv64(uint64_t x, uint64_t y)
{
    return x / y;
}
static inline uint8_t udiv_up8(uint8_t x, uint8_t y)
{
    return (x + y - 1) / y;
}
static inline uint16_t udiv_up16(uint16_t x, uint16_t y)
{
    return (x + y - 1) / y;
}
static inline uint32_t udiv_up32(uint32_t x, uint32_t y)
{
    return (x + y - 1) / y;
}
static inline uint64_t udiv_up64(uint64_t x, uint64_t y)
{
    return (x + y - 1) / y;
}
static inline uint8_t umod8(uint8_t x, uint8_t y)
{
    return x % y;
}
static inline uint16_t umod16(uint16_t x, uint16_t y)
{
    return x % y;
}
static inline uint32_t umod32(uint32_t x, uint32_t y)
{
    return x % y;
}
static inline uint64_t umod64(uint64_t x, uint64_t y)
{
    return x % y;
}
static inline uint8_t udiv_safe8(uint8_t x, uint8_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint16_t udiv_safe16(uint16_t x, uint16_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint32_t udiv_safe32(uint32_t x, uint32_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint64_t udiv_safe64(uint64_t x, uint64_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint8_t umod_safe8(uint8_t x, uint8_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline uint16_t umod_safe16(uint16_t x, uint16_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline uint32_t umod_safe32(uint32_t x, uint32_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline uint64_t umod_safe64(uint64_t x, uint64_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int8_t sdiv8(int8_t x, int8_t y)
{
    int8_t q = x / y;
    int8_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int16_t sdiv16(int16_t x, int16_t y)
{
    int16_t q = x / y;
    int16_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int32_t sdiv32(int32_t x, int32_t y)
{
    int32_t q = x / y;
    int32_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int64_t sdiv64(int64_t x, int64_t y)
{
    int64_t q = x / y;
    int64_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int8_t sdiv_up8(int8_t x, int8_t y)
{
    return sdiv8(x + y - 1, y);
}
static inline int16_t sdiv_up16(int16_t x, int16_t y)
{
    return sdiv16(x + y - 1, y);
}
static inline int32_t sdiv_up32(int32_t x, int32_t y)
{
    return sdiv32(x + y - 1, y);
}
static inline int64_t sdiv_up64(int64_t x, int64_t y)
{
    return sdiv64(x + y - 1, y);
}
static inline int8_t smod8(int8_t x, int8_t y)
{
    int8_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int16_t smod16(int16_t x, int16_t y)
{
    int16_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int32_t smod32(int32_t x, int32_t y)
{
    int32_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int64_t smod64(int64_t x, int64_t y)
{
    int64_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int8_t sdiv_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : sdiv8(x, y);
}
static inline int16_t sdiv_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : sdiv16(x, y);
}
static inline int32_t sdiv_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : sdiv32(x, y);
}
static inline int64_t sdiv_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : sdiv64(x, y);
}
static inline int8_t sdiv_up_safe8(int8_t x, int8_t y)
{
    return sdiv_safe8(x + y - 1, y);
}
static inline int16_t sdiv_up_safe16(int16_t x, int16_t y)
{
    return sdiv_safe16(x + y - 1, y);
}
static inline int32_t sdiv_up_safe32(int32_t x, int32_t y)
{
    return sdiv_safe32(x + y - 1, y);
}
static inline int64_t sdiv_up_safe64(int64_t x, int64_t y)
{
    return sdiv_safe64(x + y - 1, y);
}
static inline int8_t smod_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : smod8(x, y);
}
static inline int16_t smod_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : smod16(x, y);
}
static inline int32_t smod_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : smod32(x, y);
}
static inline int64_t smod_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : smod64(x, y);
}
static inline int8_t squot8(int8_t x, int8_t y)
{
    return x / y;
}
static inline int16_t squot16(int16_t x, int16_t y)
{
    return x / y;
}
static inline int32_t squot32(int32_t x, int32_t y)
{
    return x / y;
}
static inline int64_t squot64(int64_t x, int64_t y)
{
    return x / y;
}
static inline int8_t srem8(int8_t x, int8_t y)
{
    return x % y;
}
static inline int16_t srem16(int16_t x, int16_t y)
{
    return x % y;
}
static inline int32_t srem32(int32_t x, int32_t y)
{
    return x % y;
}
static inline int64_t srem64(int64_t x, int64_t y)
{
    return x % y;
}
static inline int8_t squot_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int16_t squot_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int32_t squot_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int64_t squot_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int8_t srem_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int16_t srem_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int32_t srem_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int64_t srem_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int8_t smin8(int8_t x, int8_t y)
{
    return x < y ? x : y;
}
static inline int16_t smin16(int16_t x, int16_t y)
{
    return x < y ? x : y;
}
static inline int32_t smin32(int32_t x, int32_t y)
{
    return x < y ? x : y;
}
static inline int64_t smin64(int64_t x, int64_t y)
{
    return x < y ? x : y;
}
static inline uint8_t umin8(uint8_t x, uint8_t y)
{
    return x < y ? x : y;
}
static inline uint16_t umin16(uint16_t x, uint16_t y)
{
    return x < y ? x : y;
}
static inline uint32_t umin32(uint32_t x, uint32_t y)
{
    return x < y ? x : y;
}
static inline uint64_t umin64(uint64_t x, uint64_t y)
{
    return x < y ? x : y;
}
static inline int8_t smax8(int8_t x, int8_t y)
{
    return x < y ? y : x;
}
static inline int16_t smax16(int16_t x, int16_t y)
{
    return x < y ? y : x;
}
static inline int32_t smax32(int32_t x, int32_t y)
{
    return x < y ? y : x;
}
static inline int64_t smax64(int64_t x, int64_t y)
{
    return x < y ? y : x;
}
static inline uint8_t umax8(uint8_t x, uint8_t y)
{
    return x < y ? y : x;
}
static inline uint16_t umax16(uint16_t x, uint16_t y)
{
    return x < y ? y : x;
}
static inline uint32_t umax32(uint32_t x, uint32_t y)
{
    return x < y ? y : x;
}
static inline uint64_t umax64(uint64_t x, uint64_t y)
{
    return x < y ? y : x;
}
static inline uint8_t shl8(uint8_t x, uint8_t y)
{
    return x << y;
}
static inline uint16_t shl16(uint16_t x, uint16_t y)
{
    return x << y;
}
static inline uint32_t shl32(uint32_t x, uint32_t y)
{
    return x << y;
}
static inline uint64_t shl64(uint64_t x, uint64_t y)
{
    return x << y;
}
static inline uint8_t lshr8(uint8_t x, uint8_t y)
{
    return x >> y;
}
static inline uint16_t lshr16(uint16_t x, uint16_t y)
{
    return x >> y;
}
static inline uint32_t lshr32(uint32_t x, uint32_t y)
{
    return x >> y;
}
static inline uint64_t lshr64(uint64_t x, uint64_t y)
{
    return x >> y;
}
static inline int8_t ashr8(int8_t x, int8_t y)
{
    return x >> y;
}
static inline int16_t ashr16(int16_t x, int16_t y)
{
    return x >> y;
}
static inline int32_t ashr32(int32_t x, int32_t y)
{
    return x >> y;
}
static inline int64_t ashr64(int64_t x, int64_t y)
{
    return x >> y;
}
static inline uint8_t and8(uint8_t x, uint8_t y)
{
    return x & y;
}
static inline uint16_t and16(uint16_t x, uint16_t y)
{
    return x & y;
}
static inline uint32_t and32(uint32_t x, uint32_t y)
{
    return x & y;
}
static inline uint64_t and64(uint64_t x, uint64_t y)
{
    return x & y;
}
static inline uint8_t or8(uint8_t x, uint8_t y)
{
    return x | y;
}
static inline uint16_t or16(uint16_t x, uint16_t y)
{
    return x | y;
}
static inline uint32_t or32(uint32_t x, uint32_t y)
{
    return x | y;
}
static inline uint64_t or64(uint64_t x, uint64_t y)
{
    return x | y;
}
static inline uint8_t xor8(uint8_t x, uint8_t y)
{
    return x ^ y;
}
static inline uint16_t xor16(uint16_t x, uint16_t y)
{
    return x ^ y;
}
static inline uint32_t xor32(uint32_t x, uint32_t y)
{
    return x ^ y;
}
static inline uint64_t xor64(uint64_t x, uint64_t y)
{
    return x ^ y;
}
static inline bool ult8(uint8_t x, uint8_t y)
{
    return x < y;
}
static inline bool ult16(uint16_t x, uint16_t y)
{
    return x < y;
}
static inline bool ult32(uint32_t x, uint32_t y)
{
    return x < y;
}
static inline bool ult64(uint64_t x, uint64_t y)
{
    return x < y;
}
static inline bool ule8(uint8_t x, uint8_t y)
{
    return x <= y;
}
static inline bool ule16(uint16_t x, uint16_t y)
{
    return x <= y;
}
static inline bool ule32(uint32_t x, uint32_t y)
{
    return x <= y;
}
static inline bool ule64(uint64_t x, uint64_t y)
{
    return x <= y;
}
static inline bool slt8(int8_t x, int8_t y)
{
    return x < y;
}
static inline bool slt16(int16_t x, int16_t y)
{
    return x < y;
}
static inline bool slt32(int32_t x, int32_t y)
{
    return x < y;
}
static inline bool slt64(int64_t x, int64_t y)
{
    return x < y;
}
static inline bool sle8(int8_t x, int8_t y)
{
    return x <= y;
}
static inline bool sle16(int16_t x, int16_t y)
{
    return x <= y;
}
static inline bool sle32(int32_t x, int32_t y)
{
    return x <= y;
}
static inline bool sle64(int64_t x, int64_t y)
{
    return x <= y;
}
static inline int8_t pow8(int8_t x, int8_t y)
{
    int8_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline int16_t pow16(int16_t x, int16_t y)
{
    int16_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline int32_t pow32(int32_t x, int32_t y)
{
    int32_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline int64_t pow64(int64_t x, int64_t y)
{
    int64_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline bool itob_i8_bool(int8_t x)
{
    return x;
}
static inline bool itob_i16_bool(int16_t x)
{
    return x;
}
static inline bool itob_i32_bool(int32_t x)
{
    return x;
}
static inline bool itob_i64_bool(int64_t x)
{
    return x;
}
static inline int8_t btoi_bool_i8(bool x)
{
    return x;
}
static inline int16_t btoi_bool_i16(bool x)
{
    return x;
}
static inline int32_t btoi_bool_i32(bool x)
{
    return x;
}
static inline int64_t btoi_bool_i64(bool x)
{
    return x;
}
#define sext_i8_i8(x) ((int8_t) (int8_t) x)
#define sext_i8_i16(x) ((int16_t) (int8_t) x)
#define sext_i8_i32(x) ((int32_t) (int8_t) x)
#define sext_i8_i64(x) ((int64_t) (int8_t) x)
#define sext_i16_i8(x) ((int8_t) (int16_t) x)
#define sext_i16_i16(x) ((int16_t) (int16_t) x)
#define sext_i16_i32(x) ((int32_t) (int16_t) x)
#define sext_i16_i64(x) ((int64_t) (int16_t) x)
#define sext_i32_i8(x) ((int8_t) (int32_t) x)
#define sext_i32_i16(x) ((int16_t) (int32_t) x)
#define sext_i32_i32(x) ((int32_t) (int32_t) x)
#define sext_i32_i64(x) ((int64_t) (int32_t) x)
#define sext_i64_i8(x) ((int8_t) (int64_t) x)
#define sext_i64_i16(x) ((int16_t) (int64_t) x)
#define sext_i64_i32(x) ((int32_t) (int64_t) x)
#define sext_i64_i64(x) ((int64_t) (int64_t) x)
#define zext_i8_i8(x) ((int8_t) (uint8_t) x)
#define zext_i8_i16(x) ((int16_t) (uint8_t) x)
#define zext_i8_i32(x) ((int32_t) (uint8_t) x)
#define zext_i8_i64(x) ((int64_t) (uint8_t) x)
#define zext_i16_i8(x) ((int8_t) (uint16_t) x)
#define zext_i16_i16(x) ((int16_t) (uint16_t) x)
#define zext_i16_i32(x) ((int32_t) (uint16_t) x)
#define zext_i16_i64(x) ((int64_t) (uint16_t) x)
#define zext_i32_i8(x) ((int8_t) (uint32_t) x)
#define zext_i32_i16(x) ((int16_t) (uint32_t) x)
#define zext_i32_i32(x) ((int32_t) (uint32_t) x)
#define zext_i32_i64(x) ((int64_t) (uint32_t) x)
#define zext_i64_i8(x) ((int8_t) (uint64_t) x)
#define zext_i64_i16(x) ((int16_t) (uint64_t) x)
#define zext_i64_i32(x) ((int32_t) (uint64_t) x)
#define zext_i64_i64(x) ((int64_t) (uint64_t) x)
static int8_t abs8(int8_t x)
{
    return abs(x);
}
static int16_t abs16(int16_t x)
{
    return abs(x);
}
static int32_t abs32(int32_t x)
{
    return abs(x);
}
#if defined(__OPENCL_VERSION__)
static int64_t abs64(int64_t x)
{
    return abs(x);
}
#else
static int64_t abs64(int64_t x)
{
    return llabs(x);
}
#endif
#if defined(__OPENCL_VERSION__)
static int32_t futrts_popc8(int8_t x)
{
    return popcount(x);
}
static int32_t futrts_popc16(int16_t x)
{
    return popcount(x);
}
static int32_t futrts_popc32(int32_t x)
{
    return popcount(x);
}
static int32_t futrts_popc64(int64_t x)
{
    return popcount(x);
}
#elif defined(__CUDA_ARCH__)
static int32_t futrts_popc8(int8_t x)
{
    return __popc(zext_i8_i32(x));
}
static int32_t futrts_popc16(int16_t x)
{
    return __popc(zext_i16_i32(x));
}
static int32_t futrts_popc32(int32_t x)
{
    return __popc(x);
}
static int32_t futrts_popc64(int64_t x)
{
    return __popcll(x);
}
#else
static int32_t futrts_popc8(int8_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
static int32_t futrts_popc16(int16_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
static int32_t futrts_popc32(int32_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
static int32_t futrts_popc64(int64_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
#endif
#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b)
{
    return mul_hi(a, b);
}
static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b)
{
    return mul_hi(a, b);
}
static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b)
{
    return mul_hi(a, b);
}
static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b)
{
    return mul_hi(a, b);
}
#elif defined(__CUDA_ARCH__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b)
{
    uint16_t aa = a;
    uint16_t bb = b;
    
    return aa * bb >> 8;
}
static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b)
{
    uint32_t aa = a;
    uint32_t bb = b;
    
    return aa * bb >> 16;
}
static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b)
{
    return mulhi(a, b);
}
static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b)
{
    return mul64hi(a, b);
}
#else
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b)
{
    uint16_t aa = a;
    uint16_t bb = b;
    
    return aa * bb >> 8;
}
static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b)
{
    uint32_t aa = a;
    uint32_t bb = b;
    
    return aa * bb >> 16;
}
static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b)
{
    uint64_t aa = a;
    uint64_t bb = b;
    
    return aa * bb >> 32;
}
#ifdef __EMSCRIPTEN__
static uint64_t futrts_mul_hi64(uint64_t x, uint64_t y)
{
    uint64_t a = x >> 32, b = x & 0xffffffff;
    uint64_t c = y >> 32, d = y & 0xffffffff;
    uint64_t ac = a * c;
    uint64_t bc = b * c;
    uint64_t ad = a * d;
    uint64_t bd = b * d;
    uint64_t mid34 = (bd >> 32) + (bc & 0xffffffff) + (ad & 0xffffffff);
    uint64_t upper64 = ac + (bc >> 32) + (ad >> 32) + (mid34 >> 32);
    
    return upper64;
}
#else
static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b)
{
    __uint128_t aa = a;
    __uint128_t bb = b;
    
    return aa * bb >> 64;
}
#endif
#endif
#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c)
{
    return mad_hi(a, b, c);
}
static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c)
{
    return mad_hi(a, b, c);
}
static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c)
{
    return mad_hi(a, b, c);
}
static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c)
{
    return mad_hi(a, b, c);
}
#else
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c)
{
    return futrts_mul_hi8(a, b) + c;
}
static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c)
{
    return futrts_mul_hi16(a, b) + c;
}
static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c)
{
    return futrts_mul_hi32(a, b) + c;
}
static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c)
{
    return futrts_mul_hi64(a, b) + c;
}
#endif
#if defined(__OPENCL_VERSION__)
static int32_t futrts_clzz8(int8_t x)
{
    return clz(x);
}
static int32_t futrts_clzz16(int16_t x)
{
    return clz(x);
}
static int32_t futrts_clzz32(int32_t x)
{
    return clz(x);
}
static int32_t futrts_clzz64(int64_t x)
{
    return clz(x);
}
#elif defined(__CUDA_ARCH__)
static int32_t futrts_clzz8(int8_t x)
{
    return __clz(zext_i8_i32(x)) - 24;
}
static int32_t futrts_clzz16(int16_t x)
{
    return __clz(zext_i16_i32(x)) - 16;
}
static int32_t futrts_clzz32(int32_t x)
{
    return __clz(x);
}
static int32_t futrts_clzz64(int64_t x)
{
    return __clzll(x);
}
#else
static int32_t futrts_clzz8(int8_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
static int32_t futrts_clzz16(int16_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
static int32_t futrts_clzz32(int32_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
static int32_t futrts_clzz64(int64_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
#endif
#if defined(__OPENCL_VERSION__)
static int32_t futrts_ctzz8(int8_t x)
{
    int i = 0;
    
    for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
static int32_t futrts_ctzz16(int16_t x)
{
    int i = 0;
    
    for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
static int32_t futrts_ctzz32(int32_t x)
{
    int i = 0;
    
    for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
static int32_t futrts_ctzz64(int64_t x)
{
    int i = 0;
    
    for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
#elif defined(__CUDA_ARCH__)
static int32_t futrts_ctzz8(int8_t x)
{
    int y = __ffs(x);
    
    return y == 0 ? 8 : y - 1;
}
static int32_t futrts_ctzz16(int16_t x)
{
    int y = __ffs(x);
    
    return y == 0 ? 16 : y - 1;
}
static int32_t futrts_ctzz32(int32_t x)
{
    int y = __ffs(x);
    
    return y == 0 ? 32 : y - 1;
}
static int32_t futrts_ctzz64(int64_t x)
{
    int y = __ffsll(x);
    
    return y == 0 ? 64 : y - 1;
}
#else
static int32_t futrts_ctzz8(int8_t x)
{
    return x == 0 ? 8 : __builtin_ctz((uint32_t) x);
}
static int32_t futrts_ctzz16(int16_t x)
{
    return x == 0 ? 16 : __builtin_ctz((uint32_t) x);
}
static int32_t futrts_ctzz32(int32_t x)
{
    return x == 0 ? 32 : __builtin_ctz(x);
}
static int32_t futrts_ctzz64(int64_t x)
{
    return x == 0 ? 64 : __builtin_ctzll(x);
}
#endif
static inline float fdiv32(float x, float y)
{
    return x / y;
}
static inline float fadd32(float x, float y)
{
    return x + y;
}
static inline float fsub32(float x, float y)
{
    return x - y;
}
static inline float fmul32(float x, float y)
{
    return x * y;
}
static inline bool cmplt32(float x, float y)
{
    return x < y;
}
static inline bool cmple32(float x, float y)
{
    return x <= y;
}
static inline float sitofp_i8_f32(int8_t x)
{
    return (float) x;
}
static inline float sitofp_i16_f32(int16_t x)
{
    return (float) x;
}
static inline float sitofp_i32_f32(int32_t x)
{
    return (float) x;
}
static inline float sitofp_i64_f32(int64_t x)
{
    return (float) x;
}
static inline float uitofp_i8_f32(uint8_t x)
{
    return (float) x;
}
static inline float uitofp_i16_f32(uint16_t x)
{
    return (float) x;
}
static inline float uitofp_i32_f32(uint32_t x)
{
    return (float) x;
}
static inline float uitofp_i64_f32(uint64_t x)
{
    return (float) x;
}
static inline int8_t fptosi_f32_i8(float x)
{
    return (int8_t) x;
}
static inline int16_t fptosi_f32_i16(float x)
{
    return (int16_t) x;
}
static inline int32_t fptosi_f32_i32(float x)
{
    return (int32_t) x;
}
static inline int64_t fptosi_f32_i64(float x)
{
    return (int64_t) x;
}
static inline uint8_t fptoui_f32_i8(float x)
{
    return (uint8_t) x;
}
static inline uint16_t fptoui_f32_i16(float x)
{
    return (uint16_t) x;
}
static inline uint32_t fptoui_f32_i32(float x)
{
    return (uint32_t) x;
}
static inline uint64_t fptoui_f32_i64(float x)
{
    return (uint64_t) x;
}
static inline double fdiv64(double x, double y)
{
    return x / y;
}
static inline double fadd64(double x, double y)
{
    return x + y;
}
static inline double fsub64(double x, double y)
{
    return x - y;
}
static inline double fmul64(double x, double y)
{
    return x * y;
}
static inline bool cmplt64(double x, double y)
{
    return x < y;
}
static inline bool cmple64(double x, double y)
{
    return x <= y;
}
static inline double sitofp_i8_f64(int8_t x)
{
    return (double) x;
}
static inline double sitofp_i16_f64(int16_t x)
{
    return (double) x;
}
static inline double sitofp_i32_f64(int32_t x)
{
    return (double) x;
}
static inline double sitofp_i64_f64(int64_t x)
{
    return (double) x;
}
static inline double uitofp_i8_f64(uint8_t x)
{
    return (double) x;
}
static inline double uitofp_i16_f64(uint16_t x)
{
    return (double) x;
}
static inline double uitofp_i32_f64(uint32_t x)
{
    return (double) x;
}
static inline double uitofp_i64_f64(uint64_t x)
{
    return (double) x;
}
static inline int8_t fptosi_f64_i8(double x)
{
    return (int8_t) x;
}
static inline int16_t fptosi_f64_i16(double x)
{
    return (int16_t) x;
}
static inline int32_t fptosi_f64_i32(double x)
{
    return (int32_t) x;
}
static inline int64_t fptosi_f64_i64(double x)
{
    return (int64_t) x;
}
static inline uint8_t fptoui_f64_i8(double x)
{
    return (uint8_t) x;
}
static inline uint16_t fptoui_f64_i16(double x)
{
    return (uint16_t) x;
}
static inline uint32_t fptoui_f64_i32(double x)
{
    return (uint32_t) x;
}
static inline uint64_t fptoui_f64_i64(double x)
{
    return (uint64_t) x;
}
static inline float fpconv_f32_f32(float x)
{
    return (float) x;
}
static inline double fpconv_f32_f64(float x)
{
    return (double) x;
}
static inline float fpconv_f64_f32(double x)
{
    return (float) x;
}
static inline double fpconv_f64_f64(double x)
{
    return (double) x;
}
#ifdef __OPENCL_VERSION__
static inline float fabs32(float x)
{
    return fabs(x);
}
static inline float fmax32(float x, float y)
{
    return fmax(x, y);
}
static inline float fmin32(float x, float y)
{
    return fmin(x, y);
}
static inline float fpow32(float x, float y)
{
    return pow(x, y);
}
#else
static inline float fabs32(float x)
{
    return fabsf(x);
}
static inline float fmax32(float x, float y)
{
    return fmaxf(x, y);
}
static inline float fmin32(float x, float y)
{
    return fminf(x, y);
}
static inline float fpow32(float x, float y)
{
    return powf(x, y);
}
#endif
static inline bool futrts_isnan32(float x)
{
    return isnan(x);
}
static inline bool futrts_isinf32(float x)
{
    return isinf(x);
}
#ifdef __OPENCL_VERSION__
static inline float futrts_log32(float x)
{
    return log(x);
}
static inline float futrts_log2_32(float x)
{
    return log2(x);
}
static inline float futrts_log10_32(float x)
{
    return log10(x);
}
static inline float futrts_sqrt32(float x)
{
    return sqrt(x);
}
static inline float futrts_exp32(float x)
{
    return exp(x);
}
static inline float futrts_cos32(float x)
{
    return cos(x);
}
static inline float futrts_sin32(float x)
{
    return sin(x);
}
static inline float futrts_tan32(float x)
{
    return tan(x);
}
static inline float futrts_acos32(float x)
{
    return acos(x);
}
static inline float futrts_asin32(float x)
{
    return asin(x);
}
static inline float futrts_atan32(float x)
{
    return atan(x);
}
static inline float futrts_cosh32(float x)
{
    return cosh(x);
}
static inline float futrts_sinh32(float x)
{
    return sinh(x);
}
static inline float futrts_tanh32(float x)
{
    return tanh(x);
}
static inline float futrts_acosh32(float x)
{
    return acosh(x);
}
static inline float futrts_asinh32(float x)
{
    return asinh(x);
}
static inline float futrts_atanh32(float x)
{
    return atanh(x);
}
static inline float futrts_atan2_32(float x, float y)
{
    return atan2(x, y);
}
static inline float futrts_hypot32(float x, float y)
{
    return hypot(x, y);
}
static inline float futrts_gamma32(float x)
{
    return tgamma(x);
}
static inline float futrts_lgamma32(float x)
{
    return lgamma(x);
}
static inline float fmod32(float x, float y)
{
    return fmod(x, y);
}
static inline float futrts_round32(float x)
{
    return rint(x);
}
static inline float futrts_floor32(float x)
{
    return floor(x);
}
static inline float futrts_ceil32(float x)
{
    return ceil(x);
}
static inline float futrts_lerp32(float v0, float v1, float t)
{
    return mix(v0, v1, t);
}
static inline float futrts_mad32(float a, float b, float c)
{
    return mad(a, b, c);
}
static inline float futrts_fma32(float a, float b, float c)
{
    return fma(a, b, c);
}
#else
static inline float futrts_log32(float x)
{
    return logf(x);
}
static inline float futrts_log2_32(float x)
{
    return log2f(x);
}
static inline float futrts_log10_32(float x)
{
    return log10f(x);
}
static inline float futrts_sqrt32(float x)
{
    return sqrtf(x);
}
static inline float futrts_exp32(float x)
{
    return expf(x);
}
static inline float futrts_cos32(float x)
{
    return cosf(x);
}
static inline float futrts_sin32(float x)
{
    return sinf(x);
}
static inline float futrts_tan32(float x)
{
    return tanf(x);
}
static inline float futrts_acos32(float x)
{
    return acosf(x);
}
static inline float futrts_asin32(float x)
{
    return asinf(x);
}
static inline float futrts_atan32(float x)
{
    return atanf(x);
}
static inline float futrts_cosh32(float x)
{
    return coshf(x);
}
static inline float futrts_sinh32(float x)
{
    return sinhf(x);
}
static inline float futrts_tanh32(float x)
{
    return tanhf(x);
}
static inline float futrts_acosh32(float x)
{
    return acoshf(x);
}
static inline float futrts_asinh32(float x)
{
    return asinhf(x);
}
static inline float futrts_atanh32(float x)
{
    return atanhf(x);
}
static inline float futrts_atan2_32(float x, float y)
{
    return atan2f(x, y);
}
static inline float futrts_hypot32(float x, float y)
{
    return hypotf(x, y);
}
static inline float futrts_gamma32(float x)
{
    return tgammaf(x);
}
static inline float futrts_lgamma32(float x)
{
    return lgammaf(x);
}
static inline float fmod32(float x, float y)
{
    return fmodf(x, y);
}
static inline float futrts_round32(float x)
{
    return rintf(x);
}
static inline float futrts_floor32(float x)
{
    return floorf(x);
}
static inline float futrts_ceil32(float x)
{
    return ceilf(x);
}
static inline float futrts_lerp32(float v0, float v1, float t)
{
    return v0 + (v1 - v0) * t;
}
static inline float futrts_mad32(float a, float b, float c)
{
    return a * b + c;
}
static inline float futrts_fma32(float a, float b, float c)
{
    return fmaf(a, b, c);
}
#endif
static inline int32_t futrts_to_bits32(float x)
{
    union {
        float f;
        int32_t t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline float futrts_from_bits32(int32_t x)
{
    union {
        int32_t f;
        float t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline float fsignum32(float x)
{
    return futrts_isnan32(x) ? x : (x > 0) - (x < 0);
}
static inline double fabs64(double x)
{
    return fabs(x);
}
static inline float fmax64(double x, double y)
{
    return fmax(x, y);
}
static inline float fmin64(double x, double y)
{
    return fmin(x, y);
}
static inline double fpow64(double x, double y)
{
    return pow(x, y);
}
static inline double futrts_log64(double x)
{
    return log(x);
}
static inline double futrts_log2_64(double x)
{
    return log2(x);
}
static inline double futrts_log10_64(double x)
{
    return log10(x);
}
static inline double futrts_sqrt64(double x)
{
    return sqrt(x);
}
static inline double futrts_exp64(double x)
{
    return exp(x);
}
static inline double futrts_cos64(double x)
{
    return cos(x);
}
static inline double futrts_sin64(double x)
{
    return sin(x);
}
static inline double futrts_tan64(double x)
{
    return tan(x);
}
static inline double futrts_acos64(double x)
{
    return acos(x);
}
static inline double futrts_asin64(double x)
{
    return asin(x);
}
static inline double futrts_atan64(double x)
{
    return atan(x);
}
static inline double futrts_cosh64(double x)
{
    return cosh(x);
}
static inline double futrts_sinh64(double x)
{
    return sinh(x);
}
static inline double futrts_tanh64(double x)
{
    return tanh(x);
}
static inline double futrts_acosh64(double x)
{
    return acosh(x);
}
static inline double futrts_asinh64(double x)
{
    return asinh(x);
}
static inline double futrts_atanh64(double x)
{
    return atanh(x);
}
static inline double futrts_atan2_64(double x, double y)
{
    return atan2(x, y);
}
static inline double futrts_hypot64(double x, double y)
{
    return hypot(x, y);
}
static inline double futrts_gamma64(double x)
{
    return tgamma(x);
}
static inline double futrts_lgamma64(double x)
{
    return lgamma(x);
}
static inline double futrts_fma64(double a, double b, double c)
{
    return fma(a, b, c);
}
static inline double futrts_round64(double x)
{
    return rint(x);
}
static inline double futrts_ceil64(double x)
{
    return ceil(x);
}
static inline double futrts_floor64(double x)
{
    return floor(x);
}
static inline bool futrts_isnan64(double x)
{
    return isnan(x);
}
static inline bool futrts_isinf64(double x)
{
    return isinf(x);
}
static inline int64_t futrts_to_bits64(double x)
{
    union {
        double f;
        int64_t t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline double futrts_from_bits64(int64_t x)
{
    union {
        int64_t f;
        double t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline double fmod64(double x, double y)
{
    return fmod(x, y);
}
static inline double fsignum64(double x)
{
    return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}
#ifdef __OPENCL_VERSION__
static inline double futrts_lerp64(double v0, double v1, double t)
{
    return mix(v0, v1, t);
}
static inline double futrts_mad64(double a, double b, double c)
{
    return mad(a, b, c);
}
#else
static inline double futrts_lerp64(double v0, double v1, double t)
{
    return v0 + (v1 - v0) * t;
}
static inline double futrts_mad64(double a, double b, double c)
{
    return a * b + c;
}
#endif
static int init_constants(struct futhark_context *);
static int free_constants(struct futhark_context *);
struct memblock {
    int *references;
    char *mem;
    int64_t size;
    const char *desc;
};
struct futhark_context_config {
    int debugging;
};
struct futhark_context_config *futhark_context_config_new(void)
{
    struct futhark_context_config *cfg =
                                  (struct futhark_context_config *) malloc(sizeof(struct futhark_context_config));
    
    if (cfg == NULL)
        return NULL;
    cfg->debugging = 0;
    return cfg;
}
void futhark_context_config_free(struct futhark_context_config *cfg)
{
    free(cfg);
}
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int detail)
{
    cfg->debugging = detail;
}
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int detail)
{
    /* Does nothing for this backend. */
    (void) cfg;
    (void) detail;
}
struct futhark_context {
    int detail_memory;
    int debugging;
    int profiling;
    int logging;
    lock_t lock;
    char *error;
    FILE *log;
    int profiling_paused;
    int64_t peak_mem_usage_default;
    int64_t cur_mem_usage_default;
    struct {
        int dummy;
    } constants;
};
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg)
{
    struct futhark_context *ctx =
                           (struct futhark_context *) malloc(sizeof(struct futhark_context));
    
    if (ctx == NULL)
        return NULL;
    ctx->detail_memory = cfg->debugging;
    ctx->debugging = cfg->debugging;
    ctx->profiling = cfg->debugging;
    ctx->logging = cfg->debugging;
    ctx->error = NULL;
    ctx->log = stderr;
    create_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    ctx->cur_mem_usage_default = 0;
    init_constants(ctx);
    return ctx;
}
void futhark_context_free(struct futhark_context *ctx)
{
    free_constants(ctx);
    free_lock(&ctx->lock);
    free(ctx);
}
int futhark_context_sync(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
static const char *size_names[0];
static const char *size_vars[0];
static const char *size_classes[0];
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value)
{
    (void) cfg;
    (void) size_name;
    (void) size_value;
    return 1;
}
static int memblock_unref(struct futhark_context *ctx, struct memblock *block,
                          const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log,
                    "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n",
                    desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            free(block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log,
                        "%lld bytes freed (now allocated: %lld bytes)\n",
                        (long long) block->size,
                        (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
static int memblock_alloc(struct futhark_context *ctx, struct memblock *block,
                          int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1,
                      "Negative allocation of %lld bytes attempted for %s in %s.\n",
                      (long long) size, desc, "default space",
                      ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    ctx->cur_mem_usage_default += size;
    if (ctx->detail_memory)
        fprintf(ctx->log,
                "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)",
                (long long) size, desc, "default space",
                (long long) ctx->cur_mem_usage_default);
    if (ctx->cur_mem_usage_default > ctx->peak_mem_usage_default) {
        ctx->peak_mem_usage_default = ctx->cur_mem_usage_default;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    block->mem = (char *) malloc(size);
    block->references = (int *) malloc(sizeof(int));
    *block->references = 1;
    block->size = size;
    block->desc = desc;
    return ret;
}
static int memblock_set(struct futhark_context *ctx, struct memblock *lhs,
                        struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
int futhark_get_num_sizes(void)
{
    return sizeof(size_names) / sizeof(size_names[0]);
}
const char *futhark_get_size_name(int i)
{
    return size_names[i];
}
const char *futhark_get_size_class(int i)
{
    return size_classes[i];
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    if (ctx->detail_memory || ctx->profiling || ctx->logging) {
        { }
    }
    if (ctx->profiling) { }
    return builder.str;
}
char *futhark_context_get_error(struct futhark_context *ctx)
{
    char *error = ctx->error;
    
    ctx->error = NULL;
    return error;
}
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f)
{
    ctx->log = f;
}
void futhark_context_pause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 1;
}
void futhark_context_unpause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 0;
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_65511,
                             struct memblock Y_mem_64063, int64_t m_62255,
                             int64_t n_62256, int64_t q_62258,
                             int64_t degree_62259, int64_t jump_62260,
                             int64_t jump_threshold_62261,
                             int64_t q_threshold_62262);
static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_f32_2d {
    struct memblock mem;
    int64_t shape[2];
};
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, (size_t) (dim0 * dim1) * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    memmove(arr->mem.mem + 0, data + 0, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              char *data, int offset,
                                              int64_t dim0, int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, (size_t) (dim0 * dim1) * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    memmove(arr->mem.mem + 0, data + offset, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data)
{
    lock_lock(&ctx->lock);
    memmove(data + 0, arr->mem.mem + 0, (size_t) (arr->shape[0] *
                                                  arr->shape[1]) * 4);
    lock_unlock(&ctx->lock);
    return 0;
}
char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->shape;
}
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_65511,
                             struct memblock Y_mem_64063, int64_t m_62255,
                             int64_t n_62256, int64_t q_62258,
                             int64_t degree_62259, int64_t jump_62260,
                             int64_t jump_threshold_62261,
                             int64_t q_threshold_62262)
{
    (void) ctx;
    
    int err = 0;
    size_t mem_64084_cached_sizze_65512 = 0;
    char *mem_64084 = NULL;
    size_t mem_64099_cached_sizze_65513 = 0;
    char *mem_64099 = NULL;
    size_t mem_64102_cached_sizze_65514 = 0;
    char *mem_64102 = NULL;
    size_t mem_64129_cached_sizze_65515 = 0;
    char *mem_64129 = NULL;
    size_t mem_64132_cached_sizze_65516 = 0;
    char *mem_64132 = NULL;
    size_t mem_64159_cached_sizze_65517 = 0;
    char *mem_64159 = NULL;
    size_t mem_64232_cached_sizze_65518 = 0;
    char *mem_64232 = NULL;
    size_t mem_64247_cached_sizze_65519 = 0;
    char *mem_64247 = NULL;
    size_t mem_64250_cached_sizze_65520 = 0;
    char *mem_64250 = NULL;
    size_t mem_64277_cached_sizze_65521 = 0;
    char *mem_64277 = NULL;
    size_t mem_64280_cached_sizze_65522 = 0;
    char *mem_64280 = NULL;
    size_t mem_64307_cached_sizze_65523 = 0;
    char *mem_64307 = NULL;
    size_t mem_64410_cached_sizze_65524 = 0;
    char *mem_64410 = NULL;
    size_t mem_64425_cached_sizze_65525 = 0;
    char *mem_64425 = NULL;
    size_t mem_64428_cached_sizze_65526 = 0;
    char *mem_64428 = NULL;
    size_t mem_64455_cached_sizze_65527 = 0;
    char *mem_64455 = NULL;
    size_t mem_64458_cached_sizze_65528 = 0;
    char *mem_64458 = NULL;
    size_t mem_64485_cached_sizze_65529 = 0;
    char *mem_64485 = NULL;
    size_t mem_64610_cached_sizze_65530 = 0;
    char *mem_64610 = NULL;
    size_t mem_64625_cached_sizze_65531 = 0;
    char *mem_64625 = NULL;
    size_t mem_64628_cached_sizze_65532 = 0;
    char *mem_64628 = NULL;
    size_t mem_64655_cached_sizze_65533 = 0;
    char *mem_64655 = NULL;
    size_t mem_64658_cached_sizze_65534 = 0;
    char *mem_64658 = NULL;
    size_t mem_64685_cached_sizze_65535 = 0;
    char *mem_64685 = NULL;
    size_t mem_64711_cached_sizze_65536 = 0;
    char *mem_64711 = NULL;
    size_t mem_64773_cached_sizze_65537 = 0;
    char *mem_64773 = NULL;
    size_t mem_64788_cached_sizze_65538 = 0;
    char *mem_64788 = NULL;
    size_t mem_64791_cached_sizze_65539 = 0;
    char *mem_64791 = NULL;
    size_t mem_64818_cached_sizze_65540 = 0;
    char *mem_64818 = NULL;
    size_t mem_64821_cached_sizze_65541 = 0;
    char *mem_64821 = NULL;
    size_t mem_64848_cached_sizze_65542 = 0;
    char *mem_64848 = NULL;
    size_t mem_64885_cached_sizze_65543 = 0;
    char *mem_64885 = NULL;
    size_t mem_64888_cached_sizze_65544 = 0;
    char *mem_64888 = NULL;
    size_t mem_64981_cached_sizze_65545 = 0;
    char *mem_64981 = NULL;
    size_t mem_64996_cached_sizze_65546 = 0;
    char *mem_64996 = NULL;
    size_t mem_64999_cached_sizze_65547 = 0;
    char *mem_64999 = NULL;
    size_t mem_65026_cached_sizze_65548 = 0;
    char *mem_65026 = NULL;
    size_t mem_65029_cached_sizze_65549 = 0;
    char *mem_65029 = NULL;
    size_t mem_65056_cached_sizze_65550 = 0;
    char *mem_65056 = NULL;
    size_t mem_65093_cached_sizze_65551 = 0;
    char *mem_65093 = NULL;
    size_t mem_65096_cached_sizze_65552 = 0;
    char *mem_65096 = NULL;
    size_t mem_65123_cached_sizze_65553 = 0;
    char *mem_65123 = NULL;
    size_t mem_65126_cached_sizze_65554 = 0;
    char *mem_65126 = NULL;
    struct memblock mem_out_65353;
    
    mem_out_65353.references = NULL;
    
    bool cond_62263 = jump_62260 == (int64_t) 1;
    int64_t n_m_62264;
    
    if (cond_62263) {
        n_m_62264 = n_62256;
    } else {
        bool zzero_62265 = jump_62260 == (int64_t) 0;
        bool nonzzero_62266 = !zzero_62265;
        bool nonzzero_cert_62267;
        
        if (!nonzzero_62266) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  loess.fut:446:38-45\n   #1  loess.fut:439:1-479:26\n");
            if (memblock_unref(ctx, &mem_out_65353, "mem_out_65353") != 0)
                return 1;
            return 1;
        }
        
        int64_t x_62268 = sdiv64(n_62256, jump_62260);
        int64_t n_m_f_res_62269 = add64((int64_t) 1, x_62268);
        
        n_m_62264 = n_m_f_res_62269;
    }
    
    int64_t i_62270 = sub64(n_62256, (int64_t) 1);
    bool x_62271 = sle64((int64_t) 0, i_62270);
    bool y_62272 = slt64(i_62270, n_62256);
    bool bounds_check_62273 = x_62271 && y_62272;
    bool index_certs_62274;
    
    if (!bounds_check_62273) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [", (long long) i_62270,
                               "] out of bounds for array of shape [",
                               (long long) n_62256, "].",
                               "-> #0  /prelude/array.fut:26:29-34\n   #1  utils.fut:38:13-20\n   #2  loess.fut:451:5-54\n   #3  loess.fut:439:1-479:26\n");
        if (memblock_unref(ctx, &mem_out_65353, "mem_out_65353") != 0)
            return 1;
        return 1;
    }
    
    int64_t min_res_62276 = smin64(n_62256, q_62258);
    bool bounds_invalid_upwards_62277 = slt64(n_m_62264, (int64_t) 0);
    bool valid_62278 = !bounds_invalid_upwards_62277;
    bool range_valid_c_62279;
    
    if (!valid_62278) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) n_m_62264, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  loess.fut:345:3-374:7\n   #3  loess.fut:409:15-61\n   #4  loess.fut:456:13-56\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  loess.fut:455:5-457:26\n   #8  loess.fut:439:1-479:26\n");
        if (memblock_unref(ctx, &mem_out_65353, "mem_out_65353") != 0)
            return 1;
        return 1;
    }
    
    bool loop_cond_62281 = slt64((int64_t) 1, min_res_62276);
    float i64_res_62282 = sitofp_i64_f32(q_62258);
    bool cond_62283 = slt64(jump_62260, jump_threshold_62261);
    bool cond_f_res_62284 = slt64(q_threshold_62262, q_62258);
    bool x_62285 = !cond_62283;
    bool y_62286 = cond_f_res_62284 && x_62285;
    bool cond_62287 = cond_62283 || y_62286;
    struct memblock ext_mem_65229;
    
    ext_mem_65229.references = NULL;
    
    struct memblock ext_mem_65221;
    
    ext_mem_65221.references = NULL;
    if (cond_62287) {
        bool match_lit_62290 = (int64_t) 0 == degree_62259;
        int64_t binop_x_64065 = m_62255 * n_m_62264;
        int64_t binop_y_64066 = (int64_t) 4 * binop_x_64065;
        int64_t bytes_64064 = smax64((int64_t) 0, binop_y_64066);
        int64_t binop_y_64083 = (int64_t) 8 * n_62256;
        int64_t bytes_64082 = smax64((int64_t) 0, binop_y_64083);
        int64_t binop_y_64098 = (int64_t) 4 * n_62256;
        int64_t bytes_64097 = smax64((int64_t) 0, binop_y_64098);
        int64_t binop_y_64158 = (int64_t) 4 * q_62258;
        int64_t bytes_64157 = smax64((int64_t) 0, binop_y_64158);
        struct memblock ext_mem_64582;
        
        ext_mem_64582.references = NULL;
        
        struct memblock ext_mem_64574;
        
        ext_mem_64574.references = NULL;
        if (match_lit_62290) {
            struct memblock mem_64067;
            
            mem_64067.references = NULL;
            if (memblock_alloc(ctx, &mem_64067, bytes_64064, "mem_64067")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_65354 = 0; i_65354 < m_62255; i_65354++) {
                for (int64_t i_65355 = 0; i_65355 < n_m_62264; i_65355++) {
                    ((float *) mem_64067.mem)[i_65354 * n_m_62264 + i_65355] =
                        0.0F;
                }
            }
            
            struct memblock mem_64071;
            
            mem_64071.references = NULL;
            if (memblock_alloc(ctx, &mem_64071, bytes_64064, "mem_64071")) {
                err = 1;
                goto cleanup;
            }
            if (mem_64084_cached_sizze_65512 < (size_t) bytes_64082) {
                mem_64084 = realloc(mem_64084, bytes_64082);
                mem_64084_cached_sizze_65512 = bytes_64082;
            }
            if (mem_64099_cached_sizze_65513 < (size_t) bytes_64097) {
                mem_64099 = realloc(mem_64099, bytes_64097);
                mem_64099_cached_sizze_65513 = bytes_64097;
            }
            if (mem_64102_cached_sizze_65514 < (size_t) bytes_64082) {
                mem_64102 = realloc(mem_64102, bytes_64082);
                mem_64102_cached_sizze_65514 = bytes_64082;
            }
            if (mem_64129_cached_sizze_65515 < (size_t) bytes_64097) {
                mem_64129 = realloc(mem_64129, bytes_64097);
                mem_64129_cached_sizze_65515 = bytes_64097;
            }
            if (mem_64132_cached_sizze_65516 < (size_t) bytes_64082) {
                mem_64132 = realloc(mem_64132, bytes_64082);
                mem_64132_cached_sizze_65516 = bytes_64082;
            }
            if (mem_64159_cached_sizze_65517 < (size_t) bytes_64157) {
                mem_64159 = realloc(mem_64159, bytes_64157);
                mem_64159_cached_sizze_65517 = bytes_64157;
            }
            for (int64_t i_63677 = 0; i_63677 < m_62255; i_63677++) {
                int64_t discard_63647;
                int64_t scanacc_63643 = (int64_t) 0;
                
                for (int64_t i_63645 = 0; i_63645 < n_62256; i_63645++) {
                    float x_62301 = ((float *) Y_mem_64063.mem)[i_63677 *
                                                                n_62256 +
                                                                i_63645];
                    bool isnan_res_62302;
                    
                    isnan_res_62302 = futrts_isnan32(x_62301);
                    
                    bool defunc_0_p_res_62303 = !isnan_res_62302;
                    int64_t defunc_0_f_res_62304 =
                            btoi_bool_i64(defunc_0_p_res_62303);
                    int64_t defunc_1_op_res_62300 = add64(defunc_0_f_res_62304,
                                                          scanacc_63643);
                    
                    ((int64_t *) mem_64084)[i_63645] = defunc_1_op_res_62300;
                    
                    int64_t scanacc_tmp_65357 = defunc_1_op_res_62300;
                    
                    scanacc_63643 = scanacc_tmp_65357;
                }
                discard_63647 = scanacc_63643;
                
                int64_t last_res_62305 = ((int64_t *) mem_64084)[i_62270];
                
                for (int64_t i_65359 = 0; i_65359 < n_62256; i_65359++) {
                    ((float *) mem_64099)[i_65359] = 0.0F;
                }
                for (int64_t i_65360 = 0; i_65360 < n_62256; i_65360++) {
                    ((int64_t *) mem_64102)[i_65360] = (int64_t) -1;
                }
                for (int64_t write_iter_63648 = 0; write_iter_63648 < n_62256;
                     write_iter_63648++) {
                    float write_iv_63651 = ((float *) Y_mem_64063.mem)[i_63677 *
                                                                       n_62256 +
                                                                       write_iter_63648];
                    int64_t write_iv_63652 =
                            ((int64_t *) mem_64084)[write_iter_63648];
                    bool isnan_res_62313;
                    
                    isnan_res_62313 = futrts_isnan32(write_iv_63651);
                    
                    bool defunc_0_p_res_62314 = !isnan_res_62313;
                    int64_t defunc_1_f_res_62315;
                    
                    if (defunc_0_p_res_62314) {
                        int64_t defunc_1_f_res_t_res_62316 =
                                sub64(write_iv_63652, (int64_t) 1);
                        
                        defunc_1_f_res_62315 = defunc_1_f_res_t_res_62316;
                    } else {
                        defunc_1_f_res_62315 = (int64_t) -1;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_62315) &&
                        slt64(defunc_1_f_res_62315, n_62256)) {
                        ((int64_t *) mem_64102)[defunc_1_f_res_62315] =
                            write_iter_63648;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_62315) &&
                        slt64(defunc_1_f_res_62315, n_62256)) {
                        memmove(mem_64099 + defunc_1_f_res_62315 * (int64_t) 4,
                                Y_mem_64063.mem + (i_63677 * n_62256 +
                                                   write_iter_63648) *
                                (int64_t) 4, (int64_t) 4);
                    }
                }
                
                int64_t min_arg_62320 = sub64(last_res_62305, (int64_t) 1);
                int64_t min_arg_62321 = sub64(last_res_62305, min_res_62276);
                int64_t min_res_62322 = smin64(q_62258, last_res_62305);
                float i64_res_62323 = sitofp_i64_f32(last_res_62305);
                float x_62324 = i64_res_62282 - i64_res_62323;
                float max_arg_62325 = x_62324 / 2.0F;
                float max_res_62326 = fmax32(0.0F, max_arg_62325);
                
                for (int64_t i_63660 = 0; i_63660 < n_62256; i_63660++) {
                    int64_t x_62329 = ((int64_t *) mem_64102)[i_63660];
                    int64_t defunc_0_f_res_62330 = add64((int64_t) 1, x_62329);
                    float defunc_0_f_res_62331 = sitofp_i64_f32(x_62329);
                    
                    ((float *) mem_64129)[i_63660] = defunc_0_f_res_62331;
                    ((int64_t *) mem_64132)[i_63660] = defunc_0_f_res_62330;
                }
                for (int64_t i_63665 = 0; i_63665 < q_62258; i_63665++) {
                    bool cond_62336 = sle64(last_res_62305, i_63665);
                    float defunc_0_f_res_62337;
                    
                    if (cond_62336) {
                        defunc_0_f_res_62337 = 0.0F;
                    } else {
                        defunc_0_f_res_62337 = 1.0F;
                    }
                    ((float *) mem_64159)[i_63665] = defunc_0_f_res_62337;
                }
                for (int64_t i_63673 = 0; i_63673 < n_m_62264; i_63673++) {
                    int64_t min_arg_62340 = mul64(jump_62260, i_63673);
                    int64_t min_res_62341 = smin64(i_62270, min_arg_62340);
                    int64_t defunc_0_g_res_62342 = add64((int64_t) 1,
                                                         min_res_62341);
                    bool init_idx_62343;
                    int64_t init_idx_62344;
                    int64_t init_idx_62345;
                    bool loop_while_62346;
                    int64_t low_62347;
                    int64_t high_62348;
                    
                    loop_while_62346 = x_62271;
                    low_62347 = (int64_t) 0;
                    high_62348 = i_62270;
                    while (loop_while_62346) {
                        int64_t x_62349 = add64(low_62347, high_62348);
                        int64_t mid_62350 = sdiv64(x_62349, (int64_t) 2);
                        bool x_62351 = sle64((int64_t) 0, mid_62350);
                        bool y_62352 = slt64(mid_62350, n_62256);
                        bool bounds_check_62353 = x_62351 && y_62352;
                        bool index_certs_62354;
                        
                        if (!bounds_check_62353) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) mid_62350,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64071, "mem_64071") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64067, "mem_64067") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64574,
                                               "ext_mem_64574") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64582,
                                               "ext_mem_64582") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t mid_id_62355 =
                                ((int64_t *) mem_64132)[mid_62350];
                        bool cond_62356 = slt64(mid_id_62355, (int64_t) 0);
                        int64_t mid_idx_62357;
                        
                        if (cond_62356) {
                            mid_idx_62357 = (int64_t) 9223372036854775807;
                        } else {
                            mid_idx_62357 = mid_id_62355;
                        }
                        
                        bool cond_62358 = sle64(defunc_0_g_res_62342,
                                                mid_idx_62357);
                        int64_t loopres_62359;
                        int64_t loopres_62360;
                        
                        if (cond_62358) {
                            int64_t loopres_t_res_62361 = sub64(mid_62350,
                                                                (int64_t) 1);
                            
                            loopres_62359 = low_62347;
                            loopres_62360 = loopres_t_res_62361;
                        } else {
                            int64_t loopres_f_res_62362 = add64((int64_t) 1,
                                                                mid_62350);
                            
                            loopres_62359 = loopres_f_res_62362;
                            loopres_62360 = high_62348;
                        }
                        
                        bool loop_cond_62363 = sle64(loopres_62359,
                                                     loopres_62360);
                        bool loop_while_tmp_65367 = loop_cond_62363;
                        int64_t low_tmp_65368 = loopres_62359;
                        int64_t high_tmp_65369 = loopres_62360;
                        
                        loop_while_62346 = loop_while_tmp_65367;
                        low_62347 = low_tmp_65368;
                        high_62348 = high_tmp_65369;
                    }
                    init_idx_62343 = loop_while_62346;
                    init_idx_62344 = low_62347;
                    init_idx_62345 = high_62348;
                    
                    bool idx_62364;
                    int64_t idx_62365;
                    int64_t idx_62366;
                    int64_t idx_62367;
                    bool loop_while_62368;
                    int64_t l_idx_62369;
                    int64_t r_idx_62370;
                    int64_t span_62371;
                    
                    loop_while_62368 = loop_cond_62281;
                    l_idx_62369 = init_idx_62344;
                    r_idx_62370 = init_idx_62344;
                    span_62371 = (int64_t) 1;
                    while (loop_while_62368) {
                        int64_t max_arg_62372 = sub64(l_idx_62369, (int64_t) 1);
                        int64_t max_res_62373 = smax64((int64_t) 0,
                                                       max_arg_62372);
                        int64_t min_arg_62374 = add64((int64_t) 1, r_idx_62370);
                        int64_t min_res_62375 = smin64(min_arg_62320,
                                                       min_arg_62374);
                        bool x_62376 = sle64((int64_t) 0, max_res_62373);
                        bool y_62377 = slt64(max_res_62373, n_62256);
                        bool bounds_check_62378 = x_62376 && y_62377;
                        bool index_certs_62379;
                        
                        if (!bounds_check_62378) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_62373,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64071, "mem_64071") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64067, "mem_64067") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64574,
                                               "ext_mem_64574") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64582,
                                               "ext_mem_64582") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_62380 =
                                ((int64_t *) mem_64132)[max_res_62373];
                        int64_t abs_arg_62381 = sub64(x_62380,
                                                      defunc_0_g_res_62342);
                        int64_t abs_res_62382 = abs64(abs_arg_62381);
                        bool x_62383 = sle64((int64_t) 0, min_res_62375);
                        bool y_62384 = slt64(min_res_62375, n_62256);
                        bool bounds_check_62385 = x_62383 && y_62384;
                        bool index_certs_62386;
                        
                        if (!bounds_check_62385) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) min_res_62375,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64071, "mem_64071") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64067, "mem_64067") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64574,
                                               "ext_mem_64574") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64582,
                                               "ext_mem_64582") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_62387 =
                                ((int64_t *) mem_64132)[min_res_62375];
                        int64_t abs_arg_62388 = sub64(x_62387,
                                                      defunc_0_g_res_62342);
                        int64_t abs_res_62389 = abs64(abs_arg_62388);
                        bool cond_62390 = max_res_62373 == l_idx_62369;
                        int64_t loopres_62391;
                        int64_t loopres_62392;
                        int64_t loopres_62393;
                        
                        if (cond_62390) {
                            loopres_62391 = l_idx_62369;
                            loopres_62392 = r_idx_62370;
                            loopres_62393 = min_res_62276;
                        } else {
                            bool cond_62394 = slt64(abs_res_62382,
                                                    abs_res_62389);
                            bool cond_f_res_62395 = min_res_62375 ==
                                 r_idx_62370;
                            bool x_62396 = !cond_62394;
                            bool y_62397 = cond_f_res_62395 && x_62396;
                            bool cond_62398 = cond_62394 || y_62397;
                            int64_t loopres_f_res_62399;
                            
                            if (cond_62398) {
                                loopres_f_res_62399 = max_res_62373;
                            } else {
                                loopres_f_res_62399 = l_idx_62369;
                            }
                            
                            int64_t loopres_f_res_62400;
                            
                            if (cond_62398) {
                                loopres_f_res_62400 = r_idx_62370;
                            } else {
                                loopres_f_res_62400 = min_res_62375;
                            }
                            
                            int64_t loopres_f_res_62401;
                            
                            if (cond_62398) {
                                int64_t loopres_f_res_t_res_62402 =
                                        add64((int64_t) 1, span_62371);
                                
                                loopres_f_res_62401 = loopres_f_res_t_res_62402;
                            } else {
                                int64_t loopres_f_res_f_res_62403 =
                                        add64((int64_t) 1, span_62371);
                                
                                loopres_f_res_62401 = loopres_f_res_f_res_62403;
                            }
                            loopres_62391 = loopres_f_res_62399;
                            loopres_62392 = loopres_f_res_62400;
                            loopres_62393 = loopres_f_res_62401;
                        }
                        
                        bool loop_cond_62404 = slt64(loopres_62393,
                                                     min_res_62276);
                        bool loop_while_tmp_65370 = loop_cond_62404;
                        int64_t l_idx_tmp_65371 = loopres_62391;
                        int64_t r_idx_tmp_65372 = loopres_62392;
                        int64_t span_tmp_65373 = loopres_62393;
                        
                        loop_while_62368 = loop_while_tmp_65370;
                        l_idx_62369 = l_idx_tmp_65371;
                        r_idx_62370 = r_idx_tmp_65372;
                        span_62371 = span_tmp_65373;
                    }
                    idx_62364 = loop_while_62368;
                    idx_62365 = l_idx_62369;
                    idx_62366 = r_idx_62370;
                    idx_62367 = span_62371;
                    
                    int64_t min_res_62405 = smin64(min_arg_62321, idx_62365);
                    int64_t max_res_62406 = smax64((int64_t) 0, min_res_62405);
                    int64_t x_62407 = add64(min_res_62322, max_res_62406);
                    int64_t r_62408 = sub64(x_62407, (int64_t) 1);
                    bool x_62409 = sle64((int64_t) 0, r_62408);
                    bool y_62410 = slt64(r_62408, n_62256);
                    bool bounds_check_62411 = x_62409 && y_62410;
                    bool index_certs_62412;
                    
                    if (!bounds_check_62411) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) r_62408,
                                      "] out of bounds for array of shape [",
                                      (long long) n_62256, "].",
                                      "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                        if (memblock_unref(ctx, &mem_64071, "mem_64071") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_64067, "mem_64067") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_64574,
                                           "ext_mem_64574") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_64582,
                                           "ext_mem_64582") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65221,
                                           "ext_mem_65221") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65229,
                                           "ext_mem_65229") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_65353,
                                           "mem_out_65353") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_62413 = ((int64_t *) mem_64102)[r_62408];
                    int64_t abs_arg_62414 = sub64(x_62413, min_res_62341);
                    int64_t abs_res_62415 = abs64(abs_arg_62414);
                    bool x_62416 = sle64((int64_t) 0, max_res_62406);
                    bool y_62417 = slt64(max_res_62406, n_62256);
                    bool bounds_check_62418 = x_62416 && y_62417;
                    bool index_certs_62419;
                    
                    if (!bounds_check_62418) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) max_res_62406,
                                      "] out of bounds for array of shape [",
                                      (long long) n_62256, "].",
                                      "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                        if (memblock_unref(ctx, &mem_64071, "mem_64071") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_64067, "mem_64067") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_64574,
                                           "ext_mem_64574") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_64582,
                                           "ext_mem_64582") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65221,
                                           "ext_mem_65221") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65229,
                                           "ext_mem_65229") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_65353,
                                           "mem_out_65353") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_62420 = ((int64_t *) mem_64102)[max_res_62406];
                    int64_t abs_arg_62421 = sub64(x_62420, min_res_62341);
                    int64_t abs_res_62422 = abs64(abs_arg_62421);
                    int64_t max_res_62423 = smax64(abs_res_62415,
                                                   abs_res_62422);
                    float defunc_0_f_res_62424 = sitofp_i64_f32(max_res_62423);
                    float defunc_1_f_res_62425 = max_res_62326 +
                          defunc_0_f_res_62424;
                    float defunc_0_f_res_62426 = sitofp_i64_f32(min_res_62341);
                    float defunc_2_reduce_res_62427;
                    float redout_63667 = 0.0F;
                    
                    for (int64_t i_63668 = 0; i_63668 < q_62258; i_63668++) {
                        float x_62432 = ((float *) mem_64159)[i_63668];
                        bool cond_62433 = sle64(last_res_62305, i_63668);
                        float defunc_0_f_res_62434;
                        
                        if (cond_62433) {
                            defunc_0_f_res_62434 = 0.0F;
                        } else {
                            int64_t i_62435 = add64(max_res_62406, i_63668);
                            float x_62436 = ((float *) mem_64129)[i_62435];
                            float defunc_0_f_res_f_res_62437 = 1.0F + x_62436;
                            
                            defunc_0_f_res_62434 = defunc_0_f_res_f_res_62437;
                        }
                        
                        float x_j_62438 = defunc_0_f_res_62434 -
                              defunc_0_f_res_62426;
                        float abs_res_62439 = (float) fabs(x_j_62438);
                        float tmp1_62440 = abs_res_62439 / defunc_1_f_res_62425;
                        float x_62441 = tmp1_62440 * tmp1_62440;
                        float y_62442 = tmp1_62440 * x_62441;
                        float tmp2_62443 = 1.0F - y_62442;
                        float x_62444 = tmp2_62443 * tmp2_62443;
                        float tmp3_62445 = tmp2_62443 * x_62444;
                        float w_j_62446 = x_62432 * tmp3_62445;
                        float defunc_1_op_res_62430 = w_j_62446 + redout_63667;
                        float redout_tmp_65374 = defunc_1_op_res_62430;
                        
                        redout_63667 = redout_tmp_65374;
                    }
                    defunc_2_reduce_res_62427 = redout_63667;
                    
                    float a0_62447 = 1.0F / defunc_2_reduce_res_62427;
                    float defunc_2_reduce_res_62448;
                    float redout_63669 = 0.0F;
                    
                    for (int64_t i_63670 = 0; i_63670 < q_62258; i_63670++) {
                        float x_62453 = ((float *) mem_64159)[i_63670];
                        bool cond_62454 = sle64(last_res_62305, i_63670);
                        float defunc_0_f_res_62455;
                        
                        if (cond_62454) {
                            defunc_0_f_res_62455 = 0.0F;
                        } else {
                            int64_t i_62456 = add64(max_res_62406, i_63670);
                            float x_62457 = ((float *) mem_64129)[i_62456];
                            float defunc_0_f_res_f_res_62458 = 1.0F + x_62457;
                            
                            defunc_0_f_res_62455 = defunc_0_f_res_f_res_62458;
                        }
                        
                        float x_j_62459 = defunc_0_f_res_62455 -
                              defunc_0_f_res_62426;
                        float abs_res_62460 = (float) fabs(x_j_62459);
                        float tmp1_62461 = abs_res_62460 / defunc_1_f_res_62425;
                        float x_62462 = tmp1_62461 * tmp1_62461;
                        float y_62463 = tmp1_62461 * x_62462;
                        float tmp2_62464 = 1.0F - y_62463;
                        float x_62465 = tmp2_62464 * tmp2_62464;
                        float tmp3_62466 = tmp2_62464 * x_62465;
                        float tmp4_62467 = x_62453 * tmp3_62466;
                        float defunc_0_f_res_62468;
                        
                        if (cond_62454) {
                            defunc_0_f_res_62468 = 0.0F;
                        } else {
                            int64_t i_62469 = add64(max_res_62406, i_63670);
                            float x_62470 = ((float *) mem_64099)[i_62469];
                            
                            defunc_0_f_res_62468 = x_62470;
                        }
                        
                        float x_62471 = a0_62447 * tmp4_62467;
                        float defunc_9_fit_fun_res_62472 =
                              defunc_0_f_res_62468 * x_62471;
                        float defunc_1_op_res_62451 =
                              defunc_9_fit_fun_res_62472 + redout_63669;
                        float redout_tmp_65375 = defunc_1_op_res_62451;
                        
                        redout_63669 = redout_tmp_65375;
                    }
                    defunc_2_reduce_res_62448 = redout_63669;
                    ((float *) mem_64071.mem)[i_63677 * n_m_62264 + i_63673] =
                        defunc_2_reduce_res_62448;
                }
            }
            if (memblock_set(ctx, &ext_mem_64582, &mem_64071, "mem_64071") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_64574, &mem_64067, "mem_64067") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_64071, "mem_64071") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_64067, "mem_64067") != 0)
                return 1;
        } else {
            bool match_lit_62475 = (int64_t) 1 == degree_62259;
            int64_t binop_x_64203 = m_62255 * n_m_62264;
            int64_t binop_y_64204 = (int64_t) 4 * binop_x_64203;
            int64_t bytes_64202 = smax64((int64_t) 0, binop_y_64204);
            int64_t binop_y_64231 = (int64_t) 8 * n_62256;
            int64_t bytes_64230 = smax64((int64_t) 0, binop_y_64231);
            int64_t binop_y_64246 = (int64_t) 4 * n_62256;
            int64_t bytes_64245 = smax64((int64_t) 0, binop_y_64246);
            int64_t binop_y_64306 = (int64_t) 4 * q_62258;
            int64_t bytes_64305 = smax64((int64_t) 0, binop_y_64306);
            int64_t binop_x_64381 = m_62255 * n_m_62264;
            int64_t binop_y_64382 = (int64_t) 4 * binop_x_64381;
            int64_t bytes_64380 = smax64((int64_t) 0, binop_y_64382);
            int64_t binop_y_64409 = (int64_t) 8 * n_62256;
            int64_t bytes_64408 = smax64((int64_t) 0, binop_y_64409);
            int64_t binop_y_64424 = (int64_t) 4 * n_62256;
            int64_t bytes_64423 = smax64((int64_t) 0, binop_y_64424);
            int64_t binop_y_64484 = (int64_t) 4 * q_62258;
            int64_t bytes_64483 = smax64((int64_t) 0, binop_y_64484);
            struct memblock ext_mem_64566;
            
            ext_mem_64566.references = NULL;
            
            struct memblock ext_mem_64558;
            
            ext_mem_64558.references = NULL;
            if (match_lit_62475) {
                struct memblock mem_64205;
                
                mem_64205.references = NULL;
                if (memblock_alloc(ctx, &mem_64205, bytes_64202, "mem_64205")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_64209;
                
                mem_64209.references = NULL;
                if (memblock_alloc(ctx, &mem_64209, bytes_64202, "mem_64209")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_64232_cached_sizze_65518 < (size_t) bytes_64230) {
                    mem_64232 = realloc(mem_64232, bytes_64230);
                    mem_64232_cached_sizze_65518 = bytes_64230;
                }
                if (mem_64247_cached_sizze_65519 < (size_t) bytes_64245) {
                    mem_64247 = realloc(mem_64247, bytes_64245);
                    mem_64247_cached_sizze_65519 = bytes_64245;
                }
                if (mem_64250_cached_sizze_65520 < (size_t) bytes_64230) {
                    mem_64250 = realloc(mem_64250, bytes_64230);
                    mem_64250_cached_sizze_65520 = bytes_64230;
                }
                if (mem_64277_cached_sizze_65521 < (size_t) bytes_64245) {
                    mem_64277 = realloc(mem_64277, bytes_64245);
                    mem_64277_cached_sizze_65521 = bytes_64245;
                }
                if (mem_64280_cached_sizze_65522 < (size_t) bytes_64230) {
                    mem_64280 = realloc(mem_64280, bytes_64230);
                    mem_64280_cached_sizze_65522 = bytes_64230;
                }
                if (mem_64307_cached_sizze_65523 < (size_t) bytes_64305) {
                    mem_64307 = realloc(mem_64307, bytes_64305);
                    mem_64307_cached_sizze_65523 = bytes_64305;
                }
                for (int64_t i_63722 = 0; i_63722 < m_62255; i_63722++) {
                    int64_t discard_63684;
                    int64_t scanacc_63680 = (int64_t) 0;
                    
                    for (int64_t i_63682 = 0; i_63682 < n_62256; i_63682++) {
                        float x_62486 = ((float *) Y_mem_64063.mem)[i_63722 *
                                                                    n_62256 +
                                                                    i_63682];
                        bool isnan_res_62487;
                        
                        isnan_res_62487 = futrts_isnan32(x_62486);
                        
                        bool defunc_0_p_res_62488 = !isnan_res_62487;
                        int64_t defunc_0_f_res_62489 =
                                btoi_bool_i64(defunc_0_p_res_62488);
                        int64_t defunc_1_op_res_62485 =
                                add64(defunc_0_f_res_62489, scanacc_63680);
                        
                        ((int64_t *) mem_64232)[i_63682] =
                            defunc_1_op_res_62485;
                        
                        int64_t scanacc_tmp_65378 = defunc_1_op_res_62485;
                        
                        scanacc_63680 = scanacc_tmp_65378;
                    }
                    discard_63684 = scanacc_63680;
                    
                    int64_t last_res_62490 = ((int64_t *) mem_64232)[i_62270];
                    
                    for (int64_t i_65380 = 0; i_65380 < n_62256; i_65380++) {
                        ((float *) mem_64247)[i_65380] = 0.0F;
                    }
                    for (int64_t i_65381 = 0; i_65381 < n_62256; i_65381++) {
                        ((int64_t *) mem_64250)[i_65381] = (int64_t) -1;
                    }
                    for (int64_t write_iter_63685 = 0; write_iter_63685 <
                         n_62256; write_iter_63685++) {
                        float write_iv_63688 =
                              ((float *) Y_mem_64063.mem)[i_63722 * n_62256 +
                                                          write_iter_63685];
                        int64_t write_iv_63689 =
                                ((int64_t *) mem_64232)[write_iter_63685];
                        bool isnan_res_62498;
                        
                        isnan_res_62498 = futrts_isnan32(write_iv_63688);
                        
                        bool defunc_0_p_res_62499 = !isnan_res_62498;
                        int64_t defunc_1_f_res_62500;
                        
                        if (defunc_0_p_res_62499) {
                            int64_t defunc_1_f_res_t_res_62501 =
                                    sub64(write_iv_63689, (int64_t) 1);
                            
                            defunc_1_f_res_62500 = defunc_1_f_res_t_res_62501;
                        } else {
                            defunc_1_f_res_62500 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_62500) &&
                            slt64(defunc_1_f_res_62500, n_62256)) {
                            ((int64_t *) mem_64250)[defunc_1_f_res_62500] =
                                write_iter_63685;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_62500) &&
                            slt64(defunc_1_f_res_62500, n_62256)) {
                            memmove(mem_64247 + defunc_1_f_res_62500 *
                                    (int64_t) 4, Y_mem_64063.mem + (i_63722 *
                                                                    n_62256 +
                                                                    write_iter_63685) *
                                    (int64_t) 4, (int64_t) 4);
                        }
                    }
                    
                    int64_t min_arg_62505 = sub64(last_res_62490, (int64_t) 1);
                    int64_t min_arg_62506 = sub64(last_res_62490,
                                                  min_res_62276);
                    int64_t min_res_62507 = smin64(q_62258, last_res_62490);
                    float i64_res_62508 = sitofp_i64_f32(last_res_62490);
                    float x_62509 = i64_res_62282 - i64_res_62508;
                    float max_arg_62510 = x_62509 / 2.0F;
                    float max_res_62511 = fmax32(0.0F, max_arg_62510);
                    
                    for (int64_t i_63697 = 0; i_63697 < n_62256; i_63697++) {
                        int64_t x_62514 = ((int64_t *) mem_64250)[i_63697];
                        int64_t defunc_0_f_res_62515 = add64((int64_t) 1,
                                                             x_62514);
                        float defunc_0_f_res_62516 = sitofp_i64_f32(x_62514);
                        
                        ((float *) mem_64277)[i_63697] = defunc_0_f_res_62516;
                        ((int64_t *) mem_64280)[i_63697] = defunc_0_f_res_62515;
                    }
                    for (int64_t i_63702 = 0; i_63702 < q_62258; i_63702++) {
                        bool cond_62521 = sle64(last_res_62490, i_63702);
                        float defunc_0_f_res_62522;
                        
                        if (cond_62521) {
                            defunc_0_f_res_62522 = 0.0F;
                        } else {
                            defunc_0_f_res_62522 = 1.0F;
                        }
                        ((float *) mem_64307)[i_63702] = defunc_0_f_res_62522;
                    }
                    for (int64_t i_63715 = 0; i_63715 < n_m_62264; i_63715++) {
                        int64_t min_arg_62526 = mul64(jump_62260, i_63715);
                        int64_t min_res_62527 = smin64(i_62270, min_arg_62526);
                        int64_t defunc_0_g_res_62528 = add64((int64_t) 1,
                                                             min_res_62527);
                        bool init_idx_62529;
                        int64_t init_idx_62530;
                        int64_t init_idx_62531;
                        bool loop_while_62532;
                        int64_t low_62533;
                        int64_t high_62534;
                        
                        loop_while_62532 = x_62271;
                        low_62533 = (int64_t) 0;
                        high_62534 = i_62270;
                        while (loop_while_62532) {
                            int64_t x_62535 = add64(low_62533, high_62534);
                            int64_t mid_62536 = sdiv64(x_62535, (int64_t) 2);
                            bool x_62537 = sle64((int64_t) 0, mid_62536);
                            bool y_62538 = slt64(mid_62536, n_62256);
                            bool bounds_check_62539 = x_62537 && y_62538;
                            bool index_certs_62540;
                            
                            if (!bounds_check_62539) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_62536,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62256, "].",
                                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                                if (memblock_unref(ctx, &mem_64209,
                                                   "mem_64209") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64205,
                                                   "mem_64205") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64558,
                                                   "ext_mem_64558") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64566,
                                                   "ext_mem_64566") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64574,
                                                   "ext_mem_64574") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64582,
                                                   "ext_mem_64582") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65221,
                                                   "ext_mem_65221") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65229,
                                                   "ext_mem_65229") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65353,
                                                   "mem_out_65353") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_62541 =
                                    ((int64_t *) mem_64280)[mid_62536];
                            bool cond_62542 = slt64(mid_id_62541, (int64_t) 0);
                            int64_t mid_idx_62543;
                            
                            if (cond_62542) {
                                mid_idx_62543 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_62543 = mid_id_62541;
                            }
                            
                            bool cond_62544 = sle64(defunc_0_g_res_62528,
                                                    mid_idx_62543);
                            int64_t loopres_62545;
                            int64_t loopres_62546;
                            
                            if (cond_62544) {
                                int64_t loopres_t_res_62547 = sub64(mid_62536,
                                                                    (int64_t) 1);
                                
                                loopres_62545 = low_62533;
                                loopres_62546 = loopres_t_res_62547;
                            } else {
                                int64_t loopres_f_res_62548 = add64((int64_t) 1,
                                                                    mid_62536);
                                
                                loopres_62545 = loopres_f_res_62548;
                                loopres_62546 = high_62534;
                            }
                            
                            bool loop_cond_62549 = sle64(loopres_62545,
                                                         loopres_62546);
                            bool loop_while_tmp_65389 = loop_cond_62549;
                            int64_t low_tmp_65390 = loopres_62545;
                            int64_t high_tmp_65391 = loopres_62546;
                            
                            loop_while_62532 = loop_while_tmp_65389;
                            low_62533 = low_tmp_65390;
                            high_62534 = high_tmp_65391;
                        }
                        init_idx_62529 = loop_while_62532;
                        init_idx_62530 = low_62533;
                        init_idx_62531 = high_62534;
                        
                        bool idx_62550;
                        int64_t idx_62551;
                        int64_t idx_62552;
                        int64_t idx_62553;
                        bool loop_while_62554;
                        int64_t l_idx_62555;
                        int64_t r_idx_62556;
                        int64_t span_62557;
                        
                        loop_while_62554 = loop_cond_62281;
                        l_idx_62555 = init_idx_62530;
                        r_idx_62556 = init_idx_62530;
                        span_62557 = (int64_t) 1;
                        while (loop_while_62554) {
                            int64_t max_arg_62558 = sub64(l_idx_62555,
                                                          (int64_t) 1);
                            int64_t max_res_62559 = smax64((int64_t) 0,
                                                           max_arg_62558);
                            int64_t min_arg_62560 = add64((int64_t) 1,
                                                          r_idx_62556);
                            int64_t min_res_62561 = smin64(min_arg_62505,
                                                           min_arg_62560);
                            bool x_62562 = sle64((int64_t) 0, max_res_62559);
                            bool y_62563 = slt64(max_res_62559, n_62256);
                            bool bounds_check_62564 = x_62562 && y_62563;
                            bool index_certs_62565;
                            
                            if (!bounds_check_62564) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_62559,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62256, "].",
                                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                                if (memblock_unref(ctx, &mem_64209,
                                                   "mem_64209") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64205,
                                                   "mem_64205") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64558,
                                                   "ext_mem_64558") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64566,
                                                   "ext_mem_64566") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64574,
                                                   "ext_mem_64574") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64582,
                                                   "ext_mem_64582") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65221,
                                                   "ext_mem_65221") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65229,
                                                   "ext_mem_65229") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65353,
                                                   "mem_out_65353") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_62566 =
                                    ((int64_t *) mem_64280)[max_res_62559];
                            int64_t abs_arg_62567 = sub64(x_62566,
                                                          defunc_0_g_res_62528);
                            int64_t abs_res_62568 = abs64(abs_arg_62567);
                            bool x_62569 = sle64((int64_t) 0, min_res_62561);
                            bool y_62570 = slt64(min_res_62561, n_62256);
                            bool bounds_check_62571 = x_62569 && y_62570;
                            bool index_certs_62572;
                            
                            if (!bounds_check_62571) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_62561,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62256, "].",
                                              "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                                if (memblock_unref(ctx, &mem_64209,
                                                   "mem_64209") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64205,
                                                   "mem_64205") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64558,
                                                   "ext_mem_64558") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64566,
                                                   "ext_mem_64566") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64574,
                                                   "ext_mem_64574") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64582,
                                                   "ext_mem_64582") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65221,
                                                   "ext_mem_65221") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65229,
                                                   "ext_mem_65229") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65353,
                                                   "mem_out_65353") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_62573 =
                                    ((int64_t *) mem_64280)[min_res_62561];
                            int64_t abs_arg_62574 = sub64(x_62573,
                                                          defunc_0_g_res_62528);
                            int64_t abs_res_62575 = abs64(abs_arg_62574);
                            bool cond_62576 = max_res_62559 == l_idx_62555;
                            int64_t loopres_62577;
                            int64_t loopres_62578;
                            int64_t loopres_62579;
                            
                            if (cond_62576) {
                                loopres_62577 = l_idx_62555;
                                loopres_62578 = r_idx_62556;
                                loopres_62579 = min_res_62276;
                            } else {
                                bool cond_62580 = slt64(abs_res_62568,
                                                        abs_res_62575);
                                bool cond_f_res_62581 = min_res_62561 ==
                                     r_idx_62556;
                                bool x_62582 = !cond_62580;
                                bool y_62583 = cond_f_res_62581 && x_62582;
                                bool cond_62584 = cond_62580 || y_62583;
                                int64_t loopres_f_res_62585;
                                
                                if (cond_62584) {
                                    loopres_f_res_62585 = max_res_62559;
                                } else {
                                    loopres_f_res_62585 = l_idx_62555;
                                }
                                
                                int64_t loopres_f_res_62586;
                                
                                if (cond_62584) {
                                    loopres_f_res_62586 = r_idx_62556;
                                } else {
                                    loopres_f_res_62586 = min_res_62561;
                                }
                                
                                int64_t loopres_f_res_62587;
                                
                                if (cond_62584) {
                                    int64_t loopres_f_res_t_res_62588 =
                                            add64((int64_t) 1, span_62557);
                                    
                                    loopres_f_res_62587 =
                                        loopres_f_res_t_res_62588;
                                } else {
                                    int64_t loopres_f_res_f_res_62589 =
                                            add64((int64_t) 1, span_62557);
                                    
                                    loopres_f_res_62587 =
                                        loopres_f_res_f_res_62589;
                                }
                                loopres_62577 = loopres_f_res_62585;
                                loopres_62578 = loopres_f_res_62586;
                                loopres_62579 = loopres_f_res_62587;
                            }
                            
                            bool loop_cond_62590 = slt64(loopres_62579,
                                                         min_res_62276);
                            bool loop_while_tmp_65392 = loop_cond_62590;
                            int64_t l_idx_tmp_65393 = loopres_62577;
                            int64_t r_idx_tmp_65394 = loopres_62578;
                            int64_t span_tmp_65395 = loopres_62579;
                            
                            loop_while_62554 = loop_while_tmp_65392;
                            l_idx_62555 = l_idx_tmp_65393;
                            r_idx_62556 = r_idx_tmp_65394;
                            span_62557 = span_tmp_65395;
                        }
                        idx_62550 = loop_while_62554;
                        idx_62551 = l_idx_62555;
                        idx_62552 = r_idx_62556;
                        idx_62553 = span_62557;
                        
                        int64_t min_res_62591 = smin64(min_arg_62506,
                                                       idx_62551);
                        int64_t max_res_62592 = smax64((int64_t) 0,
                                                       min_res_62591);
                        int64_t x_62593 = add64(min_res_62507, max_res_62592);
                        int64_t r_62594 = sub64(x_62593, (int64_t) 1);
                        bool x_62595 = sle64((int64_t) 0, r_62594);
                        bool y_62596 = slt64(r_62594, n_62256);
                        bool bounds_check_62597 = x_62595 && y_62596;
                        bool index_certs_62598;
                        
                        if (!bounds_check_62597) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_62594,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64209, "mem_64209") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64205, "mem_64205") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64558,
                                               "ext_mem_64558") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64566,
                                               "ext_mem_64566") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64574,
                                               "ext_mem_64574") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64582,
                                               "ext_mem_64582") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_62599 = ((int64_t *) mem_64250)[r_62594];
                        int64_t abs_arg_62600 = sub64(x_62599, min_res_62527);
                        int64_t abs_res_62601 = abs64(abs_arg_62600);
                        bool x_62602 = sle64((int64_t) 0, max_res_62592);
                        bool y_62603 = slt64(max_res_62592, n_62256);
                        bool bounds_check_62604 = x_62602 && y_62603;
                        bool index_certs_62605;
                        
                        if (!bounds_check_62604) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_62592,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64209, "mem_64209") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64205, "mem_64205") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64558,
                                               "ext_mem_64558") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64566,
                                               "ext_mem_64566") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64574,
                                               "ext_mem_64574") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64582,
                                               "ext_mem_64582") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_62606 =
                                ((int64_t *) mem_64250)[max_res_62592];
                        int64_t abs_arg_62607 = sub64(x_62606, min_res_62527);
                        int64_t abs_res_62608 = abs64(abs_arg_62607);
                        int64_t max_res_62609 = smax64(abs_res_62601,
                                                       abs_res_62608);
                        float defunc_0_f_res_62610 =
                              sitofp_i64_f32(max_res_62609);
                        float defunc_1_f_res_62611 = max_res_62511 +
                              defunc_0_f_res_62610;
                        float defunc_0_f_res_62612 =
                              sitofp_i64_f32(min_res_62527);
                        float defunc_2_reduce_res_62613;
                        float defunc_2_reduce_res_62614;
                        float defunc_2_reduce_res_62615;
                        float redout_63704;
                        float redout_63705;
                        float redout_63706;
                        
                        redout_63704 = 0.0F;
                        redout_63705 = 0.0F;
                        redout_63706 = 0.0F;
                        for (int64_t i_63707 = 0; i_63707 < q_62258;
                             i_63707++) {
                            float x_62626 = ((float *) mem_64307)[i_63707];
                            bool cond_62627 = sle64(last_res_62490, i_63707);
                            float defunc_0_f_res_62628;
                            
                            if (cond_62627) {
                                defunc_0_f_res_62628 = 0.0F;
                            } else {
                                int64_t i_62629 = add64(max_res_62592, i_63707);
                                float x_62630 = ((float *) mem_64277)[i_62629];
                                float defunc_0_f_res_f_res_62631 = 1.0F +
                                      x_62630;
                                
                                defunc_0_f_res_62628 =
                                    defunc_0_f_res_f_res_62631;
                            }
                            
                            float x_j_62632 = defunc_0_f_res_62628 -
                                  defunc_0_f_res_62612;
                            float abs_res_62633 = (float) fabs(x_j_62632);
                            float tmp1_62634 = abs_res_62633 /
                                  defunc_1_f_res_62611;
                            float x_62635 = tmp1_62634 * tmp1_62634;
                            float y_62636 = tmp1_62634 * x_62635;
                            float tmp2_62637 = 1.0F - y_62636;
                            float x_62638 = tmp2_62637 * tmp2_62637;
                            float tmp3_62639 = tmp2_62637 * x_62638;
                            float w_j_62640 = x_62626 * tmp3_62639;
                            float xw_j_62641 = x_j_62632 * w_j_62640;
                            float x2w_j_62642 = x_j_62632 * xw_j_62641;
                            float defunc_1_op_res_62618 = w_j_62640 +
                                  redout_63704;
                            float defunc_1_op_res_62621 = xw_j_62641 +
                                  redout_63705;
                            float defunc_1_op_res_62624 = x2w_j_62642 +
                                  redout_63706;
                            float redout_tmp_65396 = defunc_1_op_res_62618;
                            float redout_tmp_65397 = defunc_1_op_res_62621;
                            float redout_tmp_65398 = defunc_1_op_res_62624;
                            
                            redout_63704 = redout_tmp_65396;
                            redout_63705 = redout_tmp_65397;
                            redout_63706 = redout_tmp_65398;
                        }
                        defunc_2_reduce_res_62613 = redout_63704;
                        defunc_2_reduce_res_62614 = redout_63705;
                        defunc_2_reduce_res_62615 = redout_63706;
                        
                        float x_62643 = defunc_2_reduce_res_62613 *
                              defunc_2_reduce_res_62615;
                        float y_62644 = defunc_2_reduce_res_62614 *
                              defunc_2_reduce_res_62614;
                        float y_62645 = x_62643 - y_62644;
                        float det1_62646 = 1.0F / y_62645;
                        float a11_62647 = defunc_2_reduce_res_62615 *
                              det1_62646;
                        float negate_arg_62648 = defunc_2_reduce_res_62614 *
                              det1_62646;
                        float b11_62649 = 0.0F - negate_arg_62648;
                        float c11_62650 = defunc_2_reduce_res_62613 *
                              det1_62646;
                        float defunc_2_reduce_res_62651;
                        float defunc_2_reduce_res_62652;
                        float redout_63708;
                        float redout_63709;
                        
                        redout_63708 = 0.0F;
                        redout_63709 = 0.0F;
                        for (int64_t i_63710 = 0; i_63710 < q_62258;
                             i_63710++) {
                            float x_62660 = ((float *) mem_64307)[i_63710];
                            bool cond_62661 = sle64(last_res_62490, i_63710);
                            float defunc_0_f_res_62662;
                            
                            if (cond_62661) {
                                defunc_0_f_res_62662 = 0.0F;
                            } else {
                                int64_t i_62663 = add64(max_res_62592, i_63710);
                                float x_62664 = ((float *) mem_64277)[i_62663];
                                float defunc_0_f_res_f_res_62665 = 1.0F +
                                      x_62664;
                                
                                defunc_0_f_res_62662 =
                                    defunc_0_f_res_f_res_62665;
                            }
                            
                            float x_j_62666 = defunc_0_f_res_62662 -
                                  defunc_0_f_res_62612;
                            float abs_res_62667 = (float) fabs(x_j_62666);
                            float tmp1_62668 = abs_res_62667 /
                                  defunc_1_f_res_62611;
                            float x_62669 = tmp1_62668 * tmp1_62668;
                            float y_62670 = tmp1_62668 * x_62669;
                            float tmp2_62671 = 1.0F - y_62670;
                            float x_62672 = tmp2_62671 * tmp2_62671;
                            float tmp3_62673 = tmp2_62671 * x_62672;
                            float tmp4_62674 = x_62660 * tmp3_62673;
                            float defunc_1_f_res_62675 = x_j_62666 * tmp4_62674;
                            float defunc_0_f_res_62676;
                            
                            if (cond_62661) {
                                defunc_0_f_res_62676 = 0.0F;
                            } else {
                                int64_t i_62677 = add64(max_res_62592, i_63710);
                                float x_62678 = ((float *) mem_64247)[i_62677];
                                
                                defunc_0_f_res_62676 = x_62678;
                            }
                            
                            float x_62679 = a11_62647 * tmp4_62674;
                            float y_62680 = b11_62649 * defunc_1_f_res_62675;
                            float x_62681 = x_62679 + y_62680;
                            float defunc_9_fit_fun_res_62682 =
                                  defunc_0_f_res_62676 * x_62681;
                            float x_62683 = b11_62649 * tmp4_62674;
                            float y_62684 = c11_62650 * defunc_1_f_res_62675;
                            float x_62685 = x_62683 + y_62684;
                            float defunc_9_slope_fun_res_62686 =
                                  defunc_0_f_res_62676 * x_62685;
                            float defunc_1_op_res_62655 =
                                  defunc_9_fit_fun_res_62682 + redout_63708;
                            float defunc_1_op_res_62658 =
                                  defunc_9_slope_fun_res_62686 + redout_63709;
                            float redout_tmp_65399 = defunc_1_op_res_62655;
                            float redout_tmp_65400 = defunc_1_op_res_62658;
                            
                            redout_63708 = redout_tmp_65399;
                            redout_63709 = redout_tmp_65400;
                        }
                        defunc_2_reduce_res_62651 = redout_63708;
                        defunc_2_reduce_res_62652 = redout_63709;
                        ((float *) mem_64205.mem)[i_63722 * n_m_62264 +
                                                  i_63715] =
                            defunc_2_reduce_res_62651;
                        ((float *) mem_64209.mem)[i_63722 * n_m_62264 +
                                                  i_63715] =
                            defunc_2_reduce_res_62652;
                    }
                }
                if (memblock_set(ctx, &ext_mem_64566, &mem_64205,
                                 "mem_64205") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_64558, &mem_64209,
                                 "mem_64209") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64209, "mem_64209") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64205, "mem_64205") != 0)
                    return 1;
            } else {
                struct memblock mem_64383;
                
                mem_64383.references = NULL;
                if (memblock_alloc(ctx, &mem_64383, bytes_64380, "mem_64383")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_64387;
                
                mem_64387.references = NULL;
                if (memblock_alloc(ctx, &mem_64387, bytes_64380, "mem_64387")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_64410_cached_sizze_65524 < (size_t) bytes_64408) {
                    mem_64410 = realloc(mem_64410, bytes_64408);
                    mem_64410_cached_sizze_65524 = bytes_64408;
                }
                if (mem_64425_cached_sizze_65525 < (size_t) bytes_64423) {
                    mem_64425 = realloc(mem_64425, bytes_64423);
                    mem_64425_cached_sizze_65525 = bytes_64423;
                }
                if (mem_64428_cached_sizze_65526 < (size_t) bytes_64408) {
                    mem_64428 = realloc(mem_64428, bytes_64408);
                    mem_64428_cached_sizze_65526 = bytes_64408;
                }
                if (mem_64455_cached_sizze_65527 < (size_t) bytes_64423) {
                    mem_64455 = realloc(mem_64455, bytes_64423);
                    mem_64455_cached_sizze_65527 = bytes_64423;
                }
                if (mem_64458_cached_sizze_65528 < (size_t) bytes_64408) {
                    mem_64458 = realloc(mem_64458, bytes_64408);
                    mem_64458_cached_sizze_65528 = bytes_64408;
                }
                if (mem_64485_cached_sizze_65529 < (size_t) bytes_64483) {
                    mem_64485 = realloc(mem_64485, bytes_64483);
                    mem_64485_cached_sizze_65529 = bytes_64483;
                }
                for (int64_t i_63770 = 0; i_63770 < m_62255; i_63770++) {
                    int64_t discard_63730;
                    int64_t scanacc_63726 = (int64_t) 0;
                    
                    for (int64_t i_63728 = 0; i_63728 < n_62256; i_63728++) {
                        float x_62697 = ((float *) Y_mem_64063.mem)[i_63770 *
                                                                    n_62256 +
                                                                    i_63728];
                        bool isnan_res_62698;
                        
                        isnan_res_62698 = futrts_isnan32(x_62697);
                        
                        bool defunc_0_p_res_62699 = !isnan_res_62698;
                        int64_t defunc_0_f_res_62700 =
                                btoi_bool_i64(defunc_0_p_res_62699);
                        int64_t defunc_1_op_res_62696 =
                                add64(defunc_0_f_res_62700, scanacc_63726);
                        
                        ((int64_t *) mem_64410)[i_63728] =
                            defunc_1_op_res_62696;
                        
                        int64_t scanacc_tmp_65403 = defunc_1_op_res_62696;
                        
                        scanacc_63726 = scanacc_tmp_65403;
                    }
                    discard_63730 = scanacc_63726;
                    
                    int64_t last_res_62701 = ((int64_t *) mem_64410)[i_62270];
                    
                    for (int64_t i_65405 = 0; i_65405 < n_62256; i_65405++) {
                        ((float *) mem_64425)[i_65405] = 0.0F;
                    }
                    for (int64_t i_65406 = 0; i_65406 < n_62256; i_65406++) {
                        ((int64_t *) mem_64428)[i_65406] = (int64_t) -1;
                    }
                    for (int64_t write_iter_63731 = 0; write_iter_63731 <
                         n_62256; write_iter_63731++) {
                        float write_iv_63734 =
                              ((float *) Y_mem_64063.mem)[i_63770 * n_62256 +
                                                          write_iter_63731];
                        int64_t write_iv_63735 =
                                ((int64_t *) mem_64410)[write_iter_63731];
                        bool isnan_res_62709;
                        
                        isnan_res_62709 = futrts_isnan32(write_iv_63734);
                        
                        bool defunc_0_p_res_62710 = !isnan_res_62709;
                        int64_t defunc_1_f_res_62711;
                        
                        if (defunc_0_p_res_62710) {
                            int64_t defunc_1_f_res_t_res_62712 =
                                    sub64(write_iv_63735, (int64_t) 1);
                            
                            defunc_1_f_res_62711 = defunc_1_f_res_t_res_62712;
                        } else {
                            defunc_1_f_res_62711 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_62711) &&
                            slt64(defunc_1_f_res_62711, n_62256)) {
                            ((int64_t *) mem_64428)[defunc_1_f_res_62711] =
                                write_iter_63731;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_62711) &&
                            slt64(defunc_1_f_res_62711, n_62256)) {
                            memmove(mem_64425 + defunc_1_f_res_62711 *
                                    (int64_t) 4, Y_mem_64063.mem + (i_63770 *
                                                                    n_62256 +
                                                                    write_iter_63731) *
                                    (int64_t) 4, (int64_t) 4);
                        }
                    }
                    
                    int64_t min_arg_62716 = sub64(last_res_62701, (int64_t) 1);
                    int64_t min_arg_62717 = sub64(last_res_62701,
                                                  min_res_62276);
                    int64_t min_res_62718 = smin64(q_62258, last_res_62701);
                    float i64_res_62719 = sitofp_i64_f32(last_res_62701);
                    float x_62720 = i64_res_62282 - i64_res_62719;
                    float max_arg_62721 = x_62720 / 2.0F;
                    float max_res_62722 = fmax32(0.0F, max_arg_62721);
                    
                    for (int64_t i_63743 = 0; i_63743 < n_62256; i_63743++) {
                        int64_t x_62725 = ((int64_t *) mem_64428)[i_63743];
                        int64_t defunc_0_f_res_62726 = add64((int64_t) 1,
                                                             x_62725);
                        float defunc_0_f_res_62727 = sitofp_i64_f32(x_62725);
                        
                        ((float *) mem_64455)[i_63743] = defunc_0_f_res_62727;
                        ((int64_t *) mem_64458)[i_63743] = defunc_0_f_res_62726;
                    }
                    for (int64_t i_63748 = 0; i_63748 < q_62258; i_63748++) {
                        bool cond_62732 = sle64(last_res_62701, i_63748);
                        float defunc_0_f_res_62733;
                        
                        if (cond_62732) {
                            defunc_0_f_res_62733 = 0.0F;
                        } else {
                            defunc_0_f_res_62733 = 1.0F;
                        }
                        ((float *) mem_64485)[i_63748] = defunc_0_f_res_62733;
                    }
                    for (int64_t i_63763 = 0; i_63763 < n_m_62264; i_63763++) {
                        int64_t min_arg_62737 = mul64(jump_62260, i_63763);
                        int64_t min_res_62738 = smin64(i_62270, min_arg_62737);
                        int64_t defunc_0_g_res_62739 = add64((int64_t) 1,
                                                             min_res_62738);
                        bool init_idx_62740;
                        int64_t init_idx_62741;
                        int64_t init_idx_62742;
                        bool loop_while_62743;
                        int64_t low_62744;
                        int64_t high_62745;
                        
                        loop_while_62743 = x_62271;
                        low_62744 = (int64_t) 0;
                        high_62745 = i_62270;
                        while (loop_while_62743) {
                            int64_t x_62746 = add64(low_62744, high_62745);
                            int64_t mid_62747 = sdiv64(x_62746, (int64_t) 2);
                            bool x_62748 = sle64((int64_t) 0, mid_62747);
                            bool y_62749 = slt64(mid_62747, n_62256);
                            bool bounds_check_62750 = x_62748 && y_62749;
                            bool index_certs_62751;
                            
                            if (!bounds_check_62750) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_62747,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62256, "].",
                                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                                if (memblock_unref(ctx, &mem_64387,
                                                   "mem_64387") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64383,
                                                   "mem_64383") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64558,
                                                   "ext_mem_64558") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64566,
                                                   "ext_mem_64566") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64574,
                                                   "ext_mem_64574") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64582,
                                                   "ext_mem_64582") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65221,
                                                   "ext_mem_65221") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65229,
                                                   "ext_mem_65229") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65353,
                                                   "mem_out_65353") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_62752 =
                                    ((int64_t *) mem_64458)[mid_62747];
                            bool cond_62753 = slt64(mid_id_62752, (int64_t) 0);
                            int64_t mid_idx_62754;
                            
                            if (cond_62753) {
                                mid_idx_62754 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_62754 = mid_id_62752;
                            }
                            
                            bool cond_62755 = sle64(defunc_0_g_res_62739,
                                                    mid_idx_62754);
                            int64_t loopres_62756;
                            int64_t loopres_62757;
                            
                            if (cond_62755) {
                                int64_t loopres_t_res_62758 = sub64(mid_62747,
                                                                    (int64_t) 1);
                                
                                loopres_62756 = low_62744;
                                loopres_62757 = loopres_t_res_62758;
                            } else {
                                int64_t loopres_f_res_62759 = add64((int64_t) 1,
                                                                    mid_62747);
                                
                                loopres_62756 = loopres_f_res_62759;
                                loopres_62757 = high_62745;
                            }
                            
                            bool loop_cond_62760 = sle64(loopres_62756,
                                                         loopres_62757);
                            bool loop_while_tmp_65414 = loop_cond_62760;
                            int64_t low_tmp_65415 = loopres_62756;
                            int64_t high_tmp_65416 = loopres_62757;
                            
                            loop_while_62743 = loop_while_tmp_65414;
                            low_62744 = low_tmp_65415;
                            high_62745 = high_tmp_65416;
                        }
                        init_idx_62740 = loop_while_62743;
                        init_idx_62741 = low_62744;
                        init_idx_62742 = high_62745;
                        
                        bool idx_62761;
                        int64_t idx_62762;
                        int64_t idx_62763;
                        int64_t idx_62764;
                        bool loop_while_62765;
                        int64_t l_idx_62766;
                        int64_t r_idx_62767;
                        int64_t span_62768;
                        
                        loop_while_62765 = loop_cond_62281;
                        l_idx_62766 = init_idx_62741;
                        r_idx_62767 = init_idx_62741;
                        span_62768 = (int64_t) 1;
                        while (loop_while_62765) {
                            int64_t max_arg_62769 = sub64(l_idx_62766,
                                                          (int64_t) 1);
                            int64_t max_res_62770 = smax64((int64_t) 0,
                                                           max_arg_62769);
                            int64_t min_arg_62771 = add64((int64_t) 1,
                                                          r_idx_62767);
                            int64_t min_res_62772 = smin64(min_arg_62716,
                                                           min_arg_62771);
                            bool x_62773 = sle64((int64_t) 0, max_res_62770);
                            bool y_62774 = slt64(max_res_62770, n_62256);
                            bool bounds_check_62775 = x_62773 && y_62774;
                            bool index_certs_62776;
                            
                            if (!bounds_check_62775) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_62770,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62256, "].",
                                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                                if (memblock_unref(ctx, &mem_64387,
                                                   "mem_64387") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64383,
                                                   "mem_64383") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64558,
                                                   "ext_mem_64558") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64566,
                                                   "ext_mem_64566") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64574,
                                                   "ext_mem_64574") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64582,
                                                   "ext_mem_64582") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65221,
                                                   "ext_mem_65221") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65229,
                                                   "ext_mem_65229") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65353,
                                                   "mem_out_65353") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_62777 =
                                    ((int64_t *) mem_64458)[max_res_62770];
                            int64_t abs_arg_62778 = sub64(x_62777,
                                                          defunc_0_g_res_62739);
                            int64_t abs_res_62779 = abs64(abs_arg_62778);
                            bool x_62780 = sle64((int64_t) 0, min_res_62772);
                            bool y_62781 = slt64(min_res_62772, n_62256);
                            bool bounds_check_62782 = x_62780 && y_62781;
                            bool index_certs_62783;
                            
                            if (!bounds_check_62782) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_62772,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62256, "].",
                                              "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                                if (memblock_unref(ctx, &mem_64387,
                                                   "mem_64387") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64383,
                                                   "mem_64383") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64558,
                                                   "ext_mem_64558") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64566,
                                                   "ext_mem_64566") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64574,
                                                   "ext_mem_64574") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64582,
                                                   "ext_mem_64582") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65221,
                                                   "ext_mem_65221") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65229,
                                                   "ext_mem_65229") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65353,
                                                   "mem_out_65353") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_62784 =
                                    ((int64_t *) mem_64458)[min_res_62772];
                            int64_t abs_arg_62785 = sub64(x_62784,
                                                          defunc_0_g_res_62739);
                            int64_t abs_res_62786 = abs64(abs_arg_62785);
                            bool cond_62787 = max_res_62770 == l_idx_62766;
                            int64_t loopres_62788;
                            int64_t loopres_62789;
                            int64_t loopres_62790;
                            
                            if (cond_62787) {
                                loopres_62788 = l_idx_62766;
                                loopres_62789 = r_idx_62767;
                                loopres_62790 = min_res_62276;
                            } else {
                                bool cond_62791 = slt64(abs_res_62779,
                                                        abs_res_62786);
                                bool cond_f_res_62792 = min_res_62772 ==
                                     r_idx_62767;
                                bool x_62793 = !cond_62791;
                                bool y_62794 = cond_f_res_62792 && x_62793;
                                bool cond_62795 = cond_62791 || y_62794;
                                int64_t loopres_f_res_62796;
                                
                                if (cond_62795) {
                                    loopres_f_res_62796 = max_res_62770;
                                } else {
                                    loopres_f_res_62796 = l_idx_62766;
                                }
                                
                                int64_t loopres_f_res_62797;
                                
                                if (cond_62795) {
                                    loopres_f_res_62797 = r_idx_62767;
                                } else {
                                    loopres_f_res_62797 = min_res_62772;
                                }
                                
                                int64_t loopres_f_res_62798;
                                
                                if (cond_62795) {
                                    int64_t loopres_f_res_t_res_62799 =
                                            add64((int64_t) 1, span_62768);
                                    
                                    loopres_f_res_62798 =
                                        loopres_f_res_t_res_62799;
                                } else {
                                    int64_t loopres_f_res_f_res_62800 =
                                            add64((int64_t) 1, span_62768);
                                    
                                    loopres_f_res_62798 =
                                        loopres_f_res_f_res_62800;
                                }
                                loopres_62788 = loopres_f_res_62796;
                                loopres_62789 = loopres_f_res_62797;
                                loopres_62790 = loopres_f_res_62798;
                            }
                            
                            bool loop_cond_62801 = slt64(loopres_62790,
                                                         min_res_62276);
                            bool loop_while_tmp_65417 = loop_cond_62801;
                            int64_t l_idx_tmp_65418 = loopres_62788;
                            int64_t r_idx_tmp_65419 = loopres_62789;
                            int64_t span_tmp_65420 = loopres_62790;
                            
                            loop_while_62765 = loop_while_tmp_65417;
                            l_idx_62766 = l_idx_tmp_65418;
                            r_idx_62767 = r_idx_tmp_65419;
                            span_62768 = span_tmp_65420;
                        }
                        idx_62761 = loop_while_62765;
                        idx_62762 = l_idx_62766;
                        idx_62763 = r_idx_62767;
                        idx_62764 = span_62768;
                        
                        int64_t min_res_62802 = smin64(min_arg_62717,
                                                       idx_62762);
                        int64_t max_res_62803 = smax64((int64_t) 0,
                                                       min_res_62802);
                        int64_t x_62804 = add64(min_res_62718, max_res_62803);
                        int64_t r_62805 = sub64(x_62804, (int64_t) 1);
                        bool x_62806 = sle64((int64_t) 0, r_62805);
                        bool y_62807 = slt64(r_62805, n_62256);
                        bool bounds_check_62808 = x_62806 && y_62807;
                        bool index_certs_62809;
                        
                        if (!bounds_check_62808) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_62805,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64387, "mem_64387") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64383, "mem_64383") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64558,
                                               "ext_mem_64558") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64566,
                                               "ext_mem_64566") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64574,
                                               "ext_mem_64574") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64582,
                                               "ext_mem_64582") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_62810 = ((int64_t *) mem_64428)[r_62805];
                        int64_t abs_arg_62811 = sub64(x_62810, min_res_62738);
                        int64_t abs_res_62812 = abs64(abs_arg_62811);
                        bool x_62813 = sle64((int64_t) 0, max_res_62803);
                        bool y_62814 = slt64(max_res_62803, n_62256);
                        bool bounds_check_62815 = x_62813 && y_62814;
                        bool index_certs_62816;
                        
                        if (!bounds_check_62815) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_62803,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64387, "mem_64387") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64383, "mem_64383") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64558,
                                               "ext_mem_64558") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64566,
                                               "ext_mem_64566") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64574,
                                               "ext_mem_64574") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64582,
                                               "ext_mem_64582") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_62817 =
                                ((int64_t *) mem_64428)[max_res_62803];
                        int64_t abs_arg_62818 = sub64(x_62817, min_res_62738);
                        int64_t abs_res_62819 = abs64(abs_arg_62818);
                        int64_t max_res_62820 = smax64(abs_res_62812,
                                                       abs_res_62819);
                        float defunc_0_f_res_62821 =
                              sitofp_i64_f32(max_res_62820);
                        float defunc_1_f_res_62822 = max_res_62722 +
                              defunc_0_f_res_62821;
                        float defunc_0_f_res_62823 =
                              sitofp_i64_f32(min_res_62738);
                        float defunc_2_reduce_res_62824;
                        float defunc_2_reduce_res_62825;
                        float defunc_2_reduce_res_62826;
                        float defunc_2_reduce_res_62827;
                        float defunc_2_reduce_res_62828;
                        float redout_63750;
                        float redout_63751;
                        float redout_63752;
                        float redout_63753;
                        float redout_63754;
                        
                        redout_63750 = 0.0F;
                        redout_63751 = 0.0F;
                        redout_63752 = 0.0F;
                        redout_63753 = 0.0F;
                        redout_63754 = 0.0F;
                        for (int64_t i_63755 = 0; i_63755 < q_62258;
                             i_63755++) {
                            float x_62845 = ((float *) mem_64485)[i_63755];
                            bool cond_62846 = sle64(last_res_62701, i_63755);
                            float defunc_0_f_res_62847;
                            
                            if (cond_62846) {
                                defunc_0_f_res_62847 = 0.0F;
                            } else {
                                int64_t i_62848 = add64(max_res_62803, i_63755);
                                float x_62849 = ((float *) mem_64455)[i_62848];
                                float defunc_0_f_res_f_res_62850 = 1.0F +
                                      x_62849;
                                
                                defunc_0_f_res_62847 =
                                    defunc_0_f_res_f_res_62850;
                            }
                            
                            float x_j_62851 = defunc_0_f_res_62847 -
                                  defunc_0_f_res_62823;
                            float abs_res_62852 = (float) fabs(x_j_62851);
                            float tmp1_62853 = abs_res_62852 /
                                  defunc_1_f_res_62822;
                            float x_62854 = tmp1_62853 * tmp1_62853;
                            float y_62855 = tmp1_62853 * x_62854;
                            float tmp2_62856 = 1.0F - y_62855;
                            float x_62857 = tmp2_62856 * tmp2_62856;
                            float tmp3_62858 = tmp2_62856 * x_62857;
                            float w_j_62859 = x_62845 * tmp3_62858;
                            float xw_j_62860 = x_j_62851 * w_j_62859;
                            float x2w_j_62861 = x_j_62851 * xw_j_62860;
                            float x3w_j_62862 = x_j_62851 * x2w_j_62861;
                            float x4w_j_62863 = x_j_62851 * x3w_j_62862;
                            float defunc_1_op_res_62831 = w_j_62859 +
                                  redout_63750;
                            float defunc_1_op_res_62834 = xw_j_62860 +
                                  redout_63751;
                            float defunc_1_op_res_62837 = x2w_j_62861 +
                                  redout_63752;
                            float defunc_1_op_res_62840 = x3w_j_62862 +
                                  redout_63753;
                            float defunc_1_op_res_62843 = x4w_j_62863 +
                                  redout_63754;
                            float redout_tmp_65421 = defunc_1_op_res_62831;
                            float redout_tmp_65422 = defunc_1_op_res_62834;
                            float redout_tmp_65423 = defunc_1_op_res_62837;
                            float redout_tmp_65424 = defunc_1_op_res_62840;
                            float redout_tmp_65425 = defunc_1_op_res_62843;
                            
                            redout_63750 = redout_tmp_65421;
                            redout_63751 = redout_tmp_65422;
                            redout_63752 = redout_tmp_65423;
                            redout_63753 = redout_tmp_65424;
                            redout_63754 = redout_tmp_65425;
                        }
                        defunc_2_reduce_res_62824 = redout_63750;
                        defunc_2_reduce_res_62825 = redout_63751;
                        defunc_2_reduce_res_62826 = redout_63752;
                        defunc_2_reduce_res_62827 = redout_63753;
                        defunc_2_reduce_res_62828 = redout_63754;
                        
                        float x_62864 = defunc_2_reduce_res_62826 *
                              defunc_2_reduce_res_62828;
                        float y_62865 = defunc_2_reduce_res_62827 *
                              defunc_2_reduce_res_62827;
                        float a12_62866 = x_62864 - y_62865;
                        float x_62867 = defunc_2_reduce_res_62826 *
                              defunc_2_reduce_res_62827;
                        float y_62868 = defunc_2_reduce_res_62825 *
                              defunc_2_reduce_res_62828;
                        float b12_62869 = x_62867 - y_62868;
                        float x_62870 = defunc_2_reduce_res_62825 *
                              defunc_2_reduce_res_62827;
                        float y_62871 = defunc_2_reduce_res_62826 *
                              defunc_2_reduce_res_62826;
                        float c12_62872 = x_62870 - y_62871;
                        float x_62873 = defunc_2_reduce_res_62824 *
                              defunc_2_reduce_res_62828;
                        float b2_62874 = x_62873 - y_62871;
                        float x_62875 = defunc_2_reduce_res_62825 *
                              defunc_2_reduce_res_62826;
                        float y_62876 = defunc_2_reduce_res_62824 *
                              defunc_2_reduce_res_62827;
                        float c2_62877 = x_62875 - y_62876;
                        float x_62878 = defunc_2_reduce_res_62824 * a12_62866;
                        float y_62879 = defunc_2_reduce_res_62825 * b12_62869;
                        float x_62880 = x_62878 + y_62879;
                        float y_62881 = defunc_2_reduce_res_62826 * c12_62872;
                        float y_62882 = x_62880 + y_62881;
                        float det_62883 = 1.0F / y_62882;
                        float a12_62884 = a12_62866 * det_62883;
                        float b12_62885 = b12_62869 * det_62883;
                        float c12_62886 = c12_62872 * det_62883;
                        float b2_62887 = b2_62874 * det_62883;
                        float c2_62888 = c2_62877 * det_62883;
                        float defunc_2_reduce_res_62889;
                        float defunc_2_reduce_res_62890;
                        float redout_63756;
                        float redout_63757;
                        
                        redout_63756 = 0.0F;
                        redout_63757 = 0.0F;
                        for (int64_t i_63758 = 0; i_63758 < q_62258;
                             i_63758++) {
                            float x_62898 = ((float *) mem_64485)[i_63758];
                            bool cond_62899 = sle64(last_res_62701, i_63758);
                            float defunc_0_f_res_62900;
                            
                            if (cond_62899) {
                                defunc_0_f_res_62900 = 0.0F;
                            } else {
                                int64_t i_62901 = add64(max_res_62803, i_63758);
                                float x_62902 = ((float *) mem_64455)[i_62901];
                                float defunc_0_f_res_f_res_62903 = 1.0F +
                                      x_62902;
                                
                                defunc_0_f_res_62900 =
                                    defunc_0_f_res_f_res_62903;
                            }
                            
                            float x_j_62904 = defunc_0_f_res_62900 -
                                  defunc_0_f_res_62823;
                            float abs_res_62905 = (float) fabs(x_j_62904);
                            float tmp1_62906 = abs_res_62905 /
                                  defunc_1_f_res_62822;
                            float x_62907 = tmp1_62906 * tmp1_62906;
                            float y_62908 = tmp1_62906 * x_62907;
                            float tmp2_62909 = 1.0F - y_62908;
                            float x_62910 = tmp2_62909 * tmp2_62909;
                            float tmp3_62911 = tmp2_62909 * x_62910;
                            float tmp4_62912 = x_62898 * tmp3_62911;
                            float defunc_1_f_res_62913 = x_j_62904 * tmp4_62912;
                            float defunc_1_f_res_62914 = x_j_62904 *
                                  defunc_1_f_res_62913;
                            float defunc_0_f_res_62915;
                            
                            if (cond_62899) {
                                defunc_0_f_res_62915 = 0.0F;
                            } else {
                                int64_t i_62916 = add64(max_res_62803, i_63758);
                                float x_62917 = ((float *) mem_64425)[i_62916];
                                
                                defunc_0_f_res_62915 = x_62917;
                            }
                            
                            float x_62918 = a12_62884 * tmp4_62912;
                            float y_62919 = b12_62885 * defunc_1_f_res_62913;
                            float x_62920 = x_62918 + y_62919;
                            float y_62921 = c12_62886 * defunc_1_f_res_62914;
                            float x_62922 = x_62920 + y_62921;
                            float defunc_9_fit_fun_res_62923 =
                                  defunc_0_f_res_62915 * x_62922;
                            float x_62924 = b12_62885 * tmp4_62912;
                            float y_62925 = b2_62887 * defunc_1_f_res_62913;
                            float x_62926 = x_62924 + y_62925;
                            float y_62927 = c2_62888 * defunc_1_f_res_62914;
                            float x_62928 = x_62926 + y_62927;
                            float defunc_9_slope_fun_res_62929 =
                                  defunc_0_f_res_62915 * x_62928;
                            float defunc_1_op_res_62893 =
                                  defunc_9_fit_fun_res_62923 + redout_63756;
                            float defunc_1_op_res_62896 =
                                  defunc_9_slope_fun_res_62929 + redout_63757;
                            float redout_tmp_65426 = defunc_1_op_res_62893;
                            float redout_tmp_65427 = defunc_1_op_res_62896;
                            
                            redout_63756 = redout_tmp_65426;
                            redout_63757 = redout_tmp_65427;
                        }
                        defunc_2_reduce_res_62889 = redout_63756;
                        defunc_2_reduce_res_62890 = redout_63757;
                        ((float *) mem_64383.mem)[i_63770 * n_m_62264 +
                                                  i_63763] =
                            defunc_2_reduce_res_62889;
                        ((float *) mem_64387.mem)[i_63770 * n_m_62264 +
                                                  i_63763] =
                            defunc_2_reduce_res_62890;
                    }
                }
                if (memblock_set(ctx, &ext_mem_64566, &mem_64383,
                                 "mem_64383") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_64558, &mem_64387,
                                 "mem_64387") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64387, "mem_64387") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64383, "mem_64383") != 0)
                    return 1;
            }
            if (memblock_set(ctx, &ext_mem_64582, &ext_mem_64566,
                             "ext_mem_64566") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_64574, &ext_mem_64558,
                             "ext_mem_64558") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_64558, "ext_mem_64558") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_64566, "ext_mem_64566") != 0)
                return 1;
        }
        if (memblock_set(ctx, &ext_mem_65229, &ext_mem_64582,
                         "ext_mem_64582") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_65221, &ext_mem_64574,
                         "ext_mem_64574") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_64574, "ext_mem_64574") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_64582, "ext_mem_64582") != 0)
            return 1;
    } else {
        bool match_lit_62932 = (int64_t) 0 == degree_62259;
        int64_t binop_x_64591 = m_62255 * n_m_62264;
        int64_t binop_y_64592 = (int64_t) 4 * binop_x_64591;
        int64_t bytes_64590 = smax64((int64_t) 0, binop_y_64592);
        int64_t binop_y_64609 = (int64_t) 8 * n_62256;
        int64_t bytes_64608 = smax64((int64_t) 0, binop_y_64609);
        int64_t binop_y_64624 = (int64_t) 4 * n_62256;
        int64_t bytes_64623 = smax64((int64_t) 0, binop_y_64624);
        int64_t binop_y_64684 = (int64_t) 4 * q_62258;
        int64_t bytes_64683 = smax64((int64_t) 0, binop_y_64684);
        struct memblock ext_mem_65213;
        
        ext_mem_65213.references = NULL;
        
        struct memblock ext_mem_65205;
        
        ext_mem_65205.references = NULL;
        if (match_lit_62932) {
            struct memblock mem_64593;
            
            mem_64593.references = NULL;
            if (memblock_alloc(ctx, &mem_64593, bytes_64590, "mem_64593")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_65428 = 0; i_65428 < m_62255; i_65428++) {
                for (int64_t i_65429 = 0; i_65429 < n_m_62264; i_65429++) {
                    ((float *) mem_64593.mem)[i_65428 * n_m_62264 + i_65429] =
                        0.0F;
                }
            }
            
            struct memblock mem_64597;
            
            mem_64597.references = NULL;
            if (memblock_alloc(ctx, &mem_64597, bytes_64590, "mem_64597")) {
                err = 1;
                goto cleanup;
            }
            if (mem_64610_cached_sizze_65530 < (size_t) bytes_64608) {
                mem_64610 = realloc(mem_64610, bytes_64608);
                mem_64610_cached_sizze_65530 = bytes_64608;
            }
            if (mem_64625_cached_sizze_65531 < (size_t) bytes_64623) {
                mem_64625 = realloc(mem_64625, bytes_64623);
                mem_64625_cached_sizze_65531 = bytes_64623;
            }
            if (mem_64628_cached_sizze_65532 < (size_t) bytes_64608) {
                mem_64628 = realloc(mem_64628, bytes_64608);
                mem_64628_cached_sizze_65532 = bytes_64608;
            }
            if (mem_64655_cached_sizze_65533 < (size_t) bytes_64623) {
                mem_64655 = realloc(mem_64655, bytes_64623);
                mem_64655_cached_sizze_65533 = bytes_64623;
            }
            if (mem_64658_cached_sizze_65534 < (size_t) bytes_64608) {
                mem_64658 = realloc(mem_64658, bytes_64608);
                mem_64658_cached_sizze_65534 = bytes_64608;
            }
            if (mem_64685_cached_sizze_65535 < (size_t) bytes_64683) {
                mem_64685 = realloc(mem_64685, bytes_64683);
                mem_64685_cached_sizze_65535 = bytes_64683;
            }
            if (mem_64711_cached_sizze_65536 < (size_t) bytes_64683) {
                mem_64711 = realloc(mem_64711, bytes_64683);
                mem_64711_cached_sizze_65536 = bytes_64683;
            }
            for (int64_t i_63811 = 0; i_63811 < m_62255; i_63811++) {
                int64_t discard_63778;
                int64_t scanacc_63774 = (int64_t) 0;
                
                for (int64_t i_63776 = 0; i_63776 < n_62256; i_63776++) {
                    float x_62943 = ((float *) Y_mem_64063.mem)[i_63811 *
                                                                n_62256 +
                                                                i_63776];
                    bool isnan_res_62944;
                    
                    isnan_res_62944 = futrts_isnan32(x_62943);
                    
                    bool defunc_0_p_res_62945 = !isnan_res_62944;
                    int64_t defunc_0_f_res_62946 =
                            btoi_bool_i64(defunc_0_p_res_62945);
                    int64_t defunc_1_op_res_62942 = add64(defunc_0_f_res_62946,
                                                          scanacc_63774);
                    
                    ((int64_t *) mem_64610)[i_63776] = defunc_1_op_res_62942;
                    
                    int64_t scanacc_tmp_65431 = defunc_1_op_res_62942;
                    
                    scanacc_63774 = scanacc_tmp_65431;
                }
                discard_63778 = scanacc_63774;
                
                int64_t last_res_62947 = ((int64_t *) mem_64610)[i_62270];
                
                for (int64_t i_65433 = 0; i_65433 < n_62256; i_65433++) {
                    ((float *) mem_64625)[i_65433] = 0.0F;
                }
                for (int64_t i_65434 = 0; i_65434 < n_62256; i_65434++) {
                    ((int64_t *) mem_64628)[i_65434] = (int64_t) -1;
                }
                for (int64_t write_iter_63779 = 0; write_iter_63779 < n_62256;
                     write_iter_63779++) {
                    float write_iv_63782 = ((float *) Y_mem_64063.mem)[i_63811 *
                                                                       n_62256 +
                                                                       write_iter_63779];
                    int64_t write_iv_63783 =
                            ((int64_t *) mem_64610)[write_iter_63779];
                    bool isnan_res_62955;
                    
                    isnan_res_62955 = futrts_isnan32(write_iv_63782);
                    
                    bool defunc_0_p_res_62956 = !isnan_res_62955;
                    int64_t defunc_1_f_res_62957;
                    
                    if (defunc_0_p_res_62956) {
                        int64_t defunc_1_f_res_t_res_62958 =
                                sub64(write_iv_63783, (int64_t) 1);
                        
                        defunc_1_f_res_62957 = defunc_1_f_res_t_res_62958;
                    } else {
                        defunc_1_f_res_62957 = (int64_t) -1;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_62957) &&
                        slt64(defunc_1_f_res_62957, n_62256)) {
                        ((int64_t *) mem_64628)[defunc_1_f_res_62957] =
                            write_iter_63779;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_62957) &&
                        slt64(defunc_1_f_res_62957, n_62256)) {
                        memmove(mem_64625 + defunc_1_f_res_62957 * (int64_t) 4,
                                Y_mem_64063.mem + (i_63811 * n_62256 +
                                                   write_iter_63779) *
                                (int64_t) 4, (int64_t) 4);
                    }
                }
                
                int64_t min_arg_62962 = sub64(last_res_62947, (int64_t) 1);
                int64_t min_arg_62963 = sub64(last_res_62947, min_res_62276);
                int64_t min_res_62964 = smin64(q_62258, last_res_62947);
                float i64_res_62965 = sitofp_i64_f32(last_res_62947);
                float x_62966 = i64_res_62282 - i64_res_62965;
                float max_arg_62967 = x_62966 / 2.0F;
                float max_res_62968 = fmax32(0.0F, max_arg_62967);
                
                for (int64_t i_63791 = 0; i_63791 < n_62256; i_63791++) {
                    int64_t x_62971 = ((int64_t *) mem_64628)[i_63791];
                    int64_t defunc_0_f_res_62972 = add64((int64_t) 1, x_62971);
                    float defunc_0_f_res_62973 = sitofp_i64_f32(x_62971);
                    
                    ((float *) mem_64655)[i_63791] = defunc_0_f_res_62973;
                    ((int64_t *) mem_64658)[i_63791] = defunc_0_f_res_62972;
                }
                for (int64_t i_63796 = 0; i_63796 < q_62258; i_63796++) {
                    bool cond_62978 = sle64(last_res_62947, i_63796);
                    float defunc_0_f_res_62979;
                    
                    if (cond_62978) {
                        defunc_0_f_res_62979 = 0.0F;
                    } else {
                        defunc_0_f_res_62979 = 1.0F;
                    }
                    ((float *) mem_64685)[i_63796] = defunc_0_f_res_62979;
                }
                for (int64_t i_63807 = 0; i_63807 < n_m_62264; i_63807++) {
                    int64_t min_arg_62982 = mul64(jump_62260, i_63807);
                    int64_t min_res_62983 = smin64(i_62270, min_arg_62982);
                    int64_t defunc_0_g_res_62984 = add64((int64_t) 1,
                                                         min_res_62983);
                    bool init_idx_62985;
                    int64_t init_idx_62986;
                    int64_t init_idx_62987;
                    bool loop_while_62988;
                    int64_t low_62989;
                    int64_t high_62990;
                    
                    loop_while_62988 = x_62271;
                    low_62989 = (int64_t) 0;
                    high_62990 = i_62270;
                    while (loop_while_62988) {
                        int64_t x_62991 = add64(low_62989, high_62990);
                        int64_t mid_62992 = sdiv64(x_62991, (int64_t) 2);
                        bool x_62993 = sle64((int64_t) 0, mid_62992);
                        bool y_62994 = slt64(mid_62992, n_62256);
                        bool bounds_check_62995 = x_62993 && y_62994;
                        bool index_certs_62996;
                        
                        if (!bounds_check_62995) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) mid_62992,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64597, "mem_64597") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64593, "mem_64593") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65205,
                                               "ext_mem_65205") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65213,
                                               "ext_mem_65213") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t mid_id_62997 =
                                ((int64_t *) mem_64658)[mid_62992];
                        bool cond_62998 = slt64(mid_id_62997, (int64_t) 0);
                        int64_t mid_idx_62999;
                        
                        if (cond_62998) {
                            mid_idx_62999 = (int64_t) 9223372036854775807;
                        } else {
                            mid_idx_62999 = mid_id_62997;
                        }
                        
                        bool cond_63000 = sle64(defunc_0_g_res_62984,
                                                mid_idx_62999);
                        int64_t loopres_63001;
                        int64_t loopres_63002;
                        
                        if (cond_63000) {
                            int64_t loopres_t_res_63003 = sub64(mid_62992,
                                                                (int64_t) 1);
                            
                            loopres_63001 = low_62989;
                            loopres_63002 = loopres_t_res_63003;
                        } else {
                            int64_t loopres_f_res_63004 = add64((int64_t) 1,
                                                                mid_62992);
                            
                            loopres_63001 = loopres_f_res_63004;
                            loopres_63002 = high_62990;
                        }
                        
                        bool loop_cond_63005 = sle64(loopres_63001,
                                                     loopres_63002);
                        bool loop_while_tmp_65441 = loop_cond_63005;
                        int64_t low_tmp_65442 = loopres_63001;
                        int64_t high_tmp_65443 = loopres_63002;
                        
                        loop_while_62988 = loop_while_tmp_65441;
                        low_62989 = low_tmp_65442;
                        high_62990 = high_tmp_65443;
                    }
                    init_idx_62985 = loop_while_62988;
                    init_idx_62986 = low_62989;
                    init_idx_62987 = high_62990;
                    
                    bool idx_63006;
                    int64_t idx_63007;
                    int64_t idx_63008;
                    int64_t idx_63009;
                    bool loop_while_63010;
                    int64_t l_idx_63011;
                    int64_t r_idx_63012;
                    int64_t span_63013;
                    
                    loop_while_63010 = loop_cond_62281;
                    l_idx_63011 = init_idx_62986;
                    r_idx_63012 = init_idx_62986;
                    span_63013 = (int64_t) 1;
                    while (loop_while_63010) {
                        int64_t max_arg_63014 = sub64(l_idx_63011, (int64_t) 1);
                        int64_t max_res_63015 = smax64((int64_t) 0,
                                                       max_arg_63014);
                        int64_t min_arg_63016 = add64((int64_t) 1, r_idx_63012);
                        int64_t min_res_63017 = smin64(min_arg_62962,
                                                       min_arg_63016);
                        bool x_63018 = sle64((int64_t) 0, max_res_63015);
                        bool y_63019 = slt64(max_res_63015, n_62256);
                        bool bounds_check_63020 = x_63018 && y_63019;
                        bool index_certs_63021;
                        
                        if (!bounds_check_63020) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_63015,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64597, "mem_64597") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64593, "mem_64593") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65205,
                                               "ext_mem_65205") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65213,
                                               "ext_mem_65213") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_63022 =
                                ((int64_t *) mem_64658)[max_res_63015];
                        int64_t abs_arg_63023 = sub64(x_63022,
                                                      defunc_0_g_res_62984);
                        int64_t abs_res_63024 = abs64(abs_arg_63023);
                        bool x_63025 = sle64((int64_t) 0, min_res_63017);
                        bool y_63026 = slt64(min_res_63017, n_62256);
                        bool bounds_check_63027 = x_63025 && y_63026;
                        bool index_certs_63028;
                        
                        if (!bounds_check_63027) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) min_res_63017,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64597, "mem_64597") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64593, "mem_64593") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65205,
                                               "ext_mem_65205") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65213,
                                               "ext_mem_65213") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_63029 =
                                ((int64_t *) mem_64658)[min_res_63017];
                        int64_t abs_arg_63030 = sub64(x_63029,
                                                      defunc_0_g_res_62984);
                        int64_t abs_res_63031 = abs64(abs_arg_63030);
                        bool cond_63032 = max_res_63015 == l_idx_63011;
                        int64_t loopres_63033;
                        int64_t loopres_63034;
                        int64_t loopres_63035;
                        
                        if (cond_63032) {
                            loopres_63033 = l_idx_63011;
                            loopres_63034 = r_idx_63012;
                            loopres_63035 = min_res_62276;
                        } else {
                            bool cond_63036 = slt64(abs_res_63024,
                                                    abs_res_63031);
                            bool cond_f_res_63037 = min_res_63017 ==
                                 r_idx_63012;
                            bool x_63038 = !cond_63036;
                            bool y_63039 = cond_f_res_63037 && x_63038;
                            bool cond_63040 = cond_63036 || y_63039;
                            int64_t loopres_f_res_63041;
                            
                            if (cond_63040) {
                                loopres_f_res_63041 = max_res_63015;
                            } else {
                                loopres_f_res_63041 = l_idx_63011;
                            }
                            
                            int64_t loopres_f_res_63042;
                            
                            if (cond_63040) {
                                loopres_f_res_63042 = r_idx_63012;
                            } else {
                                loopres_f_res_63042 = min_res_63017;
                            }
                            
                            int64_t loopres_f_res_63043;
                            
                            if (cond_63040) {
                                int64_t loopres_f_res_t_res_63044 =
                                        add64((int64_t) 1, span_63013);
                                
                                loopres_f_res_63043 = loopres_f_res_t_res_63044;
                            } else {
                                int64_t loopres_f_res_f_res_63045 =
                                        add64((int64_t) 1, span_63013);
                                
                                loopres_f_res_63043 = loopres_f_res_f_res_63045;
                            }
                            loopres_63033 = loopres_f_res_63041;
                            loopres_63034 = loopres_f_res_63042;
                            loopres_63035 = loopres_f_res_63043;
                        }
                        
                        bool loop_cond_63046 = slt64(loopres_63035,
                                                     min_res_62276);
                        bool loop_while_tmp_65444 = loop_cond_63046;
                        int64_t l_idx_tmp_65445 = loopres_63033;
                        int64_t r_idx_tmp_65446 = loopres_63034;
                        int64_t span_tmp_65447 = loopres_63035;
                        
                        loop_while_63010 = loop_while_tmp_65444;
                        l_idx_63011 = l_idx_tmp_65445;
                        r_idx_63012 = r_idx_tmp_65446;
                        span_63013 = span_tmp_65447;
                    }
                    idx_63006 = loop_while_63010;
                    idx_63007 = l_idx_63011;
                    idx_63008 = r_idx_63012;
                    idx_63009 = span_63013;
                    
                    int64_t min_res_63047 = smin64(min_arg_62963, idx_63007);
                    int64_t max_res_63048 = smax64((int64_t) 0, min_res_63047);
                    int64_t x_63049 = add64(min_res_62964, max_res_63048);
                    int64_t r_63050 = sub64(x_63049, (int64_t) 1);
                    bool x_63051 = sle64((int64_t) 0, r_63050);
                    bool y_63052 = slt64(r_63050, n_62256);
                    bool bounds_check_63053 = x_63051 && y_63052;
                    bool index_certs_63054;
                    
                    if (!bounds_check_63053) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) r_63050,
                                      "] out of bounds for array of shape [",
                                      (long long) n_62256, "].",
                                      "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                        if (memblock_unref(ctx, &mem_64597, "mem_64597") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_64593, "mem_64593") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65205,
                                           "ext_mem_65205") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65213,
                                           "ext_mem_65213") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65221,
                                           "ext_mem_65221") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65229,
                                           "ext_mem_65229") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_65353,
                                           "mem_out_65353") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_63055 = ((int64_t *) mem_64628)[r_63050];
                    int64_t abs_arg_63056 = sub64(x_63055, min_res_62983);
                    int64_t abs_res_63057 = abs64(abs_arg_63056);
                    bool x_63058 = sle64((int64_t) 0, max_res_63048);
                    bool y_63059 = slt64(max_res_63048, n_62256);
                    bool bounds_check_63060 = x_63058 && y_63059;
                    bool index_certs_63061;
                    
                    if (!bounds_check_63060) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) max_res_63048,
                                      "] out of bounds for array of shape [",
                                      (long long) n_62256, "].",
                                      "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                        if (memblock_unref(ctx, &mem_64597, "mem_64597") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_64593, "mem_64593") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65205,
                                           "ext_mem_65205") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65213,
                                           "ext_mem_65213") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65221,
                                           "ext_mem_65221") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65229,
                                           "ext_mem_65229") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_65353,
                                           "mem_out_65353") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_63062 = ((int64_t *) mem_64628)[max_res_63048];
                    int64_t abs_arg_63063 = sub64(x_63062, min_res_62983);
                    int64_t abs_res_63064 = abs64(abs_arg_63063);
                    int64_t max_res_63065 = smax64(abs_res_63057,
                                                   abs_res_63064);
                    float defunc_0_f_res_63066 = sitofp_i64_f32(max_res_63065);
                    float defunc_1_f_res_63067 = max_res_62968 +
                          defunc_0_f_res_63066;
                    float defunc_0_f_res_63068 = sitofp_i64_f32(min_res_62983);
                    float defunc_2_reduce_res_63069;
                    float redout_63799 = 0.0F;
                    
                    for (int64_t i_63801 = 0; i_63801 < q_62258; i_63801++) {
                        float x_63075 = ((float *) mem_64685)[i_63801];
                        bool cond_63076 = sle64(last_res_62947, i_63801);
                        float defunc_0_f_res_63077;
                        
                        if (cond_63076) {
                            defunc_0_f_res_63077 = 0.0F;
                        } else {
                            int64_t i_63078 = add64(max_res_63048, i_63801);
                            float x_63079 = ((float *) mem_64655)[i_63078];
                            float defunc_0_f_res_f_res_63080 = 1.0F + x_63079;
                            
                            defunc_0_f_res_63077 = defunc_0_f_res_f_res_63080;
                        }
                        
                        float x_j_63081 = defunc_0_f_res_63077 -
                              defunc_0_f_res_63068;
                        float abs_res_63082 = (float) fabs(x_j_63081);
                        float tmp1_63083 = abs_res_63082 / defunc_1_f_res_63067;
                        float x_63084 = tmp1_63083 * tmp1_63083;
                        float y_63085 = tmp1_63083 * x_63084;
                        float tmp2_63086 = 1.0F - y_63085;
                        float x_63087 = tmp2_63086 * tmp2_63086;
                        float tmp3_63088 = tmp2_63086 * x_63087;
                        float tmp4_63089 = x_63075 * tmp3_63088;
                        float defunc_1_op_res_63073 = tmp4_63089 + redout_63799;
                        
                        ((float *) mem_64711)[i_63801] = tmp4_63089;
                        
                        float redout_tmp_65448 = defunc_1_op_res_63073;
                        
                        redout_63799 = redout_tmp_65448;
                    }
                    defunc_2_reduce_res_63069 = redout_63799;
                    
                    float a0_63090 = 1.0F / defunc_2_reduce_res_63069;
                    float defunc_2_reduce_res_63091;
                    float redout_63803 = 0.0F;
                    
                    for (int64_t i_63804 = 0; i_63804 < q_62258; i_63804++) {
                        float x_63096 = ((float *) mem_64711)[i_63804];
                        bool cond_63097 = sle64(last_res_62947, i_63804);
                        float defunc_0_f_res_63098;
                        
                        if (cond_63097) {
                            defunc_0_f_res_63098 = 0.0F;
                        } else {
                            int64_t i_63099 = add64(max_res_63048, i_63804);
                            float x_63100 = ((float *) mem_64625)[i_63099];
                            
                            defunc_0_f_res_63098 = x_63100;
                        }
                        
                        float x_63101 = a0_63090 * x_63096;
                        float defunc_9_fit_fun_res_63102 =
                              defunc_0_f_res_63098 * x_63101;
                        float defunc_1_op_res_63094 =
                              defunc_9_fit_fun_res_63102 + redout_63803;
                        float redout_tmp_65450 = defunc_1_op_res_63094;
                        
                        redout_63803 = redout_tmp_65450;
                    }
                    defunc_2_reduce_res_63091 = redout_63803;
                    ((float *) mem_64597.mem)[i_63811 * n_m_62264 + i_63807] =
                        defunc_2_reduce_res_63091;
                }
            }
            if (memblock_set(ctx, &ext_mem_65213, &mem_64597, "mem_64597") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_65205, &mem_64593, "mem_64593") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_64597, "mem_64597") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_64593, "mem_64593") != 0)
                return 1;
        } else {
            bool match_lit_63105 = (int64_t) 1 == degree_62259;
            int64_t binop_x_64744 = m_62255 * n_m_62264;
            int64_t binop_y_64745 = (int64_t) 4 * binop_x_64744;
            int64_t bytes_64743 = smax64((int64_t) 0, binop_y_64745);
            int64_t binop_y_64772 = (int64_t) 8 * n_62256;
            int64_t bytes_64771 = smax64((int64_t) 0, binop_y_64772);
            int64_t binop_y_64787 = (int64_t) 4 * n_62256;
            int64_t bytes_64786 = smax64((int64_t) 0, binop_y_64787);
            int64_t binop_y_64847 = (int64_t) 4 * q_62258;
            int64_t bytes_64846 = smax64((int64_t) 0, binop_y_64847);
            int64_t binop_x_64952 = m_62255 * n_m_62264;
            int64_t binop_y_64953 = (int64_t) 4 * binop_x_64952;
            int64_t bytes_64951 = smax64((int64_t) 0, binop_y_64953);
            int64_t binop_y_64980 = (int64_t) 8 * n_62256;
            int64_t bytes_64979 = smax64((int64_t) 0, binop_y_64980);
            int64_t binop_y_64995 = (int64_t) 4 * n_62256;
            int64_t bytes_64994 = smax64((int64_t) 0, binop_y_64995);
            int64_t binop_y_65055 = (int64_t) 4 * q_62258;
            int64_t bytes_65054 = smax64((int64_t) 0, binop_y_65055);
            struct memblock ext_mem_65197;
            
            ext_mem_65197.references = NULL;
            
            struct memblock ext_mem_65189;
            
            ext_mem_65189.references = NULL;
            if (match_lit_63105) {
                struct memblock mem_64746;
                
                mem_64746.references = NULL;
                if (memblock_alloc(ctx, &mem_64746, bytes_64743, "mem_64746")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_64750;
                
                mem_64750.references = NULL;
                if (memblock_alloc(ctx, &mem_64750, bytes_64743, "mem_64750")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_64773_cached_sizze_65537 < (size_t) bytes_64771) {
                    mem_64773 = realloc(mem_64773, bytes_64771);
                    mem_64773_cached_sizze_65537 = bytes_64771;
                }
                if (mem_64788_cached_sizze_65538 < (size_t) bytes_64786) {
                    mem_64788 = realloc(mem_64788, bytes_64786);
                    mem_64788_cached_sizze_65538 = bytes_64786;
                }
                if (mem_64791_cached_sizze_65539 < (size_t) bytes_64771) {
                    mem_64791 = realloc(mem_64791, bytes_64771);
                    mem_64791_cached_sizze_65539 = bytes_64771;
                }
                if (mem_64818_cached_sizze_65540 < (size_t) bytes_64786) {
                    mem_64818 = realloc(mem_64818, bytes_64786);
                    mem_64818_cached_sizze_65540 = bytes_64786;
                }
                if (mem_64821_cached_sizze_65541 < (size_t) bytes_64771) {
                    mem_64821 = realloc(mem_64821, bytes_64771);
                    mem_64821_cached_sizze_65541 = bytes_64771;
                }
                if (mem_64848_cached_sizze_65542 < (size_t) bytes_64846) {
                    mem_64848 = realloc(mem_64848, bytes_64846);
                    mem_64848_cached_sizze_65542 = bytes_64846;
                }
                if (mem_64885_cached_sizze_65543 < (size_t) bytes_64846) {
                    mem_64885 = realloc(mem_64885, bytes_64846);
                    mem_64885_cached_sizze_65543 = bytes_64846;
                }
                if (mem_64888_cached_sizze_65544 < (size_t) bytes_64846) {
                    mem_64888 = realloc(mem_64888, bytes_64846);
                    mem_64888_cached_sizze_65544 = bytes_64846;
                }
                for (int64_t i_63862 = 0; i_63862 < m_62255; i_63862++) {
                    int64_t discard_63818;
                    int64_t scanacc_63814 = (int64_t) 0;
                    
                    for (int64_t i_63816 = 0; i_63816 < n_62256; i_63816++) {
                        float x_63116 = ((float *) Y_mem_64063.mem)[i_63862 *
                                                                    n_62256 +
                                                                    i_63816];
                        bool isnan_res_63117;
                        
                        isnan_res_63117 = futrts_isnan32(x_63116);
                        
                        bool defunc_0_p_res_63118 = !isnan_res_63117;
                        int64_t defunc_0_f_res_63119 =
                                btoi_bool_i64(defunc_0_p_res_63118);
                        int64_t defunc_1_op_res_63115 =
                                add64(defunc_0_f_res_63119, scanacc_63814);
                        
                        ((int64_t *) mem_64773)[i_63816] =
                            defunc_1_op_res_63115;
                        
                        int64_t scanacc_tmp_65453 = defunc_1_op_res_63115;
                        
                        scanacc_63814 = scanacc_tmp_65453;
                    }
                    discard_63818 = scanacc_63814;
                    
                    int64_t last_res_63120 = ((int64_t *) mem_64773)[i_62270];
                    
                    for (int64_t i_65455 = 0; i_65455 < n_62256; i_65455++) {
                        ((float *) mem_64788)[i_65455] = 0.0F;
                    }
                    for (int64_t i_65456 = 0; i_65456 < n_62256; i_65456++) {
                        ((int64_t *) mem_64791)[i_65456] = (int64_t) -1;
                    }
                    for (int64_t write_iter_63819 = 0; write_iter_63819 <
                         n_62256; write_iter_63819++) {
                        float write_iv_63822 =
                              ((float *) Y_mem_64063.mem)[i_63862 * n_62256 +
                                                          write_iter_63819];
                        int64_t write_iv_63823 =
                                ((int64_t *) mem_64773)[write_iter_63819];
                        bool isnan_res_63128;
                        
                        isnan_res_63128 = futrts_isnan32(write_iv_63822);
                        
                        bool defunc_0_p_res_63129 = !isnan_res_63128;
                        int64_t defunc_1_f_res_63130;
                        
                        if (defunc_0_p_res_63129) {
                            int64_t defunc_1_f_res_t_res_63131 =
                                    sub64(write_iv_63823, (int64_t) 1);
                            
                            defunc_1_f_res_63130 = defunc_1_f_res_t_res_63131;
                        } else {
                            defunc_1_f_res_63130 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_63130) &&
                            slt64(defunc_1_f_res_63130, n_62256)) {
                            ((int64_t *) mem_64791)[defunc_1_f_res_63130] =
                                write_iter_63819;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_63130) &&
                            slt64(defunc_1_f_res_63130, n_62256)) {
                            memmove(mem_64788 + defunc_1_f_res_63130 *
                                    (int64_t) 4, Y_mem_64063.mem + (i_63862 *
                                                                    n_62256 +
                                                                    write_iter_63819) *
                                    (int64_t) 4, (int64_t) 4);
                        }
                    }
                    
                    int64_t min_arg_63135 = sub64(last_res_63120, (int64_t) 1);
                    int64_t min_arg_63136 = sub64(last_res_63120,
                                                  min_res_62276);
                    int64_t min_res_63137 = smin64(q_62258, last_res_63120);
                    float i64_res_63138 = sitofp_i64_f32(last_res_63120);
                    float x_63139 = i64_res_62282 - i64_res_63138;
                    float max_arg_63140 = x_63139 / 2.0F;
                    float max_res_63141 = fmax32(0.0F, max_arg_63140);
                    
                    for (int64_t i_63831 = 0; i_63831 < n_62256; i_63831++) {
                        int64_t x_63144 = ((int64_t *) mem_64791)[i_63831];
                        int64_t defunc_0_f_res_63145 = add64((int64_t) 1,
                                                             x_63144);
                        float defunc_0_f_res_63146 = sitofp_i64_f32(x_63144);
                        
                        ((float *) mem_64818)[i_63831] = defunc_0_f_res_63146;
                        ((int64_t *) mem_64821)[i_63831] = defunc_0_f_res_63145;
                    }
                    for (int64_t i_63836 = 0; i_63836 < q_62258; i_63836++) {
                        bool cond_63151 = sle64(last_res_63120, i_63836);
                        float defunc_0_f_res_63152;
                        
                        if (cond_63151) {
                            defunc_0_f_res_63152 = 0.0F;
                        } else {
                            defunc_0_f_res_63152 = 1.0F;
                        }
                        ((float *) mem_64848)[i_63836] = defunc_0_f_res_63152;
                    }
                    for (int64_t i_63855 = 0; i_63855 < n_m_62264; i_63855++) {
                        int64_t min_arg_63156 = mul64(jump_62260, i_63855);
                        int64_t min_res_63157 = smin64(i_62270, min_arg_63156);
                        int64_t defunc_0_g_res_63158 = add64((int64_t) 1,
                                                             min_res_63157);
                        bool init_idx_63159;
                        int64_t init_idx_63160;
                        int64_t init_idx_63161;
                        bool loop_while_63162;
                        int64_t low_63163;
                        int64_t high_63164;
                        
                        loop_while_63162 = x_62271;
                        low_63163 = (int64_t) 0;
                        high_63164 = i_62270;
                        while (loop_while_63162) {
                            int64_t x_63165 = add64(low_63163, high_63164);
                            int64_t mid_63166 = sdiv64(x_63165, (int64_t) 2);
                            bool x_63167 = sle64((int64_t) 0, mid_63166);
                            bool y_63168 = slt64(mid_63166, n_62256);
                            bool bounds_check_63169 = x_63167 && y_63168;
                            bool index_certs_63170;
                            
                            if (!bounds_check_63169) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_63166,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62256, "].",
                                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                                if (memblock_unref(ctx, &mem_64750,
                                                   "mem_64750") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64746,
                                                   "mem_64746") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65189,
                                                   "ext_mem_65189") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65197,
                                                   "ext_mem_65197") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65205,
                                                   "ext_mem_65205") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65213,
                                                   "ext_mem_65213") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65221,
                                                   "ext_mem_65221") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65229,
                                                   "ext_mem_65229") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65353,
                                                   "mem_out_65353") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_63171 =
                                    ((int64_t *) mem_64821)[mid_63166];
                            bool cond_63172 = slt64(mid_id_63171, (int64_t) 0);
                            int64_t mid_idx_63173;
                            
                            if (cond_63172) {
                                mid_idx_63173 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_63173 = mid_id_63171;
                            }
                            
                            bool cond_63174 = sle64(defunc_0_g_res_63158,
                                                    mid_idx_63173);
                            int64_t loopres_63175;
                            int64_t loopres_63176;
                            
                            if (cond_63174) {
                                int64_t loopres_t_res_63177 = sub64(mid_63166,
                                                                    (int64_t) 1);
                                
                                loopres_63175 = low_63163;
                                loopres_63176 = loopres_t_res_63177;
                            } else {
                                int64_t loopres_f_res_63178 = add64((int64_t) 1,
                                                                    mid_63166);
                                
                                loopres_63175 = loopres_f_res_63178;
                                loopres_63176 = high_63164;
                            }
                            
                            bool loop_cond_63179 = sle64(loopres_63175,
                                                         loopres_63176);
                            bool loop_while_tmp_65464 = loop_cond_63179;
                            int64_t low_tmp_65465 = loopres_63175;
                            int64_t high_tmp_65466 = loopres_63176;
                            
                            loop_while_63162 = loop_while_tmp_65464;
                            low_63163 = low_tmp_65465;
                            high_63164 = high_tmp_65466;
                        }
                        init_idx_63159 = loop_while_63162;
                        init_idx_63160 = low_63163;
                        init_idx_63161 = high_63164;
                        
                        bool idx_63180;
                        int64_t idx_63181;
                        int64_t idx_63182;
                        int64_t idx_63183;
                        bool loop_while_63184;
                        int64_t l_idx_63185;
                        int64_t r_idx_63186;
                        int64_t span_63187;
                        
                        loop_while_63184 = loop_cond_62281;
                        l_idx_63185 = init_idx_63160;
                        r_idx_63186 = init_idx_63160;
                        span_63187 = (int64_t) 1;
                        while (loop_while_63184) {
                            int64_t max_arg_63188 = sub64(l_idx_63185,
                                                          (int64_t) 1);
                            int64_t max_res_63189 = smax64((int64_t) 0,
                                                           max_arg_63188);
                            int64_t min_arg_63190 = add64((int64_t) 1,
                                                          r_idx_63186);
                            int64_t min_res_63191 = smin64(min_arg_63135,
                                                           min_arg_63190);
                            bool x_63192 = sle64((int64_t) 0, max_res_63189);
                            bool y_63193 = slt64(max_res_63189, n_62256);
                            bool bounds_check_63194 = x_63192 && y_63193;
                            bool index_certs_63195;
                            
                            if (!bounds_check_63194) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_63189,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62256, "].",
                                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                                if (memblock_unref(ctx, &mem_64750,
                                                   "mem_64750") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64746,
                                                   "mem_64746") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65189,
                                                   "ext_mem_65189") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65197,
                                                   "ext_mem_65197") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65205,
                                                   "ext_mem_65205") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65213,
                                                   "ext_mem_65213") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65221,
                                                   "ext_mem_65221") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65229,
                                                   "ext_mem_65229") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65353,
                                                   "mem_out_65353") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_63196 =
                                    ((int64_t *) mem_64821)[max_res_63189];
                            int64_t abs_arg_63197 = sub64(x_63196,
                                                          defunc_0_g_res_63158);
                            int64_t abs_res_63198 = abs64(abs_arg_63197);
                            bool x_63199 = sle64((int64_t) 0, min_res_63191);
                            bool y_63200 = slt64(min_res_63191, n_62256);
                            bool bounds_check_63201 = x_63199 && y_63200;
                            bool index_certs_63202;
                            
                            if (!bounds_check_63201) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_63191,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62256, "].",
                                              "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                                if (memblock_unref(ctx, &mem_64750,
                                                   "mem_64750") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64746,
                                                   "mem_64746") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65189,
                                                   "ext_mem_65189") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65197,
                                                   "ext_mem_65197") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65205,
                                                   "ext_mem_65205") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65213,
                                                   "ext_mem_65213") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65221,
                                                   "ext_mem_65221") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65229,
                                                   "ext_mem_65229") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65353,
                                                   "mem_out_65353") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_63203 =
                                    ((int64_t *) mem_64821)[min_res_63191];
                            int64_t abs_arg_63204 = sub64(x_63203,
                                                          defunc_0_g_res_63158);
                            int64_t abs_res_63205 = abs64(abs_arg_63204);
                            bool cond_63206 = max_res_63189 == l_idx_63185;
                            int64_t loopres_63207;
                            int64_t loopres_63208;
                            int64_t loopres_63209;
                            
                            if (cond_63206) {
                                loopres_63207 = l_idx_63185;
                                loopres_63208 = r_idx_63186;
                                loopres_63209 = min_res_62276;
                            } else {
                                bool cond_63210 = slt64(abs_res_63198,
                                                        abs_res_63205);
                                bool cond_f_res_63211 = min_res_63191 ==
                                     r_idx_63186;
                                bool x_63212 = !cond_63210;
                                bool y_63213 = cond_f_res_63211 && x_63212;
                                bool cond_63214 = cond_63210 || y_63213;
                                int64_t loopres_f_res_63215;
                                
                                if (cond_63214) {
                                    loopres_f_res_63215 = max_res_63189;
                                } else {
                                    loopres_f_res_63215 = l_idx_63185;
                                }
                                
                                int64_t loopres_f_res_63216;
                                
                                if (cond_63214) {
                                    loopres_f_res_63216 = r_idx_63186;
                                } else {
                                    loopres_f_res_63216 = min_res_63191;
                                }
                                
                                int64_t loopres_f_res_63217;
                                
                                if (cond_63214) {
                                    int64_t loopres_f_res_t_res_63218 =
                                            add64((int64_t) 1, span_63187);
                                    
                                    loopres_f_res_63217 =
                                        loopres_f_res_t_res_63218;
                                } else {
                                    int64_t loopres_f_res_f_res_63219 =
                                            add64((int64_t) 1, span_63187);
                                    
                                    loopres_f_res_63217 =
                                        loopres_f_res_f_res_63219;
                                }
                                loopres_63207 = loopres_f_res_63215;
                                loopres_63208 = loopres_f_res_63216;
                                loopres_63209 = loopres_f_res_63217;
                            }
                            
                            bool loop_cond_63220 = slt64(loopres_63209,
                                                         min_res_62276);
                            bool loop_while_tmp_65467 = loop_cond_63220;
                            int64_t l_idx_tmp_65468 = loopres_63207;
                            int64_t r_idx_tmp_65469 = loopres_63208;
                            int64_t span_tmp_65470 = loopres_63209;
                            
                            loop_while_63184 = loop_while_tmp_65467;
                            l_idx_63185 = l_idx_tmp_65468;
                            r_idx_63186 = r_idx_tmp_65469;
                            span_63187 = span_tmp_65470;
                        }
                        idx_63180 = loop_while_63184;
                        idx_63181 = l_idx_63185;
                        idx_63182 = r_idx_63186;
                        idx_63183 = span_63187;
                        
                        int64_t min_res_63221 = smin64(min_arg_63136,
                                                       idx_63181);
                        int64_t max_res_63222 = smax64((int64_t) 0,
                                                       min_res_63221);
                        int64_t x_63223 = add64(min_res_63137, max_res_63222);
                        int64_t r_63224 = sub64(x_63223, (int64_t) 1);
                        bool x_63225 = sle64((int64_t) 0, r_63224);
                        bool y_63226 = slt64(r_63224, n_62256);
                        bool bounds_check_63227 = x_63225 && y_63226;
                        bool index_certs_63228;
                        
                        if (!bounds_check_63227) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_63224,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64750, "mem_64750") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64746, "mem_64746") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65189,
                                               "ext_mem_65189") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65197,
                                               "ext_mem_65197") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65205,
                                               "ext_mem_65205") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65213,
                                               "ext_mem_65213") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_63229 = ((int64_t *) mem_64791)[r_63224];
                        int64_t abs_arg_63230 = sub64(x_63229, min_res_63157);
                        int64_t abs_res_63231 = abs64(abs_arg_63230);
                        bool x_63232 = sle64((int64_t) 0, max_res_63222);
                        bool y_63233 = slt64(max_res_63222, n_62256);
                        bool bounds_check_63234 = x_63232 && y_63233;
                        bool index_certs_63235;
                        
                        if (!bounds_check_63234) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_63222,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64750, "mem_64750") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64746, "mem_64746") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65189,
                                               "ext_mem_65189") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65197,
                                               "ext_mem_65197") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65205,
                                               "ext_mem_65205") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65213,
                                               "ext_mem_65213") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_63236 =
                                ((int64_t *) mem_64791)[max_res_63222];
                        int64_t abs_arg_63237 = sub64(x_63236, min_res_63157);
                        int64_t abs_res_63238 = abs64(abs_arg_63237);
                        int64_t max_res_63239 = smax64(abs_res_63231,
                                                       abs_res_63238);
                        float defunc_0_f_res_63240 =
                              sitofp_i64_f32(max_res_63239);
                        float defunc_1_f_res_63241 = max_res_63141 +
                              defunc_0_f_res_63240;
                        float defunc_0_f_res_63242 =
                              sitofp_i64_f32(min_res_63157);
                        float defunc_2_reduce_res_63263;
                        float defunc_2_reduce_res_63264;
                        float defunc_2_reduce_res_63265;
                        float redout_63840;
                        float redout_63841;
                        float redout_63842;
                        
                        redout_63840 = 0.0F;
                        redout_63841 = 0.0F;
                        redout_63842 = 0.0F;
                        for (int64_t i_63845 = 0; i_63845 < q_62258;
                             i_63845++) {
                            float x_63278 = ((float *) mem_64848)[i_63845];
                            bool cond_63279 = sle64(last_res_63120, i_63845);
                            float defunc_0_f_res_63280;
                            
                            if (cond_63279) {
                                defunc_0_f_res_63280 = 0.0F;
                            } else {
                                int64_t i_63281 = add64(max_res_63222, i_63845);
                                float x_63282 = ((float *) mem_64818)[i_63281];
                                float defunc_0_f_res_f_res_63283 = 1.0F +
                                      x_63282;
                                
                                defunc_0_f_res_63280 =
                                    defunc_0_f_res_f_res_63283;
                            }
                            
                            float x_j_63284 = defunc_0_f_res_63280 -
                                  defunc_0_f_res_63242;
                            float abs_res_63285 = (float) fabs(x_j_63284);
                            float tmp1_63286 = abs_res_63285 /
                                  defunc_1_f_res_63241;
                            float x_63287 = tmp1_63286 * tmp1_63286;
                            float y_63288 = tmp1_63286 * x_63287;
                            float tmp2_63289 = 1.0F - y_63288;
                            float x_63290 = tmp2_63289 * tmp2_63289;
                            float tmp3_63291 = tmp2_63289 * x_63290;
                            float tmp4_63292 = x_63278 * tmp3_63291;
                            float defunc_1_f_res_63293 = x_j_63284 * tmp4_63292;
                            float defunc_1_f_res_63294 = x_j_63284 *
                                  defunc_1_f_res_63293;
                            float defunc_1_op_res_63270 = tmp4_63292 +
                                  redout_63840;
                            float defunc_1_op_res_63273 = defunc_1_f_res_63293 +
                                  redout_63841;
                            float defunc_1_op_res_63276 = defunc_1_f_res_63294 +
                                  redout_63842;
                            
                            ((float *) mem_64885)[i_63845] =
                                defunc_1_f_res_63293;
                            ((float *) mem_64888)[i_63845] = tmp4_63292;
                            
                            float redout_tmp_65471 = defunc_1_op_res_63270;
                            float redout_tmp_65472 = defunc_1_op_res_63273;
                            float redout_tmp_65473 = defunc_1_op_res_63276;
                            
                            redout_63840 = redout_tmp_65471;
                            redout_63841 = redout_tmp_65472;
                            redout_63842 = redout_tmp_65473;
                        }
                        defunc_2_reduce_res_63263 = redout_63840;
                        defunc_2_reduce_res_63264 = redout_63841;
                        defunc_2_reduce_res_63265 = redout_63842;
                        
                        float x_63300 = defunc_2_reduce_res_63263 *
                              defunc_2_reduce_res_63265;
                        float y_63301 = defunc_2_reduce_res_63264 *
                              defunc_2_reduce_res_63264;
                        float y_63302 = x_63300 - y_63301;
                        float det1_63303 = 1.0F / y_63302;
                        float a11_63304 = defunc_2_reduce_res_63265 *
                              det1_63303;
                        float negate_arg_63305 = defunc_2_reduce_res_63264 *
                              det1_63303;
                        float b11_63306 = 0.0F - negate_arg_63305;
                        float c11_63307 = defunc_2_reduce_res_63263 *
                              det1_63303;
                        float defunc_2_reduce_res_63308;
                        float defunc_2_reduce_res_63309;
                        float redout_63848;
                        float redout_63849;
                        
                        redout_63848 = 0.0F;
                        redout_63849 = 0.0F;
                        for (int64_t i_63850 = 0; i_63850 < q_62258;
                             i_63850++) {
                            float x_63317 = ((float *) mem_64888)[i_63850];
                            float x_63318 = ((float *) mem_64885)[i_63850];
                            bool cond_63319 = sle64(last_res_63120, i_63850);
                            float defunc_0_f_res_63320;
                            
                            if (cond_63319) {
                                defunc_0_f_res_63320 = 0.0F;
                            } else {
                                int64_t i_63321 = add64(max_res_63222, i_63850);
                                float x_63322 = ((float *) mem_64788)[i_63321];
                                
                                defunc_0_f_res_63320 = x_63322;
                            }
                            
                            float x_63323 = a11_63304 * x_63317;
                            float y_63324 = b11_63306 * x_63318;
                            float x_63325 = x_63323 + y_63324;
                            float defunc_9_fit_fun_res_63326 =
                                  defunc_0_f_res_63320 * x_63325;
                            float x_63327 = b11_63306 * x_63317;
                            float y_63328 = c11_63307 * x_63318;
                            float x_63329 = x_63327 + y_63328;
                            float defunc_9_slope_fun_res_63330 =
                                  defunc_0_f_res_63320 * x_63329;
                            float defunc_1_op_res_63312 =
                                  defunc_9_fit_fun_res_63326 + redout_63848;
                            float defunc_1_op_res_63315 =
                                  defunc_9_slope_fun_res_63330 + redout_63849;
                            float redout_tmp_65476 = defunc_1_op_res_63312;
                            float redout_tmp_65477 = defunc_1_op_res_63315;
                            
                            redout_63848 = redout_tmp_65476;
                            redout_63849 = redout_tmp_65477;
                        }
                        defunc_2_reduce_res_63308 = redout_63848;
                        defunc_2_reduce_res_63309 = redout_63849;
                        ((float *) mem_64746.mem)[i_63862 * n_m_62264 +
                                                  i_63855] =
                            defunc_2_reduce_res_63308;
                        ((float *) mem_64750.mem)[i_63862 * n_m_62264 +
                                                  i_63855] =
                            defunc_2_reduce_res_63309;
                    }
                }
                if (memblock_set(ctx, &ext_mem_65197, &mem_64746,
                                 "mem_64746") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_65189, &mem_64750,
                                 "mem_64750") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64750, "mem_64750") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64746, "mem_64746") != 0)
                    return 1;
            } else {
                struct memblock mem_64954;
                
                mem_64954.references = NULL;
                if (memblock_alloc(ctx, &mem_64954, bytes_64951, "mem_64954")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_64958;
                
                mem_64958.references = NULL;
                if (memblock_alloc(ctx, &mem_64958, bytes_64951, "mem_64958")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_64981_cached_sizze_65545 < (size_t) bytes_64979) {
                    mem_64981 = realloc(mem_64981, bytes_64979);
                    mem_64981_cached_sizze_65545 = bytes_64979;
                }
                if (mem_64996_cached_sizze_65546 < (size_t) bytes_64994) {
                    mem_64996 = realloc(mem_64996, bytes_64994);
                    mem_64996_cached_sizze_65546 = bytes_64994;
                }
                if (mem_64999_cached_sizze_65547 < (size_t) bytes_64979) {
                    mem_64999 = realloc(mem_64999, bytes_64979);
                    mem_64999_cached_sizze_65547 = bytes_64979;
                }
                if (mem_65026_cached_sizze_65548 < (size_t) bytes_64994) {
                    mem_65026 = realloc(mem_65026, bytes_64994);
                    mem_65026_cached_sizze_65548 = bytes_64994;
                }
                if (mem_65029_cached_sizze_65549 < (size_t) bytes_64979) {
                    mem_65029 = realloc(mem_65029, bytes_64979);
                    mem_65029_cached_sizze_65549 = bytes_64979;
                }
                if (mem_65056_cached_sizze_65550 < (size_t) bytes_65054) {
                    mem_65056 = realloc(mem_65056, bytes_65054);
                    mem_65056_cached_sizze_65550 = bytes_65054;
                }
                if (mem_65093_cached_sizze_65551 < (size_t) bytes_65054) {
                    mem_65093 = realloc(mem_65093, bytes_65054);
                    mem_65093_cached_sizze_65551 = bytes_65054;
                }
                if (mem_65096_cached_sizze_65552 < (size_t) bytes_65054) {
                    mem_65096 = realloc(mem_65096, bytes_65054);
                    mem_65096_cached_sizze_65552 = bytes_65054;
                }
                if (mem_65123_cached_sizze_65553 < (size_t) bytes_65054) {
                    mem_65123 = realloc(mem_65123, bytes_65054);
                    mem_65123_cached_sizze_65553 = bytes_65054;
                }
                if (mem_65126_cached_sizze_65554 < (size_t) bytes_65054) {
                    mem_65126 = realloc(mem_65126, bytes_65054);
                    mem_65126_cached_sizze_65554 = bytes_65054;
                }
                for (int64_t i_63923 = 0; i_63923 < m_62255; i_63923++) {
                    int64_t discard_63870;
                    int64_t scanacc_63866 = (int64_t) 0;
                    
                    for (int64_t i_63868 = 0; i_63868 < n_62256; i_63868++) {
                        float x_63341 = ((float *) Y_mem_64063.mem)[i_63923 *
                                                                    n_62256 +
                                                                    i_63868];
                        bool isnan_res_63342;
                        
                        isnan_res_63342 = futrts_isnan32(x_63341);
                        
                        bool defunc_0_p_res_63343 = !isnan_res_63342;
                        int64_t defunc_0_f_res_63344 =
                                btoi_bool_i64(defunc_0_p_res_63343);
                        int64_t defunc_1_op_res_63340 =
                                add64(defunc_0_f_res_63344, scanacc_63866);
                        
                        ((int64_t *) mem_64981)[i_63868] =
                            defunc_1_op_res_63340;
                        
                        int64_t scanacc_tmp_65480 = defunc_1_op_res_63340;
                        
                        scanacc_63866 = scanacc_tmp_65480;
                    }
                    discard_63870 = scanacc_63866;
                    
                    int64_t last_res_63345 = ((int64_t *) mem_64981)[i_62270];
                    
                    for (int64_t i_65482 = 0; i_65482 < n_62256; i_65482++) {
                        ((float *) mem_64996)[i_65482] = 0.0F;
                    }
                    for (int64_t i_65483 = 0; i_65483 < n_62256; i_65483++) {
                        ((int64_t *) mem_64999)[i_65483] = (int64_t) -1;
                    }
                    for (int64_t write_iter_63871 = 0; write_iter_63871 <
                         n_62256; write_iter_63871++) {
                        float write_iv_63874 =
                              ((float *) Y_mem_64063.mem)[i_63923 * n_62256 +
                                                          write_iter_63871];
                        int64_t write_iv_63875 =
                                ((int64_t *) mem_64981)[write_iter_63871];
                        bool isnan_res_63353;
                        
                        isnan_res_63353 = futrts_isnan32(write_iv_63874);
                        
                        bool defunc_0_p_res_63354 = !isnan_res_63353;
                        int64_t defunc_1_f_res_63355;
                        
                        if (defunc_0_p_res_63354) {
                            int64_t defunc_1_f_res_t_res_63356 =
                                    sub64(write_iv_63875, (int64_t) 1);
                            
                            defunc_1_f_res_63355 = defunc_1_f_res_t_res_63356;
                        } else {
                            defunc_1_f_res_63355 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_63355) &&
                            slt64(defunc_1_f_res_63355, n_62256)) {
                            ((int64_t *) mem_64999)[defunc_1_f_res_63355] =
                                write_iter_63871;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_63355) &&
                            slt64(defunc_1_f_res_63355, n_62256)) {
                            memmove(mem_64996 + defunc_1_f_res_63355 *
                                    (int64_t) 4, Y_mem_64063.mem + (i_63923 *
                                                                    n_62256 +
                                                                    write_iter_63871) *
                                    (int64_t) 4, (int64_t) 4);
                        }
                    }
                    
                    int64_t min_arg_63360 = sub64(last_res_63345, (int64_t) 1);
                    int64_t min_arg_63361 = sub64(last_res_63345,
                                                  min_res_62276);
                    int64_t min_res_63362 = smin64(q_62258, last_res_63345);
                    float i64_res_63363 = sitofp_i64_f32(last_res_63345);
                    float x_63364 = i64_res_62282 - i64_res_63363;
                    float max_arg_63365 = x_63364 / 2.0F;
                    float max_res_63366 = fmax32(0.0F, max_arg_63365);
                    
                    for (int64_t i_63883 = 0; i_63883 < n_62256; i_63883++) {
                        int64_t x_63369 = ((int64_t *) mem_64999)[i_63883];
                        int64_t defunc_0_f_res_63370 = add64((int64_t) 1,
                                                             x_63369);
                        float defunc_0_f_res_63371 = sitofp_i64_f32(x_63369);
                        
                        ((float *) mem_65026)[i_63883] = defunc_0_f_res_63371;
                        ((int64_t *) mem_65029)[i_63883] = defunc_0_f_res_63370;
                    }
                    for (int64_t i_63888 = 0; i_63888 < q_62258; i_63888++) {
                        bool cond_63376 = sle64(last_res_63345, i_63888);
                        float defunc_0_f_res_63377;
                        
                        if (cond_63376) {
                            defunc_0_f_res_63377 = 0.0F;
                        } else {
                            defunc_0_f_res_63377 = 1.0F;
                        }
                        ((float *) mem_65056)[i_63888] = defunc_0_f_res_63377;
                    }
                    for (int64_t i_63916 = 0; i_63916 < n_m_62264; i_63916++) {
                        int64_t min_arg_63381 = mul64(jump_62260, i_63916);
                        int64_t min_res_63382 = smin64(i_62270, min_arg_63381);
                        int64_t defunc_0_g_res_63383 = add64((int64_t) 1,
                                                             min_res_63382);
                        bool init_idx_63384;
                        int64_t init_idx_63385;
                        int64_t init_idx_63386;
                        bool loop_while_63387;
                        int64_t low_63388;
                        int64_t high_63389;
                        
                        loop_while_63387 = x_62271;
                        low_63388 = (int64_t) 0;
                        high_63389 = i_62270;
                        while (loop_while_63387) {
                            int64_t x_63390 = add64(low_63388, high_63389);
                            int64_t mid_63391 = sdiv64(x_63390, (int64_t) 2);
                            bool x_63392 = sle64((int64_t) 0, mid_63391);
                            bool y_63393 = slt64(mid_63391, n_62256);
                            bool bounds_check_63394 = x_63392 && y_63393;
                            bool index_certs_63395;
                            
                            if (!bounds_check_63394) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_63391,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62256, "].",
                                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                                if (memblock_unref(ctx, &mem_64958,
                                                   "mem_64958") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64954,
                                                   "mem_64954") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65189,
                                                   "ext_mem_65189") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65197,
                                                   "ext_mem_65197") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65205,
                                                   "ext_mem_65205") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65213,
                                                   "ext_mem_65213") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65221,
                                                   "ext_mem_65221") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65229,
                                                   "ext_mem_65229") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65353,
                                                   "mem_out_65353") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_63396 =
                                    ((int64_t *) mem_65029)[mid_63391];
                            bool cond_63397 = slt64(mid_id_63396, (int64_t) 0);
                            int64_t mid_idx_63398;
                            
                            if (cond_63397) {
                                mid_idx_63398 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_63398 = mid_id_63396;
                            }
                            
                            bool cond_63399 = sle64(defunc_0_g_res_63383,
                                                    mid_idx_63398);
                            int64_t loopres_63400;
                            int64_t loopres_63401;
                            
                            if (cond_63399) {
                                int64_t loopres_t_res_63402 = sub64(mid_63391,
                                                                    (int64_t) 1);
                                
                                loopres_63400 = low_63388;
                                loopres_63401 = loopres_t_res_63402;
                            } else {
                                int64_t loopres_f_res_63403 = add64((int64_t) 1,
                                                                    mid_63391);
                                
                                loopres_63400 = loopres_f_res_63403;
                                loopres_63401 = high_63389;
                            }
                            
                            bool loop_cond_63404 = sle64(loopres_63400,
                                                         loopres_63401);
                            bool loop_while_tmp_65491 = loop_cond_63404;
                            int64_t low_tmp_65492 = loopres_63400;
                            int64_t high_tmp_65493 = loopres_63401;
                            
                            loop_while_63387 = loop_while_tmp_65491;
                            low_63388 = low_tmp_65492;
                            high_63389 = high_tmp_65493;
                        }
                        init_idx_63384 = loop_while_63387;
                        init_idx_63385 = low_63388;
                        init_idx_63386 = high_63389;
                        
                        bool idx_63405;
                        int64_t idx_63406;
                        int64_t idx_63407;
                        int64_t idx_63408;
                        bool loop_while_63409;
                        int64_t l_idx_63410;
                        int64_t r_idx_63411;
                        int64_t span_63412;
                        
                        loop_while_63409 = loop_cond_62281;
                        l_idx_63410 = init_idx_63385;
                        r_idx_63411 = init_idx_63385;
                        span_63412 = (int64_t) 1;
                        while (loop_while_63409) {
                            int64_t max_arg_63413 = sub64(l_idx_63410,
                                                          (int64_t) 1);
                            int64_t max_res_63414 = smax64((int64_t) 0,
                                                           max_arg_63413);
                            int64_t min_arg_63415 = add64((int64_t) 1,
                                                          r_idx_63411);
                            int64_t min_res_63416 = smin64(min_arg_63360,
                                                           min_arg_63415);
                            bool x_63417 = sle64((int64_t) 0, max_res_63414);
                            bool y_63418 = slt64(max_res_63414, n_62256);
                            bool bounds_check_63419 = x_63417 && y_63418;
                            bool index_certs_63420;
                            
                            if (!bounds_check_63419) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_63414,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62256, "].",
                                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                                if (memblock_unref(ctx, &mem_64958,
                                                   "mem_64958") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64954,
                                                   "mem_64954") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65189,
                                                   "ext_mem_65189") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65197,
                                                   "ext_mem_65197") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65205,
                                                   "ext_mem_65205") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65213,
                                                   "ext_mem_65213") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65221,
                                                   "ext_mem_65221") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65229,
                                                   "ext_mem_65229") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65353,
                                                   "mem_out_65353") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_63421 =
                                    ((int64_t *) mem_65029)[max_res_63414];
                            int64_t abs_arg_63422 = sub64(x_63421,
                                                          defunc_0_g_res_63383);
                            int64_t abs_res_63423 = abs64(abs_arg_63422);
                            bool x_63424 = sle64((int64_t) 0, min_res_63416);
                            bool y_63425 = slt64(min_res_63416, n_62256);
                            bool bounds_check_63426 = x_63424 && y_63425;
                            bool index_certs_63427;
                            
                            if (!bounds_check_63426) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_63416,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62256, "].",
                                              "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                                if (memblock_unref(ctx, &mem_64958,
                                                   "mem_64958") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64954,
                                                   "mem_64954") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65189,
                                                   "ext_mem_65189") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65197,
                                                   "ext_mem_65197") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65205,
                                                   "ext_mem_65205") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65213,
                                                   "ext_mem_65213") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65221,
                                                   "ext_mem_65221") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65229,
                                                   "ext_mem_65229") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65353,
                                                   "mem_out_65353") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_63428 =
                                    ((int64_t *) mem_65029)[min_res_63416];
                            int64_t abs_arg_63429 = sub64(x_63428,
                                                          defunc_0_g_res_63383);
                            int64_t abs_res_63430 = abs64(abs_arg_63429);
                            bool cond_63431 = max_res_63414 == l_idx_63410;
                            int64_t loopres_63432;
                            int64_t loopres_63433;
                            int64_t loopres_63434;
                            
                            if (cond_63431) {
                                loopres_63432 = l_idx_63410;
                                loopres_63433 = r_idx_63411;
                                loopres_63434 = min_res_62276;
                            } else {
                                bool cond_63435 = slt64(abs_res_63423,
                                                        abs_res_63430);
                                bool cond_f_res_63436 = min_res_63416 ==
                                     r_idx_63411;
                                bool x_63437 = !cond_63435;
                                bool y_63438 = cond_f_res_63436 && x_63437;
                                bool cond_63439 = cond_63435 || y_63438;
                                int64_t loopres_f_res_63440;
                                
                                if (cond_63439) {
                                    loopres_f_res_63440 = max_res_63414;
                                } else {
                                    loopres_f_res_63440 = l_idx_63410;
                                }
                                
                                int64_t loopres_f_res_63441;
                                
                                if (cond_63439) {
                                    loopres_f_res_63441 = r_idx_63411;
                                } else {
                                    loopres_f_res_63441 = min_res_63416;
                                }
                                
                                int64_t loopres_f_res_63442;
                                
                                if (cond_63439) {
                                    int64_t loopres_f_res_t_res_63443 =
                                            add64((int64_t) 1, span_63412);
                                    
                                    loopres_f_res_63442 =
                                        loopres_f_res_t_res_63443;
                                } else {
                                    int64_t loopres_f_res_f_res_63444 =
                                            add64((int64_t) 1, span_63412);
                                    
                                    loopres_f_res_63442 =
                                        loopres_f_res_f_res_63444;
                                }
                                loopres_63432 = loopres_f_res_63440;
                                loopres_63433 = loopres_f_res_63441;
                                loopres_63434 = loopres_f_res_63442;
                            }
                            
                            bool loop_cond_63445 = slt64(loopres_63434,
                                                         min_res_62276);
                            bool loop_while_tmp_65494 = loop_cond_63445;
                            int64_t l_idx_tmp_65495 = loopres_63432;
                            int64_t r_idx_tmp_65496 = loopres_63433;
                            int64_t span_tmp_65497 = loopres_63434;
                            
                            loop_while_63409 = loop_while_tmp_65494;
                            l_idx_63410 = l_idx_tmp_65495;
                            r_idx_63411 = r_idx_tmp_65496;
                            span_63412 = span_tmp_65497;
                        }
                        idx_63405 = loop_while_63409;
                        idx_63406 = l_idx_63410;
                        idx_63407 = r_idx_63411;
                        idx_63408 = span_63412;
                        
                        int64_t min_res_63446 = smin64(min_arg_63361,
                                                       idx_63406);
                        int64_t max_res_63447 = smax64((int64_t) 0,
                                                       min_res_63446);
                        int64_t x_63448 = add64(min_res_63362, max_res_63447);
                        int64_t r_63449 = sub64(x_63448, (int64_t) 1);
                        bool x_63450 = sle64((int64_t) 0, r_63449);
                        bool y_63451 = slt64(r_63449, n_62256);
                        bool bounds_check_63452 = x_63450 && y_63451;
                        bool index_certs_63453;
                        
                        if (!bounds_check_63452) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_63449,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64958, "mem_64958") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64954, "mem_64954") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65189,
                                               "ext_mem_65189") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65197,
                                               "ext_mem_65197") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65205,
                                               "ext_mem_65205") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65213,
                                               "ext_mem_65213") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_63454 = ((int64_t *) mem_64999)[r_63449];
                        int64_t abs_arg_63455 = sub64(x_63454, min_res_63382);
                        int64_t abs_res_63456 = abs64(abs_arg_63455);
                        bool x_63457 = sle64((int64_t) 0, max_res_63447);
                        bool y_63458 = slt64(max_res_63447, n_62256);
                        bool bounds_check_63459 = x_63457 && y_63458;
                        bool index_certs_63460;
                        
                        if (!bounds_check_63459) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_63447,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62256, "].",
                                          "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  loess.fut:456:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:455:5-457:26\n   #9  loess.fut:439:1-479:26\n");
                            if (memblock_unref(ctx, &mem_64958, "mem_64958") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64954, "mem_64954") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65189,
                                               "ext_mem_65189") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65197,
                                               "ext_mem_65197") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65205,
                                               "ext_mem_65205") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65213,
                                               "ext_mem_65213") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65221,
                                               "ext_mem_65221") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65229,
                                               "ext_mem_65229") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65353,
                                               "mem_out_65353") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_63461 =
                                ((int64_t *) mem_64999)[max_res_63447];
                        int64_t abs_arg_63462 = sub64(x_63461, min_res_63382);
                        int64_t abs_res_63463 = abs64(abs_arg_63462);
                        int64_t max_res_63464 = smax64(abs_res_63456,
                                                       abs_res_63463);
                        float defunc_0_f_res_63465 =
                              sitofp_i64_f32(max_res_63464);
                        float defunc_1_f_res_63466 = max_res_63366 +
                              defunc_0_f_res_63465;
                        float defunc_0_f_res_63467 =
                              sitofp_i64_f32(min_res_63382);
                        
                        for (int64_t i_63894 = 0; i_63894 < q_62258;
                             i_63894++) {
                            float x_63471 = ((float *) mem_65056)[i_63894];
                            bool cond_63472 = sle64(last_res_63345, i_63894);
                            float defunc_0_f_res_63473;
                            
                            if (cond_63472) {
                                defunc_0_f_res_63473 = 0.0F;
                            } else {
                                int64_t i_63474 = add64(max_res_63447, i_63894);
                                float x_63475 = ((float *) mem_65026)[i_63474];
                                float defunc_0_f_res_f_res_63476 = 1.0F +
                                      x_63475;
                                
                                defunc_0_f_res_63473 =
                                    defunc_0_f_res_f_res_63476;
                            }
                            
                            float x_j_63477 = defunc_0_f_res_63473 -
                                  defunc_0_f_res_63467;
                            float abs_res_63478 = (float) fabs(x_j_63477);
                            float tmp1_63479 = abs_res_63478 /
                                  defunc_1_f_res_63466;
                            float x_63480 = tmp1_63479 * tmp1_63479;
                            float y_63481 = tmp1_63479 * x_63480;
                            float tmp2_63482 = 1.0F - y_63481;
                            float x_63483 = tmp2_63482 * tmp2_63482;
                            float tmp3_63484 = tmp2_63482 * x_63483;
                            float tmp4_63485 = x_63471 * tmp3_63484;
                            
                            ((float *) mem_65093)[i_63894] = x_j_63477;
                            ((float *) mem_65096)[i_63894] = tmp4_63485;
                        }
                        
                        float defunc_2_reduce_res_63492;
                        float defunc_2_reduce_res_63493;
                        float defunc_2_reduce_res_63494;
                        float defunc_2_reduce_res_63495;
                        float defunc_2_reduce_res_63496;
                        float redout_63899;
                        float redout_63900;
                        float redout_63901;
                        float redout_63902;
                        float redout_63903;
                        
                        redout_63899 = 0.0F;
                        redout_63900 = 0.0F;
                        redout_63901 = 0.0F;
                        redout_63902 = 0.0F;
                        redout_63903 = 0.0F;
                        for (int64_t i_63906 = 0; i_63906 < q_62258;
                             i_63906++) {
                            float x_63514 = ((float *) mem_65093)[i_63906];
                            float x_63515 = ((float *) mem_65096)[i_63906];
                            float defunc_1_f_res_63516 = x_63514 * x_63515;
                            float defunc_1_f_res_63517 = x_63514 *
                                  defunc_1_f_res_63516;
                            float defunc_1_f_res_63518 = x_63514 *
                                  defunc_1_f_res_63517;
                            float defunc_1_f_res_63519 = x_63514 *
                                  defunc_1_f_res_63518;
                            float defunc_1_op_res_63501 = x_63515 +
                                  redout_63899;
                            float defunc_1_op_res_63504 = defunc_1_f_res_63516 +
                                  redout_63900;
                            float defunc_1_op_res_63507 = defunc_1_f_res_63517 +
                                  redout_63901;
                            float defunc_1_op_res_63510 = defunc_1_f_res_63518 +
                                  redout_63902;
                            float defunc_1_op_res_63513 = defunc_1_f_res_63519 +
                                  redout_63903;
                            
                            ((float *) mem_65123)[i_63906] =
                                defunc_1_f_res_63517;
                            ((float *) mem_65126)[i_63906] =
                                defunc_1_f_res_63516;
                            
                            float redout_tmp_65500 = defunc_1_op_res_63501;
                            float redout_tmp_65501 = defunc_1_op_res_63504;
                            float redout_tmp_65502 = defunc_1_op_res_63507;
                            float redout_tmp_65503 = defunc_1_op_res_63510;
                            float redout_tmp_65504 = defunc_1_op_res_63513;
                            
                            redout_63899 = redout_tmp_65500;
                            redout_63900 = redout_tmp_65501;
                            redout_63901 = redout_tmp_65502;
                            redout_63902 = redout_tmp_65503;
                            redout_63903 = redout_tmp_65504;
                        }
                        defunc_2_reduce_res_63492 = redout_63899;
                        defunc_2_reduce_res_63493 = redout_63900;
                        defunc_2_reduce_res_63494 = redout_63901;
                        defunc_2_reduce_res_63495 = redout_63902;
                        defunc_2_reduce_res_63496 = redout_63903;
                        
                        float x_63527 = defunc_2_reduce_res_63494 *
                              defunc_2_reduce_res_63496;
                        float y_63528 = defunc_2_reduce_res_63495 *
                              defunc_2_reduce_res_63495;
                        float a12_63529 = x_63527 - y_63528;
                        float x_63530 = defunc_2_reduce_res_63494 *
                              defunc_2_reduce_res_63495;
                        float y_63531 = defunc_2_reduce_res_63493 *
                              defunc_2_reduce_res_63496;
                        float b12_63532 = x_63530 - y_63531;
                        float x_63533 = defunc_2_reduce_res_63493 *
                              defunc_2_reduce_res_63495;
                        float y_63534 = defunc_2_reduce_res_63494 *
                              defunc_2_reduce_res_63494;
                        float c12_63535 = x_63533 - y_63534;
                        float x_63536 = defunc_2_reduce_res_63492 *
                              defunc_2_reduce_res_63496;
                        float b2_63537 = x_63536 - y_63534;
                        float x_63538 = defunc_2_reduce_res_63493 *
                              defunc_2_reduce_res_63494;
                        float y_63539 = defunc_2_reduce_res_63492 *
                              defunc_2_reduce_res_63495;
                        float c2_63540 = x_63538 - y_63539;
                        float x_63541 = defunc_2_reduce_res_63492 * a12_63529;
                        float y_63542 = defunc_2_reduce_res_63493 * b12_63532;
                        float x_63543 = x_63541 + y_63542;
                        float y_63544 = defunc_2_reduce_res_63494 * c12_63535;
                        float y_63545 = x_63543 + y_63544;
                        float det_63546 = 1.0F / y_63545;
                        float a12_63547 = a12_63529 * det_63546;
                        float b12_63548 = b12_63532 * det_63546;
                        float c12_63549 = c12_63535 * det_63546;
                        float b2_63550 = b2_63537 * det_63546;
                        float c2_63551 = c2_63540 * det_63546;
                        float defunc_2_reduce_res_63552;
                        float defunc_2_reduce_res_63553;
                        float redout_63909;
                        float redout_63910;
                        
                        redout_63909 = 0.0F;
                        redout_63910 = 0.0F;
                        for (int64_t i_63911 = 0; i_63911 < q_62258;
                             i_63911++) {
                            float x_63561 = ((float *) mem_65096)[i_63911];
                            float x_63562 = ((float *) mem_65126)[i_63911];
                            float x_63563 = ((float *) mem_65123)[i_63911];
                            bool cond_63564 = sle64(last_res_63345, i_63911);
                            float defunc_0_f_res_63565;
                            
                            if (cond_63564) {
                                defunc_0_f_res_63565 = 0.0F;
                            } else {
                                int64_t i_63566 = add64(max_res_63447, i_63911);
                                float x_63567 = ((float *) mem_64996)[i_63566];
                                
                                defunc_0_f_res_63565 = x_63567;
                            }
                            
                            float x_63568 = a12_63547 * x_63561;
                            float y_63569 = b12_63548 * x_63562;
                            float x_63570 = x_63568 + y_63569;
                            float y_63571 = c12_63549 * x_63563;
                            float x_63572 = x_63570 + y_63571;
                            float defunc_9_fit_fun_res_63573 =
                                  defunc_0_f_res_63565 * x_63572;
                            float x_63574 = b12_63548 * x_63561;
                            float y_63575 = b2_63550 * x_63562;
                            float x_63576 = x_63574 + y_63575;
                            float y_63577 = c2_63551 * x_63563;
                            float x_63578 = x_63576 + y_63577;
                            float defunc_9_slope_fun_res_63579 =
                                  defunc_0_f_res_63565 * x_63578;
                            float defunc_1_op_res_63556 =
                                  defunc_9_fit_fun_res_63573 + redout_63909;
                            float defunc_1_op_res_63559 =
                                  defunc_9_slope_fun_res_63579 + redout_63910;
                            float redout_tmp_65507 = defunc_1_op_res_63556;
                            float redout_tmp_65508 = defunc_1_op_res_63559;
                            
                            redout_63909 = redout_tmp_65507;
                            redout_63910 = redout_tmp_65508;
                        }
                        defunc_2_reduce_res_63552 = redout_63909;
                        defunc_2_reduce_res_63553 = redout_63910;
                        ((float *) mem_64954.mem)[i_63923 * n_m_62264 +
                                                  i_63916] =
                            defunc_2_reduce_res_63552;
                        ((float *) mem_64958.mem)[i_63923 * n_m_62264 +
                                                  i_63916] =
                            defunc_2_reduce_res_63553;
                    }
                }
                if (memblock_set(ctx, &ext_mem_65197, &mem_64954,
                                 "mem_64954") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_65189, &mem_64958,
                                 "mem_64958") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64958, "mem_64958") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64954, "mem_64954") != 0)
                    return 1;
            }
            if (memblock_set(ctx, &ext_mem_65213, &ext_mem_65197,
                             "ext_mem_65197") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_65205, &ext_mem_65189,
                             "ext_mem_65189") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_65189, "ext_mem_65189") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_65197, "ext_mem_65197") != 0)
                return 1;
        }
        if (memblock_set(ctx, &ext_mem_65229, &ext_mem_65213,
                         "ext_mem_65213") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_65221, &ext_mem_65205,
                         "ext_mem_65205") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_65205, "ext_mem_65205") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_65213, "ext_mem_65213") != 0)
            return 1;
    }
    
    bool cond_63582 = slt64((int64_t) 1, jump_62260);
    int64_t binop_x_65238 = m_62255 * n_62256;
    int64_t binop_y_65239 = (int64_t) 4 * binop_x_65238;
    int64_t bytes_65237 = smax64((int64_t) 0, binop_y_65239);
    int64_t ext_65285;
    
    if (cond_63582) {
        ext_65285 = n_62256;
    } else {
        ext_65285 = n_m_62264;
    }
    
    int64_t ext_65284;
    
    if (cond_63582) {
        ext_65284 = n_62256;
    } else {
        ext_65284 = n_m_62264;
    }
    
    struct memblock ext_mem_65281;
    
    ext_mem_65281.references = NULL;
    if (cond_63582) {
        bool zzero_63584 = jump_62260 == (int64_t) 0;
        bool nonzzero_63585 = !zzero_63584;
        bool nonzzero_cert_63586;
        
        if (!nonzzero_63585) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  loess.fut:423:27-34\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  loess.fut:476:13-59\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  loess.fut:475:5-477:29\n   #8  loess.fut:439:1-479:26\n");
            if (memblock_unref(ctx, &ext_mem_65281, "ext_mem_65281") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_65221, "ext_mem_65221") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_65229, "ext_mem_65229") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_65353, "mem_out_65353") != 0)
                return 1;
            return 1;
        }
        
        int64_t y_63587 = sub64(n_m_62264, (int64_t) 1);
        struct memblock mem_65240;
        
        mem_65240.references = NULL;
        if (memblock_alloc(ctx, &mem_65240, bytes_65237, "mem_65240")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_63932 = 0; i_63932 < m_62255; i_63932++) {
            for (int64_t i_63928 = 0; i_63928 < n_62256; i_63928++) {
                int64_t m_v_63593 = sdiv64(i_63928, jump_62260);
                bool cond_63594 = m_v_63593 == y_63587;
                int64_t j_63595;
                
                if (cond_63594) {
                    int64_t j_t_res_63596 = sub64(m_v_63593, (int64_t) 1);
                    
                    j_63595 = j_t_res_63596;
                } else {
                    j_63595 = m_v_63593;
                }
                
                int64_t min_arg_63597 = mul64(jump_62260, j_63595);
                int64_t min_res_63598 = smin64(i_62270, min_arg_63597);
                int64_t defunc_0_m_fun_arg_63599 = add64((int64_t) 1, j_63595);
                int64_t min_arg_63600 = mul64(jump_62260,
                                              defunc_0_m_fun_arg_63599);
                int64_t min_res_63601 = smin64(i_62270, min_arg_63600);
                int64_t i64_arg_63602 = sub64(min_res_63601, min_res_63598);
                float i64_res_63603 = sitofp_i64_f32(i64_arg_63602);
                int64_t i64_arg_63604 = sub64(i_63928, min_res_63598);
                float i64_res_63605 = sitofp_i64_f32(i64_arg_63604);
                float u_63606 = i64_res_63605 / i64_res_63603;
                float u2_63607 = u_63606 * u_63606;
                float u3_63608 = u_63606 * u2_63607;
                float x_63609 = 2.0F * u3_63608;
                float y_63610 = 3.0F * u2_63607;
                float x_63611 = x_63609 - y_63610;
                float x_63612 = 1.0F + x_63611;
                bool x_63613 = sle64((int64_t) 0, j_63595);
                bool y_63614 = slt64(j_63595, n_m_62264);
                bool bounds_check_63615 = x_63613 && y_63614;
                bool index_certs_63616;
                
                if (!bounds_check_63615) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_63595,
                                  "] out of bounds for array of shape [",
                                  (long long) n_m_62264, "].",
                                  "-> #0  loess.fut:431:41-47\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  loess.fut:476:13-59\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  loess.fut:475:5-477:29\n   #8  loess.fut:439:1-479:26\n");
                    if (memblock_unref(ctx, &mem_65240, "mem_65240") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_65281, "ext_mem_65281") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_65221, "ext_mem_65221") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_65229, "ext_mem_65229") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_65353, "mem_out_65353") !=
                        0)
                        return 1;
                    return 1;
                }
                
                float y_63617 = ((float *) ext_mem_65229.mem)[i_63932 *
                                                              n_m_62264 +
                                                              j_63595];
                float x_63618 = x_63612 * y_63617;
                float x_63619 = y_63610 - x_63609;
                bool x_63620 = sle64((int64_t) 0, defunc_0_m_fun_arg_63599);
                bool y_63621 = slt64(defunc_0_m_fun_arg_63599, n_m_62264);
                bool bounds_check_63622 = x_63620 && y_63621;
                bool index_certs_63623;
                
                if (!bounds_check_63622) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [",
                                  (long long) defunc_0_m_fun_arg_63599,
                                  "] out of bounds for array of shape [",
                                  (long long) n_m_62264, "].",
                                  "-> #0  loess.fut:432:41-51\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  loess.fut:476:13-59\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  loess.fut:475:5-477:29\n   #8  loess.fut:439:1-479:26\n");
                    if (memblock_unref(ctx, &mem_65240, "mem_65240") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_65281, "ext_mem_65281") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_65221, "ext_mem_65221") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_65229, "ext_mem_65229") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_65353, "mem_out_65353") !=
                        0)
                        return 1;
                    return 1;
                }
                
                float y_63624 = ((float *) ext_mem_65229.mem)[i_63932 *
                                                              n_m_62264 +
                                                              defunc_0_m_fun_arg_63599];
                float y_63625 = x_63619 * y_63624;
                float x_63626 = x_63618 + y_63625;
                float y_63627 = 2.0F * u2_63607;
                float x_63628 = u3_63608 - y_63627;
                float x_63629 = u_63606 + x_63628;
                float y_63630 = ((float *) ext_mem_65221.mem)[i_63932 *
                                                              n_m_62264 +
                                                              j_63595];
                float x_63631 = x_63629 * y_63630;
                float y_63632 = i64_res_63603 * x_63631;
                float x_63633 = x_63626 + y_63632;
                float x_63634 = u3_63608 - u2_63607;
                float y_63635 = ((float *) ext_mem_65221.mem)[i_63932 *
                                                              n_m_62264 +
                                                              defunc_0_m_fun_arg_63599];
                float x_63636 = x_63634 * y_63635;
                float y_63637 = i64_res_63603 * x_63636;
                float defunc_0_f_res_63638 = x_63633 + y_63637;
                
                ((float *) mem_65240.mem)[i_63932 * n_62256 + i_63928] =
                    defunc_0_f_res_63638;
            }
        }
        if (memblock_set(ctx, &ext_mem_65281, &mem_65240, "mem_65240") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_65240, "mem_65240") != 0)
            return 1;
    } else {
        bool dim_match_63639 = n_62256 == n_m_62264;
        bool empty_or_match_cert_63640;
        
        if (!dim_match_63639) {
            ctx->error =
                msgprintf("Error: %s%lld%s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                          "Value of (core language) shape (",
                          (long long) m_62255, ", ", (long long) n_m_62264,
                          ") cannot match shape of type `[",
                          (long long) m_62255, "][", (long long) n_62256,
                          "]f32`.",
                          "-> #0  loess.fut:479:5-26\n   #1  loess.fut:439:1-479:26\n");
            if (memblock_unref(ctx, &ext_mem_65281, "ext_mem_65281") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_65221, "ext_mem_65221") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_65229, "ext_mem_65229") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_65353, "mem_out_65353") != 0)
                return 1;
            return 1;
        }
        if (memblock_set(ctx, &ext_mem_65281, &ext_mem_65229,
                         "ext_mem_65229") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &ext_mem_65221, "ext_mem_65221") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_65229, "ext_mem_65229") != 0)
        return 1;
    
    int64_t binop_x_65290 = m_62255 * n_62256;
    int64_t binop_y_65291 = (int64_t) 4 * binop_x_65290;
    int64_t bytes_65289 = smax64((int64_t) 0, binop_y_65291);
    struct memblock mem_65292;
    
    mem_65292.references = NULL;
    if (memblock_alloc(ctx, &mem_65292, bytes_65289, "mem_65292")) {
        err = 1;
        goto cleanup;
    }
    memmove(mem_65292.mem + (int64_t) 0, ext_mem_65281.mem + (int64_t) 0,
            m_62255 * n_62256 * (int64_t) 4);
    if (memblock_unref(ctx, &ext_mem_65281, "ext_mem_65281") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_65353, &mem_65292, "mem_65292") != 0)
        return 1;
    (*mem_out_p_65511).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_65511, &mem_out_65353, "mem_out_65353") !=
        0)
        return 1;
    if (memblock_unref(ctx, &mem_65292, "mem_65292") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_65281, "ext_mem_65281") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_65221, "ext_mem_65221") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_65229, "ext_mem_65229") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_out_65353, "mem_out_65353") != 0)
        return 1;
    
  cleanup:
    { }
    free(mem_64084);
    free(mem_64099);
    free(mem_64102);
    free(mem_64129);
    free(mem_64132);
    free(mem_64159);
    free(mem_64232);
    free(mem_64247);
    free(mem_64250);
    free(mem_64277);
    free(mem_64280);
    free(mem_64307);
    free(mem_64410);
    free(mem_64425);
    free(mem_64428);
    free(mem_64455);
    free(mem_64458);
    free(mem_64485);
    free(mem_64610);
    free(mem_64625);
    free(mem_64628);
    free(mem_64655);
    free(mem_64658);
    free(mem_64685);
    free(mem_64711);
    free(mem_64773);
    free(mem_64788);
    free(mem_64791);
    free(mem_64818);
    free(mem_64821);
    free(mem_64848);
    free(mem_64885);
    free(mem_64888);
    free(mem_64981);
    free(mem_64996);
    free(mem_64999);
    free(mem_65026);
    free(mem_65029);
    free(mem_65056);
    free(mem_65093);
    free(mem_65096);
    free(mem_65123);
    free(mem_65126);
    return err;
}
int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5)
{
    struct memblock Y_mem_64063;
    
    Y_mem_64063.references = NULL;
    
    int64_t m_62255;
    int64_t n_62256;
    int64_t q_62258;
    int64_t degree_62259;
    int64_t jump_62260;
    int64_t jump_threshold_62261;
    int64_t q_threshold_62262;
    struct memblock mem_out_65353;
    
    mem_out_65353.references = NULL;
    
    int ret = 0;
    
    lock_lock(&ctx->lock);
    Y_mem_64063 = in0->mem;
    m_62255 = in0->shape[0];
    n_62256 = in0->shape[1];
    q_62258 = in1;
    degree_62259 = in2;
    jump_62260 = in3;
    jump_threshold_62261 = in4;
    q_threshold_62262 = in5;
    if (!(m_62255 == in0->shape[0] && n_62256 == in0->shape[1])) {
        ret = 1;
        if (!ctx->error)
            ctx->error =
                msgprintf("Error: entry point arguments have invalid sizes.\n");
    }
    if (ret == 0) {
        ret = futrts_entry_main(ctx, &mem_out_65353, Y_mem_64063, m_62255,
                                n_62256, q_62258, degree_62259, jump_62260,
                                jump_threshold_62261, q_threshold_62262);
        if (ret == 0) {
            assert((*out0 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out0)->mem = mem_out_65353;
            (*out0)->shape[0] = m_62255;
            (*out0)->shape[1] = n_62256;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
