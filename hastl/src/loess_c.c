// Generated by Futhark 0.20.0
// git: 5cc4d4b (Tue Jul 6 11:53:53 2021 -0700)
#ifndef _GNU_SOURCE
#define _GNU_SOURCE
#endif
#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif
// Headers

#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation

struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int flag);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *ctx);
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value);
int futhark_get_num_sizes(void);
const char *futhark_get_size_name(int);
const char *futhark_get_size_class(int);

// Arrays

struct futhark_f32_2d;
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1);
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              char *data, int offset,
                                              int64_t dim0, int64_t dim1);
int futhark_free_f32_2d(struct futhark_context *ctx,
                        struct futhark_f32_2d *arr);
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data);
char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                struct futhark_f32_2d *arr);
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr);

// Opaque values


// Entry points

int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5);

// Miscellaneous

int futhark_context_sync(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_c
#ifdef __cplusplus
}
#endif
#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}


static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                            const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, msg...) check_err(err, 0, __func__, __LINE__, msg)
#define CHECK_ERRNO(err, msg...) check_err(err, 1, __func__, __LINE__, msg)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  size_t start = ftell(f);
  fseek(f, 0, SEEK_END);
  size_t src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc(src_size + 1);
  if (fread(s, 1, src_size, f) != src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

// End of util.h.

// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>

// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.

static inline uint8_t add8(uint8_t x, uint8_t y)
{
    return x + y;
}
static inline uint16_t add16(uint16_t x, uint16_t y)
{
    return x + y;
}
static inline uint32_t add32(uint32_t x, uint32_t y)
{
    return x + y;
}
static inline uint64_t add64(uint64_t x, uint64_t y)
{
    return x + y;
}
static inline uint8_t sub8(uint8_t x, uint8_t y)
{
    return x - y;
}
static inline uint16_t sub16(uint16_t x, uint16_t y)
{
    return x - y;
}
static inline uint32_t sub32(uint32_t x, uint32_t y)
{
    return x - y;
}
static inline uint64_t sub64(uint64_t x, uint64_t y)
{
    return x - y;
}
static inline uint8_t mul8(uint8_t x, uint8_t y)
{
    return x * y;
}
static inline uint16_t mul16(uint16_t x, uint16_t y)
{
    return x * y;
}
static inline uint32_t mul32(uint32_t x, uint32_t y)
{
    return x * y;
}
static inline uint64_t mul64(uint64_t x, uint64_t y)
{
    return x * y;
}
static inline uint8_t udiv8(uint8_t x, uint8_t y)
{
    return x / y;
}
static inline uint16_t udiv16(uint16_t x, uint16_t y)
{
    return x / y;
}
static inline uint32_t udiv32(uint32_t x, uint32_t y)
{
    return x / y;
}
static inline uint64_t udiv64(uint64_t x, uint64_t y)
{
    return x / y;
}
static inline uint8_t udiv_up8(uint8_t x, uint8_t y)
{
    return (x + y - 1) / y;
}
static inline uint16_t udiv_up16(uint16_t x, uint16_t y)
{
    return (x + y - 1) / y;
}
static inline uint32_t udiv_up32(uint32_t x, uint32_t y)
{
    return (x + y - 1) / y;
}
static inline uint64_t udiv_up64(uint64_t x, uint64_t y)
{
    return (x + y - 1) / y;
}
static inline uint8_t umod8(uint8_t x, uint8_t y)
{
    return x % y;
}
static inline uint16_t umod16(uint16_t x, uint16_t y)
{
    return x % y;
}
static inline uint32_t umod32(uint32_t x, uint32_t y)
{
    return x % y;
}
static inline uint64_t umod64(uint64_t x, uint64_t y)
{
    return x % y;
}
static inline uint8_t udiv_safe8(uint8_t x, uint8_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint16_t udiv_safe16(uint16_t x, uint16_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint32_t udiv_safe32(uint32_t x, uint32_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint64_t udiv_safe64(uint64_t x, uint64_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint8_t umod_safe8(uint8_t x, uint8_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline uint16_t umod_safe16(uint16_t x, uint16_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline uint32_t umod_safe32(uint32_t x, uint32_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline uint64_t umod_safe64(uint64_t x, uint64_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int8_t sdiv8(int8_t x, int8_t y)
{
    int8_t q = x / y;
    int8_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int16_t sdiv16(int16_t x, int16_t y)
{
    int16_t q = x / y;
    int16_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int32_t sdiv32(int32_t x, int32_t y)
{
    int32_t q = x / y;
    int32_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int64_t sdiv64(int64_t x, int64_t y)
{
    int64_t q = x / y;
    int64_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int8_t sdiv_up8(int8_t x, int8_t y)
{
    return sdiv8(x + y - 1, y);
}
static inline int16_t sdiv_up16(int16_t x, int16_t y)
{
    return sdiv16(x + y - 1, y);
}
static inline int32_t sdiv_up32(int32_t x, int32_t y)
{
    return sdiv32(x + y - 1, y);
}
static inline int64_t sdiv_up64(int64_t x, int64_t y)
{
    return sdiv64(x + y - 1, y);
}
static inline int8_t smod8(int8_t x, int8_t y)
{
    int8_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int16_t smod16(int16_t x, int16_t y)
{
    int16_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int32_t smod32(int32_t x, int32_t y)
{
    int32_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int64_t smod64(int64_t x, int64_t y)
{
    int64_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int8_t sdiv_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : sdiv8(x, y);
}
static inline int16_t sdiv_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : sdiv16(x, y);
}
static inline int32_t sdiv_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : sdiv32(x, y);
}
static inline int64_t sdiv_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : sdiv64(x, y);
}
static inline int8_t sdiv_up_safe8(int8_t x, int8_t y)
{
    return sdiv_safe8(x + y - 1, y);
}
static inline int16_t sdiv_up_safe16(int16_t x, int16_t y)
{
    return sdiv_safe16(x + y - 1, y);
}
static inline int32_t sdiv_up_safe32(int32_t x, int32_t y)
{
    return sdiv_safe32(x + y - 1, y);
}
static inline int64_t sdiv_up_safe64(int64_t x, int64_t y)
{
    return sdiv_safe64(x + y - 1, y);
}
static inline int8_t smod_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : smod8(x, y);
}
static inline int16_t smod_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : smod16(x, y);
}
static inline int32_t smod_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : smod32(x, y);
}
static inline int64_t smod_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : smod64(x, y);
}
static inline int8_t squot8(int8_t x, int8_t y)
{
    return x / y;
}
static inline int16_t squot16(int16_t x, int16_t y)
{
    return x / y;
}
static inline int32_t squot32(int32_t x, int32_t y)
{
    return x / y;
}
static inline int64_t squot64(int64_t x, int64_t y)
{
    return x / y;
}
static inline int8_t srem8(int8_t x, int8_t y)
{
    return x % y;
}
static inline int16_t srem16(int16_t x, int16_t y)
{
    return x % y;
}
static inline int32_t srem32(int32_t x, int32_t y)
{
    return x % y;
}
static inline int64_t srem64(int64_t x, int64_t y)
{
    return x % y;
}
static inline int8_t squot_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int16_t squot_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int32_t squot_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int64_t squot_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int8_t srem_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int16_t srem_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int32_t srem_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int64_t srem_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int8_t smin8(int8_t x, int8_t y)
{
    return x < y ? x : y;
}
static inline int16_t smin16(int16_t x, int16_t y)
{
    return x < y ? x : y;
}
static inline int32_t smin32(int32_t x, int32_t y)
{
    return x < y ? x : y;
}
static inline int64_t smin64(int64_t x, int64_t y)
{
    return x < y ? x : y;
}
static inline uint8_t umin8(uint8_t x, uint8_t y)
{
    return x < y ? x : y;
}
static inline uint16_t umin16(uint16_t x, uint16_t y)
{
    return x < y ? x : y;
}
static inline uint32_t umin32(uint32_t x, uint32_t y)
{
    return x < y ? x : y;
}
static inline uint64_t umin64(uint64_t x, uint64_t y)
{
    return x < y ? x : y;
}
static inline int8_t smax8(int8_t x, int8_t y)
{
    return x < y ? y : x;
}
static inline int16_t smax16(int16_t x, int16_t y)
{
    return x < y ? y : x;
}
static inline int32_t smax32(int32_t x, int32_t y)
{
    return x < y ? y : x;
}
static inline int64_t smax64(int64_t x, int64_t y)
{
    return x < y ? y : x;
}
static inline uint8_t umax8(uint8_t x, uint8_t y)
{
    return x < y ? y : x;
}
static inline uint16_t umax16(uint16_t x, uint16_t y)
{
    return x < y ? y : x;
}
static inline uint32_t umax32(uint32_t x, uint32_t y)
{
    return x < y ? y : x;
}
static inline uint64_t umax64(uint64_t x, uint64_t y)
{
    return x < y ? y : x;
}
static inline uint8_t shl8(uint8_t x, uint8_t y)
{
    return x << y;
}
static inline uint16_t shl16(uint16_t x, uint16_t y)
{
    return x << y;
}
static inline uint32_t shl32(uint32_t x, uint32_t y)
{
    return x << y;
}
static inline uint64_t shl64(uint64_t x, uint64_t y)
{
    return x << y;
}
static inline uint8_t lshr8(uint8_t x, uint8_t y)
{
    return x >> y;
}
static inline uint16_t lshr16(uint16_t x, uint16_t y)
{
    return x >> y;
}
static inline uint32_t lshr32(uint32_t x, uint32_t y)
{
    return x >> y;
}
static inline uint64_t lshr64(uint64_t x, uint64_t y)
{
    return x >> y;
}
static inline int8_t ashr8(int8_t x, int8_t y)
{
    return x >> y;
}
static inline int16_t ashr16(int16_t x, int16_t y)
{
    return x >> y;
}
static inline int32_t ashr32(int32_t x, int32_t y)
{
    return x >> y;
}
static inline int64_t ashr64(int64_t x, int64_t y)
{
    return x >> y;
}
static inline uint8_t and8(uint8_t x, uint8_t y)
{
    return x & y;
}
static inline uint16_t and16(uint16_t x, uint16_t y)
{
    return x & y;
}
static inline uint32_t and32(uint32_t x, uint32_t y)
{
    return x & y;
}
static inline uint64_t and64(uint64_t x, uint64_t y)
{
    return x & y;
}
static inline uint8_t or8(uint8_t x, uint8_t y)
{
    return x | y;
}
static inline uint16_t or16(uint16_t x, uint16_t y)
{
    return x | y;
}
static inline uint32_t or32(uint32_t x, uint32_t y)
{
    return x | y;
}
static inline uint64_t or64(uint64_t x, uint64_t y)
{
    return x | y;
}
static inline uint8_t xor8(uint8_t x, uint8_t y)
{
    return x ^ y;
}
static inline uint16_t xor16(uint16_t x, uint16_t y)
{
    return x ^ y;
}
static inline uint32_t xor32(uint32_t x, uint32_t y)
{
    return x ^ y;
}
static inline uint64_t xor64(uint64_t x, uint64_t y)
{
    return x ^ y;
}
static inline bool ult8(uint8_t x, uint8_t y)
{
    return x < y;
}
static inline bool ult16(uint16_t x, uint16_t y)
{
    return x < y;
}
static inline bool ult32(uint32_t x, uint32_t y)
{
    return x < y;
}
static inline bool ult64(uint64_t x, uint64_t y)
{
    return x < y;
}
static inline bool ule8(uint8_t x, uint8_t y)
{
    return x <= y;
}
static inline bool ule16(uint16_t x, uint16_t y)
{
    return x <= y;
}
static inline bool ule32(uint32_t x, uint32_t y)
{
    return x <= y;
}
static inline bool ule64(uint64_t x, uint64_t y)
{
    return x <= y;
}
static inline bool slt8(int8_t x, int8_t y)
{
    return x < y;
}
static inline bool slt16(int16_t x, int16_t y)
{
    return x < y;
}
static inline bool slt32(int32_t x, int32_t y)
{
    return x < y;
}
static inline bool slt64(int64_t x, int64_t y)
{
    return x < y;
}
static inline bool sle8(int8_t x, int8_t y)
{
    return x <= y;
}
static inline bool sle16(int16_t x, int16_t y)
{
    return x <= y;
}
static inline bool sle32(int32_t x, int32_t y)
{
    return x <= y;
}
static inline bool sle64(int64_t x, int64_t y)
{
    return x <= y;
}
static inline int8_t pow8(int8_t x, int8_t y)
{
    int8_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline int16_t pow16(int16_t x, int16_t y)
{
    int16_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline int32_t pow32(int32_t x, int32_t y)
{
    int32_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline int64_t pow64(int64_t x, int64_t y)
{
    int64_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline bool itob_i8_bool(int8_t x)
{
    return x;
}
static inline bool itob_i16_bool(int16_t x)
{
    return x;
}
static inline bool itob_i32_bool(int32_t x)
{
    return x;
}
static inline bool itob_i64_bool(int64_t x)
{
    return x;
}
static inline int8_t btoi_bool_i8(bool x)
{
    return x;
}
static inline int16_t btoi_bool_i16(bool x)
{
    return x;
}
static inline int32_t btoi_bool_i32(bool x)
{
    return x;
}
static inline int64_t btoi_bool_i64(bool x)
{
    return x;
}
#define sext_i8_i8(x) ((int8_t) (int8_t) x)
#define sext_i8_i16(x) ((int16_t) (int8_t) x)
#define sext_i8_i32(x) ((int32_t) (int8_t) x)
#define sext_i8_i64(x) ((int64_t) (int8_t) x)
#define sext_i16_i8(x) ((int8_t) (int16_t) x)
#define sext_i16_i16(x) ((int16_t) (int16_t) x)
#define sext_i16_i32(x) ((int32_t) (int16_t) x)
#define sext_i16_i64(x) ((int64_t) (int16_t) x)
#define sext_i32_i8(x) ((int8_t) (int32_t) x)
#define sext_i32_i16(x) ((int16_t) (int32_t) x)
#define sext_i32_i32(x) ((int32_t) (int32_t) x)
#define sext_i32_i64(x) ((int64_t) (int32_t) x)
#define sext_i64_i8(x) ((int8_t) (int64_t) x)
#define sext_i64_i16(x) ((int16_t) (int64_t) x)
#define sext_i64_i32(x) ((int32_t) (int64_t) x)
#define sext_i64_i64(x) ((int64_t) (int64_t) x)
#define zext_i8_i8(x) ((int8_t) (uint8_t) x)
#define zext_i8_i16(x) ((int16_t) (uint8_t) x)
#define zext_i8_i32(x) ((int32_t) (uint8_t) x)
#define zext_i8_i64(x) ((int64_t) (uint8_t) x)
#define zext_i16_i8(x) ((int8_t) (uint16_t) x)
#define zext_i16_i16(x) ((int16_t) (uint16_t) x)
#define zext_i16_i32(x) ((int32_t) (uint16_t) x)
#define zext_i16_i64(x) ((int64_t) (uint16_t) x)
#define zext_i32_i8(x) ((int8_t) (uint32_t) x)
#define zext_i32_i16(x) ((int16_t) (uint32_t) x)
#define zext_i32_i32(x) ((int32_t) (uint32_t) x)
#define zext_i32_i64(x) ((int64_t) (uint32_t) x)
#define zext_i64_i8(x) ((int8_t) (uint64_t) x)
#define zext_i64_i16(x) ((int16_t) (uint64_t) x)
#define zext_i64_i32(x) ((int32_t) (uint64_t) x)
#define zext_i64_i64(x) ((int64_t) (uint64_t) x)
static int8_t abs8(int8_t x)
{
    return abs(x);
}
static int16_t abs16(int16_t x)
{
    return abs(x);
}
static int32_t abs32(int32_t x)
{
    return abs(x);
}
#if defined(__OPENCL_VERSION__)
static int64_t abs64(int64_t x)
{
    return abs(x);
}
#else
static int64_t abs64(int64_t x)
{
    return llabs(x);
}
#endif
#if defined(__OPENCL_VERSION__)
static int32_t futrts_popc8(int8_t x)
{
    return popcount(x);
}
static int32_t futrts_popc16(int16_t x)
{
    return popcount(x);
}
static int32_t futrts_popc32(int32_t x)
{
    return popcount(x);
}
static int32_t futrts_popc64(int64_t x)
{
    return popcount(x);
}
#elif defined(__CUDA_ARCH__)
static int32_t futrts_popc8(int8_t x)
{
    return __popc(zext_i8_i32(x));
}
static int32_t futrts_popc16(int16_t x)
{
    return __popc(zext_i16_i32(x));
}
static int32_t futrts_popc32(int32_t x)
{
    return __popc(x);
}
static int32_t futrts_popc64(int64_t x)
{
    return __popcll(x);
}
#else
static int32_t futrts_popc8(int8_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
static int32_t futrts_popc16(int16_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
static int32_t futrts_popc32(int32_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
static int32_t futrts_popc64(int64_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
#endif
#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b)
{
    return mul_hi(a, b);
}
static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b)
{
    return mul_hi(a, b);
}
static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b)
{
    return mul_hi(a, b);
}
static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b)
{
    return mul_hi(a, b);
}
#elif defined(__CUDA_ARCH__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b)
{
    uint16_t aa = a;
    uint16_t bb = b;
    
    return aa * bb >> 8;
}
static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b)
{
    uint32_t aa = a;
    uint32_t bb = b;
    
    return aa * bb >> 16;
}
static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b)
{
    return mulhi(a, b);
}
static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b)
{
    return mul64hi(a, b);
}
#else
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b)
{
    uint16_t aa = a;
    uint16_t bb = b;
    
    return aa * bb >> 8;
}
static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b)
{
    uint32_t aa = a;
    uint32_t bb = b;
    
    return aa * bb >> 16;
}
static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b)
{
    uint64_t aa = a;
    uint64_t bb = b;
    
    return aa * bb >> 32;
}
#ifdef __EMSCRIPTEN__
static uint64_t futrts_mul_hi64(uint64_t x, uint64_t y)
{
    uint64_t a = x >> 32, b = x & 0xffffffff;
    uint64_t c = y >> 32, d = y & 0xffffffff;
    uint64_t ac = a * c;
    uint64_t bc = b * c;
    uint64_t ad = a * d;
    uint64_t bd = b * d;
    uint64_t mid34 = (bd >> 32) + (bc & 0xffffffff) + (ad & 0xffffffff);
    uint64_t upper64 = ac + (bc >> 32) + (ad >> 32) + (mid34 >> 32);
    
    return upper64;
}
#else
static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b)
{
    __uint128_t aa = a;
    __uint128_t bb = b;
    
    return aa * bb >> 64;
}
#endif
#endif
#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c)
{
    return mad_hi(a, b, c);
}
static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c)
{
    return mad_hi(a, b, c);
}
static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c)
{
    return mad_hi(a, b, c);
}
static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c)
{
    return mad_hi(a, b, c);
}
#else
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c)
{
    return futrts_mul_hi8(a, b) + c;
}
static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c)
{
    return futrts_mul_hi16(a, b) + c;
}
static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c)
{
    return futrts_mul_hi32(a, b) + c;
}
static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c)
{
    return futrts_mul_hi64(a, b) + c;
}
#endif
#if defined(__OPENCL_VERSION__)
static int32_t futrts_clzz8(int8_t x)
{
    return clz(x);
}
static int32_t futrts_clzz16(int16_t x)
{
    return clz(x);
}
static int32_t futrts_clzz32(int32_t x)
{
    return clz(x);
}
static int32_t futrts_clzz64(int64_t x)
{
    return clz(x);
}
#elif defined(__CUDA_ARCH__)
static int32_t futrts_clzz8(int8_t x)
{
    return __clz(zext_i8_i32(x)) - 24;
}
static int32_t futrts_clzz16(int16_t x)
{
    return __clz(zext_i16_i32(x)) - 16;
}
static int32_t futrts_clzz32(int32_t x)
{
    return __clz(x);
}
static int32_t futrts_clzz64(int64_t x)
{
    return __clzll(x);
}
#else
static int32_t futrts_clzz8(int8_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
static int32_t futrts_clzz16(int16_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
static int32_t futrts_clzz32(int32_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
static int32_t futrts_clzz64(int64_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
#endif
#if defined(__OPENCL_VERSION__)
static int32_t futrts_ctzz8(int8_t x)
{
    int i = 0;
    
    for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
static int32_t futrts_ctzz16(int16_t x)
{
    int i = 0;
    
    for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
static int32_t futrts_ctzz32(int32_t x)
{
    int i = 0;
    
    for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
static int32_t futrts_ctzz64(int64_t x)
{
    int i = 0;
    
    for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
#elif defined(__CUDA_ARCH__)
static int32_t futrts_ctzz8(int8_t x)
{
    int y = __ffs(x);
    
    return y == 0 ? 8 : y - 1;
}
static int32_t futrts_ctzz16(int16_t x)
{
    int y = __ffs(x);
    
    return y == 0 ? 16 : y - 1;
}
static int32_t futrts_ctzz32(int32_t x)
{
    int y = __ffs(x);
    
    return y == 0 ? 32 : y - 1;
}
static int32_t futrts_ctzz64(int64_t x)
{
    int y = __ffsll(x);
    
    return y == 0 ? 64 : y - 1;
}
#else
static int32_t futrts_ctzz8(int8_t x)
{
    return x == 0 ? 8 : __builtin_ctz((uint32_t) x);
}
static int32_t futrts_ctzz16(int16_t x)
{
    return x == 0 ? 16 : __builtin_ctz((uint32_t) x);
}
static int32_t futrts_ctzz32(int32_t x)
{
    return x == 0 ? 32 : __builtin_ctz(x);
}
static int32_t futrts_ctzz64(int64_t x)
{
    return x == 0 ? 64 : __builtin_ctzll(x);
}
#endif
static inline float fdiv32(float x, float y)
{
    return x / y;
}
static inline float fadd32(float x, float y)
{
    return x + y;
}
static inline float fsub32(float x, float y)
{
    return x - y;
}
static inline float fmul32(float x, float y)
{
    return x * y;
}
static inline bool cmplt32(float x, float y)
{
    return x < y;
}
static inline bool cmple32(float x, float y)
{
    return x <= y;
}
static inline float sitofp_i8_f32(int8_t x)
{
    return (float) x;
}
static inline float sitofp_i16_f32(int16_t x)
{
    return (float) x;
}
static inline float sitofp_i32_f32(int32_t x)
{
    return (float) x;
}
static inline float sitofp_i64_f32(int64_t x)
{
    return (float) x;
}
static inline float uitofp_i8_f32(uint8_t x)
{
    return (float) x;
}
static inline float uitofp_i16_f32(uint16_t x)
{
    return (float) x;
}
static inline float uitofp_i32_f32(uint32_t x)
{
    return (float) x;
}
static inline float uitofp_i64_f32(uint64_t x)
{
    return (float) x;
}
static inline int8_t fptosi_f32_i8(float x)
{
    return (int8_t) x;
}
static inline int16_t fptosi_f32_i16(float x)
{
    return (int16_t) x;
}
static inline int32_t fptosi_f32_i32(float x)
{
    return (int32_t) x;
}
static inline int64_t fptosi_f32_i64(float x)
{
    return (int64_t) x;
}
static inline uint8_t fptoui_f32_i8(float x)
{
    return (uint8_t) x;
}
static inline uint16_t fptoui_f32_i16(float x)
{
    return (uint16_t) x;
}
static inline uint32_t fptoui_f32_i32(float x)
{
    return (uint32_t) x;
}
static inline uint64_t fptoui_f32_i64(float x)
{
    return (uint64_t) x;
}
static inline double fdiv64(double x, double y)
{
    return x / y;
}
static inline double fadd64(double x, double y)
{
    return x + y;
}
static inline double fsub64(double x, double y)
{
    return x - y;
}
static inline double fmul64(double x, double y)
{
    return x * y;
}
static inline bool cmplt64(double x, double y)
{
    return x < y;
}
static inline bool cmple64(double x, double y)
{
    return x <= y;
}
static inline double sitofp_i8_f64(int8_t x)
{
    return (double) x;
}
static inline double sitofp_i16_f64(int16_t x)
{
    return (double) x;
}
static inline double sitofp_i32_f64(int32_t x)
{
    return (double) x;
}
static inline double sitofp_i64_f64(int64_t x)
{
    return (double) x;
}
static inline double uitofp_i8_f64(uint8_t x)
{
    return (double) x;
}
static inline double uitofp_i16_f64(uint16_t x)
{
    return (double) x;
}
static inline double uitofp_i32_f64(uint32_t x)
{
    return (double) x;
}
static inline double uitofp_i64_f64(uint64_t x)
{
    return (double) x;
}
static inline int8_t fptosi_f64_i8(double x)
{
    return (int8_t) x;
}
static inline int16_t fptosi_f64_i16(double x)
{
    return (int16_t) x;
}
static inline int32_t fptosi_f64_i32(double x)
{
    return (int32_t) x;
}
static inline int64_t fptosi_f64_i64(double x)
{
    return (int64_t) x;
}
static inline uint8_t fptoui_f64_i8(double x)
{
    return (uint8_t) x;
}
static inline uint16_t fptoui_f64_i16(double x)
{
    return (uint16_t) x;
}
static inline uint32_t fptoui_f64_i32(double x)
{
    return (uint32_t) x;
}
static inline uint64_t fptoui_f64_i64(double x)
{
    return (uint64_t) x;
}
static inline float fpconv_f32_f32(float x)
{
    return (float) x;
}
static inline double fpconv_f32_f64(float x)
{
    return (double) x;
}
static inline float fpconv_f64_f32(double x)
{
    return (float) x;
}
static inline double fpconv_f64_f64(double x)
{
    return (double) x;
}
#ifdef __OPENCL_VERSION__
static inline float fabs32(float x)
{
    return fabs(x);
}
static inline float fmax32(float x, float y)
{
    return fmax(x, y);
}
static inline float fmin32(float x, float y)
{
    return fmin(x, y);
}
static inline float fpow32(float x, float y)
{
    return pow(x, y);
}
#else
static inline float fabs32(float x)
{
    return fabsf(x);
}
static inline float fmax32(float x, float y)
{
    return fmaxf(x, y);
}
static inline float fmin32(float x, float y)
{
    return fminf(x, y);
}
static inline float fpow32(float x, float y)
{
    return powf(x, y);
}
#endif
static inline bool futrts_isnan32(float x)
{
    return isnan(x);
}
static inline bool futrts_isinf32(float x)
{
    return isinf(x);
}
#ifdef __OPENCL_VERSION__
static inline float futrts_log32(float x)
{
    return log(x);
}
static inline float futrts_log2_32(float x)
{
    return log2(x);
}
static inline float futrts_log10_32(float x)
{
    return log10(x);
}
static inline float futrts_sqrt32(float x)
{
    return sqrt(x);
}
static inline float futrts_exp32(float x)
{
    return exp(x);
}
static inline float futrts_cos32(float x)
{
    return cos(x);
}
static inline float futrts_sin32(float x)
{
    return sin(x);
}
static inline float futrts_tan32(float x)
{
    return tan(x);
}
static inline float futrts_acos32(float x)
{
    return acos(x);
}
static inline float futrts_asin32(float x)
{
    return asin(x);
}
static inline float futrts_atan32(float x)
{
    return atan(x);
}
static inline float futrts_cosh32(float x)
{
    return cosh(x);
}
static inline float futrts_sinh32(float x)
{
    return sinh(x);
}
static inline float futrts_tanh32(float x)
{
    return tanh(x);
}
static inline float futrts_acosh32(float x)
{
    return acosh(x);
}
static inline float futrts_asinh32(float x)
{
    return asinh(x);
}
static inline float futrts_atanh32(float x)
{
    return atanh(x);
}
static inline float futrts_atan2_32(float x, float y)
{
    return atan2(x, y);
}
static inline float futrts_hypot32(float x, float y)
{
    return hypot(x, y);
}
static inline float futrts_gamma32(float x)
{
    return tgamma(x);
}
static inline float futrts_lgamma32(float x)
{
    return lgamma(x);
}
static inline float fmod32(float x, float y)
{
    return fmod(x, y);
}
static inline float futrts_round32(float x)
{
    return rint(x);
}
static inline float futrts_floor32(float x)
{
    return floor(x);
}
static inline float futrts_ceil32(float x)
{
    return ceil(x);
}
static inline float futrts_lerp32(float v0, float v1, float t)
{
    return mix(v0, v1, t);
}
static inline float futrts_mad32(float a, float b, float c)
{
    return mad(a, b, c);
}
static inline float futrts_fma32(float a, float b, float c)
{
    return fma(a, b, c);
}
#else
static inline float futrts_log32(float x)
{
    return logf(x);
}
static inline float futrts_log2_32(float x)
{
    return log2f(x);
}
static inline float futrts_log10_32(float x)
{
    return log10f(x);
}
static inline float futrts_sqrt32(float x)
{
    return sqrtf(x);
}
static inline float futrts_exp32(float x)
{
    return expf(x);
}
static inline float futrts_cos32(float x)
{
    return cosf(x);
}
static inline float futrts_sin32(float x)
{
    return sinf(x);
}
static inline float futrts_tan32(float x)
{
    return tanf(x);
}
static inline float futrts_acos32(float x)
{
    return acosf(x);
}
static inline float futrts_asin32(float x)
{
    return asinf(x);
}
static inline float futrts_atan32(float x)
{
    return atanf(x);
}
static inline float futrts_cosh32(float x)
{
    return coshf(x);
}
static inline float futrts_sinh32(float x)
{
    return sinhf(x);
}
static inline float futrts_tanh32(float x)
{
    return tanhf(x);
}
static inline float futrts_acosh32(float x)
{
    return acoshf(x);
}
static inline float futrts_asinh32(float x)
{
    return asinhf(x);
}
static inline float futrts_atanh32(float x)
{
    return atanhf(x);
}
static inline float futrts_atan2_32(float x, float y)
{
    return atan2f(x, y);
}
static inline float futrts_hypot32(float x, float y)
{
    return hypotf(x, y);
}
static inline float futrts_gamma32(float x)
{
    return tgammaf(x);
}
static inline float futrts_lgamma32(float x)
{
    return lgammaf(x);
}
static inline float fmod32(float x, float y)
{
    return fmodf(x, y);
}
static inline float futrts_round32(float x)
{
    return rintf(x);
}
static inline float futrts_floor32(float x)
{
    return floorf(x);
}
static inline float futrts_ceil32(float x)
{
    return ceilf(x);
}
static inline float futrts_lerp32(float v0, float v1, float t)
{
    return v0 + (v1 - v0) * t;
}
static inline float futrts_mad32(float a, float b, float c)
{
    return a * b + c;
}
static inline float futrts_fma32(float a, float b, float c)
{
    return fmaf(a, b, c);
}
#endif
static inline int32_t futrts_to_bits32(float x)
{
    union {
        float f;
        int32_t t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline float futrts_from_bits32(int32_t x)
{
    union {
        int32_t f;
        float t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline float fsignum32(float x)
{
    return futrts_isnan32(x) ? x : (x > 0) - (x < 0);
}
static inline double fabs64(double x)
{
    return fabs(x);
}
static inline float fmax64(double x, double y)
{
    return fmax(x, y);
}
static inline float fmin64(double x, double y)
{
    return fmin(x, y);
}
static inline double fpow64(double x, double y)
{
    return pow(x, y);
}
static inline double futrts_log64(double x)
{
    return log(x);
}
static inline double futrts_log2_64(double x)
{
    return log2(x);
}
static inline double futrts_log10_64(double x)
{
    return log10(x);
}
static inline double futrts_sqrt64(double x)
{
    return sqrt(x);
}
static inline double futrts_exp64(double x)
{
    return exp(x);
}
static inline double futrts_cos64(double x)
{
    return cos(x);
}
static inline double futrts_sin64(double x)
{
    return sin(x);
}
static inline double futrts_tan64(double x)
{
    return tan(x);
}
static inline double futrts_acos64(double x)
{
    return acos(x);
}
static inline double futrts_asin64(double x)
{
    return asin(x);
}
static inline double futrts_atan64(double x)
{
    return atan(x);
}
static inline double futrts_cosh64(double x)
{
    return cosh(x);
}
static inline double futrts_sinh64(double x)
{
    return sinh(x);
}
static inline double futrts_tanh64(double x)
{
    return tanh(x);
}
static inline double futrts_acosh64(double x)
{
    return acosh(x);
}
static inline double futrts_asinh64(double x)
{
    return asinh(x);
}
static inline double futrts_atanh64(double x)
{
    return atanh(x);
}
static inline double futrts_atan2_64(double x, double y)
{
    return atan2(x, y);
}
static inline double futrts_hypot64(double x, double y)
{
    return hypot(x, y);
}
static inline double futrts_gamma64(double x)
{
    return tgamma(x);
}
static inline double futrts_lgamma64(double x)
{
    return lgamma(x);
}
static inline double futrts_fma64(double a, double b, double c)
{
    return fma(a, b, c);
}
static inline double futrts_round64(double x)
{
    return rint(x);
}
static inline double futrts_ceil64(double x)
{
    return ceil(x);
}
static inline double futrts_floor64(double x)
{
    return floor(x);
}
static inline bool futrts_isnan64(double x)
{
    return isnan(x);
}
static inline bool futrts_isinf64(double x)
{
    return isinf(x);
}
static inline int64_t futrts_to_bits64(double x)
{
    union {
        double f;
        int64_t t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline double futrts_from_bits64(int64_t x)
{
    union {
        int64_t f;
        double t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline double fmod64(double x, double y)
{
    return fmod(x, y);
}
static inline double fsignum64(double x)
{
    return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}
#ifdef __OPENCL_VERSION__
static inline double futrts_lerp64(double v0, double v1, double t)
{
    return mix(v0, v1, t);
}
static inline double futrts_mad64(double a, double b, double c)
{
    return mad(a, b, c);
}
#else
static inline double futrts_lerp64(double v0, double v1, double t)
{
    return v0 + (v1 - v0) * t;
}
static inline double futrts_mad64(double a, double b, double c)
{
    return a * b + c;
}
#endif
static int init_constants(struct futhark_context *);
static int free_constants(struct futhark_context *);
struct memblock {
    int *references;
    char *mem;
    int64_t size;
    const char *desc;
};
struct futhark_context_config {
    int debugging;
};
struct futhark_context_config *futhark_context_config_new(void)
{
    struct futhark_context_config *cfg =
                                  (struct futhark_context_config *) malloc(sizeof(struct futhark_context_config));
    
    if (cfg == NULL)
        return NULL;
    cfg->debugging = 0;
    return cfg;
}
void futhark_context_config_free(struct futhark_context_config *cfg)
{
    free(cfg);
}
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int detail)
{
    cfg->debugging = detail;
}
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int detail)
{
    /* Does nothing for this backend. */
    (void) cfg;
    (void) detail;
}
struct futhark_context {
    int detail_memory;
    int debugging;
    int profiling;
    int logging;
    lock_t lock;
    char *error;
    FILE *log;
    int profiling_paused;
    int64_t peak_mem_usage_default;
    int64_t cur_mem_usage_default;
    struct {
        int dummy;
    } constants;
};
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg)
{
    struct futhark_context *ctx =
                           (struct futhark_context *) malloc(sizeof(struct futhark_context));
    
    if (ctx == NULL)
        return NULL;
    ctx->detail_memory = cfg->debugging;
    ctx->debugging = cfg->debugging;
    ctx->profiling = cfg->debugging;
    ctx->logging = cfg->debugging;
    ctx->error = NULL;
    ctx->log = stderr;
    create_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    ctx->cur_mem_usage_default = 0;
    init_constants(ctx);
    return ctx;
}
void futhark_context_free(struct futhark_context *ctx)
{
    free_constants(ctx);
    free_lock(&ctx->lock);
    free(ctx);
}
int futhark_context_sync(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
static const char *size_names[0];
static const char *size_vars[0];
static const char *size_classes[0];
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value)
{
    (void) cfg;
    (void) size_name;
    (void) size_value;
    return 1;
}
static int memblock_unref(struct futhark_context *ctx, struct memblock *block,
                          const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log,
                    "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n",
                    desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            free(block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log,
                        "%lld bytes freed (now allocated: %lld bytes)\n",
                        (long long) block->size,
                        (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
static int memblock_alloc(struct futhark_context *ctx, struct memblock *block,
                          int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1,
                      "Negative allocation of %lld bytes attempted for %s in %s.\n",
                      (long long) size, desc, "default space",
                      ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    ctx->cur_mem_usage_default += size;
    if (ctx->detail_memory)
        fprintf(ctx->log,
                "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)",
                (long long) size, desc, "default space",
                (long long) ctx->cur_mem_usage_default);
    if (ctx->cur_mem_usage_default > ctx->peak_mem_usage_default) {
        ctx->peak_mem_usage_default = ctx->cur_mem_usage_default;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    block->mem = (char *) malloc(size);
    block->references = (int *) malloc(sizeof(int));
    *block->references = 1;
    block->size = size;
    block->desc = desc;
    return ret;
}
static int memblock_set(struct futhark_context *ctx, struct memblock *lhs,
                        struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
int futhark_get_num_sizes(void)
{
    return sizeof(size_names) / sizeof(size_names[0]);
}
const char *futhark_get_size_name(int i)
{
    return size_names[i];
}
const char *futhark_get_size_class(int i)
{
    return size_classes[i];
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    if (ctx->detail_memory || ctx->profiling || ctx->logging) {
        { }
    }
    if (ctx->profiling) { }
    return builder.str;
}
char *futhark_context_get_error(struct futhark_context *ctx)
{
    char *error = ctx->error;
    
    ctx->error = NULL;
    return error;
}
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f)
{
    ctx->log = f;
}
void futhark_context_pause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 1;
}
void futhark_context_unpause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 0;
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_65607,
                             struct memblock Y_mem_64159, int64_t m_62363,
                             int64_t n_62364, int64_t q_62366,
                             int64_t degree_62367, int64_t jump_62368,
                             int64_t jump_threshold_62369,
                             int64_t q_threshold_62370);
static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_f32_2d {
    struct memblock mem;
    int64_t shape[2];
};
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, (size_t) (dim0 * dim1) * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    memmove(arr->mem.mem + 0, data + 0, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              char *data, int offset,
                                              int64_t dim0, int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, (size_t) (dim0 * dim1) * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    memmove(arr->mem.mem + 0, data + offset, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data)
{
    lock_lock(&ctx->lock);
    memmove(data + 0, arr->mem.mem + 0, (size_t) (arr->shape[0] *
                                                  arr->shape[1]) * 4);
    lock_unlock(&ctx->lock);
    return 0;
}
char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->shape;
}
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_65607,
                             struct memblock Y_mem_64159, int64_t m_62363,
                             int64_t n_62364, int64_t q_62366,
                             int64_t degree_62367, int64_t jump_62368,
                             int64_t jump_threshold_62369,
                             int64_t q_threshold_62370)
{
    (void) ctx;
    
    int err = 0;
    size_t mem_64180_cached_sizze_65608 = 0;
    char *mem_64180 = NULL;
    size_t mem_64195_cached_sizze_65609 = 0;
    char *mem_64195 = NULL;
    size_t mem_64198_cached_sizze_65610 = 0;
    char *mem_64198 = NULL;
    size_t mem_64225_cached_sizze_65611 = 0;
    char *mem_64225 = NULL;
    size_t mem_64228_cached_sizze_65612 = 0;
    char *mem_64228 = NULL;
    size_t mem_64255_cached_sizze_65613 = 0;
    char *mem_64255 = NULL;
    size_t mem_64328_cached_sizze_65614 = 0;
    char *mem_64328 = NULL;
    size_t mem_64343_cached_sizze_65615 = 0;
    char *mem_64343 = NULL;
    size_t mem_64346_cached_sizze_65616 = 0;
    char *mem_64346 = NULL;
    size_t mem_64373_cached_sizze_65617 = 0;
    char *mem_64373 = NULL;
    size_t mem_64376_cached_sizze_65618 = 0;
    char *mem_64376 = NULL;
    size_t mem_64403_cached_sizze_65619 = 0;
    char *mem_64403 = NULL;
    size_t mem_64506_cached_sizze_65620 = 0;
    char *mem_64506 = NULL;
    size_t mem_64521_cached_sizze_65621 = 0;
    char *mem_64521 = NULL;
    size_t mem_64524_cached_sizze_65622 = 0;
    char *mem_64524 = NULL;
    size_t mem_64551_cached_sizze_65623 = 0;
    char *mem_64551 = NULL;
    size_t mem_64554_cached_sizze_65624 = 0;
    char *mem_64554 = NULL;
    size_t mem_64581_cached_sizze_65625 = 0;
    char *mem_64581 = NULL;
    size_t mem_64706_cached_sizze_65626 = 0;
    char *mem_64706 = NULL;
    size_t mem_64721_cached_sizze_65627 = 0;
    char *mem_64721 = NULL;
    size_t mem_64724_cached_sizze_65628 = 0;
    char *mem_64724 = NULL;
    size_t mem_64751_cached_sizze_65629 = 0;
    char *mem_64751 = NULL;
    size_t mem_64754_cached_sizze_65630 = 0;
    char *mem_64754 = NULL;
    size_t mem_64781_cached_sizze_65631 = 0;
    char *mem_64781 = NULL;
    size_t mem_64807_cached_sizze_65632 = 0;
    char *mem_64807 = NULL;
    size_t mem_64869_cached_sizze_65633 = 0;
    char *mem_64869 = NULL;
    size_t mem_64884_cached_sizze_65634 = 0;
    char *mem_64884 = NULL;
    size_t mem_64887_cached_sizze_65635 = 0;
    char *mem_64887 = NULL;
    size_t mem_64914_cached_sizze_65636 = 0;
    char *mem_64914 = NULL;
    size_t mem_64917_cached_sizze_65637 = 0;
    char *mem_64917 = NULL;
    size_t mem_64944_cached_sizze_65638 = 0;
    char *mem_64944 = NULL;
    size_t mem_64981_cached_sizze_65639 = 0;
    char *mem_64981 = NULL;
    size_t mem_64984_cached_sizze_65640 = 0;
    char *mem_64984 = NULL;
    size_t mem_65077_cached_sizze_65641 = 0;
    char *mem_65077 = NULL;
    size_t mem_65092_cached_sizze_65642 = 0;
    char *mem_65092 = NULL;
    size_t mem_65095_cached_sizze_65643 = 0;
    char *mem_65095 = NULL;
    size_t mem_65122_cached_sizze_65644 = 0;
    char *mem_65122 = NULL;
    size_t mem_65125_cached_sizze_65645 = 0;
    char *mem_65125 = NULL;
    size_t mem_65152_cached_sizze_65646 = 0;
    char *mem_65152 = NULL;
    size_t mem_65189_cached_sizze_65647 = 0;
    char *mem_65189 = NULL;
    size_t mem_65192_cached_sizze_65648 = 0;
    char *mem_65192 = NULL;
    size_t mem_65219_cached_sizze_65649 = 0;
    char *mem_65219 = NULL;
    size_t mem_65222_cached_sizze_65650 = 0;
    char *mem_65222 = NULL;
    struct memblock mem_out_65449;
    
    mem_out_65449.references = NULL;
    
    bool cond_62371 = jump_62368 == (int64_t) 1;
    int64_t n_m_62372;
    
    if (cond_62371) {
        n_m_62372 = n_62364;
    } else {
        bool zzero_62373 = jump_62368 == (int64_t) 0;
        bool nonzzero_62374 = !zzero_62373;
        bool nonzzero_cert_62375;
        
        if (!nonzzero_62374) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  loess.fut:497:38-45\n   #1  loess.fut:490:1-530:26\n");
            if (memblock_unref(ctx, &mem_out_65449, "mem_out_65449") != 0)
                return 1;
            return 1;
        }
        
        int64_t x_62376 = sdiv64(n_62364, jump_62368);
        int64_t n_m_f_res_62377 = add64((int64_t) 1, x_62376);
        
        n_m_62372 = n_m_f_res_62377;
    }
    
    int64_t i_62378 = sub64(n_62364, (int64_t) 1);
    bool x_62379 = sle64((int64_t) 0, i_62378);
    bool y_62380 = slt64(i_62378, n_62364);
    bool bounds_check_62381 = x_62379 && y_62380;
    bool index_certs_62382;
    
    if (!bounds_check_62381) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [", (long long) i_62378,
                               "] out of bounds for array of shape [",
                               (long long) n_62364, "].",
                               "-> #0  /prelude/array.fut:26:29-34\n   #1  utils.fut:38:13-20\n   #2  loess.fut:502:5-54\n   #3  loess.fut:490:1-530:26\n");
        if (memblock_unref(ctx, &mem_out_65449, "mem_out_65449") != 0)
            return 1;
        return 1;
    }
    
    int64_t min_res_62384 = smin64(n_62364, q_62366);
    bool bounds_invalid_upwards_62385 = slt64(n_m_62372, (int64_t) 0);
    bool valid_62386 = !bounds_invalid_upwards_62385;
    bool range_valid_c_62387;
    
    if (!valid_62386) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) n_m_62372, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  loess.fut:345:3-373:7\n   #3  loess.fut:460:15-58\n   #4  loess.fut:507:13-56\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  loess.fut:506:5-508:26\n   #8  loess.fut:490:1-530:26\n");
        if (memblock_unref(ctx, &mem_out_65449, "mem_out_65449") != 0)
            return 1;
        return 1;
    }
    
    bool loop_cond_62389 = slt64((int64_t) 1, min_res_62384);
    float i64_res_62390 = sitofp_i64_f32(q_62366);
    bool cond_62391 = slt64(jump_62368, jump_threshold_62369);
    bool cond_f_res_62392 = slt64(q_threshold_62370, q_62366);
    bool x_62393 = !cond_62391;
    bool y_62394 = cond_f_res_62392 && x_62393;
    bool cond_62395 = cond_62391 || y_62394;
    struct memblock ext_mem_65325;
    
    ext_mem_65325.references = NULL;
    
    struct memblock ext_mem_65317;
    
    ext_mem_65317.references = NULL;
    if (cond_62395) {
        bool match_lit_62398 = (int64_t) 0 == degree_62367;
        int64_t binop_x_64161 = m_62363 * n_m_62372;
        int64_t binop_y_64162 = (int64_t) 4 * binop_x_64161;
        int64_t bytes_64160 = smax64((int64_t) 0, binop_y_64162);
        int64_t binop_y_64179 = (int64_t) 8 * n_62364;
        int64_t bytes_64178 = smax64((int64_t) 0, binop_y_64179);
        int64_t binop_y_64194 = (int64_t) 4 * n_62364;
        int64_t bytes_64193 = smax64((int64_t) 0, binop_y_64194);
        int64_t binop_y_64254 = (int64_t) 4 * q_62366;
        int64_t bytes_64253 = smax64((int64_t) 0, binop_y_64254);
        struct memblock ext_mem_64678;
        
        ext_mem_64678.references = NULL;
        
        struct memblock ext_mem_64670;
        
        ext_mem_64670.references = NULL;
        if (match_lit_62398) {
            struct memblock mem_64163;
            
            mem_64163.references = NULL;
            if (memblock_alloc(ctx, &mem_64163, bytes_64160, "mem_64163")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_65450 = 0; i_65450 < m_62363; i_65450++) {
                for (int64_t i_65451 = 0; i_65451 < n_m_62372; i_65451++) {
                    ((float *) mem_64163.mem)[i_65450 * n_m_62372 + i_65451] =
                        0.0F;
                }
            }
            
            struct memblock mem_64167;
            
            mem_64167.references = NULL;
            if (memblock_alloc(ctx, &mem_64167, bytes_64160, "mem_64167")) {
                err = 1;
                goto cleanup;
            }
            if (mem_64180_cached_sizze_65608 < (size_t) bytes_64178) {
                mem_64180 = realloc(mem_64180, bytes_64178);
                mem_64180_cached_sizze_65608 = bytes_64178;
            }
            if (mem_64195_cached_sizze_65609 < (size_t) bytes_64193) {
                mem_64195 = realloc(mem_64195, bytes_64193);
                mem_64195_cached_sizze_65609 = bytes_64193;
            }
            if (mem_64198_cached_sizze_65610 < (size_t) bytes_64178) {
                mem_64198 = realloc(mem_64198, bytes_64178);
                mem_64198_cached_sizze_65610 = bytes_64178;
            }
            if (mem_64225_cached_sizze_65611 < (size_t) bytes_64193) {
                mem_64225 = realloc(mem_64225, bytes_64193);
                mem_64225_cached_sizze_65611 = bytes_64193;
            }
            if (mem_64228_cached_sizze_65612 < (size_t) bytes_64178) {
                mem_64228 = realloc(mem_64228, bytes_64178);
                mem_64228_cached_sizze_65612 = bytes_64178;
            }
            if (mem_64255_cached_sizze_65613 < (size_t) bytes_64253) {
                mem_64255 = realloc(mem_64255, bytes_64253);
                mem_64255_cached_sizze_65613 = bytes_64253;
            }
            for (int64_t i_63773 = 0; i_63773 < m_62363; i_63773++) {
                int64_t discard_63743;
                int64_t scanacc_63739 = (int64_t) 0;
                
                for (int64_t i_63741 = 0; i_63741 < n_62364; i_63741++) {
                    float x_62409 = ((float *) Y_mem_64159.mem)[i_63773 *
                                                                n_62364 +
                                                                i_63741];
                    bool isnan_res_62410;
                    
                    isnan_res_62410 = futrts_isnan32(x_62409);
                    
                    bool defunc_0_p_res_62411 = !isnan_res_62410;
                    int64_t defunc_0_f_res_62412 =
                            btoi_bool_i64(defunc_0_p_res_62411);
                    int64_t defunc_1_op_res_62408 = add64(defunc_0_f_res_62412,
                                                          scanacc_63739);
                    
                    ((int64_t *) mem_64180)[i_63741] = defunc_1_op_res_62408;
                    
                    int64_t scanacc_tmp_65453 = defunc_1_op_res_62408;
                    
                    scanacc_63739 = scanacc_tmp_65453;
                }
                discard_63743 = scanacc_63739;
                
                int64_t last_res_62413 = ((int64_t *) mem_64180)[i_62378];
                
                for (int64_t i_65455 = 0; i_65455 < n_62364; i_65455++) {
                    ((float *) mem_64195)[i_65455] = 0.0F;
                }
                for (int64_t i_65456 = 0; i_65456 < n_62364; i_65456++) {
                    ((int64_t *) mem_64198)[i_65456] = (int64_t) -1;
                }
                for (int64_t write_iter_63744 = 0; write_iter_63744 < n_62364;
                     write_iter_63744++) {
                    float write_iv_63747 = ((float *) Y_mem_64159.mem)[i_63773 *
                                                                       n_62364 +
                                                                       write_iter_63744];
                    int64_t write_iv_63748 =
                            ((int64_t *) mem_64180)[write_iter_63744];
                    bool isnan_res_62421;
                    
                    isnan_res_62421 = futrts_isnan32(write_iv_63747);
                    
                    bool defunc_0_p_res_62422 = !isnan_res_62421;
                    int64_t defunc_1_f_res_62423;
                    
                    if (defunc_0_p_res_62422) {
                        int64_t defunc_1_f_res_t_res_62424 =
                                sub64(write_iv_63748, (int64_t) 1);
                        
                        defunc_1_f_res_62423 = defunc_1_f_res_t_res_62424;
                    } else {
                        defunc_1_f_res_62423 = (int64_t) -1;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_62423) &&
                        slt64(defunc_1_f_res_62423, n_62364)) {
                        ((int64_t *) mem_64198)[defunc_1_f_res_62423] =
                            write_iter_63744;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_62423) &&
                        slt64(defunc_1_f_res_62423, n_62364)) {
                        memmove(mem_64195 + defunc_1_f_res_62423 * (int64_t) 4,
                                Y_mem_64159.mem + (i_63773 * n_62364 +
                                                   write_iter_63744) *
                                (int64_t) 4, (int64_t) 4);
                    }
                }
                
                int64_t min_arg_62428 = sub64(last_res_62413, (int64_t) 1);
                int64_t min_arg_62429 = sub64(last_res_62413, min_res_62384);
                float i64_res_62430 = sitofp_i64_f32(last_res_62413);
                float x_62431 = i64_res_62390 - i64_res_62430;
                float max_arg_62432 = x_62431 / 2.0F;
                float max_res_62433 = fmax32(0.0F, max_arg_62432);
                
                for (int64_t i_63756 = 0; i_63756 < n_62364; i_63756++) {
                    int64_t x_62436 = ((int64_t *) mem_64198)[i_63756];
                    int64_t defunc_0_f_res_62437 = add64((int64_t) 1, x_62436);
                    float defunc_0_f_res_62438 = sitofp_i64_f32(x_62436);
                    
                    ((float *) mem_64225)[i_63756] = defunc_0_f_res_62438;
                    ((int64_t *) mem_64228)[i_63756] = defunc_0_f_res_62437;
                }
                for (int64_t i_63761 = 0; i_63761 < q_62366; i_63761++) {
                    bool cond_62443 = sle64(last_res_62413, i_63761);
                    float defunc_0_f_res_62444;
                    
                    if (cond_62443) {
                        defunc_0_f_res_62444 = 0.0F;
                    } else {
                        defunc_0_f_res_62444 = 1.0F;
                    }
                    ((float *) mem_64255)[i_63761] = defunc_0_f_res_62444;
                }
                for (int64_t i_63769 = 0; i_63769 < n_m_62372; i_63769++) {
                    int64_t min_arg_62447 = mul64(jump_62368, i_63769);
                    int64_t min_res_62448 = smin64(i_62378, min_arg_62447);
                    int64_t defunc_0_g_res_62449 = add64((int64_t) 1,
                                                         min_res_62448);
                    bool init_idx_62450;
                    int64_t init_idx_62451;
                    int64_t init_idx_62452;
                    bool loop_while_62453;
                    int64_t low_62454;
                    int64_t high_62455;
                    
                    loop_while_62453 = x_62379;
                    low_62454 = (int64_t) 0;
                    high_62455 = i_62378;
                    while (loop_while_62453) {
                        int64_t x_62456 = add64(low_62454, high_62455);
                        int64_t mid_62457 = sdiv64(x_62456, (int64_t) 2);
                        bool x_62458 = sle64((int64_t) 0, mid_62457);
                        bool y_62459 = slt64(mid_62457, n_62364);
                        bool bounds_check_62460 = x_62458 && y_62459;
                        bool index_certs_62461;
                        
                        if (!bounds_check_62460) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) mid_62457,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_64167, "mem_64167") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64163, "mem_64163") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64670,
                                               "ext_mem_64670") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64678,
                                               "ext_mem_64678") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t mid_id_62462 =
                                ((int64_t *) mem_64228)[mid_62457];
                        bool cond_62463 = slt64(mid_id_62462, (int64_t) 0);
                        int64_t mid_idx_62464;
                        
                        if (cond_62463) {
                            mid_idx_62464 = (int64_t) 9223372036854775807;
                        } else {
                            mid_idx_62464 = mid_id_62462;
                        }
                        
                        bool cond_62465 = sle64(defunc_0_g_res_62449,
                                                mid_idx_62464);
                        int64_t loopres_62466;
                        int64_t loopres_62467;
                        
                        if (cond_62465) {
                            int64_t loopres_t_res_62468 = sub64(mid_62457,
                                                                (int64_t) 1);
                            
                            loopres_62466 = low_62454;
                            loopres_62467 = loopres_t_res_62468;
                        } else {
                            int64_t loopres_f_res_62469 = add64((int64_t) 1,
                                                                mid_62457);
                            
                            loopres_62466 = loopres_f_res_62469;
                            loopres_62467 = high_62455;
                        }
                        
                        bool loop_cond_62470 = sle64(loopres_62466,
                                                     loopres_62467);
                        bool loop_while_tmp_65463 = loop_cond_62470;
                        int64_t low_tmp_65464 = loopres_62466;
                        int64_t high_tmp_65465 = loopres_62467;
                        
                        loop_while_62453 = loop_while_tmp_65463;
                        low_62454 = low_tmp_65464;
                        high_62455 = high_tmp_65465;
                    }
                    init_idx_62450 = loop_while_62453;
                    init_idx_62451 = low_62454;
                    init_idx_62452 = high_62455;
                    
                    bool idx_62471;
                    int64_t idx_62472;
                    int64_t idx_62473;
                    int64_t idx_62474;
                    bool loop_while_62475;
                    int64_t l_idx_62476;
                    int64_t r_idx_62477;
                    int64_t span_62478;
                    
                    loop_while_62475 = loop_cond_62389;
                    l_idx_62476 = init_idx_62451;
                    r_idx_62477 = init_idx_62451;
                    span_62478 = (int64_t) 1;
                    while (loop_while_62475) {
                        int64_t max_arg_62479 = sub64(l_idx_62476, (int64_t) 1);
                        int64_t max_res_62480 = smax64((int64_t) 0,
                                                       max_arg_62479);
                        int64_t min_arg_62481 = add64((int64_t) 1, r_idx_62477);
                        int64_t min_res_62482 = smin64(min_arg_62428,
                                                       min_arg_62481);
                        bool x_62483 = sle64((int64_t) 0, max_res_62480);
                        bool y_62484 = slt64(max_res_62480, n_62364);
                        bool bounds_check_62485 = x_62483 && y_62484;
                        bool index_certs_62486;
                        
                        if (!bounds_check_62485) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_62480,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:363:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_64167, "mem_64167") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64163, "mem_64163") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64670,
                                               "ext_mem_64670") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64678,
                                               "ext_mem_64678") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_62487 =
                                ((int64_t *) mem_64228)[max_res_62480];
                        int64_t abs_arg_62488 = sub64(x_62487,
                                                      defunc_0_g_res_62449);
                        int64_t abs_res_62489 = abs64(abs_arg_62488);
                        bool x_62490 = sle64((int64_t) 0, min_res_62482);
                        bool y_62491 = slt64(min_res_62482, n_62364);
                        bool bounds_check_62492 = x_62490 && y_62491;
                        bool index_certs_62493;
                        
                        if (!bounds_check_62492) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) min_res_62482,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_64167, "mem_64167") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64163, "mem_64163") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64670,
                                               "ext_mem_64670") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64678,
                                               "ext_mem_64678") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_62494 =
                                ((int64_t *) mem_64228)[min_res_62482];
                        int64_t abs_arg_62495 = sub64(x_62494,
                                                      defunc_0_g_res_62449);
                        int64_t abs_res_62496 = abs64(abs_arg_62495);
                        bool cond_62497 = max_res_62480 == l_idx_62476;
                        int64_t loopres_62498;
                        int64_t loopres_62499;
                        int64_t loopres_62500;
                        
                        if (cond_62497) {
                            loopres_62498 = l_idx_62476;
                            loopres_62499 = r_idx_62477;
                            loopres_62500 = min_res_62384;
                        } else {
                            bool cond_62501 = slt64(abs_res_62489,
                                                    abs_res_62496);
                            bool cond_f_res_62502 = min_res_62482 ==
                                 r_idx_62477;
                            bool x_62503 = !cond_62501;
                            bool y_62504 = cond_f_res_62502 && x_62503;
                            bool cond_62505 = cond_62501 || y_62504;
                            int64_t loopres_f_res_62506;
                            
                            if (cond_62505) {
                                loopres_f_res_62506 = max_res_62480;
                            } else {
                                loopres_f_res_62506 = l_idx_62476;
                            }
                            
                            int64_t loopres_f_res_62507;
                            
                            if (cond_62505) {
                                loopres_f_res_62507 = r_idx_62477;
                            } else {
                                loopres_f_res_62507 = min_res_62482;
                            }
                            
                            int64_t loopres_f_res_62508;
                            
                            if (cond_62505) {
                                int64_t loopres_f_res_t_res_62509 =
                                        add64((int64_t) 1, span_62478);
                                
                                loopres_f_res_62508 = loopres_f_res_t_res_62509;
                            } else {
                                int64_t loopres_f_res_f_res_62510 =
                                        add64((int64_t) 1, span_62478);
                                
                                loopres_f_res_62508 = loopres_f_res_f_res_62510;
                            }
                            loopres_62498 = loopres_f_res_62506;
                            loopres_62499 = loopres_f_res_62507;
                            loopres_62500 = loopres_f_res_62508;
                        }
                        
                        bool loop_cond_62511 = slt64(loopres_62500,
                                                     min_res_62384);
                        bool loop_while_tmp_65466 = loop_cond_62511;
                        int64_t l_idx_tmp_65467 = loopres_62498;
                        int64_t r_idx_tmp_65468 = loopres_62499;
                        int64_t span_tmp_65469 = loopres_62500;
                        
                        loop_while_62475 = loop_while_tmp_65466;
                        l_idx_62476 = l_idx_tmp_65467;
                        r_idx_62477 = r_idx_tmp_65468;
                        span_62478 = span_tmp_65469;
                    }
                    idx_62471 = loop_while_62475;
                    idx_62472 = l_idx_62476;
                    idx_62473 = r_idx_62477;
                    idx_62474 = span_62478;
                    
                    int64_t min_res_62512 = smin64(min_arg_62429, idx_62472);
                    int64_t x_62513 = add64(min_res_62384, min_res_62512);
                    int64_t r_62514 = sub64(x_62513, (int64_t) 1);
                    bool x_62515 = sle64((int64_t) 0, r_62514);
                    bool y_62516 = slt64(r_62514, n_62364);
                    bool bounds_check_62517 = x_62515 && y_62516;
                    bool index_certs_62518;
                    
                    if (!bounds_check_62517) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) r_62514,
                                      "] out of bounds for array of shape [",
                                      (long long) n_62364, "].",
                                      "-> #0  loess.fut:442:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:438:3-445:25\n   #4  loess.fut:461:18-55\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                        if (memblock_unref(ctx, &mem_64167, "mem_64167") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_64163, "mem_64163") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_64670,
                                           "ext_mem_64670") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_64678,
                                           "ext_mem_64678") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65317,
                                           "ext_mem_65317") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65325,
                                           "ext_mem_65325") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_65449,
                                           "mem_out_65449") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_62519 = ((int64_t *) mem_64198)[r_62514];
                    int64_t abs_arg_62520 = sub64(x_62519, min_res_62448);
                    int64_t abs_res_62521 = abs64(abs_arg_62520);
                    bool x_62522 = sle64((int64_t) 0, min_res_62512);
                    bool y_62523 = slt64(min_res_62512, n_62364);
                    bool bounds_check_62524 = x_62522 && y_62523;
                    bool index_certs_62525;
                    
                    if (!bounds_check_62524) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) min_res_62512,
                                      "] out of bounds for array of shape [",
                                      (long long) n_62364, "].",
                                      "-> #0  loess.fut:441:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:438:3-445:25\n   #4  loess.fut:461:18-55\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                        if (memblock_unref(ctx, &mem_64167, "mem_64167") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_64163, "mem_64163") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_64670,
                                           "ext_mem_64670") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_64678,
                                           "ext_mem_64678") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65317,
                                           "ext_mem_65317") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65325,
                                           "ext_mem_65325") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_65449,
                                           "mem_out_65449") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_62526 = ((int64_t *) mem_64198)[min_res_62512];
                    int64_t abs_arg_62527 = sub64(x_62526, min_res_62448);
                    int64_t abs_res_62528 = abs64(abs_arg_62527);
                    int64_t max_res_62529 = smax64(abs_res_62521,
                                                   abs_res_62528);
                    float defunc_0_f_res_62530 = sitofp_i64_f32(max_res_62529);
                    float defunc_1_f_res_62531 = max_res_62433 +
                          defunc_0_f_res_62530;
                    float defunc_0_f_res_62532 = sitofp_i64_f32(min_res_62448);
                    float defunc_2_reduce_res_62533;
                    float redout_63763 = 0.0F;
                    
                    for (int64_t i_63764 = 0; i_63764 < q_62366; i_63764++) {
                        float x_62538 = ((float *) mem_64255)[i_63764];
                        bool cond_62539 = sle64(last_res_62413, i_63764);
                        float defunc_0_f_res_62540;
                        
                        if (cond_62539) {
                            defunc_0_f_res_62540 = 0.0F;
                        } else {
                            int64_t i_62541 = add64(min_res_62512, i_63764);
                            float x_62542 = ((float *) mem_64225)[i_62541];
                            float defunc_0_f_res_f_res_62543 = 1.0F + x_62542;
                            
                            defunc_0_f_res_62540 = defunc_0_f_res_f_res_62543;
                        }
                        
                        float x_j_62544 = defunc_0_f_res_62540 -
                              defunc_0_f_res_62532;
                        float abs_res_62545 = (float) fabs(x_j_62544);
                        float tmp1_62546 = abs_res_62545 / defunc_1_f_res_62531;
                        float x_62547 = tmp1_62546 * tmp1_62546;
                        float y_62548 = tmp1_62546 * x_62547;
                        float tmp2_62549 = 1.0F - y_62548;
                        float x_62550 = tmp2_62549 * tmp2_62549;
                        float tmp3_62551 = tmp2_62549 * x_62550;
                        float w_j_62552 = x_62538 * tmp3_62551;
                        float defunc_1_op_res_62536 = w_j_62552 + redout_63763;
                        float redout_tmp_65470 = defunc_1_op_res_62536;
                        
                        redout_63763 = redout_tmp_65470;
                    }
                    defunc_2_reduce_res_62533 = redout_63763;
                    
                    float a0_62553 = 1.0F / defunc_2_reduce_res_62533;
                    float defunc_2_reduce_res_62554;
                    float redout_63765 = 0.0F;
                    
                    for (int64_t i_63766 = 0; i_63766 < q_62366; i_63766++) {
                        float x_62559 = ((float *) mem_64255)[i_63766];
                        bool cond_62560 = sle64(last_res_62413, i_63766);
                        float defunc_0_f_res_62561;
                        
                        if (cond_62560) {
                            defunc_0_f_res_62561 = 0.0F;
                        } else {
                            int64_t i_62562 = add64(min_res_62512, i_63766);
                            float x_62563 = ((float *) mem_64225)[i_62562];
                            float defunc_0_f_res_f_res_62564 = 1.0F + x_62563;
                            
                            defunc_0_f_res_62561 = defunc_0_f_res_f_res_62564;
                        }
                        
                        float x_j_62565 = defunc_0_f_res_62561 -
                              defunc_0_f_res_62532;
                        float abs_res_62566 = (float) fabs(x_j_62565);
                        float tmp1_62567 = abs_res_62566 / defunc_1_f_res_62531;
                        float x_62568 = tmp1_62567 * tmp1_62567;
                        float y_62569 = tmp1_62567 * x_62568;
                        float tmp2_62570 = 1.0F - y_62569;
                        float x_62571 = tmp2_62570 * tmp2_62570;
                        float tmp3_62572 = tmp2_62570 * x_62571;
                        float tmp4_62573 = x_62559 * tmp3_62572;
                        float defunc_0_f_res_62574;
                        
                        if (cond_62560) {
                            defunc_0_f_res_62574 = 0.0F;
                        } else {
                            int64_t i_62575 = add64(min_res_62512, i_63766);
                            float x_62576 = ((float *) mem_64195)[i_62575];
                            
                            defunc_0_f_res_62574 = x_62576;
                        }
                        
                        float x_62577 = a0_62553 * tmp4_62573;
                        float defunc_9_fit_fun_res_62578 =
                              defunc_0_f_res_62574 * x_62577;
                        float defunc_1_op_res_62557 =
                              defunc_9_fit_fun_res_62578 + redout_63765;
                        float redout_tmp_65471 = defunc_1_op_res_62557;
                        
                        redout_63765 = redout_tmp_65471;
                    }
                    defunc_2_reduce_res_62554 = redout_63765;
                    ((float *) mem_64167.mem)[i_63773 * n_m_62372 + i_63769] =
                        defunc_2_reduce_res_62554;
                }
            }
            if (memblock_set(ctx, &ext_mem_64678, &mem_64167, "mem_64167") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_64670, &mem_64163, "mem_64163") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_64167, "mem_64167") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_64163, "mem_64163") != 0)
                return 1;
        } else {
            bool match_lit_62581 = (int64_t) 1 == degree_62367;
            int64_t binop_x_64299 = m_62363 * n_m_62372;
            int64_t binop_y_64300 = (int64_t) 4 * binop_x_64299;
            int64_t bytes_64298 = smax64((int64_t) 0, binop_y_64300);
            int64_t binop_y_64327 = (int64_t) 8 * n_62364;
            int64_t bytes_64326 = smax64((int64_t) 0, binop_y_64327);
            int64_t binop_y_64342 = (int64_t) 4 * n_62364;
            int64_t bytes_64341 = smax64((int64_t) 0, binop_y_64342);
            int64_t binop_y_64402 = (int64_t) 4 * q_62366;
            int64_t bytes_64401 = smax64((int64_t) 0, binop_y_64402);
            int64_t binop_x_64477 = m_62363 * n_m_62372;
            int64_t binop_y_64478 = (int64_t) 4 * binop_x_64477;
            int64_t bytes_64476 = smax64((int64_t) 0, binop_y_64478);
            int64_t binop_y_64505 = (int64_t) 8 * n_62364;
            int64_t bytes_64504 = smax64((int64_t) 0, binop_y_64505);
            int64_t binop_y_64520 = (int64_t) 4 * n_62364;
            int64_t bytes_64519 = smax64((int64_t) 0, binop_y_64520);
            int64_t binop_y_64580 = (int64_t) 4 * q_62366;
            int64_t bytes_64579 = smax64((int64_t) 0, binop_y_64580);
            struct memblock ext_mem_64662;
            
            ext_mem_64662.references = NULL;
            
            struct memblock ext_mem_64654;
            
            ext_mem_64654.references = NULL;
            if (match_lit_62581) {
                struct memblock mem_64301;
                
                mem_64301.references = NULL;
                if (memblock_alloc(ctx, &mem_64301, bytes_64298, "mem_64301")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_64305;
                
                mem_64305.references = NULL;
                if (memblock_alloc(ctx, &mem_64305, bytes_64298, "mem_64305")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_64328_cached_sizze_65614 < (size_t) bytes_64326) {
                    mem_64328 = realloc(mem_64328, bytes_64326);
                    mem_64328_cached_sizze_65614 = bytes_64326;
                }
                if (mem_64343_cached_sizze_65615 < (size_t) bytes_64341) {
                    mem_64343 = realloc(mem_64343, bytes_64341);
                    mem_64343_cached_sizze_65615 = bytes_64341;
                }
                if (mem_64346_cached_sizze_65616 < (size_t) bytes_64326) {
                    mem_64346 = realloc(mem_64346, bytes_64326);
                    mem_64346_cached_sizze_65616 = bytes_64326;
                }
                if (mem_64373_cached_sizze_65617 < (size_t) bytes_64341) {
                    mem_64373 = realloc(mem_64373, bytes_64341);
                    mem_64373_cached_sizze_65617 = bytes_64341;
                }
                if (mem_64376_cached_sizze_65618 < (size_t) bytes_64326) {
                    mem_64376 = realloc(mem_64376, bytes_64326);
                    mem_64376_cached_sizze_65618 = bytes_64326;
                }
                if (mem_64403_cached_sizze_65619 < (size_t) bytes_64401) {
                    mem_64403 = realloc(mem_64403, bytes_64401);
                    mem_64403_cached_sizze_65619 = bytes_64401;
                }
                for (int64_t i_63818 = 0; i_63818 < m_62363; i_63818++) {
                    int64_t discard_63780;
                    int64_t scanacc_63776 = (int64_t) 0;
                    
                    for (int64_t i_63778 = 0; i_63778 < n_62364; i_63778++) {
                        float x_62592 = ((float *) Y_mem_64159.mem)[i_63818 *
                                                                    n_62364 +
                                                                    i_63778];
                        bool isnan_res_62593;
                        
                        isnan_res_62593 = futrts_isnan32(x_62592);
                        
                        bool defunc_0_p_res_62594 = !isnan_res_62593;
                        int64_t defunc_0_f_res_62595 =
                                btoi_bool_i64(defunc_0_p_res_62594);
                        int64_t defunc_1_op_res_62591 =
                                add64(defunc_0_f_res_62595, scanacc_63776);
                        
                        ((int64_t *) mem_64328)[i_63778] =
                            defunc_1_op_res_62591;
                        
                        int64_t scanacc_tmp_65474 = defunc_1_op_res_62591;
                        
                        scanacc_63776 = scanacc_tmp_65474;
                    }
                    discard_63780 = scanacc_63776;
                    
                    int64_t last_res_62596 = ((int64_t *) mem_64328)[i_62378];
                    
                    for (int64_t i_65476 = 0; i_65476 < n_62364; i_65476++) {
                        ((float *) mem_64343)[i_65476] = 0.0F;
                    }
                    for (int64_t i_65477 = 0; i_65477 < n_62364; i_65477++) {
                        ((int64_t *) mem_64346)[i_65477] = (int64_t) -1;
                    }
                    for (int64_t write_iter_63781 = 0; write_iter_63781 <
                         n_62364; write_iter_63781++) {
                        float write_iv_63784 =
                              ((float *) Y_mem_64159.mem)[i_63818 * n_62364 +
                                                          write_iter_63781];
                        int64_t write_iv_63785 =
                                ((int64_t *) mem_64328)[write_iter_63781];
                        bool isnan_res_62604;
                        
                        isnan_res_62604 = futrts_isnan32(write_iv_63784);
                        
                        bool defunc_0_p_res_62605 = !isnan_res_62604;
                        int64_t defunc_1_f_res_62606;
                        
                        if (defunc_0_p_res_62605) {
                            int64_t defunc_1_f_res_t_res_62607 =
                                    sub64(write_iv_63785, (int64_t) 1);
                            
                            defunc_1_f_res_62606 = defunc_1_f_res_t_res_62607;
                        } else {
                            defunc_1_f_res_62606 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_62606) &&
                            slt64(defunc_1_f_res_62606, n_62364)) {
                            ((int64_t *) mem_64346)[defunc_1_f_res_62606] =
                                write_iter_63781;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_62606) &&
                            slt64(defunc_1_f_res_62606, n_62364)) {
                            memmove(mem_64343 + defunc_1_f_res_62606 *
                                    (int64_t) 4, Y_mem_64159.mem + (i_63818 *
                                                                    n_62364 +
                                                                    write_iter_63781) *
                                    (int64_t) 4, (int64_t) 4);
                        }
                    }
                    
                    int64_t min_arg_62611 = sub64(last_res_62596, (int64_t) 1);
                    int64_t min_arg_62612 = sub64(last_res_62596,
                                                  min_res_62384);
                    float i64_res_62613 = sitofp_i64_f32(last_res_62596);
                    float x_62614 = i64_res_62390 - i64_res_62613;
                    float max_arg_62615 = x_62614 / 2.0F;
                    float max_res_62616 = fmax32(0.0F, max_arg_62615);
                    
                    for (int64_t i_63793 = 0; i_63793 < n_62364; i_63793++) {
                        int64_t x_62619 = ((int64_t *) mem_64346)[i_63793];
                        int64_t defunc_0_f_res_62620 = add64((int64_t) 1,
                                                             x_62619);
                        float defunc_0_f_res_62621 = sitofp_i64_f32(x_62619);
                        
                        ((float *) mem_64373)[i_63793] = defunc_0_f_res_62621;
                        ((int64_t *) mem_64376)[i_63793] = defunc_0_f_res_62620;
                    }
                    for (int64_t i_63798 = 0; i_63798 < q_62366; i_63798++) {
                        bool cond_62626 = sle64(last_res_62596, i_63798);
                        float defunc_0_f_res_62627;
                        
                        if (cond_62626) {
                            defunc_0_f_res_62627 = 0.0F;
                        } else {
                            defunc_0_f_res_62627 = 1.0F;
                        }
                        ((float *) mem_64403)[i_63798] = defunc_0_f_res_62627;
                    }
                    for (int64_t i_63811 = 0; i_63811 < n_m_62372; i_63811++) {
                        int64_t min_arg_62631 = mul64(jump_62368, i_63811);
                        int64_t min_res_62632 = smin64(i_62378, min_arg_62631);
                        int64_t defunc_0_g_res_62633 = add64((int64_t) 1,
                                                             min_res_62632);
                        bool init_idx_62634;
                        int64_t init_idx_62635;
                        int64_t init_idx_62636;
                        bool loop_while_62637;
                        int64_t low_62638;
                        int64_t high_62639;
                        
                        loop_while_62637 = x_62379;
                        low_62638 = (int64_t) 0;
                        high_62639 = i_62378;
                        while (loop_while_62637) {
                            int64_t x_62640 = add64(low_62638, high_62639);
                            int64_t mid_62641 = sdiv64(x_62640, (int64_t) 2);
                            bool x_62642 = sle64((int64_t) 0, mid_62641);
                            bool y_62643 = slt64(mid_62641, n_62364);
                            bool bounds_check_62644 = x_62642 && y_62643;
                            bool index_certs_62645;
                            
                            if (!bounds_check_62644) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_62641,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62364, "].",
                                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                                if (memblock_unref(ctx, &mem_64305,
                                                   "mem_64305") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64301,
                                                   "mem_64301") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64654,
                                                   "ext_mem_64654") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64662,
                                                   "ext_mem_64662") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64670,
                                                   "ext_mem_64670") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64678,
                                                   "ext_mem_64678") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65317,
                                                   "ext_mem_65317") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65325,
                                                   "ext_mem_65325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65449,
                                                   "mem_out_65449") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_62646 =
                                    ((int64_t *) mem_64376)[mid_62641];
                            bool cond_62647 = slt64(mid_id_62646, (int64_t) 0);
                            int64_t mid_idx_62648;
                            
                            if (cond_62647) {
                                mid_idx_62648 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_62648 = mid_id_62646;
                            }
                            
                            bool cond_62649 = sle64(defunc_0_g_res_62633,
                                                    mid_idx_62648);
                            int64_t loopres_62650;
                            int64_t loopres_62651;
                            
                            if (cond_62649) {
                                int64_t loopres_t_res_62652 = sub64(mid_62641,
                                                                    (int64_t) 1);
                                
                                loopres_62650 = low_62638;
                                loopres_62651 = loopres_t_res_62652;
                            } else {
                                int64_t loopres_f_res_62653 = add64((int64_t) 1,
                                                                    mid_62641);
                                
                                loopres_62650 = loopres_f_res_62653;
                                loopres_62651 = high_62639;
                            }
                            
                            bool loop_cond_62654 = sle64(loopres_62650,
                                                         loopres_62651);
                            bool loop_while_tmp_65485 = loop_cond_62654;
                            int64_t low_tmp_65486 = loopres_62650;
                            int64_t high_tmp_65487 = loopres_62651;
                            
                            loop_while_62637 = loop_while_tmp_65485;
                            low_62638 = low_tmp_65486;
                            high_62639 = high_tmp_65487;
                        }
                        init_idx_62634 = loop_while_62637;
                        init_idx_62635 = low_62638;
                        init_idx_62636 = high_62639;
                        
                        bool idx_62655;
                        int64_t idx_62656;
                        int64_t idx_62657;
                        int64_t idx_62658;
                        bool loop_while_62659;
                        int64_t l_idx_62660;
                        int64_t r_idx_62661;
                        int64_t span_62662;
                        
                        loop_while_62659 = loop_cond_62389;
                        l_idx_62660 = init_idx_62635;
                        r_idx_62661 = init_idx_62635;
                        span_62662 = (int64_t) 1;
                        while (loop_while_62659) {
                            int64_t max_arg_62663 = sub64(l_idx_62660,
                                                          (int64_t) 1);
                            int64_t max_res_62664 = smax64((int64_t) 0,
                                                           max_arg_62663);
                            int64_t min_arg_62665 = add64((int64_t) 1,
                                                          r_idx_62661);
                            int64_t min_res_62666 = smin64(min_arg_62611,
                                                           min_arg_62665);
                            bool x_62667 = sle64((int64_t) 0, max_res_62664);
                            bool y_62668 = slt64(max_res_62664, n_62364);
                            bool bounds_check_62669 = x_62667 && y_62668;
                            bool index_certs_62670;
                            
                            if (!bounds_check_62669) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_62664,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62364, "].",
                                              "-> #0  loess.fut:363:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                                if (memblock_unref(ctx, &mem_64305,
                                                   "mem_64305") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64301,
                                                   "mem_64301") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64654,
                                                   "ext_mem_64654") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64662,
                                                   "ext_mem_64662") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64670,
                                                   "ext_mem_64670") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64678,
                                                   "ext_mem_64678") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65317,
                                                   "ext_mem_65317") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65325,
                                                   "ext_mem_65325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65449,
                                                   "mem_out_65449") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_62671 =
                                    ((int64_t *) mem_64376)[max_res_62664];
                            int64_t abs_arg_62672 = sub64(x_62671,
                                                          defunc_0_g_res_62633);
                            int64_t abs_res_62673 = abs64(abs_arg_62672);
                            bool x_62674 = sle64((int64_t) 0, min_res_62666);
                            bool y_62675 = slt64(min_res_62666, n_62364);
                            bool bounds_check_62676 = x_62674 && y_62675;
                            bool index_certs_62677;
                            
                            if (!bounds_check_62676) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_62666,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62364, "].",
                                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                                if (memblock_unref(ctx, &mem_64305,
                                                   "mem_64305") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64301,
                                                   "mem_64301") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64654,
                                                   "ext_mem_64654") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64662,
                                                   "ext_mem_64662") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64670,
                                                   "ext_mem_64670") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64678,
                                                   "ext_mem_64678") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65317,
                                                   "ext_mem_65317") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65325,
                                                   "ext_mem_65325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65449,
                                                   "mem_out_65449") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_62678 =
                                    ((int64_t *) mem_64376)[min_res_62666];
                            int64_t abs_arg_62679 = sub64(x_62678,
                                                          defunc_0_g_res_62633);
                            int64_t abs_res_62680 = abs64(abs_arg_62679);
                            bool cond_62681 = max_res_62664 == l_idx_62660;
                            int64_t loopres_62682;
                            int64_t loopres_62683;
                            int64_t loopres_62684;
                            
                            if (cond_62681) {
                                loopres_62682 = l_idx_62660;
                                loopres_62683 = r_idx_62661;
                                loopres_62684 = min_res_62384;
                            } else {
                                bool cond_62685 = slt64(abs_res_62673,
                                                        abs_res_62680);
                                bool cond_f_res_62686 = min_res_62666 ==
                                     r_idx_62661;
                                bool x_62687 = !cond_62685;
                                bool y_62688 = cond_f_res_62686 && x_62687;
                                bool cond_62689 = cond_62685 || y_62688;
                                int64_t loopres_f_res_62690;
                                
                                if (cond_62689) {
                                    loopres_f_res_62690 = max_res_62664;
                                } else {
                                    loopres_f_res_62690 = l_idx_62660;
                                }
                                
                                int64_t loopres_f_res_62691;
                                
                                if (cond_62689) {
                                    loopres_f_res_62691 = r_idx_62661;
                                } else {
                                    loopres_f_res_62691 = min_res_62666;
                                }
                                
                                int64_t loopres_f_res_62692;
                                
                                if (cond_62689) {
                                    int64_t loopres_f_res_t_res_62693 =
                                            add64((int64_t) 1, span_62662);
                                    
                                    loopres_f_res_62692 =
                                        loopres_f_res_t_res_62693;
                                } else {
                                    int64_t loopres_f_res_f_res_62694 =
                                            add64((int64_t) 1, span_62662);
                                    
                                    loopres_f_res_62692 =
                                        loopres_f_res_f_res_62694;
                                }
                                loopres_62682 = loopres_f_res_62690;
                                loopres_62683 = loopres_f_res_62691;
                                loopres_62684 = loopres_f_res_62692;
                            }
                            
                            bool loop_cond_62695 = slt64(loopres_62684,
                                                         min_res_62384);
                            bool loop_while_tmp_65488 = loop_cond_62695;
                            int64_t l_idx_tmp_65489 = loopres_62682;
                            int64_t r_idx_tmp_65490 = loopres_62683;
                            int64_t span_tmp_65491 = loopres_62684;
                            
                            loop_while_62659 = loop_while_tmp_65488;
                            l_idx_62660 = l_idx_tmp_65489;
                            r_idx_62661 = r_idx_tmp_65490;
                            span_62662 = span_tmp_65491;
                        }
                        idx_62655 = loop_while_62659;
                        idx_62656 = l_idx_62660;
                        idx_62657 = r_idx_62661;
                        idx_62658 = span_62662;
                        
                        int64_t min_res_62696 = smin64(min_arg_62612,
                                                       idx_62656);
                        int64_t x_62697 = add64(min_res_62384, min_res_62696);
                        int64_t r_62698 = sub64(x_62697, (int64_t) 1);
                        bool x_62699 = sle64((int64_t) 0, r_62698);
                        bool y_62700 = slt64(r_62698, n_62364);
                        bool bounds_check_62701 = x_62699 && y_62700;
                        bool index_certs_62702;
                        
                        if (!bounds_check_62701) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_62698,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:442:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:438:3-445:25\n   #4  loess.fut:461:18-55\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_64305, "mem_64305") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64301, "mem_64301") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64654,
                                               "ext_mem_64654") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64662,
                                               "ext_mem_64662") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64670,
                                               "ext_mem_64670") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64678,
                                               "ext_mem_64678") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_62703 = ((int64_t *) mem_64346)[r_62698];
                        int64_t abs_arg_62704 = sub64(x_62703, min_res_62632);
                        int64_t abs_res_62705 = abs64(abs_arg_62704);
                        bool x_62706 = sle64((int64_t) 0, min_res_62696);
                        bool y_62707 = slt64(min_res_62696, n_62364);
                        bool bounds_check_62708 = x_62706 && y_62707;
                        bool index_certs_62709;
                        
                        if (!bounds_check_62708) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) min_res_62696,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:441:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:438:3-445:25\n   #4  loess.fut:461:18-55\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_64305, "mem_64305") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64301, "mem_64301") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64654,
                                               "ext_mem_64654") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64662,
                                               "ext_mem_64662") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64670,
                                               "ext_mem_64670") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64678,
                                               "ext_mem_64678") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_62710 =
                                ((int64_t *) mem_64346)[min_res_62696];
                        int64_t abs_arg_62711 = sub64(x_62710, min_res_62632);
                        int64_t abs_res_62712 = abs64(abs_arg_62711);
                        int64_t max_res_62713 = smax64(abs_res_62705,
                                                       abs_res_62712);
                        float defunc_0_f_res_62714 =
                              sitofp_i64_f32(max_res_62713);
                        float defunc_1_f_res_62715 = max_res_62616 +
                              defunc_0_f_res_62714;
                        float defunc_0_f_res_62716 =
                              sitofp_i64_f32(min_res_62632);
                        float defunc_2_reduce_res_62717;
                        float defunc_2_reduce_res_62718;
                        float defunc_2_reduce_res_62719;
                        float redout_63800;
                        float redout_63801;
                        float redout_63802;
                        
                        redout_63800 = 0.0F;
                        redout_63801 = 0.0F;
                        redout_63802 = 0.0F;
                        for (int64_t i_63803 = 0; i_63803 < q_62366;
                             i_63803++) {
                            float x_62730 = ((float *) mem_64403)[i_63803];
                            bool cond_62731 = sle64(last_res_62596, i_63803);
                            float defunc_0_f_res_62732;
                            
                            if (cond_62731) {
                                defunc_0_f_res_62732 = 0.0F;
                            } else {
                                int64_t i_62733 = add64(min_res_62696, i_63803);
                                float x_62734 = ((float *) mem_64373)[i_62733];
                                float defunc_0_f_res_f_res_62735 = 1.0F +
                                      x_62734;
                                
                                defunc_0_f_res_62732 =
                                    defunc_0_f_res_f_res_62735;
                            }
                            
                            float x_j_62736 = defunc_0_f_res_62732 -
                                  defunc_0_f_res_62716;
                            float abs_res_62737 = (float) fabs(x_j_62736);
                            float tmp1_62738 = abs_res_62737 /
                                  defunc_1_f_res_62715;
                            float x_62739 = tmp1_62738 * tmp1_62738;
                            float y_62740 = tmp1_62738 * x_62739;
                            float tmp2_62741 = 1.0F - y_62740;
                            float x_62742 = tmp2_62741 * tmp2_62741;
                            float tmp3_62743 = tmp2_62741 * x_62742;
                            float w_j_62744 = x_62730 * tmp3_62743;
                            float xw_j_62745 = x_j_62736 * w_j_62744;
                            float x2w_j_62746 = x_j_62736 * xw_j_62745;
                            float defunc_1_op_res_62722 = w_j_62744 +
                                  redout_63800;
                            float defunc_1_op_res_62725 = xw_j_62745 +
                                  redout_63801;
                            float defunc_1_op_res_62728 = x2w_j_62746 +
                                  redout_63802;
                            float redout_tmp_65492 = defunc_1_op_res_62722;
                            float redout_tmp_65493 = defunc_1_op_res_62725;
                            float redout_tmp_65494 = defunc_1_op_res_62728;
                            
                            redout_63800 = redout_tmp_65492;
                            redout_63801 = redout_tmp_65493;
                            redout_63802 = redout_tmp_65494;
                        }
                        defunc_2_reduce_res_62717 = redout_63800;
                        defunc_2_reduce_res_62718 = redout_63801;
                        defunc_2_reduce_res_62719 = redout_63802;
                        
                        float x_62747 = defunc_2_reduce_res_62717 *
                              defunc_2_reduce_res_62719;
                        float y_62748 = defunc_2_reduce_res_62718 *
                              defunc_2_reduce_res_62718;
                        float y_62749 = x_62747 - y_62748;
                        float det1_62750 = 1.0F / y_62749;
                        float a11_62751 = defunc_2_reduce_res_62719 *
                              det1_62750;
                        float negate_arg_62752 = defunc_2_reduce_res_62718 *
                              det1_62750;
                        float b11_62753 = 0.0F - negate_arg_62752;
                        float c11_62754 = defunc_2_reduce_res_62717 *
                              det1_62750;
                        float defunc_2_reduce_res_62755;
                        float defunc_2_reduce_res_62756;
                        float redout_63804;
                        float redout_63805;
                        
                        redout_63804 = 0.0F;
                        redout_63805 = 0.0F;
                        for (int64_t i_63806 = 0; i_63806 < q_62366;
                             i_63806++) {
                            float x_62764 = ((float *) mem_64403)[i_63806];
                            bool cond_62765 = sle64(last_res_62596, i_63806);
                            float defunc_0_f_res_62766;
                            
                            if (cond_62765) {
                                defunc_0_f_res_62766 = 0.0F;
                            } else {
                                int64_t i_62767 = add64(min_res_62696, i_63806);
                                float x_62768 = ((float *) mem_64373)[i_62767];
                                float defunc_0_f_res_f_res_62769 = 1.0F +
                                      x_62768;
                                
                                defunc_0_f_res_62766 =
                                    defunc_0_f_res_f_res_62769;
                            }
                            
                            float x_j_62770 = defunc_0_f_res_62766 -
                                  defunc_0_f_res_62716;
                            float abs_res_62771 = (float) fabs(x_j_62770);
                            float tmp1_62772 = abs_res_62771 /
                                  defunc_1_f_res_62715;
                            float x_62773 = tmp1_62772 * tmp1_62772;
                            float y_62774 = tmp1_62772 * x_62773;
                            float tmp2_62775 = 1.0F - y_62774;
                            float x_62776 = tmp2_62775 * tmp2_62775;
                            float tmp3_62777 = tmp2_62775 * x_62776;
                            float tmp4_62778 = x_62764 * tmp3_62777;
                            float defunc_1_f_res_62779 = x_j_62770 * tmp4_62778;
                            float defunc_0_f_res_62780;
                            
                            if (cond_62765) {
                                defunc_0_f_res_62780 = 0.0F;
                            } else {
                                int64_t i_62781 = add64(min_res_62696, i_63806);
                                float x_62782 = ((float *) mem_64343)[i_62781];
                                
                                defunc_0_f_res_62780 = x_62782;
                            }
                            
                            float x_62783 = a11_62751 * tmp4_62778;
                            float y_62784 = b11_62753 * defunc_1_f_res_62779;
                            float x_62785 = x_62783 + y_62784;
                            float defunc_9_fit_fun_res_62786 =
                                  defunc_0_f_res_62780 * x_62785;
                            float x_62787 = b11_62753 * tmp4_62778;
                            float y_62788 = c11_62754 * defunc_1_f_res_62779;
                            float x_62789 = x_62787 + y_62788;
                            float defunc_9_slope_fun_res_62790 =
                                  defunc_0_f_res_62780 * x_62789;
                            float defunc_1_op_res_62759 =
                                  defunc_9_fit_fun_res_62786 + redout_63804;
                            float defunc_1_op_res_62762 =
                                  defunc_9_slope_fun_res_62790 + redout_63805;
                            float redout_tmp_65495 = defunc_1_op_res_62759;
                            float redout_tmp_65496 = defunc_1_op_res_62762;
                            
                            redout_63804 = redout_tmp_65495;
                            redout_63805 = redout_tmp_65496;
                        }
                        defunc_2_reduce_res_62755 = redout_63804;
                        defunc_2_reduce_res_62756 = redout_63805;
                        ((float *) mem_64301.mem)[i_63818 * n_m_62372 +
                                                  i_63811] =
                            defunc_2_reduce_res_62755;
                        ((float *) mem_64305.mem)[i_63818 * n_m_62372 +
                                                  i_63811] =
                            defunc_2_reduce_res_62756;
                    }
                }
                if (memblock_set(ctx, &ext_mem_64662, &mem_64301,
                                 "mem_64301") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_64654, &mem_64305,
                                 "mem_64305") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64305, "mem_64305") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64301, "mem_64301") != 0)
                    return 1;
            } else {
                struct memblock mem_64479;
                
                mem_64479.references = NULL;
                if (memblock_alloc(ctx, &mem_64479, bytes_64476, "mem_64479")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_64483;
                
                mem_64483.references = NULL;
                if (memblock_alloc(ctx, &mem_64483, bytes_64476, "mem_64483")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_64506_cached_sizze_65620 < (size_t) bytes_64504) {
                    mem_64506 = realloc(mem_64506, bytes_64504);
                    mem_64506_cached_sizze_65620 = bytes_64504;
                }
                if (mem_64521_cached_sizze_65621 < (size_t) bytes_64519) {
                    mem_64521 = realloc(mem_64521, bytes_64519);
                    mem_64521_cached_sizze_65621 = bytes_64519;
                }
                if (mem_64524_cached_sizze_65622 < (size_t) bytes_64504) {
                    mem_64524 = realloc(mem_64524, bytes_64504);
                    mem_64524_cached_sizze_65622 = bytes_64504;
                }
                if (mem_64551_cached_sizze_65623 < (size_t) bytes_64519) {
                    mem_64551 = realloc(mem_64551, bytes_64519);
                    mem_64551_cached_sizze_65623 = bytes_64519;
                }
                if (mem_64554_cached_sizze_65624 < (size_t) bytes_64504) {
                    mem_64554 = realloc(mem_64554, bytes_64504);
                    mem_64554_cached_sizze_65624 = bytes_64504;
                }
                if (mem_64581_cached_sizze_65625 < (size_t) bytes_64579) {
                    mem_64581 = realloc(mem_64581, bytes_64579);
                    mem_64581_cached_sizze_65625 = bytes_64579;
                }
                for (int64_t i_63866 = 0; i_63866 < m_62363; i_63866++) {
                    int64_t discard_63826;
                    int64_t scanacc_63822 = (int64_t) 0;
                    
                    for (int64_t i_63824 = 0; i_63824 < n_62364; i_63824++) {
                        float x_62801 = ((float *) Y_mem_64159.mem)[i_63866 *
                                                                    n_62364 +
                                                                    i_63824];
                        bool isnan_res_62802;
                        
                        isnan_res_62802 = futrts_isnan32(x_62801);
                        
                        bool defunc_0_p_res_62803 = !isnan_res_62802;
                        int64_t defunc_0_f_res_62804 =
                                btoi_bool_i64(defunc_0_p_res_62803);
                        int64_t defunc_1_op_res_62800 =
                                add64(defunc_0_f_res_62804, scanacc_63822);
                        
                        ((int64_t *) mem_64506)[i_63824] =
                            defunc_1_op_res_62800;
                        
                        int64_t scanacc_tmp_65499 = defunc_1_op_res_62800;
                        
                        scanacc_63822 = scanacc_tmp_65499;
                    }
                    discard_63826 = scanacc_63822;
                    
                    int64_t last_res_62805 = ((int64_t *) mem_64506)[i_62378];
                    
                    for (int64_t i_65501 = 0; i_65501 < n_62364; i_65501++) {
                        ((float *) mem_64521)[i_65501] = 0.0F;
                    }
                    for (int64_t i_65502 = 0; i_65502 < n_62364; i_65502++) {
                        ((int64_t *) mem_64524)[i_65502] = (int64_t) -1;
                    }
                    for (int64_t write_iter_63827 = 0; write_iter_63827 <
                         n_62364; write_iter_63827++) {
                        float write_iv_63830 =
                              ((float *) Y_mem_64159.mem)[i_63866 * n_62364 +
                                                          write_iter_63827];
                        int64_t write_iv_63831 =
                                ((int64_t *) mem_64506)[write_iter_63827];
                        bool isnan_res_62813;
                        
                        isnan_res_62813 = futrts_isnan32(write_iv_63830);
                        
                        bool defunc_0_p_res_62814 = !isnan_res_62813;
                        int64_t defunc_1_f_res_62815;
                        
                        if (defunc_0_p_res_62814) {
                            int64_t defunc_1_f_res_t_res_62816 =
                                    sub64(write_iv_63831, (int64_t) 1);
                            
                            defunc_1_f_res_62815 = defunc_1_f_res_t_res_62816;
                        } else {
                            defunc_1_f_res_62815 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_62815) &&
                            slt64(defunc_1_f_res_62815, n_62364)) {
                            ((int64_t *) mem_64524)[defunc_1_f_res_62815] =
                                write_iter_63827;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_62815) &&
                            slt64(defunc_1_f_res_62815, n_62364)) {
                            memmove(mem_64521 + defunc_1_f_res_62815 *
                                    (int64_t) 4, Y_mem_64159.mem + (i_63866 *
                                                                    n_62364 +
                                                                    write_iter_63827) *
                                    (int64_t) 4, (int64_t) 4);
                        }
                    }
                    
                    int64_t min_arg_62820 = sub64(last_res_62805, (int64_t) 1);
                    int64_t min_arg_62821 = sub64(last_res_62805,
                                                  min_res_62384);
                    float i64_res_62822 = sitofp_i64_f32(last_res_62805);
                    float x_62823 = i64_res_62390 - i64_res_62822;
                    float max_arg_62824 = x_62823 / 2.0F;
                    float max_res_62825 = fmax32(0.0F, max_arg_62824);
                    
                    for (int64_t i_63839 = 0; i_63839 < n_62364; i_63839++) {
                        int64_t x_62828 = ((int64_t *) mem_64524)[i_63839];
                        int64_t defunc_0_f_res_62829 = add64((int64_t) 1,
                                                             x_62828);
                        float defunc_0_f_res_62830 = sitofp_i64_f32(x_62828);
                        
                        ((float *) mem_64551)[i_63839] = defunc_0_f_res_62830;
                        ((int64_t *) mem_64554)[i_63839] = defunc_0_f_res_62829;
                    }
                    for (int64_t i_63844 = 0; i_63844 < q_62366; i_63844++) {
                        bool cond_62835 = sle64(last_res_62805, i_63844);
                        float defunc_0_f_res_62836;
                        
                        if (cond_62835) {
                            defunc_0_f_res_62836 = 0.0F;
                        } else {
                            defunc_0_f_res_62836 = 1.0F;
                        }
                        ((float *) mem_64581)[i_63844] = defunc_0_f_res_62836;
                    }
                    for (int64_t i_63859 = 0; i_63859 < n_m_62372; i_63859++) {
                        int64_t min_arg_62840 = mul64(jump_62368, i_63859);
                        int64_t min_res_62841 = smin64(i_62378, min_arg_62840);
                        int64_t defunc_0_g_res_62842 = add64((int64_t) 1,
                                                             min_res_62841);
                        bool init_idx_62843;
                        int64_t init_idx_62844;
                        int64_t init_idx_62845;
                        bool loop_while_62846;
                        int64_t low_62847;
                        int64_t high_62848;
                        
                        loop_while_62846 = x_62379;
                        low_62847 = (int64_t) 0;
                        high_62848 = i_62378;
                        while (loop_while_62846) {
                            int64_t x_62849 = add64(low_62847, high_62848);
                            int64_t mid_62850 = sdiv64(x_62849, (int64_t) 2);
                            bool x_62851 = sle64((int64_t) 0, mid_62850);
                            bool y_62852 = slt64(mid_62850, n_62364);
                            bool bounds_check_62853 = x_62851 && y_62852;
                            bool index_certs_62854;
                            
                            if (!bounds_check_62853) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_62850,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62364, "].",
                                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                                if (memblock_unref(ctx, &mem_64483,
                                                   "mem_64483") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64479,
                                                   "mem_64479") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64654,
                                                   "ext_mem_64654") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64662,
                                                   "ext_mem_64662") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64670,
                                                   "ext_mem_64670") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64678,
                                                   "ext_mem_64678") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65317,
                                                   "ext_mem_65317") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65325,
                                                   "ext_mem_65325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65449,
                                                   "mem_out_65449") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_62855 =
                                    ((int64_t *) mem_64554)[mid_62850];
                            bool cond_62856 = slt64(mid_id_62855, (int64_t) 0);
                            int64_t mid_idx_62857;
                            
                            if (cond_62856) {
                                mid_idx_62857 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_62857 = mid_id_62855;
                            }
                            
                            bool cond_62858 = sle64(defunc_0_g_res_62842,
                                                    mid_idx_62857);
                            int64_t loopres_62859;
                            int64_t loopres_62860;
                            
                            if (cond_62858) {
                                int64_t loopres_t_res_62861 = sub64(mid_62850,
                                                                    (int64_t) 1);
                                
                                loopres_62859 = low_62847;
                                loopres_62860 = loopres_t_res_62861;
                            } else {
                                int64_t loopres_f_res_62862 = add64((int64_t) 1,
                                                                    mid_62850);
                                
                                loopres_62859 = loopres_f_res_62862;
                                loopres_62860 = high_62848;
                            }
                            
                            bool loop_cond_62863 = sle64(loopres_62859,
                                                         loopres_62860);
                            bool loop_while_tmp_65510 = loop_cond_62863;
                            int64_t low_tmp_65511 = loopres_62859;
                            int64_t high_tmp_65512 = loopres_62860;
                            
                            loop_while_62846 = loop_while_tmp_65510;
                            low_62847 = low_tmp_65511;
                            high_62848 = high_tmp_65512;
                        }
                        init_idx_62843 = loop_while_62846;
                        init_idx_62844 = low_62847;
                        init_idx_62845 = high_62848;
                        
                        bool idx_62864;
                        int64_t idx_62865;
                        int64_t idx_62866;
                        int64_t idx_62867;
                        bool loop_while_62868;
                        int64_t l_idx_62869;
                        int64_t r_idx_62870;
                        int64_t span_62871;
                        
                        loop_while_62868 = loop_cond_62389;
                        l_idx_62869 = init_idx_62844;
                        r_idx_62870 = init_idx_62844;
                        span_62871 = (int64_t) 1;
                        while (loop_while_62868) {
                            int64_t max_arg_62872 = sub64(l_idx_62869,
                                                          (int64_t) 1);
                            int64_t max_res_62873 = smax64((int64_t) 0,
                                                           max_arg_62872);
                            int64_t min_arg_62874 = add64((int64_t) 1,
                                                          r_idx_62870);
                            int64_t min_res_62875 = smin64(min_arg_62820,
                                                           min_arg_62874);
                            bool x_62876 = sle64((int64_t) 0, max_res_62873);
                            bool y_62877 = slt64(max_res_62873, n_62364);
                            bool bounds_check_62878 = x_62876 && y_62877;
                            bool index_certs_62879;
                            
                            if (!bounds_check_62878) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_62873,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62364, "].",
                                              "-> #0  loess.fut:363:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                                if (memblock_unref(ctx, &mem_64483,
                                                   "mem_64483") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64479,
                                                   "mem_64479") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64654,
                                                   "ext_mem_64654") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64662,
                                                   "ext_mem_64662") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64670,
                                                   "ext_mem_64670") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64678,
                                                   "ext_mem_64678") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65317,
                                                   "ext_mem_65317") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65325,
                                                   "ext_mem_65325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65449,
                                                   "mem_out_65449") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_62880 =
                                    ((int64_t *) mem_64554)[max_res_62873];
                            int64_t abs_arg_62881 = sub64(x_62880,
                                                          defunc_0_g_res_62842);
                            int64_t abs_res_62882 = abs64(abs_arg_62881);
                            bool x_62883 = sle64((int64_t) 0, min_res_62875);
                            bool y_62884 = slt64(min_res_62875, n_62364);
                            bool bounds_check_62885 = x_62883 && y_62884;
                            bool index_certs_62886;
                            
                            if (!bounds_check_62885) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_62875,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62364, "].",
                                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                                if (memblock_unref(ctx, &mem_64483,
                                                   "mem_64483") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64479,
                                                   "mem_64479") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64654,
                                                   "ext_mem_64654") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64662,
                                                   "ext_mem_64662") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64670,
                                                   "ext_mem_64670") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_64678,
                                                   "ext_mem_64678") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65317,
                                                   "ext_mem_65317") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65325,
                                                   "ext_mem_65325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65449,
                                                   "mem_out_65449") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_62887 =
                                    ((int64_t *) mem_64554)[min_res_62875];
                            int64_t abs_arg_62888 = sub64(x_62887,
                                                          defunc_0_g_res_62842);
                            int64_t abs_res_62889 = abs64(abs_arg_62888);
                            bool cond_62890 = max_res_62873 == l_idx_62869;
                            int64_t loopres_62891;
                            int64_t loopres_62892;
                            int64_t loopres_62893;
                            
                            if (cond_62890) {
                                loopres_62891 = l_idx_62869;
                                loopres_62892 = r_idx_62870;
                                loopres_62893 = min_res_62384;
                            } else {
                                bool cond_62894 = slt64(abs_res_62882,
                                                        abs_res_62889);
                                bool cond_f_res_62895 = min_res_62875 ==
                                     r_idx_62870;
                                bool x_62896 = !cond_62894;
                                bool y_62897 = cond_f_res_62895 && x_62896;
                                bool cond_62898 = cond_62894 || y_62897;
                                int64_t loopres_f_res_62899;
                                
                                if (cond_62898) {
                                    loopres_f_res_62899 = max_res_62873;
                                } else {
                                    loopres_f_res_62899 = l_idx_62869;
                                }
                                
                                int64_t loopres_f_res_62900;
                                
                                if (cond_62898) {
                                    loopres_f_res_62900 = r_idx_62870;
                                } else {
                                    loopres_f_res_62900 = min_res_62875;
                                }
                                
                                int64_t loopres_f_res_62901;
                                
                                if (cond_62898) {
                                    int64_t loopres_f_res_t_res_62902 =
                                            add64((int64_t) 1, span_62871);
                                    
                                    loopres_f_res_62901 =
                                        loopres_f_res_t_res_62902;
                                } else {
                                    int64_t loopres_f_res_f_res_62903 =
                                            add64((int64_t) 1, span_62871);
                                    
                                    loopres_f_res_62901 =
                                        loopres_f_res_f_res_62903;
                                }
                                loopres_62891 = loopres_f_res_62899;
                                loopres_62892 = loopres_f_res_62900;
                                loopres_62893 = loopres_f_res_62901;
                            }
                            
                            bool loop_cond_62904 = slt64(loopres_62893,
                                                         min_res_62384);
                            bool loop_while_tmp_65513 = loop_cond_62904;
                            int64_t l_idx_tmp_65514 = loopres_62891;
                            int64_t r_idx_tmp_65515 = loopres_62892;
                            int64_t span_tmp_65516 = loopres_62893;
                            
                            loop_while_62868 = loop_while_tmp_65513;
                            l_idx_62869 = l_idx_tmp_65514;
                            r_idx_62870 = r_idx_tmp_65515;
                            span_62871 = span_tmp_65516;
                        }
                        idx_62864 = loop_while_62868;
                        idx_62865 = l_idx_62869;
                        idx_62866 = r_idx_62870;
                        idx_62867 = span_62871;
                        
                        int64_t min_res_62905 = smin64(min_arg_62821,
                                                       idx_62865);
                        int64_t x_62906 = add64(min_res_62384, min_res_62905);
                        int64_t r_62907 = sub64(x_62906, (int64_t) 1);
                        bool x_62908 = sle64((int64_t) 0, r_62907);
                        bool y_62909 = slt64(r_62907, n_62364);
                        bool bounds_check_62910 = x_62908 && y_62909;
                        bool index_certs_62911;
                        
                        if (!bounds_check_62910) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_62907,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:442:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:438:3-445:25\n   #4  loess.fut:461:18-55\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_64483, "mem_64483") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64479, "mem_64479") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64654,
                                               "ext_mem_64654") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64662,
                                               "ext_mem_64662") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64670,
                                               "ext_mem_64670") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64678,
                                               "ext_mem_64678") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_62912 = ((int64_t *) mem_64524)[r_62907];
                        int64_t abs_arg_62913 = sub64(x_62912, min_res_62841);
                        int64_t abs_res_62914 = abs64(abs_arg_62913);
                        bool x_62915 = sle64((int64_t) 0, min_res_62905);
                        bool y_62916 = slt64(min_res_62905, n_62364);
                        bool bounds_check_62917 = x_62915 && y_62916;
                        bool index_certs_62918;
                        
                        if (!bounds_check_62917) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) min_res_62905,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:441:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:438:3-445:25\n   #4  loess.fut:461:18-55\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_64483, "mem_64483") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64479, "mem_64479") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64654,
                                               "ext_mem_64654") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64662,
                                               "ext_mem_64662") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64670,
                                               "ext_mem_64670") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_64678,
                                               "ext_mem_64678") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_62919 =
                                ((int64_t *) mem_64524)[min_res_62905];
                        int64_t abs_arg_62920 = sub64(x_62919, min_res_62841);
                        int64_t abs_res_62921 = abs64(abs_arg_62920);
                        int64_t max_res_62922 = smax64(abs_res_62914,
                                                       abs_res_62921);
                        float defunc_0_f_res_62923 =
                              sitofp_i64_f32(max_res_62922);
                        float defunc_1_f_res_62924 = max_res_62825 +
                              defunc_0_f_res_62923;
                        float defunc_0_f_res_62925 =
                              sitofp_i64_f32(min_res_62841);
                        float defunc_2_reduce_res_62926;
                        float defunc_2_reduce_res_62927;
                        float defunc_2_reduce_res_62928;
                        float defunc_2_reduce_res_62929;
                        float defunc_2_reduce_res_62930;
                        float redout_63846;
                        float redout_63847;
                        float redout_63848;
                        float redout_63849;
                        float redout_63850;
                        
                        redout_63846 = 0.0F;
                        redout_63847 = 0.0F;
                        redout_63848 = 0.0F;
                        redout_63849 = 0.0F;
                        redout_63850 = 0.0F;
                        for (int64_t i_63851 = 0; i_63851 < q_62366;
                             i_63851++) {
                            float x_62947 = ((float *) mem_64581)[i_63851];
                            bool cond_62948 = sle64(last_res_62805, i_63851);
                            float defunc_0_f_res_62949;
                            
                            if (cond_62948) {
                                defunc_0_f_res_62949 = 0.0F;
                            } else {
                                int64_t i_62950 = add64(min_res_62905, i_63851);
                                float x_62951 = ((float *) mem_64551)[i_62950];
                                float defunc_0_f_res_f_res_62952 = 1.0F +
                                      x_62951;
                                
                                defunc_0_f_res_62949 =
                                    defunc_0_f_res_f_res_62952;
                            }
                            
                            float x_j_62953 = defunc_0_f_res_62949 -
                                  defunc_0_f_res_62925;
                            float abs_res_62954 = (float) fabs(x_j_62953);
                            float tmp1_62955 = abs_res_62954 /
                                  defunc_1_f_res_62924;
                            float x_62956 = tmp1_62955 * tmp1_62955;
                            float y_62957 = tmp1_62955 * x_62956;
                            float tmp2_62958 = 1.0F - y_62957;
                            float x_62959 = tmp2_62958 * tmp2_62958;
                            float tmp3_62960 = tmp2_62958 * x_62959;
                            float w_j_62961 = x_62947 * tmp3_62960;
                            float xw_j_62962 = x_j_62953 * w_j_62961;
                            float x2w_j_62963 = x_j_62953 * xw_j_62962;
                            float x3w_j_62964 = x_j_62953 * x2w_j_62963;
                            float x4w_j_62965 = x_j_62953 * x3w_j_62964;
                            float defunc_1_op_res_62933 = w_j_62961 +
                                  redout_63846;
                            float defunc_1_op_res_62936 = xw_j_62962 +
                                  redout_63847;
                            float defunc_1_op_res_62939 = x2w_j_62963 +
                                  redout_63848;
                            float defunc_1_op_res_62942 = x3w_j_62964 +
                                  redout_63849;
                            float defunc_1_op_res_62945 = x4w_j_62965 +
                                  redout_63850;
                            float redout_tmp_65517 = defunc_1_op_res_62933;
                            float redout_tmp_65518 = defunc_1_op_res_62936;
                            float redout_tmp_65519 = defunc_1_op_res_62939;
                            float redout_tmp_65520 = defunc_1_op_res_62942;
                            float redout_tmp_65521 = defunc_1_op_res_62945;
                            
                            redout_63846 = redout_tmp_65517;
                            redout_63847 = redout_tmp_65518;
                            redout_63848 = redout_tmp_65519;
                            redout_63849 = redout_tmp_65520;
                            redout_63850 = redout_tmp_65521;
                        }
                        defunc_2_reduce_res_62926 = redout_63846;
                        defunc_2_reduce_res_62927 = redout_63847;
                        defunc_2_reduce_res_62928 = redout_63848;
                        defunc_2_reduce_res_62929 = redout_63849;
                        defunc_2_reduce_res_62930 = redout_63850;
                        
                        float x_62966 = defunc_2_reduce_res_62928 *
                              defunc_2_reduce_res_62930;
                        float y_62967 = defunc_2_reduce_res_62929 *
                              defunc_2_reduce_res_62929;
                        float a12_62968 = x_62966 - y_62967;
                        float x_62969 = defunc_2_reduce_res_62928 *
                              defunc_2_reduce_res_62929;
                        float y_62970 = defunc_2_reduce_res_62927 *
                              defunc_2_reduce_res_62930;
                        float b12_62971 = x_62969 - y_62970;
                        float x_62972 = defunc_2_reduce_res_62927 *
                              defunc_2_reduce_res_62929;
                        float y_62973 = defunc_2_reduce_res_62928 *
                              defunc_2_reduce_res_62928;
                        float c12_62974 = x_62972 - y_62973;
                        float x_62975 = defunc_2_reduce_res_62926 *
                              defunc_2_reduce_res_62930;
                        float b2_62976 = x_62975 - y_62973;
                        float x_62977 = defunc_2_reduce_res_62927 *
                              defunc_2_reduce_res_62928;
                        float y_62978 = defunc_2_reduce_res_62926 *
                              defunc_2_reduce_res_62929;
                        float c2_62979 = x_62977 - y_62978;
                        float x_62980 = defunc_2_reduce_res_62926 * a12_62968;
                        float y_62981 = defunc_2_reduce_res_62927 * b12_62971;
                        float x_62982 = x_62980 + y_62981;
                        float y_62983 = defunc_2_reduce_res_62928 * c12_62974;
                        float y_62984 = x_62982 + y_62983;
                        float det_62985 = 1.0F / y_62984;
                        float a12_62986 = a12_62968 * det_62985;
                        float b12_62987 = b12_62971 * det_62985;
                        float c12_62988 = c12_62974 * det_62985;
                        float b2_62989 = b2_62976 * det_62985;
                        float c2_62990 = c2_62979 * det_62985;
                        float defunc_2_reduce_res_62991;
                        float defunc_2_reduce_res_62992;
                        float redout_63852;
                        float redout_63853;
                        
                        redout_63852 = 0.0F;
                        redout_63853 = 0.0F;
                        for (int64_t i_63854 = 0; i_63854 < q_62366;
                             i_63854++) {
                            float x_63000 = ((float *) mem_64581)[i_63854];
                            bool cond_63001 = sle64(last_res_62805, i_63854);
                            float defunc_0_f_res_63002;
                            
                            if (cond_63001) {
                                defunc_0_f_res_63002 = 0.0F;
                            } else {
                                int64_t i_63003 = add64(min_res_62905, i_63854);
                                float x_63004 = ((float *) mem_64551)[i_63003];
                                float defunc_0_f_res_f_res_63005 = 1.0F +
                                      x_63004;
                                
                                defunc_0_f_res_63002 =
                                    defunc_0_f_res_f_res_63005;
                            }
                            
                            float x_j_63006 = defunc_0_f_res_63002 -
                                  defunc_0_f_res_62925;
                            float abs_res_63007 = (float) fabs(x_j_63006);
                            float tmp1_63008 = abs_res_63007 /
                                  defunc_1_f_res_62924;
                            float x_63009 = tmp1_63008 * tmp1_63008;
                            float y_63010 = tmp1_63008 * x_63009;
                            float tmp2_63011 = 1.0F - y_63010;
                            float x_63012 = tmp2_63011 * tmp2_63011;
                            float tmp3_63013 = tmp2_63011 * x_63012;
                            float tmp4_63014 = x_63000 * tmp3_63013;
                            float defunc_1_f_res_63015 = x_j_63006 * tmp4_63014;
                            float defunc_1_f_res_63016 = x_j_63006 *
                                  defunc_1_f_res_63015;
                            float defunc_0_f_res_63017;
                            
                            if (cond_63001) {
                                defunc_0_f_res_63017 = 0.0F;
                            } else {
                                int64_t i_63018 = add64(min_res_62905, i_63854);
                                float x_63019 = ((float *) mem_64521)[i_63018];
                                
                                defunc_0_f_res_63017 = x_63019;
                            }
                            
                            float x_63020 = a12_62986 * tmp4_63014;
                            float y_63021 = b12_62987 * defunc_1_f_res_63015;
                            float x_63022 = x_63020 + y_63021;
                            float y_63023 = c12_62988 * defunc_1_f_res_63016;
                            float x_63024 = x_63022 + y_63023;
                            float defunc_9_fit_fun_res_63025 =
                                  defunc_0_f_res_63017 * x_63024;
                            float x_63026 = b12_62987 * tmp4_63014;
                            float y_63027 = b2_62989 * defunc_1_f_res_63015;
                            float x_63028 = x_63026 + y_63027;
                            float y_63029 = c2_62990 * defunc_1_f_res_63016;
                            float x_63030 = x_63028 + y_63029;
                            float defunc_9_slope_fun_res_63031 =
                                  defunc_0_f_res_63017 * x_63030;
                            float defunc_1_op_res_62995 =
                                  defunc_9_fit_fun_res_63025 + redout_63852;
                            float defunc_1_op_res_62998 =
                                  defunc_9_slope_fun_res_63031 + redout_63853;
                            float redout_tmp_65522 = defunc_1_op_res_62995;
                            float redout_tmp_65523 = defunc_1_op_res_62998;
                            
                            redout_63852 = redout_tmp_65522;
                            redout_63853 = redout_tmp_65523;
                        }
                        defunc_2_reduce_res_62991 = redout_63852;
                        defunc_2_reduce_res_62992 = redout_63853;
                        ((float *) mem_64479.mem)[i_63866 * n_m_62372 +
                                                  i_63859] =
                            defunc_2_reduce_res_62991;
                        ((float *) mem_64483.mem)[i_63866 * n_m_62372 +
                                                  i_63859] =
                            defunc_2_reduce_res_62992;
                    }
                }
                if (memblock_set(ctx, &ext_mem_64662, &mem_64479,
                                 "mem_64479") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_64654, &mem_64483,
                                 "mem_64483") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64483, "mem_64483") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64479, "mem_64479") != 0)
                    return 1;
            }
            if (memblock_set(ctx, &ext_mem_64678, &ext_mem_64662,
                             "ext_mem_64662") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_64670, &ext_mem_64654,
                             "ext_mem_64654") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_64654, "ext_mem_64654") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_64662, "ext_mem_64662") != 0)
                return 1;
        }
        if (memblock_set(ctx, &ext_mem_65325, &ext_mem_64678,
                         "ext_mem_64678") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_65317, &ext_mem_64670,
                         "ext_mem_64670") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_64670, "ext_mem_64670") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_64678, "ext_mem_64678") != 0)
            return 1;
    } else {
        bool match_lit_63034 = (int64_t) 0 == degree_62367;
        int64_t binop_x_64687 = m_62363 * n_m_62372;
        int64_t binop_y_64688 = (int64_t) 4 * binop_x_64687;
        int64_t bytes_64686 = smax64((int64_t) 0, binop_y_64688);
        int64_t binop_y_64705 = (int64_t) 8 * n_62364;
        int64_t bytes_64704 = smax64((int64_t) 0, binop_y_64705);
        int64_t binop_y_64720 = (int64_t) 4 * n_62364;
        int64_t bytes_64719 = smax64((int64_t) 0, binop_y_64720);
        int64_t binop_y_64780 = (int64_t) 4 * q_62366;
        int64_t bytes_64779 = smax64((int64_t) 0, binop_y_64780);
        struct memblock ext_mem_65309;
        
        ext_mem_65309.references = NULL;
        
        struct memblock ext_mem_65301;
        
        ext_mem_65301.references = NULL;
        if (match_lit_63034) {
            struct memblock mem_64689;
            
            mem_64689.references = NULL;
            if (memblock_alloc(ctx, &mem_64689, bytes_64686, "mem_64689")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_65524 = 0; i_65524 < m_62363; i_65524++) {
                for (int64_t i_65525 = 0; i_65525 < n_m_62372; i_65525++) {
                    ((float *) mem_64689.mem)[i_65524 * n_m_62372 + i_65525] =
                        0.0F;
                }
            }
            
            struct memblock mem_64693;
            
            mem_64693.references = NULL;
            if (memblock_alloc(ctx, &mem_64693, bytes_64686, "mem_64693")) {
                err = 1;
                goto cleanup;
            }
            if (mem_64706_cached_sizze_65626 < (size_t) bytes_64704) {
                mem_64706 = realloc(mem_64706, bytes_64704);
                mem_64706_cached_sizze_65626 = bytes_64704;
            }
            if (mem_64721_cached_sizze_65627 < (size_t) bytes_64719) {
                mem_64721 = realloc(mem_64721, bytes_64719);
                mem_64721_cached_sizze_65627 = bytes_64719;
            }
            if (mem_64724_cached_sizze_65628 < (size_t) bytes_64704) {
                mem_64724 = realloc(mem_64724, bytes_64704);
                mem_64724_cached_sizze_65628 = bytes_64704;
            }
            if (mem_64751_cached_sizze_65629 < (size_t) bytes_64719) {
                mem_64751 = realloc(mem_64751, bytes_64719);
                mem_64751_cached_sizze_65629 = bytes_64719;
            }
            if (mem_64754_cached_sizze_65630 < (size_t) bytes_64704) {
                mem_64754 = realloc(mem_64754, bytes_64704);
                mem_64754_cached_sizze_65630 = bytes_64704;
            }
            if (mem_64781_cached_sizze_65631 < (size_t) bytes_64779) {
                mem_64781 = realloc(mem_64781, bytes_64779);
                mem_64781_cached_sizze_65631 = bytes_64779;
            }
            if (mem_64807_cached_sizze_65632 < (size_t) bytes_64779) {
                mem_64807 = realloc(mem_64807, bytes_64779);
                mem_64807_cached_sizze_65632 = bytes_64779;
            }
            for (int64_t i_63907 = 0; i_63907 < m_62363; i_63907++) {
                int64_t discard_63874;
                int64_t scanacc_63870 = (int64_t) 0;
                
                for (int64_t i_63872 = 0; i_63872 < n_62364; i_63872++) {
                    float x_63045 = ((float *) Y_mem_64159.mem)[i_63907 *
                                                                n_62364 +
                                                                i_63872];
                    bool isnan_res_63046;
                    
                    isnan_res_63046 = futrts_isnan32(x_63045);
                    
                    bool defunc_0_p_res_63047 = !isnan_res_63046;
                    int64_t defunc_0_f_res_63048 =
                            btoi_bool_i64(defunc_0_p_res_63047);
                    int64_t defunc_1_op_res_63044 = add64(defunc_0_f_res_63048,
                                                          scanacc_63870);
                    
                    ((int64_t *) mem_64706)[i_63872] = defunc_1_op_res_63044;
                    
                    int64_t scanacc_tmp_65527 = defunc_1_op_res_63044;
                    
                    scanacc_63870 = scanacc_tmp_65527;
                }
                discard_63874 = scanacc_63870;
                
                int64_t last_res_63049 = ((int64_t *) mem_64706)[i_62378];
                
                for (int64_t i_65529 = 0; i_65529 < n_62364; i_65529++) {
                    ((float *) mem_64721)[i_65529] = 0.0F;
                }
                for (int64_t i_65530 = 0; i_65530 < n_62364; i_65530++) {
                    ((int64_t *) mem_64724)[i_65530] = (int64_t) -1;
                }
                for (int64_t write_iter_63875 = 0; write_iter_63875 < n_62364;
                     write_iter_63875++) {
                    float write_iv_63878 = ((float *) Y_mem_64159.mem)[i_63907 *
                                                                       n_62364 +
                                                                       write_iter_63875];
                    int64_t write_iv_63879 =
                            ((int64_t *) mem_64706)[write_iter_63875];
                    bool isnan_res_63057;
                    
                    isnan_res_63057 = futrts_isnan32(write_iv_63878);
                    
                    bool defunc_0_p_res_63058 = !isnan_res_63057;
                    int64_t defunc_1_f_res_63059;
                    
                    if (defunc_0_p_res_63058) {
                        int64_t defunc_1_f_res_t_res_63060 =
                                sub64(write_iv_63879, (int64_t) 1);
                        
                        defunc_1_f_res_63059 = defunc_1_f_res_t_res_63060;
                    } else {
                        defunc_1_f_res_63059 = (int64_t) -1;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_63059) &&
                        slt64(defunc_1_f_res_63059, n_62364)) {
                        ((int64_t *) mem_64724)[defunc_1_f_res_63059] =
                            write_iter_63875;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_63059) &&
                        slt64(defunc_1_f_res_63059, n_62364)) {
                        memmove(mem_64721 + defunc_1_f_res_63059 * (int64_t) 4,
                                Y_mem_64159.mem + (i_63907 * n_62364 +
                                                   write_iter_63875) *
                                (int64_t) 4, (int64_t) 4);
                    }
                }
                
                int64_t min_arg_63064 = sub64(last_res_63049, (int64_t) 1);
                int64_t min_arg_63065 = sub64(last_res_63049, min_res_62384);
                float i64_res_63066 = sitofp_i64_f32(last_res_63049);
                float x_63067 = i64_res_62390 - i64_res_63066;
                float max_arg_63068 = x_63067 / 2.0F;
                float max_res_63069 = fmax32(0.0F, max_arg_63068);
                
                for (int64_t i_63887 = 0; i_63887 < n_62364; i_63887++) {
                    int64_t x_63072 = ((int64_t *) mem_64724)[i_63887];
                    int64_t defunc_0_f_res_63073 = add64((int64_t) 1, x_63072);
                    float defunc_0_f_res_63074 = sitofp_i64_f32(x_63072);
                    
                    ((float *) mem_64751)[i_63887] = defunc_0_f_res_63074;
                    ((int64_t *) mem_64754)[i_63887] = defunc_0_f_res_63073;
                }
                for (int64_t i_63892 = 0; i_63892 < q_62366; i_63892++) {
                    bool cond_63079 = sle64(last_res_63049, i_63892);
                    float defunc_0_f_res_63080;
                    
                    if (cond_63079) {
                        defunc_0_f_res_63080 = 0.0F;
                    } else {
                        defunc_0_f_res_63080 = 1.0F;
                    }
                    ((float *) mem_64781)[i_63892] = defunc_0_f_res_63080;
                }
                for (int64_t i_63903 = 0; i_63903 < n_m_62372; i_63903++) {
                    int64_t min_arg_63083 = mul64(jump_62368, i_63903);
                    int64_t min_res_63084 = smin64(i_62378, min_arg_63083);
                    int64_t defunc_0_g_res_63085 = add64((int64_t) 1,
                                                         min_res_63084);
                    bool init_idx_63086;
                    int64_t init_idx_63087;
                    int64_t init_idx_63088;
                    bool loop_while_63089;
                    int64_t low_63090;
                    int64_t high_63091;
                    
                    loop_while_63089 = x_62379;
                    low_63090 = (int64_t) 0;
                    high_63091 = i_62378;
                    while (loop_while_63089) {
                        int64_t x_63092 = add64(low_63090, high_63091);
                        int64_t mid_63093 = sdiv64(x_63092, (int64_t) 2);
                        bool x_63094 = sle64((int64_t) 0, mid_63093);
                        bool y_63095 = slt64(mid_63093, n_62364);
                        bool bounds_check_63096 = x_63094 && y_63095;
                        bool index_certs_63097;
                        
                        if (!bounds_check_63096) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) mid_63093,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_64693, "mem_64693") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64689, "mem_64689") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65301,
                                               "ext_mem_65301") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65309,
                                               "ext_mem_65309") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t mid_id_63098 =
                                ((int64_t *) mem_64754)[mid_63093];
                        bool cond_63099 = slt64(mid_id_63098, (int64_t) 0);
                        int64_t mid_idx_63100;
                        
                        if (cond_63099) {
                            mid_idx_63100 = (int64_t) 9223372036854775807;
                        } else {
                            mid_idx_63100 = mid_id_63098;
                        }
                        
                        bool cond_63101 = sle64(defunc_0_g_res_63085,
                                                mid_idx_63100);
                        int64_t loopres_63102;
                        int64_t loopres_63103;
                        
                        if (cond_63101) {
                            int64_t loopres_t_res_63104 = sub64(mid_63093,
                                                                (int64_t) 1);
                            
                            loopres_63102 = low_63090;
                            loopres_63103 = loopres_t_res_63104;
                        } else {
                            int64_t loopres_f_res_63105 = add64((int64_t) 1,
                                                                mid_63093);
                            
                            loopres_63102 = loopres_f_res_63105;
                            loopres_63103 = high_63091;
                        }
                        
                        bool loop_cond_63106 = sle64(loopres_63102,
                                                     loopres_63103);
                        bool loop_while_tmp_65537 = loop_cond_63106;
                        int64_t low_tmp_65538 = loopres_63102;
                        int64_t high_tmp_65539 = loopres_63103;
                        
                        loop_while_63089 = loop_while_tmp_65537;
                        low_63090 = low_tmp_65538;
                        high_63091 = high_tmp_65539;
                    }
                    init_idx_63086 = loop_while_63089;
                    init_idx_63087 = low_63090;
                    init_idx_63088 = high_63091;
                    
                    bool idx_63107;
                    int64_t idx_63108;
                    int64_t idx_63109;
                    int64_t idx_63110;
                    bool loop_while_63111;
                    int64_t l_idx_63112;
                    int64_t r_idx_63113;
                    int64_t span_63114;
                    
                    loop_while_63111 = loop_cond_62389;
                    l_idx_63112 = init_idx_63087;
                    r_idx_63113 = init_idx_63087;
                    span_63114 = (int64_t) 1;
                    while (loop_while_63111) {
                        int64_t max_arg_63115 = sub64(l_idx_63112, (int64_t) 1);
                        int64_t max_res_63116 = smax64((int64_t) 0,
                                                       max_arg_63115);
                        int64_t min_arg_63117 = add64((int64_t) 1, r_idx_63113);
                        int64_t min_res_63118 = smin64(min_arg_63064,
                                                       min_arg_63117);
                        bool x_63119 = sle64((int64_t) 0, max_res_63116);
                        bool y_63120 = slt64(max_res_63116, n_62364);
                        bool bounds_check_63121 = x_63119 && y_63120;
                        bool index_certs_63122;
                        
                        if (!bounds_check_63121) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_63116,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:363:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_64693, "mem_64693") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64689, "mem_64689") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65301,
                                               "ext_mem_65301") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65309,
                                               "ext_mem_65309") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_63123 =
                                ((int64_t *) mem_64754)[max_res_63116];
                        int64_t abs_arg_63124 = sub64(x_63123,
                                                      defunc_0_g_res_63085);
                        int64_t abs_res_63125 = abs64(abs_arg_63124);
                        bool x_63126 = sle64((int64_t) 0, min_res_63118);
                        bool y_63127 = slt64(min_res_63118, n_62364);
                        bool bounds_check_63128 = x_63126 && y_63127;
                        bool index_certs_63129;
                        
                        if (!bounds_check_63128) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) min_res_63118,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_64693, "mem_64693") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64689, "mem_64689") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65301,
                                               "ext_mem_65301") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65309,
                                               "ext_mem_65309") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_63130 =
                                ((int64_t *) mem_64754)[min_res_63118];
                        int64_t abs_arg_63131 = sub64(x_63130,
                                                      defunc_0_g_res_63085);
                        int64_t abs_res_63132 = abs64(abs_arg_63131);
                        bool cond_63133 = max_res_63116 == l_idx_63112;
                        int64_t loopres_63134;
                        int64_t loopres_63135;
                        int64_t loopres_63136;
                        
                        if (cond_63133) {
                            loopres_63134 = l_idx_63112;
                            loopres_63135 = r_idx_63113;
                            loopres_63136 = min_res_62384;
                        } else {
                            bool cond_63137 = slt64(abs_res_63125,
                                                    abs_res_63132);
                            bool cond_f_res_63138 = min_res_63118 ==
                                 r_idx_63113;
                            bool x_63139 = !cond_63137;
                            bool y_63140 = cond_f_res_63138 && x_63139;
                            bool cond_63141 = cond_63137 || y_63140;
                            int64_t loopres_f_res_63142;
                            
                            if (cond_63141) {
                                loopres_f_res_63142 = max_res_63116;
                            } else {
                                loopres_f_res_63142 = l_idx_63112;
                            }
                            
                            int64_t loopres_f_res_63143;
                            
                            if (cond_63141) {
                                loopres_f_res_63143 = r_idx_63113;
                            } else {
                                loopres_f_res_63143 = min_res_63118;
                            }
                            
                            int64_t loopres_f_res_63144;
                            
                            if (cond_63141) {
                                int64_t loopres_f_res_t_res_63145 =
                                        add64((int64_t) 1, span_63114);
                                
                                loopres_f_res_63144 = loopres_f_res_t_res_63145;
                            } else {
                                int64_t loopres_f_res_f_res_63146 =
                                        add64((int64_t) 1, span_63114);
                                
                                loopres_f_res_63144 = loopres_f_res_f_res_63146;
                            }
                            loopres_63134 = loopres_f_res_63142;
                            loopres_63135 = loopres_f_res_63143;
                            loopres_63136 = loopres_f_res_63144;
                        }
                        
                        bool loop_cond_63147 = slt64(loopres_63136,
                                                     min_res_62384);
                        bool loop_while_tmp_65540 = loop_cond_63147;
                        int64_t l_idx_tmp_65541 = loopres_63134;
                        int64_t r_idx_tmp_65542 = loopres_63135;
                        int64_t span_tmp_65543 = loopres_63136;
                        
                        loop_while_63111 = loop_while_tmp_65540;
                        l_idx_63112 = l_idx_tmp_65541;
                        r_idx_63113 = r_idx_tmp_65542;
                        span_63114 = span_tmp_65543;
                    }
                    idx_63107 = loop_while_63111;
                    idx_63108 = l_idx_63112;
                    idx_63109 = r_idx_63113;
                    idx_63110 = span_63114;
                    
                    int64_t min_res_63148 = smin64(min_arg_63065, idx_63108);
                    int64_t x_63149 = add64(min_res_62384, min_res_63148);
                    int64_t r_63150 = sub64(x_63149, (int64_t) 1);
                    bool x_63151 = sle64((int64_t) 0, r_63150);
                    bool y_63152 = slt64(r_63150, n_62364);
                    bool bounds_check_63153 = x_63151 && y_63152;
                    bool index_certs_63154;
                    
                    if (!bounds_check_63153) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) r_63150,
                                      "] out of bounds for array of shape [",
                                      (long long) n_62364, "].",
                                      "-> #0  loess.fut:442:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:438:3-445:25\n   #4  loess.fut:461:18-55\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                        if (memblock_unref(ctx, &mem_64693, "mem_64693") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_64689, "mem_64689") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65301,
                                           "ext_mem_65301") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65309,
                                           "ext_mem_65309") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65317,
                                           "ext_mem_65317") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65325,
                                           "ext_mem_65325") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_65449,
                                           "mem_out_65449") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_63155 = ((int64_t *) mem_64724)[r_63150];
                    int64_t abs_arg_63156 = sub64(x_63155, min_res_63084);
                    int64_t abs_res_63157 = abs64(abs_arg_63156);
                    bool x_63158 = sle64((int64_t) 0, min_res_63148);
                    bool y_63159 = slt64(min_res_63148, n_62364);
                    bool bounds_check_63160 = x_63158 && y_63159;
                    bool index_certs_63161;
                    
                    if (!bounds_check_63160) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) min_res_63148,
                                      "] out of bounds for array of shape [",
                                      (long long) n_62364, "].",
                                      "-> #0  loess.fut:441:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:438:3-445:25\n   #4  loess.fut:461:18-55\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                        if (memblock_unref(ctx, &mem_64693, "mem_64693") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_64689, "mem_64689") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65301,
                                           "ext_mem_65301") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65309,
                                           "ext_mem_65309") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65317,
                                           "ext_mem_65317") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_65325,
                                           "ext_mem_65325") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_65449,
                                           "mem_out_65449") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_63162 = ((int64_t *) mem_64724)[min_res_63148];
                    int64_t abs_arg_63163 = sub64(x_63162, min_res_63084);
                    int64_t abs_res_63164 = abs64(abs_arg_63163);
                    int64_t max_res_63165 = smax64(abs_res_63157,
                                                   abs_res_63164);
                    float defunc_0_f_res_63166 = sitofp_i64_f32(max_res_63165);
                    float defunc_1_f_res_63167 = max_res_63069 +
                          defunc_0_f_res_63166;
                    float defunc_0_f_res_63168 = sitofp_i64_f32(min_res_63084);
                    float defunc_2_reduce_res_63169;
                    float redout_63895 = 0.0F;
                    
                    for (int64_t i_63897 = 0; i_63897 < q_62366; i_63897++) {
                        float x_63175 = ((float *) mem_64781)[i_63897];
                        bool cond_63176 = sle64(last_res_63049, i_63897);
                        float defunc_0_f_res_63177;
                        
                        if (cond_63176) {
                            defunc_0_f_res_63177 = 0.0F;
                        } else {
                            int64_t i_63178 = add64(min_res_63148, i_63897);
                            float x_63179 = ((float *) mem_64751)[i_63178];
                            float defunc_0_f_res_f_res_63180 = 1.0F + x_63179;
                            
                            defunc_0_f_res_63177 = defunc_0_f_res_f_res_63180;
                        }
                        
                        float x_j_63181 = defunc_0_f_res_63177 -
                              defunc_0_f_res_63168;
                        float abs_res_63182 = (float) fabs(x_j_63181);
                        float tmp1_63183 = abs_res_63182 / defunc_1_f_res_63167;
                        float x_63184 = tmp1_63183 * tmp1_63183;
                        float y_63185 = tmp1_63183 * x_63184;
                        float tmp2_63186 = 1.0F - y_63185;
                        float x_63187 = tmp2_63186 * tmp2_63186;
                        float tmp3_63188 = tmp2_63186 * x_63187;
                        float tmp4_63189 = x_63175 * tmp3_63188;
                        float defunc_1_op_res_63173 = tmp4_63189 + redout_63895;
                        
                        ((float *) mem_64807)[i_63897] = tmp4_63189;
                        
                        float redout_tmp_65544 = defunc_1_op_res_63173;
                        
                        redout_63895 = redout_tmp_65544;
                    }
                    defunc_2_reduce_res_63169 = redout_63895;
                    
                    float a0_63190 = 1.0F / defunc_2_reduce_res_63169;
                    float defunc_2_reduce_res_63191;
                    float redout_63899 = 0.0F;
                    
                    for (int64_t i_63900 = 0; i_63900 < q_62366; i_63900++) {
                        float x_63196 = ((float *) mem_64807)[i_63900];
                        bool cond_63197 = sle64(last_res_63049, i_63900);
                        float defunc_0_f_res_63198;
                        
                        if (cond_63197) {
                            defunc_0_f_res_63198 = 0.0F;
                        } else {
                            int64_t i_63199 = add64(min_res_63148, i_63900);
                            float x_63200 = ((float *) mem_64721)[i_63199];
                            
                            defunc_0_f_res_63198 = x_63200;
                        }
                        
                        float x_63201 = a0_63190 * x_63196;
                        float defunc_9_fit_fun_res_63202 =
                              defunc_0_f_res_63198 * x_63201;
                        float defunc_1_op_res_63194 =
                              defunc_9_fit_fun_res_63202 + redout_63899;
                        float redout_tmp_65546 = defunc_1_op_res_63194;
                        
                        redout_63899 = redout_tmp_65546;
                    }
                    defunc_2_reduce_res_63191 = redout_63899;
                    ((float *) mem_64693.mem)[i_63907 * n_m_62372 + i_63903] =
                        defunc_2_reduce_res_63191;
                }
            }
            if (memblock_set(ctx, &ext_mem_65309, &mem_64693, "mem_64693") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_65301, &mem_64689, "mem_64689") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_64693, "mem_64693") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_64689, "mem_64689") != 0)
                return 1;
        } else {
            bool match_lit_63205 = (int64_t) 1 == degree_62367;
            int64_t binop_x_64840 = m_62363 * n_m_62372;
            int64_t binop_y_64841 = (int64_t) 4 * binop_x_64840;
            int64_t bytes_64839 = smax64((int64_t) 0, binop_y_64841);
            int64_t binop_y_64868 = (int64_t) 8 * n_62364;
            int64_t bytes_64867 = smax64((int64_t) 0, binop_y_64868);
            int64_t binop_y_64883 = (int64_t) 4 * n_62364;
            int64_t bytes_64882 = smax64((int64_t) 0, binop_y_64883);
            int64_t binop_y_64943 = (int64_t) 4 * q_62366;
            int64_t bytes_64942 = smax64((int64_t) 0, binop_y_64943);
            int64_t binop_x_65048 = m_62363 * n_m_62372;
            int64_t binop_y_65049 = (int64_t) 4 * binop_x_65048;
            int64_t bytes_65047 = smax64((int64_t) 0, binop_y_65049);
            int64_t binop_y_65076 = (int64_t) 8 * n_62364;
            int64_t bytes_65075 = smax64((int64_t) 0, binop_y_65076);
            int64_t binop_y_65091 = (int64_t) 4 * n_62364;
            int64_t bytes_65090 = smax64((int64_t) 0, binop_y_65091);
            int64_t binop_y_65151 = (int64_t) 4 * q_62366;
            int64_t bytes_65150 = smax64((int64_t) 0, binop_y_65151);
            struct memblock ext_mem_65293;
            
            ext_mem_65293.references = NULL;
            
            struct memblock ext_mem_65285;
            
            ext_mem_65285.references = NULL;
            if (match_lit_63205) {
                struct memblock mem_64842;
                
                mem_64842.references = NULL;
                if (memblock_alloc(ctx, &mem_64842, bytes_64839, "mem_64842")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_64846;
                
                mem_64846.references = NULL;
                if (memblock_alloc(ctx, &mem_64846, bytes_64839, "mem_64846")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_64869_cached_sizze_65633 < (size_t) bytes_64867) {
                    mem_64869 = realloc(mem_64869, bytes_64867);
                    mem_64869_cached_sizze_65633 = bytes_64867;
                }
                if (mem_64884_cached_sizze_65634 < (size_t) bytes_64882) {
                    mem_64884 = realloc(mem_64884, bytes_64882);
                    mem_64884_cached_sizze_65634 = bytes_64882;
                }
                if (mem_64887_cached_sizze_65635 < (size_t) bytes_64867) {
                    mem_64887 = realloc(mem_64887, bytes_64867);
                    mem_64887_cached_sizze_65635 = bytes_64867;
                }
                if (mem_64914_cached_sizze_65636 < (size_t) bytes_64882) {
                    mem_64914 = realloc(mem_64914, bytes_64882);
                    mem_64914_cached_sizze_65636 = bytes_64882;
                }
                if (mem_64917_cached_sizze_65637 < (size_t) bytes_64867) {
                    mem_64917 = realloc(mem_64917, bytes_64867);
                    mem_64917_cached_sizze_65637 = bytes_64867;
                }
                if (mem_64944_cached_sizze_65638 < (size_t) bytes_64942) {
                    mem_64944 = realloc(mem_64944, bytes_64942);
                    mem_64944_cached_sizze_65638 = bytes_64942;
                }
                if (mem_64981_cached_sizze_65639 < (size_t) bytes_64942) {
                    mem_64981 = realloc(mem_64981, bytes_64942);
                    mem_64981_cached_sizze_65639 = bytes_64942;
                }
                if (mem_64984_cached_sizze_65640 < (size_t) bytes_64942) {
                    mem_64984 = realloc(mem_64984, bytes_64942);
                    mem_64984_cached_sizze_65640 = bytes_64942;
                }
                for (int64_t i_63958 = 0; i_63958 < m_62363; i_63958++) {
                    int64_t discard_63914;
                    int64_t scanacc_63910 = (int64_t) 0;
                    
                    for (int64_t i_63912 = 0; i_63912 < n_62364; i_63912++) {
                        float x_63216 = ((float *) Y_mem_64159.mem)[i_63958 *
                                                                    n_62364 +
                                                                    i_63912];
                        bool isnan_res_63217;
                        
                        isnan_res_63217 = futrts_isnan32(x_63216);
                        
                        bool defunc_0_p_res_63218 = !isnan_res_63217;
                        int64_t defunc_0_f_res_63219 =
                                btoi_bool_i64(defunc_0_p_res_63218);
                        int64_t defunc_1_op_res_63215 =
                                add64(defunc_0_f_res_63219, scanacc_63910);
                        
                        ((int64_t *) mem_64869)[i_63912] =
                            defunc_1_op_res_63215;
                        
                        int64_t scanacc_tmp_65549 = defunc_1_op_res_63215;
                        
                        scanacc_63910 = scanacc_tmp_65549;
                    }
                    discard_63914 = scanacc_63910;
                    
                    int64_t last_res_63220 = ((int64_t *) mem_64869)[i_62378];
                    
                    for (int64_t i_65551 = 0; i_65551 < n_62364; i_65551++) {
                        ((float *) mem_64884)[i_65551] = 0.0F;
                    }
                    for (int64_t i_65552 = 0; i_65552 < n_62364; i_65552++) {
                        ((int64_t *) mem_64887)[i_65552] = (int64_t) -1;
                    }
                    for (int64_t write_iter_63915 = 0; write_iter_63915 <
                         n_62364; write_iter_63915++) {
                        float write_iv_63918 =
                              ((float *) Y_mem_64159.mem)[i_63958 * n_62364 +
                                                          write_iter_63915];
                        int64_t write_iv_63919 =
                                ((int64_t *) mem_64869)[write_iter_63915];
                        bool isnan_res_63228;
                        
                        isnan_res_63228 = futrts_isnan32(write_iv_63918);
                        
                        bool defunc_0_p_res_63229 = !isnan_res_63228;
                        int64_t defunc_1_f_res_63230;
                        
                        if (defunc_0_p_res_63229) {
                            int64_t defunc_1_f_res_t_res_63231 =
                                    sub64(write_iv_63919, (int64_t) 1);
                            
                            defunc_1_f_res_63230 = defunc_1_f_res_t_res_63231;
                        } else {
                            defunc_1_f_res_63230 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_63230) &&
                            slt64(defunc_1_f_res_63230, n_62364)) {
                            ((int64_t *) mem_64887)[defunc_1_f_res_63230] =
                                write_iter_63915;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_63230) &&
                            slt64(defunc_1_f_res_63230, n_62364)) {
                            memmove(mem_64884 + defunc_1_f_res_63230 *
                                    (int64_t) 4, Y_mem_64159.mem + (i_63958 *
                                                                    n_62364 +
                                                                    write_iter_63915) *
                                    (int64_t) 4, (int64_t) 4);
                        }
                    }
                    
                    int64_t min_arg_63235 = sub64(last_res_63220, (int64_t) 1);
                    int64_t min_arg_63236 = sub64(last_res_63220,
                                                  min_res_62384);
                    float i64_res_63237 = sitofp_i64_f32(last_res_63220);
                    float x_63238 = i64_res_62390 - i64_res_63237;
                    float max_arg_63239 = x_63238 / 2.0F;
                    float max_res_63240 = fmax32(0.0F, max_arg_63239);
                    
                    for (int64_t i_63927 = 0; i_63927 < n_62364; i_63927++) {
                        int64_t x_63243 = ((int64_t *) mem_64887)[i_63927];
                        int64_t defunc_0_f_res_63244 = add64((int64_t) 1,
                                                             x_63243);
                        float defunc_0_f_res_63245 = sitofp_i64_f32(x_63243);
                        
                        ((float *) mem_64914)[i_63927] = defunc_0_f_res_63245;
                        ((int64_t *) mem_64917)[i_63927] = defunc_0_f_res_63244;
                    }
                    for (int64_t i_63932 = 0; i_63932 < q_62366; i_63932++) {
                        bool cond_63250 = sle64(last_res_63220, i_63932);
                        float defunc_0_f_res_63251;
                        
                        if (cond_63250) {
                            defunc_0_f_res_63251 = 0.0F;
                        } else {
                            defunc_0_f_res_63251 = 1.0F;
                        }
                        ((float *) mem_64944)[i_63932] = defunc_0_f_res_63251;
                    }
                    for (int64_t i_63951 = 0; i_63951 < n_m_62372; i_63951++) {
                        int64_t min_arg_63255 = mul64(jump_62368, i_63951);
                        int64_t min_res_63256 = smin64(i_62378, min_arg_63255);
                        int64_t defunc_0_g_res_63257 = add64((int64_t) 1,
                                                             min_res_63256);
                        bool init_idx_63258;
                        int64_t init_idx_63259;
                        int64_t init_idx_63260;
                        bool loop_while_63261;
                        int64_t low_63262;
                        int64_t high_63263;
                        
                        loop_while_63261 = x_62379;
                        low_63262 = (int64_t) 0;
                        high_63263 = i_62378;
                        while (loop_while_63261) {
                            int64_t x_63264 = add64(low_63262, high_63263);
                            int64_t mid_63265 = sdiv64(x_63264, (int64_t) 2);
                            bool x_63266 = sle64((int64_t) 0, mid_63265);
                            bool y_63267 = slt64(mid_63265, n_62364);
                            bool bounds_check_63268 = x_63266 && y_63267;
                            bool index_certs_63269;
                            
                            if (!bounds_check_63268) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_63265,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62364, "].",
                                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                                if (memblock_unref(ctx, &mem_64846,
                                                   "mem_64846") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64842,
                                                   "mem_64842") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65285,
                                                   "ext_mem_65285") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65293,
                                                   "ext_mem_65293") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65301,
                                                   "ext_mem_65301") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65309,
                                                   "ext_mem_65309") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65317,
                                                   "ext_mem_65317") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65325,
                                                   "ext_mem_65325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65449,
                                                   "mem_out_65449") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_63270 =
                                    ((int64_t *) mem_64917)[mid_63265];
                            bool cond_63271 = slt64(mid_id_63270, (int64_t) 0);
                            int64_t mid_idx_63272;
                            
                            if (cond_63271) {
                                mid_idx_63272 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_63272 = mid_id_63270;
                            }
                            
                            bool cond_63273 = sle64(defunc_0_g_res_63257,
                                                    mid_idx_63272);
                            int64_t loopres_63274;
                            int64_t loopres_63275;
                            
                            if (cond_63273) {
                                int64_t loopres_t_res_63276 = sub64(mid_63265,
                                                                    (int64_t) 1);
                                
                                loopres_63274 = low_63262;
                                loopres_63275 = loopres_t_res_63276;
                            } else {
                                int64_t loopres_f_res_63277 = add64((int64_t) 1,
                                                                    mid_63265);
                                
                                loopres_63274 = loopres_f_res_63277;
                                loopres_63275 = high_63263;
                            }
                            
                            bool loop_cond_63278 = sle64(loopres_63274,
                                                         loopres_63275);
                            bool loop_while_tmp_65560 = loop_cond_63278;
                            int64_t low_tmp_65561 = loopres_63274;
                            int64_t high_tmp_65562 = loopres_63275;
                            
                            loop_while_63261 = loop_while_tmp_65560;
                            low_63262 = low_tmp_65561;
                            high_63263 = high_tmp_65562;
                        }
                        init_idx_63258 = loop_while_63261;
                        init_idx_63259 = low_63262;
                        init_idx_63260 = high_63263;
                        
                        bool idx_63279;
                        int64_t idx_63280;
                        int64_t idx_63281;
                        int64_t idx_63282;
                        bool loop_while_63283;
                        int64_t l_idx_63284;
                        int64_t r_idx_63285;
                        int64_t span_63286;
                        
                        loop_while_63283 = loop_cond_62389;
                        l_idx_63284 = init_idx_63259;
                        r_idx_63285 = init_idx_63259;
                        span_63286 = (int64_t) 1;
                        while (loop_while_63283) {
                            int64_t max_arg_63287 = sub64(l_idx_63284,
                                                          (int64_t) 1);
                            int64_t max_res_63288 = smax64((int64_t) 0,
                                                           max_arg_63287);
                            int64_t min_arg_63289 = add64((int64_t) 1,
                                                          r_idx_63285);
                            int64_t min_res_63290 = smin64(min_arg_63235,
                                                           min_arg_63289);
                            bool x_63291 = sle64((int64_t) 0, max_res_63288);
                            bool y_63292 = slt64(max_res_63288, n_62364);
                            bool bounds_check_63293 = x_63291 && y_63292;
                            bool index_certs_63294;
                            
                            if (!bounds_check_63293) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_63288,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62364, "].",
                                              "-> #0  loess.fut:363:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                                if (memblock_unref(ctx, &mem_64846,
                                                   "mem_64846") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64842,
                                                   "mem_64842") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65285,
                                                   "ext_mem_65285") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65293,
                                                   "ext_mem_65293") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65301,
                                                   "ext_mem_65301") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65309,
                                                   "ext_mem_65309") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65317,
                                                   "ext_mem_65317") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65325,
                                                   "ext_mem_65325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65449,
                                                   "mem_out_65449") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_63295 =
                                    ((int64_t *) mem_64917)[max_res_63288];
                            int64_t abs_arg_63296 = sub64(x_63295,
                                                          defunc_0_g_res_63257);
                            int64_t abs_res_63297 = abs64(abs_arg_63296);
                            bool x_63298 = sle64((int64_t) 0, min_res_63290);
                            bool y_63299 = slt64(min_res_63290, n_62364);
                            bool bounds_check_63300 = x_63298 && y_63299;
                            bool index_certs_63301;
                            
                            if (!bounds_check_63300) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_63290,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62364, "].",
                                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                                if (memblock_unref(ctx, &mem_64846,
                                                   "mem_64846") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_64842,
                                                   "mem_64842") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65285,
                                                   "ext_mem_65285") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65293,
                                                   "ext_mem_65293") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65301,
                                                   "ext_mem_65301") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65309,
                                                   "ext_mem_65309") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65317,
                                                   "ext_mem_65317") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65325,
                                                   "ext_mem_65325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65449,
                                                   "mem_out_65449") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_63302 =
                                    ((int64_t *) mem_64917)[min_res_63290];
                            int64_t abs_arg_63303 = sub64(x_63302,
                                                          defunc_0_g_res_63257);
                            int64_t abs_res_63304 = abs64(abs_arg_63303);
                            bool cond_63305 = max_res_63288 == l_idx_63284;
                            int64_t loopres_63306;
                            int64_t loopres_63307;
                            int64_t loopres_63308;
                            
                            if (cond_63305) {
                                loopres_63306 = l_idx_63284;
                                loopres_63307 = r_idx_63285;
                                loopres_63308 = min_res_62384;
                            } else {
                                bool cond_63309 = slt64(abs_res_63297,
                                                        abs_res_63304);
                                bool cond_f_res_63310 = min_res_63290 ==
                                     r_idx_63285;
                                bool x_63311 = !cond_63309;
                                bool y_63312 = cond_f_res_63310 && x_63311;
                                bool cond_63313 = cond_63309 || y_63312;
                                int64_t loopres_f_res_63314;
                                
                                if (cond_63313) {
                                    loopres_f_res_63314 = max_res_63288;
                                } else {
                                    loopres_f_res_63314 = l_idx_63284;
                                }
                                
                                int64_t loopres_f_res_63315;
                                
                                if (cond_63313) {
                                    loopres_f_res_63315 = r_idx_63285;
                                } else {
                                    loopres_f_res_63315 = min_res_63290;
                                }
                                
                                int64_t loopres_f_res_63316;
                                
                                if (cond_63313) {
                                    int64_t loopres_f_res_t_res_63317 =
                                            add64((int64_t) 1, span_63286);
                                    
                                    loopres_f_res_63316 =
                                        loopres_f_res_t_res_63317;
                                } else {
                                    int64_t loopres_f_res_f_res_63318 =
                                            add64((int64_t) 1, span_63286);
                                    
                                    loopres_f_res_63316 =
                                        loopres_f_res_f_res_63318;
                                }
                                loopres_63306 = loopres_f_res_63314;
                                loopres_63307 = loopres_f_res_63315;
                                loopres_63308 = loopres_f_res_63316;
                            }
                            
                            bool loop_cond_63319 = slt64(loopres_63308,
                                                         min_res_62384);
                            bool loop_while_tmp_65563 = loop_cond_63319;
                            int64_t l_idx_tmp_65564 = loopres_63306;
                            int64_t r_idx_tmp_65565 = loopres_63307;
                            int64_t span_tmp_65566 = loopres_63308;
                            
                            loop_while_63283 = loop_while_tmp_65563;
                            l_idx_63284 = l_idx_tmp_65564;
                            r_idx_63285 = r_idx_tmp_65565;
                            span_63286 = span_tmp_65566;
                        }
                        idx_63279 = loop_while_63283;
                        idx_63280 = l_idx_63284;
                        idx_63281 = r_idx_63285;
                        idx_63282 = span_63286;
                        
                        int64_t min_res_63320 = smin64(min_arg_63236,
                                                       idx_63280);
                        int64_t x_63321 = add64(min_res_62384, min_res_63320);
                        int64_t r_63322 = sub64(x_63321, (int64_t) 1);
                        bool x_63323 = sle64((int64_t) 0, r_63322);
                        bool y_63324 = slt64(r_63322, n_62364);
                        bool bounds_check_63325 = x_63323 && y_63324;
                        bool index_certs_63326;
                        
                        if (!bounds_check_63325) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_63322,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:442:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:438:3-445:25\n   #4  loess.fut:461:18-55\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_64846, "mem_64846") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64842, "mem_64842") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65285,
                                               "ext_mem_65285") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65293,
                                               "ext_mem_65293") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65301,
                                               "ext_mem_65301") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65309,
                                               "ext_mem_65309") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_63327 = ((int64_t *) mem_64887)[r_63322];
                        int64_t abs_arg_63328 = sub64(x_63327, min_res_63256);
                        int64_t abs_res_63329 = abs64(abs_arg_63328);
                        bool x_63330 = sle64((int64_t) 0, min_res_63320);
                        bool y_63331 = slt64(min_res_63320, n_62364);
                        bool bounds_check_63332 = x_63330 && y_63331;
                        bool index_certs_63333;
                        
                        if (!bounds_check_63332) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) min_res_63320,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:441:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:438:3-445:25\n   #4  loess.fut:461:18-55\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_64846, "mem_64846") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_64842, "mem_64842") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65285,
                                               "ext_mem_65285") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65293,
                                               "ext_mem_65293") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65301,
                                               "ext_mem_65301") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65309,
                                               "ext_mem_65309") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_63334 =
                                ((int64_t *) mem_64887)[min_res_63320];
                        int64_t abs_arg_63335 = sub64(x_63334, min_res_63256);
                        int64_t abs_res_63336 = abs64(abs_arg_63335);
                        int64_t max_res_63337 = smax64(abs_res_63329,
                                                       abs_res_63336);
                        float defunc_0_f_res_63338 =
                              sitofp_i64_f32(max_res_63337);
                        float defunc_1_f_res_63339 = max_res_63240 +
                              defunc_0_f_res_63338;
                        float defunc_0_f_res_63340 =
                              sitofp_i64_f32(min_res_63256);
                        float defunc_2_reduce_res_63361;
                        float defunc_2_reduce_res_63362;
                        float defunc_2_reduce_res_63363;
                        float redout_63936;
                        float redout_63937;
                        float redout_63938;
                        
                        redout_63936 = 0.0F;
                        redout_63937 = 0.0F;
                        redout_63938 = 0.0F;
                        for (int64_t i_63941 = 0; i_63941 < q_62366;
                             i_63941++) {
                            float x_63376 = ((float *) mem_64944)[i_63941];
                            bool cond_63377 = sle64(last_res_63220, i_63941);
                            float defunc_0_f_res_63378;
                            
                            if (cond_63377) {
                                defunc_0_f_res_63378 = 0.0F;
                            } else {
                                int64_t i_63379 = add64(min_res_63320, i_63941);
                                float x_63380 = ((float *) mem_64914)[i_63379];
                                float defunc_0_f_res_f_res_63381 = 1.0F +
                                      x_63380;
                                
                                defunc_0_f_res_63378 =
                                    defunc_0_f_res_f_res_63381;
                            }
                            
                            float x_j_63382 = defunc_0_f_res_63378 -
                                  defunc_0_f_res_63340;
                            float abs_res_63383 = (float) fabs(x_j_63382);
                            float tmp1_63384 = abs_res_63383 /
                                  defunc_1_f_res_63339;
                            float x_63385 = tmp1_63384 * tmp1_63384;
                            float y_63386 = tmp1_63384 * x_63385;
                            float tmp2_63387 = 1.0F - y_63386;
                            float x_63388 = tmp2_63387 * tmp2_63387;
                            float tmp3_63389 = tmp2_63387 * x_63388;
                            float tmp4_63390 = x_63376 * tmp3_63389;
                            float defunc_1_f_res_63391 = x_j_63382 * tmp4_63390;
                            float defunc_1_f_res_63392 = x_j_63382 *
                                  defunc_1_f_res_63391;
                            float defunc_1_op_res_63368 = tmp4_63390 +
                                  redout_63936;
                            float defunc_1_op_res_63371 = defunc_1_f_res_63391 +
                                  redout_63937;
                            float defunc_1_op_res_63374 = defunc_1_f_res_63392 +
                                  redout_63938;
                            
                            ((float *) mem_64981)[i_63941] =
                                defunc_1_f_res_63391;
                            ((float *) mem_64984)[i_63941] = tmp4_63390;
                            
                            float redout_tmp_65567 = defunc_1_op_res_63368;
                            float redout_tmp_65568 = defunc_1_op_res_63371;
                            float redout_tmp_65569 = defunc_1_op_res_63374;
                            
                            redout_63936 = redout_tmp_65567;
                            redout_63937 = redout_tmp_65568;
                            redout_63938 = redout_tmp_65569;
                        }
                        defunc_2_reduce_res_63361 = redout_63936;
                        defunc_2_reduce_res_63362 = redout_63937;
                        defunc_2_reduce_res_63363 = redout_63938;
                        
                        float x_63398 = defunc_2_reduce_res_63361 *
                              defunc_2_reduce_res_63363;
                        float y_63399 = defunc_2_reduce_res_63362 *
                              defunc_2_reduce_res_63362;
                        float y_63400 = x_63398 - y_63399;
                        float det1_63401 = 1.0F / y_63400;
                        float a11_63402 = defunc_2_reduce_res_63363 *
                              det1_63401;
                        float negate_arg_63403 = defunc_2_reduce_res_63362 *
                              det1_63401;
                        float b11_63404 = 0.0F - negate_arg_63403;
                        float c11_63405 = defunc_2_reduce_res_63361 *
                              det1_63401;
                        float defunc_2_reduce_res_63406;
                        float defunc_2_reduce_res_63407;
                        float redout_63944;
                        float redout_63945;
                        
                        redout_63944 = 0.0F;
                        redout_63945 = 0.0F;
                        for (int64_t i_63946 = 0; i_63946 < q_62366;
                             i_63946++) {
                            float x_63415 = ((float *) mem_64984)[i_63946];
                            float x_63416 = ((float *) mem_64981)[i_63946];
                            bool cond_63417 = sle64(last_res_63220, i_63946);
                            float defunc_0_f_res_63418;
                            
                            if (cond_63417) {
                                defunc_0_f_res_63418 = 0.0F;
                            } else {
                                int64_t i_63419 = add64(min_res_63320, i_63946);
                                float x_63420 = ((float *) mem_64884)[i_63419];
                                
                                defunc_0_f_res_63418 = x_63420;
                            }
                            
                            float x_63421 = a11_63402 * x_63415;
                            float y_63422 = b11_63404 * x_63416;
                            float x_63423 = x_63421 + y_63422;
                            float defunc_9_fit_fun_res_63424 =
                                  defunc_0_f_res_63418 * x_63423;
                            float x_63425 = b11_63404 * x_63415;
                            float y_63426 = c11_63405 * x_63416;
                            float x_63427 = x_63425 + y_63426;
                            float defunc_9_slope_fun_res_63428 =
                                  defunc_0_f_res_63418 * x_63427;
                            float defunc_1_op_res_63410 =
                                  defunc_9_fit_fun_res_63424 + redout_63944;
                            float defunc_1_op_res_63413 =
                                  defunc_9_slope_fun_res_63428 + redout_63945;
                            float redout_tmp_65572 = defunc_1_op_res_63410;
                            float redout_tmp_65573 = defunc_1_op_res_63413;
                            
                            redout_63944 = redout_tmp_65572;
                            redout_63945 = redout_tmp_65573;
                        }
                        defunc_2_reduce_res_63406 = redout_63944;
                        defunc_2_reduce_res_63407 = redout_63945;
                        ((float *) mem_64842.mem)[i_63958 * n_m_62372 +
                                                  i_63951] =
                            defunc_2_reduce_res_63406;
                        ((float *) mem_64846.mem)[i_63958 * n_m_62372 +
                                                  i_63951] =
                            defunc_2_reduce_res_63407;
                    }
                }
                if (memblock_set(ctx, &ext_mem_65293, &mem_64842,
                                 "mem_64842") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_65285, &mem_64846,
                                 "mem_64846") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64846, "mem_64846") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_64842, "mem_64842") != 0)
                    return 1;
            } else {
                struct memblock mem_65050;
                
                mem_65050.references = NULL;
                if (memblock_alloc(ctx, &mem_65050, bytes_65047, "mem_65050")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_65054;
                
                mem_65054.references = NULL;
                if (memblock_alloc(ctx, &mem_65054, bytes_65047, "mem_65054")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_65077_cached_sizze_65641 < (size_t) bytes_65075) {
                    mem_65077 = realloc(mem_65077, bytes_65075);
                    mem_65077_cached_sizze_65641 = bytes_65075;
                }
                if (mem_65092_cached_sizze_65642 < (size_t) bytes_65090) {
                    mem_65092 = realloc(mem_65092, bytes_65090);
                    mem_65092_cached_sizze_65642 = bytes_65090;
                }
                if (mem_65095_cached_sizze_65643 < (size_t) bytes_65075) {
                    mem_65095 = realloc(mem_65095, bytes_65075);
                    mem_65095_cached_sizze_65643 = bytes_65075;
                }
                if (mem_65122_cached_sizze_65644 < (size_t) bytes_65090) {
                    mem_65122 = realloc(mem_65122, bytes_65090);
                    mem_65122_cached_sizze_65644 = bytes_65090;
                }
                if (mem_65125_cached_sizze_65645 < (size_t) bytes_65075) {
                    mem_65125 = realloc(mem_65125, bytes_65075);
                    mem_65125_cached_sizze_65645 = bytes_65075;
                }
                if (mem_65152_cached_sizze_65646 < (size_t) bytes_65150) {
                    mem_65152 = realloc(mem_65152, bytes_65150);
                    mem_65152_cached_sizze_65646 = bytes_65150;
                }
                if (mem_65189_cached_sizze_65647 < (size_t) bytes_65150) {
                    mem_65189 = realloc(mem_65189, bytes_65150);
                    mem_65189_cached_sizze_65647 = bytes_65150;
                }
                if (mem_65192_cached_sizze_65648 < (size_t) bytes_65150) {
                    mem_65192 = realloc(mem_65192, bytes_65150);
                    mem_65192_cached_sizze_65648 = bytes_65150;
                }
                if (mem_65219_cached_sizze_65649 < (size_t) bytes_65150) {
                    mem_65219 = realloc(mem_65219, bytes_65150);
                    mem_65219_cached_sizze_65649 = bytes_65150;
                }
                if (mem_65222_cached_sizze_65650 < (size_t) bytes_65150) {
                    mem_65222 = realloc(mem_65222, bytes_65150);
                    mem_65222_cached_sizze_65650 = bytes_65150;
                }
                for (int64_t i_64019 = 0; i_64019 < m_62363; i_64019++) {
                    int64_t discard_63966;
                    int64_t scanacc_63962 = (int64_t) 0;
                    
                    for (int64_t i_63964 = 0; i_63964 < n_62364; i_63964++) {
                        float x_63439 = ((float *) Y_mem_64159.mem)[i_64019 *
                                                                    n_62364 +
                                                                    i_63964];
                        bool isnan_res_63440;
                        
                        isnan_res_63440 = futrts_isnan32(x_63439);
                        
                        bool defunc_0_p_res_63441 = !isnan_res_63440;
                        int64_t defunc_0_f_res_63442 =
                                btoi_bool_i64(defunc_0_p_res_63441);
                        int64_t defunc_1_op_res_63438 =
                                add64(defunc_0_f_res_63442, scanacc_63962);
                        
                        ((int64_t *) mem_65077)[i_63964] =
                            defunc_1_op_res_63438;
                        
                        int64_t scanacc_tmp_65576 = defunc_1_op_res_63438;
                        
                        scanacc_63962 = scanacc_tmp_65576;
                    }
                    discard_63966 = scanacc_63962;
                    
                    int64_t last_res_63443 = ((int64_t *) mem_65077)[i_62378];
                    
                    for (int64_t i_65578 = 0; i_65578 < n_62364; i_65578++) {
                        ((float *) mem_65092)[i_65578] = 0.0F;
                    }
                    for (int64_t i_65579 = 0; i_65579 < n_62364; i_65579++) {
                        ((int64_t *) mem_65095)[i_65579] = (int64_t) -1;
                    }
                    for (int64_t write_iter_63967 = 0; write_iter_63967 <
                         n_62364; write_iter_63967++) {
                        float write_iv_63970 =
                              ((float *) Y_mem_64159.mem)[i_64019 * n_62364 +
                                                          write_iter_63967];
                        int64_t write_iv_63971 =
                                ((int64_t *) mem_65077)[write_iter_63967];
                        bool isnan_res_63451;
                        
                        isnan_res_63451 = futrts_isnan32(write_iv_63970);
                        
                        bool defunc_0_p_res_63452 = !isnan_res_63451;
                        int64_t defunc_1_f_res_63453;
                        
                        if (defunc_0_p_res_63452) {
                            int64_t defunc_1_f_res_t_res_63454 =
                                    sub64(write_iv_63971, (int64_t) 1);
                            
                            defunc_1_f_res_63453 = defunc_1_f_res_t_res_63454;
                        } else {
                            defunc_1_f_res_63453 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_63453) &&
                            slt64(defunc_1_f_res_63453, n_62364)) {
                            ((int64_t *) mem_65095)[defunc_1_f_res_63453] =
                                write_iter_63967;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_63453) &&
                            slt64(defunc_1_f_res_63453, n_62364)) {
                            memmove(mem_65092 + defunc_1_f_res_63453 *
                                    (int64_t) 4, Y_mem_64159.mem + (i_64019 *
                                                                    n_62364 +
                                                                    write_iter_63967) *
                                    (int64_t) 4, (int64_t) 4);
                        }
                    }
                    
                    int64_t min_arg_63458 = sub64(last_res_63443, (int64_t) 1);
                    int64_t min_arg_63459 = sub64(last_res_63443,
                                                  min_res_62384);
                    float i64_res_63460 = sitofp_i64_f32(last_res_63443);
                    float x_63461 = i64_res_62390 - i64_res_63460;
                    float max_arg_63462 = x_63461 / 2.0F;
                    float max_res_63463 = fmax32(0.0F, max_arg_63462);
                    
                    for (int64_t i_63979 = 0; i_63979 < n_62364; i_63979++) {
                        int64_t x_63466 = ((int64_t *) mem_65095)[i_63979];
                        int64_t defunc_0_f_res_63467 = add64((int64_t) 1,
                                                             x_63466);
                        float defunc_0_f_res_63468 = sitofp_i64_f32(x_63466);
                        
                        ((float *) mem_65122)[i_63979] = defunc_0_f_res_63468;
                        ((int64_t *) mem_65125)[i_63979] = defunc_0_f_res_63467;
                    }
                    for (int64_t i_63984 = 0; i_63984 < q_62366; i_63984++) {
                        bool cond_63473 = sle64(last_res_63443, i_63984);
                        float defunc_0_f_res_63474;
                        
                        if (cond_63473) {
                            defunc_0_f_res_63474 = 0.0F;
                        } else {
                            defunc_0_f_res_63474 = 1.0F;
                        }
                        ((float *) mem_65152)[i_63984] = defunc_0_f_res_63474;
                    }
                    for (int64_t i_64012 = 0; i_64012 < n_m_62372; i_64012++) {
                        int64_t min_arg_63478 = mul64(jump_62368, i_64012);
                        int64_t min_res_63479 = smin64(i_62378, min_arg_63478);
                        int64_t defunc_0_g_res_63480 = add64((int64_t) 1,
                                                             min_res_63479);
                        bool init_idx_63481;
                        int64_t init_idx_63482;
                        int64_t init_idx_63483;
                        bool loop_while_63484;
                        int64_t low_63485;
                        int64_t high_63486;
                        
                        loop_while_63484 = x_62379;
                        low_63485 = (int64_t) 0;
                        high_63486 = i_62378;
                        while (loop_while_63484) {
                            int64_t x_63487 = add64(low_63485, high_63486);
                            int64_t mid_63488 = sdiv64(x_63487, (int64_t) 2);
                            bool x_63489 = sle64((int64_t) 0, mid_63488);
                            bool y_63490 = slt64(mid_63488, n_62364);
                            bool bounds_check_63491 = x_63489 && y_63490;
                            bool index_certs_63492;
                            
                            if (!bounds_check_63491) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_63488,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62364, "].",
                                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                                if (memblock_unref(ctx, &mem_65054,
                                                   "mem_65054") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_65050,
                                                   "mem_65050") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65285,
                                                   "ext_mem_65285") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65293,
                                                   "ext_mem_65293") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65301,
                                                   "ext_mem_65301") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65309,
                                                   "ext_mem_65309") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65317,
                                                   "ext_mem_65317") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65325,
                                                   "ext_mem_65325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65449,
                                                   "mem_out_65449") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_63493 =
                                    ((int64_t *) mem_65125)[mid_63488];
                            bool cond_63494 = slt64(mid_id_63493, (int64_t) 0);
                            int64_t mid_idx_63495;
                            
                            if (cond_63494) {
                                mid_idx_63495 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_63495 = mid_id_63493;
                            }
                            
                            bool cond_63496 = sle64(defunc_0_g_res_63480,
                                                    mid_idx_63495);
                            int64_t loopres_63497;
                            int64_t loopres_63498;
                            
                            if (cond_63496) {
                                int64_t loopres_t_res_63499 = sub64(mid_63488,
                                                                    (int64_t) 1);
                                
                                loopres_63497 = low_63485;
                                loopres_63498 = loopres_t_res_63499;
                            } else {
                                int64_t loopres_f_res_63500 = add64((int64_t) 1,
                                                                    mid_63488);
                                
                                loopres_63497 = loopres_f_res_63500;
                                loopres_63498 = high_63486;
                            }
                            
                            bool loop_cond_63501 = sle64(loopres_63497,
                                                         loopres_63498);
                            bool loop_while_tmp_65587 = loop_cond_63501;
                            int64_t low_tmp_65588 = loopres_63497;
                            int64_t high_tmp_65589 = loopres_63498;
                            
                            loop_while_63484 = loop_while_tmp_65587;
                            low_63485 = low_tmp_65588;
                            high_63486 = high_tmp_65589;
                        }
                        init_idx_63481 = loop_while_63484;
                        init_idx_63482 = low_63485;
                        init_idx_63483 = high_63486;
                        
                        bool idx_63502;
                        int64_t idx_63503;
                        int64_t idx_63504;
                        int64_t idx_63505;
                        bool loop_while_63506;
                        int64_t l_idx_63507;
                        int64_t r_idx_63508;
                        int64_t span_63509;
                        
                        loop_while_63506 = loop_cond_62389;
                        l_idx_63507 = init_idx_63482;
                        r_idx_63508 = init_idx_63482;
                        span_63509 = (int64_t) 1;
                        while (loop_while_63506) {
                            int64_t max_arg_63510 = sub64(l_idx_63507,
                                                          (int64_t) 1);
                            int64_t max_res_63511 = smax64((int64_t) 0,
                                                           max_arg_63510);
                            int64_t min_arg_63512 = add64((int64_t) 1,
                                                          r_idx_63508);
                            int64_t min_res_63513 = smin64(min_arg_63458,
                                                           min_arg_63512);
                            bool x_63514 = sle64((int64_t) 0, max_res_63511);
                            bool y_63515 = slt64(max_res_63511, n_62364);
                            bool bounds_check_63516 = x_63514 && y_63515;
                            bool index_certs_63517;
                            
                            if (!bounds_check_63516) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_63511,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62364, "].",
                                              "-> #0  loess.fut:363:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                                if (memblock_unref(ctx, &mem_65054,
                                                   "mem_65054") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_65050,
                                                   "mem_65050") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65285,
                                                   "ext_mem_65285") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65293,
                                                   "ext_mem_65293") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65301,
                                                   "ext_mem_65301") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65309,
                                                   "ext_mem_65309") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65317,
                                                   "ext_mem_65317") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65325,
                                                   "ext_mem_65325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65449,
                                                   "mem_out_65449") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_63518 =
                                    ((int64_t *) mem_65125)[max_res_63511];
                            int64_t abs_arg_63519 = sub64(x_63518,
                                                          defunc_0_g_res_63480);
                            int64_t abs_res_63520 = abs64(abs_arg_63519);
                            bool x_63521 = sle64((int64_t) 0, min_res_63513);
                            bool y_63522 = slt64(min_res_63513, n_62364);
                            bool bounds_check_63523 = x_63521 && y_63522;
                            bool index_certs_63524;
                            
                            if (!bounds_check_63523) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_63513,
                                              "] out of bounds for array of shape [",
                                              (long long) n_62364, "].",
                                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-373:7\n   #4  loess.fut:460:15-58\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                                if (memblock_unref(ctx, &mem_65054,
                                                   "mem_65054") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_65050,
                                                   "mem_65050") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65285,
                                                   "ext_mem_65285") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65293,
                                                   "ext_mem_65293") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65301,
                                                   "ext_mem_65301") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65309,
                                                   "ext_mem_65309") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65317,
                                                   "ext_mem_65317") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_65325,
                                                   "ext_mem_65325") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_65449,
                                                   "mem_out_65449") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_63525 =
                                    ((int64_t *) mem_65125)[min_res_63513];
                            int64_t abs_arg_63526 = sub64(x_63525,
                                                          defunc_0_g_res_63480);
                            int64_t abs_res_63527 = abs64(abs_arg_63526);
                            bool cond_63528 = max_res_63511 == l_idx_63507;
                            int64_t loopres_63529;
                            int64_t loopres_63530;
                            int64_t loopres_63531;
                            
                            if (cond_63528) {
                                loopres_63529 = l_idx_63507;
                                loopres_63530 = r_idx_63508;
                                loopres_63531 = min_res_62384;
                            } else {
                                bool cond_63532 = slt64(abs_res_63520,
                                                        abs_res_63527);
                                bool cond_f_res_63533 = min_res_63513 ==
                                     r_idx_63508;
                                bool x_63534 = !cond_63532;
                                bool y_63535 = cond_f_res_63533 && x_63534;
                                bool cond_63536 = cond_63532 || y_63535;
                                int64_t loopres_f_res_63537;
                                
                                if (cond_63536) {
                                    loopres_f_res_63537 = max_res_63511;
                                } else {
                                    loopres_f_res_63537 = l_idx_63507;
                                }
                                
                                int64_t loopres_f_res_63538;
                                
                                if (cond_63536) {
                                    loopres_f_res_63538 = r_idx_63508;
                                } else {
                                    loopres_f_res_63538 = min_res_63513;
                                }
                                
                                int64_t loopres_f_res_63539;
                                
                                if (cond_63536) {
                                    int64_t loopres_f_res_t_res_63540 =
                                            add64((int64_t) 1, span_63509);
                                    
                                    loopres_f_res_63539 =
                                        loopres_f_res_t_res_63540;
                                } else {
                                    int64_t loopres_f_res_f_res_63541 =
                                            add64((int64_t) 1, span_63509);
                                    
                                    loopres_f_res_63539 =
                                        loopres_f_res_f_res_63541;
                                }
                                loopres_63529 = loopres_f_res_63537;
                                loopres_63530 = loopres_f_res_63538;
                                loopres_63531 = loopres_f_res_63539;
                            }
                            
                            bool loop_cond_63542 = slt64(loopres_63531,
                                                         min_res_62384);
                            bool loop_while_tmp_65590 = loop_cond_63542;
                            int64_t l_idx_tmp_65591 = loopres_63529;
                            int64_t r_idx_tmp_65592 = loopres_63530;
                            int64_t span_tmp_65593 = loopres_63531;
                            
                            loop_while_63506 = loop_while_tmp_65590;
                            l_idx_63507 = l_idx_tmp_65591;
                            r_idx_63508 = r_idx_tmp_65592;
                            span_63509 = span_tmp_65593;
                        }
                        idx_63502 = loop_while_63506;
                        idx_63503 = l_idx_63507;
                        idx_63504 = r_idx_63508;
                        idx_63505 = span_63509;
                        
                        int64_t min_res_63543 = smin64(min_arg_63459,
                                                       idx_63503);
                        int64_t x_63544 = add64(min_res_62384, min_res_63543);
                        int64_t r_63545 = sub64(x_63544, (int64_t) 1);
                        bool x_63546 = sle64((int64_t) 0, r_63545);
                        bool y_63547 = slt64(r_63545, n_62364);
                        bool bounds_check_63548 = x_63546 && y_63547;
                        bool index_certs_63549;
                        
                        if (!bounds_check_63548) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_63545,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:442:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:438:3-445:25\n   #4  loess.fut:461:18-55\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_65054, "mem_65054") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_65050, "mem_65050") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65285,
                                               "ext_mem_65285") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65293,
                                               "ext_mem_65293") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65301,
                                               "ext_mem_65301") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65309,
                                               "ext_mem_65309") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_63550 = ((int64_t *) mem_65095)[r_63545];
                        int64_t abs_arg_63551 = sub64(x_63550, min_res_63479);
                        int64_t abs_res_63552 = abs64(abs_arg_63551);
                        bool x_63553 = sle64((int64_t) 0, min_res_63543);
                        bool y_63554 = slt64(min_res_63543, n_62364);
                        bool bounds_check_63555 = x_63553 && y_63554;
                        bool index_certs_63556;
                        
                        if (!bounds_check_63555) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) min_res_63543,
                                          "] out of bounds for array of shape [",
                                          (long long) n_62364, "].",
                                          "-> #0  loess.fut:441:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:438:3-445:25\n   #4  loess.fut:461:18-55\n   #5  loess.fut:507:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:506:5-508:26\n   #9  loess.fut:490:1-530:26\n");
                            if (memblock_unref(ctx, &mem_65054, "mem_65054") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_65050, "mem_65050") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65285,
                                               "ext_mem_65285") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65293,
                                               "ext_mem_65293") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65301,
                                               "ext_mem_65301") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65309,
                                               "ext_mem_65309") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65317,
                                               "ext_mem_65317") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_65325,
                                               "ext_mem_65325") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_65449,
                                               "mem_out_65449") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_63557 =
                                ((int64_t *) mem_65095)[min_res_63543];
                        int64_t abs_arg_63558 = sub64(x_63557, min_res_63479);
                        int64_t abs_res_63559 = abs64(abs_arg_63558);
                        int64_t max_res_63560 = smax64(abs_res_63552,
                                                       abs_res_63559);
                        float defunc_0_f_res_63561 =
                              sitofp_i64_f32(max_res_63560);
                        float defunc_1_f_res_63562 = max_res_63463 +
                              defunc_0_f_res_63561;
                        float defunc_0_f_res_63563 =
                              sitofp_i64_f32(min_res_63479);
                        
                        for (int64_t i_63990 = 0; i_63990 < q_62366;
                             i_63990++) {
                            float x_63567 = ((float *) mem_65152)[i_63990];
                            bool cond_63568 = sle64(last_res_63443, i_63990);
                            float defunc_0_f_res_63569;
                            
                            if (cond_63568) {
                                defunc_0_f_res_63569 = 0.0F;
                            } else {
                                int64_t i_63570 = add64(min_res_63543, i_63990);
                                float x_63571 = ((float *) mem_65122)[i_63570];
                                float defunc_0_f_res_f_res_63572 = 1.0F +
                                      x_63571;
                                
                                defunc_0_f_res_63569 =
                                    defunc_0_f_res_f_res_63572;
                            }
                            
                            float x_j_63573 = defunc_0_f_res_63569 -
                                  defunc_0_f_res_63563;
                            float abs_res_63574 = (float) fabs(x_j_63573);
                            float tmp1_63575 = abs_res_63574 /
                                  defunc_1_f_res_63562;
                            float x_63576 = tmp1_63575 * tmp1_63575;
                            float y_63577 = tmp1_63575 * x_63576;
                            float tmp2_63578 = 1.0F - y_63577;
                            float x_63579 = tmp2_63578 * tmp2_63578;
                            float tmp3_63580 = tmp2_63578 * x_63579;
                            float tmp4_63581 = x_63567 * tmp3_63580;
                            
                            ((float *) mem_65189)[i_63990] = x_j_63573;
                            ((float *) mem_65192)[i_63990] = tmp4_63581;
                        }
                        
                        float defunc_2_reduce_res_63588;
                        float defunc_2_reduce_res_63589;
                        float defunc_2_reduce_res_63590;
                        float defunc_2_reduce_res_63591;
                        float defunc_2_reduce_res_63592;
                        float redout_63995;
                        float redout_63996;
                        float redout_63997;
                        float redout_63998;
                        float redout_63999;
                        
                        redout_63995 = 0.0F;
                        redout_63996 = 0.0F;
                        redout_63997 = 0.0F;
                        redout_63998 = 0.0F;
                        redout_63999 = 0.0F;
                        for (int64_t i_64002 = 0; i_64002 < q_62366;
                             i_64002++) {
                            float x_63610 = ((float *) mem_65189)[i_64002];
                            float x_63611 = ((float *) mem_65192)[i_64002];
                            float defunc_1_f_res_63612 = x_63610 * x_63611;
                            float defunc_1_f_res_63613 = x_63610 *
                                  defunc_1_f_res_63612;
                            float defunc_1_f_res_63614 = x_63610 *
                                  defunc_1_f_res_63613;
                            float defunc_1_f_res_63615 = x_63610 *
                                  defunc_1_f_res_63614;
                            float defunc_1_op_res_63597 = x_63611 +
                                  redout_63995;
                            float defunc_1_op_res_63600 = defunc_1_f_res_63612 +
                                  redout_63996;
                            float defunc_1_op_res_63603 = defunc_1_f_res_63613 +
                                  redout_63997;
                            float defunc_1_op_res_63606 = defunc_1_f_res_63614 +
                                  redout_63998;
                            float defunc_1_op_res_63609 = defunc_1_f_res_63615 +
                                  redout_63999;
                            
                            ((float *) mem_65219)[i_64002] =
                                defunc_1_f_res_63613;
                            ((float *) mem_65222)[i_64002] =
                                defunc_1_f_res_63612;
                            
                            float redout_tmp_65596 = defunc_1_op_res_63597;
                            float redout_tmp_65597 = defunc_1_op_res_63600;
                            float redout_tmp_65598 = defunc_1_op_res_63603;
                            float redout_tmp_65599 = defunc_1_op_res_63606;
                            float redout_tmp_65600 = defunc_1_op_res_63609;
                            
                            redout_63995 = redout_tmp_65596;
                            redout_63996 = redout_tmp_65597;
                            redout_63997 = redout_tmp_65598;
                            redout_63998 = redout_tmp_65599;
                            redout_63999 = redout_tmp_65600;
                        }
                        defunc_2_reduce_res_63588 = redout_63995;
                        defunc_2_reduce_res_63589 = redout_63996;
                        defunc_2_reduce_res_63590 = redout_63997;
                        defunc_2_reduce_res_63591 = redout_63998;
                        defunc_2_reduce_res_63592 = redout_63999;
                        
                        float x_63623 = defunc_2_reduce_res_63590 *
                              defunc_2_reduce_res_63592;
                        float y_63624 = defunc_2_reduce_res_63591 *
                              defunc_2_reduce_res_63591;
                        float a12_63625 = x_63623 - y_63624;
                        float x_63626 = defunc_2_reduce_res_63590 *
                              defunc_2_reduce_res_63591;
                        float y_63627 = defunc_2_reduce_res_63589 *
                              defunc_2_reduce_res_63592;
                        float b12_63628 = x_63626 - y_63627;
                        float x_63629 = defunc_2_reduce_res_63589 *
                              defunc_2_reduce_res_63591;
                        float y_63630 = defunc_2_reduce_res_63590 *
                              defunc_2_reduce_res_63590;
                        float c12_63631 = x_63629 - y_63630;
                        float x_63632 = defunc_2_reduce_res_63588 *
                              defunc_2_reduce_res_63592;
                        float b2_63633 = x_63632 - y_63630;
                        float x_63634 = defunc_2_reduce_res_63589 *
                              defunc_2_reduce_res_63590;
                        float y_63635 = defunc_2_reduce_res_63588 *
                              defunc_2_reduce_res_63591;
                        float c2_63636 = x_63634 - y_63635;
                        float x_63637 = defunc_2_reduce_res_63588 * a12_63625;
                        float y_63638 = defunc_2_reduce_res_63589 * b12_63628;
                        float x_63639 = x_63637 + y_63638;
                        float y_63640 = defunc_2_reduce_res_63590 * c12_63631;
                        float y_63641 = x_63639 + y_63640;
                        float det_63642 = 1.0F / y_63641;
                        float a12_63643 = a12_63625 * det_63642;
                        float b12_63644 = b12_63628 * det_63642;
                        float c12_63645 = c12_63631 * det_63642;
                        float b2_63646 = b2_63633 * det_63642;
                        float c2_63647 = c2_63636 * det_63642;
                        float defunc_2_reduce_res_63648;
                        float defunc_2_reduce_res_63649;
                        float redout_64005;
                        float redout_64006;
                        
                        redout_64005 = 0.0F;
                        redout_64006 = 0.0F;
                        for (int64_t i_64007 = 0; i_64007 < q_62366;
                             i_64007++) {
                            float x_63657 = ((float *) mem_65192)[i_64007];
                            float x_63658 = ((float *) mem_65222)[i_64007];
                            float x_63659 = ((float *) mem_65219)[i_64007];
                            bool cond_63660 = sle64(last_res_63443, i_64007);
                            float defunc_0_f_res_63661;
                            
                            if (cond_63660) {
                                defunc_0_f_res_63661 = 0.0F;
                            } else {
                                int64_t i_63662 = add64(min_res_63543, i_64007);
                                float x_63663 = ((float *) mem_65092)[i_63662];
                                
                                defunc_0_f_res_63661 = x_63663;
                            }
                            
                            float x_63664 = a12_63643 * x_63657;
                            float y_63665 = b12_63644 * x_63658;
                            float x_63666 = x_63664 + y_63665;
                            float y_63667 = c12_63645 * x_63659;
                            float x_63668 = x_63666 + y_63667;
                            float defunc_9_fit_fun_res_63669 =
                                  defunc_0_f_res_63661 * x_63668;
                            float x_63670 = b12_63644 * x_63657;
                            float y_63671 = b2_63646 * x_63658;
                            float x_63672 = x_63670 + y_63671;
                            float y_63673 = c2_63647 * x_63659;
                            float x_63674 = x_63672 + y_63673;
                            float defunc_9_slope_fun_res_63675 =
                                  defunc_0_f_res_63661 * x_63674;
                            float defunc_1_op_res_63652 =
                                  defunc_9_fit_fun_res_63669 + redout_64005;
                            float defunc_1_op_res_63655 =
                                  defunc_9_slope_fun_res_63675 + redout_64006;
                            float redout_tmp_65603 = defunc_1_op_res_63652;
                            float redout_tmp_65604 = defunc_1_op_res_63655;
                            
                            redout_64005 = redout_tmp_65603;
                            redout_64006 = redout_tmp_65604;
                        }
                        defunc_2_reduce_res_63648 = redout_64005;
                        defunc_2_reduce_res_63649 = redout_64006;
                        ((float *) mem_65050.mem)[i_64019 * n_m_62372 +
                                                  i_64012] =
                            defunc_2_reduce_res_63648;
                        ((float *) mem_65054.mem)[i_64019 * n_m_62372 +
                                                  i_64012] =
                            defunc_2_reduce_res_63649;
                    }
                }
                if (memblock_set(ctx, &ext_mem_65293, &mem_65050,
                                 "mem_65050") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_65285, &mem_65054,
                                 "mem_65054") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_65054, "mem_65054") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_65050, "mem_65050") != 0)
                    return 1;
            }
            if (memblock_set(ctx, &ext_mem_65309, &ext_mem_65293,
                             "ext_mem_65293") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_65301, &ext_mem_65285,
                             "ext_mem_65285") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_65285, "ext_mem_65285") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_65293, "ext_mem_65293") != 0)
                return 1;
        }
        if (memblock_set(ctx, &ext_mem_65325, &ext_mem_65309,
                         "ext_mem_65309") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_65317, &ext_mem_65301,
                         "ext_mem_65301") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_65301, "ext_mem_65301") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_65309, "ext_mem_65309") != 0)
            return 1;
    }
    
    bool cond_63678 = slt64((int64_t) 1, jump_62368);
    int64_t binop_x_65334 = m_62363 * n_62364;
    int64_t binop_y_65335 = (int64_t) 4 * binop_x_65334;
    int64_t bytes_65333 = smax64((int64_t) 0, binop_y_65335);
    int64_t ext_65381;
    
    if (cond_63678) {
        ext_65381 = n_62364;
    } else {
        ext_65381 = n_m_62372;
    }
    
    int64_t ext_65380;
    
    if (cond_63678) {
        ext_65380 = n_62364;
    } else {
        ext_65380 = n_m_62372;
    }
    
    struct memblock ext_mem_65377;
    
    ext_mem_65377.references = NULL;
    if (cond_63678) {
        bool zzero_63680 = jump_62368 == (int64_t) 0;
        bool nonzzero_63681 = !zzero_63680;
        bool nonzzero_cert_63682;
        
        if (!nonzzero_63681) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  loess.fut:474:27-34\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:473:3-486:14\n   #4  loess.fut:527:13-59\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  loess.fut:526:5-528:29\n   #8  loess.fut:490:1-530:26\n");
            if (memblock_unref(ctx, &ext_mem_65377, "ext_mem_65377") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_65317, "ext_mem_65317") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_65325, "ext_mem_65325") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_65449, "mem_out_65449") != 0)
                return 1;
            return 1;
        }
        
        int64_t y_63683 = sub64(n_m_62372, (int64_t) 1);
        struct memblock mem_65336;
        
        mem_65336.references = NULL;
        if (memblock_alloc(ctx, &mem_65336, bytes_65333, "mem_65336")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_64028 = 0; i_64028 < m_62363; i_64028++) {
            for (int64_t i_64024 = 0; i_64024 < n_62364; i_64024++) {
                int64_t m_v_63689 = sdiv64(i_64024, jump_62368);
                bool cond_63690 = m_v_63689 == y_63683;
                int64_t j_63691;
                
                if (cond_63690) {
                    int64_t j_t_res_63692 = sub64(m_v_63689, (int64_t) 1);
                    
                    j_63691 = j_t_res_63692;
                } else {
                    j_63691 = m_v_63689;
                }
                
                int64_t min_arg_63693 = mul64(jump_62368, j_63691);
                int64_t min_res_63694 = smin64(i_62378, min_arg_63693);
                int64_t defunc_0_m_fun_arg_63695 = add64((int64_t) 1, j_63691);
                int64_t min_arg_63696 = mul64(jump_62368,
                                              defunc_0_m_fun_arg_63695);
                int64_t min_res_63697 = smin64(i_62378, min_arg_63696);
                int64_t i64_arg_63698 = sub64(min_res_63697, min_res_63694);
                float i64_res_63699 = sitofp_i64_f32(i64_arg_63698);
                int64_t i64_arg_63700 = sub64(i_64024, min_res_63694);
                float i64_res_63701 = sitofp_i64_f32(i64_arg_63700);
                float u_63702 = i64_res_63701 / i64_res_63699;
                float u2_63703 = u_63702 * u_63702;
                float u3_63704 = u_63702 * u2_63703;
                float x_63705 = 2.0F * u3_63704;
                float y_63706 = 3.0F * u2_63703;
                float x_63707 = x_63705 - y_63706;
                float x_63708 = 1.0F + x_63707;
                bool x_63709 = sle64((int64_t) 0, j_63691);
                bool y_63710 = slt64(j_63691, n_m_62372);
                bool bounds_check_63711 = x_63709 && y_63710;
                bool index_certs_63712;
                
                if (!bounds_check_63711) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_63691,
                                  "] out of bounds for array of shape [",
                                  (long long) n_m_62372, "].",
                                  "-> #0  loess.fut:482:41-47\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:473:3-486:14\n   #4  loess.fut:527:13-59\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  loess.fut:526:5-528:29\n   #8  loess.fut:490:1-530:26\n");
                    if (memblock_unref(ctx, &mem_65336, "mem_65336") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_65377, "ext_mem_65377") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_65317, "ext_mem_65317") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_65325, "ext_mem_65325") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_65449, "mem_out_65449") !=
                        0)
                        return 1;
                    return 1;
                }
                
                float y_63713 = ((float *) ext_mem_65325.mem)[i_64028 *
                                                              n_m_62372 +
                                                              j_63691];
                float x_63714 = x_63708 * y_63713;
                float x_63715 = y_63706 - x_63705;
                bool x_63716 = sle64((int64_t) 0, defunc_0_m_fun_arg_63695);
                bool y_63717 = slt64(defunc_0_m_fun_arg_63695, n_m_62372);
                bool bounds_check_63718 = x_63716 && y_63717;
                bool index_certs_63719;
                
                if (!bounds_check_63718) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [",
                                  (long long) defunc_0_m_fun_arg_63695,
                                  "] out of bounds for array of shape [",
                                  (long long) n_m_62372, "].",
                                  "-> #0  loess.fut:483:41-51\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:473:3-486:14\n   #4  loess.fut:527:13-59\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  loess.fut:526:5-528:29\n   #8  loess.fut:490:1-530:26\n");
                    if (memblock_unref(ctx, &mem_65336, "mem_65336") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_65377, "ext_mem_65377") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_65317, "ext_mem_65317") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_65325, "ext_mem_65325") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_65449, "mem_out_65449") !=
                        0)
                        return 1;
                    return 1;
                }
                
                float y_63720 = ((float *) ext_mem_65325.mem)[i_64028 *
                                                              n_m_62372 +
                                                              defunc_0_m_fun_arg_63695];
                float y_63721 = x_63715 * y_63720;
                float x_63722 = x_63714 + y_63721;
                float y_63723 = 2.0F * u2_63703;
                float x_63724 = u3_63704 - y_63723;
                float x_63725 = u_63702 + x_63724;
                float y_63726 = ((float *) ext_mem_65317.mem)[i_64028 *
                                                              n_m_62372 +
                                                              j_63691];
                float x_63727 = x_63725 * y_63726;
                float y_63728 = i64_res_63699 * x_63727;
                float x_63729 = x_63722 + y_63728;
                float x_63730 = u3_63704 - u2_63703;
                float y_63731 = ((float *) ext_mem_65317.mem)[i_64028 *
                                                              n_m_62372 +
                                                              defunc_0_m_fun_arg_63695];
                float x_63732 = x_63730 * y_63731;
                float y_63733 = i64_res_63699 * x_63732;
                float defunc_0_f_res_63734 = x_63729 + y_63733;
                
                ((float *) mem_65336.mem)[i_64028 * n_62364 + i_64024] =
                    defunc_0_f_res_63734;
            }
        }
        if (memblock_set(ctx, &ext_mem_65377, &mem_65336, "mem_65336") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_65336, "mem_65336") != 0)
            return 1;
    } else {
        bool dim_match_63735 = n_62364 == n_m_62372;
        bool empty_or_match_cert_63736;
        
        if (!dim_match_63735) {
            ctx->error =
                msgprintf("Error: %s%lld%s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                          "Value of (core language) shape (",
                          (long long) m_62363, ", ", (long long) n_m_62372,
                          ") cannot match shape of type `[",
                          (long long) m_62363, "][", (long long) n_62364,
                          "]f32`.",
                          "-> #0  loess.fut:530:5-26\n   #1  loess.fut:490:1-530:26\n");
            if (memblock_unref(ctx, &ext_mem_65377, "ext_mem_65377") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_65317, "ext_mem_65317") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_65325, "ext_mem_65325") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_65449, "mem_out_65449") != 0)
                return 1;
            return 1;
        }
        if (memblock_set(ctx, &ext_mem_65377, &ext_mem_65325,
                         "ext_mem_65325") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &ext_mem_65317, "ext_mem_65317") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_65325, "ext_mem_65325") != 0)
        return 1;
    
    int64_t binop_x_65386 = m_62363 * n_62364;
    int64_t binop_y_65387 = (int64_t) 4 * binop_x_65386;
    int64_t bytes_65385 = smax64((int64_t) 0, binop_y_65387);
    struct memblock mem_65388;
    
    mem_65388.references = NULL;
    if (memblock_alloc(ctx, &mem_65388, bytes_65385, "mem_65388")) {
        err = 1;
        goto cleanup;
    }
    memmove(mem_65388.mem + (int64_t) 0, ext_mem_65377.mem + (int64_t) 0,
            m_62363 * n_62364 * (int64_t) 4);
    if (memblock_unref(ctx, &ext_mem_65377, "ext_mem_65377") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_65449, &mem_65388, "mem_65388") != 0)
        return 1;
    (*mem_out_p_65607).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_65607, &mem_out_65449, "mem_out_65449") !=
        0)
        return 1;
    if (memblock_unref(ctx, &mem_65388, "mem_65388") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_65377, "ext_mem_65377") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_65317, "ext_mem_65317") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_65325, "ext_mem_65325") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_out_65449, "mem_out_65449") != 0)
        return 1;
    
  cleanup:
    { }
    free(mem_64180);
    free(mem_64195);
    free(mem_64198);
    free(mem_64225);
    free(mem_64228);
    free(mem_64255);
    free(mem_64328);
    free(mem_64343);
    free(mem_64346);
    free(mem_64373);
    free(mem_64376);
    free(mem_64403);
    free(mem_64506);
    free(mem_64521);
    free(mem_64524);
    free(mem_64551);
    free(mem_64554);
    free(mem_64581);
    free(mem_64706);
    free(mem_64721);
    free(mem_64724);
    free(mem_64751);
    free(mem_64754);
    free(mem_64781);
    free(mem_64807);
    free(mem_64869);
    free(mem_64884);
    free(mem_64887);
    free(mem_64914);
    free(mem_64917);
    free(mem_64944);
    free(mem_64981);
    free(mem_64984);
    free(mem_65077);
    free(mem_65092);
    free(mem_65095);
    free(mem_65122);
    free(mem_65125);
    free(mem_65152);
    free(mem_65189);
    free(mem_65192);
    free(mem_65219);
    free(mem_65222);
    return err;
}
int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5)
{
    struct memblock Y_mem_64159;
    
    Y_mem_64159.references = NULL;
    
    int64_t m_62363;
    int64_t n_62364;
    int64_t q_62366;
    int64_t degree_62367;
    int64_t jump_62368;
    int64_t jump_threshold_62369;
    int64_t q_threshold_62370;
    struct memblock mem_out_65449;
    
    mem_out_65449.references = NULL;
    
    int ret = 0;
    
    lock_lock(&ctx->lock);
    Y_mem_64159 = in0->mem;
    m_62363 = in0->shape[0];
    n_62364 = in0->shape[1];
    q_62366 = in1;
    degree_62367 = in2;
    jump_62368 = in3;
    jump_threshold_62369 = in4;
    q_threshold_62370 = in5;
    if (!(m_62363 == in0->shape[0] && n_62364 == in0->shape[1])) {
        ret = 1;
        if (!ctx->error)
            ctx->error =
                msgprintf("Error: entry point arguments have invalid sizes.\n");
    }
    if (ret == 0) {
        ret = futrts_entry_main(ctx, &mem_out_65449, Y_mem_64159, m_62363,
                                n_62364, q_62366, degree_62367, jump_62368,
                                jump_threshold_62369, q_threshold_62370);
        if (ret == 0) {
            assert((*out0 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out0)->mem = mem_out_65449;
            (*out0)->shape[0] = m_62363;
            (*out0)->shape[1] = n_62364;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
