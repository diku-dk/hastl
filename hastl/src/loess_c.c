// Generated by Futhark 0.21.0
// git: 0d9594f (Wed Sep 8 23:21:55 2021 +0200)

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers\n")
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int flag);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *ctx);
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value);
int futhark_get_num_sizes(void);
const char *futhark_get_size_name(int);
const char *futhark_get_size_class(int);

// Arrays
struct futhark_f32_2d;
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1);
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              unsigned char *data,
                                              int64_t offset, int64_t dim0,
                                              int64_t dim1);
int futhark_free_f32_2d(struct futhark_context *ctx,
                        struct futhark_f32_2d *arr);
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data);
unsigned char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                         struct futhark_f32_2d *arr);
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr);

// Opaque values


// Entry points
int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_c

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                            const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

// End of util.h.
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

static uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

static float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>



// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.

#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

static inline uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

static inline uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

static inline uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

static inline uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

static inline uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

static inline uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

static inline uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

static inline uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

static inline uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

static inline uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

static inline uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

static inline uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

static inline uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

static inline uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

static inline uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

static inline uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

static inline uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

static inline uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

static inline uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

static inline uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

static inline uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

static inline uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

static inline uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

static inline uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

static inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

static inline int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

static inline int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

static inline int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

static inline int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

static inline int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

static inline int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

static inline int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

static inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

static inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

static inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

static inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

static inline int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

static inline int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

static inline int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

static inline int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

static inline int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

static inline int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

static inline int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

static inline int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

static inline int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

static inline int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

static inline int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

static inline int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

static inline int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

static inline int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

static inline int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

static inline int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

static inline uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

static inline uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

static inline uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

static inline uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

static inline int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

static inline int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

static inline int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

static inline int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

static inline uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

static inline uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

static inline uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

static inline uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

static inline uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

static inline uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

static inline uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

static inline uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

static inline uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

static inline uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

static inline uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

static inline uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

static inline int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

static inline int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

static inline int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

static inline int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

static inline uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

static inline uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

static inline uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

static inline uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

static inline uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

static inline uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

static inline uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

static inline uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

static inline uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

static inline uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

static inline uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

static inline uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

static inline bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

static inline bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

static inline bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

static inline bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

static inline bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

static inline bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

static inline bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

static inline bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

static inline bool slt8(int8_t x, int8_t y) {
  return x < y;
}

static inline bool slt16(int16_t x, int16_t y) {
  return x < y;
}

static inline bool slt32(int32_t x, int32_t y) {
  return x < y;
}

static inline bool slt64(int64_t x, int64_t y) {
  return x < y;
}

static inline bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

static inline bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

static inline bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

static inline bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

static inline uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline bool itob_i8_bool(int8_t x) {
  return x;
}

static inline bool itob_i16_bool(int16_t x) {
  return x;
}

static inline bool itob_i32_bool(int32_t x) {
  return x;
}

static inline bool itob_i64_bool(int64_t x) {
  return x;
}

static inline int8_t btoi_bool_i8(bool x) {
  return x;
}

static inline int16_t btoi_bool_i16(bool x) {
  return x;
}

static inline int32_t btoi_bool_i32(bool x) {
  return x;
}

static inline int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

static int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

static int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

static int32_t abs32(int32_t x) {
  return abs(x);
}

static int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
static int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

static int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

static int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

static int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

static int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

static int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

static int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

static int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  return mul_hi(a, b);
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  return mul_hi(a, b);
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mul_hi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul_hi(a, b);
}

#elif defined(__CUDA_ARCH__)

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mulhi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul64hi(a, b);
}

#else // Not OpenCL or CUDA, but plain C.

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  uint64_t aa = a;
  uint64_t bb = b;

  return aa * bb >> 32;
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  __uint128_t aa = a;
  __uint128_t bb = b;

  return aa * bb >> 64;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return mad_hi(a, b, c);
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return mad_hi(a, b, c);
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return mad_hi(a, b, c);
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return mad_hi(a, b, c);
}

#else // Not OpenCL

static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return futrts_mul_hi8(a, b) + c;
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return futrts_mul_hi16(a, b) + c;
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return futrts_mul_hi32(a, b) + c;
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return futrts_mul_hi64(a, b) + c;
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

static int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

static int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

static int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

static int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

static int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

static int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

static inline float fdiv32(float x, float y) {
  return x / y;
}

static inline float fadd32(float x, float y) {
  return x + y;
}

static inline float fsub32(float x, float y) {
  return x - y;
}

static inline float fmul32(float x, float y) {
  return x * y;
}

static inline bool cmplt32(float x, float y) {
  return x < y;
}

static inline bool cmple32(float x, float y) {
  return x <= y;
}

static inline float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

static inline float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

static inline float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

static inline float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

static inline float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

static inline float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

static inline float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

static inline float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

static inline int8_t fptosi_f32_i8(float x) {
  return (int8_t) x;
}

static inline int16_t fptosi_f32_i16(float x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f32_i32(float x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f32_i64(float x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f32_i8(float x) {
  return (uint8_t) x;
}

static inline uint16_t fptoui_f32_i16(float x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f32_i32(float x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f32_i64(float x) {
  return (uint64_t) x;
}

#ifdef __OPENCL_VERSION__
static inline float fabs32(float x) {
  return fabs(x);
}

static inline float fmax32(float x, float y) {
  return fmax(x, y);
}

static inline float fmin32(float x, float y) {
  return fmin(x, y);
}

static inline float fpow32(float x, float y) {
  return pow(x, y);
}

#else // Not OpenCL, but CUDA or plain C.

static inline float fabs32(float x) {
  return fabsf(x);
}

static inline float fmax32(float x, float y) {
  return fmaxf(x, y);
}

static inline float fmin32(float x, float y) {
  return fminf(x, y);
}

static inline float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

static inline bool futrts_isnan32(float x) {
  return isnan(x);
}

static inline bool futrts_isinf32(float x) {
  return isinf(x);
}

#ifdef __OPENCL_VERSION__
static inline float futrts_log32(float x) {
  return log(x);
}

static inline float futrts_log2_32(float x) {
  return log2(x);
}

static inline float futrts_log10_32(float x) {
  return log10(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrt(x);
}

static inline float futrts_exp32(float x) {
  return exp(x);
}

static inline float futrts_cos32(float x) {
  return cos(x);
}

static inline float futrts_sin32(float x) {
  return sin(x);
}

static inline float futrts_tan32(float x) {
  return tan(x);
}

static inline float futrts_acos32(float x) {
  return acos(x);
}

static inline float futrts_asin32(float x) {
  return asin(x);
}

static inline float futrts_atan32(float x) {
  return atan(x);
}

static inline float futrts_cosh32(float x) {
  return cosh(x);
}

static inline float futrts_sinh32(float x) {
  return sinh(x);
}

static inline float futrts_tanh32(float x) {
  return tanh(x);
}

static inline float futrts_acosh32(float x) {
  return acosh(x);
}

static inline float futrts_asinh32(float x) {
  return asinh(x);
}

static inline float futrts_atanh32(float x) {
  return atanh(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgamma(x);
}

static inline float futrts_lgamma32(float x) {
  return lgamma(x);
}

static inline float fmod32(float x, float y) {
  return fmod(x, y);
}

static inline float futrts_round32(float x) {
  return rint(x);
}

static inline float futrts_floor32(float x) {
  return floor(x);
}

static inline float futrts_ceil32(float x) {
  return ceil(x);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

static inline float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

static inline float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#else // Not OpenCL, but CUDA or plain C.

static inline float futrts_log32(float x) {
  return logf(x);
}

static inline float futrts_log2_32(float x) {
  return log2f(x);
}

static inline float futrts_log10_32(float x) {
  return log10f(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrtf(x);
}

static inline float futrts_exp32(float x) {
  return expf(x);
}

static inline float futrts_cos32(float x) {
  return cosf(x);
}

static inline float futrts_sin32(float x) {
  return sinf(x);
}

static inline float futrts_tan32(float x) {
  return tanf(x);
}

static inline float futrts_acos32(float x) {
  return acosf(x);
}

static inline float futrts_asin32(float x) {
  return asinf(x);
}

static inline float futrts_atan32(float x) {
  return atanf(x);
}

static inline float futrts_cosh32(float x) {
  return coshf(x);
}

static inline float futrts_sinh32(float x) {
  return sinhf(x);
}

static inline float futrts_tanh32(float x) {
  return tanhf(x);
}

static inline float futrts_acosh32(float x) {
  return acoshf(x);
}

static inline float futrts_asinh32(float x) {
  return asinhf(x);
}

static inline float futrts_atanh32(float x) {
  return atanhf(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgammaf(x);
}

static inline float futrts_lgamma32(float x) {
  return lgammaf(x);
}

static inline float fmod32(float x, float y) {
  return fmodf(x, y);
}

static inline float futrts_round32(float x) {
  return rintf(x);
}

static inline float futrts_floor32(float x) {
  return floorf(x);
}

static inline float futrts_ceil32(float x) {
  return ceilf(x);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

static inline float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

static inline float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

static inline int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}

static inline float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0) - (x < 0);
}

#ifdef FUTHARK_F64_ENABLED

static inline double fdiv64(double x, double y) {
  return x / y;
}

static inline double fadd64(double x, double y) {
  return x + y;
}

static inline double fsub64(double x, double y) {
  return x - y;
}

static inline double fmul64(double x, double y) {
  return x * y;
}

static inline bool cmplt64(double x, double y) {
  return x < y;
}

static inline bool cmple64(double x, double y) {
  return x <= y;
}

static inline double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

static inline double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

static inline double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

static inline double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

static inline double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

static inline double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

static inline double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

static inline double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

static inline int8_t fptosi_f64_i8(double x) {
  return (int8_t) x;
}

static inline int16_t fptosi_f64_i16(double x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f64_i32(double x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f64_i64(double x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f64_i8(double x) {
  return (uint8_t) x;
}

static inline uint16_t fptoui_f64_i16(double x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f64_i32(double x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f64_i64(double x) {
  return (uint64_t) x;
}

static inline double fabs64(double x) {
  return fabs(x);
}

static inline double fmax64(double x, double y) {
  return fmax(x, y);
}

static inline double fmin64(double x, double y) {
  return fmin(x, y);
}

static inline double fpow64(double x, double y) {
  return pow(x, y);
}

static inline double futrts_log64(double x) {
  return log(x);
}

static inline double futrts_log2_64(double x) {
  return log2(x);
}

static inline double futrts_log10_64(double x) {
  return log10(x);
}

static inline double futrts_sqrt64(double x) {
  return sqrt(x);
}

static inline double futrts_exp64(double x) {
  return exp(x);
}

static inline double futrts_cos64(double x) {
  return cos(x);
}

static inline double futrts_sin64(double x) {
  return sin(x);
}

static inline double futrts_tan64(double x) {
  return tan(x);
}

static inline double futrts_acos64(double x) {
  return acos(x);
}

static inline double futrts_asin64(double x) {
  return asin(x);
}

static inline double futrts_atan64(double x) {
  return atan(x);
}

static inline double futrts_cosh64(double x) {
  return cosh(x);
}

static inline double futrts_sinh64(double x) {
  return sinh(x);
}

static inline double futrts_tanh64(double x) {
  return tanh(x);
}

static inline double futrts_acosh64(double x) {
  return acosh(x);
}

static inline double futrts_asinh64(double x) {
  return asinh(x);
}

static inline double futrts_atanh64(double x) {
  return atanh(x);
}

static inline double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

static inline double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

static inline double futrts_gamma64(double x) {
  return tgamma(x);
}

static inline double futrts_lgamma64(double x) {
  return lgamma(x);
}

static inline double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

static inline double futrts_round64(double x) {
  return rint(x);
}

static inline double futrts_ceil64(double x) {
  return ceil(x);
}

static inline double futrts_floor64(double x) {
  return floor(x);
}

static inline bool futrts_isnan64(double x) {
  return isnan(x);
}

static inline bool futrts_isinf64(double x) {
  return isinf(x);
}

static inline int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

static inline double fmod64(double x, double y) {
  return fmod(x, y);
}

static inline double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

static inline double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

static inline double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

static inline float fpconv_f32_f32(float x) {
  return (float) x;
}

static inline double fpconv_f32_f64(float x) {
  return (double) x;
}

static inline float fpconv_f64_f32(double x) {
  return (float) x;
}

static inline double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600)
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

static inline f16 fadd16(f16 x, f16 y) {
  return x + y;
}

static inline f16 fsub16(f16 x, f16 y) {
  return x - y;
}

static inline f16 fmul16(f16 x, f16 y) {
  return x * y;
}

static inline bool cmplt16(f16 x, f16 y) {
  return x < y;
}

static inline bool cmple16(f16 x, f16 y) {
  return x <= y;
}

static inline f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

static inline f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

static inline f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

static inline f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

static inline f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

static inline f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

static inline f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

static inline f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

static inline int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

static inline int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

static inline uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

#ifndef EMULATE_F16

#ifdef __OPENCL_VERSION__
static inline f16 fabs16(f16 x) {
  return fabs(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

static inline f16 fabs16(f16 x) {
  return fabsf(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

static inline bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

static inline bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}

#ifdef __OPENCL_VERSION__
static inline f16 futrts_log16(f16 x) {
  return log(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return log2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return log10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

static inline f16 futrts_exp16(f16 x) {
  return exp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return cos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return sin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tan(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acos(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asin(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atan(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rint(x);
}

static inline f16 futrts_floor16(f16 x) {
  return floor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}

#else // Assume CUDA.

static inline f16 futrts_log16(f16 x) {
  return hlog(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

static inline f16 futrts_exp16(f16 x) {
  return hexp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return hcos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return hsin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tanf(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acosf(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asinf(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atanf(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rintf(x);
}

static inline f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
static inline int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
static inline f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#else
static inline int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

static inline f16 fabs16(f16 x) {
  return fabs32(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

static inline bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

static inline bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

static inline f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

static inline f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

static inline f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

static inline f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

static inline f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

static inline f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

static inline f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

static inline f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

static inline f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

static inline int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

static inline f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

static inline int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

static inline f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

static inline f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0) - (x < 0);
}

#endif

#endif

static inline float fpconv_f16_f16(f16 x) {
  return x;
}

static inline float fpconv_f16_f32(f16 x) {
  return x;
}

static inline f16 fpconv_f32_f16(float x) {
  return x;
}

#ifdef FUTHARK_F64_ENABLED

static inline double fpconv_f16_f64(f16 x) {
  return (double) x;
}

static inline f16 fpconv_f64_f16(double x) {
  return (f16) x;
}

#endif


// End of scalar_f16.h.

static int init_constants(struct futhark_context *);
static int free_constants(struct futhark_context *);
struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct futhark_context_config {
    int debugging;
};
struct futhark_context_config *futhark_context_config_new(void)
{
    struct futhark_context_config *cfg =
                                  (struct futhark_context_config *) malloc(sizeof(struct futhark_context_config));
    
    if (cfg == NULL)
        return NULL;
    cfg->debugging = 0;
    return cfg;
}
void futhark_context_config_free(struct futhark_context_config *cfg)
{
    free(cfg);
}
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int detail)
{
    cfg->debugging = detail;
}
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int detail)
{
    // Does nothing for this backend.
    (void) cfg;
    (void) detail;
}
struct futhark_context {
    int detail_memory;
    int debugging;
    int profiling;
    int logging;
    lock_t lock;
    char *error;
    FILE *log;
    int profiling_paused;
    int64_t peak_mem_usage_default;
    int64_t cur_mem_usage_default;
    struct {
        int dummy;
    } constants;
};
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg)
{
    struct futhark_context *ctx =
                           (struct futhark_context *) malloc(sizeof(struct futhark_context));
    
    if (ctx == NULL)
        return NULL;
    ctx->detail_memory = cfg->debugging;
    ctx->debugging = cfg->debugging;
    ctx->profiling = cfg->debugging;
    ctx->logging = cfg->debugging;
    ctx->error = NULL;
    ctx->log = stderr;
    create_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    ctx->cur_mem_usage_default = 0;
    init_constants(ctx);
    return ctx;
}
void futhark_context_free(struct futhark_context *ctx)
{
    free_constants(ctx);
    free_lock(&ctx->lock);
    free(ctx);
}
int futhark_context_sync(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
static const char *size_names[0];
static const char *size_vars[0];
static const char *size_classes[0];
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value)
{
    (void) cfg;
    (void) size_name;
    (void) size_value;
    return 1;
}
static int memblock_unref(struct futhark_context *ctx, struct memblock *block,
                          const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log,
                    "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n",
                    desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            free(block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log,
                        "%lld bytes freed (now allocated: %lld bytes)\n",
                        (long long) block->size,
                        (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
static int memblock_alloc(struct futhark_context *ctx, struct memblock *block,
                          int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1,
                      "Negative allocation of %lld bytes attempted for %s in %s.\n",
                      (long long) size, desc, "default space",
                      ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    ctx->cur_mem_usage_default += size;
    if (ctx->detail_memory)
        fprintf(ctx->log,
                "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)",
                (long long) size, desc, "default space",
                (long long) ctx->cur_mem_usage_default);
    if (ctx->cur_mem_usage_default > ctx->peak_mem_usage_default) {
        ctx->peak_mem_usage_default = ctx->cur_mem_usage_default;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    block->mem = (unsigned char *) malloc((size_t) size);
    block->references = (int *) malloc(sizeof(int));
    *block->references = 1;
    block->size = size;
    block->desc = desc;
    return ret;
}
static int memblock_set(struct futhark_context *ctx, struct memblock *lhs,
                        struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
int futhark_get_num_sizes(void)
{
    return sizeof(size_names) / sizeof(size_names[0]);
}
const char *futhark_get_size_name(int i)
{
    return size_names[i];
}
const char *futhark_get_size_class(int i)
{
    return size_classes[i];
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    if (ctx->detail_memory || ctx->profiling || ctx->logging) {
        { }
    }
    if (ctx->profiling) { }
    return builder.str;
}
char *futhark_context_get_error(struct futhark_context *ctx)
{
    char *error = ctx->error;
    
    ctx->error = NULL;
    return error;
}
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f)
{
    ctx->log = f;
}
void futhark_context_pause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 1;
}
void futhark_context_unpause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 0;
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_73330,
                             struct memblock Y_mem_71984, int64_t m_70232,
                             int64_t n_70233, int64_t q_70235,
                             int64_t degree_70236, int64_t jump_70237,
                             int64_t jump_threshold_70238,
                             int64_t q_threshold_70239);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_f32_2d {
    struct memblock mem;
    int64_t shape[2];
};
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 4 > 0)
        memmove(arr->mem.mem + 0, data + 0, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              unsigned char *data,
                                              int64_t offset, int64_t dim0,
                                              int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 4 > 0)
        memmove(arr->mem.mem + 0, data + offset, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data)
{
    lock_lock(&ctx->lock);
    if ((size_t) (arr->shape[0] * arr->shape[1]) * 4 > 0)
        memmove(data + 0, arr->mem.mem + 0, (size_t) (arr->shape[0] *
                                                      arr->shape[1]) * 4);
    lock_unlock(&ctx->lock);
    return 0;
}
unsigned char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                         struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->shape;
}

static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_73330,
                             struct memblock Y_mem_71984, int64_t m_70232,
                             int64_t n_70233, int64_t q_70235,
                             int64_t degree_70236, int64_t jump_70237,
                             int64_t jump_threshold_70238,
                             int64_t q_threshold_70239)
{
    (void) ctx;
    
    int err = 0;
    size_t mem_72005_cached_sizze_73331 = 0;
    unsigned char *mem_72005 = NULL;
    size_t mem_72020_cached_sizze_73332 = 0;
    unsigned char *mem_72020 = NULL;
    size_t mem_72023_cached_sizze_73333 = 0;
    unsigned char *mem_72023 = NULL;
    size_t mem_72050_cached_sizze_73334 = 0;
    unsigned char *mem_72050 = NULL;
    size_t mem_72065_cached_sizze_73335 = 0;
    unsigned char *mem_72065 = NULL;
    size_t mem_72138_cached_sizze_73336 = 0;
    unsigned char *mem_72138 = NULL;
    size_t mem_72153_cached_sizze_73337 = 0;
    unsigned char *mem_72153 = NULL;
    size_t mem_72156_cached_sizze_73338 = 0;
    unsigned char *mem_72156 = NULL;
    size_t mem_72183_cached_sizze_73339 = 0;
    unsigned char *mem_72183 = NULL;
    size_t mem_72198_cached_sizze_73340 = 0;
    unsigned char *mem_72198 = NULL;
    size_t mem_72301_cached_sizze_73341 = 0;
    unsigned char *mem_72301 = NULL;
    size_t mem_72316_cached_sizze_73342 = 0;
    unsigned char *mem_72316 = NULL;
    size_t mem_72319_cached_sizze_73343 = 0;
    unsigned char *mem_72319 = NULL;
    size_t mem_72346_cached_sizze_73344 = 0;
    unsigned char *mem_72346 = NULL;
    size_t mem_72361_cached_sizze_73345 = 0;
    unsigned char *mem_72361 = NULL;
    size_t mem_72486_cached_sizze_73346 = 0;
    unsigned char *mem_72486 = NULL;
    size_t mem_72501_cached_sizze_73347 = 0;
    unsigned char *mem_72501 = NULL;
    size_t mem_72504_cached_sizze_73348 = 0;
    unsigned char *mem_72504 = NULL;
    size_t mem_72531_cached_sizze_73349 = 0;
    unsigned char *mem_72531 = NULL;
    size_t mem_72546_cached_sizze_73350 = 0;
    unsigned char *mem_72546 = NULL;
    size_t mem_72572_cached_sizze_73351 = 0;
    unsigned char *mem_72572 = NULL;
    size_t mem_72634_cached_sizze_73352 = 0;
    unsigned char *mem_72634 = NULL;
    size_t mem_72649_cached_sizze_73353 = 0;
    unsigned char *mem_72649 = NULL;
    size_t mem_72652_cached_sizze_73354 = 0;
    unsigned char *mem_72652 = NULL;
    size_t mem_72679_cached_sizze_73355 = 0;
    unsigned char *mem_72679 = NULL;
    size_t mem_72694_cached_sizze_73356 = 0;
    unsigned char *mem_72694 = NULL;
    size_t mem_72731_cached_sizze_73357 = 0;
    unsigned char *mem_72731 = NULL;
    size_t mem_72734_cached_sizze_73358 = 0;
    unsigned char *mem_72734 = NULL;
    size_t mem_72827_cached_sizze_73359 = 0;
    unsigned char *mem_72827 = NULL;
    size_t mem_72842_cached_sizze_73360 = 0;
    unsigned char *mem_72842 = NULL;
    size_t mem_72845_cached_sizze_73361 = 0;
    unsigned char *mem_72845 = NULL;
    size_t mem_72872_cached_sizze_73362 = 0;
    unsigned char *mem_72872 = NULL;
    size_t mem_72887_cached_sizze_73363 = 0;
    unsigned char *mem_72887 = NULL;
    size_t mem_72924_cached_sizze_73364 = 0;
    unsigned char *mem_72924 = NULL;
    size_t mem_72927_cached_sizze_73365 = 0;
    unsigned char *mem_72927 = NULL;
    size_t mem_72954_cached_sizze_73366 = 0;
    unsigned char *mem_72954 = NULL;
    size_t mem_72957_cached_sizze_73367 = 0;
    unsigned char *mem_72957 = NULL;
    struct memblock mem_out_73178;
    
    mem_out_73178.references = NULL;
    
    bool cond_70240 = jump_70237 == (int64_t) 1;
    int64_t n_m_70241;
    
    if (cond_70240) {
        n_m_70241 = n_70233;
    } else {
        bool zzero_70242 = jump_70237 == (int64_t) 0;
        bool nonzzero_70243 = !zzero_70242;
        bool nonzzero_cert_70244;
        
        if (!nonzzero_70243) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  loess.fut:578:38-45\n   #1  loess.fut:571:1-610:26\n");
            if (memblock_unref(ctx, &mem_out_73178, "mem_out_73178") != 0)
                return 1;
            return 1;
        }
        
        int64_t x_70245 = sdiv64(n_70233, jump_70237);
        int64_t n_m_f_res_70246 = add64((int64_t) 1, x_70245);
        
        n_m_70241 = n_m_f_res_70246;
    }
    
    int64_t i_70247 = sub64(n_70233, (int64_t) 1);
    bool x_70248 = sle64((int64_t) 0, i_70247);
    bool y_70249 = slt64(i_70247, n_70233);
    bool bounds_check_70250 = x_70248 && y_70249;
    bool index_certs_70251;
    
    if (!bounds_check_70250) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [", (long long) i_70247,
                               "] out of bounds for array of shape [",
                               (long long) n_70233, "].",
                               "-> #0  /prelude/array.fut:26:29-34\n   #1  utils.fut:53:13-20\n   #2  loess.fut:583:5-54\n   #3  loess.fut:571:1-610:26\n");
        if (memblock_unref(ctx, &mem_out_73178, "mem_out_73178") != 0)
            return 1;
        return 1;
    }
    
    int64_t min_res_70253 = smin64(n_70233, q_70235);
    bool bounds_invalid_upwards_70254 = slt64(n_m_70241, (int64_t) 0);
    bool valid_70255 = !bounds_invalid_upwards_70254;
    bool range_valid_c_70256;
    
    if (!valid_70255) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) n_m_70241, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  utils.fut:6:3-16\n   #3  loess.fut:442:3-469:10\n   #4  loess.fut:502:15-61\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
        if (memblock_unref(ctx, &mem_out_73178, "mem_out_73178") != 0)
            return 1;
        return 1;
    }
    
    bool loop_cond_70258 = slt64((int64_t) 1, min_res_70253);
    float i64_res_70259 = sitofp_i64_f32(q_70235);
    bool cond_70260 = slt64(jump_70237, jump_threshold_70238);
    bool cond_f_res_70261 = slt64(q_threshold_70239, q_70235);
    bool x_70262 = !cond_70260;
    bool y_70263 = cond_f_res_70261 && x_70262;
    bool cond_70264 = cond_70260 || y_70263;
    struct memblock ext_mem_73060;
    
    ext_mem_73060.references = NULL;
    
    struct memblock ext_mem_73052;
    
    ext_mem_73052.references = NULL;
    if (cond_70264) {
        bool match_lit_70267 = (int64_t) 0 == degree_70236;
        int64_t binop_x_71985 = m_70232 * n_m_70241;
        int64_t binop_y_71986 = (int64_t) 4 * binop_x_71985;
        int64_t bytes_71987 = smax64((int64_t) 0, binop_y_71986);
        int64_t binop_y_72003 = (int64_t) 8 * n_70233;
        int64_t bytes_72004 = smax64((int64_t) 0, binop_y_72003);
        int64_t binop_y_72018 = (int64_t) 4 * n_70233;
        int64_t bytes_72019 = smax64((int64_t) 0, binop_y_72018);
        int64_t binop_y_72063 = (int64_t) 4 * q_70235;
        int64_t bytes_72064 = smax64((int64_t) 0, binop_y_72063);
        struct memblock ext_mem_72458;
        
        ext_mem_72458.references = NULL;
        
        struct memblock ext_mem_72450;
        
        ext_mem_72450.references = NULL;
        if (match_lit_70267) {
            struct memblock mem_71988;
            
            mem_71988.references = NULL;
            if (memblock_alloc(ctx, &mem_71988, bytes_71987, "mem_71988")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_73179 = 0; i_73179 < m_70232; i_73179++) {
                for (int64_t i_73180 = 0; i_73180 < n_m_70241; i_73180++) {
                    ((float *) mem_71988.mem)[i_73179 * n_m_70241 + i_73180] =
                        0.0F;
                }
            }
            
            struct memblock mem_71992;
            
            mem_71992.references = NULL;
            if (memblock_alloc(ctx, &mem_71992, bytes_71987, "mem_71992")) {
                err = 1;
                goto cleanup;
            }
            if (mem_72005_cached_sizze_73331 < (size_t) bytes_72004) {
                mem_72005 = realloc(mem_72005, bytes_72004);
                mem_72005_cached_sizze_73331 = bytes_72004;
            }
            if (mem_72020_cached_sizze_73332 < (size_t) bytes_72019) {
                mem_72020 = realloc(mem_72020, bytes_72019);
                mem_72020_cached_sizze_73332 = bytes_72019;
            }
            if (mem_72023_cached_sizze_73333 < (size_t) bytes_72004) {
                mem_72023 = realloc(mem_72023, bytes_72004);
                mem_72023_cached_sizze_73333 = bytes_72004;
            }
            if (mem_72050_cached_sizze_73334 < (size_t) bytes_72004) {
                mem_72050 = realloc(mem_72050, bytes_72004);
                mem_72050_cached_sizze_73334 = bytes_72004;
            }
            if (mem_72065_cached_sizze_73335 < (size_t) bytes_72064) {
                mem_72065 = realloc(mem_72065, bytes_72064);
                mem_72065_cached_sizze_73335 = bytes_72064;
            }
            for (int64_t i_71613 = 0; i_71613 < m_70232; i_71613++) {
                int64_t discard_71586;
                int64_t scanacc_71582 = (int64_t) 0;
                
                for (int64_t i_71584 = 0; i_71584 < n_70233; i_71584++) {
                    float x_70278 = ((float *) Y_mem_71984.mem)[i_71613 *
                                                                n_70233 +
                                                                i_71584];
                    bool isnan_res_70279;
                    
                    isnan_res_70279 = futrts_isnan32(x_70278);
                    
                    bool defunc_0_p_res_70280 = !isnan_res_70279;
                    int64_t defunc_0_f_res_70281 =
                            btoi_bool_i64(defunc_0_p_res_70280);
                    int64_t defunc_1_op_res_70277 = add64(defunc_0_f_res_70281,
                                                          scanacc_71582);
                    
                    ((int64_t *) mem_72005)[i_71584] = defunc_1_op_res_70277;
                    
                    int64_t scanacc_tmp_73182 = defunc_1_op_res_70277;
                    
                    scanacc_71582 = scanacc_tmp_73182;
                }
                discard_71586 = scanacc_71582;
                
                int64_t last_res_70282 = ((int64_t *) mem_72005)[i_70247];
                
                for (int64_t i_73184 = 0; i_73184 < n_70233; i_73184++) {
                    ((float *) mem_72020)[i_73184] = 0.0F;
                }
                for (int64_t i_73185 = 0; i_73185 < n_70233; i_73185++) {
                    ((int64_t *) mem_72023)[i_73185] = (int64_t) -1;
                }
                for (int64_t write_iter_71587 = 0; write_iter_71587 < n_70233;
                     write_iter_71587++) {
                    float write_iv_71590 = ((float *) Y_mem_71984.mem)[i_71613 *
                                                                       n_70233 +
                                                                       write_iter_71587];
                    int64_t write_iv_71591 =
                            ((int64_t *) mem_72005)[write_iter_71587];
                    bool isnan_res_70290;
                    
                    isnan_res_70290 = futrts_isnan32(write_iv_71590);
                    
                    bool defunc_0_p_res_70291 = !isnan_res_70290;
                    int64_t defunc_1_f_res_70292;
                    
                    if (defunc_0_p_res_70291) {
                        int64_t defunc_1_f_res_t_res_70293 =
                                sub64(write_iv_71591, (int64_t) 1);
                        
                        defunc_1_f_res_70292 = defunc_1_f_res_t_res_70293;
                    } else {
                        defunc_1_f_res_70292 = (int64_t) -1;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_70292) &&
                        slt64(defunc_1_f_res_70292, n_70233)) {
                        ((int64_t *) mem_72023)[defunc_1_f_res_70292] =
                            write_iter_71587;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_70292) &&
                        slt64(defunc_1_f_res_70292, n_70233)) {
                        if ((int64_t) 4 > 0)
                            memmove(mem_72020 + defunc_1_f_res_70292 *
                                    (int64_t) 4, Y_mem_71984.mem + (i_71613 *
                                                                    n_70233 +
                                                                    write_iter_71587) *
                                    (int64_t) 4, (int64_t) 4);
                    }
                }
                for (int64_t i_71597 = 0; i_71597 < n_70233; i_71597++) {
                    int64_t x_70295 = ((int64_t *) mem_72023)[i_71597];
                    int64_t defunc_0_f_res_70296 = add64((int64_t) 1, x_70295);
                    
                    ((int64_t *) mem_72050)[i_71597] = defunc_0_f_res_70296;
                }
                
                int64_t min_arg_70297 = sub64(last_res_70282, (int64_t) 1);
                int64_t min_arg_70298 = sub64(last_res_70282, min_res_70253);
                int64_t min_res_70299 = smin64(q_70235, last_res_70282);
                float i64_res_70300 = sitofp_i64_f32(last_res_70282);
                float x_70301 = i64_res_70259 - i64_res_70300;
                float max_arg_70302 = x_70301 / 2.0F;
                float max_res_70303 = fmax32(0.0F, max_arg_70302);
                
                for (int64_t i_71601 = 0; i_71601 < q_70235; i_71601++) {
                    bool cond_70306 = sle64(last_res_70282, i_71601);
                    float defunc_0_f_res_70307;
                    
                    if (cond_70306) {
                        defunc_0_f_res_70307 = 0.0F;
                    } else {
                        defunc_0_f_res_70307 = 1.0F;
                    }
                    ((float *) mem_72065)[i_71601] = defunc_0_f_res_70307;
                }
                for (int64_t i_71609 = 0; i_71609 < n_m_70241; i_71609++) {
                    int64_t min_arg_70310 = mul64(jump_70237, i_71609);
                    int64_t min_res_70311 = smin64(i_70247, min_arg_70310);
                    int64_t defunc_0_g_res_70312 = add64((int64_t) 1,
                                                         min_res_70311);
                    bool init_idx_70313;
                    int64_t init_idx_70314;
                    int64_t init_idx_70315;
                    bool loop_while_70316;
                    int64_t low_70317;
                    int64_t high_70318;
                    
                    loop_while_70316 = x_70248;
                    low_70317 = (int64_t) 0;
                    high_70318 = i_70247;
                    while (loop_while_70316) {
                        int64_t x_70319 = add64(low_70317, high_70318);
                        int64_t mid_70320 = sdiv64(x_70319, (int64_t) 2);
                        bool x_70321 = sle64((int64_t) 0, mid_70320);
                        bool y_70322 = slt64(mid_70320, n_70233);
                        bool bounds_check_70323 = x_70321 && y_70322;
                        bool index_certs_70324;
                        
                        if (!bounds_check_70323) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) mid_70320,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_71992, "mem_71992") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_71988, "mem_71988") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72450,
                                               "ext_mem_72450") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72458,
                                               "ext_mem_72458") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t mid_id_70325 =
                                ((int64_t *) mem_72050)[mid_70320];
                        bool cond_70326 = slt64(mid_id_70325, (int64_t) 0);
                        int64_t mid_idx_70327;
                        
                        if (cond_70326) {
                            mid_idx_70327 = (int64_t) 9223372036854775807;
                        } else {
                            mid_idx_70327 = mid_id_70325;
                        }
                        
                        bool cond_70328 = sle64(defunc_0_g_res_70312,
                                                mid_idx_70327);
                        int64_t loopres_70329;
                        int64_t loopres_70330;
                        
                        if (cond_70328) {
                            int64_t loopres_t_res_70331 = sub64(mid_70320,
                                                                (int64_t) 1);
                            
                            loopres_70329 = low_70317;
                            loopres_70330 = loopres_t_res_70331;
                        } else {
                            int64_t loopres_f_res_70332 = add64((int64_t) 1,
                                                                mid_70320);
                            
                            loopres_70329 = loopres_f_res_70332;
                            loopres_70330 = high_70318;
                        }
                        
                        bool loop_cond_70333 = sle64(loopres_70329,
                                                     loopres_70330);
                        bool loop_while_tmp_73191 = loop_cond_70333;
                        int64_t low_tmp_73192 = loopres_70329;
                        int64_t high_tmp_73193 = loopres_70330;
                        
                        loop_while_70316 = loop_while_tmp_73191;
                        low_70317 = low_tmp_73192;
                        high_70318 = high_tmp_73193;
                    }
                    init_idx_70313 = loop_while_70316;
                    init_idx_70314 = low_70317;
                    init_idx_70315 = high_70318;
                    
                    bool idx_70334;
                    int64_t idx_70335;
                    int64_t idx_70336;
                    int64_t idx_70337;
                    bool loop_while_70338;
                    int64_t l_idx_70339;
                    int64_t r_idx_70340;
                    int64_t span_70341;
                    
                    loop_while_70338 = loop_cond_70258;
                    l_idx_70339 = init_idx_70314;
                    r_idx_70340 = init_idx_70314;
                    span_70341 = (int64_t) 1;
                    while (loop_while_70338) {
                        int64_t max_arg_70342 = sub64(l_idx_70339, (int64_t) 1);
                        int64_t max_res_70343 = smax64((int64_t) 0,
                                                       max_arg_70342);
                        int64_t min_arg_70344 = add64((int64_t) 1, r_idx_70340);
                        int64_t min_res_70345 = smin64(min_arg_70297,
                                                       min_arg_70344);
                        bool x_70346 = sle64((int64_t) 0, max_res_70343);
                        bool y_70347 = slt64(max_res_70343, n_70233);
                        bool bounds_check_70348 = x_70346 && y_70347;
                        bool index_certs_70349;
                        
                        if (!bounds_check_70348) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_70343,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_71992, "mem_71992") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_71988, "mem_71988") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72450,
                                               "ext_mem_72450") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72458,
                                               "ext_mem_72458") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70350 =
                                ((int64_t *) mem_72050)[max_res_70343];
                        int64_t abs_arg_70351 = sub64(x_70350,
                                                      defunc_0_g_res_70312);
                        int64_t abs_res_70352 = abs64(abs_arg_70351);
                        bool x_70353 = sle64((int64_t) 0, min_res_70345);
                        bool y_70354 = slt64(min_res_70345, n_70233);
                        bool bounds_check_70355 = x_70353 && y_70354;
                        bool index_certs_70356;
                        
                        if (!bounds_check_70355) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) min_res_70345,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_71992, "mem_71992") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_71988, "mem_71988") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72450,
                                               "ext_mem_72450") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72458,
                                               "ext_mem_72458") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70357 =
                                ((int64_t *) mem_72050)[min_res_70345];
                        int64_t abs_arg_70358 = sub64(x_70357,
                                                      defunc_0_g_res_70312);
                        int64_t abs_res_70359 = abs64(abs_arg_70358);
                        bool cond_70360 = max_res_70343 == l_idx_70339;
                        int64_t loopres_70361;
                        int64_t loopres_70362;
                        int64_t loopres_70363;
                        
                        if (cond_70360) {
                            loopres_70361 = l_idx_70339;
                            loopres_70362 = r_idx_70340;
                            loopres_70363 = min_res_70253;
                        } else {
                            bool cond_70364 = slt64(abs_res_70352,
                                                    abs_res_70359);
                            bool cond_f_res_70365 = min_res_70345 ==
                                 r_idx_70340;
                            bool x_70366 = !cond_70364;
                            bool y_70367 = cond_f_res_70365 && x_70366;
                            bool cond_70368 = cond_70364 || y_70367;
                            int64_t loopres_f_res_70369;
                            
                            if (cond_70368) {
                                loopres_f_res_70369 = max_res_70343;
                            } else {
                                loopres_f_res_70369 = l_idx_70339;
                            }
                            
                            int64_t loopres_f_res_70370;
                            
                            if (cond_70368) {
                                loopres_f_res_70370 = r_idx_70340;
                            } else {
                                loopres_f_res_70370 = min_res_70345;
                            }
                            
                            int64_t loopres_f_res_70371;
                            
                            if (cond_70368) {
                                int64_t loopres_f_res_t_res_70372 =
                                        add64((int64_t) 1, span_70341);
                                
                                loopres_f_res_70371 = loopres_f_res_t_res_70372;
                            } else {
                                int64_t loopres_f_res_f_res_70373 =
                                        add64((int64_t) 1, span_70341);
                                
                                loopres_f_res_70371 = loopres_f_res_f_res_70373;
                            }
                            loopres_70361 = loopres_f_res_70369;
                            loopres_70362 = loopres_f_res_70370;
                            loopres_70363 = loopres_f_res_70371;
                        }
                        
                        bool loop_cond_70374 = slt64(loopres_70363,
                                                     min_res_70253);
                        bool loop_while_tmp_73194 = loop_cond_70374;
                        int64_t l_idx_tmp_73195 = loopres_70361;
                        int64_t r_idx_tmp_73196 = loopres_70362;
                        int64_t span_tmp_73197 = loopres_70363;
                        
                        loop_while_70338 = loop_while_tmp_73194;
                        l_idx_70339 = l_idx_tmp_73195;
                        r_idx_70340 = r_idx_tmp_73196;
                        span_70341 = span_tmp_73197;
                    }
                    idx_70334 = loop_while_70338;
                    idx_70335 = l_idx_70339;
                    idx_70336 = r_idx_70340;
                    idx_70337 = span_70341;
                    
                    int64_t min_res_70375 = smin64(min_arg_70298, idx_70335);
                    int64_t max_res_70376 = smax64((int64_t) 0, min_res_70375);
                    int64_t x_70377 = add64(min_res_70299, max_res_70376);
                    int64_t r_70378 = sub64(x_70377, (int64_t) 1);
                    bool x_70379 = sle64((int64_t) 0, r_70378);
                    bool y_70380 = slt64(r_70378, n_70233);
                    bool bounds_check_70381 = x_70379 && y_70380;
                    bool index_certs_70382;
                    
                    if (!bounds_check_70381) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) r_70378,
                                      "] out of bounds for array of shape [",
                                      (long long) n_70233, "].",
                                      "-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
                        if (memblock_unref(ctx, &mem_71992, "mem_71992") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_71988, "mem_71988") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_72450,
                                           "ext_mem_72450") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_72458,
                                           "ext_mem_72458") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73052,
                                           "ext_mem_73052") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73060,
                                           "ext_mem_73060") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_73178,
                                           "mem_out_73178") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_70383 = ((int64_t *) mem_72023)[r_70378];
                    int64_t abs_arg_70384 = sub64(x_70383, min_res_70311);
                    int64_t abs_res_70385 = abs64(abs_arg_70384);
                    bool x_70386 = sle64((int64_t) 0, max_res_70376);
                    bool y_70387 = slt64(max_res_70376, n_70233);
                    bool bounds_check_70388 = x_70386 && y_70387;
                    bool index_certs_70389;
                    
                    if (!bounds_check_70388) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) max_res_70376,
                                      "] out of bounds for array of shape [",
                                      (long long) n_70233, "].",
                                      "-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
                        if (memblock_unref(ctx, &mem_71992, "mem_71992") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_71988, "mem_71988") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_72450,
                                           "ext_mem_72450") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_72458,
                                           "ext_mem_72458") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73052,
                                           "ext_mem_73052") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73060,
                                           "ext_mem_73060") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_73178,
                                           "mem_out_73178") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_70390 = ((int64_t *) mem_72023)[max_res_70376];
                    int64_t abs_arg_70391 = sub64(x_70390, min_res_70311);
                    int64_t abs_res_70392 = abs64(abs_arg_70391);
                    int64_t max_res_70393 = smax64(abs_res_70385,
                                                   abs_res_70392);
                    float defunc_0_f_res_70394 = sitofp_i64_f32(max_res_70393);
                    float defunc_1_f_res_70395 = max_res_70303 +
                          defunc_0_f_res_70394;
                    float defunc_2_reduce_res_70396;
                    float redout_71603 = 0.0F;
                    
                    for (int64_t i_71604 = 0; i_71604 < q_70235; i_71604++) {
                        float x_70401 = ((float *) mem_72065)[i_71604];
                        bool cond_70402 = sle64(last_res_70282, i_71604);
                        int64_t defunc_0_f_res_70403;
                        
                        if (cond_70402) {
                            defunc_0_f_res_70403 = (int64_t) 0;
                        } else {
                            int64_t i_70404 = add64(max_res_70376, i_71604);
                            int64_t defunc_0_add_arg_70405 =
                                    ((int64_t *) mem_72023)[i_70404];
                            int64_t defunc_1_add_res_70406 = add64((int64_t) 1,
                                                                   defunc_0_add_arg_70405);
                            
                            defunc_0_f_res_70403 = defunc_1_add_res_70406;
                        }
                        
                        int64_t binop_p_70407 = sub64(defunc_0_f_res_70403,
                                                      min_res_70311);
                        float defunc_0_f_res_70408 =
                              sitofp_i64_f32(binop_p_70407);
                        float abs_res_70409 =
                              (float) fabs(defunc_0_f_res_70408);
                        float tmp1_70410 = abs_res_70409 / defunc_1_f_res_70395;
                        float x_70411 = tmp1_70410 * tmp1_70410;
                        float y_70412 = tmp1_70410 * x_70411;
                        float tmp2_70413 = 1.0F - y_70412;
                        float x_70414 = tmp2_70413 * tmp2_70413;
                        float tmp3_70415 = tmp2_70413 * x_70414;
                        float w_j_70416 = x_70401 * tmp3_70415;
                        float defunc_1_op_res_70399 = w_j_70416 + redout_71603;
                        float redout_tmp_73198 = defunc_1_op_res_70399;
                        
                        redout_71603 = redout_tmp_73198;
                    }
                    defunc_2_reduce_res_70396 = redout_71603;
                    
                    float a0_70417 = 1.0F / defunc_2_reduce_res_70396;
                    float defunc_2_reduce_res_70418;
                    float redout_71605 = 0.0F;
                    
                    for (int64_t i_71606 = 0; i_71606 < q_70235; i_71606++) {
                        float x_70423 = ((float *) mem_72065)[i_71606];
                        bool cond_70424 = sle64(last_res_70282, i_71606);
                        int64_t defunc_0_f_res_70425;
                        
                        if (cond_70424) {
                            defunc_0_f_res_70425 = (int64_t) 0;
                        } else {
                            int64_t i_70426 = add64(max_res_70376, i_71606);
                            int64_t defunc_0_add_arg_70427 =
                                    ((int64_t *) mem_72023)[i_70426];
                            int64_t defunc_1_add_res_70428 = add64((int64_t) 1,
                                                                   defunc_0_add_arg_70427);
                            
                            defunc_0_f_res_70425 = defunc_1_add_res_70428;
                        }
                        
                        int64_t binop_p_70429 = sub64(defunc_0_f_res_70425,
                                                      min_res_70311);
                        float defunc_0_f_res_70430 =
                              sitofp_i64_f32(binop_p_70429);
                        float abs_res_70431 =
                              (float) fabs(defunc_0_f_res_70430);
                        float tmp1_70432 = abs_res_70431 / defunc_1_f_res_70395;
                        float x_70433 = tmp1_70432 * tmp1_70432;
                        float y_70434 = tmp1_70432 * x_70433;
                        float tmp2_70435 = 1.0F - y_70434;
                        float x_70436 = tmp2_70435 * tmp2_70435;
                        float tmp3_70437 = tmp2_70435 * x_70436;
                        float tmp4_70438 = x_70423 * tmp3_70437;
                        float defunc_0_f_res_70439;
                        
                        if (cond_70424) {
                            defunc_0_f_res_70439 = 0.0F;
                        } else {
                            int64_t i_70440 = add64(max_res_70376, i_71606);
                            float defunc_0_add_arg_70441 =
                                  ((float *) mem_72020)[i_70440];
                            
                            defunc_0_f_res_70439 = defunc_0_add_arg_70441;
                        }
                        
                        float x_70442 = a0_70417 * tmp4_70438;
                        float defunc_9_fit_fun_res_70443 =
                              defunc_0_f_res_70439 * x_70442;
                        float defunc_1_op_res_70421 =
                              defunc_9_fit_fun_res_70443 + redout_71605;
                        float redout_tmp_73199 = defunc_1_op_res_70421;
                        
                        redout_71605 = redout_tmp_73199;
                    }
                    defunc_2_reduce_res_70418 = redout_71605;
                    ((float *) mem_71992.mem)[i_71613 * n_m_70241 + i_71609] =
                        defunc_2_reduce_res_70418;
                }
            }
            if (memblock_set(ctx, &ext_mem_72458, &mem_71992, "mem_71992") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_72450, &mem_71988, "mem_71988") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_71992, "mem_71992") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_71988, "mem_71988") != 0)
                return 1;
        } else {
            bool match_lit_70446 = (int64_t) 1 == degree_70236;
            int64_t binop_x_72108 = m_70232 * n_m_70241;
            int64_t binop_y_72109 = (int64_t) 4 * binop_x_72108;
            int64_t bytes_72110 = smax64((int64_t) 0, binop_y_72109);
            int64_t binop_y_72136 = (int64_t) 8 * n_70233;
            int64_t bytes_72137 = smax64((int64_t) 0, binop_y_72136);
            int64_t binop_y_72151 = (int64_t) 4 * n_70233;
            int64_t bytes_72152 = smax64((int64_t) 0, binop_y_72151);
            int64_t binop_y_72196 = (int64_t) 4 * q_70235;
            int64_t bytes_72197 = smax64((int64_t) 0, binop_y_72196);
            int64_t binop_x_72271 = m_70232 * n_m_70241;
            int64_t binop_y_72272 = (int64_t) 4 * binop_x_72271;
            int64_t bytes_72273 = smax64((int64_t) 0, binop_y_72272);
            int64_t binop_y_72299 = (int64_t) 8 * n_70233;
            int64_t bytes_72300 = smax64((int64_t) 0, binop_y_72299);
            int64_t binop_y_72314 = (int64_t) 4 * n_70233;
            int64_t bytes_72315 = smax64((int64_t) 0, binop_y_72314);
            int64_t binop_y_72359 = (int64_t) 4 * q_70235;
            int64_t bytes_72360 = smax64((int64_t) 0, binop_y_72359);
            struct memblock ext_mem_72442;
            
            ext_mem_72442.references = NULL;
            
            struct memblock ext_mem_72434;
            
            ext_mem_72434.references = NULL;
            if (match_lit_70446) {
                struct memblock mem_72111;
                
                mem_72111.references = NULL;
                if (memblock_alloc(ctx, &mem_72111, bytes_72110, "mem_72111")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_72115;
                
                mem_72115.references = NULL;
                if (memblock_alloc(ctx, &mem_72115, bytes_72110, "mem_72115")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_72138_cached_sizze_73336 < (size_t) bytes_72137) {
                    mem_72138 = realloc(mem_72138, bytes_72137);
                    mem_72138_cached_sizze_73336 = bytes_72137;
                }
                if (mem_72153_cached_sizze_73337 < (size_t) bytes_72152) {
                    mem_72153 = realloc(mem_72153, bytes_72152);
                    mem_72153_cached_sizze_73337 = bytes_72152;
                }
                if (mem_72156_cached_sizze_73338 < (size_t) bytes_72137) {
                    mem_72156 = realloc(mem_72156, bytes_72137);
                    mem_72156_cached_sizze_73338 = bytes_72137;
                }
                if (mem_72183_cached_sizze_73339 < (size_t) bytes_72137) {
                    mem_72183 = realloc(mem_72183, bytes_72137);
                    mem_72183_cached_sizze_73339 = bytes_72137;
                }
                if (mem_72198_cached_sizze_73340 < (size_t) bytes_72197) {
                    mem_72198 = realloc(mem_72198, bytes_72197);
                    mem_72198_cached_sizze_73340 = bytes_72197;
                }
                for (int64_t i_71655 = 0; i_71655 < m_70232; i_71655++) {
                    int64_t discard_71620;
                    int64_t scanacc_71616 = (int64_t) 0;
                    
                    for (int64_t i_71618 = 0; i_71618 < n_70233; i_71618++) {
                        float x_70457 = ((float *) Y_mem_71984.mem)[i_71655 *
                                                                    n_70233 +
                                                                    i_71618];
                        bool isnan_res_70458;
                        
                        isnan_res_70458 = futrts_isnan32(x_70457);
                        
                        bool defunc_0_p_res_70459 = !isnan_res_70458;
                        int64_t defunc_0_f_res_70460 =
                                btoi_bool_i64(defunc_0_p_res_70459);
                        int64_t defunc_1_op_res_70456 =
                                add64(defunc_0_f_res_70460, scanacc_71616);
                        
                        ((int64_t *) mem_72138)[i_71618] =
                            defunc_1_op_res_70456;
                        
                        int64_t scanacc_tmp_73202 = defunc_1_op_res_70456;
                        
                        scanacc_71616 = scanacc_tmp_73202;
                    }
                    discard_71620 = scanacc_71616;
                    
                    int64_t last_res_70461 = ((int64_t *) mem_72138)[i_70247];
                    
                    for (int64_t i_73204 = 0; i_73204 < n_70233; i_73204++) {
                        ((float *) mem_72153)[i_73204] = 0.0F;
                    }
                    for (int64_t i_73205 = 0; i_73205 < n_70233; i_73205++) {
                        ((int64_t *) mem_72156)[i_73205] = (int64_t) -1;
                    }
                    for (int64_t write_iter_71621 = 0; write_iter_71621 <
                         n_70233; write_iter_71621++) {
                        float write_iv_71624 =
                              ((float *) Y_mem_71984.mem)[i_71655 * n_70233 +
                                                          write_iter_71621];
                        int64_t write_iv_71625 =
                                ((int64_t *) mem_72138)[write_iter_71621];
                        bool isnan_res_70469;
                        
                        isnan_res_70469 = futrts_isnan32(write_iv_71624);
                        
                        bool defunc_0_p_res_70470 = !isnan_res_70469;
                        int64_t defunc_1_f_res_70471;
                        
                        if (defunc_0_p_res_70470) {
                            int64_t defunc_1_f_res_t_res_70472 =
                                    sub64(write_iv_71625, (int64_t) 1);
                            
                            defunc_1_f_res_70471 = defunc_1_f_res_t_res_70472;
                        } else {
                            defunc_1_f_res_70471 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_70471) &&
                            slt64(defunc_1_f_res_70471, n_70233)) {
                            ((int64_t *) mem_72156)[defunc_1_f_res_70471] =
                                write_iter_71621;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_70471) &&
                            slt64(defunc_1_f_res_70471, n_70233)) {
                            if ((int64_t) 4 > 0)
                                memmove(mem_72153 + defunc_1_f_res_70471 *
                                        (int64_t) 4, Y_mem_71984.mem +
                                        (i_71655 * n_70233 + write_iter_71621) *
                                        (int64_t) 4, (int64_t) 4);
                        }
                    }
                    for (int64_t i_71631 = 0; i_71631 < n_70233; i_71631++) {
                        int64_t x_70474 = ((int64_t *) mem_72156)[i_71631];
                        int64_t defunc_0_f_res_70475 = add64((int64_t) 1,
                                                             x_70474);
                        
                        ((int64_t *) mem_72183)[i_71631] = defunc_0_f_res_70475;
                    }
                    
                    int64_t min_arg_70476 = sub64(last_res_70461, (int64_t) 1);
                    int64_t min_arg_70477 = sub64(last_res_70461,
                                                  min_res_70253);
                    int64_t min_res_70478 = smin64(q_70235, last_res_70461);
                    float i64_res_70479 = sitofp_i64_f32(last_res_70461);
                    float x_70480 = i64_res_70259 - i64_res_70479;
                    float max_arg_70481 = x_70480 / 2.0F;
                    float max_res_70482 = fmax32(0.0F, max_arg_70481);
                    
                    for (int64_t i_71635 = 0; i_71635 < q_70235; i_71635++) {
                        bool cond_70485 = sle64(last_res_70461, i_71635);
                        float defunc_0_f_res_70486;
                        
                        if (cond_70485) {
                            defunc_0_f_res_70486 = 0.0F;
                        } else {
                            defunc_0_f_res_70486 = 1.0F;
                        }
                        ((float *) mem_72198)[i_71635] = defunc_0_f_res_70486;
                    }
                    for (int64_t i_71648 = 0; i_71648 < n_m_70241; i_71648++) {
                        int64_t min_arg_70490 = mul64(jump_70237, i_71648);
                        int64_t min_res_70491 = smin64(i_70247, min_arg_70490);
                        int64_t defunc_0_g_res_70492 = add64((int64_t) 1,
                                                             min_res_70491);
                        bool init_idx_70493;
                        int64_t init_idx_70494;
                        int64_t init_idx_70495;
                        bool loop_while_70496;
                        int64_t low_70497;
                        int64_t high_70498;
                        
                        loop_while_70496 = x_70248;
                        low_70497 = (int64_t) 0;
                        high_70498 = i_70247;
                        while (loop_while_70496) {
                            int64_t x_70499 = add64(low_70497, high_70498);
                            int64_t mid_70500 = sdiv64(x_70499, (int64_t) 2);
                            bool x_70501 = sle64((int64_t) 0, mid_70500);
                            bool y_70502 = slt64(mid_70500, n_70233);
                            bool bounds_check_70503 = x_70501 && y_70502;
                            bool index_certs_70504;
                            
                            if (!bounds_check_70503) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_70500,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70233, "].",
                                              "-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                                if (memblock_unref(ctx, &mem_72115,
                                                   "mem_72115") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72111,
                                                   "mem_72111") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72434,
                                                   "ext_mem_72434") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72442,
                                                   "ext_mem_72442") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72450,
                                                   "ext_mem_72450") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72458,
                                                   "ext_mem_72458") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73052,
                                                   "ext_mem_73052") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73060,
                                                   "ext_mem_73060") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73178,
                                                   "mem_out_73178") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_70505 =
                                    ((int64_t *) mem_72183)[mid_70500];
                            bool cond_70506 = slt64(mid_id_70505, (int64_t) 0);
                            int64_t mid_idx_70507;
                            
                            if (cond_70506) {
                                mid_idx_70507 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_70507 = mid_id_70505;
                            }
                            
                            bool cond_70508 = sle64(defunc_0_g_res_70492,
                                                    mid_idx_70507);
                            int64_t loopres_70509;
                            int64_t loopres_70510;
                            
                            if (cond_70508) {
                                int64_t loopres_t_res_70511 = sub64(mid_70500,
                                                                    (int64_t) 1);
                                
                                loopres_70509 = low_70497;
                                loopres_70510 = loopres_t_res_70511;
                            } else {
                                int64_t loopres_f_res_70512 = add64((int64_t) 1,
                                                                    mid_70500);
                                
                                loopres_70509 = loopres_f_res_70512;
                                loopres_70510 = high_70498;
                            }
                            
                            bool loop_cond_70513 = sle64(loopres_70509,
                                                         loopres_70510);
                            bool loop_while_tmp_73212 = loop_cond_70513;
                            int64_t low_tmp_73213 = loopres_70509;
                            int64_t high_tmp_73214 = loopres_70510;
                            
                            loop_while_70496 = loop_while_tmp_73212;
                            low_70497 = low_tmp_73213;
                            high_70498 = high_tmp_73214;
                        }
                        init_idx_70493 = loop_while_70496;
                        init_idx_70494 = low_70497;
                        init_idx_70495 = high_70498;
                        
                        bool idx_70514;
                        int64_t idx_70515;
                        int64_t idx_70516;
                        int64_t idx_70517;
                        bool loop_while_70518;
                        int64_t l_idx_70519;
                        int64_t r_idx_70520;
                        int64_t span_70521;
                        
                        loop_while_70518 = loop_cond_70258;
                        l_idx_70519 = init_idx_70494;
                        r_idx_70520 = init_idx_70494;
                        span_70521 = (int64_t) 1;
                        while (loop_while_70518) {
                            int64_t max_arg_70522 = sub64(l_idx_70519,
                                                          (int64_t) 1);
                            int64_t max_res_70523 = smax64((int64_t) 0,
                                                           max_arg_70522);
                            int64_t min_arg_70524 = add64((int64_t) 1,
                                                          r_idx_70520);
                            int64_t min_res_70525 = smin64(min_arg_70476,
                                                           min_arg_70524);
                            bool x_70526 = sle64((int64_t) 0, max_res_70523);
                            bool y_70527 = slt64(max_res_70523, n_70233);
                            bool bounds_check_70528 = x_70526 && y_70527;
                            bool index_certs_70529;
                            
                            if (!bounds_check_70528) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_70523,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70233, "].",
                                              "-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                                if (memblock_unref(ctx, &mem_72115,
                                                   "mem_72115") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72111,
                                                   "mem_72111") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72434,
                                                   "ext_mem_72434") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72442,
                                                   "ext_mem_72442") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72450,
                                                   "ext_mem_72450") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72458,
                                                   "ext_mem_72458") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73052,
                                                   "ext_mem_73052") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73060,
                                                   "ext_mem_73060") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73178,
                                                   "mem_out_73178") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_70530 =
                                    ((int64_t *) mem_72183)[max_res_70523];
                            int64_t abs_arg_70531 = sub64(x_70530,
                                                          defunc_0_g_res_70492);
                            int64_t abs_res_70532 = abs64(abs_arg_70531);
                            bool x_70533 = sle64((int64_t) 0, min_res_70525);
                            bool y_70534 = slt64(min_res_70525, n_70233);
                            bool bounds_check_70535 = x_70533 && y_70534;
                            bool index_certs_70536;
                            
                            if (!bounds_check_70535) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_70525,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70233, "].",
                                              "-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                                if (memblock_unref(ctx, &mem_72115,
                                                   "mem_72115") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72111,
                                                   "mem_72111") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72434,
                                                   "ext_mem_72434") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72442,
                                                   "ext_mem_72442") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72450,
                                                   "ext_mem_72450") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72458,
                                                   "ext_mem_72458") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73052,
                                                   "ext_mem_73052") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73060,
                                                   "ext_mem_73060") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73178,
                                                   "mem_out_73178") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_70537 =
                                    ((int64_t *) mem_72183)[min_res_70525];
                            int64_t abs_arg_70538 = sub64(x_70537,
                                                          defunc_0_g_res_70492);
                            int64_t abs_res_70539 = abs64(abs_arg_70538);
                            bool cond_70540 = max_res_70523 == l_idx_70519;
                            int64_t loopres_70541;
                            int64_t loopres_70542;
                            int64_t loopres_70543;
                            
                            if (cond_70540) {
                                loopres_70541 = l_idx_70519;
                                loopres_70542 = r_idx_70520;
                                loopres_70543 = min_res_70253;
                            } else {
                                bool cond_70544 = slt64(abs_res_70532,
                                                        abs_res_70539);
                                bool cond_f_res_70545 = min_res_70525 ==
                                     r_idx_70520;
                                bool x_70546 = !cond_70544;
                                bool y_70547 = cond_f_res_70545 && x_70546;
                                bool cond_70548 = cond_70544 || y_70547;
                                int64_t loopres_f_res_70549;
                                
                                if (cond_70548) {
                                    loopres_f_res_70549 = max_res_70523;
                                } else {
                                    loopres_f_res_70549 = l_idx_70519;
                                }
                                
                                int64_t loopres_f_res_70550;
                                
                                if (cond_70548) {
                                    loopres_f_res_70550 = r_idx_70520;
                                } else {
                                    loopres_f_res_70550 = min_res_70525;
                                }
                                
                                int64_t loopres_f_res_70551;
                                
                                if (cond_70548) {
                                    int64_t loopres_f_res_t_res_70552 =
                                            add64((int64_t) 1, span_70521);
                                    
                                    loopres_f_res_70551 =
                                        loopres_f_res_t_res_70552;
                                } else {
                                    int64_t loopres_f_res_f_res_70553 =
                                            add64((int64_t) 1, span_70521);
                                    
                                    loopres_f_res_70551 =
                                        loopres_f_res_f_res_70553;
                                }
                                loopres_70541 = loopres_f_res_70549;
                                loopres_70542 = loopres_f_res_70550;
                                loopres_70543 = loopres_f_res_70551;
                            }
                            
                            bool loop_cond_70554 = slt64(loopres_70543,
                                                         min_res_70253);
                            bool loop_while_tmp_73215 = loop_cond_70554;
                            int64_t l_idx_tmp_73216 = loopres_70541;
                            int64_t r_idx_tmp_73217 = loopres_70542;
                            int64_t span_tmp_73218 = loopres_70543;
                            
                            loop_while_70518 = loop_while_tmp_73215;
                            l_idx_70519 = l_idx_tmp_73216;
                            r_idx_70520 = r_idx_tmp_73217;
                            span_70521 = span_tmp_73218;
                        }
                        idx_70514 = loop_while_70518;
                        idx_70515 = l_idx_70519;
                        idx_70516 = r_idx_70520;
                        idx_70517 = span_70521;
                        
                        int64_t min_res_70555 = smin64(min_arg_70477,
                                                       idx_70515);
                        int64_t max_res_70556 = smax64((int64_t) 0,
                                                       min_res_70555);
                        int64_t x_70557 = add64(min_res_70478, max_res_70556);
                        int64_t r_70558 = sub64(x_70557, (int64_t) 1);
                        bool x_70559 = sle64((int64_t) 0, r_70558);
                        bool y_70560 = slt64(r_70558, n_70233);
                        bool bounds_check_70561 = x_70559 && y_70560;
                        bool index_certs_70562;
                        
                        if (!bounds_check_70561) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_70558,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_72115, "mem_72115") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72111, "mem_72111") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72434,
                                               "ext_mem_72434") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72442,
                                               "ext_mem_72442") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72450,
                                               "ext_mem_72450") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72458,
                                               "ext_mem_72458") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70563 = ((int64_t *) mem_72156)[r_70558];
                        int64_t abs_arg_70564 = sub64(x_70563, min_res_70491);
                        int64_t abs_res_70565 = abs64(abs_arg_70564);
                        bool x_70566 = sle64((int64_t) 0, max_res_70556);
                        bool y_70567 = slt64(max_res_70556, n_70233);
                        bool bounds_check_70568 = x_70566 && y_70567;
                        bool index_certs_70569;
                        
                        if (!bounds_check_70568) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_70556,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_72115, "mem_72115") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72111, "mem_72111") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72434,
                                               "ext_mem_72434") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72442,
                                               "ext_mem_72442") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72450,
                                               "ext_mem_72450") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72458,
                                               "ext_mem_72458") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70570 =
                                ((int64_t *) mem_72156)[max_res_70556];
                        int64_t abs_arg_70571 = sub64(x_70570, min_res_70491);
                        int64_t abs_res_70572 = abs64(abs_arg_70571);
                        int64_t max_res_70573 = smax64(abs_res_70565,
                                                       abs_res_70572);
                        float defunc_0_f_res_70574 =
                              sitofp_i64_f32(max_res_70573);
                        float defunc_1_f_res_70575 = max_res_70482 +
                              defunc_0_f_res_70574;
                        float defunc_2_reduce_res_70576;
                        float defunc_2_reduce_res_70577;
                        float defunc_2_reduce_res_70578;
                        float redout_71637;
                        float redout_71638;
                        float redout_71639;
                        
                        redout_71637 = 0.0F;
                        redout_71638 = 0.0F;
                        redout_71639 = 0.0F;
                        for (int64_t i_71640 = 0; i_71640 < q_70235;
                             i_71640++) {
                            float x_70589 = ((float *) mem_72198)[i_71640];
                            bool cond_70590 = sle64(last_res_70461, i_71640);
                            int64_t defunc_0_f_res_70591;
                            
                            if (cond_70590) {
                                defunc_0_f_res_70591 = (int64_t) 0;
                            } else {
                                int64_t i_70592 = add64(max_res_70556, i_71640);
                                int64_t defunc_0_add_arg_70593 =
                                        ((int64_t *) mem_72156)[i_70592];
                                int64_t defunc_1_add_res_70594 =
                                        add64((int64_t) 1,
                                              defunc_0_add_arg_70593);
                                
                                defunc_0_f_res_70591 = defunc_1_add_res_70594;
                            }
                            
                            int64_t binop_p_70595 = sub64(defunc_0_f_res_70591,
                                                          min_res_70491);
                            float defunc_0_f_res_70596 =
                                  sitofp_i64_f32(binop_p_70595);
                            float abs_res_70597 =
                                  (float) fabs(defunc_0_f_res_70596);
                            float tmp1_70598 = abs_res_70597 /
                                  defunc_1_f_res_70575;
                            float x_70599 = tmp1_70598 * tmp1_70598;
                            float y_70600 = tmp1_70598 * x_70599;
                            float tmp2_70601 = 1.0F - y_70600;
                            float x_70602 = tmp2_70601 * tmp2_70601;
                            float tmp3_70603 = tmp2_70601 * x_70602;
                            float w_j_70604 = x_70589 * tmp3_70603;
                            float xw_j_70605 = defunc_0_f_res_70596 * w_j_70604;
                            float x2w_j_70606 = defunc_0_f_res_70596 *
                                  xw_j_70605;
                            float defunc_1_op_res_70581 = w_j_70604 +
                                  redout_71637;
                            float defunc_1_op_res_70584 = xw_j_70605 +
                                  redout_71638;
                            float defunc_1_op_res_70587 = x2w_j_70606 +
                                  redout_71639;
                            float redout_tmp_73219 = defunc_1_op_res_70581;
                            float redout_tmp_73220 = defunc_1_op_res_70584;
                            float redout_tmp_73221 = defunc_1_op_res_70587;
                            
                            redout_71637 = redout_tmp_73219;
                            redout_71638 = redout_tmp_73220;
                            redout_71639 = redout_tmp_73221;
                        }
                        defunc_2_reduce_res_70576 = redout_71637;
                        defunc_2_reduce_res_70577 = redout_71638;
                        defunc_2_reduce_res_70578 = redout_71639;
                        
                        float x_70607 = defunc_2_reduce_res_70576 *
                              defunc_2_reduce_res_70578;
                        float y_70608 = defunc_2_reduce_res_70577 *
                              defunc_2_reduce_res_70577;
                        float y_70609 = x_70607 - y_70608;
                        float det1_70610 = 1.0F / y_70609;
                        float a11_70611 = defunc_2_reduce_res_70578 *
                              det1_70610;
                        float x_70612 = 0.0F - defunc_2_reduce_res_70577;
                        float b11_70613 = det1_70610 * x_70612;
                        float c11_70614 = defunc_2_reduce_res_70576 *
                              det1_70610;
                        float defunc_2_reduce_res_70615;
                        float defunc_2_reduce_res_70616;
                        float redout_71641;
                        float redout_71642;
                        
                        redout_71641 = 0.0F;
                        redout_71642 = 0.0F;
                        for (int64_t i_71643 = 0; i_71643 < q_70235;
                             i_71643++) {
                            float x_70624 = ((float *) mem_72198)[i_71643];
                            bool cond_70625 = sle64(last_res_70461, i_71643);
                            int64_t defunc_0_f_res_70626;
                            
                            if (cond_70625) {
                                defunc_0_f_res_70626 = (int64_t) 0;
                            } else {
                                int64_t i_70627 = add64(max_res_70556, i_71643);
                                int64_t defunc_0_add_arg_70628 =
                                        ((int64_t *) mem_72156)[i_70627];
                                int64_t defunc_1_add_res_70629 =
                                        add64((int64_t) 1,
                                              defunc_0_add_arg_70628);
                                
                                defunc_0_f_res_70626 = defunc_1_add_res_70629;
                            }
                            
                            int64_t binop_p_70630 = sub64(defunc_0_f_res_70626,
                                                          min_res_70491);
                            float defunc_0_f_res_70631 =
                                  sitofp_i64_f32(binop_p_70630);
                            float abs_res_70632 =
                                  (float) fabs(defunc_0_f_res_70631);
                            float tmp1_70633 = abs_res_70632 /
                                  defunc_1_f_res_70575;
                            float x_70634 = tmp1_70633 * tmp1_70633;
                            float y_70635 = tmp1_70633 * x_70634;
                            float tmp2_70636 = 1.0F - y_70635;
                            float x_70637 = tmp2_70636 * tmp2_70636;
                            float tmp3_70638 = tmp2_70636 * x_70637;
                            float tmp4_70639 = x_70624 * tmp3_70638;
                            float defunc_1_f_res_70640 = defunc_0_f_res_70631 *
                                  tmp4_70639;
                            float defunc_0_f_res_70641;
                            
                            if (cond_70625) {
                                defunc_0_f_res_70641 = 0.0F;
                            } else {
                                int64_t i_70642 = add64(max_res_70556, i_71643);
                                float defunc_0_add_arg_70643 =
                                      ((float *) mem_72153)[i_70642];
                                
                                defunc_0_f_res_70641 = defunc_0_add_arg_70643;
                            }
                            
                            float x_70644 = a11_70611 * tmp4_70639;
                            float y_70645 = b11_70613 * defunc_1_f_res_70640;
                            float x_70646 = x_70644 + y_70645;
                            float defunc_9_fit_fun_res_70647 =
                                  defunc_0_f_res_70641 * x_70646;
                            float x_70648 = b11_70613 * tmp4_70639;
                            float y_70649 = c11_70614 * defunc_1_f_res_70640;
                            float x_70650 = x_70648 + y_70649;
                            float defunc_9_slope_fun_res_70651 =
                                  defunc_0_f_res_70641 * x_70650;
                            float defunc_1_op_res_70619 =
                                  defunc_9_fit_fun_res_70647 + redout_71641;
                            float defunc_1_op_res_70622 =
                                  defunc_9_slope_fun_res_70651 + redout_71642;
                            float redout_tmp_73222 = defunc_1_op_res_70619;
                            float redout_tmp_73223 = defunc_1_op_res_70622;
                            
                            redout_71641 = redout_tmp_73222;
                            redout_71642 = redout_tmp_73223;
                        }
                        defunc_2_reduce_res_70615 = redout_71641;
                        defunc_2_reduce_res_70616 = redout_71642;
                        ((float *) mem_72111.mem)[i_71655 * n_m_70241 +
                                                  i_71648] =
                            defunc_2_reduce_res_70615;
                        ((float *) mem_72115.mem)[i_71655 * n_m_70241 +
                                                  i_71648] =
                            defunc_2_reduce_res_70616;
                    }
                }
                if (memblock_set(ctx, &ext_mem_72442, &mem_72111,
                                 "mem_72111") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_72434, &mem_72115,
                                 "mem_72115") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72115, "mem_72115") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72111, "mem_72111") != 0)
                    return 1;
            } else {
                struct memblock mem_72274;
                
                mem_72274.references = NULL;
                if (memblock_alloc(ctx, &mem_72274, bytes_72273, "mem_72274")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_72278;
                
                mem_72278.references = NULL;
                if (memblock_alloc(ctx, &mem_72278, bytes_72273, "mem_72278")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_72301_cached_sizze_73341 < (size_t) bytes_72300) {
                    mem_72301 = realloc(mem_72301, bytes_72300);
                    mem_72301_cached_sizze_73341 = bytes_72300;
                }
                if (mem_72316_cached_sizze_73342 < (size_t) bytes_72315) {
                    mem_72316 = realloc(mem_72316, bytes_72315);
                    mem_72316_cached_sizze_73342 = bytes_72315;
                }
                if (mem_72319_cached_sizze_73343 < (size_t) bytes_72300) {
                    mem_72319 = realloc(mem_72319, bytes_72300);
                    mem_72319_cached_sizze_73343 = bytes_72300;
                }
                if (mem_72346_cached_sizze_73344 < (size_t) bytes_72300) {
                    mem_72346 = realloc(mem_72346, bytes_72300);
                    mem_72346_cached_sizze_73344 = bytes_72300;
                }
                if (mem_72361_cached_sizze_73345 < (size_t) bytes_72360) {
                    mem_72361 = realloc(mem_72361, bytes_72360);
                    mem_72361_cached_sizze_73345 = bytes_72360;
                }
                for (int64_t i_71700 = 0; i_71700 < m_70232; i_71700++) {
                    int64_t discard_71663;
                    int64_t scanacc_71659 = (int64_t) 0;
                    
                    for (int64_t i_71661 = 0; i_71661 < n_70233; i_71661++) {
                        float x_70662 = ((float *) Y_mem_71984.mem)[i_71700 *
                                                                    n_70233 +
                                                                    i_71661];
                        bool isnan_res_70663;
                        
                        isnan_res_70663 = futrts_isnan32(x_70662);
                        
                        bool defunc_0_p_res_70664 = !isnan_res_70663;
                        int64_t defunc_0_f_res_70665 =
                                btoi_bool_i64(defunc_0_p_res_70664);
                        int64_t defunc_1_op_res_70661 =
                                add64(defunc_0_f_res_70665, scanacc_71659);
                        
                        ((int64_t *) mem_72301)[i_71661] =
                            defunc_1_op_res_70661;
                        
                        int64_t scanacc_tmp_73226 = defunc_1_op_res_70661;
                        
                        scanacc_71659 = scanacc_tmp_73226;
                    }
                    discard_71663 = scanacc_71659;
                    
                    int64_t last_res_70666 = ((int64_t *) mem_72301)[i_70247];
                    
                    for (int64_t i_73228 = 0; i_73228 < n_70233; i_73228++) {
                        ((float *) mem_72316)[i_73228] = 0.0F;
                    }
                    for (int64_t i_73229 = 0; i_73229 < n_70233; i_73229++) {
                        ((int64_t *) mem_72319)[i_73229] = (int64_t) -1;
                    }
                    for (int64_t write_iter_71664 = 0; write_iter_71664 <
                         n_70233; write_iter_71664++) {
                        float write_iv_71667 =
                              ((float *) Y_mem_71984.mem)[i_71700 * n_70233 +
                                                          write_iter_71664];
                        int64_t write_iv_71668 =
                                ((int64_t *) mem_72301)[write_iter_71664];
                        bool isnan_res_70674;
                        
                        isnan_res_70674 = futrts_isnan32(write_iv_71667);
                        
                        bool defunc_0_p_res_70675 = !isnan_res_70674;
                        int64_t defunc_1_f_res_70676;
                        
                        if (defunc_0_p_res_70675) {
                            int64_t defunc_1_f_res_t_res_70677 =
                                    sub64(write_iv_71668, (int64_t) 1);
                            
                            defunc_1_f_res_70676 = defunc_1_f_res_t_res_70677;
                        } else {
                            defunc_1_f_res_70676 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_70676) &&
                            slt64(defunc_1_f_res_70676, n_70233)) {
                            ((int64_t *) mem_72319)[defunc_1_f_res_70676] =
                                write_iter_71664;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_70676) &&
                            slt64(defunc_1_f_res_70676, n_70233)) {
                            if ((int64_t) 4 > 0)
                                memmove(mem_72316 + defunc_1_f_res_70676 *
                                        (int64_t) 4, Y_mem_71984.mem +
                                        (i_71700 * n_70233 + write_iter_71664) *
                                        (int64_t) 4, (int64_t) 4);
                        }
                    }
                    for (int64_t i_71674 = 0; i_71674 < n_70233; i_71674++) {
                        int64_t x_70679 = ((int64_t *) mem_72319)[i_71674];
                        int64_t defunc_0_f_res_70680 = add64((int64_t) 1,
                                                             x_70679);
                        
                        ((int64_t *) mem_72346)[i_71674] = defunc_0_f_res_70680;
                    }
                    
                    int64_t min_arg_70681 = sub64(last_res_70666, (int64_t) 1);
                    int64_t min_arg_70682 = sub64(last_res_70666,
                                                  min_res_70253);
                    int64_t min_res_70683 = smin64(q_70235, last_res_70666);
                    float i64_res_70684 = sitofp_i64_f32(last_res_70666);
                    float x_70685 = i64_res_70259 - i64_res_70684;
                    float max_arg_70686 = x_70685 / 2.0F;
                    float max_res_70687 = fmax32(0.0F, max_arg_70686);
                    
                    for (int64_t i_71678 = 0; i_71678 < q_70235; i_71678++) {
                        bool cond_70690 = sle64(last_res_70666, i_71678);
                        float defunc_0_f_res_70691;
                        
                        if (cond_70690) {
                            defunc_0_f_res_70691 = 0.0F;
                        } else {
                            defunc_0_f_res_70691 = 1.0F;
                        }
                        ((float *) mem_72361)[i_71678] = defunc_0_f_res_70691;
                    }
                    for (int64_t i_71693 = 0; i_71693 < n_m_70241; i_71693++) {
                        int64_t min_arg_70695 = mul64(jump_70237, i_71693);
                        int64_t min_res_70696 = smin64(i_70247, min_arg_70695);
                        int64_t defunc_0_g_res_70697 = add64((int64_t) 1,
                                                             min_res_70696);
                        bool init_idx_70698;
                        int64_t init_idx_70699;
                        int64_t init_idx_70700;
                        bool loop_while_70701;
                        int64_t low_70702;
                        int64_t high_70703;
                        
                        loop_while_70701 = x_70248;
                        low_70702 = (int64_t) 0;
                        high_70703 = i_70247;
                        while (loop_while_70701) {
                            int64_t x_70704 = add64(low_70702, high_70703);
                            int64_t mid_70705 = sdiv64(x_70704, (int64_t) 2);
                            bool x_70706 = sle64((int64_t) 0, mid_70705);
                            bool y_70707 = slt64(mid_70705, n_70233);
                            bool bounds_check_70708 = x_70706 && y_70707;
                            bool index_certs_70709;
                            
                            if (!bounds_check_70708) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_70705,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70233, "].",
                                              "-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                                if (memblock_unref(ctx, &mem_72278,
                                                   "mem_72278") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72274,
                                                   "mem_72274") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72434,
                                                   "ext_mem_72434") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72442,
                                                   "ext_mem_72442") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72450,
                                                   "ext_mem_72450") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72458,
                                                   "ext_mem_72458") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73052,
                                                   "ext_mem_73052") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73060,
                                                   "ext_mem_73060") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73178,
                                                   "mem_out_73178") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_70710 =
                                    ((int64_t *) mem_72346)[mid_70705];
                            bool cond_70711 = slt64(mid_id_70710, (int64_t) 0);
                            int64_t mid_idx_70712;
                            
                            if (cond_70711) {
                                mid_idx_70712 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_70712 = mid_id_70710;
                            }
                            
                            bool cond_70713 = sle64(defunc_0_g_res_70697,
                                                    mid_idx_70712);
                            int64_t loopres_70714;
                            int64_t loopres_70715;
                            
                            if (cond_70713) {
                                int64_t loopres_t_res_70716 = sub64(mid_70705,
                                                                    (int64_t) 1);
                                
                                loopres_70714 = low_70702;
                                loopres_70715 = loopres_t_res_70716;
                            } else {
                                int64_t loopres_f_res_70717 = add64((int64_t) 1,
                                                                    mid_70705);
                                
                                loopres_70714 = loopres_f_res_70717;
                                loopres_70715 = high_70703;
                            }
                            
                            bool loop_cond_70718 = sle64(loopres_70714,
                                                         loopres_70715);
                            bool loop_while_tmp_73236 = loop_cond_70718;
                            int64_t low_tmp_73237 = loopres_70714;
                            int64_t high_tmp_73238 = loopres_70715;
                            
                            loop_while_70701 = loop_while_tmp_73236;
                            low_70702 = low_tmp_73237;
                            high_70703 = high_tmp_73238;
                        }
                        init_idx_70698 = loop_while_70701;
                        init_idx_70699 = low_70702;
                        init_idx_70700 = high_70703;
                        
                        bool idx_70719;
                        int64_t idx_70720;
                        int64_t idx_70721;
                        int64_t idx_70722;
                        bool loop_while_70723;
                        int64_t l_idx_70724;
                        int64_t r_idx_70725;
                        int64_t span_70726;
                        
                        loop_while_70723 = loop_cond_70258;
                        l_idx_70724 = init_idx_70699;
                        r_idx_70725 = init_idx_70699;
                        span_70726 = (int64_t) 1;
                        while (loop_while_70723) {
                            int64_t max_arg_70727 = sub64(l_idx_70724,
                                                          (int64_t) 1);
                            int64_t max_res_70728 = smax64((int64_t) 0,
                                                           max_arg_70727);
                            int64_t min_arg_70729 = add64((int64_t) 1,
                                                          r_idx_70725);
                            int64_t min_res_70730 = smin64(min_arg_70681,
                                                           min_arg_70729);
                            bool x_70731 = sle64((int64_t) 0, max_res_70728);
                            bool y_70732 = slt64(max_res_70728, n_70233);
                            bool bounds_check_70733 = x_70731 && y_70732;
                            bool index_certs_70734;
                            
                            if (!bounds_check_70733) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_70728,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70233, "].",
                                              "-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                                if (memblock_unref(ctx, &mem_72278,
                                                   "mem_72278") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72274,
                                                   "mem_72274") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72434,
                                                   "ext_mem_72434") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72442,
                                                   "ext_mem_72442") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72450,
                                                   "ext_mem_72450") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72458,
                                                   "ext_mem_72458") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73052,
                                                   "ext_mem_73052") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73060,
                                                   "ext_mem_73060") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73178,
                                                   "mem_out_73178") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_70735 =
                                    ((int64_t *) mem_72346)[max_res_70728];
                            int64_t abs_arg_70736 = sub64(x_70735,
                                                          defunc_0_g_res_70697);
                            int64_t abs_res_70737 = abs64(abs_arg_70736);
                            bool x_70738 = sle64((int64_t) 0, min_res_70730);
                            bool y_70739 = slt64(min_res_70730, n_70233);
                            bool bounds_check_70740 = x_70738 && y_70739;
                            bool index_certs_70741;
                            
                            if (!bounds_check_70740) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_70730,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70233, "].",
                                              "-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                                if (memblock_unref(ctx, &mem_72278,
                                                   "mem_72278") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72274,
                                                   "mem_72274") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72434,
                                                   "ext_mem_72434") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72442,
                                                   "ext_mem_72442") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72450,
                                                   "ext_mem_72450") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_72458,
                                                   "ext_mem_72458") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73052,
                                                   "ext_mem_73052") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73060,
                                                   "ext_mem_73060") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73178,
                                                   "mem_out_73178") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_70742 =
                                    ((int64_t *) mem_72346)[min_res_70730];
                            int64_t abs_arg_70743 = sub64(x_70742,
                                                          defunc_0_g_res_70697);
                            int64_t abs_res_70744 = abs64(abs_arg_70743);
                            bool cond_70745 = max_res_70728 == l_idx_70724;
                            int64_t loopres_70746;
                            int64_t loopres_70747;
                            int64_t loopres_70748;
                            
                            if (cond_70745) {
                                loopres_70746 = l_idx_70724;
                                loopres_70747 = r_idx_70725;
                                loopres_70748 = min_res_70253;
                            } else {
                                bool cond_70749 = slt64(abs_res_70737,
                                                        abs_res_70744);
                                bool cond_f_res_70750 = min_res_70730 ==
                                     r_idx_70725;
                                bool x_70751 = !cond_70749;
                                bool y_70752 = cond_f_res_70750 && x_70751;
                                bool cond_70753 = cond_70749 || y_70752;
                                int64_t loopres_f_res_70754;
                                
                                if (cond_70753) {
                                    loopres_f_res_70754 = max_res_70728;
                                } else {
                                    loopres_f_res_70754 = l_idx_70724;
                                }
                                
                                int64_t loopres_f_res_70755;
                                
                                if (cond_70753) {
                                    loopres_f_res_70755 = r_idx_70725;
                                } else {
                                    loopres_f_res_70755 = min_res_70730;
                                }
                                
                                int64_t loopres_f_res_70756;
                                
                                if (cond_70753) {
                                    int64_t loopres_f_res_t_res_70757 =
                                            add64((int64_t) 1, span_70726);
                                    
                                    loopres_f_res_70756 =
                                        loopres_f_res_t_res_70757;
                                } else {
                                    int64_t loopres_f_res_f_res_70758 =
                                            add64((int64_t) 1, span_70726);
                                    
                                    loopres_f_res_70756 =
                                        loopres_f_res_f_res_70758;
                                }
                                loopres_70746 = loopres_f_res_70754;
                                loopres_70747 = loopres_f_res_70755;
                                loopres_70748 = loopres_f_res_70756;
                            }
                            
                            bool loop_cond_70759 = slt64(loopres_70748,
                                                         min_res_70253);
                            bool loop_while_tmp_73239 = loop_cond_70759;
                            int64_t l_idx_tmp_73240 = loopres_70746;
                            int64_t r_idx_tmp_73241 = loopres_70747;
                            int64_t span_tmp_73242 = loopres_70748;
                            
                            loop_while_70723 = loop_while_tmp_73239;
                            l_idx_70724 = l_idx_tmp_73240;
                            r_idx_70725 = r_idx_tmp_73241;
                            span_70726 = span_tmp_73242;
                        }
                        idx_70719 = loop_while_70723;
                        idx_70720 = l_idx_70724;
                        idx_70721 = r_idx_70725;
                        idx_70722 = span_70726;
                        
                        int64_t min_res_70760 = smin64(min_arg_70682,
                                                       idx_70720);
                        int64_t max_res_70761 = smax64((int64_t) 0,
                                                       min_res_70760);
                        int64_t x_70762 = add64(min_res_70683, max_res_70761);
                        int64_t r_70763 = sub64(x_70762, (int64_t) 1);
                        bool x_70764 = sle64((int64_t) 0, r_70763);
                        bool y_70765 = slt64(r_70763, n_70233);
                        bool bounds_check_70766 = x_70764 && y_70765;
                        bool index_certs_70767;
                        
                        if (!bounds_check_70766) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_70763,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_72278, "mem_72278") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72274, "mem_72274") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72434,
                                               "ext_mem_72434") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72442,
                                               "ext_mem_72442") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72450,
                                               "ext_mem_72450") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72458,
                                               "ext_mem_72458") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70768 = ((int64_t *) mem_72319)[r_70763];
                        int64_t abs_arg_70769 = sub64(x_70768, min_res_70696);
                        int64_t abs_res_70770 = abs64(abs_arg_70769);
                        bool x_70771 = sle64((int64_t) 0, max_res_70761);
                        bool y_70772 = slt64(max_res_70761, n_70233);
                        bool bounds_check_70773 = x_70771 && y_70772;
                        bool index_certs_70774;
                        
                        if (!bounds_check_70773) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_70761,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_72278, "mem_72278") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72274, "mem_72274") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72434,
                                               "ext_mem_72434") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72442,
                                               "ext_mem_72442") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72450,
                                               "ext_mem_72450") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_72458,
                                               "ext_mem_72458") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70775 =
                                ((int64_t *) mem_72319)[max_res_70761];
                        int64_t abs_arg_70776 = sub64(x_70775, min_res_70696);
                        int64_t abs_res_70777 = abs64(abs_arg_70776);
                        int64_t max_res_70778 = smax64(abs_res_70770,
                                                       abs_res_70777);
                        float defunc_0_f_res_70779 =
                              sitofp_i64_f32(max_res_70778);
                        float defunc_1_f_res_70780 = max_res_70687 +
                              defunc_0_f_res_70779;
                        float defunc_2_reduce_res_70781;
                        float defunc_2_reduce_res_70782;
                        float defunc_2_reduce_res_70783;
                        float defunc_2_reduce_res_70784;
                        float defunc_2_reduce_res_70785;
                        float redout_71680;
                        float redout_71681;
                        float redout_71682;
                        float redout_71683;
                        float redout_71684;
                        
                        redout_71680 = 0.0F;
                        redout_71681 = 0.0F;
                        redout_71682 = 0.0F;
                        redout_71683 = 0.0F;
                        redout_71684 = 0.0F;
                        for (int64_t i_71685 = 0; i_71685 < q_70235;
                             i_71685++) {
                            float x_70802 = ((float *) mem_72361)[i_71685];
                            bool cond_70803 = sle64(last_res_70666, i_71685);
                            int64_t defunc_0_f_res_70804;
                            
                            if (cond_70803) {
                                defunc_0_f_res_70804 = (int64_t) 0;
                            } else {
                                int64_t i_70805 = add64(max_res_70761, i_71685);
                                int64_t defunc_0_add_arg_70806 =
                                        ((int64_t *) mem_72319)[i_70805];
                                int64_t defunc_1_add_res_70807 =
                                        add64((int64_t) 1,
                                              defunc_0_add_arg_70806);
                                
                                defunc_0_f_res_70804 = defunc_1_add_res_70807;
                            }
                            
                            int64_t binop_p_70808 = sub64(defunc_0_f_res_70804,
                                                          min_res_70696);
                            float defunc_0_f_res_70809 =
                                  sitofp_i64_f32(binop_p_70808);
                            float abs_res_70810 =
                                  (float) fabs(defunc_0_f_res_70809);
                            float tmp1_70811 = abs_res_70810 /
                                  defunc_1_f_res_70780;
                            float x_70812 = tmp1_70811 * tmp1_70811;
                            float y_70813 = tmp1_70811 * x_70812;
                            float tmp2_70814 = 1.0F - y_70813;
                            float x_70815 = tmp2_70814 * tmp2_70814;
                            float tmp3_70816 = tmp2_70814 * x_70815;
                            float w_j_70817 = x_70802 * tmp3_70816;
                            float xw_j_70818 = defunc_0_f_res_70809 * w_j_70817;
                            float x2w_j_70819 = defunc_0_f_res_70809 *
                                  xw_j_70818;
                            float x3w_j_70820 = defunc_0_f_res_70809 *
                                  x2w_j_70819;
                            float x4w_j_70821 = defunc_0_f_res_70809 *
                                  x3w_j_70820;
                            float defunc_1_op_res_70788 = w_j_70817 +
                                  redout_71680;
                            float defunc_1_op_res_70791 = xw_j_70818 +
                                  redout_71681;
                            float defunc_1_op_res_70794 = x2w_j_70819 +
                                  redout_71682;
                            float defunc_1_op_res_70797 = x3w_j_70820 +
                                  redout_71683;
                            float defunc_1_op_res_70800 = x4w_j_70821 +
                                  redout_71684;
                            float redout_tmp_73243 = defunc_1_op_res_70788;
                            float redout_tmp_73244 = defunc_1_op_res_70791;
                            float redout_tmp_73245 = defunc_1_op_res_70794;
                            float redout_tmp_73246 = defunc_1_op_res_70797;
                            float redout_tmp_73247 = defunc_1_op_res_70800;
                            
                            redout_71680 = redout_tmp_73243;
                            redout_71681 = redout_tmp_73244;
                            redout_71682 = redout_tmp_73245;
                            redout_71683 = redout_tmp_73246;
                            redout_71684 = redout_tmp_73247;
                        }
                        defunc_2_reduce_res_70781 = redout_71680;
                        defunc_2_reduce_res_70782 = redout_71681;
                        defunc_2_reduce_res_70783 = redout_71682;
                        defunc_2_reduce_res_70784 = redout_71683;
                        defunc_2_reduce_res_70785 = redout_71684;
                        
                        float x_70822 = defunc_2_reduce_res_70783 *
                              defunc_2_reduce_res_70785;
                        float y_70823 = defunc_2_reduce_res_70784 *
                              defunc_2_reduce_res_70784;
                        float a12_70824 = x_70822 - y_70823;
                        float x_70825 = defunc_2_reduce_res_70783 *
                              defunc_2_reduce_res_70784;
                        float y_70826 = defunc_2_reduce_res_70782 *
                              defunc_2_reduce_res_70785;
                        float b12_70827 = x_70825 - y_70826;
                        float x_70828 = defunc_2_reduce_res_70782 *
                              defunc_2_reduce_res_70784;
                        float y_70829 = defunc_2_reduce_res_70783 *
                              defunc_2_reduce_res_70783;
                        float c12_70830 = x_70828 - y_70829;
                        float x_70831 = defunc_2_reduce_res_70781 *
                              defunc_2_reduce_res_70785;
                        float b2_70832 = x_70831 - y_70829;
                        float x_70833 = defunc_2_reduce_res_70782 *
                              defunc_2_reduce_res_70783;
                        float y_70834 = defunc_2_reduce_res_70781 *
                              defunc_2_reduce_res_70784;
                        float c2_70835 = x_70833 - y_70834;
                        float x_70836 = defunc_2_reduce_res_70781 * a12_70824;
                        float y_70837 = defunc_2_reduce_res_70782 * b12_70827;
                        float x_70838 = x_70836 + y_70837;
                        float y_70839 = defunc_2_reduce_res_70783 * c12_70830;
                        float y_70840 = x_70838 + y_70839;
                        float det_70841 = 1.0F / y_70840;
                        float a12_70842 = a12_70824 * det_70841;
                        float b12_70843 = b12_70827 * det_70841;
                        float c12_70844 = c12_70830 * det_70841;
                        float b2_70845 = b2_70832 * det_70841;
                        float c2_70846 = c2_70835 * det_70841;
                        float defunc_2_reduce_res_70847;
                        float defunc_2_reduce_res_70848;
                        float redout_71686;
                        float redout_71687;
                        
                        redout_71686 = 0.0F;
                        redout_71687 = 0.0F;
                        for (int64_t i_71688 = 0; i_71688 < q_70235;
                             i_71688++) {
                            float x_70856 = ((float *) mem_72361)[i_71688];
                            bool cond_70857 = sle64(last_res_70666, i_71688);
                            int64_t defunc_0_f_res_70858;
                            
                            if (cond_70857) {
                                defunc_0_f_res_70858 = (int64_t) 0;
                            } else {
                                int64_t i_70859 = add64(max_res_70761, i_71688);
                                int64_t defunc_0_add_arg_70860 =
                                        ((int64_t *) mem_72319)[i_70859];
                                int64_t defunc_1_add_res_70861 =
                                        add64((int64_t) 1,
                                              defunc_0_add_arg_70860);
                                
                                defunc_0_f_res_70858 = defunc_1_add_res_70861;
                            }
                            
                            int64_t binop_p_70862 = sub64(defunc_0_f_res_70858,
                                                          min_res_70696);
                            float defunc_0_f_res_70863 =
                                  sitofp_i64_f32(binop_p_70862);
                            float abs_res_70864 =
                                  (float) fabs(defunc_0_f_res_70863);
                            float tmp1_70865 = abs_res_70864 /
                                  defunc_1_f_res_70780;
                            float x_70866 = tmp1_70865 * tmp1_70865;
                            float y_70867 = tmp1_70865 * x_70866;
                            float tmp2_70868 = 1.0F - y_70867;
                            float x_70869 = tmp2_70868 * tmp2_70868;
                            float tmp3_70870 = tmp2_70868 * x_70869;
                            float tmp4_70871 = x_70856 * tmp3_70870;
                            float defunc_1_f_res_70872 = defunc_0_f_res_70863 *
                                  tmp4_70871;
                            float defunc_1_f_res_70873 = defunc_0_f_res_70863 *
                                  defunc_1_f_res_70872;
                            float defunc_0_f_res_70874;
                            
                            if (cond_70857) {
                                defunc_0_f_res_70874 = 0.0F;
                            } else {
                                int64_t i_70875 = add64(max_res_70761, i_71688);
                                float defunc_0_add_arg_70876 =
                                      ((float *) mem_72316)[i_70875];
                                
                                defunc_0_f_res_70874 = defunc_0_add_arg_70876;
                            }
                            
                            float x_70877 = a12_70842 * tmp4_70871;
                            float y_70878 = b12_70843 * defunc_1_f_res_70872;
                            float x_70879 = x_70877 + y_70878;
                            float y_70880 = c12_70844 * defunc_1_f_res_70873;
                            float x_70881 = x_70879 + y_70880;
                            float defunc_9_fit_fun_res_70882 =
                                  defunc_0_f_res_70874 * x_70881;
                            float x_70883 = b12_70843 * tmp4_70871;
                            float y_70884 = b2_70845 * defunc_1_f_res_70872;
                            float x_70885 = x_70883 + y_70884;
                            float y_70886 = c2_70846 * defunc_1_f_res_70873;
                            float x_70887 = x_70885 + y_70886;
                            float defunc_9_slope_fun_res_70888 =
                                  defunc_0_f_res_70874 * x_70887;
                            float defunc_1_op_res_70851 =
                                  defunc_9_fit_fun_res_70882 + redout_71686;
                            float defunc_1_op_res_70854 =
                                  defunc_9_slope_fun_res_70888 + redout_71687;
                            float redout_tmp_73248 = defunc_1_op_res_70851;
                            float redout_tmp_73249 = defunc_1_op_res_70854;
                            
                            redout_71686 = redout_tmp_73248;
                            redout_71687 = redout_tmp_73249;
                        }
                        defunc_2_reduce_res_70847 = redout_71686;
                        defunc_2_reduce_res_70848 = redout_71687;
                        ((float *) mem_72274.mem)[i_71700 * n_m_70241 +
                                                  i_71693] =
                            defunc_2_reduce_res_70847;
                        ((float *) mem_72278.mem)[i_71700 * n_m_70241 +
                                                  i_71693] =
                            defunc_2_reduce_res_70848;
                    }
                }
                if (memblock_set(ctx, &ext_mem_72442, &mem_72274,
                                 "mem_72274") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_72434, &mem_72278,
                                 "mem_72278") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72278, "mem_72278") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72274, "mem_72274") != 0)
                    return 1;
            }
            if (memblock_set(ctx, &ext_mem_72458, &ext_mem_72442,
                             "ext_mem_72442") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_72450, &ext_mem_72434,
                             "ext_mem_72434") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_72434, "ext_mem_72434") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_72442, "ext_mem_72442") != 0)
                return 1;
        }
        if (memblock_set(ctx, &ext_mem_73060, &ext_mem_72458,
                         "ext_mem_72458") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_73052, &ext_mem_72450,
                         "ext_mem_72450") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_72450, "ext_mem_72450") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_72458, "ext_mem_72458") != 0)
            return 1;
    } else {
        bool match_lit_70891 = (int64_t) 0 == degree_70236;
        int64_t binop_x_72466 = m_70232 * n_m_70241;
        int64_t binop_y_72467 = (int64_t) 4 * binop_x_72466;
        int64_t bytes_72468 = smax64((int64_t) 0, binop_y_72467);
        int64_t binop_y_72484 = (int64_t) 8 * n_70233;
        int64_t bytes_72485 = smax64((int64_t) 0, binop_y_72484);
        int64_t binop_y_72499 = (int64_t) 4 * n_70233;
        int64_t bytes_72500 = smax64((int64_t) 0, binop_y_72499);
        int64_t binop_y_72544 = (int64_t) 4 * q_70235;
        int64_t bytes_72545 = smax64((int64_t) 0, binop_y_72544);
        struct memblock ext_mem_73044;
        
        ext_mem_73044.references = NULL;
        
        struct memblock ext_mem_73036;
        
        ext_mem_73036.references = NULL;
        if (match_lit_70891) {
            struct memblock mem_72469;
            
            mem_72469.references = NULL;
            if (memblock_alloc(ctx, &mem_72469, bytes_72468, "mem_72469")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_73250 = 0; i_73250 < m_70232; i_73250++) {
                for (int64_t i_73251 = 0; i_73251 < n_m_70241; i_73251++) {
                    ((float *) mem_72469.mem)[i_73250 * n_m_70241 + i_73251] =
                        0.0F;
                }
            }
            
            struct memblock mem_72473;
            
            mem_72473.references = NULL;
            if (memblock_alloc(ctx, &mem_72473, bytes_72468, "mem_72473")) {
                err = 1;
                goto cleanup;
            }
            if (mem_72486_cached_sizze_73346 < (size_t) bytes_72485) {
                mem_72486 = realloc(mem_72486, bytes_72485);
                mem_72486_cached_sizze_73346 = bytes_72485;
            }
            if (mem_72501_cached_sizze_73347 < (size_t) bytes_72500) {
                mem_72501 = realloc(mem_72501, bytes_72500);
                mem_72501_cached_sizze_73347 = bytes_72500;
            }
            if (mem_72504_cached_sizze_73348 < (size_t) bytes_72485) {
                mem_72504 = realloc(mem_72504, bytes_72485);
                mem_72504_cached_sizze_73348 = bytes_72485;
            }
            if (mem_72531_cached_sizze_73349 < (size_t) bytes_72485) {
                mem_72531 = realloc(mem_72531, bytes_72485);
                mem_72531_cached_sizze_73349 = bytes_72485;
            }
            if (mem_72546_cached_sizze_73350 < (size_t) bytes_72545) {
                mem_72546 = realloc(mem_72546, bytes_72545);
                mem_72546_cached_sizze_73350 = bytes_72545;
            }
            if (mem_72572_cached_sizze_73351 < (size_t) bytes_72545) {
                mem_72572 = realloc(mem_72572, bytes_72545);
                mem_72572_cached_sizze_73351 = bytes_72545;
            }
            for (int64_t i_71738 = 0; i_71738 < m_70232; i_71738++) {
                int64_t discard_71708;
                int64_t scanacc_71704 = (int64_t) 0;
                
                for (int64_t i_71706 = 0; i_71706 < n_70233; i_71706++) {
                    float x_70902 = ((float *) Y_mem_71984.mem)[i_71738 *
                                                                n_70233 +
                                                                i_71706];
                    bool isnan_res_70903;
                    
                    isnan_res_70903 = futrts_isnan32(x_70902);
                    
                    bool defunc_0_p_res_70904 = !isnan_res_70903;
                    int64_t defunc_0_f_res_70905 =
                            btoi_bool_i64(defunc_0_p_res_70904);
                    int64_t defunc_1_op_res_70901 = add64(defunc_0_f_res_70905,
                                                          scanacc_71704);
                    
                    ((int64_t *) mem_72486)[i_71706] = defunc_1_op_res_70901;
                    
                    int64_t scanacc_tmp_73253 = defunc_1_op_res_70901;
                    
                    scanacc_71704 = scanacc_tmp_73253;
                }
                discard_71708 = scanacc_71704;
                
                int64_t last_res_70906 = ((int64_t *) mem_72486)[i_70247];
                
                for (int64_t i_73255 = 0; i_73255 < n_70233; i_73255++) {
                    ((float *) mem_72501)[i_73255] = 0.0F;
                }
                for (int64_t i_73256 = 0; i_73256 < n_70233; i_73256++) {
                    ((int64_t *) mem_72504)[i_73256] = (int64_t) -1;
                }
                for (int64_t write_iter_71709 = 0; write_iter_71709 < n_70233;
                     write_iter_71709++) {
                    float write_iv_71712 = ((float *) Y_mem_71984.mem)[i_71738 *
                                                                       n_70233 +
                                                                       write_iter_71709];
                    int64_t write_iv_71713 =
                            ((int64_t *) mem_72486)[write_iter_71709];
                    bool isnan_res_70914;
                    
                    isnan_res_70914 = futrts_isnan32(write_iv_71712);
                    
                    bool defunc_0_p_res_70915 = !isnan_res_70914;
                    int64_t defunc_1_f_res_70916;
                    
                    if (defunc_0_p_res_70915) {
                        int64_t defunc_1_f_res_t_res_70917 =
                                sub64(write_iv_71713, (int64_t) 1);
                        
                        defunc_1_f_res_70916 = defunc_1_f_res_t_res_70917;
                    } else {
                        defunc_1_f_res_70916 = (int64_t) -1;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_70916) &&
                        slt64(defunc_1_f_res_70916, n_70233)) {
                        ((int64_t *) mem_72504)[defunc_1_f_res_70916] =
                            write_iter_71709;
                    }
                    if (sle64((int64_t) 0, defunc_1_f_res_70916) &&
                        slt64(defunc_1_f_res_70916, n_70233)) {
                        if ((int64_t) 4 > 0)
                            memmove(mem_72501 + defunc_1_f_res_70916 *
                                    (int64_t) 4, Y_mem_71984.mem + (i_71738 *
                                                                    n_70233 +
                                                                    write_iter_71709) *
                                    (int64_t) 4, (int64_t) 4);
                    }
                }
                for (int64_t i_71719 = 0; i_71719 < n_70233; i_71719++) {
                    int64_t x_70919 = ((int64_t *) mem_72504)[i_71719];
                    int64_t defunc_0_f_res_70920 = add64((int64_t) 1, x_70919);
                    
                    ((int64_t *) mem_72531)[i_71719] = defunc_0_f_res_70920;
                }
                
                int64_t min_arg_70921 = sub64(last_res_70906, (int64_t) 1);
                int64_t min_arg_70922 = sub64(last_res_70906, min_res_70253);
                int64_t min_res_70923 = smin64(q_70235, last_res_70906);
                float i64_res_70924 = sitofp_i64_f32(last_res_70906);
                float x_70925 = i64_res_70259 - i64_res_70924;
                float max_arg_70926 = x_70925 / 2.0F;
                float max_res_70927 = fmax32(0.0F, max_arg_70926);
                
                for (int64_t i_71723 = 0; i_71723 < q_70235; i_71723++) {
                    bool cond_70930 = sle64(last_res_70906, i_71723);
                    float defunc_0_f_res_70931;
                    
                    if (cond_70930) {
                        defunc_0_f_res_70931 = 0.0F;
                    } else {
                        defunc_0_f_res_70931 = 1.0F;
                    }
                    ((float *) mem_72546)[i_71723] = defunc_0_f_res_70931;
                }
                for (int64_t i_71734 = 0; i_71734 < n_m_70241; i_71734++) {
                    int64_t min_arg_70934 = mul64(jump_70237, i_71734);
                    int64_t min_res_70935 = smin64(i_70247, min_arg_70934);
                    int64_t defunc_0_g_res_70936 = add64((int64_t) 1,
                                                         min_res_70935);
                    bool init_idx_70937;
                    int64_t init_idx_70938;
                    int64_t init_idx_70939;
                    bool loop_while_70940;
                    int64_t low_70941;
                    int64_t high_70942;
                    
                    loop_while_70940 = x_70248;
                    low_70941 = (int64_t) 0;
                    high_70942 = i_70247;
                    while (loop_while_70940) {
                        int64_t x_70943 = add64(low_70941, high_70942);
                        int64_t mid_70944 = sdiv64(x_70943, (int64_t) 2);
                        bool x_70945 = sle64((int64_t) 0, mid_70944);
                        bool y_70946 = slt64(mid_70944, n_70233);
                        bool bounds_check_70947 = x_70945 && y_70946;
                        bool index_certs_70948;
                        
                        if (!bounds_check_70947) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) mid_70944,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_72473, "mem_72473") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72469, "mem_72469") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73036,
                                               "ext_mem_73036") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73044,
                                               "ext_mem_73044") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t mid_id_70949 =
                                ((int64_t *) mem_72531)[mid_70944];
                        bool cond_70950 = slt64(mid_id_70949, (int64_t) 0);
                        int64_t mid_idx_70951;
                        
                        if (cond_70950) {
                            mid_idx_70951 = (int64_t) 9223372036854775807;
                        } else {
                            mid_idx_70951 = mid_id_70949;
                        }
                        
                        bool cond_70952 = sle64(defunc_0_g_res_70936,
                                                mid_idx_70951);
                        int64_t loopres_70953;
                        int64_t loopres_70954;
                        
                        if (cond_70952) {
                            int64_t loopres_t_res_70955 = sub64(mid_70944,
                                                                (int64_t) 1);
                            
                            loopres_70953 = low_70941;
                            loopres_70954 = loopres_t_res_70955;
                        } else {
                            int64_t loopres_f_res_70956 = add64((int64_t) 1,
                                                                mid_70944);
                            
                            loopres_70953 = loopres_f_res_70956;
                            loopres_70954 = high_70942;
                        }
                        
                        bool loop_cond_70957 = sle64(loopres_70953,
                                                     loopres_70954);
                        bool loop_while_tmp_73262 = loop_cond_70957;
                        int64_t low_tmp_73263 = loopres_70953;
                        int64_t high_tmp_73264 = loopres_70954;
                        
                        loop_while_70940 = loop_while_tmp_73262;
                        low_70941 = low_tmp_73263;
                        high_70942 = high_tmp_73264;
                    }
                    init_idx_70937 = loop_while_70940;
                    init_idx_70938 = low_70941;
                    init_idx_70939 = high_70942;
                    
                    bool idx_70958;
                    int64_t idx_70959;
                    int64_t idx_70960;
                    int64_t idx_70961;
                    bool loop_while_70962;
                    int64_t l_idx_70963;
                    int64_t r_idx_70964;
                    int64_t span_70965;
                    
                    loop_while_70962 = loop_cond_70258;
                    l_idx_70963 = init_idx_70938;
                    r_idx_70964 = init_idx_70938;
                    span_70965 = (int64_t) 1;
                    while (loop_while_70962) {
                        int64_t max_arg_70966 = sub64(l_idx_70963, (int64_t) 1);
                        int64_t max_res_70967 = smax64((int64_t) 0,
                                                       max_arg_70966);
                        int64_t min_arg_70968 = add64((int64_t) 1, r_idx_70964);
                        int64_t min_res_70969 = smin64(min_arg_70921,
                                                       min_arg_70968);
                        bool x_70970 = sle64((int64_t) 0, max_res_70967);
                        bool y_70971 = slt64(max_res_70967, n_70233);
                        bool bounds_check_70972 = x_70970 && y_70971;
                        bool index_certs_70973;
                        
                        if (!bounds_check_70972) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_70967,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_72473, "mem_72473") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72469, "mem_72469") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73036,
                                               "ext_mem_73036") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73044,
                                               "ext_mem_73044") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70974 =
                                ((int64_t *) mem_72531)[max_res_70967];
                        int64_t abs_arg_70975 = sub64(x_70974,
                                                      defunc_0_g_res_70936);
                        int64_t abs_res_70976 = abs64(abs_arg_70975);
                        bool x_70977 = sle64((int64_t) 0, min_res_70969);
                        bool y_70978 = slt64(min_res_70969, n_70233);
                        bool bounds_check_70979 = x_70977 && y_70978;
                        bool index_certs_70980;
                        
                        if (!bounds_check_70979) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) min_res_70969,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_72473, "mem_72473") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72469, "mem_72469") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73036,
                                               "ext_mem_73036") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73044,
                                               "ext_mem_73044") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_70981 =
                                ((int64_t *) mem_72531)[min_res_70969];
                        int64_t abs_arg_70982 = sub64(x_70981,
                                                      defunc_0_g_res_70936);
                        int64_t abs_res_70983 = abs64(abs_arg_70982);
                        bool cond_70984 = max_res_70967 == l_idx_70963;
                        int64_t loopres_70985;
                        int64_t loopres_70986;
                        int64_t loopres_70987;
                        
                        if (cond_70984) {
                            loopres_70985 = l_idx_70963;
                            loopres_70986 = r_idx_70964;
                            loopres_70987 = min_res_70253;
                        } else {
                            bool cond_70988 = slt64(abs_res_70976,
                                                    abs_res_70983);
                            bool cond_f_res_70989 = min_res_70969 ==
                                 r_idx_70964;
                            bool x_70990 = !cond_70988;
                            bool y_70991 = cond_f_res_70989 && x_70990;
                            bool cond_70992 = cond_70988 || y_70991;
                            int64_t loopres_f_res_70993;
                            
                            if (cond_70992) {
                                loopres_f_res_70993 = max_res_70967;
                            } else {
                                loopres_f_res_70993 = l_idx_70963;
                            }
                            
                            int64_t loopres_f_res_70994;
                            
                            if (cond_70992) {
                                loopres_f_res_70994 = r_idx_70964;
                            } else {
                                loopres_f_res_70994 = min_res_70969;
                            }
                            
                            int64_t loopres_f_res_70995;
                            
                            if (cond_70992) {
                                int64_t loopres_f_res_t_res_70996 =
                                        add64((int64_t) 1, span_70965);
                                
                                loopres_f_res_70995 = loopres_f_res_t_res_70996;
                            } else {
                                int64_t loopres_f_res_f_res_70997 =
                                        add64((int64_t) 1, span_70965);
                                
                                loopres_f_res_70995 = loopres_f_res_f_res_70997;
                            }
                            loopres_70985 = loopres_f_res_70993;
                            loopres_70986 = loopres_f_res_70994;
                            loopres_70987 = loopres_f_res_70995;
                        }
                        
                        bool loop_cond_70998 = slt64(loopres_70987,
                                                     min_res_70253);
                        bool loop_while_tmp_73265 = loop_cond_70998;
                        int64_t l_idx_tmp_73266 = loopres_70985;
                        int64_t r_idx_tmp_73267 = loopres_70986;
                        int64_t span_tmp_73268 = loopres_70987;
                        
                        loop_while_70962 = loop_while_tmp_73265;
                        l_idx_70963 = l_idx_tmp_73266;
                        r_idx_70964 = r_idx_tmp_73267;
                        span_70965 = span_tmp_73268;
                    }
                    idx_70958 = loop_while_70962;
                    idx_70959 = l_idx_70963;
                    idx_70960 = r_idx_70964;
                    idx_70961 = span_70965;
                    
                    int64_t min_res_70999 = smin64(min_arg_70922, idx_70959);
                    int64_t max_res_71000 = smax64((int64_t) 0, min_res_70999);
                    int64_t x_71001 = add64(min_res_70923, max_res_71000);
                    int64_t r_71002 = sub64(x_71001, (int64_t) 1);
                    bool x_71003 = sle64((int64_t) 0, r_71002);
                    bool y_71004 = slt64(r_71002, n_70233);
                    bool bounds_check_71005 = x_71003 && y_71004;
                    bool index_certs_71006;
                    
                    if (!bounds_check_71005) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) r_71002,
                                      "] out of bounds for array of shape [",
                                      (long long) n_70233, "].",
                                      "-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
                        if (memblock_unref(ctx, &mem_72473, "mem_72473") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_72469, "mem_72469") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73036,
                                           "ext_mem_73036") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73044,
                                           "ext_mem_73044") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73052,
                                           "ext_mem_73052") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73060,
                                           "ext_mem_73060") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_73178,
                                           "mem_out_73178") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_71007 = ((int64_t *) mem_72504)[r_71002];
                    int64_t abs_arg_71008 = sub64(x_71007, min_res_70935);
                    int64_t abs_res_71009 = abs64(abs_arg_71008);
                    bool x_71010 = sle64((int64_t) 0, max_res_71000);
                    bool y_71011 = slt64(max_res_71000, n_70233);
                    bool bounds_check_71012 = x_71010 && y_71011;
                    bool index_certs_71013;
                    
                    if (!bounds_check_71012) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) max_res_71000,
                                      "] out of bounds for array of shape [",
                                      (long long) n_70233, "].",
                                      "-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
                        if (memblock_unref(ctx, &mem_72473, "mem_72473") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_72469, "mem_72469") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73036,
                                           "ext_mem_73036") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73044,
                                           "ext_mem_73044") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73052,
                                           "ext_mem_73052") != 0)
                            return 1;
                        if (memblock_unref(ctx, &ext_mem_73060,
                                           "ext_mem_73060") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_out_73178,
                                           "mem_out_73178") != 0)
                            return 1;
                        return 1;
                    }
                    
                    int64_t x_71014 = ((int64_t *) mem_72504)[max_res_71000];
                    int64_t abs_arg_71015 = sub64(x_71014, min_res_70935);
                    int64_t abs_res_71016 = abs64(abs_arg_71015);
                    int64_t max_res_71017 = smax64(abs_res_71009,
                                                   abs_res_71016);
                    float defunc_0_f_res_71018 = sitofp_i64_f32(max_res_71017);
                    float defunc_1_f_res_71019 = max_res_70927 +
                          defunc_0_f_res_71018;
                    float defunc_2_reduce_res_71020;
                    float redout_71726 = 0.0F;
                    
                    for (int64_t i_71728 = 0; i_71728 < q_70235; i_71728++) {
                        float x_71026 = ((float *) mem_72546)[i_71728];
                        bool cond_71027 = sle64(last_res_70906, i_71728);
                        int64_t defunc_0_f_res_71028;
                        
                        if (cond_71027) {
                            defunc_0_f_res_71028 = (int64_t) 0;
                        } else {
                            int64_t i_71029 = add64(max_res_71000, i_71728);
                            int64_t defunc_0_add_arg_71030 =
                                    ((int64_t *) mem_72504)[i_71029];
                            int64_t defunc_1_add_res_71031 = add64((int64_t) 1,
                                                                   defunc_0_add_arg_71030);
                            
                            defunc_0_f_res_71028 = defunc_1_add_res_71031;
                        }
                        
                        int64_t binop_p_71032 = sub64(defunc_0_f_res_71028,
                                                      min_res_70935);
                        float defunc_0_f_res_71033 =
                              sitofp_i64_f32(binop_p_71032);
                        float abs_res_71034 =
                              (float) fabs(defunc_0_f_res_71033);
                        float tmp1_71035 = abs_res_71034 / defunc_1_f_res_71019;
                        float x_71036 = tmp1_71035 * tmp1_71035;
                        float y_71037 = tmp1_71035 * x_71036;
                        float tmp2_71038 = 1.0F - y_71037;
                        float x_71039 = tmp2_71038 * tmp2_71038;
                        float tmp3_71040 = tmp2_71038 * x_71039;
                        float tmp4_71041 = x_71026 * tmp3_71040;
                        float defunc_1_op_res_71024 = tmp4_71041 + redout_71726;
                        
                        ((float *) mem_72572)[i_71728] = tmp4_71041;
                        
                        float redout_tmp_73269 = defunc_1_op_res_71024;
                        
                        redout_71726 = redout_tmp_73269;
                    }
                    defunc_2_reduce_res_71020 = redout_71726;
                    
                    float a0_71042 = 1.0F / defunc_2_reduce_res_71020;
                    float defunc_2_reduce_res_71043;
                    float redout_71730 = 0.0F;
                    
                    for (int64_t i_71731 = 0; i_71731 < q_70235; i_71731++) {
                        float x_71048 = ((float *) mem_72572)[i_71731];
                        bool cond_71049 = sle64(last_res_70906, i_71731);
                        float defunc_0_f_res_71050;
                        
                        if (cond_71049) {
                            defunc_0_f_res_71050 = 0.0F;
                        } else {
                            int64_t i_71051 = add64(max_res_71000, i_71731);
                            float defunc_0_add_arg_71052 =
                                  ((float *) mem_72501)[i_71051];
                            
                            defunc_0_f_res_71050 = defunc_0_add_arg_71052;
                        }
                        
                        float x_71053 = a0_71042 * x_71048;
                        float defunc_9_fit_fun_res_71054 =
                              defunc_0_f_res_71050 * x_71053;
                        float defunc_1_op_res_71046 =
                              defunc_9_fit_fun_res_71054 + redout_71730;
                        float redout_tmp_73271 = defunc_1_op_res_71046;
                        
                        redout_71730 = redout_tmp_73271;
                    }
                    defunc_2_reduce_res_71043 = redout_71730;
                    ((float *) mem_72473.mem)[i_71738 * n_m_70241 + i_71734] =
                        defunc_2_reduce_res_71043;
                }
            }
            if (memblock_set(ctx, &ext_mem_73044, &mem_72473, "mem_72473") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_73036, &mem_72469, "mem_72469") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_72473, "mem_72473") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_72469, "mem_72469") != 0)
                return 1;
        } else {
            bool match_lit_71057 = (int64_t) 1 == degree_70236;
            int64_t binop_x_72604 = m_70232 * n_m_70241;
            int64_t binop_y_72605 = (int64_t) 4 * binop_x_72604;
            int64_t bytes_72606 = smax64((int64_t) 0, binop_y_72605);
            int64_t binop_y_72632 = (int64_t) 8 * n_70233;
            int64_t bytes_72633 = smax64((int64_t) 0, binop_y_72632);
            int64_t binop_y_72647 = (int64_t) 4 * n_70233;
            int64_t bytes_72648 = smax64((int64_t) 0, binop_y_72647);
            int64_t binop_y_72692 = (int64_t) 4 * q_70235;
            int64_t bytes_72693 = smax64((int64_t) 0, binop_y_72692);
            int64_t binop_x_72797 = m_70232 * n_m_70241;
            int64_t binop_y_72798 = (int64_t) 4 * binop_x_72797;
            int64_t bytes_72799 = smax64((int64_t) 0, binop_y_72798);
            int64_t binop_y_72825 = (int64_t) 8 * n_70233;
            int64_t bytes_72826 = smax64((int64_t) 0, binop_y_72825);
            int64_t binop_y_72840 = (int64_t) 4 * n_70233;
            int64_t bytes_72841 = smax64((int64_t) 0, binop_y_72840);
            int64_t binop_y_72885 = (int64_t) 4 * q_70235;
            int64_t bytes_72886 = smax64((int64_t) 0, binop_y_72885);
            struct memblock ext_mem_73028;
            
            ext_mem_73028.references = NULL;
            
            struct memblock ext_mem_73020;
            
            ext_mem_73020.references = NULL;
            if (match_lit_71057) {
                struct memblock mem_72607;
                
                mem_72607.references = NULL;
                if (memblock_alloc(ctx, &mem_72607, bytes_72606, "mem_72607")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_72611;
                
                mem_72611.references = NULL;
                if (memblock_alloc(ctx, &mem_72611, bytes_72606, "mem_72611")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_72634_cached_sizze_73352 < (size_t) bytes_72633) {
                    mem_72634 = realloc(mem_72634, bytes_72633);
                    mem_72634_cached_sizze_73352 = bytes_72633;
                }
                if (mem_72649_cached_sizze_73353 < (size_t) bytes_72648) {
                    mem_72649 = realloc(mem_72649, bytes_72648);
                    mem_72649_cached_sizze_73353 = bytes_72648;
                }
                if (mem_72652_cached_sizze_73354 < (size_t) bytes_72633) {
                    mem_72652 = realloc(mem_72652, bytes_72633);
                    mem_72652_cached_sizze_73354 = bytes_72633;
                }
                if (mem_72679_cached_sizze_73355 < (size_t) bytes_72633) {
                    mem_72679 = realloc(mem_72679, bytes_72633);
                    mem_72679_cached_sizze_73355 = bytes_72633;
                }
                if (mem_72694_cached_sizze_73356 < (size_t) bytes_72693) {
                    mem_72694 = realloc(mem_72694, bytes_72693);
                    mem_72694_cached_sizze_73356 = bytes_72693;
                }
                if (mem_72731_cached_sizze_73357 < (size_t) bytes_72693) {
                    mem_72731 = realloc(mem_72731, bytes_72693);
                    mem_72731_cached_sizze_73357 = bytes_72693;
                }
                if (mem_72734_cached_sizze_73358 < (size_t) bytes_72693) {
                    mem_72734 = realloc(mem_72734, bytes_72693);
                    mem_72734_cached_sizze_73358 = bytes_72693;
                }
                for (int64_t i_71786 = 0; i_71786 < m_70232; i_71786++) {
                    int64_t discard_71745;
                    int64_t scanacc_71741 = (int64_t) 0;
                    
                    for (int64_t i_71743 = 0; i_71743 < n_70233; i_71743++) {
                        float x_71068 = ((float *) Y_mem_71984.mem)[i_71786 *
                                                                    n_70233 +
                                                                    i_71743];
                        bool isnan_res_71069;
                        
                        isnan_res_71069 = futrts_isnan32(x_71068);
                        
                        bool defunc_0_p_res_71070 = !isnan_res_71069;
                        int64_t defunc_0_f_res_71071 =
                                btoi_bool_i64(defunc_0_p_res_71070);
                        int64_t defunc_1_op_res_71067 =
                                add64(defunc_0_f_res_71071, scanacc_71741);
                        
                        ((int64_t *) mem_72634)[i_71743] =
                            defunc_1_op_res_71067;
                        
                        int64_t scanacc_tmp_73274 = defunc_1_op_res_71067;
                        
                        scanacc_71741 = scanacc_tmp_73274;
                    }
                    discard_71745 = scanacc_71741;
                    
                    int64_t last_res_71072 = ((int64_t *) mem_72634)[i_70247];
                    
                    for (int64_t i_73276 = 0; i_73276 < n_70233; i_73276++) {
                        ((float *) mem_72649)[i_73276] = 0.0F;
                    }
                    for (int64_t i_73277 = 0; i_73277 < n_70233; i_73277++) {
                        ((int64_t *) mem_72652)[i_73277] = (int64_t) -1;
                    }
                    for (int64_t write_iter_71746 = 0; write_iter_71746 <
                         n_70233; write_iter_71746++) {
                        float write_iv_71749 =
                              ((float *) Y_mem_71984.mem)[i_71786 * n_70233 +
                                                          write_iter_71746];
                        int64_t write_iv_71750 =
                                ((int64_t *) mem_72634)[write_iter_71746];
                        bool isnan_res_71080;
                        
                        isnan_res_71080 = futrts_isnan32(write_iv_71749);
                        
                        bool defunc_0_p_res_71081 = !isnan_res_71080;
                        int64_t defunc_1_f_res_71082;
                        
                        if (defunc_0_p_res_71081) {
                            int64_t defunc_1_f_res_t_res_71083 =
                                    sub64(write_iv_71750, (int64_t) 1);
                            
                            defunc_1_f_res_71082 = defunc_1_f_res_t_res_71083;
                        } else {
                            defunc_1_f_res_71082 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_71082) &&
                            slt64(defunc_1_f_res_71082, n_70233)) {
                            ((int64_t *) mem_72652)[defunc_1_f_res_71082] =
                                write_iter_71746;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_71082) &&
                            slt64(defunc_1_f_res_71082, n_70233)) {
                            if ((int64_t) 4 > 0)
                                memmove(mem_72649 + defunc_1_f_res_71082 *
                                        (int64_t) 4, Y_mem_71984.mem +
                                        (i_71786 * n_70233 + write_iter_71746) *
                                        (int64_t) 4, (int64_t) 4);
                        }
                    }
                    for (int64_t i_71756 = 0; i_71756 < n_70233; i_71756++) {
                        int64_t x_71085 = ((int64_t *) mem_72652)[i_71756];
                        int64_t defunc_0_f_res_71086 = add64((int64_t) 1,
                                                             x_71085);
                        
                        ((int64_t *) mem_72679)[i_71756] = defunc_0_f_res_71086;
                    }
                    
                    int64_t min_arg_71087 = sub64(last_res_71072, (int64_t) 1);
                    int64_t min_arg_71088 = sub64(last_res_71072,
                                                  min_res_70253);
                    int64_t min_res_71089 = smin64(q_70235, last_res_71072);
                    float i64_res_71090 = sitofp_i64_f32(last_res_71072);
                    float x_71091 = i64_res_70259 - i64_res_71090;
                    float max_arg_71092 = x_71091 / 2.0F;
                    float max_res_71093 = fmax32(0.0F, max_arg_71092);
                    
                    for (int64_t i_71760 = 0; i_71760 < q_70235; i_71760++) {
                        bool cond_71096 = sle64(last_res_71072, i_71760);
                        float defunc_0_f_res_71097;
                        
                        if (cond_71096) {
                            defunc_0_f_res_71097 = 0.0F;
                        } else {
                            defunc_0_f_res_71097 = 1.0F;
                        }
                        ((float *) mem_72694)[i_71760] = defunc_0_f_res_71097;
                    }
                    for (int64_t i_71779 = 0; i_71779 < n_m_70241; i_71779++) {
                        int64_t min_arg_71101 = mul64(jump_70237, i_71779);
                        int64_t min_res_71102 = smin64(i_70247, min_arg_71101);
                        int64_t defunc_0_g_res_71103 = add64((int64_t) 1,
                                                             min_res_71102);
                        bool init_idx_71104;
                        int64_t init_idx_71105;
                        int64_t init_idx_71106;
                        bool loop_while_71107;
                        int64_t low_71108;
                        int64_t high_71109;
                        
                        loop_while_71107 = x_70248;
                        low_71108 = (int64_t) 0;
                        high_71109 = i_70247;
                        while (loop_while_71107) {
                            int64_t x_71110 = add64(low_71108, high_71109);
                            int64_t mid_71111 = sdiv64(x_71110, (int64_t) 2);
                            bool x_71112 = sle64((int64_t) 0, mid_71111);
                            bool y_71113 = slt64(mid_71111, n_70233);
                            bool bounds_check_71114 = x_71112 && y_71113;
                            bool index_certs_71115;
                            
                            if (!bounds_check_71114) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_71111,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70233, "].",
                                              "-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                                if (memblock_unref(ctx, &mem_72611,
                                                   "mem_72611") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72607,
                                                   "mem_72607") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73020,
                                                   "ext_mem_73020") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73028,
                                                   "ext_mem_73028") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73036,
                                                   "ext_mem_73036") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73044,
                                                   "ext_mem_73044") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73052,
                                                   "ext_mem_73052") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73060,
                                                   "ext_mem_73060") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73178,
                                                   "mem_out_73178") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_71116 =
                                    ((int64_t *) mem_72679)[mid_71111];
                            bool cond_71117 = slt64(mid_id_71116, (int64_t) 0);
                            int64_t mid_idx_71118;
                            
                            if (cond_71117) {
                                mid_idx_71118 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_71118 = mid_id_71116;
                            }
                            
                            bool cond_71119 = sle64(defunc_0_g_res_71103,
                                                    mid_idx_71118);
                            int64_t loopres_71120;
                            int64_t loopres_71121;
                            
                            if (cond_71119) {
                                int64_t loopres_t_res_71122 = sub64(mid_71111,
                                                                    (int64_t) 1);
                                
                                loopres_71120 = low_71108;
                                loopres_71121 = loopres_t_res_71122;
                            } else {
                                int64_t loopres_f_res_71123 = add64((int64_t) 1,
                                                                    mid_71111);
                                
                                loopres_71120 = loopres_f_res_71123;
                                loopres_71121 = high_71109;
                            }
                            
                            bool loop_cond_71124 = sle64(loopres_71120,
                                                         loopres_71121);
                            bool loop_while_tmp_73284 = loop_cond_71124;
                            int64_t low_tmp_73285 = loopres_71120;
                            int64_t high_tmp_73286 = loopres_71121;
                            
                            loop_while_71107 = loop_while_tmp_73284;
                            low_71108 = low_tmp_73285;
                            high_71109 = high_tmp_73286;
                        }
                        init_idx_71104 = loop_while_71107;
                        init_idx_71105 = low_71108;
                        init_idx_71106 = high_71109;
                        
                        bool idx_71125;
                        int64_t idx_71126;
                        int64_t idx_71127;
                        int64_t idx_71128;
                        bool loop_while_71129;
                        int64_t l_idx_71130;
                        int64_t r_idx_71131;
                        int64_t span_71132;
                        
                        loop_while_71129 = loop_cond_70258;
                        l_idx_71130 = init_idx_71105;
                        r_idx_71131 = init_idx_71105;
                        span_71132 = (int64_t) 1;
                        while (loop_while_71129) {
                            int64_t max_arg_71133 = sub64(l_idx_71130,
                                                          (int64_t) 1);
                            int64_t max_res_71134 = smax64((int64_t) 0,
                                                           max_arg_71133);
                            int64_t min_arg_71135 = add64((int64_t) 1,
                                                          r_idx_71131);
                            int64_t min_res_71136 = smin64(min_arg_71087,
                                                           min_arg_71135);
                            bool x_71137 = sle64((int64_t) 0, max_res_71134);
                            bool y_71138 = slt64(max_res_71134, n_70233);
                            bool bounds_check_71139 = x_71137 && y_71138;
                            bool index_certs_71140;
                            
                            if (!bounds_check_71139) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_71134,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70233, "].",
                                              "-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                                if (memblock_unref(ctx, &mem_72611,
                                                   "mem_72611") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72607,
                                                   "mem_72607") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73020,
                                                   "ext_mem_73020") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73028,
                                                   "ext_mem_73028") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73036,
                                                   "ext_mem_73036") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73044,
                                                   "ext_mem_73044") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73052,
                                                   "ext_mem_73052") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73060,
                                                   "ext_mem_73060") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73178,
                                                   "mem_out_73178") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_71141 =
                                    ((int64_t *) mem_72679)[max_res_71134];
                            int64_t abs_arg_71142 = sub64(x_71141,
                                                          defunc_0_g_res_71103);
                            int64_t abs_res_71143 = abs64(abs_arg_71142);
                            bool x_71144 = sle64((int64_t) 0, min_res_71136);
                            bool y_71145 = slt64(min_res_71136, n_70233);
                            bool bounds_check_71146 = x_71144 && y_71145;
                            bool index_certs_71147;
                            
                            if (!bounds_check_71146) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_71136,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70233, "].",
                                              "-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                                if (memblock_unref(ctx, &mem_72611,
                                                   "mem_72611") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72607,
                                                   "mem_72607") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73020,
                                                   "ext_mem_73020") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73028,
                                                   "ext_mem_73028") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73036,
                                                   "ext_mem_73036") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73044,
                                                   "ext_mem_73044") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73052,
                                                   "ext_mem_73052") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73060,
                                                   "ext_mem_73060") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73178,
                                                   "mem_out_73178") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_71148 =
                                    ((int64_t *) mem_72679)[min_res_71136];
                            int64_t abs_arg_71149 = sub64(x_71148,
                                                          defunc_0_g_res_71103);
                            int64_t abs_res_71150 = abs64(abs_arg_71149);
                            bool cond_71151 = max_res_71134 == l_idx_71130;
                            int64_t loopres_71152;
                            int64_t loopres_71153;
                            int64_t loopres_71154;
                            
                            if (cond_71151) {
                                loopres_71152 = l_idx_71130;
                                loopres_71153 = r_idx_71131;
                                loopres_71154 = min_res_70253;
                            } else {
                                bool cond_71155 = slt64(abs_res_71143,
                                                        abs_res_71150);
                                bool cond_f_res_71156 = min_res_71136 ==
                                     r_idx_71131;
                                bool x_71157 = !cond_71155;
                                bool y_71158 = cond_f_res_71156 && x_71157;
                                bool cond_71159 = cond_71155 || y_71158;
                                int64_t loopres_f_res_71160;
                                
                                if (cond_71159) {
                                    loopres_f_res_71160 = max_res_71134;
                                } else {
                                    loopres_f_res_71160 = l_idx_71130;
                                }
                                
                                int64_t loopres_f_res_71161;
                                
                                if (cond_71159) {
                                    loopres_f_res_71161 = r_idx_71131;
                                } else {
                                    loopres_f_res_71161 = min_res_71136;
                                }
                                
                                int64_t loopres_f_res_71162;
                                
                                if (cond_71159) {
                                    int64_t loopres_f_res_t_res_71163 =
                                            add64((int64_t) 1, span_71132);
                                    
                                    loopres_f_res_71162 =
                                        loopres_f_res_t_res_71163;
                                } else {
                                    int64_t loopres_f_res_f_res_71164 =
                                            add64((int64_t) 1, span_71132);
                                    
                                    loopres_f_res_71162 =
                                        loopres_f_res_f_res_71164;
                                }
                                loopres_71152 = loopres_f_res_71160;
                                loopres_71153 = loopres_f_res_71161;
                                loopres_71154 = loopres_f_res_71162;
                            }
                            
                            bool loop_cond_71165 = slt64(loopres_71154,
                                                         min_res_70253);
                            bool loop_while_tmp_73287 = loop_cond_71165;
                            int64_t l_idx_tmp_73288 = loopres_71152;
                            int64_t r_idx_tmp_73289 = loopres_71153;
                            int64_t span_tmp_73290 = loopres_71154;
                            
                            loop_while_71129 = loop_while_tmp_73287;
                            l_idx_71130 = l_idx_tmp_73288;
                            r_idx_71131 = r_idx_tmp_73289;
                            span_71132 = span_tmp_73290;
                        }
                        idx_71125 = loop_while_71129;
                        idx_71126 = l_idx_71130;
                        idx_71127 = r_idx_71131;
                        idx_71128 = span_71132;
                        
                        int64_t min_res_71166 = smin64(min_arg_71088,
                                                       idx_71126);
                        int64_t max_res_71167 = smax64((int64_t) 0,
                                                       min_res_71166);
                        int64_t x_71168 = add64(min_res_71089, max_res_71167);
                        int64_t r_71169 = sub64(x_71168, (int64_t) 1);
                        bool x_71170 = sle64((int64_t) 0, r_71169);
                        bool y_71171 = slt64(r_71169, n_70233);
                        bool bounds_check_71172 = x_71170 && y_71171;
                        bool index_certs_71173;
                        
                        if (!bounds_check_71172) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_71169,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_72611, "mem_72611") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72607, "mem_72607") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73020,
                                               "ext_mem_73020") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73028,
                                               "ext_mem_73028") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73036,
                                               "ext_mem_73036") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73044,
                                               "ext_mem_73044") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_71174 = ((int64_t *) mem_72652)[r_71169];
                        int64_t abs_arg_71175 = sub64(x_71174, min_res_71102);
                        int64_t abs_res_71176 = abs64(abs_arg_71175);
                        bool x_71177 = sle64((int64_t) 0, max_res_71167);
                        bool y_71178 = slt64(max_res_71167, n_70233);
                        bool bounds_check_71179 = x_71177 && y_71178;
                        bool index_certs_71180;
                        
                        if (!bounds_check_71179) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_71167,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_72611, "mem_72611") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72607, "mem_72607") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73020,
                                               "ext_mem_73020") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73028,
                                               "ext_mem_73028") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73036,
                                               "ext_mem_73036") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73044,
                                               "ext_mem_73044") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_71181 =
                                ((int64_t *) mem_72652)[max_res_71167];
                        int64_t abs_arg_71182 = sub64(x_71181, min_res_71102);
                        int64_t abs_res_71183 = abs64(abs_arg_71182);
                        int64_t max_res_71184 = smax64(abs_res_71176,
                                                       abs_res_71183);
                        float defunc_0_f_res_71185 =
                              sitofp_i64_f32(max_res_71184);
                        float defunc_1_f_res_71186 = max_res_71093 +
                              defunc_0_f_res_71185;
                        float defunc_2_reduce_res_71208;
                        float defunc_2_reduce_res_71209;
                        float defunc_2_reduce_res_71210;
                        float redout_71764;
                        float redout_71765;
                        float redout_71766;
                        
                        redout_71764 = 0.0F;
                        redout_71765 = 0.0F;
                        redout_71766 = 0.0F;
                        for (int64_t i_71769 = 0; i_71769 < q_70235;
                             i_71769++) {
                            float x_71223 = ((float *) mem_72694)[i_71769];
                            bool cond_71224 = sle64(last_res_71072, i_71769);
                            int64_t defunc_0_f_res_71225;
                            
                            if (cond_71224) {
                                defunc_0_f_res_71225 = (int64_t) 0;
                            } else {
                                int64_t i_71226 = add64(max_res_71167, i_71769);
                                int64_t defunc_0_add_arg_71227 =
                                        ((int64_t *) mem_72652)[i_71226];
                                int64_t defunc_1_add_res_71228 =
                                        add64((int64_t) 1,
                                              defunc_0_add_arg_71227);
                                
                                defunc_0_f_res_71225 = defunc_1_add_res_71228;
                            }
                            
                            int64_t binop_p_71229 = sub64(defunc_0_f_res_71225,
                                                          min_res_71102);
                            float defunc_0_f_res_71230 =
                                  sitofp_i64_f32(binop_p_71229);
                            float abs_res_71231 =
                                  (float) fabs(defunc_0_f_res_71230);
                            float tmp1_71232 = abs_res_71231 /
                                  defunc_1_f_res_71186;
                            float x_71233 = tmp1_71232 * tmp1_71232;
                            float y_71234 = tmp1_71232 * x_71233;
                            float tmp2_71235 = 1.0F - y_71234;
                            float x_71236 = tmp2_71235 * tmp2_71235;
                            float tmp3_71237 = tmp2_71235 * x_71236;
                            float tmp4_71238 = x_71223 * tmp3_71237;
                            float defunc_1_f_res_71239 = defunc_0_f_res_71230 *
                                  tmp4_71238;
                            float defunc_1_f_res_71240 = defunc_0_f_res_71230 *
                                  defunc_1_f_res_71239;
                            float defunc_1_op_res_71215 = tmp4_71238 +
                                  redout_71764;
                            float defunc_1_op_res_71218 = defunc_1_f_res_71239 +
                                  redout_71765;
                            float defunc_1_op_res_71221 = defunc_1_f_res_71240 +
                                  redout_71766;
                            
                            ((float *) mem_72731)[i_71769] =
                                defunc_1_f_res_71239;
                            ((float *) mem_72734)[i_71769] = tmp4_71238;
                            
                            float redout_tmp_73291 = defunc_1_op_res_71215;
                            float redout_tmp_73292 = defunc_1_op_res_71218;
                            float redout_tmp_73293 = defunc_1_op_res_71221;
                            
                            redout_71764 = redout_tmp_73291;
                            redout_71765 = redout_tmp_73292;
                            redout_71766 = redout_tmp_73293;
                        }
                        defunc_2_reduce_res_71208 = redout_71764;
                        defunc_2_reduce_res_71209 = redout_71765;
                        defunc_2_reduce_res_71210 = redout_71766;
                        
                        float x_71246 = defunc_2_reduce_res_71208 *
                              defunc_2_reduce_res_71210;
                        float y_71247 = defunc_2_reduce_res_71209 *
                              defunc_2_reduce_res_71209;
                        float y_71248 = x_71246 - y_71247;
                        float det1_71249 = 1.0F / y_71248;
                        float a11_71250 = defunc_2_reduce_res_71210 *
                              det1_71249;
                        float x_71251 = 0.0F - defunc_2_reduce_res_71209;
                        float b11_71252 = det1_71249 * x_71251;
                        float c11_71253 = defunc_2_reduce_res_71208 *
                              det1_71249;
                        float defunc_2_reduce_res_71254;
                        float defunc_2_reduce_res_71255;
                        float redout_71772;
                        float redout_71773;
                        
                        redout_71772 = 0.0F;
                        redout_71773 = 0.0F;
                        for (int64_t i_71774 = 0; i_71774 < q_70235;
                             i_71774++) {
                            float x_71263 = ((float *) mem_72734)[i_71774];
                            float x_71264 = ((float *) mem_72731)[i_71774];
                            bool cond_71265 = sle64(last_res_71072, i_71774);
                            float defunc_0_f_res_71266;
                            
                            if (cond_71265) {
                                defunc_0_f_res_71266 = 0.0F;
                            } else {
                                int64_t i_71267 = add64(max_res_71167, i_71774);
                                float defunc_0_add_arg_71268 =
                                      ((float *) mem_72649)[i_71267];
                                
                                defunc_0_f_res_71266 = defunc_0_add_arg_71268;
                            }
                            
                            float x_71269 = a11_71250 * x_71263;
                            float y_71270 = b11_71252 * x_71264;
                            float x_71271 = x_71269 + y_71270;
                            float defunc_9_fit_fun_res_71272 =
                                  defunc_0_f_res_71266 * x_71271;
                            float x_71273 = b11_71252 * x_71263;
                            float y_71274 = c11_71253 * x_71264;
                            float x_71275 = x_71273 + y_71274;
                            float defunc_9_slope_fun_res_71276 =
                                  defunc_0_f_res_71266 * x_71275;
                            float defunc_1_op_res_71258 =
                                  defunc_9_fit_fun_res_71272 + redout_71772;
                            float defunc_1_op_res_71261 =
                                  defunc_9_slope_fun_res_71276 + redout_71773;
                            float redout_tmp_73296 = defunc_1_op_res_71258;
                            float redout_tmp_73297 = defunc_1_op_res_71261;
                            
                            redout_71772 = redout_tmp_73296;
                            redout_71773 = redout_tmp_73297;
                        }
                        defunc_2_reduce_res_71254 = redout_71772;
                        defunc_2_reduce_res_71255 = redout_71773;
                        ((float *) mem_72607.mem)[i_71786 * n_m_70241 +
                                                  i_71779] =
                            defunc_2_reduce_res_71254;
                        ((float *) mem_72611.mem)[i_71786 * n_m_70241 +
                                                  i_71779] =
                            defunc_2_reduce_res_71255;
                    }
                }
                if (memblock_set(ctx, &ext_mem_73028, &mem_72607,
                                 "mem_72607") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_73020, &mem_72611,
                                 "mem_72611") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72611, "mem_72611") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72607, "mem_72607") != 0)
                    return 1;
            } else {
                struct memblock mem_72800;
                
                mem_72800.references = NULL;
                if (memblock_alloc(ctx, &mem_72800, bytes_72799, "mem_72800")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock mem_72804;
                
                mem_72804.references = NULL;
                if (memblock_alloc(ctx, &mem_72804, bytes_72799, "mem_72804")) {
                    err = 1;
                    goto cleanup;
                }
                if (mem_72827_cached_sizze_73359 < (size_t) bytes_72826) {
                    mem_72827 = realloc(mem_72827, bytes_72826);
                    mem_72827_cached_sizze_73359 = bytes_72826;
                }
                if (mem_72842_cached_sizze_73360 < (size_t) bytes_72841) {
                    mem_72842 = realloc(mem_72842, bytes_72841);
                    mem_72842_cached_sizze_73360 = bytes_72841;
                }
                if (mem_72845_cached_sizze_73361 < (size_t) bytes_72826) {
                    mem_72845 = realloc(mem_72845, bytes_72826);
                    mem_72845_cached_sizze_73361 = bytes_72826;
                }
                if (mem_72872_cached_sizze_73362 < (size_t) bytes_72826) {
                    mem_72872 = realloc(mem_72872, bytes_72826);
                    mem_72872_cached_sizze_73362 = bytes_72826;
                }
                if (mem_72887_cached_sizze_73363 < (size_t) bytes_72886) {
                    mem_72887 = realloc(mem_72887, bytes_72886);
                    mem_72887_cached_sizze_73363 = bytes_72886;
                }
                if (mem_72924_cached_sizze_73364 < (size_t) bytes_72886) {
                    mem_72924 = realloc(mem_72924, bytes_72886);
                    mem_72924_cached_sizze_73364 = bytes_72886;
                }
                if (mem_72927_cached_sizze_73365 < (size_t) bytes_72886) {
                    mem_72927 = realloc(mem_72927, bytes_72886);
                    mem_72927_cached_sizze_73365 = bytes_72886;
                }
                if (mem_72954_cached_sizze_73366 < (size_t) bytes_72886) {
                    mem_72954 = realloc(mem_72954, bytes_72886);
                    mem_72954_cached_sizze_73366 = bytes_72886;
                }
                if (mem_72957_cached_sizze_73367 < (size_t) bytes_72886) {
                    mem_72957 = realloc(mem_72957, bytes_72886);
                    mem_72957_cached_sizze_73367 = bytes_72886;
                }
                for (int64_t i_71844 = 0; i_71844 < m_70232; i_71844++) {
                    int64_t discard_71794;
                    int64_t scanacc_71790 = (int64_t) 0;
                    
                    for (int64_t i_71792 = 0; i_71792 < n_70233; i_71792++) {
                        float x_71287 = ((float *) Y_mem_71984.mem)[i_71844 *
                                                                    n_70233 +
                                                                    i_71792];
                        bool isnan_res_71288;
                        
                        isnan_res_71288 = futrts_isnan32(x_71287);
                        
                        bool defunc_0_p_res_71289 = !isnan_res_71288;
                        int64_t defunc_0_f_res_71290 =
                                btoi_bool_i64(defunc_0_p_res_71289);
                        int64_t defunc_1_op_res_71286 =
                                add64(defunc_0_f_res_71290, scanacc_71790);
                        
                        ((int64_t *) mem_72827)[i_71792] =
                            defunc_1_op_res_71286;
                        
                        int64_t scanacc_tmp_73300 = defunc_1_op_res_71286;
                        
                        scanacc_71790 = scanacc_tmp_73300;
                    }
                    discard_71794 = scanacc_71790;
                    
                    int64_t last_res_71291 = ((int64_t *) mem_72827)[i_70247];
                    
                    for (int64_t i_73302 = 0; i_73302 < n_70233; i_73302++) {
                        ((float *) mem_72842)[i_73302] = 0.0F;
                    }
                    for (int64_t i_73303 = 0; i_73303 < n_70233; i_73303++) {
                        ((int64_t *) mem_72845)[i_73303] = (int64_t) -1;
                    }
                    for (int64_t write_iter_71795 = 0; write_iter_71795 <
                         n_70233; write_iter_71795++) {
                        float write_iv_71798 =
                              ((float *) Y_mem_71984.mem)[i_71844 * n_70233 +
                                                          write_iter_71795];
                        int64_t write_iv_71799 =
                                ((int64_t *) mem_72827)[write_iter_71795];
                        bool isnan_res_71299;
                        
                        isnan_res_71299 = futrts_isnan32(write_iv_71798);
                        
                        bool defunc_0_p_res_71300 = !isnan_res_71299;
                        int64_t defunc_1_f_res_71301;
                        
                        if (defunc_0_p_res_71300) {
                            int64_t defunc_1_f_res_t_res_71302 =
                                    sub64(write_iv_71799, (int64_t) 1);
                            
                            defunc_1_f_res_71301 = defunc_1_f_res_t_res_71302;
                        } else {
                            defunc_1_f_res_71301 = (int64_t) -1;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_71301) &&
                            slt64(defunc_1_f_res_71301, n_70233)) {
                            ((int64_t *) mem_72845)[defunc_1_f_res_71301] =
                                write_iter_71795;
                        }
                        if (sle64((int64_t) 0, defunc_1_f_res_71301) &&
                            slt64(defunc_1_f_res_71301, n_70233)) {
                            if ((int64_t) 4 > 0)
                                memmove(mem_72842 + defunc_1_f_res_71301 *
                                        (int64_t) 4, Y_mem_71984.mem +
                                        (i_71844 * n_70233 + write_iter_71795) *
                                        (int64_t) 4, (int64_t) 4);
                        }
                    }
                    for (int64_t i_71805 = 0; i_71805 < n_70233; i_71805++) {
                        int64_t x_71304 = ((int64_t *) mem_72845)[i_71805];
                        int64_t defunc_0_f_res_71305 = add64((int64_t) 1,
                                                             x_71304);
                        
                        ((int64_t *) mem_72872)[i_71805] = defunc_0_f_res_71305;
                    }
                    
                    int64_t min_arg_71306 = sub64(last_res_71291, (int64_t) 1);
                    int64_t min_arg_71307 = sub64(last_res_71291,
                                                  min_res_70253);
                    int64_t min_res_71308 = smin64(q_70235, last_res_71291);
                    float i64_res_71309 = sitofp_i64_f32(last_res_71291);
                    float x_71310 = i64_res_70259 - i64_res_71309;
                    float max_arg_71311 = x_71310 / 2.0F;
                    float max_res_71312 = fmax32(0.0F, max_arg_71311);
                    
                    for (int64_t i_71809 = 0; i_71809 < q_70235; i_71809++) {
                        bool cond_71315 = sle64(last_res_71291, i_71809);
                        float defunc_0_f_res_71316;
                        
                        if (cond_71315) {
                            defunc_0_f_res_71316 = 0.0F;
                        } else {
                            defunc_0_f_res_71316 = 1.0F;
                        }
                        ((float *) mem_72887)[i_71809] = defunc_0_f_res_71316;
                    }
                    for (int64_t i_71837 = 0; i_71837 < n_m_70241; i_71837++) {
                        int64_t min_arg_71320 = mul64(jump_70237, i_71837);
                        int64_t min_res_71321 = smin64(i_70247, min_arg_71320);
                        int64_t defunc_0_g_res_71322 = add64((int64_t) 1,
                                                             min_res_71321);
                        bool init_idx_71323;
                        int64_t init_idx_71324;
                        int64_t init_idx_71325;
                        bool loop_while_71326;
                        int64_t low_71327;
                        int64_t high_71328;
                        
                        loop_while_71326 = x_70248;
                        low_71327 = (int64_t) 0;
                        high_71328 = i_70247;
                        while (loop_while_71326) {
                            int64_t x_71329 = add64(low_71327, high_71328);
                            int64_t mid_71330 = sdiv64(x_71329, (int64_t) 2);
                            bool x_71331 = sle64((int64_t) 0, mid_71330);
                            bool y_71332 = slt64(mid_71330, n_70233);
                            bool bounds_check_71333 = x_71331 && y_71332;
                            bool index_certs_71334;
                            
                            if (!bounds_check_71333) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [", (long long) mid_71330,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70233, "].",
                                              "-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                                if (memblock_unref(ctx, &mem_72804,
                                                   "mem_72804") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72800,
                                                   "mem_72800") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73020,
                                                   "ext_mem_73020") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73028,
                                                   "ext_mem_73028") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73036,
                                                   "ext_mem_73036") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73044,
                                                   "ext_mem_73044") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73052,
                                                   "ext_mem_73052") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73060,
                                                   "ext_mem_73060") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73178,
                                                   "mem_out_73178") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t mid_id_71335 =
                                    ((int64_t *) mem_72872)[mid_71330];
                            bool cond_71336 = slt64(mid_id_71335, (int64_t) 0);
                            int64_t mid_idx_71337;
                            
                            if (cond_71336) {
                                mid_idx_71337 = (int64_t) 9223372036854775807;
                            } else {
                                mid_idx_71337 = mid_id_71335;
                            }
                            
                            bool cond_71338 = sle64(defunc_0_g_res_71322,
                                                    mid_idx_71337);
                            int64_t loopres_71339;
                            int64_t loopres_71340;
                            
                            if (cond_71338) {
                                int64_t loopres_t_res_71341 = sub64(mid_71330,
                                                                    (int64_t) 1);
                                
                                loopres_71339 = low_71327;
                                loopres_71340 = loopres_t_res_71341;
                            } else {
                                int64_t loopres_f_res_71342 = add64((int64_t) 1,
                                                                    mid_71330);
                                
                                loopres_71339 = loopres_f_res_71342;
                                loopres_71340 = high_71328;
                            }
                            
                            bool loop_cond_71343 = sle64(loopres_71339,
                                                         loopres_71340);
                            bool loop_while_tmp_73310 = loop_cond_71343;
                            int64_t low_tmp_73311 = loopres_71339;
                            int64_t high_tmp_73312 = loopres_71340;
                            
                            loop_while_71326 = loop_while_tmp_73310;
                            low_71327 = low_tmp_73311;
                            high_71328 = high_tmp_73312;
                        }
                        init_idx_71323 = loop_while_71326;
                        init_idx_71324 = low_71327;
                        init_idx_71325 = high_71328;
                        
                        bool idx_71344;
                        int64_t idx_71345;
                        int64_t idx_71346;
                        int64_t idx_71347;
                        bool loop_while_71348;
                        int64_t l_idx_71349;
                        int64_t r_idx_71350;
                        int64_t span_71351;
                        
                        loop_while_71348 = loop_cond_70258;
                        l_idx_71349 = init_idx_71324;
                        r_idx_71350 = init_idx_71324;
                        span_71351 = (int64_t) 1;
                        while (loop_while_71348) {
                            int64_t max_arg_71352 = sub64(l_idx_71349,
                                                          (int64_t) 1);
                            int64_t max_res_71353 = smax64((int64_t) 0,
                                                           max_arg_71352);
                            int64_t min_arg_71354 = add64((int64_t) 1,
                                                          r_idx_71350);
                            int64_t min_res_71355 = smin64(min_arg_71306,
                                                           min_arg_71354);
                            bool x_71356 = sle64((int64_t) 0, max_res_71353);
                            bool y_71357 = slt64(max_res_71353, n_70233);
                            bool bounds_check_71358 = x_71356 && y_71357;
                            bool index_certs_71359;
                            
                            if (!bounds_check_71358) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) max_res_71353,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70233, "].",
                                              "-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                                if (memblock_unref(ctx, &mem_72804,
                                                   "mem_72804") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72800,
                                                   "mem_72800") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73020,
                                                   "ext_mem_73020") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73028,
                                                   "ext_mem_73028") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73036,
                                                   "ext_mem_73036") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73044,
                                                   "ext_mem_73044") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73052,
                                                   "ext_mem_73052") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73060,
                                                   "ext_mem_73060") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73178,
                                                   "mem_out_73178") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_71360 =
                                    ((int64_t *) mem_72872)[max_res_71353];
                            int64_t abs_arg_71361 = sub64(x_71360,
                                                          defunc_0_g_res_71322);
                            int64_t abs_res_71362 = abs64(abs_arg_71361);
                            bool x_71363 = sle64((int64_t) 0, min_res_71355);
                            bool y_71364 = slt64(min_res_71355, n_70233);
                            bool bounds_check_71365 = x_71363 && y_71364;
                            bool index_certs_71366;
                            
                            if (!bounds_check_71365) {
                                ctx->error =
                                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                              "Index [",
                                              (long long) min_res_71355,
                                              "] out of bounds for array of shape [",
                                              (long long) n_70233, "].",
                                              "-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n");
                                if (memblock_unref(ctx, &mem_72804,
                                                   "mem_72804") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_72800,
                                                   "mem_72800") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73020,
                                                   "ext_mem_73020") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73028,
                                                   "ext_mem_73028") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73036,
                                                   "ext_mem_73036") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73044,
                                                   "ext_mem_73044") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73052,
                                                   "ext_mem_73052") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &ext_mem_73060,
                                                   "ext_mem_73060") != 0)
                                    return 1;
                                if (memblock_unref(ctx, &mem_out_73178,
                                                   "mem_out_73178") != 0)
                                    return 1;
                                return 1;
                            }
                            
                            int64_t x_71367 =
                                    ((int64_t *) mem_72872)[min_res_71355];
                            int64_t abs_arg_71368 = sub64(x_71367,
                                                          defunc_0_g_res_71322);
                            int64_t abs_res_71369 = abs64(abs_arg_71368);
                            bool cond_71370 = max_res_71353 == l_idx_71349;
                            int64_t loopres_71371;
                            int64_t loopres_71372;
                            int64_t loopres_71373;
                            
                            if (cond_71370) {
                                loopres_71371 = l_idx_71349;
                                loopres_71372 = r_idx_71350;
                                loopres_71373 = min_res_70253;
                            } else {
                                bool cond_71374 = slt64(abs_res_71362,
                                                        abs_res_71369);
                                bool cond_f_res_71375 = min_res_71355 ==
                                     r_idx_71350;
                                bool x_71376 = !cond_71374;
                                bool y_71377 = cond_f_res_71375 && x_71376;
                                bool cond_71378 = cond_71374 || y_71377;
                                int64_t loopres_f_res_71379;
                                
                                if (cond_71378) {
                                    loopres_f_res_71379 = max_res_71353;
                                } else {
                                    loopres_f_res_71379 = l_idx_71349;
                                }
                                
                                int64_t loopres_f_res_71380;
                                
                                if (cond_71378) {
                                    loopres_f_res_71380 = r_idx_71350;
                                } else {
                                    loopres_f_res_71380 = min_res_71355;
                                }
                                
                                int64_t loopres_f_res_71381;
                                
                                if (cond_71378) {
                                    int64_t loopres_f_res_t_res_71382 =
                                            add64((int64_t) 1, span_71351);
                                    
                                    loopres_f_res_71381 =
                                        loopres_f_res_t_res_71382;
                                } else {
                                    int64_t loopres_f_res_f_res_71383 =
                                            add64((int64_t) 1, span_71351);
                                    
                                    loopres_f_res_71381 =
                                        loopres_f_res_f_res_71383;
                                }
                                loopres_71371 = loopres_f_res_71379;
                                loopres_71372 = loopres_f_res_71380;
                                loopres_71373 = loopres_f_res_71381;
                            }
                            
                            bool loop_cond_71384 = slt64(loopres_71373,
                                                         min_res_70253);
                            bool loop_while_tmp_73313 = loop_cond_71384;
                            int64_t l_idx_tmp_73314 = loopres_71371;
                            int64_t r_idx_tmp_73315 = loopres_71372;
                            int64_t span_tmp_73316 = loopres_71373;
                            
                            loop_while_71348 = loop_while_tmp_73313;
                            l_idx_71349 = l_idx_tmp_73314;
                            r_idx_71350 = r_idx_tmp_73315;
                            span_71351 = span_tmp_73316;
                        }
                        idx_71344 = loop_while_71348;
                        idx_71345 = l_idx_71349;
                        idx_71346 = r_idx_71350;
                        idx_71347 = span_71351;
                        
                        int64_t min_res_71385 = smin64(min_arg_71307,
                                                       idx_71345);
                        int64_t max_res_71386 = smax64((int64_t) 0,
                                                       min_res_71385);
                        int64_t x_71387 = add64(min_res_71308, max_res_71386);
                        int64_t r_71388 = sub64(x_71387, (int64_t) 1);
                        bool x_71389 = sle64((int64_t) 0, r_71388);
                        bool y_71390 = slt64(r_71388, n_70233);
                        bool bounds_check_71391 = x_71389 && y_71390;
                        bool index_certs_71392;
                        
                        if (!bounds_check_71391) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) r_71388,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_72804, "mem_72804") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72800, "mem_72800") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73020,
                                               "ext_mem_73020") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73028,
                                               "ext_mem_73028") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73036,
                                               "ext_mem_73036") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73044,
                                               "ext_mem_73044") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_71393 = ((int64_t *) mem_72845)[r_71388];
                        int64_t abs_arg_71394 = sub64(x_71393, min_res_71321);
                        int64_t abs_res_71395 = abs64(abs_arg_71394);
                        bool x_71396 = sle64((int64_t) 0, max_res_71386);
                        bool y_71397 = slt64(max_res_71386, n_70233);
                        bool bounds_check_71398 = x_71396 && y_71397;
                        bool index_certs_71399;
                        
                        if (!bounds_check_71398) {
                            ctx->error =
                                msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                          "Index [", (long long) max_res_71386,
                                          "] out of bounds for array of shape [",
                                          (long long) n_70233, "].",
                                          "-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
                            if (memblock_unref(ctx, &mem_72804, "mem_72804") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &mem_72800, "mem_72800") !=
                                0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73020,
                                               "ext_mem_73020") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73028,
                                               "ext_mem_73028") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73036,
                                               "ext_mem_73036") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73044,
                                               "ext_mem_73044") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73052,
                                               "ext_mem_73052") != 0)
                                return 1;
                            if (memblock_unref(ctx, &ext_mem_73060,
                                               "ext_mem_73060") != 0)
                                return 1;
                            if (memblock_unref(ctx, &mem_out_73178,
                                               "mem_out_73178") != 0)
                                return 1;
                            return 1;
                        }
                        
                        int64_t x_71400 =
                                ((int64_t *) mem_72845)[max_res_71386];
                        int64_t abs_arg_71401 = sub64(x_71400, min_res_71321);
                        int64_t abs_res_71402 = abs64(abs_arg_71401);
                        int64_t max_res_71403 = smax64(abs_res_71395,
                                                       abs_res_71402);
                        float defunc_0_f_res_71404 =
                              sitofp_i64_f32(max_res_71403);
                        float defunc_1_f_res_71405 = max_res_71312 +
                              defunc_0_f_res_71404;
                        
                        for (int64_t i_71815 = 0; i_71815 < q_70235;
                             i_71815++) {
                            float x_71409 = ((float *) mem_72887)[i_71815];
                            bool cond_71410 = sle64(last_res_71291, i_71815);
                            int64_t defunc_0_f_res_71411;
                            
                            if (cond_71410) {
                                defunc_0_f_res_71411 = (int64_t) 0;
                            } else {
                                int64_t i_71412 = add64(max_res_71386, i_71815);
                                int64_t defunc_0_add_arg_71413 =
                                        ((int64_t *) mem_72845)[i_71412];
                                int64_t defunc_1_add_res_71414 =
                                        add64((int64_t) 1,
                                              defunc_0_add_arg_71413);
                                
                                defunc_0_f_res_71411 = defunc_1_add_res_71414;
                            }
                            
                            int64_t binop_p_71415 = sub64(defunc_0_f_res_71411,
                                                          min_res_71321);
                            float defunc_0_f_res_71416 =
                                  sitofp_i64_f32(binop_p_71415);
                            float abs_res_71417 =
                                  (float) fabs(defunc_0_f_res_71416);
                            float tmp1_71418 = abs_res_71417 /
                                  defunc_1_f_res_71405;
                            float x_71419 = tmp1_71418 * tmp1_71418;
                            float y_71420 = tmp1_71418 * x_71419;
                            float tmp2_71421 = 1.0F - y_71420;
                            float x_71422 = tmp2_71421 * tmp2_71421;
                            float tmp3_71423 = tmp2_71421 * x_71422;
                            float tmp4_71424 = x_71409 * tmp3_71423;
                            
                            ((float *) mem_72924)[i_71815] =
                                defunc_0_f_res_71416;
                            ((float *) mem_72927)[i_71815] = tmp4_71424;
                        }
                        
                        float defunc_2_reduce_res_71431;
                        float defunc_2_reduce_res_71432;
                        float defunc_2_reduce_res_71433;
                        float defunc_2_reduce_res_71434;
                        float defunc_2_reduce_res_71435;
                        float redout_71820;
                        float redout_71821;
                        float redout_71822;
                        float redout_71823;
                        float redout_71824;
                        
                        redout_71820 = 0.0F;
                        redout_71821 = 0.0F;
                        redout_71822 = 0.0F;
                        redout_71823 = 0.0F;
                        redout_71824 = 0.0F;
                        for (int64_t i_71827 = 0; i_71827 < q_70235;
                             i_71827++) {
                            float x_71453 = ((float *) mem_72924)[i_71827];
                            float x_71454 = ((float *) mem_72927)[i_71827];
                            float defunc_1_f_res_71455 = x_71453 * x_71454;
                            float defunc_1_f_res_71456 = x_71453 *
                                  defunc_1_f_res_71455;
                            float defunc_1_f_res_71457 = x_71453 *
                                  defunc_1_f_res_71456;
                            float defunc_1_f_res_71458 = x_71453 *
                                  defunc_1_f_res_71457;
                            float defunc_1_op_res_71440 = x_71454 +
                                  redout_71820;
                            float defunc_1_op_res_71443 = defunc_1_f_res_71455 +
                                  redout_71821;
                            float defunc_1_op_res_71446 = defunc_1_f_res_71456 +
                                  redout_71822;
                            float defunc_1_op_res_71449 = defunc_1_f_res_71457 +
                                  redout_71823;
                            float defunc_1_op_res_71452 = defunc_1_f_res_71458 +
                                  redout_71824;
                            
                            ((float *) mem_72954)[i_71827] =
                                defunc_1_f_res_71456;
                            ((float *) mem_72957)[i_71827] =
                                defunc_1_f_res_71455;
                            
                            float redout_tmp_73319 = defunc_1_op_res_71440;
                            float redout_tmp_73320 = defunc_1_op_res_71443;
                            float redout_tmp_73321 = defunc_1_op_res_71446;
                            float redout_tmp_73322 = defunc_1_op_res_71449;
                            float redout_tmp_73323 = defunc_1_op_res_71452;
                            
                            redout_71820 = redout_tmp_73319;
                            redout_71821 = redout_tmp_73320;
                            redout_71822 = redout_tmp_73321;
                            redout_71823 = redout_tmp_73322;
                            redout_71824 = redout_tmp_73323;
                        }
                        defunc_2_reduce_res_71431 = redout_71820;
                        defunc_2_reduce_res_71432 = redout_71821;
                        defunc_2_reduce_res_71433 = redout_71822;
                        defunc_2_reduce_res_71434 = redout_71823;
                        defunc_2_reduce_res_71435 = redout_71824;
                        
                        float x_71466 = defunc_2_reduce_res_71433 *
                              defunc_2_reduce_res_71435;
                        float y_71467 = defunc_2_reduce_res_71434 *
                              defunc_2_reduce_res_71434;
                        float a12_71468 = x_71466 - y_71467;
                        float x_71469 = defunc_2_reduce_res_71433 *
                              defunc_2_reduce_res_71434;
                        float y_71470 = defunc_2_reduce_res_71432 *
                              defunc_2_reduce_res_71435;
                        float b12_71471 = x_71469 - y_71470;
                        float x_71472 = defunc_2_reduce_res_71432 *
                              defunc_2_reduce_res_71434;
                        float y_71473 = defunc_2_reduce_res_71433 *
                              defunc_2_reduce_res_71433;
                        float c12_71474 = x_71472 - y_71473;
                        float x_71475 = defunc_2_reduce_res_71431 *
                              defunc_2_reduce_res_71435;
                        float b2_71476 = x_71475 - y_71473;
                        float x_71477 = defunc_2_reduce_res_71432 *
                              defunc_2_reduce_res_71433;
                        float y_71478 = defunc_2_reduce_res_71431 *
                              defunc_2_reduce_res_71434;
                        float c2_71479 = x_71477 - y_71478;
                        float x_71480 = defunc_2_reduce_res_71431 * a12_71468;
                        float y_71481 = defunc_2_reduce_res_71432 * b12_71471;
                        float x_71482 = x_71480 + y_71481;
                        float y_71483 = defunc_2_reduce_res_71433 * c12_71474;
                        float y_71484 = x_71482 + y_71483;
                        float det_71485 = 1.0F / y_71484;
                        float a12_71486 = a12_71468 * det_71485;
                        float b12_71487 = b12_71471 * det_71485;
                        float c12_71488 = c12_71474 * det_71485;
                        float b2_71489 = b2_71476 * det_71485;
                        float c2_71490 = c2_71479 * det_71485;
                        float defunc_2_reduce_res_71491;
                        float defunc_2_reduce_res_71492;
                        float redout_71830;
                        float redout_71831;
                        
                        redout_71830 = 0.0F;
                        redout_71831 = 0.0F;
                        for (int64_t i_71832 = 0; i_71832 < q_70235;
                             i_71832++) {
                            float x_71500 = ((float *) mem_72927)[i_71832];
                            float x_71501 = ((float *) mem_72957)[i_71832];
                            float x_71502 = ((float *) mem_72954)[i_71832];
                            bool cond_71503 = sle64(last_res_71291, i_71832);
                            float defunc_0_f_res_71504;
                            
                            if (cond_71503) {
                                defunc_0_f_res_71504 = 0.0F;
                            } else {
                                int64_t i_71505 = add64(max_res_71386, i_71832);
                                float defunc_0_add_arg_71506 =
                                      ((float *) mem_72842)[i_71505];
                                
                                defunc_0_f_res_71504 = defunc_0_add_arg_71506;
                            }
                            
                            float x_71507 = a12_71486 * x_71500;
                            float y_71508 = b12_71487 * x_71501;
                            float x_71509 = x_71507 + y_71508;
                            float y_71510 = c12_71488 * x_71502;
                            float x_71511 = x_71509 + y_71510;
                            float defunc_9_fit_fun_res_71512 =
                                  defunc_0_f_res_71504 * x_71511;
                            float x_71513 = b12_71487 * x_71500;
                            float y_71514 = b2_71489 * x_71501;
                            float x_71515 = x_71513 + y_71514;
                            float y_71516 = c2_71490 * x_71502;
                            float x_71517 = x_71515 + y_71516;
                            float defunc_9_slope_fun_res_71518 =
                                  defunc_0_f_res_71504 * x_71517;
                            float defunc_1_op_res_71495 =
                                  defunc_9_fit_fun_res_71512 + redout_71830;
                            float defunc_1_op_res_71498 =
                                  defunc_9_slope_fun_res_71518 + redout_71831;
                            float redout_tmp_73326 = defunc_1_op_res_71495;
                            float redout_tmp_73327 = defunc_1_op_res_71498;
                            
                            redout_71830 = redout_tmp_73326;
                            redout_71831 = redout_tmp_73327;
                        }
                        defunc_2_reduce_res_71491 = redout_71830;
                        defunc_2_reduce_res_71492 = redout_71831;
                        ((float *) mem_72800.mem)[i_71844 * n_m_70241 +
                                                  i_71837] =
                            defunc_2_reduce_res_71491;
                        ((float *) mem_72804.mem)[i_71844 * n_m_70241 +
                                                  i_71837] =
                            defunc_2_reduce_res_71492;
                    }
                }
                if (memblock_set(ctx, &ext_mem_73028, &mem_72800,
                                 "mem_72800") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_73020, &mem_72804,
                                 "mem_72804") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72804, "mem_72804") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_72800, "mem_72800") != 0)
                    return 1;
            }
            if (memblock_set(ctx, &ext_mem_73044, &ext_mem_73028,
                             "ext_mem_73028") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_73036, &ext_mem_73020,
                             "ext_mem_73020") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_73020, "ext_mem_73020") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_73028, "ext_mem_73028") != 0)
                return 1;
        }
        if (memblock_set(ctx, &ext_mem_73060, &ext_mem_73044,
                         "ext_mem_73044") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_73052, &ext_mem_73036,
                         "ext_mem_73036") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_73036, "ext_mem_73036") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_73044, "ext_mem_73044") != 0)
            return 1;
    }
    
    bool cond_71521 = slt64((int64_t) 1, jump_70237);
    int64_t binop_x_73068 = m_70232 * n_70233;
    int64_t binop_y_73069 = (int64_t) 4 * binop_x_73068;
    int64_t bytes_73070 = smax64((int64_t) 0, binop_y_73069);
    int64_t ext_73116;
    
    if (cond_71521) {
        ext_73116 = n_70233;
    } else {
        ext_73116 = n_m_70241;
    }
    
    int64_t ext_73115;
    
    if (cond_71521) {
        ext_73115 = n_70233;
    } else {
        ext_73115 = n_m_70241;
    }
    
    struct memblock ext_mem_73112;
    
    ext_mem_73112.references = NULL;
    if (cond_71521) {
        bool zzero_71523 = jump_70237 == (int64_t) 0;
        bool nonzzero_71524 = !zzero_71523;
        bool nonzzero_cert_71525;
        
        if (!nonzzero_71524) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  loess.fut:530:20-27\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:529:3-542:9\n   #5  loess.fut:607:13-59\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:606:5-608:29\n   #9  loess.fut:571:1-610:26\n");
            if (memblock_unref(ctx, &ext_mem_73112, "ext_mem_73112") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_73052, "ext_mem_73052") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_73060, "ext_mem_73060") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_73178, "mem_out_73178") != 0)
                return 1;
            return 1;
        }
        
        int64_t y_71526 = sub64(n_m_70241, (int64_t) 1);
        struct memblock mem_73071;
        
        mem_73071.references = NULL;
        if (memblock_alloc(ctx, &mem_73071, bytes_73070, "mem_73071")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_71853 = 0; i_71853 < m_70232; i_71853++) {
            for (int64_t i_71849 = 0; i_71849 < n_70233; i_71849++) {
                int64_t m_v_71532 = sdiv64(i_71849, jump_70237);
                bool cond_71533 = m_v_71532 == y_71526;
                int64_t j_71534;
                
                if (cond_71533) {
                    int64_t j_t_res_71535 = sub64(m_v_71532, (int64_t) 1);
                    
                    j_71534 = j_t_res_71535;
                } else {
                    j_71534 = m_v_71532;
                }
                
                int64_t min_arg_71536 = mul64(jump_70237, j_71534);
                int64_t min_res_71537 = smin64(i_70247, min_arg_71536);
                int64_t defunc_0_m_fun_arg_71538 = add64((int64_t) 1, j_71534);
                int64_t min_arg_71539 = mul64(jump_70237,
                                              defunc_0_m_fun_arg_71538);
                int64_t min_res_71540 = smin64(i_70247, min_arg_71539);
                int64_t i64_arg_71541 = sub64(min_res_71540, min_res_71537);
                float i64_res_71542 = sitofp_i64_f32(i64_arg_71541);
                int64_t i64_arg_71543 = sub64(i_71849, min_res_71537);
                float i64_res_71544 = sitofp_i64_f32(i64_arg_71543);
                float u_71545 = i64_res_71544 / i64_res_71542;
                float u2_71546 = u_71545 * u_71545;
                float u3_71547 = u_71545 * u2_71546;
                float x_71548 = 2.0F * u3_71547;
                float y_71549 = 3.0F * u2_71546;
                float x_71550 = x_71548 - y_71549;
                float x_71551 = 1.0F + x_71550;
                bool x_71552 = sle64((int64_t) 0, j_71534);
                bool y_71553 = slt64(j_71534, n_m_70241);
                bool bounds_check_71554 = x_71552 && y_71553;
                bool index_certs_71555;
                
                if (!bounds_check_71554) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) j_71534,
                                  "] out of bounds for array of shape [",
                                  (long long) n_m_70241, "].",
                                  "-> #0  loess.fut:538:34-40\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:529:3-542:9\n   #5  loess.fut:607:13-59\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:606:5-608:29\n   #9  loess.fut:571:1-610:26\n");
                    if (memblock_unref(ctx, &mem_73071, "mem_73071") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_73112, "ext_mem_73112") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_73052, "ext_mem_73052") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_73060, "ext_mem_73060") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_73178, "mem_out_73178") !=
                        0)
                        return 1;
                    return 1;
                }
                
                float y_71556 = ((float *) ext_mem_73060.mem)[i_71853 *
                                                              n_m_70241 +
                                                              j_71534];
                float x_71557 = x_71551 * y_71556;
                float x_71558 = y_71549 - x_71548;
                bool x_71559 = sle64((int64_t) 0, defunc_0_m_fun_arg_71538);
                bool y_71560 = slt64(defunc_0_m_fun_arg_71538, n_m_70241);
                bool bounds_check_71561 = x_71559 && y_71560;
                bool index_certs_71562;
                
                if (!bounds_check_71561) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [",
                                  (long long) defunc_0_m_fun_arg_71538,
                                  "] out of bounds for array of shape [",
                                  (long long) n_m_70241, "].",
                                  "-> #0  loess.fut:539:34-44\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:529:3-542:9\n   #5  loess.fut:607:13-59\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:606:5-608:29\n   #9  loess.fut:571:1-610:26\n");
                    if (memblock_unref(ctx, &mem_73071, "mem_73071") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_73112, "ext_mem_73112") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_73052, "ext_mem_73052") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_73060, "ext_mem_73060") !=
                        0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_73178, "mem_out_73178") !=
                        0)
                        return 1;
                    return 1;
                }
                
                float y_71563 = ((float *) ext_mem_73060.mem)[i_71853 *
                                                              n_m_70241 +
                                                              defunc_0_m_fun_arg_71538];
                float y_71564 = x_71558 * y_71563;
                float x_71565 = x_71557 + y_71564;
                float y_71566 = 2.0F * u2_71546;
                float x_71567 = u3_71547 - y_71566;
                float x_71568 = u_71545 + x_71567;
                float y_71569 = ((float *) ext_mem_73052.mem)[i_71853 *
                                                              n_m_70241 +
                                                              j_71534];
                float x_71570 = x_71568 * y_71569;
                float y_71571 = i64_res_71542 * x_71570;
                float x_71572 = x_71565 + y_71571;
                float x_71573 = u3_71547 - u2_71546;
                float y_71574 = ((float *) ext_mem_73052.mem)[i_71853 *
                                                              n_m_70241 +
                                                              defunc_0_m_fun_arg_71538];
                float x_71575 = x_71573 * y_71574;
                float y_71576 = i64_res_71542 * x_71575;
                float defunc_0_f_res_71577 = x_71572 + y_71576;
                
                ((float *) mem_73071.mem)[i_71853 * n_70233 + i_71849] =
                    defunc_0_f_res_71577;
            }
        }
        if (memblock_set(ctx, &ext_mem_73112, &mem_73071, "mem_73071") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_73071, "mem_73071") != 0)
            return 1;
    } else {
        bool dim_match_71578 = n_70233 == n_m_70241;
        bool empty_or_match_cert_71579;
        
        if (!dim_match_71578) {
            ctx->error =
                msgprintf("Error: %s%lld%s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                          "Value of (core language) shape (",
                          (long long) m_70232, ", ", (long long) n_m_70241,
                          ") cannot match shape of type `[",
                          (long long) m_70232, "][", (long long) n_70233,
                          "]f32`.",
                          "-> #0  loess.fut:610:5-26\n   #1  loess.fut:571:1-610:26\n");
            if (memblock_unref(ctx, &ext_mem_73112, "ext_mem_73112") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_73052, "ext_mem_73052") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_73060, "ext_mem_73060") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_73178, "mem_out_73178") != 0)
                return 1;
            return 1;
        }
        if (memblock_set(ctx, &ext_mem_73112, &ext_mem_73060,
                         "ext_mem_73060") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &ext_mem_73052, "ext_mem_73052") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_73060, "ext_mem_73060") != 0)
        return 1;
    
    int64_t binop_x_73120 = m_70232 * n_70233;
    int64_t binop_y_73121 = (int64_t) 4 * binop_x_73120;
    int64_t bytes_73122 = smax64((int64_t) 0, binop_y_73121);
    struct memblock mem_73123;
    
    mem_73123.references = NULL;
    if (memblock_alloc(ctx, &mem_73123, bytes_73122, "mem_73123")) {
        err = 1;
        goto cleanup;
    }
    if (m_70232 * n_70233 * (int64_t) 4 > 0)
        memmove(mem_73123.mem + (int64_t) 0, ext_mem_73112.mem + (int64_t) 0,
                m_70232 * n_70233 * (int64_t) 4);
    if (memblock_unref(ctx, &ext_mem_73112, "ext_mem_73112") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_73178, &mem_73123, "mem_73123") != 0)
        return 1;
    (*mem_out_p_73330).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_73330, &mem_out_73178, "mem_out_73178") !=
        0)
        return 1;
    if (memblock_unref(ctx, &mem_73123, "mem_73123") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_73112, "ext_mem_73112") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_73052, "ext_mem_73052") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_73060, "ext_mem_73060") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_out_73178, "mem_out_73178") != 0)
        return 1;
    
  cleanup:
    { }
    free(mem_72005);
    free(mem_72020);
    free(mem_72023);
    free(mem_72050);
    free(mem_72065);
    free(mem_72138);
    free(mem_72153);
    free(mem_72156);
    free(mem_72183);
    free(mem_72198);
    free(mem_72301);
    free(mem_72316);
    free(mem_72319);
    free(mem_72346);
    free(mem_72361);
    free(mem_72486);
    free(mem_72501);
    free(mem_72504);
    free(mem_72531);
    free(mem_72546);
    free(mem_72572);
    free(mem_72634);
    free(mem_72649);
    free(mem_72652);
    free(mem_72679);
    free(mem_72694);
    free(mem_72731);
    free(mem_72734);
    free(mem_72827);
    free(mem_72842);
    free(mem_72845);
    free(mem_72872);
    free(mem_72887);
    free(mem_72924);
    free(mem_72927);
    free(mem_72954);
    free(mem_72957);
    return err;
}

int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5)
{
    struct memblock Y_mem_71984;
    
    Y_mem_71984.references = NULL;
    
    int64_t m_70232;
    int64_t n_70233;
    int64_t q_70235;
    int64_t degree_70236;
    int64_t jump_70237;
    int64_t jump_threshold_70238;
    int64_t q_threshold_70239;
    struct memblock mem_out_73178;
    
    mem_out_73178.references = NULL;
    
    int ret = 0;
    
    lock_lock(&ctx->lock);
    Y_mem_71984 = in0->mem;
    m_70232 = in0->shape[0];
    n_70233 = in0->shape[1];
    q_70235 = in1;
    degree_70236 = in2;
    jump_70237 = in3;
    jump_threshold_70238 = in4;
    q_threshold_70239 = in5;
    if (!(m_70232 == in0->shape[0] && n_70233 == in0->shape[1])) {
        ret = 1;
        if (!ctx->error)
            ctx->error =
                msgprintf("Error: entry point arguments have invalid sizes.\n");
    }
    if (ret == 0) {
        ret = futrts_entry_main(ctx, &mem_out_73178, Y_mem_71984, m_70232,
                                n_70233, q_70235, degree_70236, jump_70237,
                                jump_threshold_70238, q_threshold_70239);
        if (ret == 0) {
            assert((*out0 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out0)->mem = mem_out_73178;
            (*out0)->shape[0] = m_70232;
            (*out0)->shape[1] = n_70233;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  
