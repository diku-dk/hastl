// Generated by Futhark 0.21.0
// git: 0d9594f (Wed Sep 8 23:21:55 2021 +0200)

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers\n")
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#define CL_TARGET_OPENCL_VERSION 120
#define CL_USE_DEPRECATED_OPENCL_1_2_APIS
#ifdef __APPLE__
#define CL_SILENCE_DEPRECATION
#include <OpenCL/cl.h>
#else
#include <CL/cl.h>
#endif

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
void futhark_context_config_add_build_option(struct futhark_context_config *cfg,
                                             const char *opt);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int flag);
void futhark_context_config_set_device(struct futhark_context_config *cfg, const
                                       char *s);
void futhark_context_config_set_platform(struct futhark_context_config *cfg,
                                         const char *s);
void
futhark_context_config_select_device_interactively(struct futhark_context_config *cfg);
void futhark_context_config_list_devices(struct futhark_context_config *cfg);
void futhark_context_config_dump_program_to(struct futhark_context_config *cfg,
                                            const char *path);
void
futhark_context_config_load_program_from(struct futhark_context_config *cfg,
                                         const char *path);
void futhark_context_config_dump_binary_to(struct futhark_context_config *cfg,
                                           const char *path);
void futhark_context_config_load_binary_from(struct futhark_context_config *cfg,
                                             const char *path);
void
futhark_context_config_set_default_group_size(struct futhark_context_config *cfg,
                                              int size);
void
futhark_context_config_set_default_num_groups(struct futhark_context_config *cfg,
                                              int num);
void
futhark_context_config_set_default_tile_size(struct futhark_context_config *cfg,
                                             int num);
void
futhark_context_config_set_default_reg_tile_size(struct futhark_context_config *cfg,
                                                 int num);
void
futhark_context_config_set_default_threshold(struct futhark_context_config *cfg,
                                             int num);
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
struct futhark_context
*futhark_context_new_with_command_queue(struct futhark_context_config *cfg,
                                        cl_command_queue queue);
void futhark_context_free(struct futhark_context *ctx);
cl_command_queue futhark_context_get_command_queue(struct futhark_context *ctx);
int futhark_get_num_sizes(void);
const char *futhark_get_size_name(int);
const char *futhark_get_size_class(int);

// Arrays
struct futhark_f32_2d;
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1);
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              cl_mem data, int64_t offset,
                                              int64_t dim0, int64_t dim1);
int futhark_free_f32_2d(struct futhark_context *ctx,
                        struct futhark_f32_2d *arr);
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data);
cl_mem futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                 struct futhark_f32_2d *arr);
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr);

// Opaque values


// Entry points
int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_opencl

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                            const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

// End of util.h.
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

static uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

static float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>


#define CL_TARGET_OPENCL_VERSION 120
#define CL_USE_DEPRECATED_OPENCL_1_2_APIS
#ifdef __APPLE__
#define CL_SILENCE_DEPRECATION
#include <OpenCL/cl.h>
#else
#include <CL/cl.h>
#endif


// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.

#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

static inline uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

static inline uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

static inline uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

static inline uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

static inline uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

static inline uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

static inline uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

static inline uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

static inline uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

static inline uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

static inline uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

static inline uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

static inline uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

static inline uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

static inline uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

static inline uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

static inline uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

static inline uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

static inline uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

static inline uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

static inline uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

static inline uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

static inline uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

static inline uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

static inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

static inline int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

static inline int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

static inline int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

static inline int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

static inline int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

static inline int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

static inline int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

static inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

static inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

static inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

static inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

static inline int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

static inline int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

static inline int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

static inline int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

static inline int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

static inline int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

static inline int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

static inline int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

static inline int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

static inline int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

static inline int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

static inline int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

static inline int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

static inline int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

static inline int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

static inline int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

static inline uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

static inline uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

static inline uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

static inline uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

static inline int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

static inline int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

static inline int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

static inline int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

static inline uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

static inline uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

static inline uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

static inline uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

static inline uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

static inline uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

static inline uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

static inline uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

static inline uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

static inline uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

static inline uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

static inline uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

static inline int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

static inline int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

static inline int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

static inline int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

static inline uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

static inline uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

static inline uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

static inline uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

static inline uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

static inline uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

static inline uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

static inline uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

static inline uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

static inline uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

static inline uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

static inline uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

static inline bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

static inline bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

static inline bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

static inline bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

static inline bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

static inline bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

static inline bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

static inline bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

static inline bool slt8(int8_t x, int8_t y) {
  return x < y;
}

static inline bool slt16(int16_t x, int16_t y) {
  return x < y;
}

static inline bool slt32(int32_t x, int32_t y) {
  return x < y;
}

static inline bool slt64(int64_t x, int64_t y) {
  return x < y;
}

static inline bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

static inline bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

static inline bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

static inline bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

static inline uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline bool itob_i8_bool(int8_t x) {
  return x;
}

static inline bool itob_i16_bool(int16_t x) {
  return x;
}

static inline bool itob_i32_bool(int32_t x) {
  return x;
}

static inline bool itob_i64_bool(int64_t x) {
  return x;
}

static inline int8_t btoi_bool_i8(bool x) {
  return x;
}

static inline int16_t btoi_bool_i16(bool x) {
  return x;
}

static inline int32_t btoi_bool_i32(bool x) {
  return x;
}

static inline int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

static int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

static int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

static int32_t abs32(int32_t x) {
  return abs(x);
}

static int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
static int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

static int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

static int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

static int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

static int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

static int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

static int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

static int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  return mul_hi(a, b);
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  return mul_hi(a, b);
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mul_hi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul_hi(a, b);
}

#elif defined(__CUDA_ARCH__)

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mulhi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul64hi(a, b);
}

#else // Not OpenCL or CUDA, but plain C.

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  uint64_t aa = a;
  uint64_t bb = b;

  return aa * bb >> 32;
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  __uint128_t aa = a;
  __uint128_t bb = b;

  return aa * bb >> 64;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return mad_hi(a, b, c);
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return mad_hi(a, b, c);
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return mad_hi(a, b, c);
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return mad_hi(a, b, c);
}

#else // Not OpenCL

static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return futrts_mul_hi8(a, b) + c;
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return futrts_mul_hi16(a, b) + c;
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return futrts_mul_hi32(a, b) + c;
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return futrts_mul_hi64(a, b) + c;
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

static int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

static int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

static int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

static int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

static int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

static int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

static inline float fdiv32(float x, float y) {
  return x / y;
}

static inline float fadd32(float x, float y) {
  return x + y;
}

static inline float fsub32(float x, float y) {
  return x - y;
}

static inline float fmul32(float x, float y) {
  return x * y;
}

static inline bool cmplt32(float x, float y) {
  return x < y;
}

static inline bool cmple32(float x, float y) {
  return x <= y;
}

static inline float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

static inline float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

static inline float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

static inline float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

static inline float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

static inline float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

static inline float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

static inline float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

static inline int8_t fptosi_f32_i8(float x) {
  return (int8_t) x;
}

static inline int16_t fptosi_f32_i16(float x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f32_i32(float x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f32_i64(float x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f32_i8(float x) {
  return (uint8_t) x;
}

static inline uint16_t fptoui_f32_i16(float x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f32_i32(float x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f32_i64(float x) {
  return (uint64_t) x;
}

#ifdef __OPENCL_VERSION__
static inline float fabs32(float x) {
  return fabs(x);
}

static inline float fmax32(float x, float y) {
  return fmax(x, y);
}

static inline float fmin32(float x, float y) {
  return fmin(x, y);
}

static inline float fpow32(float x, float y) {
  return pow(x, y);
}

#else // Not OpenCL, but CUDA or plain C.

static inline float fabs32(float x) {
  return fabsf(x);
}

static inline float fmax32(float x, float y) {
  return fmaxf(x, y);
}

static inline float fmin32(float x, float y) {
  return fminf(x, y);
}

static inline float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

static inline bool futrts_isnan32(float x) {
  return isnan(x);
}

static inline bool futrts_isinf32(float x) {
  return isinf(x);
}

#ifdef __OPENCL_VERSION__
static inline float futrts_log32(float x) {
  return log(x);
}

static inline float futrts_log2_32(float x) {
  return log2(x);
}

static inline float futrts_log10_32(float x) {
  return log10(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrt(x);
}

static inline float futrts_exp32(float x) {
  return exp(x);
}

static inline float futrts_cos32(float x) {
  return cos(x);
}

static inline float futrts_sin32(float x) {
  return sin(x);
}

static inline float futrts_tan32(float x) {
  return tan(x);
}

static inline float futrts_acos32(float x) {
  return acos(x);
}

static inline float futrts_asin32(float x) {
  return asin(x);
}

static inline float futrts_atan32(float x) {
  return atan(x);
}

static inline float futrts_cosh32(float x) {
  return cosh(x);
}

static inline float futrts_sinh32(float x) {
  return sinh(x);
}

static inline float futrts_tanh32(float x) {
  return tanh(x);
}

static inline float futrts_acosh32(float x) {
  return acosh(x);
}

static inline float futrts_asinh32(float x) {
  return asinh(x);
}

static inline float futrts_atanh32(float x) {
  return atanh(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgamma(x);
}

static inline float futrts_lgamma32(float x) {
  return lgamma(x);
}

static inline float fmod32(float x, float y) {
  return fmod(x, y);
}

static inline float futrts_round32(float x) {
  return rint(x);
}

static inline float futrts_floor32(float x) {
  return floor(x);
}

static inline float futrts_ceil32(float x) {
  return ceil(x);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

static inline float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

static inline float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#else // Not OpenCL, but CUDA or plain C.

static inline float futrts_log32(float x) {
  return logf(x);
}

static inline float futrts_log2_32(float x) {
  return log2f(x);
}

static inline float futrts_log10_32(float x) {
  return log10f(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrtf(x);
}

static inline float futrts_exp32(float x) {
  return expf(x);
}

static inline float futrts_cos32(float x) {
  return cosf(x);
}

static inline float futrts_sin32(float x) {
  return sinf(x);
}

static inline float futrts_tan32(float x) {
  return tanf(x);
}

static inline float futrts_acos32(float x) {
  return acosf(x);
}

static inline float futrts_asin32(float x) {
  return asinf(x);
}

static inline float futrts_atan32(float x) {
  return atanf(x);
}

static inline float futrts_cosh32(float x) {
  return coshf(x);
}

static inline float futrts_sinh32(float x) {
  return sinhf(x);
}

static inline float futrts_tanh32(float x) {
  return tanhf(x);
}

static inline float futrts_acosh32(float x) {
  return acoshf(x);
}

static inline float futrts_asinh32(float x) {
  return asinhf(x);
}

static inline float futrts_atanh32(float x) {
  return atanhf(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgammaf(x);
}

static inline float futrts_lgamma32(float x) {
  return lgammaf(x);
}

static inline float fmod32(float x, float y) {
  return fmodf(x, y);
}

static inline float futrts_round32(float x) {
  return rintf(x);
}

static inline float futrts_floor32(float x) {
  return floorf(x);
}

static inline float futrts_ceil32(float x) {
  return ceilf(x);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

static inline float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

static inline float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

static inline int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}

static inline float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0) - (x < 0);
}

#ifdef FUTHARK_F64_ENABLED

static inline double fdiv64(double x, double y) {
  return x / y;
}

static inline double fadd64(double x, double y) {
  return x + y;
}

static inline double fsub64(double x, double y) {
  return x - y;
}

static inline double fmul64(double x, double y) {
  return x * y;
}

static inline bool cmplt64(double x, double y) {
  return x < y;
}

static inline bool cmple64(double x, double y) {
  return x <= y;
}

static inline double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

static inline double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

static inline double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

static inline double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

static inline double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

static inline double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

static inline double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

static inline double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

static inline int8_t fptosi_f64_i8(double x) {
  return (int8_t) x;
}

static inline int16_t fptosi_f64_i16(double x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f64_i32(double x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f64_i64(double x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f64_i8(double x) {
  return (uint8_t) x;
}

static inline uint16_t fptoui_f64_i16(double x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f64_i32(double x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f64_i64(double x) {
  return (uint64_t) x;
}

static inline double fabs64(double x) {
  return fabs(x);
}

static inline double fmax64(double x, double y) {
  return fmax(x, y);
}

static inline double fmin64(double x, double y) {
  return fmin(x, y);
}

static inline double fpow64(double x, double y) {
  return pow(x, y);
}

static inline double futrts_log64(double x) {
  return log(x);
}

static inline double futrts_log2_64(double x) {
  return log2(x);
}

static inline double futrts_log10_64(double x) {
  return log10(x);
}

static inline double futrts_sqrt64(double x) {
  return sqrt(x);
}

static inline double futrts_exp64(double x) {
  return exp(x);
}

static inline double futrts_cos64(double x) {
  return cos(x);
}

static inline double futrts_sin64(double x) {
  return sin(x);
}

static inline double futrts_tan64(double x) {
  return tan(x);
}

static inline double futrts_acos64(double x) {
  return acos(x);
}

static inline double futrts_asin64(double x) {
  return asin(x);
}

static inline double futrts_atan64(double x) {
  return atan(x);
}

static inline double futrts_cosh64(double x) {
  return cosh(x);
}

static inline double futrts_sinh64(double x) {
  return sinh(x);
}

static inline double futrts_tanh64(double x) {
  return tanh(x);
}

static inline double futrts_acosh64(double x) {
  return acosh(x);
}

static inline double futrts_asinh64(double x) {
  return asinh(x);
}

static inline double futrts_atanh64(double x) {
  return atanh(x);
}

static inline double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

static inline double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

static inline double futrts_gamma64(double x) {
  return tgamma(x);
}

static inline double futrts_lgamma64(double x) {
  return lgamma(x);
}

static inline double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

static inline double futrts_round64(double x) {
  return rint(x);
}

static inline double futrts_ceil64(double x) {
  return ceil(x);
}

static inline double futrts_floor64(double x) {
  return floor(x);
}

static inline bool futrts_isnan64(double x) {
  return isnan(x);
}

static inline bool futrts_isinf64(double x) {
  return isinf(x);
}

static inline int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

static inline double fmod64(double x, double y) {
  return fmod(x, y);
}

static inline double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

static inline double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

static inline double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

static inline float fpconv_f32_f32(float x) {
  return (float) x;
}

static inline double fpconv_f32_f64(float x) {
  return (double) x;
}

static inline float fpconv_f64_f32(double x) {
  return (float) x;
}

static inline double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600)
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

static inline f16 fadd16(f16 x, f16 y) {
  return x + y;
}

static inline f16 fsub16(f16 x, f16 y) {
  return x - y;
}

static inline f16 fmul16(f16 x, f16 y) {
  return x * y;
}

static inline bool cmplt16(f16 x, f16 y) {
  return x < y;
}

static inline bool cmple16(f16 x, f16 y) {
  return x <= y;
}

static inline f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

static inline f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

static inline f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

static inline f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

static inline f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

static inline f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

static inline f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

static inline f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

static inline int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

static inline int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

static inline uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

#ifndef EMULATE_F16

#ifdef __OPENCL_VERSION__
static inline f16 fabs16(f16 x) {
  return fabs(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

static inline f16 fabs16(f16 x) {
  return fabsf(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

static inline bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

static inline bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}

#ifdef __OPENCL_VERSION__
static inline f16 futrts_log16(f16 x) {
  return log(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return log2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return log10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

static inline f16 futrts_exp16(f16 x) {
  return exp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return cos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return sin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tan(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acos(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asin(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atan(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rint(x);
}

static inline f16 futrts_floor16(f16 x) {
  return floor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}

#else // Assume CUDA.

static inline f16 futrts_log16(f16 x) {
  return hlog(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

static inline f16 futrts_exp16(f16 x) {
  return hexp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return hcos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return hsin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tanf(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acosf(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asinf(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atanf(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rintf(x);
}

static inline f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
static inline int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
static inline f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#else
static inline int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

static inline f16 fabs16(f16 x) {
  return fabs32(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

static inline bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

static inline bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

static inline f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

static inline f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

static inline f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

static inline f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

static inline f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

static inline f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

static inline f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

static inline f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

static inline f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

static inline int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

static inline f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

static inline int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

static inline f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

static inline f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0) - (x < 0);
}

#endif

#endif

static inline float fpconv_f16_f16(f16 x) {
  return x;
}

static inline float fpconv_f16_f32(f16 x) {
  return x;
}

static inline f16 fpconv_f32_f16(float x) {
  return x;
}

#ifdef FUTHARK_F64_ENABLED

static inline double fpconv_f16_f64(f16 x) {
  return (double) x;
}

static inline f16 fpconv_f64_f16(double x) {
  return (f16) x;
}

#endif


// End of scalar_f16.h.

static int init_constants(struct futhark_context *);
static int free_constants(struct futhark_context *);
static int32_t mainzicounter_mem_realtype_84138[10240];
static int32_t mainzicounter_mem_realtype_84154[10240];
static int32_t mainzicounter_mem_realtype_84215[10240];
static int32_t mainzicounter_mem_realtype_84231[10240];
static int32_t mainzicounter_mem_realtype_84292[10240];
static int32_t mainzicounter_mem_realtype_84308[10240];
struct memblock_device {
    int *references;
    cl_mem mem;
    int64_t size;
    const char *desc;
};
struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
typedef cl_mem fl_mem_t;
// Start of free_list.h.

// An entry in the free list.  May be invalid, to avoid having to
// deallocate entries as soon as they are removed.  There is also a
// tag, to help with memory reuse.
struct free_list_entry {
  size_t size;
  fl_mem_t mem;
  const char *tag;
  unsigned char valid;
};

struct free_list {
  struct free_list_entry *entries;        // Pointer to entries.
  int capacity;                           // Number of entries.
  int used;                               // Number of valid entries.
};

static void free_list_init(struct free_list *l) {
  l->capacity = 30; // Picked arbitrarily.
  l->used = 0;
  l->entries = (struct free_list_entry*) malloc(sizeof(struct free_list_entry) * l->capacity);
  for (int i = 0; i < l->capacity; i++) {
    l->entries[i].valid = 0;
  }
}

// Remove invalid entries from the free list.
static void free_list_pack(struct free_list *l) {
  int p = 0;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[p] = l->entries[i];
      if (i > p) {
        l->entries[i].valid = 0;
      }
      p++;
    }
  }

  // Now p is the number of used elements.  We don't want it to go
  // less than the default capacity (although in practice it's OK as
  // long as it doesn't become 1).
  if (p < 30) {
    p = 30;
  }
  l->entries = realloc(l->entries, p * sizeof(struct free_list_entry));
  l->capacity = p;
}

static void free_list_destroy(struct free_list *l) {
  assert(l->used == 0);
  free(l->entries);
}

static int free_list_find_invalid(struct free_list *l) {
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (!l->entries[i].valid) {
      break;
    }
  }
  return i;
}

static void free_list_insert(struct free_list *l, size_t size, fl_mem_t mem, const char *tag) {
  int i = free_list_find_invalid(l);

  if (i == l->capacity) {
    // List is full; so we have to grow it.
    int new_capacity = l->capacity * 2 * sizeof(struct free_list_entry);
    l->entries = realloc(l->entries, new_capacity);
    for (int j = 0; j < l->capacity; j++) {
      l->entries[j+l->capacity].valid = 0;
    }
    l->capacity *= 2;
  }

  // Now 'i' points to the first invalid entry.
  l->entries[i].valid = 1;
  l->entries[i].size = size;
  l->entries[i].mem = mem;
  l->entries[i].tag = tag;

  l->used++;
}

// Find and remove a memory block of the indicated tag, or if that
// does not exist, another memory block with exactly the desired size.
// Returns 0 on success.
static int free_list_find(struct free_list *l, size_t size,
                          size_t *size_out, fl_mem_t *mem_out) {
  int size_match = -1;
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid &&
        size <= l->entries[i].size &&
        (size_match < 0 || l->entries[i].size < l->entries[size_match].size)) {
      // If this entry is valid, has sufficient size, and is smaller than the
      // best entry found so far, use this entry.
      size_match = i;
    }
  }

  if (size_match >= 0) {
    l->entries[size_match].valid = 0;
    *size_out = l->entries[size_match].size;
    *mem_out = l->entries[size_match].mem;
    l->used--;
    return 0;
  } else {
    return 1;
  }
}

// Remove the first block in the free list.  Returns 0 if a block was
// removed, and nonzero if the free list was already empty.
static int free_list_first(struct free_list *l, fl_mem_t *mem_out) {
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[i].valid = 0;
      *mem_out = l->entries[i].mem;
      l->used--;
      return 0;
    }
  }

  return 1;
}

// End of free_list.h.

// Start of opencl.h.

#define OPENCL_SUCCEED_FATAL(e) opencl_succeed_fatal(e, #e, __FILE__, __LINE__)
#define OPENCL_SUCCEED_NONFATAL(e) opencl_succeed_nonfatal(e, #e, __FILE__, __LINE__)
// Take care not to override an existing error.
#define OPENCL_SUCCEED_OR_RETURN(e) {             \
    char *serror = OPENCL_SUCCEED_NONFATAL(e);    \
    if (serror) {                                 \
      if (!ctx->error) {                          \
        ctx->error = serror;                      \
        return bad;                               \
      } else {                                    \
        free(serror);                             \
      }                                           \
    }                                             \
  }

// OPENCL_SUCCEED_OR_RETURN returns the value of the variable 'bad' in
// scope.  By default, it will be this one.  Create a local variable
// of some other type if needed.  This is a bit of a hack, but it
// saves effort in the code generator.
static const int bad = 1;

struct opencl_config {
  int debugging;
  int profiling;
  int logging;
  int preferred_device_num;
  const char *preferred_platform;
  const char *preferred_device;
  int ignore_blacklist;

  const char* dump_program_to;
  const char* load_program_from;
  const char* dump_binary_to;
  const char* load_binary_from;

  size_t default_group_size;
  size_t default_num_groups;
  size_t default_tile_size;
  size_t default_reg_tile_size;
  size_t default_threshold;

  int default_group_size_changed;
  int default_tile_size_changed;

  int num_sizes;
  const char **size_names;
  const char **size_vars;
  int64_t *size_values;
  const char **size_classes;
};

static void opencl_config_init(struct opencl_config *cfg,
                               int num_sizes,
                               const char *size_names[],
                               const char *size_vars[],
                               int64_t *size_values,
                               const char *size_classes[]) {
  cfg->debugging = 0;
  cfg->logging = 0;
  cfg->profiling = 0;
  cfg->preferred_device_num = 0;
  cfg->preferred_platform = "";
  cfg->preferred_device = "";
  cfg->ignore_blacklist = 0;
  cfg->dump_program_to = NULL;
  cfg->load_program_from = NULL;
  cfg->dump_binary_to = NULL;
  cfg->load_binary_from = NULL;

  // The following are dummy sizes that mean the concrete defaults
  // will be set during initialisation via hardware-inspection-based
  // heuristics.
  cfg->default_group_size = 0;
  cfg->default_num_groups = 0;
  cfg->default_tile_size = 0;
  cfg->default_reg_tile_size = 0;
  cfg->default_threshold = 0;

  cfg->default_group_size_changed = 0;
  cfg->default_tile_size_changed = 0;

  cfg->num_sizes = num_sizes;
  cfg->size_names = size_names;
  cfg->size_vars = size_vars;
  cfg->size_values = size_values;
  cfg->size_classes = size_classes;
}

// A record of something that happened.
struct profiling_record {
  cl_event *event;
  int *runs;
  int64_t *runtime;
};

struct opencl_context {
  cl_device_id device;
  cl_context ctx;
  cl_command_queue queue;

  struct opencl_config cfg;

  struct free_list free_list;

  size_t max_group_size;
  size_t max_num_groups;
  size_t max_tile_size;
  size_t max_threshold;
  size_t max_local_memory;

  size_t lockstep_width;

  struct profiling_record *profiling_records;
  int profiling_records_capacity;
  int profiling_records_used;
};

struct opencl_device_option {
  cl_platform_id platform;
  cl_device_id device;
  cl_device_type device_type;
  char *platform_name;
  char *device_name;
};

// This function must be defined by the user.  It is invoked by
// setup_opencl() after the platform and device has been found, but
// before the program is loaded.  Its intended use is to tune
// constants based on the selected platform and device.
static void post_opencl_setup(struct opencl_context*, struct opencl_device_option*);

static char *strclone(const char *str) {
  size_t size = strlen(str) + 1;
  char *copy = (char*) malloc(size);
  if (copy == NULL) {
    return NULL;
  }

  memcpy(copy, str, size);
  return copy;
}

static const char* opencl_error_string(cl_int err)
{
    switch (err) {
        case CL_SUCCESS:                            return "Success!";
        case CL_DEVICE_NOT_FOUND:                   return "Device not found.";
        case CL_DEVICE_NOT_AVAILABLE:               return "Device not available";
        case CL_COMPILER_NOT_AVAILABLE:             return "Compiler not available";
        case CL_MEM_OBJECT_ALLOCATION_FAILURE:      return "Memory object allocation failure";
        case CL_OUT_OF_RESOURCES:                   return "Out of resources";
        case CL_OUT_OF_HOST_MEMORY:                 return "Out of host memory";
        case CL_PROFILING_INFO_NOT_AVAILABLE:       return "Profiling information not available";
        case CL_MEM_COPY_OVERLAP:                   return "Memory copy overlap";
        case CL_IMAGE_FORMAT_MISMATCH:              return "Image format mismatch";
        case CL_IMAGE_FORMAT_NOT_SUPPORTED:         return "Image format not supported";
        case CL_BUILD_PROGRAM_FAILURE:              return "Program build failure";
        case CL_MAP_FAILURE:                        return "Map failure";
        case CL_INVALID_VALUE:                      return "Invalid value";
        case CL_INVALID_DEVICE_TYPE:                return "Invalid device type";
        case CL_INVALID_PLATFORM:                   return "Invalid platform";
        case CL_INVALID_DEVICE:                     return "Invalid device";
        case CL_INVALID_CONTEXT:                    return "Invalid context";
        case CL_INVALID_QUEUE_PROPERTIES:           return "Invalid queue properties";
        case CL_INVALID_COMMAND_QUEUE:              return "Invalid command queue";
        case CL_INVALID_HOST_PTR:                   return "Invalid host pointer";
        case CL_INVALID_MEM_OBJECT:                 return "Invalid memory object";
        case CL_INVALID_IMAGE_FORMAT_DESCRIPTOR:    return "Invalid image format descriptor";
        case CL_INVALID_IMAGE_SIZE:                 return "Invalid image size";
        case CL_INVALID_SAMPLER:                    return "Invalid sampler";
        case CL_INVALID_BINARY:                     return "Invalid binary";
        case CL_INVALID_BUILD_OPTIONS:              return "Invalid build options";
        case CL_INVALID_PROGRAM:                    return "Invalid program";
        case CL_INVALID_PROGRAM_EXECUTABLE:         return "Invalid program executable";
        case CL_INVALID_KERNEL_NAME:                return "Invalid kernel name";
        case CL_INVALID_KERNEL_DEFINITION:          return "Invalid kernel definition";
        case CL_INVALID_KERNEL:                     return "Invalid kernel";
        case CL_INVALID_ARG_INDEX:                  return "Invalid argument index";
        case CL_INVALID_ARG_VALUE:                  return "Invalid argument value";
        case CL_INVALID_ARG_SIZE:                   return "Invalid argument size";
        case CL_INVALID_KERNEL_ARGS:                return "Invalid kernel arguments";
        case CL_INVALID_WORK_DIMENSION:             return "Invalid work dimension";
        case CL_INVALID_WORK_GROUP_SIZE:            return "Invalid work group size";
        case CL_INVALID_WORK_ITEM_SIZE:             return "Invalid work item size";
        case CL_INVALID_GLOBAL_OFFSET:              return "Invalid global offset";
        case CL_INVALID_EVENT_WAIT_LIST:            return "Invalid event wait list";
        case CL_INVALID_EVENT:                      return "Invalid event";
        case CL_INVALID_OPERATION:                  return "Invalid operation";
        case CL_INVALID_GL_OBJECT:                  return "Invalid OpenGL object";
        case CL_INVALID_BUFFER_SIZE:                return "Invalid buffer size";
        case CL_INVALID_MIP_LEVEL:                  return "Invalid mip-map level";
        default:                                    return "Unknown";
    }
}

static void opencl_succeed_fatal(cl_int ret,
                                 const char *call,
                                 const char *file,
                                 int line) {
  if (ret != CL_SUCCESS) {
    futhark_panic(-1, "%s:%d: OpenCL call\n  %s\nfailed with error code %d (%s)\n",
          file, line, call, ret, opencl_error_string(ret));
  }
}

static char* opencl_succeed_nonfatal(cl_int ret,
                                     const char *call,
                                     const char *file,
                                     int line) {
  if (ret != CL_SUCCESS) {
    return msgprintf("%s:%d: OpenCL call\n  %s\nfailed with error code %d (%s)\n",
                     file, line, call, ret, opencl_error_string(ret));
  } else {
    return NULL;
  }
}

static void set_preferred_platform(struct opencl_config *cfg, const char *s) {
  cfg->preferred_platform = s;
  cfg->ignore_blacklist = 1;
}

static void set_preferred_device(struct opencl_config *cfg, const char *s) {
  int x = 0;
  if (*s == '#') {
    s++;
    while (isdigit(*s)) {
      x = x * 10 + (*s++)-'0';
    }
    // Skip trailing spaces.
    while (isspace(*s)) {
      s++;
    }
  }
  cfg->preferred_device = s;
  cfg->preferred_device_num = x;
  cfg->ignore_blacklist = 1;
}

static char* opencl_platform_info(cl_platform_id platform,
                                  cl_platform_info param) {
  size_t req_bytes;
  char *info;

  OPENCL_SUCCEED_FATAL(clGetPlatformInfo(platform, param, 0, NULL, &req_bytes));

  info = (char*) malloc(req_bytes);

  OPENCL_SUCCEED_FATAL(clGetPlatformInfo(platform, param, req_bytes, info, NULL));

  return info;
}

static char* opencl_device_info(cl_device_id device,
                                cl_device_info param) {
  size_t req_bytes;
  char *info;

  OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device, param, 0, NULL, &req_bytes));

  info = (char*) malloc(req_bytes);

  OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device, param, req_bytes, info, NULL));

  return info;
}

static void opencl_all_device_options(struct opencl_device_option **devices_out,
                                      size_t *num_devices_out) {
  size_t num_devices = 0, num_devices_added = 0;

  cl_platform_id *all_platforms;
  cl_uint *platform_num_devices;

  cl_uint num_platforms;

  // Find the number of platforms.
  OPENCL_SUCCEED_FATAL(clGetPlatformIDs(0, NULL, &num_platforms));

  // Make room for them.
  all_platforms = calloc(num_platforms, sizeof(cl_platform_id));
  platform_num_devices = calloc(num_platforms, sizeof(cl_uint));

  // Fetch all the platforms.
  OPENCL_SUCCEED_FATAL(clGetPlatformIDs(num_platforms, all_platforms, NULL));

  // Count the number of devices for each platform, as well as the
  // total number of devices.
  for (cl_uint i = 0; i < num_platforms; i++) {
    if (clGetDeviceIDs(all_platforms[i], CL_DEVICE_TYPE_ALL,
                       0, NULL, &platform_num_devices[i]) == CL_SUCCESS) {
      num_devices += platform_num_devices[i];
    } else {
      platform_num_devices[i] = 0;
    }
  }

  // Make room for all the device options.
  struct opencl_device_option *devices =
    calloc(num_devices, sizeof(struct opencl_device_option));

  // Loop through the platforms, getting information about their devices.
  for (cl_uint i = 0; i < num_platforms; i++) {
    cl_platform_id platform = all_platforms[i];
    cl_uint num_platform_devices = platform_num_devices[i];

    if (num_platform_devices == 0) {
      continue;
    }

    char *platform_name = opencl_platform_info(platform, CL_PLATFORM_NAME);
    cl_device_id *platform_devices =
      calloc(num_platform_devices, sizeof(cl_device_id));

    // Fetch all the devices.
    OPENCL_SUCCEED_FATAL(clGetDeviceIDs(platform, CL_DEVICE_TYPE_ALL,
                                  num_platform_devices, platform_devices, NULL));

    // Loop through the devices, adding them to the devices array.
    for (cl_uint i = 0; i < num_platform_devices; i++) {
      char *device_name = opencl_device_info(platform_devices[i], CL_DEVICE_NAME);
      devices[num_devices_added].platform = platform;
      devices[num_devices_added].device = platform_devices[i];
      OPENCL_SUCCEED_FATAL(clGetDeviceInfo(platform_devices[i], CL_DEVICE_TYPE,
                                     sizeof(cl_device_type),
                                     &devices[num_devices_added].device_type,
                                     NULL));
      // We don't want the structs to share memory, so copy the platform name.
      // Each device name is already unique.
      devices[num_devices_added].platform_name = strclone(platform_name);
      devices[num_devices_added].device_name = device_name;
      num_devices_added++;
    }
    free(platform_devices);
    free(platform_name);
  }
  free(all_platforms);
  free(platform_num_devices);

  *devices_out = devices;
  *num_devices_out = num_devices;
}

// Returns 0 on success.
static int list_devices(void) {
  struct opencl_device_option *devices;
  size_t num_devices;

  opencl_all_device_options(&devices, &num_devices);

  const char *cur_platform = "";
  for (size_t i = 0; i < num_devices; i++) {
    struct opencl_device_option device = devices[i];
    if (strcmp(cur_platform, device.platform_name) != 0) {
      printf("Platform: %s\n", device.platform_name);
      cur_platform = device.platform_name;
    }
    printf("[%d]: %s\n", (int)i, device.device_name);
  }

  // Free all the platform and device names.
  for (size_t j = 0; j < num_devices; j++) {
    free(devices[j].platform_name);
    free(devices[j].device_name);
  }
  free(devices);

  return 0;
}

// Returns 0 on success.
static int select_device_interactively(struct opencl_config *cfg) {
  struct opencl_device_option *devices;
  size_t num_devices;
  int ret = 1;

  opencl_all_device_options(&devices, &num_devices);

  printf("Choose OpenCL device:\n");
  const char *cur_platform = "";
  for (size_t i = 0; i < num_devices; i++) {
    struct opencl_device_option device = devices[i];
    if (strcmp(cur_platform, device.platform_name) != 0) {
      printf("Platform: %s\n", device.platform_name);
      cur_platform = device.platform_name;
    }
    printf("[%d] %s\n", (int)i, device.device_name);
  }

  int selection;
  printf("Choice: ");
  if (scanf("%d", &selection) == 1) {
    ret = 0;
    cfg->preferred_platform = "";
    cfg->preferred_device = "";
    cfg->preferred_device_num = selection;
    cfg->ignore_blacklist = 1;
  }

  // Free all the platform and device names.
  for (size_t j = 0; j < num_devices; j++) {
    free(devices[j].platform_name);
    free(devices[j].device_name);
  }
  free(devices);

  return ret;
}

static int is_blacklisted(const char *platform_name, const char *device_name,
                          const struct opencl_config *cfg) {
  if (strcmp(cfg->preferred_platform, "") != 0 ||
      strcmp(cfg->preferred_device, "") != 0) {
    return 0;
  } else if (strstr(platform_name, "Apple") != NULL &&
             strstr(device_name, "Intel(R) Core(TM)") != NULL) {
    return 1;
  } else {
    return 0;
  }
}

static struct opencl_device_option get_preferred_device(const struct opencl_config *cfg) {
  struct opencl_device_option *devices;
  size_t num_devices;

  opencl_all_device_options(&devices, &num_devices);

  int num_device_matches = 0;

  for (size_t i = 0; i < num_devices; i++) {
    struct opencl_device_option device = devices[i];
    if (strstr(device.platform_name, cfg->preferred_platform) != NULL &&
        strstr(device.device_name, cfg->preferred_device) != NULL &&
        (cfg->ignore_blacklist ||
         !is_blacklisted(device.platform_name, device.device_name, cfg)) &&
        num_device_matches++ == cfg->preferred_device_num) {
      // Free all the platform and device names, except the ones we have chosen.
      for (size_t j = 0; j < num_devices; j++) {
        if (j != i) {
          free(devices[j].platform_name);
          free(devices[j].device_name);
        }
      }
      free(devices);
      return device;
    }
  }

  futhark_panic(1, "Could not find acceptable OpenCL device.\n");
  exit(1); // Never reached
}

static void describe_device_option(struct opencl_device_option device) {
  fprintf(stderr, "Using platform: %s\n", device.platform_name);
  fprintf(stderr, "Using device: %s\n", device.device_name);
}

static cl_build_status build_opencl_program(cl_program program, cl_device_id device, const char* options) {
  cl_int clBuildProgram_error = clBuildProgram(program, 1, &device, options, NULL, NULL);

  // Avoid termination due to CL_BUILD_PROGRAM_FAILURE
  if (clBuildProgram_error != CL_SUCCESS &&
      clBuildProgram_error != CL_BUILD_PROGRAM_FAILURE) {
    OPENCL_SUCCEED_FATAL(clBuildProgram_error);
  }

  cl_build_status build_status;
  OPENCL_SUCCEED_FATAL(clGetProgramBuildInfo(program,
                                             device,
                                             CL_PROGRAM_BUILD_STATUS,
                                             sizeof(cl_build_status),
                                             &build_status,
                                             NULL));

  if (build_status != CL_SUCCESS) {
    char *build_log;
    size_t ret_val_size;
    OPENCL_SUCCEED_FATAL(clGetProgramBuildInfo(program, device, CL_PROGRAM_BUILD_LOG, 0, NULL, &ret_val_size));

    build_log = (char*) malloc(ret_val_size+1);
    OPENCL_SUCCEED_FATAL(clGetProgramBuildInfo(program, device, CL_PROGRAM_BUILD_LOG, ret_val_size, build_log, NULL));

    // The spec technically does not say whether the build log is zero-terminated, so let's be careful.
    build_log[ret_val_size] = '\0';

    fprintf(stderr, "Build log:\n%s\n", build_log);

    free(build_log);
  }

  return build_status;
}

// Fields in a bitmask indicating which types we must be sure are
// available.
enum opencl_required_type { OPENCL_F64 = 1 };

// We take as input several strings representing the program, because
// C does not guarantee that the compiler supports particularly large
// literals.  Notably, Visual C has a limit of 2048 characters.  The
// array must be NULL-terminated.
static cl_program setup_opencl_with_command_queue(struct opencl_context *ctx,
                                                  cl_command_queue queue,
                                                  const char *srcs[],
                                                  int required_types,
                                                  const char *extra_build_opts[]) {
  int error;

  free_list_init(&ctx->free_list);
  ctx->queue = queue;

  OPENCL_SUCCEED_FATAL(clGetCommandQueueInfo(ctx->queue, CL_QUEUE_CONTEXT, sizeof(cl_context), &ctx->ctx, NULL));

  // Fill out the device info.  This is redundant work if we are
  // called from setup_opencl() (which is the common case), but I
  // doubt it matters much.
  struct opencl_device_option device_option;
  OPENCL_SUCCEED_FATAL(clGetCommandQueueInfo(ctx->queue, CL_QUEUE_DEVICE,
                                       sizeof(cl_device_id),
                                       &device_option.device,
                                       NULL));
  OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device_option.device, CL_DEVICE_PLATFORM,
                                 sizeof(cl_platform_id),
                                 &device_option.platform,
                                 NULL));
  OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device_option.device, CL_DEVICE_TYPE,
                                 sizeof(cl_device_type),
                                 &device_option.device_type,
                                 NULL));
  device_option.platform_name = opencl_platform_info(device_option.platform, CL_PLATFORM_NAME);
  device_option.device_name = opencl_device_info(device_option.device, CL_DEVICE_NAME);

  ctx->device = device_option.device;

  if (required_types & OPENCL_F64) {
    cl_uint supported;
    OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device_option.device, CL_DEVICE_PREFERRED_VECTOR_WIDTH_DOUBLE,
                                   sizeof(cl_uint), &supported, NULL));
    if (!supported) {
      futhark_panic(1, "Program uses double-precision floats, but this is not supported on the chosen device: %s\n",
            device_option.device_name);
    }
  }

  size_t max_group_size;
  OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device_option.device, CL_DEVICE_MAX_WORK_GROUP_SIZE,
                                 sizeof(size_t), &max_group_size, NULL));

  size_t max_tile_size = sqrt(max_group_size);

  cl_ulong max_local_memory;
  OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device_option.device, CL_DEVICE_LOCAL_MEM_SIZE,
                                       sizeof(size_t), &max_local_memory, NULL));

  // Futhark reserves 4 bytes for bookkeeping information.
  max_local_memory -= 4;

  // The OpenCL implementation may reserve some local memory bytes for
  // various purposes.  In principle, we should use
  // clGetKernelWorkGroupInfo() to figure out for each kernel how much
  // is actually available, but our current code generator design
  // makes this infeasible.  Instead, we have this nasty hack where we
  // arbitrarily subtract some bytes, based on empirical measurements
  // (but which might be arbitrarily wrong).  Fortunately, we rarely
  // try to really push the local memory usage.
  if (strstr(device_option.platform_name, "NVIDIA CUDA") != NULL) {
    max_local_memory -= 12;
  } else if (strstr(device_option.platform_name, "AMD") != NULL) {
    max_local_memory -= 16;
  }

  // Make sure this function is defined.
  post_opencl_setup(ctx, &device_option);

  if (max_group_size < ctx->cfg.default_group_size) {
    if (ctx->cfg.default_group_size_changed) {
      fprintf(stderr, "Note: Device limits default group size to %zu (down from %zu).\n",
              max_group_size, ctx->cfg.default_group_size);
    }
    ctx->cfg.default_group_size = max_group_size;
  }

  if (max_tile_size < ctx->cfg.default_tile_size) {
    if (ctx->cfg.default_tile_size_changed) {
      fprintf(stderr, "Note: Device limits default tile size to %zu (down from %zu).\n",
              max_tile_size, ctx->cfg.default_tile_size);
    }
    ctx->cfg.default_tile_size = max_tile_size;
  }

  ctx->max_group_size = max_group_size;
  ctx->max_tile_size = max_tile_size; // No limit.
  ctx->max_threshold = ctx->max_num_groups = 0; // No limit.
  ctx->max_local_memory = max_local_memory;

  // Now we go through all the sizes, clamp them to the valid range,
  // or set them to the default.
  for (int i = 0; i < ctx->cfg.num_sizes; i++) {
    const char *size_class = ctx->cfg.size_classes[i];
    int64_t *size_value = &ctx->cfg.size_values[i];
    const char* size_name = ctx->cfg.size_names[i];
    int64_t max_value = 0, default_value = 0;

    if (strstr(size_class, "group_size") == size_class) {
      max_value = max_group_size;
      default_value = ctx->cfg.default_group_size;
    } else if (strstr(size_class, "num_groups") == size_class) {
      max_value = max_group_size; // Futhark assumes this constraint.
      default_value = ctx->cfg.default_num_groups;
      // XXX: as a quick and dirty hack, use twice as many threads for
      // histograms by default.  We really should just be smarter
      // about sizes somehow.
      if (strstr(size_name, ".seghist_") != NULL) {
        default_value *= 2;
      }
    } else if (strstr(size_class, "tile_size") == size_class) {
      max_value = sqrt(max_group_size);
      default_value = ctx->cfg.default_tile_size;
    } else if (strstr(size_class, "reg_tile_size") == size_class) {
      max_value = 0; // No limit.
      default_value = ctx->cfg.default_reg_tile_size;
    } else if (strstr(size_class, "threshold") == size_class) {
      // Threshold can be as large as it takes.
      default_value = ctx->cfg.default_threshold;
    } else {
      // Bespoke sizes have no limit or default.
    }
    if (*size_value == 0) {
      *size_value = default_value;
    } else if (max_value > 0 && *size_value > max_value) {
      fprintf(stderr, "Note: Device limits %s to %d (down from %d)\n",
              size_name, (int)max_value, (int)*size_value);
      *size_value = max_value;
    }
  }

  if (ctx->lockstep_width == 0) {
    ctx->lockstep_width = 1;
  }

  if (ctx->cfg.logging) {
    fprintf(stderr, "Lockstep width: %d\n", (int)ctx->lockstep_width);
    fprintf(stderr, "Default group size: %d\n", (int)ctx->cfg.default_group_size);
    fprintf(stderr, "Default number of groups: %d\n", (int)ctx->cfg.default_num_groups);
  }

  char *fut_opencl_src = NULL;
  cl_program prog;
  error = CL_SUCCESS;

  if (ctx->cfg.load_binary_from == NULL) {
    size_t src_size = 0;

    // Maybe we have to read OpenCL source from somewhere else (used for debugging).
    if (ctx->cfg.load_program_from != NULL) {
      fut_opencl_src = slurp_file(ctx->cfg.load_program_from, NULL);
      assert(fut_opencl_src != NULL);
    } else {
      // Construct the OpenCL source concatenating all the fragments.
      for (const char **src = srcs; src && *src; src++) {
        src_size += strlen(*src);
      }

      fut_opencl_src = (char*) malloc(src_size + 1);

      size_t n, i;
      for (i = 0, n = 0; srcs && srcs[i]; i++) {
        strncpy(fut_opencl_src+n, srcs[i], src_size-n);
        n += strlen(srcs[i]);
      }
      fut_opencl_src[src_size] = 0;
    }

    if (ctx->cfg.dump_program_to != NULL) {
      if (ctx->cfg.debugging) {
        fprintf(stderr, "Dumping OpenCL source to %s...\n", ctx->cfg.dump_program_to);
      }

      dump_file(ctx->cfg.dump_program_to, fut_opencl_src, strlen(fut_opencl_src));
    }

    if (ctx->cfg.debugging) {
      fprintf(stderr, "Creating OpenCL program...\n");
    }

    const char* src_ptr[] = {fut_opencl_src};
    prog = clCreateProgramWithSource(ctx->ctx, 1, src_ptr, &src_size, &error);
    OPENCL_SUCCEED_FATAL(error);
  } else {
    if (ctx->cfg.debugging) {
      fprintf(stderr, "Loading OpenCL binary from %s...\n", ctx->cfg.load_binary_from);
    }
    size_t binary_size;
    unsigned char *fut_opencl_bin =
      (unsigned char*) slurp_file(ctx->cfg.load_binary_from, &binary_size);
    assert(fut_opencl_bin != NULL);
    const unsigned char *binaries[1] = { fut_opencl_bin };
    cl_int status = 0;

    prog = clCreateProgramWithBinary(ctx->ctx, 1, &device_option.device,
                                     &binary_size, binaries,
                                     &status, &error);

    OPENCL_SUCCEED_FATAL(status);
    OPENCL_SUCCEED_FATAL(error);
  }

  int compile_opts_size = 1024;

  for (int i = 0; i < ctx->cfg.num_sizes; i++) {
    compile_opts_size += strlen(ctx->cfg.size_names[i]) + 20;
  }

  for (int i = 0; extra_build_opts[i] != NULL; i++) {
    compile_opts_size += strlen(extra_build_opts[i] + 1);
  }

  char *compile_opts = (char*) malloc(compile_opts_size);

  int w = snprintf(compile_opts, compile_opts_size,
                   "-DLOCKSTEP_WIDTH=%d ",
                   (int)ctx->lockstep_width);

  for (int i = 0; i < ctx->cfg.num_sizes; i++) {
    w += snprintf(compile_opts+w, compile_opts_size-w,
                  "-D%s=%d ",
                  ctx->cfg.size_vars[i],
                  (int)ctx->cfg.size_values[i]);
  }

  for (int i = 0; extra_build_opts[i] != NULL; i++) {
    w += snprintf(compile_opts+w, compile_opts_size-w,
                  "%s ", extra_build_opts[i]);
  }

  // Oclgrind claims to support cl_khr_fp16, but this is not actually
  // the case.
  if (strcmp(device_option.platform_name, "Oclgrind") == 0) {
    w += snprintf(compile_opts+w, compile_opts_size-w, "-DEMULATE_F16 ");
  }

  if (ctx->cfg.debugging) {
    fprintf(stderr, "OpenCL compiler options: %s\n", compile_opts);
    fprintf(stderr, "Building OpenCL program...\n");
  }
  OPENCL_SUCCEED_FATAL(build_opencl_program(prog, device_option.device, compile_opts));

  free(compile_opts);
  free(fut_opencl_src);

  if (ctx->cfg.dump_binary_to != NULL) {
    if (ctx->cfg.debugging) {
      fprintf(stderr, "Dumping OpenCL binary to %s...\n", ctx->cfg.dump_binary_to);
    }

    size_t binary_size;
    OPENCL_SUCCEED_FATAL(clGetProgramInfo(prog, CL_PROGRAM_BINARY_SIZES,
                                          sizeof(size_t), &binary_size, NULL));
    unsigned char *binary = (unsigned char*) malloc(binary_size);
    unsigned char *binaries[1] = { binary };
    OPENCL_SUCCEED_FATAL(clGetProgramInfo(prog, CL_PROGRAM_BINARIES,
                                          sizeof(unsigned char*), binaries, NULL));

    dump_file(ctx->cfg.dump_binary_to, binary, binary_size);
  }

  return prog;
}

static cl_program setup_opencl(struct opencl_context *ctx,
                               const char *srcs[],
                               int required_types,
                               const char *extra_build_opts[]) {

  ctx->lockstep_width = 0; // Real value set later.

  struct opencl_device_option device_option = get_preferred_device(&ctx->cfg);

  if (ctx->cfg.logging) {
    describe_device_option(device_option);
  }

  // Note that NVIDIA's OpenCL requires the platform property
  cl_context_properties properties[] = {
    CL_CONTEXT_PLATFORM,
    (cl_context_properties)device_option.platform,
    0
  };

  cl_int clCreateContext_error;
  ctx->ctx = clCreateContext(properties, 1, &device_option.device, NULL, NULL, &clCreateContext_error);
  OPENCL_SUCCEED_FATAL(clCreateContext_error);

  cl_int clCreateCommandQueue_error;
  cl_command_queue queue =
    clCreateCommandQueue(ctx->ctx,
                         device_option.device,
                         ctx->cfg.profiling ? CL_QUEUE_PROFILING_ENABLE : 0,
                         &clCreateCommandQueue_error);
  OPENCL_SUCCEED_FATAL(clCreateCommandQueue_error);

  return setup_opencl_with_command_queue(ctx, queue, srcs, required_types, extra_build_opts);
}

// Count up the runtime all the profiling_records that occured during execution.
// Also clears the buffer of profiling_records.
static cl_int opencl_tally_profiling_records(struct opencl_context *ctx) {
  cl_int err;
  for (int i = 0; i < ctx->profiling_records_used; i++) {
    struct profiling_record record = ctx->profiling_records[i];

    cl_ulong start_t, end_t;

    if ((err = clGetEventProfilingInfo(*record.event,
                                       CL_PROFILING_COMMAND_START,
                                       sizeof(start_t),
                                       &start_t,
                                       NULL)) != CL_SUCCESS) {
      return err;
    }

    if ((err = clGetEventProfilingInfo(*record.event,
                                       CL_PROFILING_COMMAND_END,
                                       sizeof(end_t),
                                       &end_t,
                                       NULL)) != CL_SUCCESS) {
      return err;
    }

    // OpenCL provides nanosecond resolution, but we want
    // microseconds.
    *record.runs += 1;
    *record.runtime += (end_t - start_t)/1000;

    if ((err = clReleaseEvent(*record.event)) != CL_SUCCESS) {
      return err;
    }
    free(record.event);
  }

  ctx->profiling_records_used = 0;

  return CL_SUCCESS;
}

// If profiling, produce an event associated with a profiling record.
static cl_event* opencl_get_event(struct opencl_context *ctx, int *runs, int64_t *runtime) {
    if (ctx->profiling_records_used == ctx->profiling_records_capacity) {
      ctx->profiling_records_capacity *= 2;
      ctx->profiling_records =
        realloc(ctx->profiling_records,
                ctx->profiling_records_capacity *
                sizeof(struct profiling_record));
    }
    cl_event *event = malloc(sizeof(cl_event));
    ctx->profiling_records[ctx->profiling_records_used].event = event;
    ctx->profiling_records[ctx->profiling_records_used].runs = runs;
    ctx->profiling_records[ctx->profiling_records_used].runtime = runtime;
    ctx->profiling_records_used++;
    return event;
}

// Allocate memory from driver. The problem is that OpenCL may perform
// lazy allocation, so we cannot know whether an allocation succeeded
// until the first time we try to use it.  Hence we immediately
// perform a write to see if the allocation succeeded.  This is slow,
// but the assumption is that this operation will be rare (most things
// will go through the free list).
static int opencl_alloc_actual(struct opencl_context *ctx, size_t size, cl_mem *mem_out) {
  int error;
  *mem_out = clCreateBuffer(ctx->ctx, CL_MEM_READ_WRITE, size, NULL, &error);

  if (error != CL_SUCCESS) {
    return error;
  }

  int x = 2;
  error = clEnqueueWriteBuffer(ctx->queue, *mem_out, 1, 0, sizeof(x), &x, 0, NULL, NULL);

  // No need to wait for completion here. clWaitForEvents() cannot
  // return mem object allocation failures. This implies that the
  // buffer is faulted onto the device on enqueue. (Observation by
  // Andreas Kloeckner.)

  return error;
}

static int opencl_alloc(struct opencl_context *ctx, size_t min_size, const char *tag, cl_mem *mem_out) {
  (void)tag;
  if (min_size < sizeof(int)) {
    min_size = sizeof(int);
  }

  size_t size;

  if (free_list_find(&ctx->free_list, min_size, &size, mem_out) == 0) {
    // Successfully found a free block.  Is it big enough?
    //
    // FIXME: we might also want to check whether the block is *too
    // big*, to avoid internal fragmentation.  However, this can
    // sharply impact performance on programs where arrays change size
    // frequently.  Fortunately, such allocations are usually fairly
    // short-lived, as they are necessarily within a loop, so the risk
    // of internal fragmentation resulting in an OOM situation is
    // limited.  However, it would be preferable if we could go back
    // and *shrink* oversize allocations when we encounter an OOM
    // condition.  That is technically feasible, since we do not
    // expose OpenCL pointer values directly to the application, but
    // instead rely on a level of indirection.
    if (size >= min_size) {
      if (ctx->cfg.debugging) {
        fprintf(stderr, "No need to allocate: Found a block in the free list.\n");
      }

      return CL_SUCCESS;
    } else {
      if (ctx->cfg.debugging) {
        fprintf(stderr, "Found a free block, but it was too small.\n");
      }

      // Not just right - free it.
      int error = clReleaseMemObject(*mem_out);
      if (error != CL_SUCCESS) {
        return error;
      }
    }
  }

  // We have to allocate a new block from the driver.  If the
  // allocation does not succeed, then we might be in an out-of-memory
  // situation.  We now start freeing things from the free list until
  // we think we have freed enough that the allocation will succeed.
  // Since we don't know how far the allocation is from fitting, we
  // have to check after every deallocation.  This might be pretty
  // expensive.  Let's hope that this case is hit rarely.

  if (ctx->cfg.debugging) {
    fprintf(stderr, "Actually allocating the desired block.\n");
  }

  int error = opencl_alloc_actual(ctx, min_size, mem_out);

  while (error == CL_MEM_OBJECT_ALLOCATION_FAILURE) {
    if (ctx->cfg.debugging) {
      fprintf(stderr, "Out of OpenCL memory: releasing entry from the free list...\n");
    }
    cl_mem mem;
    if (free_list_first(&ctx->free_list, &mem) == 0) {
      error = clReleaseMemObject(mem);
      if (error != CL_SUCCESS) {
        return error;
      }
    } else {
      break;
    }
    error = opencl_alloc_actual(ctx, min_size, mem_out);
  }

  return error;
}

static int opencl_free(struct opencl_context *ctx, cl_mem mem, const char *tag) {
  size_t size;
  cl_mem existing_mem;

  // If there is already a block with this tag, then remove it.
  if (free_list_find(&ctx->free_list, -1, &size, &existing_mem) == 0) {
    int error = clReleaseMemObject(existing_mem);
    if (error != CL_SUCCESS) {
      return error;
    }
  }

  int error = clGetMemObjectInfo(mem, CL_MEM_SIZE, sizeof(size_t), &size, NULL);

  if (error == CL_SUCCESS) {
    free_list_insert(&ctx->free_list, size, mem, tag);
  }

  return error;
}

static int opencl_free_all(struct opencl_context *ctx) {
  cl_mem mem;
  free_list_pack(&ctx->free_list);
  while (free_list_first(&ctx->free_list, &mem) == 0) {
    int error = clReleaseMemObject(mem);
    if (error != CL_SUCCESS) {
      return error;
    }
  }

  return CL_SUCCESS;
}

// Free everything that belongs to 'ctx', but do not free 'ctx'
// itself.
static void teardown_opencl(struct opencl_context *ctx) {
  (void)opencl_tally_profiling_records(ctx);
  free(ctx->profiling_records);
  (void)opencl_free_all(ctx);
  (void)clReleaseCommandQueue(ctx->queue);
  (void)clReleaseContext(ctx->ctx);
}

// End of opencl.h.

static const char *opencl_program[] =
                  {"\n// Clang-based OpenCL implementations need this for 'static' to work.\n#ifdef cl_clang_storage_class_specifiers\n#pragma OPENCL EXTENSION cl_clang_storage_class_specifiers : enable\n#endif\n#pragma OPENCL EXTENSION cl_khr_byte_addressable_store : enable\n\n// Some OpenCL programs dislike empty progams, or programs with no kernels.\n// Declare a dummy kernel to ensure they remain our friends.\n__kernel void dummy_kernel(__global unsigned char *dummy, int n)\n{\n    const int thread_gid = get_global_id(0);\n    if (thread_gid >= n) return;\n}\n\n#pragma OPENCL EXTENSION cl_khr_int64_base_atomics : enable\n#pragma OPENCL EXTENSION cl_khr_int64_extended_atomics : enable\n\ntypedef char int8_t;\ntypedef short int16_t;\ntypedef int int32_t;\ntypedef long int64_t;\n\ntypedef uchar uint8_t;\ntypedef ushort uint16_t;\ntypedef uint uint32_t;\ntypedef ulong uint64_t;\n\n// NVIDIAs OpenCL does not create device-wide memory fences (see #734), so we\n// use inline assembly if we detect we are on an NVIDIA GPU.\n#ifdef cl_nv_pragma_unroll\nstatic inline void mem_fence_global() {\n  asm(\"membar.gl;\");\n}\n#else\nstatic inline void mem_fence_global() {\n  mem_fence(CLK_LOCAL_MEM_FENCE | CLK_GLOBAL_MEM_FENCE);\n}\n#endif\nstatic inline void mem_fence_local() {\n  mem_fence(CLK_LOCAL_MEM_FENCE);\n}\n// Start of half.h.\n\n// Conversion functions are from http://half.sourceforge.net/, but\n// translated to C.\n//\n// Copyright (c) 2012-2021 Christian Rau\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Softwa",
                   "re.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n#ifndef __OPENCL_VERSION__\n#define __constant\n#endif\n\n__constant static const uint16_t base_table[512] = {\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,\n  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,\n  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C0",
                   "0, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,\n  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,\n  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC0",
                   "0, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };\n\n__constant static const unsigned char shift_table[512] = {\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 2",
                   "4, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };\n\n__constant static const uint32_t mantissa_table[2048] = {\n  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,\n  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,\n  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,\n  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,\n  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,\n  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA00",
                   "00, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,\n  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,\n  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,\n  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,\n  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,\n  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,\n  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,\n  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,\n  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,\n  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,\n  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A00",
                   "00, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,\n  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,\n  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,\n  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,\n  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,\n  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,\n  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,\n  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,\n  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,\n  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,\n  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF80",
                   "00,\n  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,\n  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,\n  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,\n  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,\n  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,\n  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,\n  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,\n  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,\n  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,\n  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,\n  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x3811",
                   "0000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,\n  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,\n  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,\n  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,\n  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,\n  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,\n  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,\n  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,\n  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,\n  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,\n  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A",
                   "4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,\n  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,\n  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,\n  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,\n  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,\n  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,\n  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,\n  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,\n  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,\n  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,\n  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x3863",
                   "8000, 0x3863C000,\n  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,\n  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,\n  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,\n  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,\n  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,\n  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,\n  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,\n  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,\n  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,\n  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,\n  0x38060000, 0x38062000, 0x38064000, 0x38",
                   "066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,\n  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,\n  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,\n  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,\n  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,\n  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,\n  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,\n  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,\n  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,\n  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,\n  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x38",
                   "1B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,\n  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,\n  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,\n  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,\n  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,\n  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,\n  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,\n  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,\n  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,\n  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,\n  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x38",
                   "2FA000, 0x382FC000, 0x382FE000,\n  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,\n  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,\n  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,\n  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,\n  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,\n  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,\n  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,\n  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,\n  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,\n  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,\n  0x38440000, 0x38442000, 0x",
                   "38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,\n  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,\n  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,\n  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,\n  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,\n  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,\n  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,\n  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,\n  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,\n  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,\n  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x",
                   "3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,\n  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,\n  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,\n  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,\n  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,\n  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,\n  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,\n  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,\n  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,\n  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,\n  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x",
                   "386D8000, 0x386DA000, 0x386DC000, 0x386DE000,\n  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,\n  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,\n  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,\n  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,\n  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,\n  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,\n  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,\n  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,\n  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };\n__constant static const uint32_t exponent_table[64] = {\n  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06",
                   "000000, 0x06800000, 0x07000000, 0x07800000,\n  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,\n  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,\n  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };\n__constant static const unsigned short offset_table[64] = {\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };\n\nstatic uint16_t float2halfbits(float value) {\n  union { float x; uint32_t y; } u;\n  u.x = value;\n  uint32_t bits = u.y;\n\n  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;\n\n  return hbits;\n}\n\nstatic float halfbits2float(uint16_t value) {\n  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];\n\n  union { uint32_t x; float y; } u;\n  u.x = bits;\n  return u.y;\n}\n\n// End of half.h.\n// Start of scalar.h.\n\n// Implementation of the primitive scalar operations.  Very\n// repetitive.  This code is inserted directly into both CUDA and\n// OpenCL programs, as well as the CPU code, so it has some #ifdefs to\n// work everywhere.  Some operations are defined as macros because\n// this allows us to use them as constant expressions in things like\n// array sizes and static initialisers.\n\n// Some of the #ifdefs are because OpenCL uses type-generic f",
                   "unctions\n// for some operations (e.g. sqrt), while C and CUDA sensibly use\n// distinct functions for different precisions (e.g. sqrtf() and\n// sqrt()).  This is quite annoying.  Due to C's unfortunate casting\n// rules, it is also really easy to accidentally implement\n// floating-point functions in the wrong precision, so be careful.\n\n// Double-precision definitions are only included if the preprocessor\n// macro FUTHARK_F64_ENABLED is set.\n\nstatic inline uint8_t add8(uint8_t x, uint8_t y) {\n  return x + y;\n}\n\nstatic inline uint16_t add16(uint16_t x, uint16_t y) {\n  return x + y;\n}\n\nstatic inline uint32_t add32(uint32_t x, uint32_t y) {\n  return x + y;\n}\n\nstatic inline uint64_t add64(uint64_t x, uint64_t y) {\n  return x + y;\n}\n\nstatic inline uint8_t sub8(uint8_t x, uint8_t y) {\n  return x - y;\n}\n\nstatic inline uint16_t sub16(uint16_t x, uint16_t y) {\n  return x - y;\n}\n\nstatic inline uint32_t sub32(uint32_t x, uint32_t y) {\n  return x - y;\n}\n\nstatic inline uint64_t sub64(uint64_t x, uint64_t y) {\n  return x - y;\n}\n\nstatic inline uint8_t mul8(uint8_t x, uint8_t y) {\n  return x * y;\n}\n\nstatic inline uint16_t mul16(uint16_t x, uint16_t y) {\n  return x * y;\n}\n\nstatic inline uint32_t mul32(uint32_t x, uint32_t y) {\n  return x * y;\n}\n\nstatic inline uint64_t mul64(uint64_t x, uint64_t y) {\n  return x * y;\n}\n\nstatic inline uint8_t udiv8(uint8_t x, uint8_t y) {\n  return x / y;\n}\n\nstatic inline uint16_t udiv16(uint16_t x, uint16_t y) {\n  return x / y;\n}\n\nstatic inline uint32_t udiv32(uint32_t x, uint32_t y) {\n  return x / y;\n}\n\nstatic inline uint64_t udiv64(uint64_t x, uint64_t y) {\n  return x / y;\n}\n\nstatic inline uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint64_t udiv_up64(uint64_t x, uint64_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint8_t umod8(uint8_t ",
                   "x, uint8_t y) {\n  return x % y;\n}\n\nstatic inline uint16_t umod16(uint16_t x, uint16_t y) {\n  return x % y;\n}\n\nstatic inline uint32_t umod32(uint32_t x, uint32_t y) {\n  return x % y;\n}\n\nstatic inline uint64_t umod64(uint64_t x, uint64_t y) {\n  return x % y;\n}\n\nstatic inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t q = x / y;\n  int8_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t q = x / y;\n  int16_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t q = x / y;\n  int32_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t q = x / y;\n  int64_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1",
                   " : 0);\n}\n\nstatic inline int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up32(int32_t x, int32_t y) {\n  return sdiv32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nstatic inline int8_t smod8(int8_t x, int8_t y) {\n  int8_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int16_t smod16(int16_t x, int16_t y) {\n  int16_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int32_t smod32(int32_t x, int32_t y) {\n  int32_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int64_t smod64(int64_t x, int64_t y) {\n  int64_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nstatic inline int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nstatic inline int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nstatic inline int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdiv64(x, y);\n}\n\nstatic inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nstatic inline int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nstatic inline int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nstatic inline int32_t smod_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0",
                   " : smod32(x, y);\n}\n\nstatic inline int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nstatic inline int8_t squot8(int8_t x, int8_t y) {\n  return x / y;\n}\n\nstatic inline int16_t squot16(int16_t x, int16_t y) {\n  return x / y;\n}\n\nstatic inline int32_t squot32(int32_t x, int32_t y) {\n  return x / y;\n}\n\nstatic inline int64_t squot64(int64_t x, int64_t y) {\n  return x / y;\n}\n\nstatic inline int8_t srem8(int8_t x, int8_t y) {\n  return x % y;\n}\n\nstatic inline int16_t srem16(int16_t x, int16_t y) {\n  return x % y;\n}\n\nstatic inline int32_t srem32(int32_t x, int32_t y) {\n  return x % y;\n}\n\nstatic inline int64_t srem64(int64_t x, int64_t y) {\n  return x % y;\n}\n\nstatic inline int8_t squot_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int16_t squot_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int32_t squot_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int64_t squot_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int8_t srem_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int16_t srem_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int32_t srem_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int64_t srem_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int8_t smin8(int8_t x, int8_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int16_t smin16(int16_t x, int16_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int32_t smin32(int32_t x, int32_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int64_t smin64(int64_t x, int64_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint8_t umin8(uint8_t x, uint8_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint16_t umin16(uint16_t x, uint16_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint32_t umin32(uint32_t x, uint32_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint64_t umin64(uint",
                   "64_t x, uint64_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int8_t smax8(int8_t x, int8_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline int16_t smax16(int16_t x, int16_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline int32_t smax32(int32_t x, int32_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline int64_t smax64(int64_t x, int64_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint8_t umax8(uint8_t x, uint8_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint16_t umax16(uint16_t x, uint16_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint32_t umax32(uint32_t x, uint32_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint64_t umax64(uint64_t x, uint64_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint8_t shl8(uint8_t x, uint8_t y) {\n  return (uint8_t)(x << y);\n}\n\nstatic inline uint16_t shl16(uint16_t x, uint16_t y) {\n  return (uint16_t)(x << y);\n}\n\nstatic inline uint32_t shl32(uint32_t x, uint32_t y) {\n  return x << y;\n}\n\nstatic inline uint64_t shl64(uint64_t x, uint64_t y) {\n  return x << y;\n}\n\nstatic inline uint8_t lshr8(uint8_t x, uint8_t y) {\n  return x >> y;\n}\n\nstatic inline uint16_t lshr16(uint16_t x, uint16_t y) {\n  return x >> y;\n}\n\nstatic inline uint32_t lshr32(uint32_t x, uint32_t y) {\n  return x >> y;\n}\n\nstatic inline uint64_t lshr64(uint64_t x, uint64_t y) {\n  return x >> y;\n}\n\nstatic inline int8_t ashr8(int8_t x, int8_t y) {\n  return x >> y;\n}\n\nstatic inline int16_t ashr16(int16_t x, int16_t y) {\n  return x >> y;\n}\n\nstatic inline int32_t ashr32(int32_t x, int32_t y) {\n  return x >> y;\n}\n\nstatic inline int64_t ashr64(int64_t x, int64_t y) {\n  return x >> y;\n}\n\nstatic inline uint8_t and8(uint8_t x, uint8_t y) {\n  return x & y;\n}\n\nstatic inline uint16_t and16(uint16_t x, uint16_t y) {\n  return x & y;\n}\n\nstatic inline uint32_t and32(uint32_t x, uint32_t y) {\n  return x & y;\n}\n\nstatic inline uint64_t and64(uint64_t x, uint64_t y) {\n  return x & y;\n}\n\nstatic inline uint8_t or8(uint8_t x, uint8_t y) {\n  return x | y;\n}\n\nstatic inline uint16_t or16(uint16_t x,",
                   " uint16_t y) {\n  return x | y;\n}\n\nstatic inline uint32_t or32(uint32_t x, uint32_t y) {\n  return x | y;\n}\n\nstatic inline uint64_t or64(uint64_t x, uint64_t y) {\n  return x | y;\n}\n\nstatic inline uint8_t xor8(uint8_t x, uint8_t y) {\n  return x ^ y;\n}\n\nstatic inline uint16_t xor16(uint16_t x, uint16_t y) {\n  return x ^ y;\n}\n\nstatic inline uint32_t xor32(uint32_t x, uint32_t y) {\n  return x ^ y;\n}\n\nstatic inline uint64_t xor64(uint64_t x, uint64_t y) {\n  return x ^ y;\n}\n\nstatic inline bool ult8(uint8_t x, uint8_t y) {\n  return x < y;\n}\n\nstatic inline bool ult16(uint16_t x, uint16_t y) {\n  return x < y;\n}\n\nstatic inline bool ult32(uint32_t x, uint32_t y) {\n  return x < y;\n}\n\nstatic inline bool ult64(uint64_t x, uint64_t y) {\n  return x < y;\n}\n\nstatic inline bool ule8(uint8_t x, uint8_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule16(uint16_t x, uint16_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule32(uint32_t x, uint32_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule64(uint64_t x, uint64_t y) {\n  return x <= y;\n}\n\nstatic inline bool slt8(int8_t x, int8_t y) {\n  return x < y;\n}\n\nstatic inline bool slt16(int16_t x, int16_t y) {\n  return x < y;\n}\n\nstatic inline bool slt32(int32_t x, int32_t y) {\n  return x < y;\n}\n\nstatic inline bool slt64(int64_t x, int64_t y) {\n  return x < y;\n}\n\nstatic inline bool sle8(int8_t x, int8_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle16(int16_t x, int16_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle32(int32_t x, int32_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle64(int64_t x, int64_t y) {\n  return x <= y;\n}\n\nstatic inline uint8_t pow8(uint8_t x, uint8_t y) {\n  uint8_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint16_t pow16(uint16_t x, uint16_t y) {\n  uint16_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint32_t pow32(uint32_t x, uint32_t y) {\n  ui",
                   "nt32_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint64_t pow64(uint64_t x, uint64_t y) {\n  uint64_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline bool itob_i8_bool(int8_t x) {\n  return x;\n}\n\nstatic inline bool itob_i16_bool(int16_t x) {\n  return x;\n}\n\nstatic inline bool itob_i32_bool(int32_t x) {\n  return x;\n}\n\nstatic inline bool itob_i64_bool(int64_t x) {\n  return x;\n}\n\nstatic inline int8_t btoi_bool_i8(bool x) {\n  return x;\n}\n\nstatic inline int16_t btoi_bool_i16(bool x) {\n  return x;\n}\n\nstatic inline int32_t btoi_bool_i32(bool x) {\n  return x;\n}\n\nstatic inline int64_t btoi_bool_i64(bool x) {\n  return x;\n}\n\n#define sext_i8_i8(x) ((int8_t) (int8_t) (x))\n#define sext_i8_i16(x) ((int16_t) (int8_t) (x))\n#define sext_i8_i32(x) ((int32_t) (int8_t) (x))\n#define sext_i8_i64(x) ((int64_t) (int8_t) (x))\n#define sext_i16_i8(x) ((int8_t) (int16_t) (x))\n#define sext_i16_i16(x) ((int16_t) (int16_t) (x))\n#define sext_i16_i32(x) ((int32_t) (int16_t) (x))\n#define sext_i16_i64(x) ((int64_t) (int16_t) (x))\n#define sext_i32_i8(x) ((int8_t) (int32_t) (x))\n#define sext_i32_i16(x) ((int16_t) (int32_t) (x))\n#define sext_i32_i32(x) ((int32_t) (int32_t) (x))\n#define sext_i32_i64(x) ((int64_t) (int32_t) (x))\n#define sext_i64_i8(x) ((int8_t) (int64_t) (x))\n#define sext_i64_i16(x) ((int16_t) (int64_t) (x))\n#define sext_i64_i32(x) ((int32_t) (int64_t) (x))\n#define sext_i64_i64(x) ((int64_t) (int64_t) (x))\n#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))\n#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))\n#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))\n#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))\n#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))\n#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))\n#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))\n#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))\n#define zext_i32_i8(x",
                   ") ((int8_t) (uint32_t) (x))\n#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))\n#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))\n#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))\n#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))\n#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))\n#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))\n#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))\n\nstatic int8_t abs8(int8_t x) {\n  return (int8_t)abs(x);\n}\n\nstatic int16_t abs16(int16_t x) {\n  return (int16_t)abs(x);\n}\n\nstatic int32_t abs32(int32_t x) {\n  return abs(x);\n}\n\nstatic int64_t abs64(int64_t x) {\n#if defined(__OPENCL_VERSION__)\n  return abs(x);\n#else\n  return llabs(x);\n#endif\n}\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_popc8(int8_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc16(int16_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc32(int32_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc64(int64_t x) {\n  return popcount(x);\n}\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_popc8(int8_t x) {\n  return __popc(zext_i8_i32(x));\n}\n\nstatic int32_t futrts_popc16(int16_t x) {\n  return __popc(zext_i16_i32(x));\n}\n\nstatic int32_t futrts_popc32(int32_t x) {\n  return __popc(x);\n}\n\nstatic int32_t futrts_popc64(int64_t x) {\n  return __popcll(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nstatic int32_t futrts_popc8(uint8_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc16(uint16_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc32(uint32_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc64(uint64_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  return mul_hi(a, b);\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {\n  return mul_hi(a, b);\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint",
                   "32_t b) {\n  return mul_hi(a, b);\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  return mul_hi(a, b);\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  uint16_t aa = a;\n  uint16_t bb = b;\n\n  return aa * bb >> 8;\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {\n  uint32_t aa = a;\n  uint32_t bb = b;\n\n  return aa * bb >> 16;\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {\n  return mulhi(a, b);\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  return mul64hi(a, b);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  uint16_t aa = a;\n  uint16_t bb = b;\n\n  return aa * bb >> 8;\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {\n  uint32_t aa = a;\n  uint32_t bb = b;\n\n  return aa * bb >> 16;\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {\n  uint64_t aa = a;\n  uint64_t bb = b;\n\n  return aa * bb >> 32;\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  __uint128_t aa = a;\n  __uint128_t bb = b;\n\n  return aa * bb >> 64;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {\n  return mad_hi(a, b, c);\n}\n\nstatic uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {\n  return mad_hi(a, b, c);\n}\n\nstatic uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {\n  return mad_hi(a, b, c);\n}\n\nstatic uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {\n  return mad_hi(a, b, c);\n}\n\n#else // Not OpenCL\n\nstatic uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {\n  return futrts_mul_hi8(a, b) + c;\n}\n\nstatic uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {\n  return futrts_mul_hi16(a, b) + c;\n}\n\nstatic uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {\n  return futrts_mul_hi32(a, b) + c;\n}\n\nstatic uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {\n  return futrts_mul_hi64(a, b) + c;\n}\n#endif\n\n#if defined",
                   "(__OPENCL_VERSION__)\nstatic int32_t futrts_clzz8(int8_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return clz(x);\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_clzz8(int8_t x) {\n  return __clz(zext_i8_i32(x)) - 24;\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return __clz(zext_i16_i32(x)) - 16;\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return __clz(x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return __clzll(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nstatic int32_t futrts_clzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_clz((uint32_t)x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_ctzz8(int8_t x) {\n  int i = 0;\n  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  int i = 0;\n  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  int i = 0;\n  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  int i = 0;\n  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_ctzz8(int8_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 8 : y - 1;\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 16 : y - 1;\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 32 : y - 1;\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  int y = __ffsll(x);\n  return y == 0 ? 64 : y - 1;\n}\n\n#else // N",
                   "ot OpenCL or CUDA, but plain C.\n\nstatic int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);\n}\n#endif\n\nstatic inline float fdiv32(float x, float y) {\n  return x / y;\n}\n\nstatic inline float fadd32(float x, float y) {\n  return x + y;\n}\n\nstatic inline float fsub32(float x, float y) {\n  return x - y;\n}\n\nstatic inline float fmul32(float x, float y) {\n  return x * y;\n}\n\nstatic inline bool cmplt32(float x, float y) {\n  return x < y;\n}\n\nstatic inline bool cmple32(float x, float y) {\n  return x <= y;\n}\n\nstatic inline float sitofp_i8_f32(int8_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i16_f32(int16_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i32_f32(int32_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i64_f32(int64_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i8_f32(uint8_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i16_f32(uint16_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i32_f32(uint32_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i64_f32(uint64_t x) {\n  return (float) x;\n}\n\nstatic inline int8_t fptosi_f32_i8(float x) {\n  return (int8_t) x;\n}\n\nstatic inline int16_t fptosi_f32_i16(float x) {\n  return (int16_t) x;\n}\n\nstatic inline int32_t fptosi_f32_i32(float x) {\n  return (int32_t) x;\n}\n\nstatic inline int64_t fptosi_f32_i64(float x) {\n  return (int64_t) x;\n}\n\nstatic inline uint8_t fptoui_f32_i8(float x) {\n  return (uint8_t) x;\n}\n\nstatic inline uint16_t fptoui_f32_i16(float x) {\n  return (uint16_t) x;\n}\n\nstatic inline uint32_t fptoui_f32_i32(float x) {\n  return (uint32_t) x;\n}\n\nstatic inline uint64_t fptoui_f32_i64(float x) {\n  return (uint64_t) x;\n}\n\n#ifdef __OPENCL_VERSION__\n",
                   "static inline float fabs32(float x) {\n  return fabs(x);\n}\n\nstatic inline float fmax32(float x, float y) {\n  return fmax(x, y);\n}\n\nstatic inline float fmin32(float x, float y) {\n  return fmin(x, y);\n}\n\nstatic inline float fpow32(float x, float y) {\n  return pow(x, y);\n}\n\n#else // Not OpenCL, but CUDA or plain C.\n\nstatic inline float fabs32(float x) {\n  return fabsf(x);\n}\n\nstatic inline float fmax32(float x, float y) {\n  return fmaxf(x, y);\n}\n\nstatic inline float fmin32(float x, float y) {\n  return fminf(x, y);\n}\n\nstatic inline float fpow32(float x, float y) {\n  return powf(x, y);\n}\n#endif\n\nstatic inline bool futrts_isnan32(float x) {\n  return isnan(x);\n}\n\nstatic inline bool futrts_isinf32(float x) {\n  return isinf(x);\n}\n\n#ifdef __OPENCL_VERSION__\nstatic inline float futrts_log32(float x) {\n  return log(x);\n}\n\nstatic inline float futrts_log2_32(float x) {\n  return log2(x);\n}\n\nstatic inline float futrts_log10_32(float x) {\n  return log10(x);\n}\n\nstatic inline float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nstatic inline float futrts_exp32(float x) {\n  return exp(x);\n}\n\nstatic inline float futrts_cos32(float x) {\n  return cos(x);\n}\n\nstatic inline float futrts_sin32(float x) {\n  return sin(x);\n}\n\nstatic inline float futrts_tan32(float x) {\n  return tan(x);\n}\n\nstatic inline float futrts_acos32(float x) {\n  return acos(x);\n}\n\nstatic inline float futrts_asin32(float x) {\n  return asin(x);\n}\n\nstatic inline float futrts_atan32(float x) {\n  return atan(x);\n}\n\nstatic inline float futrts_cosh32(float x) {\n  return cosh(x);\n}\n\nstatic inline float futrts_sinh32(float x) {\n  return sinh(x);\n}\n\nstatic inline float futrts_tanh32(float x) {\n  return tanh(x);\n}\n\nstatic inline float futrts_acosh32(float x) {\n  return acosh(x);\n}\n\nstatic inline float futrts_asinh32(float x) {\n  return asinh(x);\n}\n\nstatic inline float futrts_atanh32(float x) {\n  return atanh(x);\n}\n\nstatic inline float futrts_atan2_32(float x, float y) {\n  return atan2(x, y);\n}\n\nstatic inline float futrts_hypot32(float ",
                   "x, float y) {\n  return hypot(x, y);\n}\n\nstatic inline float futrts_gamma32(float x) {\n  return tgamma(x);\n}\n\nstatic inline float futrts_lgamma32(float x) {\n  return lgamma(x);\n}\n\nstatic inline float fmod32(float x, float y) {\n  return fmod(x, y);\n}\n\nstatic inline float futrts_round32(float x) {\n  return rint(x);\n}\n\nstatic inline float futrts_floor32(float x) {\n  return floor(x);\n}\n\nstatic inline float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nstatic inline float futrts_lerp32(float v0, float v1, float t) {\n  return mix(v0, v1, t);\n}\n\nstatic inline float futrts_mad32(float a, float b, float c) {\n  return mad(a, b, c);\n}\n\nstatic inline float futrts_fma32(float a, float b, float c) {\n  return fma(a, b, c);\n}\n\n#else // Not OpenCL, but CUDA or plain C.\n\nstatic inline float futrts_log32(float x) {\n  return logf(x);\n}\n\nstatic inline float futrts_log2_32(float x) {\n  return log2f(x);\n}\n\nstatic inline float futrts_log10_32(float x) {\n  return log10f(x);\n}\n\nstatic inline float futrts_sqrt32(float x) {\n  return sqrtf(x);\n}\n\nstatic inline float futrts_exp32(float x) {\n  return expf(x);\n}\n\nstatic inline float futrts_cos32(float x) {\n  return cosf(x);\n}\n\nstatic inline float futrts_sin32(float x) {\n  return sinf(x);\n}\n\nstatic inline float futrts_tan32(float x) {\n  return tanf(x);\n}\n\nstatic inline float futrts_acos32(float x) {\n  return acosf(x);\n}\n\nstatic inline float futrts_asin32(float x) {\n  return asinf(x);\n}\n\nstatic inline float futrts_atan32(float x) {\n  return atanf(x);\n}\n\nstatic inline float futrts_cosh32(float x) {\n  return coshf(x);\n}\n\nstatic inline float futrts_sinh32(float x) {\n  return sinhf(x);\n}\n\nstatic inline float futrts_tanh32(float x) {\n  return tanhf(x);\n}\n\nstatic inline float futrts_acosh32(float x) {\n  return acoshf(x);\n}\n\nstatic inline float futrts_asinh32(float x) {\n  return asinhf(x);\n}\n\nstatic inline float futrts_atanh32(float x) {\n  return atanhf(x);\n}\n\nstatic inline float futrts_atan2_32(float x, float y) {\n  return atan2f(x, y);\n}\n\nstatic inline flo",
                   "at futrts_hypot32(float x, float y) {\n  return hypotf(x, y);\n}\n\nstatic inline float futrts_gamma32(float x) {\n  return tgammaf(x);\n}\n\nstatic inline float futrts_lgamma32(float x) {\n  return lgammaf(x);\n}\n\nstatic inline float fmod32(float x, float y) {\n  return fmodf(x, y);\n}\n\nstatic inline float futrts_round32(float x) {\n  return rintf(x);\n}\n\nstatic inline float futrts_floor32(float x) {\n  return floorf(x);\n}\n\nstatic inline float futrts_ceil32(float x) {\n  return ceilf(x);\n}\n\nstatic inline float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\nstatic inline float futrts_fma32(float a, float b, float c) {\n  return fmaf(a, b, c);\n}\n#endif\n\nstatic inline int32_t futrts_to_bits32(float x) {\n  union {\n    float f;\n    int32_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline float futrts_from_bits32(int32_t x) {\n  union {\n    int32_t f;\n    float t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline float fsignum32(float x) {\n  return futrts_isnan32(x) ? x : (x > 0) - (x < 0);\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nstatic inline double fdiv64(double x, double y) {\n  return x / y;\n}\n\nstatic inline double fadd64(double x, double y) {\n  return x + y;\n}\n\nstatic inline double fsub64(double x, double y) {\n  return x - y;\n}\n\nstatic inline double fmul64(double x, double y) {\n  return x * y;\n}\n\nstatic inline bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nstatic inline bool cmple64(double x, double y) {\n  return x <= y;\n}\n\nstatic inline double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i16_f64(uint16_t x) {\n  return (double) x;\n}\n\nstatic inline doub",
                   "le uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nstatic inline int8_t fptosi_f64_i8(double x) {\n  return (int8_t) x;\n}\n\nstatic inline int16_t fptosi_f64_i16(double x) {\n  return (int16_t) x;\n}\n\nstatic inline int32_t fptosi_f64_i32(double x) {\n  return (int32_t) x;\n}\n\nstatic inline int64_t fptosi_f64_i64(double x) {\n  return (int64_t) x;\n}\n\nstatic inline uint8_t fptoui_f64_i8(double x) {\n  return (uint8_t) x;\n}\n\nstatic inline uint16_t fptoui_f64_i16(double x) {\n  return (uint16_t) x;\n}\n\nstatic inline uint32_t fptoui_f64_i32(double x) {\n  return (uint32_t) x;\n}\n\nstatic inline uint64_t fptoui_f64_i64(double x) {\n  return (uint64_t) x;\n}\n\nstatic inline double fabs64(double x) {\n  return fabs(x);\n}\n\nstatic inline double fmax64(double x, double y) {\n  return fmax(x, y);\n}\n\nstatic inline double fmin64(double x, double y) {\n  return fmin(x, y);\n}\n\nstatic inline double fpow64(double x, double y) {\n  return pow(x, y);\n}\n\nstatic inline double futrts_log64(double x) {\n  return log(x);\n}\n\nstatic inline double futrts_log2_64(double x) {\n  return log2(x);\n}\n\nstatic inline double futrts_log10_64(double x) {\n  return log10(x);\n}\n\nstatic inline double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nstatic inline double futrts_exp64(double x) {\n  return exp(x);\n}\n\nstatic inline double futrts_cos64(double x) {\n  return cos(x);\n}\n\nstatic inline double futrts_sin64(double x) {\n  return sin(x);\n}\n\nstatic inline double futrts_tan64(double x) {\n  return tan(x);\n}\n\nstatic inline double futrts_acos64(double x) {\n  return acos(x);\n}\n\nstatic inline double futrts_asin64(double x) {\n  return asin(x);\n}\n\nstatic inline double futrts_atan64(double x) {\n  return atan(x);\n}\n\nstatic inline double futrts_cosh64(double x) {\n  return cosh(x);\n}\n\nstatic inline double futrts_sinh64(double x) {\n  return sinh(x);\n}\n\nstatic inline double futrts_tanh64(double x) {\n  return tanh(x);\n}\n\nstatic inline double futrts_acosh64(double x) {\n",
                   "  return acosh(x);\n}\n\nstatic inline double futrts_asinh64(double x) {\n  return asinh(x);\n}\n\nstatic inline double futrts_atanh64(double x) {\n  return atanh(x);\n}\n\nstatic inline double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nstatic inline double futrts_hypot64(double x, double y) {\n  return hypot(x, y);\n}\n\nstatic inline double futrts_gamma64(double x) {\n  return tgamma(x);\n}\n\nstatic inline double futrts_lgamma64(double x) {\n  return lgamma(x);\n}\n\nstatic inline double futrts_fma64(double a, double b, double c) {\n  return fma(a, b, c);\n}\n\nstatic inline double futrts_round64(double x) {\n  return rint(x);\n}\n\nstatic inline double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nstatic inline double futrts_floor64(double x) {\n  return floor(x);\n}\n\nstatic inline bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nstatic inline bool futrts_isinf64(double x) {\n  return isinf(x);\n}\n\nstatic inline int64_t futrts_to_bits64(double x) {\n  union {\n    double f;\n    int64_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline double futrts_from_bits64(int64_t x) {\n  union {\n    int64_t f;\n    double t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline double fmod64(double x, double y) {\n  return fmod(x, y);\n}\n\nstatic inline double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);\n}\n\nstatic inline double futrts_lerp64(double v0, double v1, double t) {\n#ifdef __OPENCL_VERSION__\n  return mix(v0, v1, t);\n#else\n  return v0 + (v1 - v0) * t;\n#endif\n}\n\nstatic inline double futrts_mad64(double a, double b, double c) {\n#ifdef __OPENCL_VERSION__\n  return mad(a, b, c);\n#else\n  return a * b + c;\n#endif\n}\n\nstatic inline float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nstatic inline float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f64_f64(double x) {\n  return (double) x;\n}\n\n#endif\n\n// End of scalar.h.\n// Start of scalar_f16.h.\n\n// Half-precis",
                   "ion is emulated if needed (e.g. in straight C) with the\n// native type used if possible.  The emulation works by typedef'ing\n// 'float' to 'f16', and then implementing all operations on single\n// precision.  To cut down on duplication, we use the same code for\n// those Futhark functions that require just operators or casts.  The\n// in-memory representation for arrays will still be 16 bits even\n// under emulation, so the compiler will have to be careful when\n// generating reads or writes.\n\n#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600)\n#define EMULATE_F16\n#endif\n\n#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)\n#pragma OPENCL EXTENSION cl_khr_fp16 : enable\n#endif\n\n#ifdef EMULATE_F16\n\n// Note that the half-precision storage format is still 16 bits - the\n// compiler will have to be real careful!\ntypedef float f16;\n\n#else\n\n#ifdef __CUDA_ARCH__\n#include <cuda_fp16.h>\n#endif\n\ntypedef half f16;\n\n#endif\n\n// Some of these functions convert to single precision because half\n// precision versions are not available.\n\nstatic inline f16 fadd16(f16 x, f16 y) {\n  return x + y;\n}\n\nstatic inline f16 fsub16(f16 x, f16 y) {\n  return x - y;\n}\n\nstatic inline f16 fmul16(f16 x, f16 y) {\n  return x * y;\n}\n\nstatic inline bool cmplt16(f16 x, f16 y) {\n  return x < y;\n}\n\nstatic inline bool cmple16(f16 x, f16 y) {\n  return x <= y;\n}\n\nstatic inline f16 sitofp_i8_f16(int8_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i16_f16(int16_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i32_f16(int32_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i64_f16(int64_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i8_f16(uint8_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i16_f16(uint16_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i32_f16(uint32_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i64_f16(uint64_t x) {\n  return (f16) x;\n}\n\nstatic inline int8_t fptosi_f16_i8(f16 x) {\n  return (int8_t) (float) x;\n}\n\nstatic inline int16_t f",
                   "ptosi_f16_i16(f16 x) {\n  return (int16_t) x;\n}\n\nstatic inline int32_t fptosi_f16_i32(f16 x) {\n  return (int32_t) x;\n}\n\nstatic inline int64_t fptosi_f16_i64(f16 x) {\n  return (int64_t) x;\n}\n\nstatic inline uint8_t fptoui_f16_i8(f16 x) {\n  return (uint8_t) (float) x;\n}\n\nstatic inline uint16_t fptoui_f16_i16(f16 x) {\n  return (uint16_t) x;\n}\n\nstatic inline uint32_t fptoui_f16_i32(f16 x) {\n  return (uint32_t) x;\n}\n\nstatic inline uint64_t fptoui_f16_i64(f16 x) {\n  return (uint64_t) x;\n}\n\n#ifndef EMULATE_F16\n\n#ifdef __OPENCL_VERSION__\nstatic inline f16 fabs16(f16 x) {\n  return fabs(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmax(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fmin(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n\n#else // Assuming CUDA.\n\nstatic inline f16 fabs16(f16 x) {\n  return fabsf(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmaxf(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fminf(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return powf(x, y);\n}\n#endif\n\nstatic inline bool futrts_isnan16(f16 x) {\n  return isnan((float)x);\n}\n\nstatic inline bool futrts_isinf16(f16 x) {\n  return isinf((float)x);\n}\n\n#ifdef __OPENCL_VERSION__\nstatic inline f16 futrts_log16(f16 x) {\n  return log(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return log2(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return log10(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return sqrt(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return cos(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return sin(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return tan(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return acos(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return asin(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return atan(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return cosh(x);\n}\n\nstatic inline f16 futrts",
                   "_sinh16(f16 x) {\n  return sinh(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return tanh(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return acosh(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return asinh(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  return atanh(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return hypot(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return tgamma(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return lgamma(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmod(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return rint(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return floor(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return ceil(x);\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return mix(v0, v1, t);\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return mad(a, b, c);\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fma(a, b, c);\n}\n\n#else // Assume CUDA.\n\nstatic inline f16 futrts_log16(f16 x) {\n  return hlog(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return hlog2(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return hlog10(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return hsqrt(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return hexp(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return hcos(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return hsin(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return tanf(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return acosf(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return asinf(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return atanf(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return coshf(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return sinhf(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return tanhf(x);\n}\n\nstatic inline f16 futrts_acosh",
                   "16(f16 x) {\n  return acoshf(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return asinhf(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  return atanhf(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2f(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return hypotf(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return tgammaf(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return lgammaf(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmodf(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return rintf(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return hfloor(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return hceil(x);\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fmaf(a, b, c);\n}\n\n#endif\n\n// The CUDA __half type cannot be put in unions for some reason, so we\n// use bespoke conversion functions instead.\n#ifdef __CUDA_ARCH__\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  return __half_as_ushort(x);\n}\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return __ushort_as_half(x);\n}\n#else\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  union {\n    f16 f;\n    int16_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  union {\n    int16_t f;\n    f16 t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\n#else // No native f16 - emulate.\n\nstatic inline f16 fabs16(f16 x) {\n  return fabs32(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmax32(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fmin32(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return fpow32(x, y);\n}\n\nstatic inline bool futrts_isnan16(f16 x) {\n  return futrts_isnan32(x);\n}\n\nstatic inline bool futrts_isinf16(f16 x) {\n  return futrts_isinf32(x);\n}\n\nstatic inline f16 futrts_log16(f16 x) {\n  r",
                   "eturn futrts_log32(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return futrts_log2_32(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return futrts_log10_32(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return futrts_sqrt32(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return futrts_exp32(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return futrts_cos32(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return futrts_sin32(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return futrts_tan32(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return futrts_acos32(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return futrts_asin32(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return futrts_atan32(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return futrts_cosh32(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return futrts_sinh32(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return futrts_tanh32(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return futrts_acosh32(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return futrts_asinh32(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  return futrts_atanh32(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return futrts_atan2_32(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return futrts_hypot32(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return futrts_gamma32(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return futrts_lgamma32(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmod32(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return futrts_round32(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return futrts_floor32(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return futrts_ceil32(x);\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return futrts_lerp32(v0, v1, t);\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return futrts_mad32(a, b, c);\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c",
                   ") {\n  return futrts_fma32(a, b, c);\n}\n\n// Even when we are using an OpenCL that does not support cl_khr_fp16,\n// it must still support vload_half for actually creating a\n// half-precision number, which can then be efficiently converted to a\n// float.  Similarly for vstore_half.\n#ifdef __OPENCL_VERSION__\n\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  int16_t y;\n  // Violating strict aliasing here.\n  vstore_half((float)x, 0, (half*)&y);\n  return y;\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return (f16)vload_half(0, (half*)&x);\n}\n\n#else\n\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  return (int16_t)float2halfbits(x);\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return halfbits2float((uint16_t)x);\n}\n\nstatic inline f16 fsignum16(f16 x) {\n  return futrts_isnan16(x) ? x : (x > 0) - (x < 0);\n}\n\n#endif\n\n#endif\n\nstatic inline float fpconv_f16_f16(f16 x) {\n  return x;\n}\n\nstatic inline float fpconv_f16_f32(f16 x) {\n  return x;\n}\n\nstatic inline f16 fpconv_f32_f16(float x) {\n  return x;\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nstatic inline double fpconv_f16_f64(f16 x) {\n  return (double) x;\n}\n\nstatic inline f16 fpconv_f64_f16(double x) {\n  return (f16) x;\n}\n\n#endif\n\n\n// End of scalar_f16.h.\n// Start of atomics.h\n\ninline int32_t atomic_xchg_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_xchg_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_cmpxchg_i32_global(volatile __global int32_t *p,\n                                         int32_t cmp, int32_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int32_t atomic_cmpxchg_i32_local(volatile __local int32_t *p,\n                                        int32_t cmp, int32_t val) {\n#ifde",
                   "f FUTHARK_CUDA\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int32_t atomic_add_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((int32_t*)p, x);\n#else\n  return atomic_add(p, x);\n#endif\n}\n\ninline int32_t atomic_add_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((int32_t*)p, x);\n#else\n  return atomic_add(p, x);\n#endif\n}\n\ninline float atomic_fadd_f32_global(volatile __global float *p, float x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((float*)p, x);\n#else\n  union { int32_t i; float f; } old;\n  union { int32_t i; float f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i32_global((volatile __global int32_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline float atomic_fadd_f32_local(volatile __local float *p, float x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((float*)p, x);\n#else\n  union { int32_t i; float f; } old;\n  union { int32_t i; float f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i32_local((volatile __local int32_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline int32_t atomic_smax_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline int32_t atomic_smax_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline int32_t atomic_smin_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline int32_t atomic_smin_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int32_t*)p, x);\n#else\n  ret",
                   "urn atomic_min(p, x);\n#endif\n}\n\ninline uint32_t atomic_umax_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline uint32_t atomic_umax_i32_local(volatile __local uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline uint32_t atomic_umin_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline uint32_t atomic_umin_i32_local(volatile __local uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline int32_t atomic_and_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\ninline int32_t atomic_and_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\ninline int32_t atomic_or_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\ninline int32_t atomic_or_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\ninline int32_t atomic_xor_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_xor_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\n// Start of 64 bit atomics\n\ninline int64_t atomic_xchg_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((uint64_t*)p, x);\n#else\n ",
                   " return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_xchg_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_cmpxchg_i64_global(volatile __global int64_t *p,\n                                         int64_t cmp, int64_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int64_t atomic_cmpxchg_i64_local(volatile __local int64_t *p,\n                                        int64_t cmp, int64_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int64_t atomic_add_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\ninline int64_t atomic_add_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\ninline double atomic_fadd_f64_global(volatile __global double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600\n  return atomicAdd((double*)p, x);\n#else\n  union { int64_t i; double f; } old;\n  union { int64_t i; double f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i64_global((volatile __global int64_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline double atomic_fadd_f64_local(volatile __local double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600\n  return atomicAdd((double*)p, x);\n#else\n  union { int64_t i; double f; } old;\n  union { int64_t i; double f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i64_local((volatile __local int64_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  r",
                   "eturn old.f;\n#endif\n}\n\n#endif\n\ninline int64_t atomic_smax_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline int64_t atomic_smax_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline int64_t atomic_smin_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline int64_t atomic_smin_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline uint64_t atomic_umax_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline uint64_t atomic_umax_i64_local(volatile __local uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline uint64_t atomic_umin_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline uint64_t atomic_umin_i64_local(volatile __local uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline int64_t atomic_and_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\ninline int64_t atomic_and_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\ninline int64_t atomic_or_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\ninline int6",
                   "4_t atomic_or_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\ninline int64_t atomic_xor_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_xor_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\n// End of atomics.h\n\n\n\n__kernel void builtinzhreplicate_f32zireplicate_82516(int32_t num_elems_82513,\n                                                      float val_82514, __global\n                                                      unsigned char *mem_82512)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    int32_t replicate_gtid_82516;\n    int32_t replicate_ltid_82517;\n    int32_t replicate_gid_82518;\n    \n    replicate_gtid_82516 = get_global_id(0);\n    replicate_ltid_82517 = get_local_id(0);\n    replicate_gid_82518 = get_group_id(0);\n    \n    int64_t slice_82522 = num_elems_82513;\n    int64_t rep_i_82521 = sext_i32_i64(replicate_gtid_82516);\n    int64_t remnant_82523 = sext_i32_i64(replicate_gtid_82516) - rep_i_82521;\n    \n    if (slt64(replicate_gtid_82516, num_elems_82513)) {\n        ((__global float *) mem_82512)[rep_i_82521] = val_82514;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void builtinzhreplicate_i64zireplicate_82619(int32_t num_elems_82616,\n                                                      int64_t val_82617,\n                                                      __global\n                                                      unsigned char *mem_82615)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    int32_t replicate_gtid_82619;\n    int32_t replicate_ltid_82620;\n    int32_t replicate_gid_82621;\n    \n    replicate_gtid_82619 = get_global_id(0);\n    rep",
                   "licate_ltid_82620 = get_local_id(0);\n    replicate_gid_82621 = get_group_id(0);\n    \n    int64_t slice_82625 = num_elems_82616;\n    int64_t rep_i_82624 = sext_i32_i64(replicate_gtid_82619);\n    int64_t remnant_82626 = sext_i32_i64(replicate_gtid_82619) - rep_i_82624;\n    \n    if (slt64(replicate_gtid_82619, num_elems_82616)) {\n        ((__global int64_t *) mem_82615)[rep_i_82624] = val_82617;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_f32(__local volatile\n                                    int64_t *block_9_backing_aligned_0,\n                                    int32_t destoffset_1, int32_t srcoffset_3,\n                                    int32_t num_arrays_4, int32_t x_elems_5,\n                                    int32_t y_elems_6, int32_t mulx_7,\n                                    int32_t muly_8, __global\n                                    unsigned char *destmem_0, __global\n                                    unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_global_id_0_37;\n    \n    get_global_id_0_37 = get_global_id(0);\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_40;\n    \n    get_group_id_0_40 = get_group_id(0);\n    \n    int32_t get_group_id_1_41;\n    \n    get_group_id_1_41 = get_group_id(1);\n    \n    int32_t get_group_id_2_42;\n    \n    get_group_id_2_42 = get_group_id(2);\n    \n    int32_t our_array_offset_30 = get_group_id_2_42 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 4) +",
                   " our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 4) + our_array_offset_30;\n    int32_t x_index_31 = get_global_id_0_37;\n    int32_t y_index_32 = get_group_id_1_41 * 32 + get_local_id_1_39;\n    \n    if (slt32(x_index_31, x_elems_5)) {\n        for (int32_t j_43 = 0; j_43 < 4; j_43++) {\n            int32_t index_in_35 = (y_index_32 + j_43 * 8) * x_elems_5 +\n                    x_index_31;\n            \n            if (slt32(y_index_32 + j_43 * 8, y_elems_6)) {\n                ((__local float *) block_9)[sext_i32_i64((get_local_id_1_39 +\n                                                          j_43 * 8) * 33 +\n                                            get_local_id_0_38)] = ((__global\n                                                                    float *) srcmem_2)[sext_i32_i64(idata_offset_34 +\n                                                                                       index_in_35)];\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_41 * 32 + get_local_id_0_38;\n    y_index_32 = get_group_id_0_40 * 32 + get_local_id_1_39;\n    if (slt32(x_index_31, y_elems_6)) {\n        for (int32_t j_43 = 0; j_43 < 4; j_43++) {\n            int32_t index_out_36 = (y_index_32 + j_43 * 8) * y_elems_6 +\n                    x_index_31;\n            \n            if (slt32(y_index_32 + j_43 * 8, x_elems_5)) {\n                ((__global float *) destmem_0)[sext_i32_i64(odata_offset_33 +\n                                               index_out_36)] = ((__local\n                                                                  float *) block_9)[sext_i32_i64(get_local_id_0_38 *\n                                                                                    33 +\n                                                                                    get_local_id_1_39 +\n                                                                                    j_43 *\n                                                          ",
                   "                          8)];\n            }\n        }\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_f32_low_height(__local volatile\n                                               int64_t *block_9_backing_aligned_0,\n                                               int32_t destoffset_1,\n                                               int32_t srcoffset_3,\n                                               int32_t num_arrays_4,\n                                               int32_t x_elems_5,\n                                               int32_t y_elems_6,\n                                               int32_t mulx_7, int32_t muly_8,\n                                               __global\n                                               unsigned char *destmem_0,\n                                               __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_global_id_0_37;\n    \n    get_global_id_0_37 = get_global_id(0);\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_40;\n    \n    get_group_id_0_40 = get_group_id(0);\n    \n    int32_t get_group_id_1_41;\n    \n    get_group_id_1_41 = get_group_id(1);\n    \n    int32_t get_group_id_2_42;\n    \n    get_group_id_2_42 = get_group_id(2);\n    \n    int32_t our_array_offset_30 = get_group_id_2_42 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 4) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 4) + our_array_offset_30;\n    int32_t x",
                   "_index_31 = get_group_id_0_40 * 16 * mulx_7 + get_local_id_0_38 +\n            srem32(get_local_id_1_39, mulx_7) * 16;\n    int32_t y_index_32 = get_group_id_1_41 * 16 + squot32(get_local_id_1_39,\n                                                          mulx_7);\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        ((__local float *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 +\n                                    get_local_id_0_38)] = ((__global\n                                                            float *) srcmem_2)[sext_i32_i64(idata_offset_34 +\n                                                                               index_in_35)];\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_41 * 16 + squot32(get_local_id_0_38, mulx_7);\n    y_index_32 = get_group_id_0_40 * 16 * mulx_7 + get_local_id_1_39 +\n        srem32(get_local_id_0_38, mulx_7) * 16;\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        ((__global float *) destmem_0)[sext_i32_i64(odata_offset_33 +\n                                       index_out_36)] = ((__local\n                                                          float *) block_9)[sext_i32_i64(get_local_id_0_38 *\n                                                                            17 +\n                                                                            get_local_id_1_39)];\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_f32_low_width(__local volatile\n                                              int64_t *block_9_backing_aligned_0,\n                                              int32_t destoffset_1,\n                                              int32_t srcoffset_3,\n                                              int32_t num_arrays_4,\n                                              int32_t x_elems",
                   "_5,\n                                              int32_t y_elems_6, int32_t mulx_7,\n                                              int32_t muly_8, __global\n                                              unsigned char *destmem_0, __global\n                                              unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_global_id_0_37;\n    \n    get_global_id_0_37 = get_global_id(0);\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_40;\n    \n    get_group_id_0_40 = get_group_id(0);\n    \n    int32_t get_group_id_1_41;\n    \n    get_group_id_1_41 = get_group_id(1);\n    \n    int32_t get_group_id_2_42;\n    \n    get_group_id_2_42 = get_group_id(2);\n    \n    int32_t our_array_offset_30 = get_group_id_2_42 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 4) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 4) + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_40 * 16 + squot32(get_local_id_0_38,\n                                                          muly_8);\n    int32_t y_index_32 = get_group_id_1_41 * 16 * muly_8 + get_local_id_1_39 +\n            srem32(get_local_id_0_38, muly_8) * 16;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        ((__local float *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 +\n                                    get_local_id_0_38)] = ((__global\n            ",
                   "                                                float *) srcmem_2)[sext_i32_i64(idata_offset_34 +\n                                                                               index_in_35)];\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_41 * 16 * muly_8 + get_local_id_0_38 +\n        srem32(get_local_id_1_39, muly_8) * 16;\n    y_index_32 = get_group_id_0_40 * 16 + squot32(get_local_id_1_39, muly_8);\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        ((__global float *) destmem_0)[sext_i32_i64(odata_offset_33 +\n                                       index_out_36)] = ((__local\n                                                          float *) block_9)[sext_i32_i64(get_local_id_0_38 *\n                                                                            17 +\n                                                                            get_local_id_1_39)];\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_f32_small(__local volatile\n                                          int64_t *block_9_backing_aligned_0,\n                                          int32_t destoffset_1,\n                                          int32_t srcoffset_3,\n                                          int32_t num_arrays_4,\n                                          int32_t x_elems_5, int32_t y_elems_6,\n                                          int32_t mulx_7, int32_t muly_8,\n                                          __global unsigned char *destmem_0,\n                                          __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n",
                   "    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_global_id_0_37;\n    \n    get_global_id_0_37 = get_global_id(0);\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_40;\n    \n    get_group_id_0_40 = get_group_id(0);\n    \n    int32_t get_group_id_1_41;\n    \n    get_group_id_1_41 = get_group_id(1);\n    \n    int32_t get_group_id_2_42;\n    \n    get_group_id_2_42 = get_group_id(2);\n    \n    int32_t our_array_offset_30 = squot32(get_global_id_0_37, y_elems_6 *\n                                          x_elems_5) * (y_elems_6 * x_elems_5);\n    int32_t x_index_31 = squot32(srem32(get_global_id_0_37, y_elems_6 *\n                                        x_elems_5), y_elems_6);\n    int32_t y_index_32 = srem32(get_global_id_0_37, y_elems_6);\n    int32_t odata_offset_33 = squot32(destoffset_1, 4) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 4) + our_array_offset_30;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    int32_t index_out_36 = x_index_31 * y_elems_6 + y_index_32;\n    \n    if (slt32(get_global_id_0_37, x_elems_5 * y_elems_6 * num_arrays_4)) {\n        ((__global float *) destmem_0)[sext_i32_i64(odata_offset_33 +\n                                       index_out_36)] = ((__global\n                                                          float *) srcmem_2)[sext_i32_i64(idata_offset_34 +\n                                                                             index_in_35)];\n    }\n    \n  error_0:\n    return;\n}\n__kernel void mainziscan_stage1_72653(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_82567_backing_aligned_0,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int32_t num_threads_82561, __globa",
                   "l\n                                      unsigned char *Y_mem_81217, __global\n                                      unsigned char *mem_81323)\n{\n    #define segscan_group_sizze_72664 (mainzisegscan_group_sizze_72647)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_82567_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_82567_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82562;\n    int32_t local_tid_82563;\n    int64_t group_sizze_82566;\n    int32_t wave_sizze_82565;\n    int32_t group_tid_82564;\n    \n    global_tid_82562 = get_global_id(0);\n    local_tid_82563 = get_local_id(0);\n    group_sizze_82566 = get_local_size(0);\n    wave_sizze_82565 = LOCKSTEP_WIDTH;\n    group_tid_82564 = get_group_id(0);\n    \n    int32_t phys_tid_72653 = global_tid_82562;\n    __local unsigned char *scan_arr_mem_82567;\n    \n    scan_arr_mem_82567 = (__local unsigned char *) scan_arr_mem_82567_backing_0;\n    \n    int64_t x_72668;\n    int64_t x_72669;\n    \n    x_72668 = (int64_t) 0;\n    for (int64_t j_82569 = 0; j_82569 < sdiv_up64(m_70232 * n_70233,\n                                                  sext_i32_i64(num_threads_82561));\n         j_82569++) {\n        int64_t chunk_offset_82570 = segscan_group_sizze_72664 * j_82569 +\n                sext_i32_i64(group_tid_82564) * (segscan_group_sizze_72664 *\n                                                 sdiv_up64(m_70232 * n_70233,\n                                                           sext_i32_i64(num_threads_82561)));\n        int64_t flat_idx_82571 = chunk_offset_82570 +\n                sext_i32_i64(local_tid_82563);\n        int64_t gtid_72644 = squot64(flat_idx_82571, n_70233);\n        int64_t gtid_72652 = flat_idx_82571 - squot64(flat_idx_82571, n_70233) *\n                n_70233;\n        \n        // thread",
                   "s in bounds read input\n        {\n            if (slt64(gtid_72644, m_70232) && slt64(gtid_72652, n_70233)) {\n                float x_72672 = ((__global float *) Y_mem_81217)[gtid_72644 *\n                                                                 n_70233 +\n                                                                 gtid_72652];\n                bool isnan_res_72673;\n                \n                isnan_res_72673 = futrts_isnan32(x_72672);\n                \n                bool defunc_0_p_res_72674 = !isnan_res_72673;\n                int64_t defunc_0_f_res_72675 =\n                        btoi_bool_i64(defunc_0_p_res_72674);\n                \n                // write to-scan values to parameters\n                {\n                    x_72669 = defunc_0_f_res_72675;\n                }\n                // write mapped values results to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_72644, m_70232) && slt64(gtid_72652,\n                                                          n_70233))) {\n                    x_72669 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_72670 = add64(x_72668, x_72669);\n                \n                ((__local\n                  int64_t *) scan_arr_mem_82567)[sext_i32_i64(local_tid_82563)] =\n                    defunc_1_op_res_72670;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_82572;\n            int64_t x_82573;\n            int64_t x_82575;\n            int64_t x_82576;\n            bool ltid_in_bounds_82578 = slt64(sext_i32_i64(local_tid_82563),\n                                              segscan_group_sizze_72664);\n            int32_t skip_threads_82579;\n            \n            // read inp",
                   "ut for in-block scan\n            {\n                if (ltid_in_bounds_82578) {\n                    x_82573 = ((volatile __local\n                                int64_t *) scan_arr_mem_82567)[sext_i32_i64(local_tid_82563)];\n                    if ((local_tid_82563 - squot32(local_tid_82563, 32) * 32) ==\n                        0) {\n                        x_82572 = x_82573;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_82579 = 1;\n                while (slt32(skip_threads_82579, 32)) {\n                    if (sle32(skip_threads_82579, local_tid_82563 -\n                              squot32(local_tid_82563, 32) * 32) &&\n                        ltid_in_bounds_82578) {\n                        // read operands\n                        {\n                            x_82572 = ((volatile __local\n                                        int64_t *) scan_arr_mem_82567)[sext_i32_i64(local_tid_82563) -\n                                                                       sext_i32_i64(skip_threads_82579)];\n                        }\n                        // perform operation\n                        {\n                            bool inactive_82580 =\n                                 slt64(srem64(sext_i32_i64(local_tid_82563) +\n                                              chunk_offset_82570, n_70233),\n                                       sext_i32_i64(local_tid_82563) +\n                                       chunk_offset_82570 -\n                                       (sext_i32_i64(local_tid_82563 -\n                                        skip_threads_82579) +\n                                        chunk_offset_82570));\n                            \n                            if (inactive_82580) {\n                                x_82572 = x_82573;\n                            }\n                            if (!inactive_82580) {\n                                int64_t defun",
                   "c_1_op_res_82574 = add64(x_82572,\n                                                                      x_82573);\n                                \n                                x_82572 = defunc_1_op_res_82574;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_82565, skip_threads_82579)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (sle32(skip_threads_82579, local_tid_82563 -\n                              squot32(local_tid_82563, 32) * 32) &&\n                        ltid_in_bounds_82578) {\n                        // write result\n                        {\n                            ((volatile __local\n                              int64_t *) scan_arr_mem_82567)[sext_i32_i64(local_tid_82563)] =\n                                x_82572;\n                            x_82573 = x_82572;\n                        }\n                    }\n                    if (sle32(wave_sizze_82565, skip_threads_82579)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_82579 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_82563 - squot32(local_tid_82563, 32) * 32) ==\n                    31 && ltid_in_bounds_82578) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_82567)[sext_i32_i64(squot32(local_tid_82563,\n                                                                          32))] =\n                        x_82572;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_82581;\n                \n                // read input for in-block scan\n                {\n   ",
                   "                 if (squot32(local_tid_82563, 32) == 0 &&\n                        ltid_in_bounds_82578) {\n                        x_82576 = ((volatile __local\n                                    int64_t *) scan_arr_mem_82567)[sext_i32_i64(local_tid_82563)];\n                        if ((local_tid_82563 - squot32(local_tid_82563, 32) *\n                             32) == 0) {\n                            x_82575 = x_82576;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_82581 = 1;\n                    while (slt32(skip_threads_82581, 32)) {\n                        if (sle32(skip_threads_82581, local_tid_82563 -\n                                  squot32(local_tid_82563, 32) * 32) &&\n                            (squot32(local_tid_82563, 32) == 0 &&\n                             ltid_in_bounds_82578)) {\n                            // read operands\n                            {\n                                x_82575 = ((volatile __local\n                                            int64_t *) scan_arr_mem_82567)[sext_i32_i64(local_tid_82563) -\n                                                                           sext_i32_i64(skip_threads_82581)];\n                            }\n                            // perform operation\n                            {\n                                bool inactive_82582 =\n                                     slt64(srem64(sext_i32_i64(local_tid_82563 *\n                                                  32 + 32 - 1) +\n                                                  chunk_offset_82570, n_70233),\n                                           sext_i32_i64(local_tid_82563 * 32 +\n                                           32 - 1) + chunk_offset_82570 -\n                                           (sext_i32_i64((local_tid_82563 -\n                                                          skip_threads_82581) *\n         ",
                   "                                   32 + 32 - 1) + chunk_offset_82570));\n                                \n                                if (inactive_82582) {\n                                    x_82575 = x_82576;\n                                }\n                                if (!inactive_82582) {\n                                    int64_t defunc_1_op_res_82577 =\n                                            add64(x_82575, x_82576);\n                                    \n                                    x_82575 = defunc_1_op_res_82577;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_82565, skip_threads_82581)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (sle32(skip_threads_82581, local_tid_82563 -\n                                  squot32(local_tid_82563, 32) * 32) &&\n                            (squot32(local_tid_82563, 32) == 0 &&\n                             ltid_in_bounds_82578)) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem_82567)[sext_i32_i64(local_tid_82563)] =\n                                    x_82575;\n                                x_82576 = x_82575;\n                            }\n                        }\n                        if (sle32(wave_sizze_82565, skip_threads_82581)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_82581 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // carry-in for every block except the first\n            {\n                if (!(squot32(local_tid_82563, 32) == 0 ||\n                      !ltid_in_bounds_82578)) {\n                    // read operands\n                    {\n                        x",
                   "_82573 = x_82572;\n                        x_82572 = ((__local\n                                    int64_t *) scan_arr_mem_82567)[sext_i32_i64(squot32(local_tid_82563,\n                                                                                        32)) -\n                                                                   (int64_t) 1];\n                    }\n                    // perform operation\n                    {\n                        bool inactive_82583 =\n                             slt64(srem64(sext_i32_i64(local_tid_82563) +\n                                          chunk_offset_82570, n_70233),\n                                   sext_i32_i64(local_tid_82563) +\n                                   chunk_offset_82570 -\n                                   (sext_i32_i64(squot32(local_tid_82563, 32) *\n                                    32 - 1) + chunk_offset_82570));\n                        \n                        if (inactive_82583) {\n                            x_82572 = x_82573;\n                        }\n                        if (!inactive_82583) {\n                            int64_t defunc_1_op_res_82574 = add64(x_82572,\n                                                                  x_82573);\n                            \n                            x_82572 = defunc_1_op_res_82574;\n                        }\n                    }\n                    // write final result\n                    {\n                        ((__local\n                          int64_t *) scan_arr_mem_82567)[sext_i32_i64(local_tid_82563)] =\n                            x_82572;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_82563, 32) == 0) {\n                    ((__local\n                      int64_t *) scan_arr_mem_82567)[sext_i32_i64(local_tid_82563)] =\n                        x_82573;\n                }\n            }\n  ",
                   "          barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_72644, m_70232) && slt64(gtid_72652, n_70233)) {\n                    ((__global int64_t *) mem_81323)[gtid_72644 * n_70233 +\n                                                     gtid_72652] = ((__local\n                                                                     int64_t *) scan_arr_mem_82567)[sext_i32_i64(local_tid_82563)];\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_82584 = slt64(srem64(chunk_offset_82570 +\n                                                          segscan_group_sizze_72664,\n                                                          n_70233),\n                                                   chunk_offset_82570 +\n                                                   segscan_group_sizze_72664 -\n                                                   (chunk_offset_82570 +\n                                                    segscan_group_sizze_72664 -\n                                                    (int64_t) 1));\n                bool should_load_carry_82585 = local_tid_82563 == 0 &&\n                     !crosses_segment_82584;\n                \n                if (should_load_carry_82585) {\n                    x_72668 = ((__local\n                                int64_t *) scan_arr_mem_82567)[segscan_group_sizze_72664 -\n                                                               (int64_t) 1];\n                }\n                if (!should_load_carry_82585) {\n                    x_72668 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_72664\n}\n__kernel void mainziscan_stage1_74336(__global int *global_failure,\n                               ",
                   "       __local volatile\n                                      int64_t *scan_arr_mem_82908_backing_aligned_0,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int32_t num_threads_82902, __global\n                                      unsigned char *Y_mem_81217, __global\n                                      unsigned char *mem_81557)\n{\n    #define segscan_group_sizze_74347 (mainzisegscan_group_sizze_74330)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_82908_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_82908_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82903;\n    int32_t local_tid_82904;\n    int64_t group_sizze_82907;\n    int32_t wave_sizze_82906;\n    int32_t group_tid_82905;\n    \n    global_tid_82903 = get_global_id(0);\n    local_tid_82904 = get_local_id(0);\n    group_sizze_82907 = get_local_size(0);\n    wave_sizze_82906 = LOCKSTEP_WIDTH;\n    group_tid_82905 = get_group_id(0);\n    \n    int32_t phys_tid_74336 = global_tid_82903;\n    __local unsigned char *scan_arr_mem_82908;\n    \n    scan_arr_mem_82908 = (__local unsigned char *) scan_arr_mem_82908_backing_0;\n    \n    int64_t x_74351;\n    int64_t x_74352;\n    \n    x_74351 = (int64_t) 0;\n    for (int64_t j_82910 = 0; j_82910 < sdiv_up64(m_70232 * n_70233,\n                                                  sext_i32_i64(num_threads_82902));\n         j_82910++) {\n        int64_t chunk_offset_82911 = segscan_group_sizze_74347 * j_82910 +\n                sext_i32_i64(group_tid_82905) * (segscan_group_sizze_74347 *\n                                                 sdiv_up64(m_70232 * n_70233,\n                                                           sext_i32_i64(num_threads_82902)));\n        int64_t flat_idx_82912 = chunk_offs",
                   "et_82911 +\n                sext_i32_i64(local_tid_82904);\n        int64_t gtid_74327 = squot64(flat_idx_82912, n_70233);\n        int64_t gtid_74335 = flat_idx_82912 - squot64(flat_idx_82912, n_70233) *\n                n_70233;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_74327, m_70232) && slt64(gtid_74335, n_70233)) {\n                float x_74355 = ((__global float *) Y_mem_81217)[gtid_74327 *\n                                                                 n_70233 +\n                                                                 gtid_74335];\n                bool isnan_res_74356;\n                \n                isnan_res_74356 = futrts_isnan32(x_74355);\n                \n                bool defunc_0_p_res_74357 = !isnan_res_74356;\n                int64_t defunc_0_f_res_74358 =\n                        btoi_bool_i64(defunc_0_p_res_74357);\n                \n                // write to-scan values to parameters\n                {\n                    x_74352 = defunc_0_f_res_74358;\n                }\n                // write mapped values results to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_74327, m_70232) && slt64(gtid_74335,\n                                                          n_70233))) {\n                    x_74352 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_74353 = add64(x_74351, x_74352);\n                \n                ((__local\n                  int64_t *) scan_arr_mem_82908)[sext_i32_i64(local_tid_82904)] =\n                    defunc_1_op_res_74353;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_82913;\n            int64_t x_82914;\n            int64_t x_82916;\n   ",
                   "         int64_t x_82917;\n            bool ltid_in_bounds_82919 = slt64(sext_i32_i64(local_tid_82904),\n                                              segscan_group_sizze_74347);\n            int32_t skip_threads_82920;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_82919) {\n                    x_82914 = ((volatile __local\n                                int64_t *) scan_arr_mem_82908)[sext_i32_i64(local_tid_82904)];\n                    if ((local_tid_82904 - squot32(local_tid_82904, 32) * 32) ==\n                        0) {\n                        x_82913 = x_82914;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_82920 = 1;\n                while (slt32(skip_threads_82920, 32)) {\n                    if (sle32(skip_threads_82920, local_tid_82904 -\n                              squot32(local_tid_82904, 32) * 32) &&\n                        ltid_in_bounds_82919) {\n                        // read operands\n                        {\n                            x_82913 = ((volatile __local\n                                        int64_t *) scan_arr_mem_82908)[sext_i32_i64(local_tid_82904) -\n                                                                       sext_i32_i64(skip_threads_82920)];\n                        }\n                        // perform operation\n                        {\n                            bool inactive_82921 =\n                                 slt64(srem64(sext_i32_i64(local_tid_82904) +\n                                              chunk_offset_82911, n_70233),\n                                       sext_i32_i64(local_tid_82904) +\n                                       chunk_offset_82911 -\n                                       (sext_i32_i64(local_tid_82904 -\n                                        skip_threads_82920) +\n                                        chunk_offset_82911));\n   ",
                   "                         \n                            if (inactive_82921) {\n                                x_82913 = x_82914;\n                            }\n                            if (!inactive_82921) {\n                                int64_t defunc_1_op_res_82915 = add64(x_82913,\n                                                                      x_82914);\n                                \n                                x_82913 = defunc_1_op_res_82915;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_82906, skip_threads_82920)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (sle32(skip_threads_82920, local_tid_82904 -\n                              squot32(local_tid_82904, 32) * 32) &&\n                        ltid_in_bounds_82919) {\n                        // write result\n                        {\n                            ((volatile __local\n                              int64_t *) scan_arr_mem_82908)[sext_i32_i64(local_tid_82904)] =\n                                x_82913;\n                            x_82914 = x_82913;\n                        }\n                    }\n                    if (sle32(wave_sizze_82906, skip_threads_82920)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_82920 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_82904 - squot32(local_tid_82904, 32) * 32) ==\n                    31 && ltid_in_bounds_82919) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_82908)[sext_i32_i64(squot32(local_tid_82904,\n                                                                          32))] =\n                        x_82913;\n                }\n            }\n            barrier(CLK_LOC",
                   "AL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_82922;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_82904, 32) == 0 &&\n                        ltid_in_bounds_82919) {\n                        x_82917 = ((volatile __local\n                                    int64_t *) scan_arr_mem_82908)[sext_i32_i64(local_tid_82904)];\n                        if ((local_tid_82904 - squot32(local_tid_82904, 32) *\n                             32) == 0) {\n                            x_82916 = x_82917;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_82922 = 1;\n                    while (slt32(skip_threads_82922, 32)) {\n                        if (sle32(skip_threads_82922, local_tid_82904 -\n                                  squot32(local_tid_82904, 32) * 32) &&\n                            (squot32(local_tid_82904, 32) == 0 &&\n                             ltid_in_bounds_82919)) {\n                            // read operands\n                            {\n                                x_82916 = ((volatile __local\n                                            int64_t *) scan_arr_mem_82908)[sext_i32_i64(local_tid_82904) -\n                                                                           sext_i32_i64(skip_threads_82922)];\n                            }\n                            // perform operation\n                            {\n                                bool inactive_82923 =\n                                     slt64(srem64(sext_i32_i64(local_tid_82904 *\n                                                  32 + 32 - 1) +\n                                                  chunk_offset_82911, n_70233),\n                                           sext_i32_i64(local_tid",
                   "_82904 * 32 +\n                                           32 - 1) + chunk_offset_82911 -\n                                           (sext_i32_i64((local_tid_82904 -\n                                                          skip_threads_82922) *\n                                            32 + 32 - 1) + chunk_offset_82911));\n                                \n                                if (inactive_82923) {\n                                    x_82916 = x_82917;\n                                }\n                                if (!inactive_82923) {\n                                    int64_t defunc_1_op_res_82918 =\n                                            add64(x_82916, x_82917);\n                                    \n                                    x_82916 = defunc_1_op_res_82918;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_82906, skip_threads_82922)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (sle32(skip_threads_82922, local_tid_82904 -\n                                  squot32(local_tid_82904, 32) * 32) &&\n                            (squot32(local_tid_82904, 32) == 0 &&\n                             ltid_in_bounds_82919)) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem_82908)[sext_i32_i64(local_tid_82904)] =\n                                    x_82916;\n                                x_82917 = x_82916;\n                            }\n                        }\n                        if (sle32(wave_sizze_82906, skip_threads_82922)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_82922 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n         ",
                   "   // carry-in for every block except the first\n            {\n                if (!(squot32(local_tid_82904, 32) == 0 ||\n                      !ltid_in_bounds_82919)) {\n                    // read operands\n                    {\n                        x_82914 = x_82913;\n                        x_82913 = ((__local\n                                    int64_t *) scan_arr_mem_82908)[sext_i32_i64(squot32(local_tid_82904,\n                                                                                        32)) -\n                                                                   (int64_t) 1];\n                    }\n                    // perform operation\n                    {\n                        bool inactive_82924 =\n                             slt64(srem64(sext_i32_i64(local_tid_82904) +\n                                          chunk_offset_82911, n_70233),\n                                   sext_i32_i64(local_tid_82904) +\n                                   chunk_offset_82911 -\n                                   (sext_i32_i64(squot32(local_tid_82904, 32) *\n                                    32 - 1) + chunk_offset_82911));\n                        \n                        if (inactive_82924) {\n                            x_82913 = x_82914;\n                        }\n                        if (!inactive_82924) {\n                            int64_t defunc_1_op_res_82915 = add64(x_82913,\n                                                                  x_82914);\n                            \n                            x_82913 = defunc_1_op_res_82915;\n                        }\n                    }\n                    // write final result\n                    {\n                        ((__local\n                          int64_t *) scan_arr_mem_82908)[sext_i32_i64(local_tid_82904)] =\n                            x_82913;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n ",
                   "           {\n                if (squot32(local_tid_82904, 32) == 0) {\n                    ((__local\n                      int64_t *) scan_arr_mem_82908)[sext_i32_i64(local_tid_82904)] =\n                        x_82914;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_74327, m_70232) && slt64(gtid_74335, n_70233)) {\n                    ((__global int64_t *) mem_81557)[gtid_74327 * n_70233 +\n                                                     gtid_74335] = ((__local\n                                                                     int64_t *) scan_arr_mem_82908)[sext_i32_i64(local_tid_82904)];\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_82925 = slt64(srem64(chunk_offset_82911 +\n                                                          segscan_group_sizze_74347,\n                                                          n_70233),\n                                                   chunk_offset_82911 +\n                                                   segscan_group_sizze_74347 -\n                                                   (chunk_offset_82911 +\n                                                    segscan_group_sizze_74347 -\n                                                    (int64_t) 1));\n                bool should_load_carry_82926 = local_tid_82904 == 0 &&\n                     !crosses_segment_82925;\n                \n                if (should_load_carry_82926) {\n                    x_74351 = ((__local\n                                int64_t *) scan_arr_mem_82908)[segscan_group_sizze_74347 -\n                                                               (int64_t) 1];\n                }\n                if (!should_load_carry_82926) {\n                    x_74351 = (int64_t) 0;\n   ",
                   "             }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_74347\n}\n__kernel void mainziscan_stage1_76267(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_83291_backing_aligned_0,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int32_t num_threads_83285, __global\n                                      unsigned char *Y_mem_81217, __global\n                                      unsigned char *mem_81849)\n{\n    #define segscan_group_sizze_76278 (mainzisegscan_group_sizze_76261)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_83291_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_83291_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83286;\n    int32_t local_tid_83287;\n    int64_t group_sizze_83290;\n    int32_t wave_sizze_83289;\n    int32_t group_tid_83288;\n    \n    global_tid_83286 = get_global_id(0);\n    local_tid_83287 = get_local_id(0);\n    group_sizze_83290 = get_local_size(0);\n    wave_sizze_83289 = LOCKSTEP_WIDTH;\n    group_tid_83288 = get_group_id(0);\n    \n    int32_t phys_tid_76267 = global_tid_83286;\n    __local unsigned char *scan_arr_mem_83291;\n    \n    scan_arr_mem_83291 = (__local unsigned char *) scan_arr_mem_83291_backing_0;\n    \n    int64_t x_76282;\n    int64_t x_76283;\n    \n    x_76282 = (int64_t) 0;\n    for (int64_t j_83293 = 0; j_83293 < sdiv_up64(m_70232 * n_70233,\n                                                  sext_i32_i64(num_threads_83285));\n         j_83293++) {\n        int64_t chunk_offset_83294 = segscan_group_sizze_76278 * j_83293 +\n                sext_i32_i64(group_tid_",
                   "83288) * (segscan_group_sizze_76278 *\n                                                 sdiv_up64(m_70232 * n_70233,\n                                                           sext_i32_i64(num_threads_83285)));\n        int64_t flat_idx_83295 = chunk_offset_83294 +\n                sext_i32_i64(local_tid_83287);\n        int64_t gtid_76258 = squot64(flat_idx_83295, n_70233);\n        int64_t gtid_76266 = flat_idx_83295 - squot64(flat_idx_83295, n_70233) *\n                n_70233;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_76258, m_70232) && slt64(gtid_76266, n_70233)) {\n                float x_76286 = ((__global float *) Y_mem_81217)[gtid_76258 *\n                                                                 n_70233 +\n                                                                 gtid_76266];\n                bool isnan_res_76287;\n                \n                isnan_res_76287 = futrts_isnan32(x_76286);\n                \n                bool defunc_0_p_res_76288 = !isnan_res_76287;\n                int64_t defunc_0_f_res_76289 =\n                        btoi_bool_i64(defunc_0_p_res_76288);\n                \n                // write to-scan values to parameters\n                {\n                    x_76283 = defunc_0_f_res_76289;\n                }\n                // write mapped values results to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_76258, m_70232) && slt64(gtid_76266,\n                                                          n_70233))) {\n                    x_76283 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_76284 = add64(x_76282, x_76283);\n                \n                ((__local\n                  int64_t *) sc",
                   "an_arr_mem_83291)[sext_i32_i64(local_tid_83287)] =\n                    defunc_1_op_res_76284;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_83296;\n            int64_t x_83297;\n            int64_t x_83299;\n            int64_t x_83300;\n            bool ltid_in_bounds_83302 = slt64(sext_i32_i64(local_tid_83287),\n                                              segscan_group_sizze_76278);\n            int32_t skip_threads_83303;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_83302) {\n                    x_83297 = ((volatile __local\n                                int64_t *) scan_arr_mem_83291)[sext_i32_i64(local_tid_83287)];\n                    if ((local_tid_83287 - squot32(local_tid_83287, 32) * 32) ==\n                        0) {\n                        x_83296 = x_83297;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_83303 = 1;\n                while (slt32(skip_threads_83303, 32)) {\n                    if (sle32(skip_threads_83303, local_tid_83287 -\n                              squot32(local_tid_83287, 32) * 32) &&\n                        ltid_in_bounds_83302) {\n                        // read operands\n                        {\n                            x_83296 = ((volatile __local\n                                        int64_t *) scan_arr_mem_83291)[sext_i32_i64(local_tid_83287) -\n                                                                       sext_i32_i64(skip_threads_83303)];\n                        }\n                        // perform operation\n                        {\n                            bool inactive_83304 =\n                                 slt64(srem64(sext_i32_i64(local_tid_83287) +\n                                              chunk_offset_83294, n_70233),\n                                       sext_i32_i64(local_tid_83287) +\n     ",
                   "                                  chunk_offset_83294 -\n                                       (sext_i32_i64(local_tid_83287 -\n                                        skip_threads_83303) +\n                                        chunk_offset_83294));\n                            \n                            if (inactive_83304) {\n                                x_83296 = x_83297;\n                            }\n                            if (!inactive_83304) {\n                                int64_t defunc_1_op_res_83298 = add64(x_83296,\n                                                                      x_83297);\n                                \n                                x_83296 = defunc_1_op_res_83298;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_83289, skip_threads_83303)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (sle32(skip_threads_83303, local_tid_83287 -\n                              squot32(local_tid_83287, 32) * 32) &&\n                        ltid_in_bounds_83302) {\n                        // write result\n                        {\n                            ((volatile __local\n                              int64_t *) scan_arr_mem_83291)[sext_i32_i64(local_tid_83287)] =\n                                x_83296;\n                            x_83297 = x_83296;\n                        }\n                    }\n                    if (sle32(wave_sizze_83289, skip_threads_83303)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_83303 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_83287 - squot32(local_tid_83287, 32) * 32) ==\n                    31 && ltid_in_bounds_83302) {\n                    ((volatile __local\n            ",
                   "          int64_t *) scan_arr_mem_83291)[sext_i32_i64(squot32(local_tid_83287,\n                                                                          32))] =\n                        x_83296;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_83305;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_83287, 32) == 0 &&\n                        ltid_in_bounds_83302) {\n                        x_83300 = ((volatile __local\n                                    int64_t *) scan_arr_mem_83291)[sext_i32_i64(local_tid_83287)];\n                        if ((local_tid_83287 - squot32(local_tid_83287, 32) *\n                             32) == 0) {\n                            x_83299 = x_83300;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_83305 = 1;\n                    while (slt32(skip_threads_83305, 32)) {\n                        if (sle32(skip_threads_83305, local_tid_83287 -\n                                  squot32(local_tid_83287, 32) * 32) &&\n                            (squot32(local_tid_83287, 32) == 0 &&\n                             ltid_in_bounds_83302)) {\n                            // read operands\n                            {\n                                x_83299 = ((volatile __local\n                                            int64_t *) scan_arr_mem_83291)[sext_i32_i64(local_tid_83287) -\n                                                                           sext_i32_i64(skip_threads_83305)];\n                            }\n                            // perform operation\n                            {\n                                bool inactive_83306 =\n                                     s",
                   "lt64(srem64(sext_i32_i64(local_tid_83287 *\n                                                  32 + 32 - 1) +\n                                                  chunk_offset_83294, n_70233),\n                                           sext_i32_i64(local_tid_83287 * 32 +\n                                           32 - 1) + chunk_offset_83294 -\n                                           (sext_i32_i64((local_tid_83287 -\n                                                          skip_threads_83305) *\n                                            32 + 32 - 1) + chunk_offset_83294));\n                                \n                                if (inactive_83306) {\n                                    x_83299 = x_83300;\n                                }\n                                if (!inactive_83306) {\n                                    int64_t defunc_1_op_res_83301 =\n                                            add64(x_83299, x_83300);\n                                    \n                                    x_83299 = defunc_1_op_res_83301;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_83289, skip_threads_83305)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (sle32(skip_threads_83305, local_tid_83287 -\n                                  squot32(local_tid_83287, 32) * 32) &&\n                            (squot32(local_tid_83287, 32) == 0 &&\n                             ltid_in_bounds_83302)) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem_83291)[sext_i32_i64(local_tid_83287)] =\n                                    x_83299;\n                                x_83300 = x_83299;\n                            }\n                        }\n                        if (sle32(wave_sizze_83289, skip_thr",
                   "eads_83305)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_83305 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // carry-in for every block except the first\n            {\n                if (!(squot32(local_tid_83287, 32) == 0 ||\n                      !ltid_in_bounds_83302)) {\n                    // read operands\n                    {\n                        x_83297 = x_83296;\n                        x_83296 = ((__local\n                                    int64_t *) scan_arr_mem_83291)[sext_i32_i64(squot32(local_tid_83287,\n                                                                                        32)) -\n                                                                   (int64_t) 1];\n                    }\n                    // perform operation\n                    {\n                        bool inactive_83307 =\n                             slt64(srem64(sext_i32_i64(local_tid_83287) +\n                                          chunk_offset_83294, n_70233),\n                                   sext_i32_i64(local_tid_83287) +\n                                   chunk_offset_83294 -\n                                   (sext_i32_i64(squot32(local_tid_83287, 32) *\n                                    32 - 1) + chunk_offset_83294));\n                        \n                        if (inactive_83307) {\n                            x_83296 = x_83297;\n                        }\n                        if (!inactive_83307) {\n                            int64_t defunc_1_op_res_83298 = add64(x_83296,\n                                                                  x_83297);\n                            \n                            x_83296 = defunc_1_op_res_83298;\n                        }\n                    }\n                    // write final result\n                    {\n                        ((__local\n                         ",
                   " int64_t *) scan_arr_mem_83291)[sext_i32_i64(local_tid_83287)] =\n                            x_83296;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_83287, 32) == 0) {\n                    ((__local\n                      int64_t *) scan_arr_mem_83291)[sext_i32_i64(local_tid_83287)] =\n                        x_83297;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_76258, m_70232) && slt64(gtid_76266, n_70233)) {\n                    ((__global int64_t *) mem_81849)[gtid_76258 * n_70233 +\n                                                     gtid_76266] = ((__local\n                                                                     int64_t *) scan_arr_mem_83291)[sext_i32_i64(local_tid_83287)];\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_83308 = slt64(srem64(chunk_offset_83294 +\n                                                          segscan_group_sizze_76278,\n                                                          n_70233),\n                                                   chunk_offset_83294 +\n                                                   segscan_group_sizze_76278 -\n                                                   (chunk_offset_83294 +\n                                                    segscan_group_sizze_76278 -\n                                                    (int64_t) 1));\n                bool should_load_carry_83309 = local_tid_83287 == 0 &&\n                     !crosses_segment_83308;\n                \n                if (should_load_carry_83309) {\n                    x_76282 = ((__local\n                           ",
                   "     int64_t *) scan_arr_mem_83291)[segscan_group_sizze_76278 -\n                                                               (int64_t) 1];\n                }\n                if (!should_load_carry_83309) {\n                    x_76282 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_76278\n}\n__kernel void mainziscan_stage1_77172(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_83669_backing_aligned_0,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int32_t num_threads_83663, __global\n                                      unsigned char *Y_mem_81217, __global\n                                      unsigned char *mem_82074)\n{\n    #define segscan_group_sizze_77183 (mainzisegscan_group_sizze_77166)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_83669_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_83669_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83664;\n    int32_t local_tid_83665;\n    int64_t group_sizze_83668;\n    int32_t wave_sizze_83667;\n    int32_t group_tid_83666;\n    \n    global_tid_83664 = get_global_id(0);\n    local_tid_83665 = get_local_id(0);\n    group_sizze_83668 = get_local_size(0);\n    wave_sizze_83667 = LOCKSTEP_WIDTH;\n    group_tid_83666 = get_group_id(0);\n    \n    int32_t phys_tid_77172 = global_tid_83664;\n    __local unsigned char *scan_arr_mem_83669;\n    \n    scan_arr_mem_83669 = (__local unsigned char *) scan_arr_mem_83669_backing_0;\n    \n    int64_t x_77187;\n    int64_t x_77188;\n    \n    x_77187 = (int64_t) 0;\n    for (int64_t j_83671 = 0; j_8367",
                   "1 < sdiv_up64(m_70232 * n_70233,\n                                                  sext_i32_i64(num_threads_83663));\n         j_83671++) {\n        int64_t chunk_offset_83672 = segscan_group_sizze_77183 * j_83671 +\n                sext_i32_i64(group_tid_83666) * (segscan_group_sizze_77183 *\n                                                 sdiv_up64(m_70232 * n_70233,\n                                                           sext_i32_i64(num_threads_83663)));\n        int64_t flat_idx_83673 = chunk_offset_83672 +\n                sext_i32_i64(local_tid_83665);\n        int64_t gtid_77163 = squot64(flat_idx_83673, n_70233);\n        int64_t gtid_77171 = flat_idx_83673 - squot64(flat_idx_83673, n_70233) *\n                n_70233;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_77163, m_70232) && slt64(gtid_77171, n_70233)) {\n                float x_77191 = ((__global float *) Y_mem_81217)[gtid_77163 *\n                                                                 n_70233 +\n                                                                 gtid_77171];\n                bool isnan_res_77192;\n                \n                isnan_res_77192 = futrts_isnan32(x_77191);\n                \n                bool defunc_0_p_res_77193 = !isnan_res_77192;\n                int64_t defunc_0_f_res_77194 =\n                        btoi_bool_i64(defunc_0_p_res_77193);\n                \n                // write to-scan values to parameters\n                {\n                    x_77188 = defunc_0_f_res_77194;\n                }\n                // write mapped values results to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_77163, m_70232) && slt64(gtid_77171,\n                                                          n_70233))) {\n                    x_77188 = (int64_t) 0;\n",
                   "                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_77189 = add64(x_77187, x_77188);\n                \n                ((__local\n                  int64_t *) scan_arr_mem_83669)[sext_i32_i64(local_tid_83665)] =\n                    defunc_1_op_res_77189;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_83674;\n            int64_t x_83675;\n            int64_t x_83677;\n            int64_t x_83678;\n            bool ltid_in_bounds_83680 = slt64(sext_i32_i64(local_tid_83665),\n                                              segscan_group_sizze_77183);\n            int32_t skip_threads_83681;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_83680) {\n                    x_83675 = ((volatile __local\n                                int64_t *) scan_arr_mem_83669)[sext_i32_i64(local_tid_83665)];\n                    if ((local_tid_83665 - squot32(local_tid_83665, 32) * 32) ==\n                        0) {\n                        x_83674 = x_83675;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_83681 = 1;\n                while (slt32(skip_threads_83681, 32)) {\n                    if (sle32(skip_threads_83681, local_tid_83665 -\n                              squot32(local_tid_83665, 32) * 32) &&\n                        ltid_in_bounds_83680) {\n                        // read operands\n                        {\n                            x_83674 = ((volatile __local\n                                        int64_t *) scan_arr_mem_83669)[sext_i32_i64(local_tid_83665) -\n                                                                       sext_i32_i64(skip_threads_83681)];\n                        }\n                        // perform operation\n                        {\n                           ",
                   " bool inactive_83682 =\n                                 slt64(srem64(sext_i32_i64(local_tid_83665) +\n                                              chunk_offset_83672, n_70233),\n                                       sext_i32_i64(local_tid_83665) +\n                                       chunk_offset_83672 -\n                                       (sext_i32_i64(local_tid_83665 -\n                                        skip_threads_83681) +\n                                        chunk_offset_83672));\n                            \n                            if (inactive_83682) {\n                                x_83674 = x_83675;\n                            }\n                            if (!inactive_83682) {\n                                int64_t defunc_1_op_res_83676 = add64(x_83674,\n                                                                      x_83675);\n                                \n                                x_83674 = defunc_1_op_res_83676;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_83667, skip_threads_83681)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (sle32(skip_threads_83681, local_tid_83665 -\n                              squot32(local_tid_83665, 32) * 32) &&\n                        ltid_in_bounds_83680) {\n                        // write result\n                        {\n                            ((volatile __local\n                              int64_t *) scan_arr_mem_83669)[sext_i32_i64(local_tid_83665)] =\n                                x_83674;\n                            x_83675 = x_83674;\n                        }\n                    }\n                    if (sle32(wave_sizze_83667, skip_threads_83681)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_83681 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n           ",
                   " // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_83665 - squot32(local_tid_83665, 32) * 32) ==\n                    31 && ltid_in_bounds_83680) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_83669)[sext_i32_i64(squot32(local_tid_83665,\n                                                                          32))] =\n                        x_83674;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_83683;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_83665, 32) == 0 &&\n                        ltid_in_bounds_83680) {\n                        x_83678 = ((volatile __local\n                                    int64_t *) scan_arr_mem_83669)[sext_i32_i64(local_tid_83665)];\n                        if ((local_tid_83665 - squot32(local_tid_83665, 32) *\n                             32) == 0) {\n                            x_83677 = x_83678;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_83683 = 1;\n                    while (slt32(skip_threads_83683, 32)) {\n                        if (sle32(skip_threads_83683, local_tid_83665 -\n                                  squot32(local_tid_83665, 32) * 32) &&\n                            (squot32(local_tid_83665, 32) == 0 &&\n                             ltid_in_bounds_83680)) {\n                            // read operands\n                            {\n                                x_83677 = ((volatile __local\n                                            int64_t *) scan_arr_mem_83669)[sext_i32_i64(local_tid_83665) -\n                                                          ",
                   "                 sext_i32_i64(skip_threads_83683)];\n                            }\n                            // perform operation\n                            {\n                                bool inactive_83684 =\n                                     slt64(srem64(sext_i32_i64(local_tid_83665 *\n                                                  32 + 32 - 1) +\n                                                  chunk_offset_83672, n_70233),\n                                           sext_i32_i64(local_tid_83665 * 32 +\n                                           32 - 1) + chunk_offset_83672 -\n                                           (sext_i32_i64((local_tid_83665 -\n                                                          skip_threads_83683) *\n                                            32 + 32 - 1) + chunk_offset_83672));\n                                \n                                if (inactive_83684) {\n                                    x_83677 = x_83678;\n                                }\n                                if (!inactive_83684) {\n                                    int64_t defunc_1_op_res_83679 =\n                                            add64(x_83677, x_83678);\n                                    \n                                    x_83677 = defunc_1_op_res_83679;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_83667, skip_threads_83683)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (sle32(skip_threads_83683, local_tid_83665 -\n                                  squot32(local_tid_83665, 32) * 32) &&\n                            (squot32(local_tid_83665, 32) == 0 &&\n                             ltid_in_bounds_83680)) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem",
                   "_83669)[sext_i32_i64(local_tid_83665)] =\n                                    x_83677;\n                                x_83678 = x_83677;\n                            }\n                        }\n                        if (sle32(wave_sizze_83667, skip_threads_83683)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_83683 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // carry-in for every block except the first\n            {\n                if (!(squot32(local_tid_83665, 32) == 0 ||\n                      !ltid_in_bounds_83680)) {\n                    // read operands\n                    {\n                        x_83675 = x_83674;\n                        x_83674 = ((__local\n                                    int64_t *) scan_arr_mem_83669)[sext_i32_i64(squot32(local_tid_83665,\n                                                                                        32)) -\n                                                                   (int64_t) 1];\n                    }\n                    // perform operation\n                    {\n                        bool inactive_83685 =\n                             slt64(srem64(sext_i32_i64(local_tid_83665) +\n                                          chunk_offset_83672, n_70233),\n                                   sext_i32_i64(local_tid_83665) +\n                                   chunk_offset_83672 -\n                                   (sext_i32_i64(squot32(local_tid_83665, 32) *\n                                    32 - 1) + chunk_offset_83672));\n                        \n                        if (inactive_83685) {\n                            x_83674 = x_83675;\n                        }\n                        if (!inactive_83685) {\n                            int64_t defunc_1_op_res_83676 = add64(x_83674,\n                                                                  x_83675);\n        ",
                   "                    \n                            x_83674 = defunc_1_op_res_83676;\n                        }\n                    }\n                    // write final result\n                    {\n                        ((__local\n                          int64_t *) scan_arr_mem_83669)[sext_i32_i64(local_tid_83665)] =\n                            x_83674;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_83665, 32) == 0) {\n                    ((__local\n                      int64_t *) scan_arr_mem_83669)[sext_i32_i64(local_tid_83665)] =\n                        x_83675;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_77163, m_70232) && slt64(gtid_77171, n_70233)) {\n                    ((__global int64_t *) mem_82074)[gtid_77163 * n_70233 +\n                                                     gtid_77171] = ((__local\n                                                                     int64_t *) scan_arr_mem_83669)[sext_i32_i64(local_tid_83665)];\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_83686 = slt64(srem64(chunk_offset_83672 +\n                                                          segscan_group_sizze_77183,\n                                                          n_70233),\n                                                   chunk_offset_83672 +\n                                                   segscan_group_sizze_77183 -\n                                                   (chunk_offset_83672 +\n                                                    segscan_group_sizze_77183 -\n                                                    (int64_t)",
                   " 1));\n                bool should_load_carry_83687 = local_tid_83665 == 0 &&\n                     !crosses_segment_83686;\n                \n                if (should_load_carry_83687) {\n                    x_77187 = ((__local\n                                int64_t *) scan_arr_mem_83669)[segscan_group_sizze_77183 -\n                                                               (int64_t) 1];\n                }\n                if (!should_load_carry_83687) {\n                    x_77187 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_77183\n}\n__kernel void mainziscan_stage1_77769(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_83791_backing_aligned_0,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int32_t num_threads_83785, __global\n                                      unsigned char *Y_mem_81217, __global\n                                      unsigned char *mem_82121)\n{\n    #define segscan_group_sizze_77780 (mainzisegscan_group_sizze_77763)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_83791_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_83791_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83786;\n    int32_t local_tid_83787;\n    int64_t group_sizze_83790;\n    int32_t wave_sizze_83789;\n    int32_t group_tid_83788;\n    \n    global_tid_83786 = get_global_id(0);\n    local_tid_83787 = get_local_id(0);\n    group_sizze_83790 = get_local_size(0);\n    wave_sizze_83789 = LOCKSTEP_WIDTH;\n    group_tid_83788 = get_group_id(0);\n    \n    int32_t phys_tid_77769 = global_tid_83",
                   "786;\n    __local unsigned char *scan_arr_mem_83791;\n    \n    scan_arr_mem_83791 = (__local unsigned char *) scan_arr_mem_83791_backing_0;\n    \n    int64_t x_77784;\n    int64_t x_77785;\n    \n    x_77784 = (int64_t) 0;\n    for (int64_t j_83793 = 0; j_83793 < sdiv_up64(m_70232 * n_70233,\n                                                  sext_i32_i64(num_threads_83785));\n         j_83793++) {\n        int64_t chunk_offset_83794 = segscan_group_sizze_77780 * j_83793 +\n                sext_i32_i64(group_tid_83788) * (segscan_group_sizze_77780 *\n                                                 sdiv_up64(m_70232 * n_70233,\n                                                           sext_i32_i64(num_threads_83785)));\n        int64_t flat_idx_83795 = chunk_offset_83794 +\n                sext_i32_i64(local_tid_83787);\n        int64_t gtid_77760 = squot64(flat_idx_83795, n_70233);\n        int64_t gtid_77768 = flat_idx_83795 - squot64(flat_idx_83795, n_70233) *\n                n_70233;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_77760, m_70232) && slt64(gtid_77768, n_70233)) {\n                float x_77788 = ((__global float *) Y_mem_81217)[gtid_77760 *\n                                                                 n_70233 +\n                                                                 gtid_77768];\n                bool isnan_res_77789;\n                \n                isnan_res_77789 = futrts_isnan32(x_77788);\n                \n                bool defunc_0_p_res_77790 = !isnan_res_77789;\n                int64_t defunc_0_f_res_77791 =\n                        btoi_bool_i64(defunc_0_p_res_77790);\n                \n                // write to-scan values to parameters\n                {\n                    x_77785 = defunc_0_f_res_77791;\n                }\n                // write mapped values results to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe rest",
                   "ore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_77760, m_70232) && slt64(gtid_77768,\n                                                          n_70233))) {\n                    x_77785 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_77786 = add64(x_77784, x_77785);\n                \n                ((__local\n                  int64_t *) scan_arr_mem_83791)[sext_i32_i64(local_tid_83787)] =\n                    defunc_1_op_res_77786;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_83796;\n            int64_t x_83797;\n            int64_t x_83799;\n            int64_t x_83800;\n            bool ltid_in_bounds_83802 = slt64(sext_i32_i64(local_tid_83787),\n                                              segscan_group_sizze_77780);\n            int32_t skip_threads_83803;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_83802) {\n                    x_83797 = ((volatile __local\n                                int64_t *) scan_arr_mem_83791)[sext_i32_i64(local_tid_83787)];\n                    if ((local_tid_83787 - squot32(local_tid_83787, 32) * 32) ==\n                        0) {\n                        x_83796 = x_83797;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_83803 = 1;\n                while (slt32(skip_threads_83803, 32)) {\n                    if (sle32(skip_threads_83803, local_tid_83787 -\n                              squot32(local_tid_83787, 32) * 32) &&\n                        ltid_in_bounds_83802) {\n                        // read operands\n                        {\n                            x_83796 = ((volatile __local\n                                        int64_t *) scan_arr_mem_83791)[sext_i32_",
                   "i64(local_tid_83787) -\n                                                                       sext_i32_i64(skip_threads_83803)];\n                        }\n                        // perform operation\n                        {\n                            bool inactive_83804 =\n                                 slt64(srem64(sext_i32_i64(local_tid_83787) +\n                                              chunk_offset_83794, n_70233),\n                                       sext_i32_i64(local_tid_83787) +\n                                       chunk_offset_83794 -\n                                       (sext_i32_i64(local_tid_83787 -\n                                        skip_threads_83803) +\n                                        chunk_offset_83794));\n                            \n                            if (inactive_83804) {\n                                x_83796 = x_83797;\n                            }\n                            if (!inactive_83804) {\n                                int64_t defunc_1_op_res_83798 = add64(x_83796,\n                                                                      x_83797);\n                                \n                                x_83796 = defunc_1_op_res_83798;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_83789, skip_threads_83803)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (sle32(skip_threads_83803, local_tid_83787 -\n                              squot32(local_tid_83787, 32) * 32) &&\n                        ltid_in_bounds_83802) {\n                        // write result\n                        {\n                            ((volatile __local\n                              int64_t *) scan_arr_mem_83791)[sext_i32_i64(local_tid_83787)] =\n                                x_83796;\n                            x_83797 = x_83796;\n                        }\n                    }\n                    if (",
                   "sle32(wave_sizze_83789, skip_threads_83803)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_83803 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_83787 - squot32(local_tid_83787, 32) * 32) ==\n                    31 && ltid_in_bounds_83802) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_83791)[sext_i32_i64(squot32(local_tid_83787,\n                                                                          32))] =\n                        x_83796;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_83805;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_83787, 32) == 0 &&\n                        ltid_in_bounds_83802) {\n                        x_83800 = ((volatile __local\n                                    int64_t *) scan_arr_mem_83791)[sext_i32_i64(local_tid_83787)];\n                        if ((local_tid_83787 - squot32(local_tid_83787, 32) *\n                             32) == 0) {\n                            x_83799 = x_83800;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_83805 = 1;\n                    while (slt32(skip_threads_83805, 32)) {\n                        if (sle32(skip_threads_83805, local_tid_83787 -\n                                  squot32(local_tid_83787, 32) * 32) &&\n                            (squot32(local_tid_83787, 32) == 0 &&\n                             ltid_in_bounds_83802)) {\n                            // read operands\n   ",
                   "                         {\n                                x_83799 = ((volatile __local\n                                            int64_t *) scan_arr_mem_83791)[sext_i32_i64(local_tid_83787) -\n                                                                           sext_i32_i64(skip_threads_83805)];\n                            }\n                            // perform operation\n                            {\n                                bool inactive_83806 =\n                                     slt64(srem64(sext_i32_i64(local_tid_83787 *\n                                                  32 + 32 - 1) +\n                                                  chunk_offset_83794, n_70233),\n                                           sext_i32_i64(local_tid_83787 * 32 +\n                                           32 - 1) + chunk_offset_83794 -\n                                           (sext_i32_i64((local_tid_83787 -\n                                                          skip_threads_83805) *\n                                            32 + 32 - 1) + chunk_offset_83794));\n                                \n                                if (inactive_83806) {\n                                    x_83799 = x_83800;\n                                }\n                                if (!inactive_83806) {\n                                    int64_t defunc_1_op_res_83801 =\n                                            add64(x_83799, x_83800);\n                                    \n                                    x_83799 = defunc_1_op_res_83801;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_83789, skip_threads_83805)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (sle32(skip_threads_83805, local_tid_83787 -\n                                  squot32(local_tid_83787, 32) * 32) &&\n                            (squot32(local_tid_83",
                   "787, 32) == 0 &&\n                             ltid_in_bounds_83802)) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem_83791)[sext_i32_i64(local_tid_83787)] =\n                                    x_83799;\n                                x_83800 = x_83799;\n                            }\n                        }\n                        if (sle32(wave_sizze_83789, skip_threads_83805)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_83805 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // carry-in for every block except the first\n            {\n                if (!(squot32(local_tid_83787, 32) == 0 ||\n                      !ltid_in_bounds_83802)) {\n                    // read operands\n                    {\n                        x_83797 = x_83796;\n                        x_83796 = ((__local\n                                    int64_t *) scan_arr_mem_83791)[sext_i32_i64(squot32(local_tid_83787,\n                                                                                        32)) -\n                                                                   (int64_t) 1];\n                    }\n                    // perform operation\n                    {\n                        bool inactive_83807 =\n                             slt64(srem64(sext_i32_i64(local_tid_83787) +\n                                          chunk_offset_83794, n_70233),\n                                   sext_i32_i64(local_tid_83787) +\n                                   chunk_offset_83794 -\n                                   (sext_i32_i64(squot32(local_tid_83787, 32) *\n                                    32 - 1) + chunk_offset_83794));\n                        \n                        if (inactive_83807) {\n                          ",
                   "  x_83796 = x_83797;\n                        }\n                        if (!inactive_83807) {\n                            int64_t defunc_1_op_res_83798 = add64(x_83796,\n                                                                  x_83797);\n                            \n                            x_83796 = defunc_1_op_res_83798;\n                        }\n                    }\n                    // write final result\n                    {\n                        ((__local\n                          int64_t *) scan_arr_mem_83791)[sext_i32_i64(local_tid_83787)] =\n                            x_83796;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_83787, 32) == 0) {\n                    ((__local\n                      int64_t *) scan_arr_mem_83791)[sext_i32_i64(local_tid_83787)] =\n                        x_83797;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_77760, m_70232) && slt64(gtid_77768, n_70233)) {\n                    ((__global int64_t *) mem_82121)[gtid_77760 * n_70233 +\n                                                     gtid_77768] = ((__local\n                                                                     int64_t *) scan_arr_mem_83791)[sext_i32_i64(local_tid_83787)];\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_83808 = slt64(srem64(chunk_offset_83794 +\n                                                          segscan_group_sizze_77780,\n                                                          n_70233),\n                                                   chunk_offset_83794 +\n                                        ",
                   "           segscan_group_sizze_77780 -\n                                                   (chunk_offset_83794 +\n                                                    segscan_group_sizze_77780 -\n                                                    (int64_t) 1));\n                bool should_load_carry_83809 = local_tid_83787 == 0 &&\n                     !crosses_segment_83808;\n                \n                if (should_load_carry_83809) {\n                    x_77784 = ((__local\n                                int64_t *) scan_arr_mem_83791)[segscan_group_sizze_77780 -\n                                                               (int64_t) 1];\n                }\n                if (!should_load_carry_83809) {\n                    x_77784 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_77780\n}\n__kernel void mainziscan_stage1_78452(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_83919_backing_aligned_0,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int32_t num_threads_83913, __global\n                                      unsigned char *Y_mem_81217, __global\n                                      unsigned char *mem_82175)\n{\n    #define segscan_group_sizze_78463 (mainzisegscan_group_sizze_78446)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_83919_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_83919_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83914;\n    int32_t local_tid_83915;\n    int64_t group_sizze_83918;\n    int32_t wave_sizze_83917;\n    int32_t group_tid_83916;\n",
                   "    \n    global_tid_83914 = get_global_id(0);\n    local_tid_83915 = get_local_id(0);\n    group_sizze_83918 = get_local_size(0);\n    wave_sizze_83917 = LOCKSTEP_WIDTH;\n    group_tid_83916 = get_group_id(0);\n    \n    int32_t phys_tid_78452 = global_tid_83914;\n    __local unsigned char *scan_arr_mem_83919;\n    \n    scan_arr_mem_83919 = (__local unsigned char *) scan_arr_mem_83919_backing_0;\n    \n    int64_t x_78467;\n    int64_t x_78468;\n    \n    x_78467 = (int64_t) 0;\n    for (int64_t j_83921 = 0; j_83921 < sdiv_up64(m_70232 * n_70233,\n                                                  sext_i32_i64(num_threads_83913));\n         j_83921++) {\n        int64_t chunk_offset_83922 = segscan_group_sizze_78463 * j_83921 +\n                sext_i32_i64(group_tid_83916) * (segscan_group_sizze_78463 *\n                                                 sdiv_up64(m_70232 * n_70233,\n                                                           sext_i32_i64(num_threads_83913)));\n        int64_t flat_idx_83923 = chunk_offset_83922 +\n                sext_i32_i64(local_tid_83915);\n        int64_t gtid_78443 = squot64(flat_idx_83923, n_70233);\n        int64_t gtid_78451 = flat_idx_83923 - squot64(flat_idx_83923, n_70233) *\n                n_70233;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_78443, m_70232) && slt64(gtid_78451, n_70233)) {\n                float x_78471 = ((__global float *) Y_mem_81217)[gtid_78443 *\n                                                                 n_70233 +\n                                                                 gtid_78451];\n                bool isnan_res_78472;\n                \n                isnan_res_78472 = futrts_isnan32(x_78471);\n                \n                bool defunc_0_p_res_78473 = !isnan_res_78472;\n                int64_t defunc_0_f_res_78474 =\n                        btoi_bool_i64(defunc_0_p_res_78473);\n                \n                // write to-scan values to parameters\n                {\n     ",
                   "               x_78468 = defunc_0_f_res_78474;\n                }\n                // write mapped values results to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_78443, m_70232) && slt64(gtid_78451,\n                                                          n_70233))) {\n                    x_78468 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_78469 = add64(x_78467, x_78468);\n                \n                ((__local\n                  int64_t *) scan_arr_mem_83919)[sext_i32_i64(local_tid_83915)] =\n                    defunc_1_op_res_78469;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_83924;\n            int64_t x_83925;\n            int64_t x_83927;\n            int64_t x_83928;\n            bool ltid_in_bounds_83930 = slt64(sext_i32_i64(local_tid_83915),\n                                              segscan_group_sizze_78463);\n            int32_t skip_threads_83931;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_83930) {\n                    x_83925 = ((volatile __local\n                                int64_t *) scan_arr_mem_83919)[sext_i32_i64(local_tid_83915)];\n                    if ((local_tid_83915 - squot32(local_tid_83915, 32) * 32) ==\n                        0) {\n                        x_83924 = x_83925;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_83931 = 1;\n                while (slt32(skip_threads_83931, 32)) {\n                    if (sle32(skip_threads_83931, local_tid_83915 -\n                              squot32(local_tid_83915, 32) * 32) &&",
                   "\n                        ltid_in_bounds_83930) {\n                        // read operands\n                        {\n                            x_83924 = ((volatile __local\n                                        int64_t *) scan_arr_mem_83919)[sext_i32_i64(local_tid_83915) -\n                                                                       sext_i32_i64(skip_threads_83931)];\n                        }\n                        // perform operation\n                        {\n                            bool inactive_83932 =\n                                 slt64(srem64(sext_i32_i64(local_tid_83915) +\n                                              chunk_offset_83922, n_70233),\n                                       sext_i32_i64(local_tid_83915) +\n                                       chunk_offset_83922 -\n                                       (sext_i32_i64(local_tid_83915 -\n                                        skip_threads_83931) +\n                                        chunk_offset_83922));\n                            \n                            if (inactive_83932) {\n                                x_83924 = x_83925;\n                            }\n                            if (!inactive_83932) {\n                                int64_t defunc_1_op_res_83926 = add64(x_83924,\n                                                                      x_83925);\n                                \n                                x_83924 = defunc_1_op_res_83926;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_83917, skip_threads_83931)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (sle32(skip_threads_83931, local_tid_83915 -\n                              squot32(local_tid_83915, 32) * 32) &&\n                        ltid_in_bounds_83930) {\n                        // write result\n                        {\n                            ((volatile __local\n ",
                   "                             int64_t *) scan_arr_mem_83919)[sext_i32_i64(local_tid_83915)] =\n                                x_83924;\n                            x_83925 = x_83924;\n                        }\n                    }\n                    if (sle32(wave_sizze_83917, skip_threads_83931)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_83931 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_83915 - squot32(local_tid_83915, 32) * 32) ==\n                    31 && ltid_in_bounds_83930) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_83919)[sext_i32_i64(squot32(local_tid_83915,\n                                                                          32))] =\n                        x_83924;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_83933;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_83915, 32) == 0 &&\n                        ltid_in_bounds_83930) {\n                        x_83928 = ((volatile __local\n                                    int64_t *) scan_arr_mem_83919)[sext_i32_i64(local_tid_83915)];\n                        if ((local_tid_83915 - squot32(local_tid_83915, 32) *\n                             32) == 0) {\n                            x_83927 = x_83928;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_83933 = 1;\n                    while (slt32(skip_threads_83933, 32)) {\n                        if (sle32(skip_threads_83933, local",
                   "_tid_83915 -\n                                  squot32(local_tid_83915, 32) * 32) &&\n                            (squot32(local_tid_83915, 32) == 0 &&\n                             ltid_in_bounds_83930)) {\n                            // read operands\n                            {\n                                x_83927 = ((volatile __local\n                                            int64_t *) scan_arr_mem_83919)[sext_i32_i64(local_tid_83915) -\n                                                                           sext_i32_i64(skip_threads_83933)];\n                            }\n                            // perform operation\n                            {\n                                bool inactive_83934 =\n                                     slt64(srem64(sext_i32_i64(local_tid_83915 *\n                                                  32 + 32 - 1) +\n                                                  chunk_offset_83922, n_70233),\n                                           sext_i32_i64(local_tid_83915 * 32 +\n                                           32 - 1) + chunk_offset_83922 -\n                                           (sext_i32_i64((local_tid_83915 -\n                                                          skip_threads_83933) *\n                                            32 + 32 - 1) + chunk_offset_83922));\n                                \n                                if (inactive_83934) {\n                                    x_83927 = x_83928;\n                                }\n                                if (!inactive_83934) {\n                                    int64_t defunc_1_op_res_83929 =\n                                            add64(x_83927, x_83928);\n                                    \n                                    x_83927 = defunc_1_op_res_83929;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_83917, skip_threads_83933)) {\n                        ",
                   "    barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (sle32(skip_threads_83933, local_tid_83915 -\n                                  squot32(local_tid_83915, 32) * 32) &&\n                            (squot32(local_tid_83915, 32) == 0 &&\n                             ltid_in_bounds_83930)) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem_83919)[sext_i32_i64(local_tid_83915)] =\n                                    x_83927;\n                                x_83928 = x_83927;\n                            }\n                        }\n                        if (sle32(wave_sizze_83917, skip_threads_83933)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_83933 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // carry-in for every block except the first\n            {\n                if (!(squot32(local_tid_83915, 32) == 0 ||\n                      !ltid_in_bounds_83930)) {\n                    // read operands\n                    {\n                        x_83925 = x_83924;\n                        x_83924 = ((__local\n                                    int64_t *) scan_arr_mem_83919)[sext_i32_i64(squot32(local_tid_83915,\n                                                                                        32)) -\n                                                                   (int64_t) 1];\n                    }\n                    // perform operation\n                    {\n                        bool inactive_83935 =\n                             slt64(srem64(sext_i32_i64(local_tid_83915) +\n                                          chunk_offset_83922, n_70233),\n                                   sext_i32_i64(local_tid_83915) +\n                                   chunk_offset_",
                   "83922 -\n                                   (sext_i32_i64(squot32(local_tid_83915, 32) *\n                                    32 - 1) + chunk_offset_83922));\n                        \n                        if (inactive_83935) {\n                            x_83924 = x_83925;\n                        }\n                        if (!inactive_83935) {\n                            int64_t defunc_1_op_res_83926 = add64(x_83924,\n                                                                  x_83925);\n                            \n                            x_83924 = defunc_1_op_res_83926;\n                        }\n                    }\n                    // write final result\n                    {\n                        ((__local\n                          int64_t *) scan_arr_mem_83919)[sext_i32_i64(local_tid_83915)] =\n                            x_83924;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_83915, 32) == 0) {\n                    ((__local\n                      int64_t *) scan_arr_mem_83919)[sext_i32_i64(local_tid_83915)] =\n                        x_83925;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_78443, m_70232) && slt64(gtid_78451, n_70233)) {\n                    ((__global int64_t *) mem_82175)[gtid_78443 * n_70233 +\n                                                     gtid_78451] = ((__local\n                                                                     int64_t *) scan_arr_mem_83919)[sext_i32_i64(local_tid_83915)];\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_83936 = slt64(srem64(chunk_offset_83922 +\n            ",
                   "                                              segscan_group_sizze_78463,\n                                                          n_70233),\n                                                   chunk_offset_83922 +\n                                                   segscan_group_sizze_78463 -\n                                                   (chunk_offset_83922 +\n                                                    segscan_group_sizze_78463 -\n                                                    (int64_t) 1));\n                bool should_load_carry_83937 = local_tid_83915 == 0 &&\n                     !crosses_segment_83936;\n                \n                if (should_load_carry_83937) {\n                    x_78467 = ((__local\n                                int64_t *) scan_arr_mem_83919)[segscan_group_sizze_78463 -\n                                                               (int64_t) 1];\n                }\n                if (!should_load_carry_83937) {\n                    x_78467 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_78463\n}\n__kernel void mainziscan_stage2_72653(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_82591_backing_aligned_0,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int64_t stage1_num_groups_82560,\n                                      int32_t num_threads_82561, __global\n                                      unsigned char *mem_81323)\n{\n    #define segscan_group_sizze_72664 (mainzisegscan_group_sizze_72647)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_82591_backing_0 =\n                                   (__local volatile\n                                    unsigned ch",
                   "ar *) scan_arr_mem_82591_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82586;\n    int32_t local_tid_82587;\n    int64_t group_sizze_82590;\n    int32_t wave_sizze_82589;\n    int32_t group_tid_82588;\n    \n    global_tid_82586 = get_global_id(0);\n    local_tid_82587 = get_local_id(0);\n    group_sizze_82590 = get_local_size(0);\n    wave_sizze_82589 = LOCKSTEP_WIDTH;\n    group_tid_82588 = get_group_id(0);\n    \n    int32_t phys_tid_72653 = global_tid_82586;\n    __local unsigned char *scan_arr_mem_82591;\n    \n    scan_arr_mem_82591 = (__local unsigned char *) scan_arr_mem_82591_backing_0;\n    \n    int64_t flat_idx_82593 = (sext_i32_i64(local_tid_82587) + (int64_t) 1) *\n            (segscan_group_sizze_72664 * sdiv_up64(m_70232 * n_70233,\n                                                   sext_i32_i64(num_threads_82561))) -\n            (int64_t) 1;\n    int64_t gtid_72644 = squot64(flat_idx_82593, n_70233);\n    int64_t gtid_72652 = flat_idx_82593 - squot64(flat_idx_82593, n_70233) *\n            n_70233;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_72644, m_70232) && slt64(gtid_72652, n_70233)) {\n            ((__local\n              int64_t *) scan_arr_mem_82591)[sext_i32_i64(local_tid_82587)] =\n                ((__global int64_t *) mem_81323)[gtid_72644 * n_70233 +\n                                                 gtid_72652];\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_82591)[sext_i32_i64(local_tid_82587)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_72668;\n    int64_t x_72669;\n    int64_t x_82594;\n    int64_t x_82595;\n    bool ltid_in_bounds_82597 = slt64(sext_i32_i64(local_tid_82587),\n                                      stage1_num_groups_82560);\n    int32_t skip_threads_82598;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_82597) {\n            x_72669 = ((",
                   "volatile __local\n                        int64_t *) scan_arr_mem_82591)[sext_i32_i64(local_tid_82587)];\n            if ((local_tid_82587 - squot32(local_tid_82587, 32) * 32) == 0) {\n                x_72668 = x_72669;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_82598 = 1;\n        while (slt32(skip_threads_82598, 32)) {\n            if (sle32(skip_threads_82598, local_tid_82587 -\n                      squot32(local_tid_82587, 32) * 32) &&\n                ltid_in_bounds_82597) {\n                // read operands\n                {\n                    x_72668 = ((volatile __local\n                                int64_t *) scan_arr_mem_82591)[sext_i32_i64(local_tid_82587) -\n                                                               sext_i32_i64(skip_threads_82598)];\n                }\n                // perform operation\n                {\n                    bool inactive_82599 =\n                         slt64(srem64((sext_i32_i64(local_tid_82587) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_72664 *\n                                       sdiv_up64(m_70232 * n_70233,\n                                                 sext_i32_i64(num_threads_82561))) -\n                                      (int64_t) 1, n_70233),\n                               (sext_i32_i64(local_tid_82587) + (int64_t) 1) *\n                               (segscan_group_sizze_72664 * sdiv_up64(m_70232 *\n                                                                      n_70233,\n                                                                      sext_i32_i64(num_threads_82561))) -\n                               (int64_t) 1 - ((sext_i32_i64(local_tid_82587 -\n                                               skip_threads_82598) +\n                                               (int64_t) 1) *\n                                              (segscan_group_sizze_72664 *\n             ",
                   "                                  sdiv_up64(m_70232 * n_70233,\n                                                         sext_i32_i64(num_threads_82561))) -\n                                              (int64_t) 1));\n                    \n                    if (inactive_82599) {\n                        x_72668 = x_72669;\n                    }\n                    if (!inactive_82599) {\n                        int64_t defunc_1_op_res_72670 = add64(x_72668, x_72669);\n                        \n                        x_72668 = defunc_1_op_res_72670;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_82589, skip_threads_82598)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (sle32(skip_threads_82598, local_tid_82587 -\n                      squot32(local_tid_82587, 32) * 32) &&\n                ltid_in_bounds_82597) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_82591)[sext_i32_i64(local_tid_82587)] =\n                        x_72668;\n                    x_72669 = x_72668;\n                }\n            }\n            if (sle32(wave_sizze_82589, skip_threads_82598)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_82598 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_82587 - squot32(local_tid_82587, 32) * 32) == 31 &&\n            ltid_in_bounds_82597) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_82591)[sext_i32_i64(squot32(local_tid_82587,\n                                                                  32))] =\n                x_72668;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_82600;\n        \n        // read input for in-block scan\n  ",
                   "      {\n            if (squot32(local_tid_82587, 32) == 0 && ltid_in_bounds_82597) {\n                x_82595 = ((volatile __local\n                            int64_t *) scan_arr_mem_82591)[sext_i32_i64(local_tid_82587)];\n                if ((local_tid_82587 - squot32(local_tid_82587, 32) * 32) ==\n                    0) {\n                    x_82594 = x_82595;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_82600 = 1;\n            while (slt32(skip_threads_82600, 32)) {\n                if (sle32(skip_threads_82600, local_tid_82587 -\n                          squot32(local_tid_82587, 32) * 32) &&\n                    (squot32(local_tid_82587, 32) == 0 &&\n                     ltid_in_bounds_82597)) {\n                    // read operands\n                    {\n                        x_82594 = ((volatile __local\n                                    int64_t *) scan_arr_mem_82591)[sext_i32_i64(local_tid_82587) -\n                                                                   sext_i32_i64(skip_threads_82600)];\n                    }\n                    // perform operation\n                    {\n                        bool inactive_82601 =\n                             slt64(srem64((sext_i32_i64(local_tid_82587 * 32 +\n                                           32 - 1) + (int64_t) 1) *\n                                          (segscan_group_sizze_72664 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_82561))) -\n                                          (int64_t) 1, n_70233),\n                                   (sext_i32_i64(local_tid_82587 * 32 + 32 -\n                                    1) + (int64_t) 1) *\n                                   (segscan_group_sizze_72664 *\n                                    sdiv_up64(m_70232 * n_70233,\n                                              sext_i32_i64(n",
                   "um_threads_82561))) -\n                                   (int64_t) 1 -\n                                   ((sext_i32_i64((local_tid_82587 -\n                                                   skip_threads_82600) * 32 +\n                                     32 - 1) + (int64_t) 1) *\n                                    (segscan_group_sizze_72664 *\n                                     sdiv_up64(m_70232 * n_70233,\n                                               sext_i32_i64(num_threads_82561))) -\n                                    (int64_t) 1));\n                        \n                        if (inactive_82601) {\n                            x_82594 = x_82595;\n                        }\n                        if (!inactive_82601) {\n                            int64_t defunc_1_op_res_82596 = add64(x_82594,\n                                                                  x_82595);\n                            \n                            x_82594 = defunc_1_op_res_82596;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_82589, skip_threads_82600)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (sle32(skip_threads_82600, local_tid_82587 -\n                          squot32(local_tid_82587, 32) * 32) &&\n                    (squot32(local_tid_82587, 32) == 0 &&\n                     ltid_in_bounds_82597)) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_82591)[sext_i32_i64(local_tid_82587)] =\n                            x_82594;\n                        x_82595 = x_82594;\n                    }\n                }\n                if (sle32(wave_sizze_82589, skip_threads_82600)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_82600 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // carry-in for every block except ",
                   "the first\n    {\n        if (!(squot32(local_tid_82587, 32) == 0 || !ltid_in_bounds_82597)) {\n            // read operands\n            {\n                x_72669 = x_72668;\n                x_72668 = ((__local\n                            int64_t *) scan_arr_mem_82591)[sext_i32_i64(squot32(local_tid_82587,\n                                                                                32)) -\n                                                           (int64_t) 1];\n            }\n            // perform operation\n            {\n                bool inactive_82602 =\n                     slt64(srem64((sext_i32_i64(local_tid_82587) +\n                                   (int64_t) 1) * (segscan_group_sizze_72664 *\n                                                   sdiv_up64(m_70232 * n_70233,\n                                                             sext_i32_i64(num_threads_82561))) -\n                                  (int64_t) 1, n_70233),\n                           (sext_i32_i64(local_tid_82587) + (int64_t) 1) *\n                           (segscan_group_sizze_72664 * sdiv_up64(m_70232 *\n                                                                  n_70233,\n                                                                  sext_i32_i64(num_threads_82561))) -\n                           (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_82587,\n                                                                32) * 32 - 1) +\n                                           (int64_t) 1) *\n                                          (segscan_group_sizze_72664 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_82561))) -\n                                          (int64_t) 1));\n                \n                if (inactive_82602) {\n                    x_72668 = x_72669;\n                }\n                if (!inactive_82602) {\n                    int64_t defunc_1_op_res_72670 = add64(x_72668, x_7",
                   "2669);\n                    \n                    x_72668 = defunc_1_op_res_72670;\n                }\n            }\n            // write final result\n            {\n                ((__local\n                  int64_t *) scan_arr_mem_82591)[sext_i32_i64(local_tid_82587)] =\n                    x_72668;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_82587, 32) == 0) {\n            ((__local\n              int64_t *) scan_arr_mem_82591)[sext_i32_i64(local_tid_82587)] =\n                x_72669;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_72644, m_70232) && slt64(gtid_72652, n_70233)) {\n            ((__global int64_t *) mem_81323)[gtid_72644 * n_70233 +\n                                             gtid_72652] = ((__local\n                                                             int64_t *) scan_arr_mem_82591)[sext_i32_i64(local_tid_82587)];\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_72664\n}\n__kernel void mainziscan_stage2_74336(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_82932_backing_aligned_0,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int64_t stage1_num_groups_82901,\n                                      int32_t num_threads_82902, __global\n                                      unsigned char *mem_81557)\n{\n    #define segscan_group_sizze_74347 (mainzisegscan_group_sizze_74330)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_82932_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_82932_backing_aligned_0;\n    \n    if (*g",
                   "lobal_failure >= 0)\n        return;\n    \n    int32_t global_tid_82927;\n    int32_t local_tid_82928;\n    int64_t group_sizze_82931;\n    int32_t wave_sizze_82930;\n    int32_t group_tid_82929;\n    \n    global_tid_82927 = get_global_id(0);\n    local_tid_82928 = get_local_id(0);\n    group_sizze_82931 = get_local_size(0);\n    wave_sizze_82930 = LOCKSTEP_WIDTH;\n    group_tid_82929 = get_group_id(0);\n    \n    int32_t phys_tid_74336 = global_tid_82927;\n    __local unsigned char *scan_arr_mem_82932;\n    \n    scan_arr_mem_82932 = (__local unsigned char *) scan_arr_mem_82932_backing_0;\n    \n    int64_t flat_idx_82934 = (sext_i32_i64(local_tid_82928) + (int64_t) 1) *\n            (segscan_group_sizze_74347 * sdiv_up64(m_70232 * n_70233,\n                                                   sext_i32_i64(num_threads_82902))) -\n            (int64_t) 1;\n    int64_t gtid_74327 = squot64(flat_idx_82934, n_70233);\n    int64_t gtid_74335 = flat_idx_82934 - squot64(flat_idx_82934, n_70233) *\n            n_70233;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_74327, m_70232) && slt64(gtid_74335, n_70233)) {\n            ((__local\n              int64_t *) scan_arr_mem_82932)[sext_i32_i64(local_tid_82928)] =\n                ((__global int64_t *) mem_81557)[gtid_74327 * n_70233 +\n                                                 gtid_74335];\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_82932)[sext_i32_i64(local_tid_82928)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_74351;\n    int64_t x_74352;\n    int64_t x_82935;\n    int64_t x_82936;\n    bool ltid_in_bounds_82938 = slt64(sext_i32_i64(local_tid_82928),\n                                      stage1_num_groups_82901);\n    int32_t skip_threads_82939;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_82938) {\n            x_74352 = ((volatile __local\n                        int64_t *) scan_ar",
                   "r_mem_82932)[sext_i32_i64(local_tid_82928)];\n            if ((local_tid_82928 - squot32(local_tid_82928, 32) * 32) == 0) {\n                x_74351 = x_74352;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_82939 = 1;\n        while (slt32(skip_threads_82939, 32)) {\n            if (sle32(skip_threads_82939, local_tid_82928 -\n                      squot32(local_tid_82928, 32) * 32) &&\n                ltid_in_bounds_82938) {\n                // read operands\n                {\n                    x_74351 = ((volatile __local\n                                int64_t *) scan_arr_mem_82932)[sext_i32_i64(local_tid_82928) -\n                                                               sext_i32_i64(skip_threads_82939)];\n                }\n                // perform operation\n                {\n                    bool inactive_82940 =\n                         slt64(srem64((sext_i32_i64(local_tid_82928) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_74347 *\n                                       sdiv_up64(m_70232 * n_70233,\n                                                 sext_i32_i64(num_threads_82902))) -\n                                      (int64_t) 1, n_70233),\n                               (sext_i32_i64(local_tid_82928) + (int64_t) 1) *\n                               (segscan_group_sizze_74347 * sdiv_up64(m_70232 *\n                                                                      n_70233,\n                                                                      sext_i32_i64(num_threads_82902))) -\n                               (int64_t) 1 - ((sext_i32_i64(local_tid_82928 -\n                                               skip_threads_82939) +\n                                               (int64_t) 1) *\n                                              (segscan_group_sizze_74347 *\n                                               sdiv_up64(m_70232 * n_702",
                   "33,\n                                                         sext_i32_i64(num_threads_82902))) -\n                                              (int64_t) 1));\n                    \n                    if (inactive_82940) {\n                        x_74351 = x_74352;\n                    }\n                    if (!inactive_82940) {\n                        int64_t defunc_1_op_res_74353 = add64(x_74351, x_74352);\n                        \n                        x_74351 = defunc_1_op_res_74353;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_82930, skip_threads_82939)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (sle32(skip_threads_82939, local_tid_82928 -\n                      squot32(local_tid_82928, 32) * 32) &&\n                ltid_in_bounds_82938) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_82932)[sext_i32_i64(local_tid_82928)] =\n                        x_74351;\n                    x_74352 = x_74351;\n                }\n            }\n            if (sle32(wave_sizze_82930, skip_threads_82939)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_82939 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_82928 - squot32(local_tid_82928, 32) * 32) == 31 &&\n            ltid_in_bounds_82938) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_82932)[sext_i32_i64(squot32(local_tid_82928,\n                                                                  32))] =\n                x_74351;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_82941;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_82928, 32) == 0 &",
                   "& ltid_in_bounds_82938) {\n                x_82936 = ((volatile __local\n                            int64_t *) scan_arr_mem_82932)[sext_i32_i64(local_tid_82928)];\n                if ((local_tid_82928 - squot32(local_tid_82928, 32) * 32) ==\n                    0) {\n                    x_82935 = x_82936;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_82941 = 1;\n            while (slt32(skip_threads_82941, 32)) {\n                if (sle32(skip_threads_82941, local_tid_82928 -\n                          squot32(local_tid_82928, 32) * 32) &&\n                    (squot32(local_tid_82928, 32) == 0 &&\n                     ltid_in_bounds_82938)) {\n                    // read operands\n                    {\n                        x_82935 = ((volatile __local\n                                    int64_t *) scan_arr_mem_82932)[sext_i32_i64(local_tid_82928) -\n                                                                   sext_i32_i64(skip_threads_82941)];\n                    }\n                    // perform operation\n                    {\n                        bool inactive_82942 =\n                             slt64(srem64((sext_i32_i64(local_tid_82928 * 32 +\n                                           32 - 1) + (int64_t) 1) *\n                                          (segscan_group_sizze_74347 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_82902))) -\n                                          (int64_t) 1, n_70233),\n                                   (sext_i32_i64(local_tid_82928 * 32 + 32 -\n                                    1) + (int64_t) 1) *\n                                   (segscan_group_sizze_74347 *\n                                    sdiv_up64(m_70232 * n_70233,\n                                              sext_i32_i64(num_threads_82902))) -\n                                   (i",
                   "nt64_t) 1 -\n                                   ((sext_i32_i64((local_tid_82928 -\n                                                   skip_threads_82941) * 32 +\n                                     32 - 1) + (int64_t) 1) *\n                                    (segscan_group_sizze_74347 *\n                                     sdiv_up64(m_70232 * n_70233,\n                                               sext_i32_i64(num_threads_82902))) -\n                                    (int64_t) 1));\n                        \n                        if (inactive_82942) {\n                            x_82935 = x_82936;\n                        }\n                        if (!inactive_82942) {\n                            int64_t defunc_1_op_res_82937 = add64(x_82935,\n                                                                  x_82936);\n                            \n                            x_82935 = defunc_1_op_res_82937;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_82930, skip_threads_82941)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (sle32(skip_threads_82941, local_tid_82928 -\n                          squot32(local_tid_82928, 32) * 32) &&\n                    (squot32(local_tid_82928, 32) == 0 &&\n                     ltid_in_bounds_82938)) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_82932)[sext_i32_i64(local_tid_82928)] =\n                            x_82935;\n                        x_82936 = x_82935;\n                    }\n                }\n                if (sle32(wave_sizze_82930, skip_threads_82941)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_82941 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // carry-in for every block except the first\n    {\n        if (!(squot32(local_tid_82928, 32) ",
                   "== 0 || !ltid_in_bounds_82938)) {\n            // read operands\n            {\n                x_74352 = x_74351;\n                x_74351 = ((__local\n                            int64_t *) scan_arr_mem_82932)[sext_i32_i64(squot32(local_tid_82928,\n                                                                                32)) -\n                                                           (int64_t) 1];\n            }\n            // perform operation\n            {\n                bool inactive_82943 =\n                     slt64(srem64((sext_i32_i64(local_tid_82928) +\n                                   (int64_t) 1) * (segscan_group_sizze_74347 *\n                                                   sdiv_up64(m_70232 * n_70233,\n                                                             sext_i32_i64(num_threads_82902))) -\n                                  (int64_t) 1, n_70233),\n                           (sext_i32_i64(local_tid_82928) + (int64_t) 1) *\n                           (segscan_group_sizze_74347 * sdiv_up64(m_70232 *\n                                                                  n_70233,\n                                                                  sext_i32_i64(num_threads_82902))) -\n                           (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_82928,\n                                                                32) * 32 - 1) +\n                                           (int64_t) 1) *\n                                          (segscan_group_sizze_74347 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_82902))) -\n                                          (int64_t) 1));\n                \n                if (inactive_82943) {\n                    x_74351 = x_74352;\n                }\n                if (!inactive_82943) {\n                    int64_t defunc_1_op_res_74353 = add64(x_74351, x_74352);\n                    \n                    x_74351 = d",
                   "efunc_1_op_res_74353;\n                }\n            }\n            // write final result\n            {\n                ((__local\n                  int64_t *) scan_arr_mem_82932)[sext_i32_i64(local_tid_82928)] =\n                    x_74351;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_82928, 32) == 0) {\n            ((__local\n              int64_t *) scan_arr_mem_82932)[sext_i32_i64(local_tid_82928)] =\n                x_74352;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_74327, m_70232) && slt64(gtid_74335, n_70233)) {\n            ((__global int64_t *) mem_81557)[gtid_74327 * n_70233 +\n                                             gtid_74335] = ((__local\n                                                             int64_t *) scan_arr_mem_82932)[sext_i32_i64(local_tid_82928)];\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_74347\n}\n__kernel void mainziscan_stage2_76267(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_83315_backing_aligned_0,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int64_t stage1_num_groups_83284,\n                                      int32_t num_threads_83285, __global\n                                      unsigned char *mem_81849)\n{\n    #define segscan_group_sizze_76278 (mainzisegscan_group_sizze_76261)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_83315_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_83315_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global",
                   "_tid_83310;\n    int32_t local_tid_83311;\n    int64_t group_sizze_83314;\n    int32_t wave_sizze_83313;\n    int32_t group_tid_83312;\n    \n    global_tid_83310 = get_global_id(0);\n    local_tid_83311 = get_local_id(0);\n    group_sizze_83314 = get_local_size(0);\n    wave_sizze_83313 = LOCKSTEP_WIDTH;\n    group_tid_83312 = get_group_id(0);\n    \n    int32_t phys_tid_76267 = global_tid_83310;\n    __local unsigned char *scan_arr_mem_83315;\n    \n    scan_arr_mem_83315 = (__local unsigned char *) scan_arr_mem_83315_backing_0;\n    \n    int64_t flat_idx_83317 = (sext_i32_i64(local_tid_83311) + (int64_t) 1) *\n            (segscan_group_sizze_76278 * sdiv_up64(m_70232 * n_70233,\n                                                   sext_i32_i64(num_threads_83285))) -\n            (int64_t) 1;\n    int64_t gtid_76258 = squot64(flat_idx_83317, n_70233);\n    int64_t gtid_76266 = flat_idx_83317 - squot64(flat_idx_83317, n_70233) *\n            n_70233;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_76258, m_70232) && slt64(gtid_76266, n_70233)) {\n            ((__local\n              int64_t *) scan_arr_mem_83315)[sext_i32_i64(local_tid_83311)] =\n                ((__global int64_t *) mem_81849)[gtid_76258 * n_70233 +\n                                                 gtid_76266];\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_83315)[sext_i32_i64(local_tid_83311)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_76282;\n    int64_t x_76283;\n    int64_t x_83318;\n    int64_t x_83319;\n    bool ltid_in_bounds_83321 = slt64(sext_i32_i64(local_tid_83311),\n                                      stage1_num_groups_83284);\n    int32_t skip_threads_83322;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_83321) {\n            x_76283 = ((volatile __local\n                        int64_t *) scan_arr_mem_83315)[sext_i32_i64(local_tid_83311)];\n            if",
                   " ((local_tid_83311 - squot32(local_tid_83311, 32) * 32) == 0) {\n                x_76282 = x_76283;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_83322 = 1;\n        while (slt32(skip_threads_83322, 32)) {\n            if (sle32(skip_threads_83322, local_tid_83311 -\n                      squot32(local_tid_83311, 32) * 32) &&\n                ltid_in_bounds_83321) {\n                // read operands\n                {\n                    x_76282 = ((volatile __local\n                                int64_t *) scan_arr_mem_83315)[sext_i32_i64(local_tid_83311) -\n                                                               sext_i32_i64(skip_threads_83322)];\n                }\n                // perform operation\n                {\n                    bool inactive_83323 =\n                         slt64(srem64((sext_i32_i64(local_tid_83311) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_76278 *\n                                       sdiv_up64(m_70232 * n_70233,\n                                                 sext_i32_i64(num_threads_83285))) -\n                                      (int64_t) 1, n_70233),\n                               (sext_i32_i64(local_tid_83311) + (int64_t) 1) *\n                               (segscan_group_sizze_76278 * sdiv_up64(m_70232 *\n                                                                      n_70233,\n                                                                      sext_i32_i64(num_threads_83285))) -\n                               (int64_t) 1 - ((sext_i32_i64(local_tid_83311 -\n                                               skip_threads_83322) +\n                                               (int64_t) 1) *\n                                              (segscan_group_sizze_76278 *\n                                               sdiv_up64(m_70232 * n_70233,\n                                                       ",
                   "  sext_i32_i64(num_threads_83285))) -\n                                              (int64_t) 1));\n                    \n                    if (inactive_83323) {\n                        x_76282 = x_76283;\n                    }\n                    if (!inactive_83323) {\n                        int64_t defunc_1_op_res_76284 = add64(x_76282, x_76283);\n                        \n                        x_76282 = defunc_1_op_res_76284;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_83313, skip_threads_83322)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (sle32(skip_threads_83322, local_tid_83311 -\n                      squot32(local_tid_83311, 32) * 32) &&\n                ltid_in_bounds_83321) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_83315)[sext_i32_i64(local_tid_83311)] =\n                        x_76282;\n                    x_76283 = x_76282;\n                }\n            }\n            if (sle32(wave_sizze_83313, skip_threads_83322)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_83322 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_83311 - squot32(local_tid_83311, 32) * 32) == 31 &&\n            ltid_in_bounds_83321) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_83315)[sext_i32_i64(squot32(local_tid_83311,\n                                                                  32))] =\n                x_76282;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_83324;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_83311, 32) == 0 && ltid_in_bounds_83321) {\n                x_83319 = ((volat",
                   "ile __local\n                            int64_t *) scan_arr_mem_83315)[sext_i32_i64(local_tid_83311)];\n                if ((local_tid_83311 - squot32(local_tid_83311, 32) * 32) ==\n                    0) {\n                    x_83318 = x_83319;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_83324 = 1;\n            while (slt32(skip_threads_83324, 32)) {\n                if (sle32(skip_threads_83324, local_tid_83311 -\n                          squot32(local_tid_83311, 32) * 32) &&\n                    (squot32(local_tid_83311, 32) == 0 &&\n                     ltid_in_bounds_83321)) {\n                    // read operands\n                    {\n                        x_83318 = ((volatile __local\n                                    int64_t *) scan_arr_mem_83315)[sext_i32_i64(local_tid_83311) -\n                                                                   sext_i32_i64(skip_threads_83324)];\n                    }\n                    // perform operation\n                    {\n                        bool inactive_83325 =\n                             slt64(srem64((sext_i32_i64(local_tid_83311 * 32 +\n                                           32 - 1) + (int64_t) 1) *\n                                          (segscan_group_sizze_76278 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_83285))) -\n                                          (int64_t) 1, n_70233),\n                                   (sext_i32_i64(local_tid_83311 * 32 + 32 -\n                                    1) + (int64_t) 1) *\n                                   (segscan_group_sizze_76278 *\n                                    sdiv_up64(m_70232 * n_70233,\n                                              sext_i32_i64(num_threads_83285))) -\n                                   (int64_t) 1 -\n                                   ((sext_i32_i",
                   "64((local_tid_83311 -\n                                                   skip_threads_83324) * 32 +\n                                     32 - 1) + (int64_t) 1) *\n                                    (segscan_group_sizze_76278 *\n                                     sdiv_up64(m_70232 * n_70233,\n                                               sext_i32_i64(num_threads_83285))) -\n                                    (int64_t) 1));\n                        \n                        if (inactive_83325) {\n                            x_83318 = x_83319;\n                        }\n                        if (!inactive_83325) {\n                            int64_t defunc_1_op_res_83320 = add64(x_83318,\n                                                                  x_83319);\n                            \n                            x_83318 = defunc_1_op_res_83320;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_83313, skip_threads_83324)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (sle32(skip_threads_83324, local_tid_83311 -\n                          squot32(local_tid_83311, 32) * 32) &&\n                    (squot32(local_tid_83311, 32) == 0 &&\n                     ltid_in_bounds_83321)) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_83315)[sext_i32_i64(local_tid_83311)] =\n                            x_83318;\n                        x_83319 = x_83318;\n                    }\n                }\n                if (sle32(wave_sizze_83313, skip_threads_83324)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_83324 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // carry-in for every block except the first\n    {\n        if (!(squot32(local_tid_83311, 32) == 0 || !ltid_in_bounds_83321)) {\n            // read opera",
                   "nds\n            {\n                x_76283 = x_76282;\n                x_76282 = ((__local\n                            int64_t *) scan_arr_mem_83315)[sext_i32_i64(squot32(local_tid_83311,\n                                                                                32)) -\n                                                           (int64_t) 1];\n            }\n            // perform operation\n            {\n                bool inactive_83326 =\n                     slt64(srem64((sext_i32_i64(local_tid_83311) +\n                                   (int64_t) 1) * (segscan_group_sizze_76278 *\n                                                   sdiv_up64(m_70232 * n_70233,\n                                                             sext_i32_i64(num_threads_83285))) -\n                                  (int64_t) 1, n_70233),\n                           (sext_i32_i64(local_tid_83311) + (int64_t) 1) *\n                           (segscan_group_sizze_76278 * sdiv_up64(m_70232 *\n                                                                  n_70233,\n                                                                  sext_i32_i64(num_threads_83285))) -\n                           (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_83311,\n                                                                32) * 32 - 1) +\n                                           (int64_t) 1) *\n                                          (segscan_group_sizze_76278 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_83285))) -\n                                          (int64_t) 1));\n                \n                if (inactive_83326) {\n                    x_76282 = x_76283;\n                }\n                if (!inactive_83326) {\n                    int64_t defunc_1_op_res_76284 = add64(x_76282, x_76283);\n                    \n                    x_76282 = defunc_1_op_res_76284;\n                }\n            }\n     ",
                   "       // write final result\n            {\n                ((__local\n                  int64_t *) scan_arr_mem_83315)[sext_i32_i64(local_tid_83311)] =\n                    x_76282;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_83311, 32) == 0) {\n            ((__local\n              int64_t *) scan_arr_mem_83315)[sext_i32_i64(local_tid_83311)] =\n                x_76283;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_76258, m_70232) && slt64(gtid_76266, n_70233)) {\n            ((__global int64_t *) mem_81849)[gtid_76258 * n_70233 +\n                                             gtid_76266] = ((__local\n                                                             int64_t *) scan_arr_mem_83315)[sext_i32_i64(local_tid_83311)];\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_76278\n}\n__kernel void mainziscan_stage2_77172(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_83693_backing_aligned_0,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int64_t stage1_num_groups_83662,\n                                      int32_t num_threads_83663, __global\n                                      unsigned char *mem_82074)\n{\n    #define segscan_group_sizze_77183 (mainzisegscan_group_sizze_77166)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_83693_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_83693_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83688;\n    int32_t local_tid_83689;\n    int64_t group_",
                   "sizze_83692;\n    int32_t wave_sizze_83691;\n    int32_t group_tid_83690;\n    \n    global_tid_83688 = get_global_id(0);\n    local_tid_83689 = get_local_id(0);\n    group_sizze_83692 = get_local_size(0);\n    wave_sizze_83691 = LOCKSTEP_WIDTH;\n    group_tid_83690 = get_group_id(0);\n    \n    int32_t phys_tid_77172 = global_tid_83688;\n    __local unsigned char *scan_arr_mem_83693;\n    \n    scan_arr_mem_83693 = (__local unsigned char *) scan_arr_mem_83693_backing_0;\n    \n    int64_t flat_idx_83695 = (sext_i32_i64(local_tid_83689) + (int64_t) 1) *\n            (segscan_group_sizze_77183 * sdiv_up64(m_70232 * n_70233,\n                                                   sext_i32_i64(num_threads_83663))) -\n            (int64_t) 1;\n    int64_t gtid_77163 = squot64(flat_idx_83695, n_70233);\n    int64_t gtid_77171 = flat_idx_83695 - squot64(flat_idx_83695, n_70233) *\n            n_70233;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_77163, m_70232) && slt64(gtid_77171, n_70233)) {\n            ((__local\n              int64_t *) scan_arr_mem_83693)[sext_i32_i64(local_tid_83689)] =\n                ((__global int64_t *) mem_82074)[gtid_77163 * n_70233 +\n                                                 gtid_77171];\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_83693)[sext_i32_i64(local_tid_83689)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_77187;\n    int64_t x_77188;\n    int64_t x_83696;\n    int64_t x_83697;\n    bool ltid_in_bounds_83699 = slt64(sext_i32_i64(local_tid_83689),\n                                      stage1_num_groups_83662);\n    int32_t skip_threads_83700;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_83699) {\n            x_77188 = ((volatile __local\n                        int64_t *) scan_arr_mem_83693)[sext_i32_i64(local_tid_83689)];\n            if ((local_tid_83689 - squot32(local_tid_83689, 32) * 32) == ",
                   "0) {\n                x_77187 = x_77188;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_83700 = 1;\n        while (slt32(skip_threads_83700, 32)) {\n            if (sle32(skip_threads_83700, local_tid_83689 -\n                      squot32(local_tid_83689, 32) * 32) &&\n                ltid_in_bounds_83699) {\n                // read operands\n                {\n                    x_77187 = ((volatile __local\n                                int64_t *) scan_arr_mem_83693)[sext_i32_i64(local_tid_83689) -\n                                                               sext_i32_i64(skip_threads_83700)];\n                }\n                // perform operation\n                {\n                    bool inactive_83701 =\n                         slt64(srem64((sext_i32_i64(local_tid_83689) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_77183 *\n                                       sdiv_up64(m_70232 * n_70233,\n                                                 sext_i32_i64(num_threads_83663))) -\n                                      (int64_t) 1, n_70233),\n                               (sext_i32_i64(local_tid_83689) + (int64_t) 1) *\n                               (segscan_group_sizze_77183 * sdiv_up64(m_70232 *\n                                                                      n_70233,\n                                                                      sext_i32_i64(num_threads_83663))) -\n                               (int64_t) 1 - ((sext_i32_i64(local_tid_83689 -\n                                               skip_threads_83700) +\n                                               (int64_t) 1) *\n                                              (segscan_group_sizze_77183 *\n                                               sdiv_up64(m_70232 * n_70233,\n                                                         sext_i32_i64(num_threads_83663))) -\n                     ",
                   "                         (int64_t) 1));\n                    \n                    if (inactive_83701) {\n                        x_77187 = x_77188;\n                    }\n                    if (!inactive_83701) {\n                        int64_t defunc_1_op_res_77189 = add64(x_77187, x_77188);\n                        \n                        x_77187 = defunc_1_op_res_77189;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_83691, skip_threads_83700)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (sle32(skip_threads_83700, local_tid_83689 -\n                      squot32(local_tid_83689, 32) * 32) &&\n                ltid_in_bounds_83699) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_83693)[sext_i32_i64(local_tid_83689)] =\n                        x_77187;\n                    x_77188 = x_77187;\n                }\n            }\n            if (sle32(wave_sizze_83691, skip_threads_83700)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_83700 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_83689 - squot32(local_tid_83689, 32) * 32) == 31 &&\n            ltid_in_bounds_83699) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_83693)[sext_i32_i64(squot32(local_tid_83689,\n                                                                  32))] =\n                x_77187;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_83702;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_83689, 32) == 0 && ltid_in_bounds_83699) {\n                x_83697 = ((volatile __local\n                            int64_t *) scan_arr",
                   "_mem_83693)[sext_i32_i64(local_tid_83689)];\n                if ((local_tid_83689 - squot32(local_tid_83689, 32) * 32) ==\n                    0) {\n                    x_83696 = x_83697;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_83702 = 1;\n            while (slt32(skip_threads_83702, 32)) {\n                if (sle32(skip_threads_83702, local_tid_83689 -\n                          squot32(local_tid_83689, 32) * 32) &&\n                    (squot32(local_tid_83689, 32) == 0 &&\n                     ltid_in_bounds_83699)) {\n                    // read operands\n                    {\n                        x_83696 = ((volatile __local\n                                    int64_t *) scan_arr_mem_83693)[sext_i32_i64(local_tid_83689) -\n                                                                   sext_i32_i64(skip_threads_83702)];\n                    }\n                    // perform operation\n                    {\n                        bool inactive_83703 =\n                             slt64(srem64((sext_i32_i64(local_tid_83689 * 32 +\n                                           32 - 1) + (int64_t) 1) *\n                                          (segscan_group_sizze_77183 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_83663))) -\n                                          (int64_t) 1, n_70233),\n                                   (sext_i32_i64(local_tid_83689 * 32 + 32 -\n                                    1) + (int64_t) 1) *\n                                   (segscan_group_sizze_77183 *\n                                    sdiv_up64(m_70232 * n_70233,\n                                              sext_i32_i64(num_threads_83663))) -\n                                   (int64_t) 1 -\n                                   ((sext_i32_i64((local_tid_83689 -\n                                     ",
                   "              skip_threads_83702) * 32 +\n                                     32 - 1) + (int64_t) 1) *\n                                    (segscan_group_sizze_77183 *\n                                     sdiv_up64(m_70232 * n_70233,\n                                               sext_i32_i64(num_threads_83663))) -\n                                    (int64_t) 1));\n                        \n                        if (inactive_83703) {\n                            x_83696 = x_83697;\n                        }\n                        if (!inactive_83703) {\n                            int64_t defunc_1_op_res_83698 = add64(x_83696,\n                                                                  x_83697);\n                            \n                            x_83696 = defunc_1_op_res_83698;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_83691, skip_threads_83702)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (sle32(skip_threads_83702, local_tid_83689 -\n                          squot32(local_tid_83689, 32) * 32) &&\n                    (squot32(local_tid_83689, 32) == 0 &&\n                     ltid_in_bounds_83699)) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_83693)[sext_i32_i64(local_tid_83689)] =\n                            x_83696;\n                        x_83697 = x_83696;\n                    }\n                }\n                if (sle32(wave_sizze_83691, skip_threads_83702)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_83702 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // carry-in for every block except the first\n    {\n        if (!(squot32(local_tid_83689, 32) == 0 || !ltid_in_bounds_83699)) {\n            // read operands\n            {\n                x_77188 = x_77187;\n      ",
                   "          x_77187 = ((__local\n                            int64_t *) scan_arr_mem_83693)[sext_i32_i64(squot32(local_tid_83689,\n                                                                                32)) -\n                                                           (int64_t) 1];\n            }\n            // perform operation\n            {\n                bool inactive_83704 =\n                     slt64(srem64((sext_i32_i64(local_tid_83689) +\n                                   (int64_t) 1) * (segscan_group_sizze_77183 *\n                                                   sdiv_up64(m_70232 * n_70233,\n                                                             sext_i32_i64(num_threads_83663))) -\n                                  (int64_t) 1, n_70233),\n                           (sext_i32_i64(local_tid_83689) + (int64_t) 1) *\n                           (segscan_group_sizze_77183 * sdiv_up64(m_70232 *\n                                                                  n_70233,\n                                                                  sext_i32_i64(num_threads_83663))) -\n                           (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_83689,\n                                                                32) * 32 - 1) +\n                                           (int64_t) 1) *\n                                          (segscan_group_sizze_77183 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_83663))) -\n                                          (int64_t) 1));\n                \n                if (inactive_83704) {\n                    x_77187 = x_77188;\n                }\n                if (!inactive_83704) {\n                    int64_t defunc_1_op_res_77189 = add64(x_77187, x_77188);\n                    \n                    x_77187 = defunc_1_op_res_77189;\n                }\n            }\n            // write final result\n            {\n                ",
                   "((__local\n                  int64_t *) scan_arr_mem_83693)[sext_i32_i64(local_tid_83689)] =\n                    x_77187;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_83689, 32) == 0) {\n            ((__local\n              int64_t *) scan_arr_mem_83693)[sext_i32_i64(local_tid_83689)] =\n                x_77188;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_77163, m_70232) && slt64(gtid_77171, n_70233)) {\n            ((__global int64_t *) mem_82074)[gtid_77163 * n_70233 +\n                                             gtid_77171] = ((__local\n                                                             int64_t *) scan_arr_mem_83693)[sext_i32_i64(local_tid_83689)];\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_77183\n}\n__kernel void mainziscan_stage2_77769(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_83815_backing_aligned_0,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int64_t stage1_num_groups_83784,\n                                      int32_t num_threads_83785, __global\n                                      unsigned char *mem_82121)\n{\n    #define segscan_group_sizze_77780 (mainzisegscan_group_sizze_77763)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_83815_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_83815_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83810;\n    int32_t local_tid_83811;\n    int64_t group_sizze_83814;\n    int32_t wave_sizze_83813;\n    int32_t grou",
                   "p_tid_83812;\n    \n    global_tid_83810 = get_global_id(0);\n    local_tid_83811 = get_local_id(0);\n    group_sizze_83814 = get_local_size(0);\n    wave_sizze_83813 = LOCKSTEP_WIDTH;\n    group_tid_83812 = get_group_id(0);\n    \n    int32_t phys_tid_77769 = global_tid_83810;\n    __local unsigned char *scan_arr_mem_83815;\n    \n    scan_arr_mem_83815 = (__local unsigned char *) scan_arr_mem_83815_backing_0;\n    \n    int64_t flat_idx_83817 = (sext_i32_i64(local_tid_83811) + (int64_t) 1) *\n            (segscan_group_sizze_77780 * sdiv_up64(m_70232 * n_70233,\n                                                   sext_i32_i64(num_threads_83785))) -\n            (int64_t) 1;\n    int64_t gtid_77760 = squot64(flat_idx_83817, n_70233);\n    int64_t gtid_77768 = flat_idx_83817 - squot64(flat_idx_83817, n_70233) *\n            n_70233;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_77760, m_70232) && slt64(gtid_77768, n_70233)) {\n            ((__local\n              int64_t *) scan_arr_mem_83815)[sext_i32_i64(local_tid_83811)] =\n                ((__global int64_t *) mem_82121)[gtid_77760 * n_70233 +\n                                                 gtid_77768];\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_83815)[sext_i32_i64(local_tid_83811)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_77784;\n    int64_t x_77785;\n    int64_t x_83818;\n    int64_t x_83819;\n    bool ltid_in_bounds_83821 = slt64(sext_i32_i64(local_tid_83811),\n                                      stage1_num_groups_83784);\n    int32_t skip_threads_83822;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_83821) {\n            x_77785 = ((volatile __local\n                        int64_t *) scan_arr_mem_83815)[sext_i32_i64(local_tid_83811)];\n            if ((local_tid_83811 - squot32(local_tid_83811, 32) * 32) == 0) {\n                x_77784 = x_77785;\n            }\n     ",
                   "   }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_83822 = 1;\n        while (slt32(skip_threads_83822, 32)) {\n            if (sle32(skip_threads_83822, local_tid_83811 -\n                      squot32(local_tid_83811, 32) * 32) &&\n                ltid_in_bounds_83821) {\n                // read operands\n                {\n                    x_77784 = ((volatile __local\n                                int64_t *) scan_arr_mem_83815)[sext_i32_i64(local_tid_83811) -\n                                                               sext_i32_i64(skip_threads_83822)];\n                }\n                // perform operation\n                {\n                    bool inactive_83823 =\n                         slt64(srem64((sext_i32_i64(local_tid_83811) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_77780 *\n                                       sdiv_up64(m_70232 * n_70233,\n                                                 sext_i32_i64(num_threads_83785))) -\n                                      (int64_t) 1, n_70233),\n                               (sext_i32_i64(local_tid_83811) + (int64_t) 1) *\n                               (segscan_group_sizze_77780 * sdiv_up64(m_70232 *\n                                                                      n_70233,\n                                                                      sext_i32_i64(num_threads_83785))) -\n                               (int64_t) 1 - ((sext_i32_i64(local_tid_83811 -\n                                               skip_threads_83822) +\n                                               (int64_t) 1) *\n                                              (segscan_group_sizze_77780 *\n                                               sdiv_up64(m_70232 * n_70233,\n                                                         sext_i32_i64(num_threads_83785))) -\n                                              (int64_t) 1));\n                   ",
                   " \n                    if (inactive_83823) {\n                        x_77784 = x_77785;\n                    }\n                    if (!inactive_83823) {\n                        int64_t defunc_1_op_res_77786 = add64(x_77784, x_77785);\n                        \n                        x_77784 = defunc_1_op_res_77786;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_83813, skip_threads_83822)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (sle32(skip_threads_83822, local_tid_83811 -\n                      squot32(local_tid_83811, 32) * 32) &&\n                ltid_in_bounds_83821) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_83815)[sext_i32_i64(local_tid_83811)] =\n                        x_77784;\n                    x_77785 = x_77784;\n                }\n            }\n            if (sle32(wave_sizze_83813, skip_threads_83822)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_83822 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_83811 - squot32(local_tid_83811, 32) * 32) == 31 &&\n            ltid_in_bounds_83821) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_83815)[sext_i32_i64(squot32(local_tid_83811,\n                                                                  32))] =\n                x_77784;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_83824;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_83811, 32) == 0 && ltid_in_bounds_83821) {\n                x_83819 = ((volatile __local\n                            int64_t *) scan_arr_mem_83815)[sext_i32_i64(local_tid_83811)];\n               ",
                   " if ((local_tid_83811 - squot32(local_tid_83811, 32) * 32) ==\n                    0) {\n                    x_83818 = x_83819;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_83824 = 1;\n            while (slt32(skip_threads_83824, 32)) {\n                if (sle32(skip_threads_83824, local_tid_83811 -\n                          squot32(local_tid_83811, 32) * 32) &&\n                    (squot32(local_tid_83811, 32) == 0 &&\n                     ltid_in_bounds_83821)) {\n                    // read operands\n                    {\n                        x_83818 = ((volatile __local\n                                    int64_t *) scan_arr_mem_83815)[sext_i32_i64(local_tid_83811) -\n                                                                   sext_i32_i64(skip_threads_83824)];\n                    }\n                    // perform operation\n                    {\n                        bool inactive_83825 =\n                             slt64(srem64((sext_i32_i64(local_tid_83811 * 32 +\n                                           32 - 1) + (int64_t) 1) *\n                                          (segscan_group_sizze_77780 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_83785))) -\n                                          (int64_t) 1, n_70233),\n                                   (sext_i32_i64(local_tid_83811 * 32 + 32 -\n                                    1) + (int64_t) 1) *\n                                   (segscan_group_sizze_77780 *\n                                    sdiv_up64(m_70232 * n_70233,\n                                              sext_i32_i64(num_threads_83785))) -\n                                   (int64_t) 1 -\n                                   ((sext_i32_i64((local_tid_83811 -\n                                                   skip_threads_83824) * 32 +\n                  ",
                   "                   32 - 1) + (int64_t) 1) *\n                                    (segscan_group_sizze_77780 *\n                                     sdiv_up64(m_70232 * n_70233,\n                                               sext_i32_i64(num_threads_83785))) -\n                                    (int64_t) 1));\n                        \n                        if (inactive_83825) {\n                            x_83818 = x_83819;\n                        }\n                        if (!inactive_83825) {\n                            int64_t defunc_1_op_res_83820 = add64(x_83818,\n                                                                  x_83819);\n                            \n                            x_83818 = defunc_1_op_res_83820;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_83813, skip_threads_83824)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (sle32(skip_threads_83824, local_tid_83811 -\n                          squot32(local_tid_83811, 32) * 32) &&\n                    (squot32(local_tid_83811, 32) == 0 &&\n                     ltid_in_bounds_83821)) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_83815)[sext_i32_i64(local_tid_83811)] =\n                            x_83818;\n                        x_83819 = x_83818;\n                    }\n                }\n                if (sle32(wave_sizze_83813, skip_threads_83824)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_83824 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // carry-in for every block except the first\n    {\n        if (!(squot32(local_tid_83811, 32) == 0 || !ltid_in_bounds_83821)) {\n            // read operands\n            {\n                x_77785 = x_77784;\n                x_77784 = ((__local\n                            i",
                   "nt64_t *) scan_arr_mem_83815)[sext_i32_i64(squot32(local_tid_83811,\n                                                                                32)) -\n                                                           (int64_t) 1];\n            }\n            // perform operation\n            {\n                bool inactive_83826 =\n                     slt64(srem64((sext_i32_i64(local_tid_83811) +\n                                   (int64_t) 1) * (segscan_group_sizze_77780 *\n                                                   sdiv_up64(m_70232 * n_70233,\n                                                             sext_i32_i64(num_threads_83785))) -\n                                  (int64_t) 1, n_70233),\n                           (sext_i32_i64(local_tid_83811) + (int64_t) 1) *\n                           (segscan_group_sizze_77780 * sdiv_up64(m_70232 *\n                                                                  n_70233,\n                                                                  sext_i32_i64(num_threads_83785))) -\n                           (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_83811,\n                                                                32) * 32 - 1) +\n                                           (int64_t) 1) *\n                                          (segscan_group_sizze_77780 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_83785))) -\n                                          (int64_t) 1));\n                \n                if (inactive_83826) {\n                    x_77784 = x_77785;\n                }\n                if (!inactive_83826) {\n                    int64_t defunc_1_op_res_77786 = add64(x_77784, x_77785);\n                    \n                    x_77784 = defunc_1_op_res_77786;\n                }\n            }\n            // write final result\n            {\n                ((__local\n                  int64_t *) scan_arr_mem_83815)[",
                   "sext_i32_i64(local_tid_83811)] =\n                    x_77784;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_83811, 32) == 0) {\n            ((__local\n              int64_t *) scan_arr_mem_83815)[sext_i32_i64(local_tid_83811)] =\n                x_77785;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_77760, m_70232) && slt64(gtid_77768, n_70233)) {\n            ((__global int64_t *) mem_82121)[gtid_77760 * n_70233 +\n                                             gtid_77768] = ((__local\n                                                             int64_t *) scan_arr_mem_83815)[sext_i32_i64(local_tid_83811)];\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_77780\n}\n__kernel void mainziscan_stage2_78452(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_83943_backing_aligned_0,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int64_t stage1_num_groups_83912,\n                                      int32_t num_threads_83913, __global\n                                      unsigned char *mem_82175)\n{\n    #define segscan_group_sizze_78463 (mainzisegscan_group_sizze_78446)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_83943_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_83943_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83938;\n    int32_t local_tid_83939;\n    int64_t group_sizze_83942;\n    int32_t wave_sizze_83941;\n    int32_t group_tid_83940;\n    \n    global_tid_83938 = get_global_id(0);\n",
                   "    local_tid_83939 = get_local_id(0);\n    group_sizze_83942 = get_local_size(0);\n    wave_sizze_83941 = LOCKSTEP_WIDTH;\n    group_tid_83940 = get_group_id(0);\n    \n    int32_t phys_tid_78452 = global_tid_83938;\n    __local unsigned char *scan_arr_mem_83943;\n    \n    scan_arr_mem_83943 = (__local unsigned char *) scan_arr_mem_83943_backing_0;\n    \n    int64_t flat_idx_83945 = (sext_i32_i64(local_tid_83939) + (int64_t) 1) *\n            (segscan_group_sizze_78463 * sdiv_up64(m_70232 * n_70233,\n                                                   sext_i32_i64(num_threads_83913))) -\n            (int64_t) 1;\n    int64_t gtid_78443 = squot64(flat_idx_83945, n_70233);\n    int64_t gtid_78451 = flat_idx_83945 - squot64(flat_idx_83945, n_70233) *\n            n_70233;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_78443, m_70232) && slt64(gtid_78451, n_70233)) {\n            ((__local\n              int64_t *) scan_arr_mem_83943)[sext_i32_i64(local_tid_83939)] =\n                ((__global int64_t *) mem_82175)[gtid_78443 * n_70233 +\n                                                 gtid_78451];\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_83943)[sext_i32_i64(local_tid_83939)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_78467;\n    int64_t x_78468;\n    int64_t x_83946;\n    int64_t x_83947;\n    bool ltid_in_bounds_83949 = slt64(sext_i32_i64(local_tid_83939),\n                                      stage1_num_groups_83912);\n    int32_t skip_threads_83950;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_83949) {\n            x_78468 = ((volatile __local\n                        int64_t *) scan_arr_mem_83943)[sext_i32_i64(local_tid_83939)];\n            if ((local_tid_83939 - squot32(local_tid_83939, 32) * 32) == 0) {\n                x_78467 = x_78468;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers need",
                   "ed)\n    {\n        skip_threads_83950 = 1;\n        while (slt32(skip_threads_83950, 32)) {\n            if (sle32(skip_threads_83950, local_tid_83939 -\n                      squot32(local_tid_83939, 32) * 32) &&\n                ltid_in_bounds_83949) {\n                // read operands\n                {\n                    x_78467 = ((volatile __local\n                                int64_t *) scan_arr_mem_83943)[sext_i32_i64(local_tid_83939) -\n                                                               sext_i32_i64(skip_threads_83950)];\n                }\n                // perform operation\n                {\n                    bool inactive_83951 =\n                         slt64(srem64((sext_i32_i64(local_tid_83939) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_78463 *\n                                       sdiv_up64(m_70232 * n_70233,\n                                                 sext_i32_i64(num_threads_83913))) -\n                                      (int64_t) 1, n_70233),\n                               (sext_i32_i64(local_tid_83939) + (int64_t) 1) *\n                               (segscan_group_sizze_78463 * sdiv_up64(m_70232 *\n                                                                      n_70233,\n                                                                      sext_i32_i64(num_threads_83913))) -\n                               (int64_t) 1 - ((sext_i32_i64(local_tid_83939 -\n                                               skip_threads_83950) +\n                                               (int64_t) 1) *\n                                              (segscan_group_sizze_78463 *\n                                               sdiv_up64(m_70232 * n_70233,\n                                                         sext_i32_i64(num_threads_83913))) -\n                                              (int64_t) 1));\n                    \n                    if (inactive_83951) {\n               ",
                   "         x_78467 = x_78468;\n                    }\n                    if (!inactive_83951) {\n                        int64_t defunc_1_op_res_78469 = add64(x_78467, x_78468);\n                        \n                        x_78467 = defunc_1_op_res_78469;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_83941, skip_threads_83950)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (sle32(skip_threads_83950, local_tid_83939 -\n                      squot32(local_tid_83939, 32) * 32) &&\n                ltid_in_bounds_83949) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_83943)[sext_i32_i64(local_tid_83939)] =\n                        x_78467;\n                    x_78468 = x_78467;\n                }\n            }\n            if (sle32(wave_sizze_83941, skip_threads_83950)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_83950 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_83939 - squot32(local_tid_83939, 32) * 32) == 31 &&\n            ltid_in_bounds_83949) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_83943)[sext_i32_i64(squot32(local_tid_83939,\n                                                                  32))] =\n                x_78467;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_83952;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_83939, 32) == 0 && ltid_in_bounds_83949) {\n                x_83947 = ((volatile __local\n                            int64_t *) scan_arr_mem_83943)[sext_i32_i64(local_tid_83939)];\n                if ((local_tid_83939 - squot32(local_tid_83939, 32) * 32) ",
                   "==\n                    0) {\n                    x_83946 = x_83947;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_83952 = 1;\n            while (slt32(skip_threads_83952, 32)) {\n                if (sle32(skip_threads_83952, local_tid_83939 -\n                          squot32(local_tid_83939, 32) * 32) &&\n                    (squot32(local_tid_83939, 32) == 0 &&\n                     ltid_in_bounds_83949)) {\n                    // read operands\n                    {\n                        x_83946 = ((volatile __local\n                                    int64_t *) scan_arr_mem_83943)[sext_i32_i64(local_tid_83939) -\n                                                                   sext_i32_i64(skip_threads_83952)];\n                    }\n                    // perform operation\n                    {\n                        bool inactive_83953 =\n                             slt64(srem64((sext_i32_i64(local_tid_83939 * 32 +\n                                           32 - 1) + (int64_t) 1) *\n                                          (segscan_group_sizze_78463 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_83913))) -\n                                          (int64_t) 1, n_70233),\n                                   (sext_i32_i64(local_tid_83939 * 32 + 32 -\n                                    1) + (int64_t) 1) *\n                                   (segscan_group_sizze_78463 *\n                                    sdiv_up64(m_70232 * n_70233,\n                                              sext_i32_i64(num_threads_83913))) -\n                                   (int64_t) 1 -\n                                   ((sext_i32_i64((local_tid_83939 -\n                                                   skip_threads_83952) * 32 +\n                                     32 - 1) + (int64_t) 1) *\n               ",
                   "                     (segscan_group_sizze_78463 *\n                                     sdiv_up64(m_70232 * n_70233,\n                                               sext_i32_i64(num_threads_83913))) -\n                                    (int64_t) 1));\n                        \n                        if (inactive_83953) {\n                            x_83946 = x_83947;\n                        }\n                        if (!inactive_83953) {\n                            int64_t defunc_1_op_res_83948 = add64(x_83946,\n                                                                  x_83947);\n                            \n                            x_83946 = defunc_1_op_res_83948;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_83941, skip_threads_83952)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (sle32(skip_threads_83952, local_tid_83939 -\n                          squot32(local_tid_83939, 32) * 32) &&\n                    (squot32(local_tid_83939, 32) == 0 &&\n                     ltid_in_bounds_83949)) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_83943)[sext_i32_i64(local_tid_83939)] =\n                            x_83946;\n                        x_83947 = x_83946;\n                    }\n                }\n                if (sle32(wave_sizze_83941, skip_threads_83952)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_83952 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // carry-in for every block except the first\n    {\n        if (!(squot32(local_tid_83939, 32) == 0 || !ltid_in_bounds_83949)) {\n            // read operands\n            {\n                x_78468 = x_78467;\n                x_78467 = ((__local\n                            int64_t *) scan_arr_mem_83943)[sext_i32_i64(squot32(local_ti",
                   "d_83939,\n                                                                                32)) -\n                                                           (int64_t) 1];\n            }\n            // perform operation\n            {\n                bool inactive_83954 =\n                     slt64(srem64((sext_i32_i64(local_tid_83939) +\n                                   (int64_t) 1) * (segscan_group_sizze_78463 *\n                                                   sdiv_up64(m_70232 * n_70233,\n                                                             sext_i32_i64(num_threads_83913))) -\n                                  (int64_t) 1, n_70233),\n                           (sext_i32_i64(local_tid_83939) + (int64_t) 1) *\n                           (segscan_group_sizze_78463 * sdiv_up64(m_70232 *\n                                                                  n_70233,\n                                                                  sext_i32_i64(num_threads_83913))) -\n                           (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_83939,\n                                                                32) * 32 - 1) +\n                                           (int64_t) 1) *\n                                          (segscan_group_sizze_78463 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_83913))) -\n                                          (int64_t) 1));\n                \n                if (inactive_83954) {\n                    x_78467 = x_78468;\n                }\n                if (!inactive_83954) {\n                    int64_t defunc_1_op_res_78469 = add64(x_78467, x_78468);\n                    \n                    x_78467 = defunc_1_op_res_78469;\n                }\n            }\n            // write final result\n            {\n                ((__local\n                  int64_t *) scan_arr_mem_83943)[sext_i32_i64(local_tid_83939)] =\n                    x_7846",
                   "7;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_83939, 32) == 0) {\n            ((__local\n              int64_t *) scan_arr_mem_83943)[sext_i32_i64(local_tid_83939)] =\n                x_78468;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_78443, m_70232) && slt64(gtid_78451, n_70233)) {\n            ((__global int64_t *) mem_82175)[gtid_78443 * n_70233 +\n                                             gtid_78451] = ((__local\n                                                             int64_t *) scan_arr_mem_83943)[sext_i32_i64(local_tid_83939)];\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_78463\n}\n__kernel void mainziscan_stage3_72653(__global int *global_failure,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int64_t num_groups_72665,\n                                      int32_t num_threads_82561,\n                                      int32_t required_groups_82603, __global\n                                      unsigned char *mem_81323)\n{\n    #define segscan_group_sizze_72664 (mainzisegscan_group_sizze_72647)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82604;\n    int32_t local_tid_82605;\n    int64_t group_sizze_82608;\n    int32_t wave_sizze_82607;\n    int32_t group_tid_82606;\n    \n    global_tid_82604 = get_global_id(0);\n    local_tid_82605 = get_local_id(0);\n    group_sizze_82608 = get_local_size(0);\n    wave_sizze_82607 = LOCKSTEP_WIDTH;\n    group_tid_82606 = get_group_id(0);\n    \n    int32_t phys_tid_72653 = global_tid_82604;\n    int32_t phys_group_id_82609;\n    \n    phys_group_id_82609 = get_group_id(0);\n    for (int32_t i_82610 = 0; i_82610 < sdiv_up32(required_group",
                   "s_82603 -\n                                                  phys_group_id_82609,\n                                                  sext_i64_i32(num_groups_72665));\n         i_82610++) {\n        int32_t virt_group_id_82611 = phys_group_id_82609 + i_82610 *\n                sext_i64_i32(num_groups_72665);\n        int64_t flat_idx_82612 = sext_i32_i64(virt_group_id_82611) *\n                segscan_group_sizze_72664 + sext_i32_i64(local_tid_82605);\n        int64_t gtid_72644 = squot64(flat_idx_82612, n_70233);\n        int64_t gtid_72652 = flat_idx_82612 - squot64(flat_idx_82612, n_70233) *\n                n_70233;\n        int64_t orig_group_82613 = squot64(flat_idx_82612,\n                                           segscan_group_sizze_72664 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_82561)));\n        int64_t carry_in_flat_idx_82614 = orig_group_82613 *\n                (segscan_group_sizze_72664 * sdiv_up64(m_70232 * n_70233,\n                                                       sext_i32_i64(num_threads_82561))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_72644, m_70232) && slt64(gtid_72652, n_70233)) {\n            if (!(orig_group_82613 == (int64_t) 0 || (flat_idx_82612 ==\n                                                      (orig_group_82613 +\n                                                       (int64_t) 1) *\n                                                      (segscan_group_sizze_72664 *\n                                                       sdiv_up64(m_70232 *\n                                                                 n_70233,\n                                                                 sext_i32_i64(num_threads_82561))) -\n                                                      (int64_t) 1 ||\n                                                      slt64(srem64(flat_idx_82612,\n                                                        ",
                   "           n_70233),\n                                                            flat_idx_82612 -\n                                                            carry_in_flat_idx_82614)))) {\n                int64_t x_72668;\n                int64_t x_72669;\n                \n                x_72668 = ((__global\n                            int64_t *) mem_81323)[squot64(carry_in_flat_idx_82614,\n                                                          n_70233) * n_70233 +\n                                                  (carry_in_flat_idx_82614 -\n                                                   squot64(carry_in_flat_idx_82614,\n                                                           n_70233) * n_70233)];\n                x_72669 = ((__global int64_t *) mem_81323)[gtid_72644 *\n                                                           n_70233 +\n                                                           gtid_72652];\n                \n                int64_t defunc_1_op_res_72670 = add64(x_72668, x_72669);\n                \n                x_72668 = defunc_1_op_res_72670;\n                ((__global int64_t *) mem_81323)[gtid_72644 * n_70233 +\n                                                 gtid_72652] = x_72668;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_72664\n}\n__kernel void mainziscan_stage3_74336(__global int *global_failure,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int64_t num_groups_74348,\n                                      int32_t num_threads_82902,\n                                      int32_t required_groups_82944, __global\n                                      unsigned char *mem_81557)\n{\n    #define segscan_group_sizze_74347 (mainzisegscan_group_sizze_74330)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n  ",
                   "      return;\n    \n    int32_t global_tid_82945;\n    int32_t local_tid_82946;\n    int64_t group_sizze_82949;\n    int32_t wave_sizze_82948;\n    int32_t group_tid_82947;\n    \n    global_tid_82945 = get_global_id(0);\n    local_tid_82946 = get_local_id(0);\n    group_sizze_82949 = get_local_size(0);\n    wave_sizze_82948 = LOCKSTEP_WIDTH;\n    group_tid_82947 = get_group_id(0);\n    \n    int32_t phys_tid_74336 = global_tid_82945;\n    int32_t phys_group_id_82950;\n    \n    phys_group_id_82950 = get_group_id(0);\n    for (int32_t i_82951 = 0; i_82951 < sdiv_up32(required_groups_82944 -\n                                                  phys_group_id_82950,\n                                                  sext_i64_i32(num_groups_74348));\n         i_82951++) {\n        int32_t virt_group_id_82952 = phys_group_id_82950 + i_82951 *\n                sext_i64_i32(num_groups_74348);\n        int64_t flat_idx_82953 = sext_i32_i64(virt_group_id_82952) *\n                segscan_group_sizze_74347 + sext_i32_i64(local_tid_82946);\n        int64_t gtid_74327 = squot64(flat_idx_82953, n_70233);\n        int64_t gtid_74335 = flat_idx_82953 - squot64(flat_idx_82953, n_70233) *\n                n_70233;\n        int64_t orig_group_82954 = squot64(flat_idx_82953,\n                                           segscan_group_sizze_74347 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_82902)));\n        int64_t carry_in_flat_idx_82955 = orig_group_82954 *\n                (segscan_group_sizze_74347 * sdiv_up64(m_70232 * n_70233,\n                                                       sext_i32_i64(num_threads_82902))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_74327, m_70232) && slt64(gtid_74335, n_70233)) {\n            if (!(orig_group_82954 == (int64_t) 0 || (flat_idx_82953 ==\n                                                      (orig_group_82954 +\n                                        ",
                   "               (int64_t) 1) *\n                                                      (segscan_group_sizze_74347 *\n                                                       sdiv_up64(m_70232 *\n                                                                 n_70233,\n                                                                 sext_i32_i64(num_threads_82902))) -\n                                                      (int64_t) 1 ||\n                                                      slt64(srem64(flat_idx_82953,\n                                                                   n_70233),\n                                                            flat_idx_82953 -\n                                                            carry_in_flat_idx_82955)))) {\n                int64_t x_74351;\n                int64_t x_74352;\n                \n                x_74351 = ((__global\n                            int64_t *) mem_81557)[squot64(carry_in_flat_idx_82955,\n                                                          n_70233) * n_70233 +\n                                                  (carry_in_flat_idx_82955 -\n                                                   squot64(carry_in_flat_idx_82955,\n                                                           n_70233) * n_70233)];\n                x_74352 = ((__global int64_t *) mem_81557)[gtid_74327 *\n                                                           n_70233 +\n                                                           gtid_74335];\n                \n                int64_t defunc_1_op_res_74353 = add64(x_74351, x_74352);\n                \n                x_74351 = defunc_1_op_res_74353;\n                ((__global int64_t *) mem_81557)[gtid_74327 * n_70233 +\n                                                 gtid_74335] = x_74351;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_74347\n}\n__kernel void mainziscan_stage3_76267(__global",
                   " int *global_failure,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int64_t num_groups_76279,\n                                      int32_t num_threads_83285,\n                                      int32_t required_groups_83327, __global\n                                      unsigned char *mem_81849)\n{\n    #define segscan_group_sizze_76278 (mainzisegscan_group_sizze_76261)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83328;\n    int32_t local_tid_83329;\n    int64_t group_sizze_83332;\n    int32_t wave_sizze_83331;\n    int32_t group_tid_83330;\n    \n    global_tid_83328 = get_global_id(0);\n    local_tid_83329 = get_local_id(0);\n    group_sizze_83332 = get_local_size(0);\n    wave_sizze_83331 = LOCKSTEP_WIDTH;\n    group_tid_83330 = get_group_id(0);\n    \n    int32_t phys_tid_76267 = global_tid_83328;\n    int32_t phys_group_id_83333;\n    \n    phys_group_id_83333 = get_group_id(0);\n    for (int32_t i_83334 = 0; i_83334 < sdiv_up32(required_groups_83327 -\n                                                  phys_group_id_83333,\n                                                  sext_i64_i32(num_groups_76279));\n         i_83334++) {\n        int32_t virt_group_id_83335 = phys_group_id_83333 + i_83334 *\n                sext_i64_i32(num_groups_76279);\n        int64_t flat_idx_83336 = sext_i32_i64(virt_group_id_83335) *\n                segscan_group_sizze_76278 + sext_i32_i64(local_tid_83329);\n        int64_t gtid_76258 = squot64(flat_idx_83336, n_70233);\n        int64_t gtid_76266 = flat_idx_83336 - squot64(flat_idx_83336, n_70233) *\n                n_70233;\n        int64_t orig_group_83337 = squot64(flat_idx_83336,\n                                           segscan_group_sizze_76278 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                       ",
                   "              sext_i32_i64(num_threads_83285)));\n        int64_t carry_in_flat_idx_83338 = orig_group_83337 *\n                (segscan_group_sizze_76278 * sdiv_up64(m_70232 * n_70233,\n                                                       sext_i32_i64(num_threads_83285))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_76258, m_70232) && slt64(gtid_76266, n_70233)) {\n            if (!(orig_group_83337 == (int64_t) 0 || (flat_idx_83336 ==\n                                                      (orig_group_83337 +\n                                                       (int64_t) 1) *\n                                                      (segscan_group_sizze_76278 *\n                                                       sdiv_up64(m_70232 *\n                                                                 n_70233,\n                                                                 sext_i32_i64(num_threads_83285))) -\n                                                      (int64_t) 1 ||\n                                                      slt64(srem64(flat_idx_83336,\n                                                                   n_70233),\n                                                            flat_idx_83336 -\n                                                            carry_in_flat_idx_83338)))) {\n                int64_t x_76282;\n                int64_t x_76283;\n                \n                x_76282 = ((__global\n                            int64_t *) mem_81849)[squot64(carry_in_flat_idx_83338,\n                                                          n_70233) * n_70233 +\n                                                  (carry_in_flat_idx_83338 -\n                                                   squot64(carry_in_flat_idx_83338,\n                                                           n_70233) * n_70233)];\n                x_76283 = ((__global int64_t *) mem_81849)[gtid_76258 *\n                                                           n_70233 +\n     ",
                   "                                                      gtid_76266];\n                \n                int64_t defunc_1_op_res_76284 = add64(x_76282, x_76283);\n                \n                x_76282 = defunc_1_op_res_76284;\n                ((__global int64_t *) mem_81849)[gtid_76258 * n_70233 +\n                                                 gtid_76266] = x_76282;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_76278\n}\n__kernel void mainziscan_stage3_77172(__global int *global_failure,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int64_t num_groups_77184,\n                                      int32_t num_threads_83663,\n                                      int32_t required_groups_83705, __global\n                                      unsigned char *mem_82074)\n{\n    #define segscan_group_sizze_77183 (mainzisegscan_group_sizze_77166)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83706;\n    int32_t local_tid_83707;\n    int64_t group_sizze_83710;\n    int32_t wave_sizze_83709;\n    int32_t group_tid_83708;\n    \n    global_tid_83706 = get_global_id(0);\n    local_tid_83707 = get_local_id(0);\n    group_sizze_83710 = get_local_size(0);\n    wave_sizze_83709 = LOCKSTEP_WIDTH;\n    group_tid_83708 = get_group_id(0);\n    \n    int32_t phys_tid_77172 = global_tid_83706;\n    int32_t phys_group_id_83711;\n    \n    phys_group_id_83711 = get_group_id(0);\n    for (int32_t i_83712 = 0; i_83712 < sdiv_up32(required_groups_83705 -\n                                                  phys_group_id_83711,\n                                                  sext_i64_i32(num_groups_77184));\n         i_83712++) {\n        int32_t virt_group_id_83713 = phys_group_id_83711 + i_83712 *\n                sext_i64_i32(nu",
                   "m_groups_77184);\n        int64_t flat_idx_83714 = sext_i32_i64(virt_group_id_83713) *\n                segscan_group_sizze_77183 + sext_i32_i64(local_tid_83707);\n        int64_t gtid_77163 = squot64(flat_idx_83714, n_70233);\n        int64_t gtid_77171 = flat_idx_83714 - squot64(flat_idx_83714, n_70233) *\n                n_70233;\n        int64_t orig_group_83715 = squot64(flat_idx_83714,\n                                           segscan_group_sizze_77183 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_83663)));\n        int64_t carry_in_flat_idx_83716 = orig_group_83715 *\n                (segscan_group_sizze_77183 * sdiv_up64(m_70232 * n_70233,\n                                                       sext_i32_i64(num_threads_83663))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_77163, m_70232) && slt64(gtid_77171, n_70233)) {\n            if (!(orig_group_83715 == (int64_t) 0 || (flat_idx_83714 ==\n                                                      (orig_group_83715 +\n                                                       (int64_t) 1) *\n                                                      (segscan_group_sizze_77183 *\n                                                       sdiv_up64(m_70232 *\n                                                                 n_70233,\n                                                                 sext_i32_i64(num_threads_83663))) -\n                                                      (int64_t) 1 ||\n                                                      slt64(srem64(flat_idx_83714,\n                                                                   n_70233),\n                                                            flat_idx_83714 -\n                                                            carry_in_flat_idx_83716)))) {\n                int64_t x_77187;\n                int64_t x_77188;\n                \n                ",
                   "x_77187 = ((__global\n                            int64_t *) mem_82074)[squot64(carry_in_flat_idx_83716,\n                                                          n_70233) * n_70233 +\n                                                  (carry_in_flat_idx_83716 -\n                                                   squot64(carry_in_flat_idx_83716,\n                                                           n_70233) * n_70233)];\n                x_77188 = ((__global int64_t *) mem_82074)[gtid_77163 *\n                                                           n_70233 +\n                                                           gtid_77171];\n                \n                int64_t defunc_1_op_res_77189 = add64(x_77187, x_77188);\n                \n                x_77187 = defunc_1_op_res_77189;\n                ((__global int64_t *) mem_82074)[gtid_77163 * n_70233 +\n                                                 gtid_77171] = x_77187;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_77183\n}\n__kernel void mainziscan_stage3_77769(__global int *global_failure,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int64_t num_groups_77781,\n                                      int32_t num_threads_83785,\n                                      int32_t required_groups_83827, __global\n                                      unsigned char *mem_82121)\n{\n    #define segscan_group_sizze_77780 (mainzisegscan_group_sizze_77763)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83828;\n    int32_t local_tid_83829;\n    int64_t group_sizze_83832;\n    int32_t wave_sizze_83831;\n    int32_t group_tid_83830;\n    \n    global_tid_83828 = get_global_id(0);\n    local_tid_83829 = get_local_id(0);\n    group_sizze_83832 = get_local_",
                   "size(0);\n    wave_sizze_83831 = LOCKSTEP_WIDTH;\n    group_tid_83830 = get_group_id(0);\n    \n    int32_t phys_tid_77769 = global_tid_83828;\n    int32_t phys_group_id_83833;\n    \n    phys_group_id_83833 = get_group_id(0);\n    for (int32_t i_83834 = 0; i_83834 < sdiv_up32(required_groups_83827 -\n                                                  phys_group_id_83833,\n                                                  sext_i64_i32(num_groups_77781));\n         i_83834++) {\n        int32_t virt_group_id_83835 = phys_group_id_83833 + i_83834 *\n                sext_i64_i32(num_groups_77781);\n        int64_t flat_idx_83836 = sext_i32_i64(virt_group_id_83835) *\n                segscan_group_sizze_77780 + sext_i32_i64(local_tid_83829);\n        int64_t gtid_77760 = squot64(flat_idx_83836, n_70233);\n        int64_t gtid_77768 = flat_idx_83836 - squot64(flat_idx_83836, n_70233) *\n                n_70233;\n        int64_t orig_group_83837 = squot64(flat_idx_83836,\n                                           segscan_group_sizze_77780 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_83785)));\n        int64_t carry_in_flat_idx_83838 = orig_group_83837 *\n                (segscan_group_sizze_77780 * sdiv_up64(m_70232 * n_70233,\n                                                       sext_i32_i64(num_threads_83785))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_77760, m_70232) && slt64(gtid_77768, n_70233)) {\n            if (!(orig_group_83837 == (int64_t) 0 || (flat_idx_83836 ==\n                                                      (orig_group_83837 +\n                                                       (int64_t) 1) *\n                                                      (segscan_group_sizze_77780 *\n                                                       sdiv_up64(m_70232 *\n                                                                 n_70233,\n                         ",
                   "                                        sext_i32_i64(num_threads_83785))) -\n                                                      (int64_t) 1 ||\n                                                      slt64(srem64(flat_idx_83836,\n                                                                   n_70233),\n                                                            flat_idx_83836 -\n                                                            carry_in_flat_idx_83838)))) {\n                int64_t x_77784;\n                int64_t x_77785;\n                \n                x_77784 = ((__global\n                            int64_t *) mem_82121)[squot64(carry_in_flat_idx_83838,\n                                                          n_70233) * n_70233 +\n                                                  (carry_in_flat_idx_83838 -\n                                                   squot64(carry_in_flat_idx_83838,\n                                                           n_70233) * n_70233)];\n                x_77785 = ((__global int64_t *) mem_82121)[gtid_77760 *\n                                                           n_70233 +\n                                                           gtid_77768];\n                \n                int64_t defunc_1_op_res_77786 = add64(x_77784, x_77785);\n                \n                x_77784 = defunc_1_op_res_77786;\n                ((__global int64_t *) mem_82121)[gtid_77760 * n_70233 +\n                                                 gtid_77768] = x_77784;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_77780\n}\n__kernel void mainziscan_stage3_78452(__global int *global_failure,\n                                      int64_t m_70232, int64_t n_70233,\n                                      int64_t num_groups_78464,\n                                      int32_t num_threads_83913,\n                                      int32_t required_groups_83",
                   "955, __global\n                                      unsigned char *mem_82175)\n{\n    #define segscan_group_sizze_78463 (mainzisegscan_group_sizze_78446)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83956;\n    int32_t local_tid_83957;\n    int64_t group_sizze_83960;\n    int32_t wave_sizze_83959;\n    int32_t group_tid_83958;\n    \n    global_tid_83956 = get_global_id(0);\n    local_tid_83957 = get_local_id(0);\n    group_sizze_83960 = get_local_size(0);\n    wave_sizze_83959 = LOCKSTEP_WIDTH;\n    group_tid_83958 = get_group_id(0);\n    \n    int32_t phys_tid_78452 = global_tid_83956;\n    int32_t phys_group_id_83961;\n    \n    phys_group_id_83961 = get_group_id(0);\n    for (int32_t i_83962 = 0; i_83962 < sdiv_up32(required_groups_83955 -\n                                                  phys_group_id_83961,\n                                                  sext_i64_i32(num_groups_78464));\n         i_83962++) {\n        int32_t virt_group_id_83963 = phys_group_id_83961 + i_83962 *\n                sext_i64_i32(num_groups_78464);\n        int64_t flat_idx_83964 = sext_i32_i64(virt_group_id_83963) *\n                segscan_group_sizze_78463 + sext_i32_i64(local_tid_83957);\n        int64_t gtid_78443 = squot64(flat_idx_83964, n_70233);\n        int64_t gtid_78451 = flat_idx_83964 - squot64(flat_idx_83964, n_70233) *\n                n_70233;\n        int64_t orig_group_83965 = squot64(flat_idx_83964,\n                                           segscan_group_sizze_78463 *\n                                           sdiv_up64(m_70232 * n_70233,\n                                                     sext_i32_i64(num_threads_83913)));\n        int64_t carry_in_flat_idx_83966 = orig_group_83965 *\n                (segscan_group_sizze_78463 * sdiv_up64(m_70232 * n_70233,\n                                                       sext_i32_i64(num_threads_83913))) -\n            ",
                   "    (int64_t) 1;\n        \n        if (slt64(gtid_78443, m_70232) && slt64(gtid_78451, n_70233)) {\n            if (!(orig_group_83965 == (int64_t) 0 || (flat_idx_83964 ==\n                                                      (orig_group_83965 +\n                                                       (int64_t) 1) *\n                                                      (segscan_group_sizze_78463 *\n                                                       sdiv_up64(m_70232 *\n                                                                 n_70233,\n                                                                 sext_i32_i64(num_threads_83913))) -\n                                                      (int64_t) 1 ||\n                                                      slt64(srem64(flat_idx_83964,\n                                                                   n_70233),\n                                                            flat_idx_83964 -\n                                                            carry_in_flat_idx_83966)))) {\n                int64_t x_78467;\n                int64_t x_78468;\n                \n                x_78467 = ((__global\n                            int64_t *) mem_82175)[squot64(carry_in_flat_idx_83966,\n                                                          n_70233) * n_70233 +\n                                                  (carry_in_flat_idx_83966 -\n                                                   squot64(carry_in_flat_idx_83966,\n                                                           n_70233) * n_70233)];\n                x_78468 = ((__global int64_t *) mem_82175)[gtid_78443 *\n                                                           n_70233 +\n                                                           gtid_78451];\n                \n                int64_t defunc_1_op_res_78469 = add64(x_78467, x_78468);\n                \n                x_78467 = defunc_1_op_res_78469;\n                ((__global int64_t *) mem_82175)[gtid_78443 * n_",
                   "70233 +\n                                                 gtid_78451] = x_78467;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_78463\n}\n__kernel void mainzisegmap_71584(__global int *global_failure,\n                                 int failure_is_an_option, __global\n                                 int64_t *global_failure_args, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t jump_70237, int64_t n_m_70241,\n                                 int64_t i_70247, unsigned char x_70248,\n                                 int64_t min_res_70253,\n                                 unsigned char loop_cond_70258,\n                                 float i64_res_70259, int64_t num_groups_71764,\n                                 int64_t num_threads_82442, __global\n                                 unsigned char *mem_81224, __global\n                                 unsigned char *mem_81318, __global\n                                 unsigned char *color_82370, __global\n                                 unsigned char *color_82371, __global\n                                 unsigned char *color_82372, __global\n                                 unsigned char *color_82373, __global\n                                 unsigned char *color_82374)\n{\n    #define segmap_group_sizze_71763 (mainzisegmap_group_sizze_71586)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_82528;\n    int32_t local_tid_82529;\n    int64_t group_sizze_82532;\n    int32_t wave_sizze_82531;\n    int32_t group_tid_82530;\n    \n    global_tid_82528 = get_glo",
                   "bal_id(0);\n    local_tid_82529 = get_local_id(0);\n    group_sizze_82532 = get_local_size(0);\n    wave_sizze_82531 = LOCKSTEP_WIDTH;\n    group_tid_82530 = get_group_id(0);\n    \n    int32_t phys_tid_71584 = global_tid_82528;\n    int32_t phys_group_id_82533;\n    \n    phys_group_id_82533 = get_group_id(0);\n    for (int32_t i_82534 = 0; i_82534 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_70232, segmap_group_sizze_71763)) -\n                   phys_group_id_82533, sext_i64_i32(num_groups_71764));\n         i_82534++) {\n        int32_t virt_group_id_82535 = phys_group_id_82533 + i_82534 *\n                sext_i64_i32(num_groups_71764);\n        int64_t global_tid_82536 = sext_i32_i64(virt_group_id_82535) *\n                segmap_group_sizze_71763 + sext_i32_i64(local_tid_82529);\n        int64_t slice_82537 = m_70232;\n        int64_t gtid_71583 = global_tid_82536;\n        int64_t remnant_82538 = global_tid_82536 - gtid_71583;\n        \n        if (slt64(gtid_71583, m_70232)) {\n            int64_t discard_81032;\n            int64_t scanacc_81028 = (int64_t) 0;\n            \n            for (int64_t i_81030 = 0; i_81030 < n_70233; i_81030++) {\n                float x_71772 = ((__global float *) mem_81224)[i_81030 *\n                                                               m_70232 +\n                                                               gtid_71583];\n                bool isnan_res_71773;\n                \n                isnan_res_71773 = futrts_isnan32(x_71772);\n                \n                bool defunc_0_p_res_71774 = !isnan_res_71773;\n                int64_t defunc_0_f_res_71775 =\n                        btoi_bool_i64(defunc_0_p_res_71774);\n                int64_t defunc_1_op_res_71771 = add64(defunc_0_f_res_71775,\n                                                      scanacc_81028);\n                \n                ((__global int64_t *) color_82372)[phys_tid_71584 + i_81030 *\n                                                   num_threads_82442] =\n               ",
                   "     defunc_1_op_res_71771;\n                \n                int64_t scanacc_tmp_82539 = defunc_1_op_res_71771;\n                \n                scanacc_81028 = scanacc_tmp_82539;\n            }\n            discard_81032 = scanacc_81028;\n            \n            int64_t last_res_71776 = ((__global\n                                       int64_t *) color_82372)[phys_tid_71584 +\n                                                               i_70247 *\n                                                               num_threads_82442];\n            \n            for (int64_t i_82541 = 0; i_82541 < n_70233; i_82541++) {\n                ((__global float *) color_82374)[phys_tid_71584 + i_82541 *\n                                                 num_threads_82442] = 0.0F;\n            }\n            for (int64_t i_82542 = 0; i_82542 < n_70233; i_82542++) {\n                ((__global int64_t *) color_82373)[phys_tid_71584 + i_82542 *\n                                                   num_threads_82442] =\n                    (int64_t) -1;\n            }\n            for (int64_t write_iter_81033 = 0; write_iter_81033 < n_70233;\n                 write_iter_81033++) {\n                float write_iv_81036 = ((__global\n                                         float *) mem_81224)[write_iter_81033 *\n                                                             m_70232 +\n                                                             gtid_71583];\n                bool isnan_res_71784;\n                \n                isnan_res_71784 = futrts_isnan32(write_iv_81036);\n                \n                bool defunc_0_p_res_71785 = !isnan_res_71784;\n                int64_t defunc_1_f_res_71786;\n                \n                if (defunc_0_p_res_71785) {\n                    int64_t write_iv_81037 = ((__global\n                                               int64_t *) color_82372)[phys_tid_71584 +\n                                                                       write_iter_81033 *\n                   ",
                   "                                                    num_threads_82442];\n                    int64_t defunc_1_f_res_t_res_71787 = sub64(write_iv_81037,\n                                                               (int64_t) 1);\n                    \n                    defunc_1_f_res_71786 = defunc_1_f_res_t_res_71787;\n                } else {\n                    defunc_1_f_res_71786 = (int64_t) -1;\n                }\n                if (sle64((int64_t) 0, defunc_1_f_res_71786) &&\n                    slt64(defunc_1_f_res_71786, n_70233)) {\n                    ((__global int64_t *) color_82373)[phys_tid_71584 +\n                                                       defunc_1_f_res_71786 *\n                                                       num_threads_82442] =\n                        write_iter_81033;\n                }\n                if (sle64((int64_t) 0, defunc_1_f_res_71786) &&\n                    slt64(defunc_1_f_res_71786, n_70233)) {\n                    for (int64_t i_82545 = 0; i_82545 < (int64_t) 1;\n                         i_82545++) {\n                        ((__global float *) color_82374)[phys_tid_71584 +\n                                                         num_threads_82442 *\n                                                         defunc_1_f_res_71786 +\n                                                         i_82545 *\n                                                         num_threads_82442] =\n                            ((__global float *) mem_81224)[m_70232 *\n                                                           write_iter_81033 +\n                                                           gtid_71583 +\n                                                           i_82545 * m_70232];\n                    }\n                }\n            }\n            for (int64_t i_81043 = 0; i_81043 < n_70233; i_81043++) {\n                int64_t x_71789 = ((__global\n                                    int64_t *) color_82373)[phys_tid_71584 +\n                   ",
                   "                                         i_81043 *\n                                                            num_threads_82442];\n                int64_t defunc_0_f_res_71790 = add64((int64_t) 1, x_71789);\n                \n                ((__global int64_t *) color_82372)[phys_tid_71584 + i_81043 *\n                                                   num_threads_82442] =\n                    defunc_0_f_res_71790;\n            }\n            \n            int64_t min_arg_71791 = sub64(last_res_71776, (int64_t) 1);\n            int64_t min_arg_71792 = sub64(last_res_71776, min_res_70253);\n            int64_t min_res_71793 = smin64(q_70235, last_res_71776);\n            float i64_res_71794 = sitofp_i64_f32(last_res_71776);\n            float x_71795 = i64_res_70259 - i64_res_71794;\n            float max_arg_71796 = x_71795 / 2.0F;\n            float max_res_71797 = fmax32(0.0F, max_arg_71796);\n            \n            for (int64_t i_81047 = 0; i_81047 < q_70235; i_81047++) {\n                bool cond_71800 = sle64(last_res_71776, i_81047);\n                float defunc_0_f_res_71801;\n                \n                if (cond_71800) {\n                    defunc_0_f_res_71801 = 0.0F;\n                } else {\n                    defunc_0_f_res_71801 = 1.0F;\n                }\n                ((__global float *) color_82371)[phys_tid_71584 + i_81047 *\n                                                 num_threads_82442] =\n                    defunc_0_f_res_71801;\n            }\n            for (int64_t i_81051 = 0; i_81051 < n_m_70241; i_81051++) {\n                int64_t min_arg_71804 = mul64(jump_70237, i_81051);\n                int64_t min_res_71805 = smin64(i_70247, min_arg_71804);\n                int64_t defunc_0_g_res_71806 = add64((int64_t) 1,\n                                                     min_res_71805);\n                bool init_idx_71807;\n                int64_t init_idx_71808;\n                int64_t init_idx_71809;\n                bool loop_while_71810;\n              ",
                   "  int64_t low_71811;\n                int64_t high_71812;\n                \n                loop_while_71810 = x_70248;\n                low_71811 = (int64_t) 0;\n                high_71812 = i_70247;\n                while (loop_while_71810) {\n                    int64_t x_71813 = add64(low_71811, high_71812);\n                    int64_t mid_71814 = sdiv64(x_71813, (int64_t) 2);\n                    bool x_71815 = sle64((int64_t) 0, mid_71814);\n                    bool y_71816 = slt64(mid_71814, n_70233);\n                    bool bounds_check_71817 = x_71815 && y_71816;\n                    bool index_certs_71818;\n                    \n                    if (!bounds_check_71817) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1,\n                                                          0) == -1) {\n                                global_failure_args[0] = (int64_t) mid_71814;\n                                global_failure_args[1] = (int64_t) n_70233;\n                                ;\n                            }\n                            local_failure = true;\n                            goto error_0;\n                        }\n                    }\n                    \n                    int64_t mid_id_71819 = ((__global\n                                             int64_t *) color_82372)[phys_tid_71584 +\n                                                                     mid_71814 *\n                                                                     num_threads_82442];\n                    bool cond_71820 = slt64(mid_id_71819, (int64_t) 0);\n                    int64_t mid_idx_71821;\n                    \n                    if (cond_71820) {\n                        mid_idx_71821 = (int64_t) 9223372036854775807;\n                    } else {\n                        mid_idx_71821 = mid_id_71819;\n                    }\n                    \n                    bool cond_71822 = sle64(defunc_0_g_res_71806,\n                ",
                   "                            mid_idx_71821);\n                    int64_t loopres_71823;\n                    int64_t loopres_71824;\n                    \n                    if (cond_71822) {\n                        int64_t loopres_t_res_71825 = sub64(mid_71814,\n                                                            (int64_t) 1);\n                        \n                        loopres_71823 = low_71811;\n                        loopres_71824 = loopres_t_res_71825;\n                    } else {\n                        int64_t loopres_f_res_71826 = add64((int64_t) 1,\n                                                            mid_71814);\n                        \n                        loopres_71823 = loopres_f_res_71826;\n                        loopres_71824 = high_71812;\n                    }\n                    \n                    bool loop_cond_71827 = sle64(loopres_71823, loopres_71824);\n                    bool loop_while_tmp_82549 = loop_cond_71827;\n                    int64_t low_tmp_82550 = loopres_71823;\n                    int64_t high_tmp_82551 = loopres_71824;\n                    \n                    loop_while_71810 = loop_while_tmp_82549;\n                    low_71811 = low_tmp_82550;\n                    high_71812 = high_tmp_82551;\n                }\n                init_idx_71807 = loop_while_71810;\n                init_idx_71808 = low_71811;\n                init_idx_71809 = high_71812;\n                \n                bool idx_71828;\n                int64_t idx_71829;\n                int64_t idx_71830;\n                int64_t idx_71831;\n                bool loop_while_71832;\n                int64_t l_idx_71833;\n                int64_t r_idx_71834;\n                int64_t span_71835;\n                \n                loop_while_71832 = loop_cond_70258;\n                l_idx_71833 = init_idx_71808;\n                r_idx_71834 = init_idx_71808;\n                span_71835 = (int64_t) 1;\n                while (loop_while_71832) {\n                    int64",
                   "_t max_arg_71836 = sub64(l_idx_71833, (int64_t) 1);\n                    int64_t max_res_71837 = smax64((int64_t) 0, max_arg_71836);\n                    int64_t min_arg_71838 = add64((int64_t) 1, r_idx_71834);\n                    int64_t min_res_71839 = smin64(min_arg_71791,\n                                                   min_arg_71838);\n                    bool x_71840 = sle64((int64_t) 0, max_res_71837);\n                    bool y_71841 = slt64(max_res_71837, n_70233);\n                    bool bounds_check_71842 = x_71840 && y_71841;\n                    bool index_certs_71843;\n                    \n                    if (!bounds_check_71842) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1,\n                                                          1) == -1) {\n                                global_failure_args[0] =\n                                    (int64_t) max_res_71837;\n                                global_failure_args[1] = (int64_t) n_70233;\n                                ;\n                            }\n                            local_failure = true;\n                            goto error_0;\n                        }\n                    }\n                    \n                    int64_t x_71844 = ((__global\n                                        int64_t *) color_82372)[phys_tid_71584 +\n                                                                max_res_71837 *\n                                                                num_threads_82442];\n                    int64_t abs_arg_71845 = sub64(x_71844,\n                                                  defunc_0_g_res_71806);\n                    int64_t abs_res_71846 = abs64(abs_arg_71845);\n                    bool x_71847 = sle64((int64_t) 0, min_res_71839);\n                    bool y_71848 = slt64(min_res_71839, n_70233);\n                    bool bounds_check_71849 = x_71847 && y_71848;\n                    bool index_certs_71850;\n             ",
                   "       \n                    if (!bounds_check_71849) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1,\n                                                          2) == -1) {\n                                global_failure_args[0] =\n                                    (int64_t) min_res_71839;\n                                global_failure_args[1] = (int64_t) n_70233;\n                                ;\n                            }\n                            local_failure = true;\n                            goto error_0;\n                        }\n                    }\n                    \n                    int64_t x_71851 = ((__global\n                                        int64_t *) color_82372)[phys_tid_71584 +\n                                                                min_res_71839 *\n                                                                num_threads_82442];\n                    int64_t abs_arg_71852 = sub64(x_71851,\n                                                  defunc_0_g_res_71806);\n                    int64_t abs_res_71853 = abs64(abs_arg_71852);\n                    bool cond_71854 = max_res_71837 == l_idx_71833;\n                    int64_t loopres_71855;\n                    int64_t loopres_71856;\n                    int64_t loopres_71857;\n                    \n                    if (cond_71854) {\n                        loopres_71855 = l_idx_71833;\n                        loopres_71856 = r_idx_71834;\n                        loopres_71857 = min_res_70253;\n                    } else {\n                        bool cond_71858 = slt64(abs_res_71846, abs_res_71853);\n                        bool cond_f_res_71859 = min_res_71839 == r_idx_71834;\n                        bool x_71860 = !cond_71858;\n                        bool y_71861 = cond_f_res_71859 && x_71860;\n                        bool cond_71862 = cond_71858 || y_71861;\n                        int64_t loopres_f_res_71863;\n                   ",
                   "     \n                        if (cond_71862) {\n                            loopres_f_res_71863 = max_res_71837;\n                        } else {\n                            loopres_f_res_71863 = l_idx_71833;\n                        }\n                        \n                        int64_t loopres_f_res_71864;\n                        \n                        if (cond_71862) {\n                            loopres_f_res_71864 = r_idx_71834;\n                        } else {\n                            loopres_f_res_71864 = min_res_71839;\n                        }\n                        \n                        int64_t loopres_f_res_71865;\n                        \n                        if (cond_71862) {\n                            int64_t loopres_f_res_t_res_71866 =\n                                    add64((int64_t) 1, span_71835);\n                            \n                            loopres_f_res_71865 = loopres_f_res_t_res_71866;\n                        } else {\n                            int64_t loopres_f_res_f_res_71867 =\n                                    add64((int64_t) 1, span_71835);\n                            \n                            loopres_f_res_71865 = loopres_f_res_f_res_71867;\n                        }\n                        loopres_71855 = loopres_f_res_71863;\n                        loopres_71856 = loopres_f_res_71864;\n                        loopres_71857 = loopres_f_res_71865;\n                    }\n                    \n                    bool loop_cond_71868 = slt64(loopres_71857, min_res_70253);\n                    bool loop_while_tmp_82552 = loop_cond_71868;\n                    int64_t l_idx_tmp_82553 = loopres_71855;\n                    int64_t r_idx_tmp_82554 = loopres_71856;\n                    int64_t span_tmp_82555 = loopres_71857;\n                    \n                    loop_while_71832 = loop_while_tmp_82552;\n                    l_idx_71833 = l_idx_tmp_82553;\n                    r_idx_71834 = r_idx_tmp_82554;\n                ",
                   "    span_71835 = span_tmp_82555;\n                }\n                idx_71828 = loop_while_71832;\n                idx_71829 = l_idx_71833;\n                idx_71830 = r_idx_71834;\n                idx_71831 = span_71835;\n                \n                int64_t min_res_71869 = smin64(min_arg_71792, idx_71829);\n                int64_t max_res_71870 = smax64((int64_t) 0, min_res_71869);\n                int64_t x_71871 = add64(min_res_71793, max_res_71870);\n                int64_t r_71872 = sub64(x_71871, (int64_t) 1);\n                bool x_71873 = sle64((int64_t) 0, r_71872);\n                bool y_71874 = slt64(r_71872, n_70233);\n                bool bounds_check_71875 = x_71873 && y_71874;\n                bool index_certs_71876;\n                \n                if (!bounds_check_71875) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 3) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) r_71872;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_71877 = ((__global\n                                    int64_t *) color_82373)[phys_tid_71584 +\n                                                            r_71872 *\n                                                            num_threads_82442];\n                int64_t abs_arg_71878 = sub64(x_71877, min_res_71805);\n                int64_t abs_res_71879 = abs64(abs_arg_71878);\n                bool x_71880 = sle64((int64_t) 0, max_res_71870);\n                bool y_71881 = slt64(max_res_71870, n_70233);\n                bool bounds_check_71882 = x_71880 && y_71881;\n                bool index_certs_71883;\n                \n                if (!bounds_check_71882) {\n                    {\n        ",
                   "                if (atomic_cmpxchg_i32_global(global_failure, -1, 4) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) max_res_71870;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_71884 = ((__global\n                                    int64_t *) color_82373)[phys_tid_71584 +\n                                                            max_res_71870 *\n                                                            num_threads_82442];\n                int64_t abs_arg_71885 = sub64(x_71884, min_res_71805);\n                int64_t abs_res_71886 = abs64(abs_arg_71885);\n                int64_t max_res_71887 = smax64(abs_res_71879, abs_res_71886);\n                float defunc_0_f_res_71888 = sitofp_i64_f32(max_res_71887);\n                float defunc_1_f_res_71889 = max_res_71797 +\n                      defunc_0_f_res_71888;\n                float defunc_2_reduce_res_71890;\n                float redout_81053 = 0.0F;\n                \n                for (int64_t i_81054 = 0; i_81054 < q_70235; i_81054++) {\n                    float x_71895 = ((__global\n                                      float *) color_82371)[phys_tid_71584 +\n                                                            i_81054 *\n                                                            num_threads_82442];\n                    bool cond_71896 = sle64(last_res_71776, i_81054);\n                    int64_t defunc_0_f_res_71897;\n                    \n                    if (cond_71896) {\n                        defunc_0_f_res_71897 = (int64_t) 0;\n                    } else {\n                        int64_t i_71898 = add64(max_res_71870, i_81054);\n                        int64_t defunc_0_add_arg_71899 = ((__global\n           ",
                   "                                                int64_t *) color_82373)[phys_tid_71584 +\n                                                                                   i_71898 *\n                                                                                   num_threads_82442];\n                        int64_t defunc_1_add_res_71900 = add64((int64_t) 1,\n                                                               defunc_0_add_arg_71899);\n                        \n                        defunc_0_f_res_71897 = defunc_1_add_res_71900;\n                    }\n                    \n                    int64_t binop_p_71901 = sub64(defunc_0_f_res_71897,\n                                                  min_res_71805);\n                    float defunc_0_f_res_71902 = sitofp_i64_f32(binop_p_71901);\n                    float abs_res_71903 = (float) fabs(defunc_0_f_res_71902);\n                    float tmp1_71904 = abs_res_71903 / defunc_1_f_res_71889;\n                    float x_71905 = tmp1_71904 * tmp1_71904;\n                    float y_71906 = tmp1_71904 * x_71905;\n                    float tmp2_71907 = 1.0F - y_71906;\n                    float x_71908 = tmp2_71907 * tmp2_71907;\n                    float tmp3_71909 = tmp2_71907 * x_71908;\n                    float w_j_71910 = x_71895 * tmp3_71909;\n                    float defunc_1_op_res_71893 = w_j_71910 + redout_81053;\n                    float redout_tmp_82556 = defunc_1_op_res_71893;\n                    \n                    redout_81053 = redout_tmp_82556;\n                }\n                defunc_2_reduce_res_71890 = redout_81053;\n                \n                float a0_71911 = 1.0F / defunc_2_reduce_res_71890;\n                float defunc_2_reduce_res_71912;\n                float redout_81055 = 0.0F;\n                \n                for (int64_t i_81056 = 0; i_81056 < q_70235; i_81056++) {\n                    float x_71917 = ((__global\n                                      float *) color_82371)[phys_tid_71584 ",
                   "+\n                                                            i_81056 *\n                                                            num_threads_82442];\n                    bool cond_71918 = sle64(last_res_71776, i_81056);\n                    int64_t defunc_0_f_res_71919;\n                    \n                    if (cond_71918) {\n                        defunc_0_f_res_71919 = (int64_t) 0;\n                    } else {\n                        int64_t i_71920 = add64(max_res_71870, i_81056);\n                        int64_t defunc_0_add_arg_71921 = ((__global\n                                                           int64_t *) color_82373)[phys_tid_71584 +\n                                                                                   i_71920 *\n                                                                                   num_threads_82442];\n                        int64_t defunc_1_add_res_71922 = add64((int64_t) 1,\n                                                               defunc_0_add_arg_71921);\n                        \n                        defunc_0_f_res_71919 = defunc_1_add_res_71922;\n                    }\n                    \n                    int64_t binop_p_71923 = sub64(defunc_0_f_res_71919,\n                                                  min_res_71805);\n                    float defunc_0_f_res_71924 = sitofp_i64_f32(binop_p_71923);\n                    float abs_res_71925 = (float) fabs(defunc_0_f_res_71924);\n                    float tmp1_71926 = abs_res_71925 / defunc_1_f_res_71889;\n                    float x_71927 = tmp1_71926 * tmp1_71926;\n                    float y_71928 = tmp1_71926 * x_71927;\n                    float tmp2_71929 = 1.0F - y_71928;\n                    float x_71930 = tmp2_71929 * tmp2_71929;\n                    float tmp3_71931 = tmp2_71929 * x_71930;\n                    float tmp4_71932 = x_71917 * tmp3_71931;\n                    float defunc_0_f_res_71933;\n                    \n                    if (cond_71918) {\n   ",
                   "                     defunc_0_f_res_71933 = 0.0F;\n                    } else {\n                        int64_t i_71934 = add64(max_res_71870, i_81056);\n                        float defunc_0_add_arg_71935 = ((__global\n                                                         float *) color_82374)[phys_tid_71584 +\n                                                                               i_71934 *\n                                                                               num_threads_82442];\n                        \n                        defunc_0_f_res_71933 = defunc_0_add_arg_71935;\n                    }\n                    \n                    float x_71936 = a0_71911 * tmp4_71932;\n                    float defunc_9_fit_fun_res_71937 = defunc_0_f_res_71933 *\n                          x_71936;\n                    float defunc_1_op_res_71915 = defunc_9_fit_fun_res_71937 +\n                          redout_81055;\n                    float redout_tmp_82557 = defunc_1_op_res_71915;\n                    \n                    redout_81055 = redout_tmp_82557;\n                }\n                defunc_2_reduce_res_71912 = redout_81055;\n                ((__global float *) color_82370)[phys_tid_71584 + i_81051 *\n                                                 num_threads_82442] =\n                    defunc_2_reduce_res_71912;\n            }\n            for (int64_t i_82558 = 0; i_82558 < n_m_70241; i_82558++) {\n                ((__global float *) mem_81318)[gtid_71583 + i_82558 * m_70232] =\n                    ((__global float *) color_82370)[phys_tid_71584 + i_82558 *\n                                                     num_threads_82442];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_71763\n}\n__kernel void mainzisegmap_72164(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_m_70241, __global\n                                 unsign",
                   "ed char *mem_81420, __global\n                                 unsigned char *mem_81425)\n{\n    #define segmap_group_sizze_73049 (mainzisegmap_group_sizze_72167)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82780;\n    int32_t local_tid_82781;\n    int64_t group_sizze_82784;\n    int32_t wave_sizze_82783;\n    int32_t group_tid_82782;\n    \n    global_tid_82780 = get_global_id(0);\n    local_tid_82781 = get_local_id(0);\n    group_sizze_82784 = get_local_size(0);\n    wave_sizze_82783 = LOCKSTEP_WIDTH;\n    group_tid_82782 = get_group_id(0);\n    \n    int32_t phys_tid_72164 = global_tid_82780;\n    int64_t global_tid_82785 = sext_i32_i64(group_tid_82782) *\n            segmap_group_sizze_73049 + sext_i32_i64(local_tid_82781);\n    int64_t slice_82786 = n_m_70241;\n    int64_t slice_82787 = m_70232 * slice_82786;\n    int64_t gtid_72162 = squot64(global_tid_82785, slice_82786);\n    int64_t remnant_82788 = global_tid_82785 - gtid_72162 * slice_82786;\n    int64_t gtid_72163 = remnant_82788;\n    int64_t remnant_82789 = remnant_82788 - gtid_72163;\n    \n    if (slt64(gtid_72162, m_70232) && slt64(gtid_72163, n_m_70241)) {\n        float defunc_2_reduce_res_73052 = ((__global\n                                            float *) mem_81420)[gtid_72162 *\n                                                                n_m_70241 +\n                                                                gtid_72163];\n        float a0_73053 = 1.0F / defunc_2_reduce_res_73052;\n        \n        ((__global float *) mem_81425)[gtid_72162 * n_m_70241 + gtid_72163] =\n            a0_73053;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_73049\n}\n__kernel void mainzisegmap_72215(__global int *global_failure,\n                                 int failure_is_an_option, __global\n                                 int64_t *global_failure_args, int64_t m_70232,\n                    ",
                   "             int64_t n_70233, int64_t jump_70237,\n                                 int64_t n_m_70241, int64_t i_70247,\n                                 unsigned char x_70248, int64_t min_res_70253,\n                                 unsigned char loop_cond_70258, __global\n                                 unsigned char *mem_81331, __global\n                                 unsigned char *mem_81337, __global\n                                 unsigned char *mem_81341, __global\n                                 unsigned char *mem_81344, __global\n                                 unsigned char *mem_81347, __global\n                                 unsigned char *mem_81350, __global\n                                 unsigned char *mem_81407, __global\n                                 unsigned char *mem_81411, __global\n                                 unsigned char *mem_81415)\n{\n    #define segmap_group_sizze_72913 (mainzisegmap_group_sizze_72218)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82695;\n    int32_t local_tid_82696;\n    int64_t group_sizze_82699;\n    int32_t wave_sizze_82698;\n    int32_t group_tid_82697;\n    \n    global_tid_82695 = get_global_id(0);\n    local_tid_82696 = get_local_id(0);\n    group_sizze_82699 = get_local_size(0);\n    wave_sizze_82698 = LOCKSTEP_WIDTH;\n    group_tid_82697 = get_group_id(0);\n    \n    int32_t phys_tid_72215 = global_tid_82695;\n    int64_t global_tid_82700 = sext_i32_i64(group_tid_82697) *\n            segmap_group_sizze_72913 + sext_i32_i64(local_tid_82696);\n    int64_t slice_82701 = n_m_70241;\n    int64_t slice_82702 = m_70232 * slice_82701;\n    int64_t gtid_72213 = squot64(global_tid_82700, slice_82701);\n    int64_t remnant_82703 = global_tid_82700 - gtid_72213 * slice_82701;\n    int64_t gtid_72214 = remnant_82703;\n    int64_t remnant_82704 = remnant_82703 - gtid_72214;\n    \n    if (slt64(gtid_72213, m_70232) && ",
                   "slt64(gtid_72214, n_m_70241)) {\n        int64_t min_arg_72920 = ((__global int64_t *) mem_81341)[gtid_72213];\n        int64_t min_arg_72921 = ((__global int64_t *) mem_81344)[gtid_72213];\n        int64_t min_res_72922 = ((__global int64_t *) mem_81347)[gtid_72213];\n        float max_res_72923 = ((__global float *) mem_81350)[gtid_72213];\n        int64_t min_arg_72925 = mul64(jump_70237, gtid_72214);\n        int64_t min_res_72926 = smin64(i_70247, min_arg_72925);\n        int64_t defunc_0_g_res_72927 = add64((int64_t) 1, min_res_72926);\n        bool init_idx_72928;\n        int64_t init_idx_72929;\n        int64_t init_idx_72930;\n        bool loop_while_72931;\n        int64_t low_72932;\n        int64_t high_72933;\n        \n        loop_while_72931 = x_70248;\n        low_72932 = (int64_t) 0;\n        high_72933 = i_70247;\n        while (loop_while_72931) {\n            int64_t x_72934 = add64(low_72932, high_72933);\n            int64_t mid_72935 = sdiv64(x_72934, (int64_t) 2);\n            bool x_72936 = sle64((int64_t) 0, mid_72935);\n            bool y_72937 = slt64(mid_72935, n_70233);\n            bool bounds_check_72938 = x_72936 && y_72937;\n            bool index_certs_72939;\n            \n            if (!bounds_check_72938) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 10) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) mid_72935;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t mid_id_72940 = ((__global int64_t *) mem_81337)[gtid_72213 *\n                                                                    n_70233 +\n                                                                    mid_72935];\n            bool cond_72941 = slt64(mid_id_72940, (int64_t) 0);\n            int64_t mid_idx_72942;\n            \n            if (cond_7",
                   "2941) {\n                mid_idx_72942 = (int64_t) 9223372036854775807;\n            } else {\n                mid_idx_72942 = mid_id_72940;\n            }\n            \n            bool cond_72943 = sle64(defunc_0_g_res_72927, mid_idx_72942);\n            int64_t loopres_72944;\n            int64_t loopres_72945;\n            \n            if (cond_72943) {\n                int64_t loopres_t_res_72946 = sub64(mid_72935, (int64_t) 1);\n                \n                loopres_72944 = low_72932;\n                loopres_72945 = loopres_t_res_72946;\n            } else {\n                int64_t loopres_f_res_72947 = add64((int64_t) 1, mid_72935);\n                \n                loopres_72944 = loopres_f_res_72947;\n                loopres_72945 = high_72933;\n            }\n            \n            bool loop_cond_72948 = sle64(loopres_72944, loopres_72945);\n            bool loop_while_tmp_82705 = loop_cond_72948;\n            int64_t low_tmp_82706 = loopres_72944;\n            int64_t high_tmp_82707 = loopres_72945;\n            \n            loop_while_72931 = loop_while_tmp_82705;\n            low_72932 = low_tmp_82706;\n            high_72933 = high_tmp_82707;\n        }\n        init_idx_72928 = loop_while_72931;\n        init_idx_72929 = low_72932;\n        init_idx_72930 = high_72933;\n        \n        bool idx_72949;\n        int64_t idx_72950;\n        int64_t idx_72951;\n        int64_t idx_72952;\n        bool loop_while_72953;\n        int64_t l_idx_72954;\n        int64_t r_idx_72955;\n        int64_t span_72956;\n        \n        loop_while_72953 = loop_cond_70258;\n        l_idx_72954 = init_idx_72929;\n        r_idx_72955 = init_idx_72929;\n        span_72956 = (int64_t) 1;\n        while (loop_while_72953) {\n            int64_t max_arg_72957 = sub64(l_idx_72954, (int64_t) 1);\n            int64_t max_res_72958 = smax64((int64_t) 0, max_arg_72957);\n            int64_t min_arg_72959 = add64((int64_t) 1, r_idx_72955);\n            int64_t min_res_72960 = smin64(min_arg_72920, min_arg_72959);\n  ",
                   "          bool x_72961 = sle64((int64_t) 0, max_res_72958);\n            bool y_72962 = slt64(max_res_72958, n_70233);\n            bool bounds_check_72963 = x_72961 && y_72962;\n            bool index_certs_72964;\n            \n            if (!bounds_check_72963) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 11) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) max_res_72958;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t x_72965 = ((__global int64_t *) mem_81337)[gtid_72213 *\n                                                               n_70233 +\n                                                               max_res_72958];\n            int64_t abs_arg_72966 = sub64(x_72965, defunc_0_g_res_72927);\n            int64_t abs_res_72967 = abs64(abs_arg_72966);\n            bool x_72968 = sle64((int64_t) 0, min_res_72960);\n            bool y_72969 = slt64(min_res_72960, n_70233);\n            bool bounds_check_72970 = x_72968 && y_72969;\n            bool index_certs_72971;\n            \n            if (!bounds_check_72970) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 12) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) min_res_72960;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t x_72972 = ((__global int64_t *) mem_81337)[gtid_72213 *\n                                                               n_70233 +\n                                                               min_res_72960];\n            int64_t abs_arg_72973 = sub64(x_72972, defunc_0_g_res_72927);\n            int64_t abs_res_7297",
                   "4 = abs64(abs_arg_72973);\n            bool cond_72975 = max_res_72958 == l_idx_72954;\n            int64_t loopres_72976;\n            int64_t loopres_72977;\n            int64_t loopres_72978;\n            \n            if (cond_72975) {\n                loopres_72976 = l_idx_72954;\n                loopres_72977 = r_idx_72955;\n                loopres_72978 = min_res_70253;\n            } else {\n                bool cond_72979 = slt64(abs_res_72967, abs_res_72974);\n                bool cond_f_res_72980 = min_res_72960 == r_idx_72955;\n                bool x_72981 = !cond_72979;\n                bool y_72982 = cond_f_res_72980 && x_72981;\n                bool cond_72983 = cond_72979 || y_72982;\n                int64_t loopres_f_res_72984;\n                \n                if (cond_72983) {\n                    loopres_f_res_72984 = max_res_72958;\n                } else {\n                    loopres_f_res_72984 = l_idx_72954;\n                }\n                \n                int64_t loopres_f_res_72985;\n                \n                if (cond_72983) {\n                    loopres_f_res_72985 = r_idx_72955;\n                } else {\n                    loopres_f_res_72985 = min_res_72960;\n                }\n                \n                int64_t loopres_f_res_72986;\n                \n                if (cond_72983) {\n                    int64_t loopres_f_res_t_res_72987 = add64((int64_t) 1,\n                                                              span_72956);\n                    \n                    loopres_f_res_72986 = loopres_f_res_t_res_72987;\n                } else {\n                    int64_t loopres_f_res_f_res_72988 = add64((int64_t) 1,\n                                                              span_72956);\n                    \n                    loopres_f_res_72986 = loopres_f_res_f_res_72988;\n                }\n                loopres_72976 = loopres_f_res_72984;\n                loopres_72977 = loopres_f_res_72985;\n                loopres_72978 = loopres_f_res",
                   "_72986;\n            }\n            \n            bool loop_cond_72989 = slt64(loopres_72978, min_res_70253);\n            bool loop_while_tmp_82708 = loop_cond_72989;\n            int64_t l_idx_tmp_82709 = loopres_72976;\n            int64_t r_idx_tmp_82710 = loopres_72977;\n            int64_t span_tmp_82711 = loopres_72978;\n            \n            loop_while_72953 = loop_while_tmp_82708;\n            l_idx_72954 = l_idx_tmp_82709;\n            r_idx_72955 = r_idx_tmp_82710;\n            span_72956 = span_tmp_82711;\n        }\n        idx_72949 = loop_while_72953;\n        idx_72950 = l_idx_72954;\n        idx_72951 = r_idx_72955;\n        idx_72952 = span_72956;\n        \n        int64_t min_res_72990 = smin64(min_arg_72921, idx_72950);\n        int64_t max_res_72991 = smax64((int64_t) 0, min_res_72990);\n        int64_t x_72992 = add64(min_res_72922, max_res_72991);\n        int64_t r_72993 = sub64(x_72992, (int64_t) 1);\n        bool x_72994 = sle64((int64_t) 0, r_72993);\n        bool y_72995 = slt64(r_72993, n_70233);\n        bool bounds_check_72996 = x_72994 && y_72995;\n        bool index_certs_72997;\n        \n        if (!bounds_check_72996) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 13) == -1) {\n                    global_failure_args[0] = (int64_t) r_72993;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                return;\n            }\n        }\n        \n        int64_t x_72998 = ((__global int64_t *) mem_81331)[gtid_72213 *\n                                                           n_70233 + r_72993];\n        int64_t abs_arg_72999 = sub64(x_72998, min_res_72926);\n        int64_t abs_res_73000 = abs64(abs_arg_72999);\n        bool x_73001 = sle64((int64_t) 0, max_res_72991);\n        bool y_73002 = slt64(max_res_72991, n_70233);\n        bool bounds_check_73003 = x_73001 && y_73002;\n        bool index_certs_73004;\n        \n        if (!bounds_check_73003) {\n            {\n      ",
                   "          if (atomic_cmpxchg_i32_global(global_failure, -1, 14) == -1) {\n                    global_failure_args[0] = (int64_t) max_res_72991;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                return;\n            }\n        }\n        \n        int64_t x_73005 = ((__global int64_t *) mem_81331)[gtid_72213 *\n                                                           n_70233 +\n                                                           max_res_72991];\n        int64_t abs_arg_73006 = sub64(x_73005, min_res_72926);\n        int64_t abs_res_73007 = abs64(abs_arg_73006);\n        int64_t max_res_73008 = smax64(abs_res_73000, abs_res_73007);\n        float defunc_0_f_res_73009 = sitofp_i64_f32(max_res_73008);\n        float defunc_1_f_res_73010 = max_res_72923 + defunc_0_f_res_73009;\n        \n        ((__global int64_t *) mem_81407)[gtid_72213 * n_m_70241 + gtid_72214] =\n            min_res_72926;\n        ((__global int64_t *) mem_81411)[gtid_72213 * n_m_70241 + gtid_72214] =\n            max_res_72991;\n        ((__global float *) mem_81415)[gtid_72213 * n_m_70241 + gtid_72214] =\n            defunc_1_f_res_73010;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_72913\n}\n__kernel void mainzisegmap_72512(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t i_70247, __global\n                                 unsigned char *mem_81323, __global\n                                 unsigned char *mem_81355)\n{\n    #define segmap_group_sizze_72750 (mainzisegmap_group_sizze_72515)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82655;\n    int32_t local_tid_82656;\n    int64_t group_sizze_82659;\n    int32_t wave_sizze_82658;\n    int32_t group_tid_82657;\n    \n    global_tid_82655 = get_global",
                   "_id(0);\n    local_tid_82656 = get_local_id(0);\n    group_sizze_82659 = get_local_size(0);\n    wave_sizze_82658 = LOCKSTEP_WIDTH;\n    group_tid_82657 = get_group_id(0);\n    \n    int32_t phys_tid_72512 = global_tid_82655;\n    int64_t global_tid_82660 = sext_i32_i64(group_tid_82657) *\n            segmap_group_sizze_72750 + sext_i32_i64(local_tid_82656);\n    int64_t slice_82661 = q_70235;\n    int64_t slice_82662 = m_70232 * slice_82661;\n    int64_t gtid_72510 = squot64(global_tid_82660, slice_82661);\n    int64_t remnant_82663 = global_tid_82660 - gtid_72510 * slice_82661;\n    int64_t gtid_72511 = remnant_82663;\n    int64_t remnant_82664 = remnant_82663 - gtid_72511;\n    \n    if (slt64(gtid_72510, m_70232) && slt64(gtid_72511, q_70235)) {\n        int64_t last_res_72753 = ((__global int64_t *) mem_81323)[gtid_72510 *\n                                                                  n_70233 +\n                                                                  i_70247];\n        bool cond_72755 = sle64(last_res_72753, gtid_72511);\n        float defunc_0_f_res_72756;\n        \n        if (cond_72755) {\n            defunc_0_f_res_72756 = 0.0F;\n        } else {\n            defunc_0_f_res_72756 = 1.0F;\n        }\n        ((__global float *) mem_81355)[gtid_72510 * q_70235 + gtid_72511] =\n            defunc_0_f_res_72756;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_72750\n}\n__kernel void mainzisegmap_72532(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t i_70247, int64_t min_res_70253,\n                                 float i64_res_70259, __global\n                                 unsigned char *mem_81323, __global\n                                 unsigned char *mem_81341, __global\n                                 unsigned char *mem_81344, __global\n                                 unsigned char *mem_81347, __global\n                                 unsigned char ",
                   "*mem_81350)\n{\n    #define segmap_group_sizze_72730 (mainzisegmap_group_sizze_72534)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82647;\n    int32_t local_tid_82648;\n    int64_t group_sizze_82651;\n    int32_t wave_sizze_82650;\n    int32_t group_tid_82649;\n    \n    global_tid_82647 = get_global_id(0);\n    local_tid_82648 = get_local_id(0);\n    group_sizze_82651 = get_local_size(0);\n    wave_sizze_82650 = LOCKSTEP_WIDTH;\n    group_tid_82649 = get_group_id(0);\n    \n    int32_t phys_tid_72532 = global_tid_82647;\n    int64_t global_tid_82652 = sext_i32_i64(group_tid_82649) *\n            segmap_group_sizze_72730 + sext_i32_i64(local_tid_82648);\n    int64_t slice_82653 = m_70232;\n    int64_t gtid_72531 = global_tid_82652;\n    int64_t remnant_82654 = global_tid_82652 - gtid_72531;\n    \n    if (slt64(gtid_72531, m_70232)) {\n        int64_t last_res_72736 = ((__global int64_t *) mem_81323)[gtid_72531 *\n                                                                  n_70233 +\n                                                                  i_70247];\n        int64_t min_arg_72737 = sub64(last_res_72736, (int64_t) 1);\n        int64_t min_arg_72738 = sub64(last_res_72736, min_res_70253);\n        int64_t min_res_72739 = smin64(q_70235, last_res_72736);\n        float i64_res_72740 = sitofp_i64_f32(last_res_72736);\n        float x_72741 = i64_res_70259 - i64_res_72740;\n        float max_arg_72742 = x_72741 / 2.0F;\n        float max_res_72743 = fmax32(0.0F, max_arg_72742);\n        \n        ((__global int64_t *) mem_81341)[gtid_72531] = min_arg_72737;\n        ((__global int64_t *) mem_81344)[gtid_72531] = min_arg_72738;\n        ((__global int64_t *) mem_81347)[gtid_72531] = min_res_72739;\n        ((__global float *) mem_81350)[gtid_72531] = max_res_72743;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_72730\n}\n__kernel void mainzisegmap_725",
                   "55(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, __global\n                                 unsigned char *mem_81331, __global\n                                 unsigned char *mem_81337)\n{\n    #define segmap_group_sizze_72723 (mainzisegmap_group_sizze_72558)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82637;\n    int32_t local_tid_82638;\n    int64_t group_sizze_82641;\n    int32_t wave_sizze_82640;\n    int32_t group_tid_82639;\n    \n    global_tid_82637 = get_global_id(0);\n    local_tid_82638 = get_local_id(0);\n    group_sizze_82641 = get_local_size(0);\n    wave_sizze_82640 = LOCKSTEP_WIDTH;\n    group_tid_82639 = get_group_id(0);\n    \n    int32_t phys_tid_72555 = global_tid_82637;\n    int64_t global_tid_82642 = sext_i32_i64(group_tid_82639) *\n            segmap_group_sizze_72723 + sext_i32_i64(local_tid_82638);\n    int64_t slice_82643 = n_70233;\n    int64_t slice_82644 = m_70232 * slice_82643;\n    int64_t gtid_72553 = squot64(global_tid_82642, slice_82643);\n    int64_t remnant_82645 = global_tid_82642 - gtid_72553 * slice_82643;\n    int64_t gtid_72554 = remnant_82645;\n    int64_t remnant_82646 = remnant_82645 - gtid_72554;\n    \n    if (slt64(gtid_72553, m_70232) && slt64(gtid_72554, n_70233)) {\n        int64_t x_72726 = ((__global int64_t *) mem_81331)[gtid_72553 *\n                                                           n_70233 +\n                                                           gtid_72554];\n        int64_t defunc_0_f_res_72727 = add64((int64_t) 1, x_72726);\n        \n        ((__global int64_t *) mem_81337)[gtid_72553 * n_70233 + gtid_72554] =\n            defunc_0_f_res_72727;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_72723\n}\n__kernel void mainzisegmap_72575(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, __glob",
                   "al\n                                 unsigned char *Y_mem_81217, __global\n                                 unsigned char *mem_81323, __global\n                                 unsigned char *mem_81327, __global\n                                 unsigned char *mem_81331)\n{\n    #define segmap_group_sizze_72706 (mainzisegmap_group_sizze_72578)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82627;\n    int32_t local_tid_82628;\n    int64_t group_sizze_82631;\n    int32_t wave_sizze_82630;\n    int32_t group_tid_82629;\n    \n    global_tid_82627 = get_global_id(0);\n    local_tid_82628 = get_local_id(0);\n    group_sizze_82631 = get_local_size(0);\n    wave_sizze_82630 = LOCKSTEP_WIDTH;\n    group_tid_82629 = get_group_id(0);\n    \n    int32_t phys_tid_72575 = global_tid_82627;\n    int64_t global_tid_82632 = sext_i32_i64(group_tid_82629) *\n            segmap_group_sizze_72706 + sext_i32_i64(local_tid_82628);\n    int64_t slice_82633 = n_70233;\n    int64_t slice_82634 = m_70232 * slice_82633;\n    int64_t gtid_72573 = squot64(global_tid_82632, slice_82633);\n    int64_t remnant_82635 = global_tid_82632 - gtid_72573 * slice_82633;\n    int64_t gtid_72574 = remnant_82635;\n    int64_t remnant_82636 = remnant_82635 - gtid_72574;\n    \n    if (slt64(gtid_72573, m_70232) && slt64(gtid_72574, n_70233)) {\n        float x_72710 = ((__global float *) Y_mem_81217)[gtid_72573 * n_70233 +\n                                                         gtid_72574];\n        bool isnan_res_72713;\n        \n        isnan_res_72713 = futrts_isnan32(x_72710);\n        \n        bool defunc_0_p_res_72714 = !isnan_res_72713;\n        int64_t defunc_1_f_res_72715;\n        \n        if (defunc_0_p_res_72714) {\n            int64_t x_72711 = ((__global int64_t *) mem_81323)[gtid_72573 *\n                                                               n_70233 +\n                                           ",
                   "                    gtid_72574];\n            int64_t defunc_1_f_res_t_res_72716 = sub64(x_72711, (int64_t) 1);\n            \n            defunc_1_f_res_72715 = defunc_1_f_res_t_res_72716;\n        } else {\n            defunc_1_f_res_72715 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_72573) && slt64(gtid_72573, m_70232)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_72715) &&\n             slt64(defunc_1_f_res_72715, n_70233))) {\n            ((__global int64_t *) mem_81331)[gtid_72573 * n_70233 +\n                                             defunc_1_f_res_72715] = gtid_72574;\n        }\n        if ((sle64((int64_t) 0, gtid_72573) && slt64(gtid_72573, m_70232)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_72715) &&\n             slt64(defunc_1_f_res_72715, n_70233))) {\n            ((__global float *) mem_81327)[gtid_72573 * n_70233 +\n                                           defunc_1_f_res_72715] = x_72710;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_72706\n}\n__kernel void mainzisegmap_73103(__global int *global_failure,\n                                 int failure_is_an_option, __global\n                                 int64_t *global_failure_args, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t jump_70237, int64_t n_m_70241,\n                                 int64_t i_70247, unsigned char x_70248,\n                                 int64_t min_res_70253,\n                                 unsigned char loop_cond_70258,\n                                 float i64_res_70259, int64_t num_groups_73312,\n                                 int64_t num_threads_82458, __global\n                                 unsigned char *mem_81440, __global\n                                 unsigned char *mem_81549, __global\n                                 unsigned char *mem_81552, __global\n                                 unsigned char *color_82383, __global\n          ",
                   "                       unsigned char *color_82384, __global\n                                 unsigned char *color_82385, __global\n                                 unsigned char *color_82386, __global\n                                 unsigned char *color_82387, __global\n                                 unsigned char *color_82388)\n{\n    #define segmap_group_sizze_73311 (mainzisegmap_group_sizze_73105)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_82864;\n    int32_t local_tid_82865;\n    int64_t group_sizze_82868;\n    int32_t wave_sizze_82867;\n    int32_t group_tid_82866;\n    \n    global_tid_82864 = get_global_id(0);\n    local_tid_82865 = get_local_id(0);\n    group_sizze_82868 = get_local_size(0);\n    wave_sizze_82867 = LOCKSTEP_WIDTH;\n    group_tid_82866 = get_group_id(0);\n    \n    int32_t phys_tid_73103 = global_tid_82864;\n    int32_t phys_group_id_82869;\n    \n    phys_group_id_82869 = get_group_id(0);\n    for (int32_t i_82870 = 0; i_82870 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_70232, segmap_group_sizze_73311)) -\n                   phys_group_id_82869, sext_i64_i32(num_groups_73312));\n         i_82870++) {\n        int32_t virt_group_id_82871 = phys_group_id_82869 + i_82870 *\n                sext_i64_i32(num_groups_73312);\n        int64_t global_tid_82872 = sext_i32_i64(virt_group_id_82871) *\n                segmap_group_sizze_73311 + sext_i32_i64(local_tid_82865);\n        int64_t slice_82873 = m_70232;\n        int64_t gtid_73102 = global_tid_82872;\n        int64_t remnant_82874 = global_tid_82872 - gtid_73102;\n        \n        if (slt64(gtid_73102, m_70232)) {\n            int64_t discard_81068;\n            int64_t scanacc_81064 = (int64_t) 0;\n          ",
                   "  \n            for (int64_t i_81066 = 0; i_81066 < n_70233; i_81066++) {\n                float x_73321 = ((__global float *) mem_81440)[i_81066 *\n                                                               m_70232 +\n                                                               gtid_73102];\n                bool isnan_res_73322;\n                \n                isnan_res_73322 = futrts_isnan32(x_73321);\n                \n                bool defunc_0_p_res_73323 = !isnan_res_73322;\n                int64_t defunc_0_f_res_73324 =\n                        btoi_bool_i64(defunc_0_p_res_73323);\n                int64_t defunc_1_op_res_73320 = add64(defunc_0_f_res_73324,\n                                                      scanacc_81064);\n                \n                ((__global int64_t *) color_82386)[phys_tid_73103 + i_81066 *\n                                                   num_threads_82458] =\n                    defunc_1_op_res_73320;\n                \n                int64_t scanacc_tmp_82875 = defunc_1_op_res_73320;\n                \n                scanacc_81064 = scanacc_tmp_82875;\n            }\n            discard_81068 = scanacc_81064;\n            \n            int64_t last_res_73325 = ((__global\n                                       int64_t *) color_82386)[phys_tid_73103 +\n                                                               i_70247 *\n                                                               num_threads_82458];\n            \n            for (int64_t i_82877 = 0; i_82877 < n_70233; i_82877++) {\n                ((__global float *) color_82388)[phys_tid_73103 + i_82877 *\n                                                 num_threads_82458] = 0.0F;\n            }\n            for (int64_t i_82878 = 0; i_82878 < n_70233; i_82878++) {\n                ((__global int64_t *) color_82387)[phys_tid_73103 + i_82878 *\n                                                   num_threads_82458] =\n                    (int64_t) -1;\n            }\n            for (int64_t ",
                   "write_iter_81069 = 0; write_iter_81069 < n_70233;\n                 write_iter_81069++) {\n                float write_iv_81072 = ((__global\n                                         float *) mem_81440)[write_iter_81069 *\n                                                             m_70232 +\n                                                             gtid_73102];\n                bool isnan_res_73333;\n                \n                isnan_res_73333 = futrts_isnan32(write_iv_81072);\n                \n                bool defunc_0_p_res_73334 = !isnan_res_73333;\n                int64_t defunc_1_f_res_73335;\n                \n                if (defunc_0_p_res_73334) {\n                    int64_t write_iv_81073 = ((__global\n                                               int64_t *) color_82386)[phys_tid_73103 +\n                                                                       write_iter_81069 *\n                                                                       num_threads_82458];\n                    int64_t defunc_1_f_res_t_res_73336 = sub64(write_iv_81073,\n                                                               (int64_t) 1);\n                    \n                    defunc_1_f_res_73335 = defunc_1_f_res_t_res_73336;\n                } else {\n                    defunc_1_f_res_73335 = (int64_t) -1;\n                }\n                if (sle64((int64_t) 0, defunc_1_f_res_73335) &&\n                    slt64(defunc_1_f_res_73335, n_70233)) {\n                    ((__global int64_t *) color_82387)[phys_tid_73103 +\n                                                       defunc_1_f_res_73335 *\n                                                       num_threads_82458] =\n                        write_iter_81069;\n                }\n                if (sle64((int64_t) 0, defunc_1_f_res_73335) &&\n                    slt64(defunc_1_f_res_73335, n_70233)) {\n                    for (int64_t i_82881 = 0; i_82881 < (int64_t) 1;\n                         i_82881++) {\n               ",
                   "         ((__global float *) color_82388)[phys_tid_73103 +\n                                                         num_threads_82458 *\n                                                         defunc_1_f_res_73335 +\n                                                         i_82881 *\n                                                         num_threads_82458] =\n                            ((__global float *) mem_81440)[m_70232 *\n                                                           write_iter_81069 +\n                                                           gtid_73102 +\n                                                           i_82881 * m_70232];\n                    }\n                }\n            }\n            for (int64_t i_81079 = 0; i_81079 < n_70233; i_81079++) {\n                int64_t x_73338 = ((__global\n                                    int64_t *) color_82387)[phys_tid_73103 +\n                                                            i_81079 *\n                                                            num_threads_82458];\n                int64_t defunc_0_f_res_73339 = add64((int64_t) 1, x_73338);\n                \n                ((__global int64_t *) color_82386)[phys_tid_73103 + i_81079 *\n                                                   num_threads_82458] =\n                    defunc_0_f_res_73339;\n            }\n            \n            int64_t min_arg_73340 = sub64(last_res_73325, (int64_t) 1);\n            int64_t min_arg_73341 = sub64(last_res_73325, min_res_70253);\n            int64_t min_res_73342 = smin64(q_70235, last_res_73325);\n            float i64_res_73343 = sitofp_i64_f32(last_res_73325);\n            float x_73344 = i64_res_70259 - i64_res_73343;\n            float max_arg_73345 = x_73344 / 2.0F;\n            float max_res_73346 = fmax32(0.0F, max_arg_73345);\n            \n            for (int64_t i_81083 = 0; i_81083 < q_70235; i_81083++) {\n                bool cond_73349 = sle64(last_res_73325, i_81083);\n                float defunc_0_",
                   "f_res_73350;\n                \n                if (cond_73349) {\n                    defunc_0_f_res_73350 = 0.0F;\n                } else {\n                    defunc_0_f_res_73350 = 1.0F;\n                }\n                ((__global float *) color_82385)[phys_tid_73103 + i_81083 *\n                                                 num_threads_82458] =\n                    defunc_0_f_res_73350;\n            }\n            for (int64_t i_81089 = 0; i_81089 < n_m_70241; i_81089++) {\n                int64_t min_arg_73354 = mul64(jump_70237, i_81089);\n                int64_t min_res_73355 = smin64(i_70247, min_arg_73354);\n                int64_t defunc_0_g_res_73356 = add64((int64_t) 1,\n                                                     min_res_73355);\n                bool init_idx_73357;\n                int64_t init_idx_73358;\n                int64_t init_idx_73359;\n                bool loop_while_73360;\n                int64_t low_73361;\n                int64_t high_73362;\n                \n                loop_while_73360 = x_70248;\n                low_73361 = (int64_t) 0;\n                high_73362 = i_70247;\n                while (loop_while_73360) {\n                    int64_t x_73363 = add64(low_73361, high_73362);\n                    int64_t mid_73364 = sdiv64(x_73363, (int64_t) 2);\n                    bool x_73365 = sle64((int64_t) 0, mid_73364);\n                    bool y_73366 = slt64(mid_73364, n_70233);\n                    bool bounds_check_73367 = x_73365 && y_73366;\n                    bool index_certs_73368;\n                    \n                    if (!bounds_check_73367) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1,\n                                                          15) == -1) {\n                                global_failure_args[0] = (int64_t) mid_73364;\n                                global_failure_args[1] = (int64_t) n_70233;\n                                ;\n                            }",
                   "\n                            local_failure = true;\n                            goto error_0;\n                        }\n                    }\n                    \n                    int64_t mid_id_73369 = ((__global\n                                             int64_t *) color_82386)[phys_tid_73103 +\n                                                                     mid_73364 *\n                                                                     num_threads_82458];\n                    bool cond_73370 = slt64(mid_id_73369, (int64_t) 0);\n                    int64_t mid_idx_73371;\n                    \n                    if (cond_73370) {\n                        mid_idx_73371 = (int64_t) 9223372036854775807;\n                    } else {\n                        mid_idx_73371 = mid_id_73369;\n                    }\n                    \n                    bool cond_73372 = sle64(defunc_0_g_res_73356,\n                                            mid_idx_73371);\n                    int64_t loopres_73373;\n                    int64_t loopres_73374;\n                    \n                    if (cond_73372) {\n                        int64_t loopres_t_res_73375 = sub64(mid_73364,\n                                                            (int64_t) 1);\n                        \n                        loopres_73373 = low_73361;\n                        loopres_73374 = loopres_t_res_73375;\n                    } else {\n                        int64_t loopres_f_res_73376 = add64((int64_t) 1,\n                                                            mid_73364);\n                        \n                        loopres_73373 = loopres_f_res_73376;\n                        loopres_73374 = high_73362;\n                    }\n                    \n                    bool loop_cond_73377 = sle64(loopres_73373, loopres_73374);\n                    bool loop_while_tmp_82886 = loop_cond_73377;\n                    int64_t low_tmp_82887 = loopres_73373;\n                    int64_t high_tmp_82888 = ",
                   "loopres_73374;\n                    \n                    loop_while_73360 = loop_while_tmp_82886;\n                    low_73361 = low_tmp_82887;\n                    high_73362 = high_tmp_82888;\n                }\n                init_idx_73357 = loop_while_73360;\n                init_idx_73358 = low_73361;\n                init_idx_73359 = high_73362;\n                \n                bool idx_73378;\n                int64_t idx_73379;\n                int64_t idx_73380;\n                int64_t idx_73381;\n                bool loop_while_73382;\n                int64_t l_idx_73383;\n                int64_t r_idx_73384;\n                int64_t span_73385;\n                \n                loop_while_73382 = loop_cond_70258;\n                l_idx_73383 = init_idx_73358;\n                r_idx_73384 = init_idx_73358;\n                span_73385 = (int64_t) 1;\n                while (loop_while_73382) {\n                    int64_t max_arg_73386 = sub64(l_idx_73383, (int64_t) 1);\n                    int64_t max_res_73387 = smax64((int64_t) 0, max_arg_73386);\n                    int64_t min_arg_73388 = add64((int64_t) 1, r_idx_73384);\n                    int64_t min_res_73389 = smin64(min_arg_73340,\n                                                   min_arg_73388);\n                    bool x_73390 = sle64((int64_t) 0, max_res_73387);\n                    bool y_73391 = slt64(max_res_73387, n_70233);\n                    bool bounds_check_73392 = x_73390 && y_73391;\n                    bool index_certs_73393;\n                    \n                    if (!bounds_check_73392) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1,\n                                                          16) == -1) {\n                                global_failure_args[0] =\n                                    (int64_t) max_res_73387;\n                                global_failure_args[1] = (int64_t) n_70233;\n                                ;\n                ",
                   "            }\n                            local_failure = true;\n                            goto error_0;\n                        }\n                    }\n                    \n                    int64_t x_73394 = ((__global\n                                        int64_t *) color_82386)[phys_tid_73103 +\n                                                                max_res_73387 *\n                                                                num_threads_82458];\n                    int64_t abs_arg_73395 = sub64(x_73394,\n                                                  defunc_0_g_res_73356);\n                    int64_t abs_res_73396 = abs64(abs_arg_73395);\n                    bool x_73397 = sle64((int64_t) 0, min_res_73389);\n                    bool y_73398 = slt64(min_res_73389, n_70233);\n                    bool bounds_check_73399 = x_73397 && y_73398;\n                    bool index_certs_73400;\n                    \n                    if (!bounds_check_73399) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1,\n                                                          17) == -1) {\n                                global_failure_args[0] =\n                                    (int64_t) min_res_73389;\n                                global_failure_args[1] = (int64_t) n_70233;\n                                ;\n                            }\n                            local_failure = true;\n                            goto error_0;\n                        }\n                    }\n                    \n                    int64_t x_73401 = ((__global\n                                        int64_t *) color_82386)[phys_tid_73103 +\n                                                                min_res_73389 *\n                                                                num_threads_82458];\n                    int64_t abs_arg_73402 = sub64(x_73401,\n                                                  defunc_0_g_res_73356);",
                   "\n                    int64_t abs_res_73403 = abs64(abs_arg_73402);\n                    bool cond_73404 = max_res_73387 == l_idx_73383;\n                    int64_t loopres_73405;\n                    int64_t loopres_73406;\n                    int64_t loopres_73407;\n                    \n                    if (cond_73404) {\n                        loopres_73405 = l_idx_73383;\n                        loopres_73406 = r_idx_73384;\n                        loopres_73407 = min_res_70253;\n                    } else {\n                        bool cond_73408 = slt64(abs_res_73396, abs_res_73403);\n                        bool cond_f_res_73409 = min_res_73389 == r_idx_73384;\n                        bool x_73410 = !cond_73408;\n                        bool y_73411 = cond_f_res_73409 && x_73410;\n                        bool cond_73412 = cond_73408 || y_73411;\n                        int64_t loopres_f_res_73413;\n                        \n                        if (cond_73412) {\n                            loopres_f_res_73413 = max_res_73387;\n                        } else {\n                            loopres_f_res_73413 = l_idx_73383;\n                        }\n                        \n                        int64_t loopres_f_res_73414;\n                        \n                        if (cond_73412) {\n                            loopres_f_res_73414 = r_idx_73384;\n                        } else {\n                            loopres_f_res_73414 = min_res_73389;\n                        }\n                        \n                        int64_t loopres_f_res_73415;\n                        \n                        if (cond_73412) {\n                            int64_t loopres_f_res_t_res_73416 =\n                                    add64((int64_t) 1, span_73385);\n                            \n                            loopres_f_res_73415 = loopres_f_res_t_res_73416;\n                        } else {\n                            int64_t loopres_f_res_f_res_73417 =\n                          ",
                   "          add64((int64_t) 1, span_73385);\n                            \n                            loopres_f_res_73415 = loopres_f_res_f_res_73417;\n                        }\n                        loopres_73405 = loopres_f_res_73413;\n                        loopres_73406 = loopres_f_res_73414;\n                        loopres_73407 = loopres_f_res_73415;\n                    }\n                    \n                    bool loop_cond_73418 = slt64(loopres_73407, min_res_70253);\n                    bool loop_while_tmp_82889 = loop_cond_73418;\n                    int64_t l_idx_tmp_82890 = loopres_73405;\n                    int64_t r_idx_tmp_82891 = loopres_73406;\n                    int64_t span_tmp_82892 = loopres_73407;\n                    \n                    loop_while_73382 = loop_while_tmp_82889;\n                    l_idx_73383 = l_idx_tmp_82890;\n                    r_idx_73384 = r_idx_tmp_82891;\n                    span_73385 = span_tmp_82892;\n                }\n                idx_73378 = loop_while_73382;\n                idx_73379 = l_idx_73383;\n                idx_73380 = r_idx_73384;\n                idx_73381 = span_73385;\n                \n                int64_t min_res_73419 = smin64(min_arg_73341, idx_73379);\n                int64_t max_res_73420 = smax64((int64_t) 0, min_res_73419);\n                int64_t x_73421 = add64(min_res_73342, max_res_73420);\n                int64_t r_73422 = sub64(x_73421, (int64_t) 1);\n                bool x_73423 = sle64((int64_t) 0, r_73422);\n                bool y_73424 = slt64(r_73422, n_70233);\n                bool bounds_check_73425 = x_73423 && y_73424;\n                bool index_certs_73426;\n                \n                if (!bounds_check_73425) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 18) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) r_73422;\n                            global_failure_args[1] = (int64_t) n_7",
                   "0233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_73427 = ((__global\n                                    int64_t *) color_82387)[phys_tid_73103 +\n                                                            r_73422 *\n                                                            num_threads_82458];\n                int64_t abs_arg_73428 = sub64(x_73427, min_res_73355);\n                int64_t abs_res_73429 = abs64(abs_arg_73428);\n                bool x_73430 = sle64((int64_t) 0, max_res_73420);\n                bool y_73431 = slt64(max_res_73420, n_70233);\n                bool bounds_check_73432 = x_73430 && y_73431;\n                bool index_certs_73433;\n                \n                if (!bounds_check_73432) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 19) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) max_res_73420;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_73434 = ((__global\n                                    int64_t *) color_82387)[phys_tid_73103 +\n                                                            max_res_73420 *\n                                                            num_threads_82458];\n                int64_t abs_arg_73435 = sub64(x_73434, min_res_73355);\n                int64_t abs_res_73436 = abs64(abs_arg_73435);\n                int64_t max_res_73437 = smax64(abs_res_73429, abs_res_73436);\n                float defunc_0_f_res_73438 = sitofp_i64_f32(max_res_73437);\n                float defunc_1_f_res_73439 = max_res_",
                   "73346 +\n                      defunc_0_f_res_73438;\n                float defunc_2_reduce_res_73440;\n                float defunc_2_reduce_res_73441;\n                float defunc_2_reduce_res_73442;\n                float redout_81092;\n                float redout_81093;\n                float redout_81094;\n                \n                redout_81092 = 0.0F;\n                redout_81093 = 0.0F;\n                redout_81094 = 0.0F;\n                for (int64_t i_81095 = 0; i_81095 < q_70235; i_81095++) {\n                    float x_73453 = ((__global\n                                      float *) color_82385)[phys_tid_73103 +\n                                                            i_81095 *\n                                                            num_threads_82458];\n                    bool cond_73454 = sle64(last_res_73325, i_81095);\n                    int64_t defunc_0_f_res_73455;\n                    \n                    if (cond_73454) {\n                        defunc_0_f_res_73455 = (int64_t) 0;\n                    } else {\n                        int64_t i_73456 = add64(max_res_73420, i_81095);\n                        int64_t defunc_0_add_arg_73457 = ((__global\n                                                           int64_t *) color_82387)[phys_tid_73103 +\n                                                                                   i_73456 *\n                                                                                   num_threads_82458];\n                        int64_t defunc_1_add_res_73458 = add64((int64_t) 1,\n                                                               defunc_0_add_arg_73457);\n                        \n                        defunc_0_f_res_73455 = defunc_1_add_res_73458;\n                    }\n                    \n                    int64_t binop_p_73459 = sub64(defunc_0_f_res_73455,\n                                                  min_res_73355);\n                    float defunc_0_f_res_73460 = sitofp_i64_f32(binop_p",
                   "_73459);\n                    float abs_res_73461 = (float) fabs(defunc_0_f_res_73460);\n                    float tmp1_73462 = abs_res_73461 / defunc_1_f_res_73439;\n                    float x_73463 = tmp1_73462 * tmp1_73462;\n                    float y_73464 = tmp1_73462 * x_73463;\n                    float tmp2_73465 = 1.0F - y_73464;\n                    float x_73466 = tmp2_73465 * tmp2_73465;\n                    float tmp3_73467 = tmp2_73465 * x_73466;\n                    float w_j_73468 = x_73453 * tmp3_73467;\n                    float xw_j_73469 = defunc_0_f_res_73460 * w_j_73468;\n                    float x2w_j_73470 = defunc_0_f_res_73460 * xw_j_73469;\n                    float defunc_1_op_res_73445 = w_j_73468 + redout_81092;\n                    float defunc_1_op_res_73448 = xw_j_73469 + redout_81093;\n                    float defunc_1_op_res_73451 = x2w_j_73470 + redout_81094;\n                    float redout_tmp_82893 = defunc_1_op_res_73445;\n                    float redout_tmp_82894 = defunc_1_op_res_73448;\n                    float redout_tmp_82895 = defunc_1_op_res_73451;\n                    \n                    redout_81092 = redout_tmp_82893;\n                    redout_81093 = redout_tmp_82894;\n                    redout_81094 = redout_tmp_82895;\n                }\n                defunc_2_reduce_res_73440 = redout_81092;\n                defunc_2_reduce_res_73441 = redout_81093;\n                defunc_2_reduce_res_73442 = redout_81094;\n                \n                float x_73471 = defunc_2_reduce_res_73440 *\n                      defunc_2_reduce_res_73442;\n                float y_73472 = defunc_2_reduce_res_73441 *\n                      defunc_2_reduce_res_73441;\n                float y_73473 = x_73471 - y_73472;\n                float det1_73474 = 1.0F / y_73473;\n                float a11_73475 = defunc_2_reduce_res_73442 * det1_73474;\n                float x_73476 = 0.0F - defunc_2_reduce_res_73441;\n                float b11_73477 = det1_73474 * x",
                   "_73476;\n                float c11_73478 = defunc_2_reduce_res_73440 * det1_73474;\n                float defunc_2_reduce_res_73479;\n                float defunc_2_reduce_res_73480;\n                float redout_81096;\n                float redout_81097;\n                \n                redout_81096 = 0.0F;\n                redout_81097 = 0.0F;\n                for (int64_t i_81098 = 0; i_81098 < q_70235; i_81098++) {\n                    float x_73488 = ((__global\n                                      float *) color_82385)[phys_tid_73103 +\n                                                            i_81098 *\n                                                            num_threads_82458];\n                    bool cond_73489 = sle64(last_res_73325, i_81098);\n                    int64_t defunc_0_f_res_73490;\n                    \n                    if (cond_73489) {\n                        defunc_0_f_res_73490 = (int64_t) 0;\n                    } else {\n                        int64_t i_73491 = add64(max_res_73420, i_81098);\n                        int64_t defunc_0_add_arg_73492 = ((__global\n                                                           int64_t *) color_82387)[phys_tid_73103 +\n                                                                                   i_73491 *\n                                                                                   num_threads_82458];\n                        int64_t defunc_1_add_res_73493 = add64((int64_t) 1,\n                                                               defunc_0_add_arg_73492);\n                        \n                        defunc_0_f_res_73490 = defunc_1_add_res_73493;\n                    }\n                    \n                    int64_t binop_p_73494 = sub64(defunc_0_f_res_73490,\n                                                  min_res_73355);\n                    float defunc_0_f_res_73495 = sitofp_i64_f32(binop_p_73494);\n                    float abs_res_73496 = (float) fabs(defunc_0_f_res_73495);\n     ",
                   "               float tmp1_73497 = abs_res_73496 / defunc_1_f_res_73439;\n                    float x_73498 = tmp1_73497 * tmp1_73497;\n                    float y_73499 = tmp1_73497 * x_73498;\n                    float tmp2_73500 = 1.0F - y_73499;\n                    float x_73501 = tmp2_73500 * tmp2_73500;\n                    float tmp3_73502 = tmp2_73500 * x_73501;\n                    float tmp4_73503 = x_73488 * tmp3_73502;\n                    float defunc_1_f_res_73504 = defunc_0_f_res_73495 *\n                          tmp4_73503;\n                    float defunc_0_f_res_73505;\n                    \n                    if (cond_73489) {\n                        defunc_0_f_res_73505 = 0.0F;\n                    } else {\n                        int64_t i_73506 = add64(max_res_73420, i_81098);\n                        float defunc_0_add_arg_73507 = ((__global\n                                                         float *) color_82388)[phys_tid_73103 +\n                                                                               i_73506 *\n                                                                               num_threads_82458];\n                        \n                        defunc_0_f_res_73505 = defunc_0_add_arg_73507;\n                    }\n                    \n                    float x_73508 = a11_73475 * tmp4_73503;\n                    float y_73509 = b11_73477 * defunc_1_f_res_73504;\n                    float x_73510 = x_73508 + y_73509;\n                    float defunc_9_fit_fun_res_73511 = defunc_0_f_res_73505 *\n                          x_73510;\n                    float x_73512 = b11_73477 * tmp4_73503;\n                    float y_73513 = c11_73478 * defunc_1_f_res_73504;\n                    float x_73514 = x_73512 + y_73513;\n                    float defunc_9_slope_fun_res_73515 = defunc_0_f_res_73505 *\n                          x_73514;\n                    float defunc_1_op_res_73483 = defunc_9_fit_fun_res_73511 +\n                          redout_",
                   "81096;\n                    float defunc_1_op_res_73486 = defunc_9_slope_fun_res_73515 +\n                          redout_81097;\n                    float redout_tmp_82896 = defunc_1_op_res_73483;\n                    float redout_tmp_82897 = defunc_1_op_res_73486;\n                    \n                    redout_81096 = redout_tmp_82896;\n                    redout_81097 = redout_tmp_82897;\n                }\n                defunc_2_reduce_res_73479 = redout_81096;\n                defunc_2_reduce_res_73480 = redout_81097;\n                ((__global float *) color_82384)[phys_tid_73103 + i_81089 *\n                                                 num_threads_82458] =\n                    defunc_2_reduce_res_73479;\n                ((__global float *) color_82383)[phys_tid_73103 + i_81089 *\n                                                 num_threads_82458] =\n                    defunc_2_reduce_res_73480;\n            }\n            for (int64_t i_82898 = 0; i_82898 < n_m_70241; i_82898++) {\n                ((__global float *) mem_81549)[gtid_73102 + i_82898 * m_70232] =\n                    ((__global float *) color_82384)[phys_tid_73103 + i_82898 *\n                                                     num_threads_82458];\n            }\n            for (int64_t i_82899 = 0; i_82899 < n_m_70241; i_82899++) {\n                ((__global float *) mem_81552)[gtid_73102 + i_82899 * m_70232] =\n                    ((__global float *) color_82383)[phys_tid_73103 + i_82899 *\n                                                     num_threads_82458];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_73311\n}\n__kernel void mainzisegmap_73793(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_m_70241, __global\n                                 unsigned char *mem_81685, __global\n                                 unsigned char *mem_81689, __global\n               ",
                   "                  unsigned char *mem_81693, __global\n                                 unsigned char *mem_81698, __global\n                                 unsigned char *mem_81702, __global\n                                 unsigned char *mem_81706)\n{\n    #define segmap_group_sizze_74772 (mainzisegmap_group_sizze_73796)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83148;\n    int32_t local_tid_83149;\n    int64_t group_sizze_83152;\n    int32_t wave_sizze_83151;\n    int32_t group_tid_83150;\n    \n    global_tid_83148 = get_global_id(0);\n    local_tid_83149 = get_local_id(0);\n    group_sizze_83152 = get_local_size(0);\n    wave_sizze_83151 = LOCKSTEP_WIDTH;\n    group_tid_83150 = get_group_id(0);\n    \n    int32_t phys_tid_73793 = global_tid_83148;\n    int64_t global_tid_83153 = sext_i32_i64(group_tid_83150) *\n            segmap_group_sizze_74772 + sext_i32_i64(local_tid_83149);\n    int64_t slice_83154 = n_m_70241;\n    int64_t slice_83155 = m_70232 * slice_83154;\n    int64_t gtid_73791 = squot64(global_tid_83153, slice_83154);\n    int64_t remnant_83156 = global_tid_83153 - gtid_73791 * slice_83154;\n    int64_t gtid_73792 = remnant_83156;\n    int64_t remnant_83157 = remnant_83156 - gtid_73792;\n    \n    if (slt64(gtid_73791, m_70232) && slt64(gtid_73792, n_m_70241)) {\n        float defunc_2_reduce_res_74777 = ((__global\n                                            float *) mem_81685)[gtid_73791 *\n                                                                n_m_70241 +\n                                                                gtid_73792];\n        float defunc_2_reduce_res_74778 = ((__global\n                                            float *) mem_81689)[gtid_73791 *\n                                                                n_m_70241 +\n                                                                gtid_73792];\n        float defunc_2_reduc",
                   "e_res_74779 = ((__global\n                                            float *) mem_81693)[gtid_73791 *\n                                                                n_m_70241 +\n                                                                gtid_73792];\n        float x_74780 = defunc_2_reduce_res_74777 * defunc_2_reduce_res_74779;\n        float y_74781 = defunc_2_reduce_res_74778 * defunc_2_reduce_res_74778;\n        float y_74782 = x_74780 - y_74781;\n        float det1_74783 = 1.0F / y_74782;\n        float a11_74784 = defunc_2_reduce_res_74779 * det1_74783;\n        float x_74785 = 0.0F - defunc_2_reduce_res_74778;\n        float b11_74786 = det1_74783 * x_74785;\n        float c11_74787 = defunc_2_reduce_res_74777 * det1_74783;\n        \n        ((__global float *) mem_81698)[gtid_73791 * n_m_70241 + gtid_73792] =\n            a11_74784;\n        ((__global float *) mem_81702)[gtid_73791 * n_m_70241 + gtid_73792] =\n            b11_74786;\n        ((__global float *) mem_81706)[gtid_73791 * n_m_70241 + gtid_73792] =\n            c11_74787;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_74772\n}\n__kernel void mainzisegmap_73861(__global int *global_failure,\n                                 int failure_is_an_option, __global\n                                 int64_t *global_failure_args, int64_t m_70232,\n                                 int64_t n_70233, int64_t jump_70237,\n                                 int64_t n_m_70241, int64_t i_70247,\n                                 unsigned char x_70248, int64_t min_res_70253,\n                                 unsigned char loop_cond_70258, __global\n                                 unsigned char *mem_81565, __global\n                                 unsigned char *mem_81571, __global\n                                 unsigned char *mem_81575, __global\n                                 unsigned char *mem_81578, __global\n                                 unsigned char *mem_81581, __global\n                                 unsi",
                   "gned char *mem_81584, __global\n                                 unsigned char *mem_81672, __global\n                                 unsigned char *mem_81676, __global\n                                 unsigned char *mem_81680)\n{\n    #define segmap_group_sizze_74626 (mainzisegmap_group_sizze_73864)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83037;\n    int32_t local_tid_83038;\n    int64_t group_sizze_83041;\n    int32_t wave_sizze_83040;\n    int32_t group_tid_83039;\n    \n    global_tid_83037 = get_global_id(0);\n    local_tid_83038 = get_local_id(0);\n    group_sizze_83041 = get_local_size(0);\n    wave_sizze_83040 = LOCKSTEP_WIDTH;\n    group_tid_83039 = get_group_id(0);\n    \n    int32_t phys_tid_73861 = global_tid_83037;\n    int64_t global_tid_83042 = sext_i32_i64(group_tid_83039) *\n            segmap_group_sizze_74626 + sext_i32_i64(local_tid_83038);\n    int64_t slice_83043 = n_m_70241;\n    int64_t slice_83044 = m_70232 * slice_83043;\n    int64_t gtid_73859 = squot64(global_tid_83042, slice_83043);\n    int64_t remnant_83045 = global_tid_83042 - gtid_73859 * slice_83043;\n    int64_t gtid_73860 = remnant_83045;\n    int64_t remnant_83046 = remnant_83045 - gtid_73860;\n    \n    if (slt64(gtid_73859, m_70232) && slt64(gtid_73860, n_m_70241)) {\n        int64_t min_arg_74633 = ((__global int64_t *) mem_81575)[gtid_73859];\n        int64_t min_arg_74634 = ((__global int64_t *) mem_81578)[gtid_73859];\n        int64_t min_res_74635 = ((__global int64_t *) mem_81581)[gtid_73859];\n        float max_res_74636 = ((__global float *) mem_81584)[gtid_73859];\n        int64_t min_arg_74638 = mul64(jump_70237, gtid_73860);\n        int64_t min_res_74639 = smin64(i_70247, min_arg_74638);\n        int64_t defunc_0_g_res_74640 = add64((int64_t) 1, min_res_74639);\n        bool init_idx_74641;\n        int64_t init_idx_74642;\n        int64_t init_idx_74643;\n        bool l",
                   "oop_while_74644;\n        int64_t low_74645;\n        int64_t high_74646;\n        \n        loop_while_74644 = x_70248;\n        low_74645 = (int64_t) 0;\n        high_74646 = i_70247;\n        while (loop_while_74644) {\n            int64_t x_74647 = add64(low_74645, high_74646);\n            int64_t mid_74648 = sdiv64(x_74647, (int64_t) 2);\n            bool x_74649 = sle64((int64_t) 0, mid_74648);\n            bool y_74650 = slt64(mid_74648, n_70233);\n            bool bounds_check_74651 = x_74649 && y_74650;\n            bool index_certs_74652;\n            \n            if (!bounds_check_74651) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 25) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) mid_74648;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t mid_id_74653 = ((__global int64_t *) mem_81571)[gtid_73859 *\n                                                                    n_70233 +\n                                                                    mid_74648];\n            bool cond_74654 = slt64(mid_id_74653, (int64_t) 0);\n            int64_t mid_idx_74655;\n            \n            if (cond_74654) {\n                mid_idx_74655 = (int64_t) 9223372036854775807;\n            } else {\n                mid_idx_74655 = mid_id_74653;\n            }\n            \n            bool cond_74656 = sle64(defunc_0_g_res_74640, mid_idx_74655);\n            int64_t loopres_74657;\n            int64_t loopres_74658;\n            \n            if (cond_74656) {\n                int64_t loopres_t_res_74659 = sub64(mid_74648, (int64_t) 1);\n                \n                loopres_74657 = low_74645;\n                loopres_74658 = loopres_t_res_74659;\n            } else {\n                int64_t loopres_f_res_74660 = add64((int64_t) 1, mid_74648);\n        ",
                   "        \n                loopres_74657 = loopres_f_res_74660;\n                loopres_74658 = high_74646;\n            }\n            \n            bool loop_cond_74661 = sle64(loopres_74657, loopres_74658);\n            bool loop_while_tmp_83047 = loop_cond_74661;\n            int64_t low_tmp_83048 = loopres_74657;\n            int64_t high_tmp_83049 = loopres_74658;\n            \n            loop_while_74644 = loop_while_tmp_83047;\n            low_74645 = low_tmp_83048;\n            high_74646 = high_tmp_83049;\n        }\n        init_idx_74641 = loop_while_74644;\n        init_idx_74642 = low_74645;\n        init_idx_74643 = high_74646;\n        \n        bool idx_74662;\n        int64_t idx_74663;\n        int64_t idx_74664;\n        int64_t idx_74665;\n        bool loop_while_74666;\n        int64_t l_idx_74667;\n        int64_t r_idx_74668;\n        int64_t span_74669;\n        \n        loop_while_74666 = loop_cond_70258;\n        l_idx_74667 = init_idx_74642;\n        r_idx_74668 = init_idx_74642;\n        span_74669 = (int64_t) 1;\n        while (loop_while_74666) {\n            int64_t max_arg_74670 = sub64(l_idx_74667, (int64_t) 1);\n            int64_t max_res_74671 = smax64((int64_t) 0, max_arg_74670);\n            int64_t min_arg_74672 = add64((int64_t) 1, r_idx_74668);\n            int64_t min_res_74673 = smin64(min_arg_74633, min_arg_74672);\n            bool x_74674 = sle64((int64_t) 0, max_res_74671);\n            bool y_74675 = slt64(max_res_74671, n_70233);\n            bool bounds_check_74676 = x_74674 && y_74675;\n            bool index_certs_74677;\n            \n            if (!bounds_check_74676) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 26) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) max_res_74671;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    return;\n                }\n            }\n         ",
                   "   \n            int64_t x_74678 = ((__global int64_t *) mem_81571)[gtid_73859 *\n                                                               n_70233 +\n                                                               max_res_74671];\n            int64_t abs_arg_74679 = sub64(x_74678, defunc_0_g_res_74640);\n            int64_t abs_res_74680 = abs64(abs_arg_74679);\n            bool x_74681 = sle64((int64_t) 0, min_res_74673);\n            bool y_74682 = slt64(min_res_74673, n_70233);\n            bool bounds_check_74683 = x_74681 && y_74682;\n            bool index_certs_74684;\n            \n            if (!bounds_check_74683) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 27) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) min_res_74673;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t x_74685 = ((__global int64_t *) mem_81571)[gtid_73859 *\n                                                               n_70233 +\n                                                               min_res_74673];\n            int64_t abs_arg_74686 = sub64(x_74685, defunc_0_g_res_74640);\n            int64_t abs_res_74687 = abs64(abs_arg_74686);\n            bool cond_74688 = max_res_74671 == l_idx_74667;\n            int64_t loopres_74689;\n            int64_t loopres_74690;\n            int64_t loopres_74691;\n            \n            if (cond_74688) {\n                loopres_74689 = l_idx_74667;\n                loopres_74690 = r_idx_74668;\n                loopres_74691 = min_res_70253;\n            } else {\n                bool cond_74692 = slt64(abs_res_74680, abs_res_74687);\n                bool cond_f_res_74693 = min_res_74673 == r_idx_74668;\n                bool x_74694 = !cond_74692;\n                bool y_74695 = cond_f_res_74693 && x_74694;\n           ",
                   "     bool cond_74696 = cond_74692 || y_74695;\n                int64_t loopres_f_res_74697;\n                \n                if (cond_74696) {\n                    loopres_f_res_74697 = max_res_74671;\n                } else {\n                    loopres_f_res_74697 = l_idx_74667;\n                }\n                \n                int64_t loopres_f_res_74698;\n                \n                if (cond_74696) {\n                    loopres_f_res_74698 = r_idx_74668;\n                } else {\n                    loopres_f_res_74698 = min_res_74673;\n                }\n                \n                int64_t loopres_f_res_74699;\n                \n                if (cond_74696) {\n                    int64_t loopres_f_res_t_res_74700 = add64((int64_t) 1,\n                                                              span_74669);\n                    \n                    loopres_f_res_74699 = loopres_f_res_t_res_74700;\n                } else {\n                    int64_t loopres_f_res_f_res_74701 = add64((int64_t) 1,\n                                                              span_74669);\n                    \n                    loopres_f_res_74699 = loopres_f_res_f_res_74701;\n                }\n                loopres_74689 = loopres_f_res_74697;\n                loopres_74690 = loopres_f_res_74698;\n                loopres_74691 = loopres_f_res_74699;\n            }\n            \n            bool loop_cond_74702 = slt64(loopres_74691, min_res_70253);\n            bool loop_while_tmp_83050 = loop_cond_74702;\n            int64_t l_idx_tmp_83051 = loopres_74689;\n            int64_t r_idx_tmp_83052 = loopres_74690;\n            int64_t span_tmp_83053 = loopres_74691;\n            \n            loop_while_74666 = loop_while_tmp_83050;\n            l_idx_74667 = l_idx_tmp_83051;\n            r_idx_74668 = r_idx_tmp_83052;\n            span_74669 = span_tmp_83053;\n        }\n        idx_74662 = loop_while_74666;\n        idx_74663 = l_idx_74667;\n        idx_74664 = r_idx_74668;\n        idx_74665 =",
                   " span_74669;\n        \n        int64_t min_res_74703 = smin64(min_arg_74634, idx_74663);\n        int64_t max_res_74704 = smax64((int64_t) 0, min_res_74703);\n        int64_t x_74705 = add64(min_res_74635, max_res_74704);\n        int64_t r_74706 = sub64(x_74705, (int64_t) 1);\n        bool x_74707 = sle64((int64_t) 0, r_74706);\n        bool y_74708 = slt64(r_74706, n_70233);\n        bool bounds_check_74709 = x_74707 && y_74708;\n        bool index_certs_74710;\n        \n        if (!bounds_check_74709) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 28) == -1) {\n                    global_failure_args[0] = (int64_t) r_74706;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                return;\n            }\n        }\n        \n        int64_t x_74711 = ((__global int64_t *) mem_81565)[gtid_73859 *\n                                                           n_70233 + r_74706];\n        int64_t abs_arg_74712 = sub64(x_74711, min_res_74639);\n        int64_t abs_res_74713 = abs64(abs_arg_74712);\n        bool x_74714 = sle64((int64_t) 0, max_res_74704);\n        bool y_74715 = slt64(max_res_74704, n_70233);\n        bool bounds_check_74716 = x_74714 && y_74715;\n        bool index_certs_74717;\n        \n        if (!bounds_check_74716) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 29) == -1) {\n                    global_failure_args[0] = (int64_t) max_res_74704;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                return;\n            }\n        }\n        \n        int64_t x_74718 = ((__global int64_t *) mem_81565)[gtid_73859 *\n                                                           n_70233 +\n                                                           max_res_74704];\n        int64_t abs_arg_74719 = sub64(x_74718, min_res_74639);\n        int64_t abs_res_74720 = abs64(abs_arg_74719);\n        int",
                   "64_t max_res_74721 = smax64(abs_res_74713, abs_res_74720);\n        float defunc_0_f_res_74722 = sitofp_i64_f32(max_res_74721);\n        float defunc_1_f_res_74723 = max_res_74636 + defunc_0_f_res_74722;\n        \n        ((__global int64_t *) mem_81672)[gtid_73859 * n_m_70241 + gtid_73860] =\n            min_res_74639;\n        ((__global int64_t *) mem_81676)[gtid_73859 * n_m_70241 + gtid_73860] =\n            max_res_74704;\n        ((__global float *) mem_81680)[gtid_73859 * n_m_70241 + gtid_73860] =\n            defunc_1_f_res_74723;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_74626\n}\n__kernel void mainzisegmap_74195(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t i_70247, __global\n                                 unsigned char *mem_81557, __global\n                                 unsigned char *mem_81589)\n{\n    #define segmap_group_sizze_74433 (mainzisegmap_group_sizze_74198)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82984;\n    int32_t local_tid_82985;\n    int64_t group_sizze_82988;\n    int32_t wave_sizze_82987;\n    int32_t group_tid_82986;\n    \n    global_tid_82984 = get_global_id(0);\n    local_tid_82985 = get_local_id(0);\n    group_sizze_82988 = get_local_size(0);\n    wave_sizze_82987 = LOCKSTEP_WIDTH;\n    group_tid_82986 = get_group_id(0);\n    \n    int32_t phys_tid_74195 = global_tid_82984;\n    int64_t global_tid_82989 = sext_i32_i64(group_tid_82986) *\n            segmap_group_sizze_74433 + sext_i32_i64(local_tid_82985);\n    int64_t slice_82990 = q_70235;\n    int64_t slice_82991 = m_70232 * slice_82990;\n    int64_t gtid_74193 = squot64(global_tid_82989, slice_82990);\n    int64_t remnant_82992 = global_tid_82989 - gtid_74193 * slice_82990;\n    int64_t gtid_74194 = remnant_82992;\n    int64_t remnant_82993 = remna",
                   "nt_82992 - gtid_74194;\n    \n    if (slt64(gtid_74193, m_70232) && slt64(gtid_74194, q_70235)) {\n        int64_t last_res_74436 = ((__global int64_t *) mem_81557)[gtid_74193 *\n                                                                  n_70233 +\n                                                                  i_70247];\n        bool cond_74438 = sle64(last_res_74436, gtid_74194);\n        float defunc_0_f_res_74439;\n        \n        if (cond_74438) {\n            defunc_0_f_res_74439 = 0.0F;\n        } else {\n            defunc_0_f_res_74439 = 1.0F;\n        }\n        ((__global float *) mem_81589)[gtid_74193 * q_70235 + gtid_74194] =\n            defunc_0_f_res_74439;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_74433\n}\n__kernel void mainzisegmap_74215(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t i_70247, int64_t min_res_70253,\n                                 float i64_res_70259, __global\n                                 unsigned char *mem_81557, __global\n                                 unsigned char *mem_81575, __global\n                                 unsigned char *mem_81578, __global\n                                 unsigned char *mem_81581, __global\n                                 unsigned char *mem_81584)\n{\n    #define segmap_group_sizze_74413 (mainzisegmap_group_sizze_74217)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82976;\n    int32_t local_tid_82977;\n    int64_t group_sizze_82980;\n    int32_t wave_sizze_82979;\n    int32_t group_tid_82978;\n    \n    global_tid_82976 = get_global_id(0);\n    local_tid_82977 = get_local_id(0);\n    group_sizze_82980 = get_local_size(0);\n    wave_sizze_82979 = LOCKSTEP_WIDTH;\n    group_tid_82978 = get_group_id(0);\n    \n    int32_t phys_tid_74215 = global_tid_82976;\n    in",
                   "t64_t global_tid_82981 = sext_i32_i64(group_tid_82978) *\n            segmap_group_sizze_74413 + sext_i32_i64(local_tid_82977);\n    int64_t slice_82982 = m_70232;\n    int64_t gtid_74214 = global_tid_82981;\n    int64_t remnant_82983 = global_tid_82981 - gtid_74214;\n    \n    if (slt64(gtid_74214, m_70232)) {\n        int64_t last_res_74419 = ((__global int64_t *) mem_81557)[gtid_74214 *\n                                                                  n_70233 +\n                                                                  i_70247];\n        int64_t min_arg_74420 = sub64(last_res_74419, (int64_t) 1);\n        int64_t min_arg_74421 = sub64(last_res_74419, min_res_70253);\n        int64_t min_res_74422 = smin64(q_70235, last_res_74419);\n        float i64_res_74423 = sitofp_i64_f32(last_res_74419);\n        float x_74424 = i64_res_70259 - i64_res_74423;\n        float max_arg_74425 = x_74424 / 2.0F;\n        float max_res_74426 = fmax32(0.0F, max_arg_74425);\n        \n        ((__global int64_t *) mem_81575)[gtid_74214] = min_arg_74420;\n        ((__global int64_t *) mem_81578)[gtid_74214] = min_arg_74421;\n        ((__global int64_t *) mem_81581)[gtid_74214] = min_res_74422;\n        ((__global float *) mem_81584)[gtid_74214] = max_res_74426;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_74413\n}\n__kernel void mainzisegmap_74238(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, __global\n                                 unsigned char *mem_81565, __global\n                                 unsigned char *mem_81571)\n{\n    #define segmap_group_sizze_74406 (mainzisegmap_group_sizze_74241)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82966;\n    int32_t local_tid_82967;\n    int64_t group_sizze_82970;\n    int32_t wave_sizze_82969;\n    int32_t group_tid_82968;\n    \n    global_tid_82966 = get_global_i",
                   "d(0);\n    local_tid_82967 = get_local_id(0);\n    group_sizze_82970 = get_local_size(0);\n    wave_sizze_82969 = LOCKSTEP_WIDTH;\n    group_tid_82968 = get_group_id(0);\n    \n    int32_t phys_tid_74238 = global_tid_82966;\n    int64_t global_tid_82971 = sext_i32_i64(group_tid_82968) *\n            segmap_group_sizze_74406 + sext_i32_i64(local_tid_82967);\n    int64_t slice_82972 = n_70233;\n    int64_t slice_82973 = m_70232 * slice_82972;\n    int64_t gtid_74236 = squot64(global_tid_82971, slice_82972);\n    int64_t remnant_82974 = global_tid_82971 - gtid_74236 * slice_82972;\n    int64_t gtid_74237 = remnant_82974;\n    int64_t remnant_82975 = remnant_82974 - gtid_74237;\n    \n    if (slt64(gtid_74236, m_70232) && slt64(gtid_74237, n_70233)) {\n        int64_t x_74409 = ((__global int64_t *) mem_81565)[gtid_74236 *\n                                                           n_70233 +\n                                                           gtid_74237];\n        int64_t defunc_0_f_res_74410 = add64((int64_t) 1, x_74409);\n        \n        ((__global int64_t *) mem_81571)[gtid_74236 * n_70233 + gtid_74237] =\n            defunc_0_f_res_74410;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_74406\n}\n__kernel void mainzisegmap_74258(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, __global\n                                 unsigned char *Y_mem_81217, __global\n                                 unsigned char *mem_81557, __global\n                                 unsigned char *mem_81561, __global\n                                 unsigned char *mem_81565)\n{\n    #define segmap_group_sizze_74389 (mainzisegmap_group_sizze_74261)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82956;\n    int32_t local_tid_82957;\n    int64_t group_sizze_82960;\n    int32_t wave_sizze_82959;\n    int32_t group_tid_82958;\n    \n   ",
                   " global_tid_82956 = get_global_id(0);\n    local_tid_82957 = get_local_id(0);\n    group_sizze_82960 = get_local_size(0);\n    wave_sizze_82959 = LOCKSTEP_WIDTH;\n    group_tid_82958 = get_group_id(0);\n    \n    int32_t phys_tid_74258 = global_tid_82956;\n    int64_t global_tid_82961 = sext_i32_i64(group_tid_82958) *\n            segmap_group_sizze_74389 + sext_i32_i64(local_tid_82957);\n    int64_t slice_82962 = n_70233;\n    int64_t slice_82963 = m_70232 * slice_82962;\n    int64_t gtid_74256 = squot64(global_tid_82961, slice_82962);\n    int64_t remnant_82964 = global_tid_82961 - gtid_74256 * slice_82962;\n    int64_t gtid_74257 = remnant_82964;\n    int64_t remnant_82965 = remnant_82964 - gtid_74257;\n    \n    if (slt64(gtid_74256, m_70232) && slt64(gtid_74257, n_70233)) {\n        float x_74393 = ((__global float *) Y_mem_81217)[gtid_74256 * n_70233 +\n                                                         gtid_74257];\n        bool isnan_res_74396;\n        \n        isnan_res_74396 = futrts_isnan32(x_74393);\n        \n        bool defunc_0_p_res_74397 = !isnan_res_74396;\n        int64_t defunc_1_f_res_74398;\n        \n        if (defunc_0_p_res_74397) {\n            int64_t x_74394 = ((__global int64_t *) mem_81557)[gtid_74256 *\n                                                               n_70233 +\n                                                               gtid_74257];\n            int64_t defunc_1_f_res_t_res_74399 = sub64(x_74394, (int64_t) 1);\n            \n            defunc_1_f_res_74398 = defunc_1_f_res_t_res_74399;\n        } else {\n            defunc_1_f_res_74398 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_74256) && slt64(gtid_74256, m_70232)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_74398) &&\n             slt64(defunc_1_f_res_74398, n_70233))) {\n            ((__global int64_t *) mem_81565)[gtid_74256 * n_70233 +\n                                             defunc_1_f_res_74398] = gtid_74257;\n        }\n        if ((sle64((int64_t) 0, gtid_",
                   "74256) && slt64(gtid_74256, m_70232)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_74398) &&\n             slt64(defunc_1_f_res_74398, n_70233))) {\n            ((__global float *) mem_81561)[gtid_74256 * n_70233 +\n                                           defunc_1_f_res_74398] = x_74393;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_74389\n}\n__kernel void mainzisegmap_74854(__global int *global_failure,\n                                 int failure_is_an_option, __global\n                                 int64_t *global_failure_args, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t jump_70237, int64_t n_m_70241,\n                                 int64_t i_70247, unsigned char x_70248,\n                                 int64_t min_res_70253,\n                                 unsigned char loop_cond_70258,\n                                 float i64_res_70259, int64_t num_groups_75095,\n                                 int64_t num_threads_82475, __global\n                                 unsigned char *mem_81732, __global\n                                 unsigned char *mem_81841, __global\n                                 unsigned char *mem_81844, __global\n                                 unsigned char *color_82405, __global\n                                 unsigned char *color_82406, __global\n                                 unsigned char *color_82407, __global\n                                 unsigned char *color_82408, __global\n                                 unsigned char *color_82409, __global\n                                 unsigned char *color_82410)\n{\n    #define segmap_group_sizze_75094 (mainzisegmap_group_sizze_74856)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n",
                   "            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_83245;\n    int32_t local_tid_83246;\n    int64_t group_sizze_83249;\n    int32_t wave_sizze_83248;\n    int32_t group_tid_83247;\n    \n    global_tid_83245 = get_global_id(0);\n    local_tid_83246 = get_local_id(0);\n    group_sizze_83249 = get_local_size(0);\n    wave_sizze_83248 = LOCKSTEP_WIDTH;\n    group_tid_83247 = get_group_id(0);\n    \n    int32_t phys_tid_74854 = global_tid_83245;\n    int32_t phys_group_id_83250;\n    \n    phys_group_id_83250 = get_group_id(0);\n    for (int32_t i_83251 = 0; i_83251 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_70232, segmap_group_sizze_75094)) -\n                   phys_group_id_83250, sext_i64_i32(num_groups_75095));\n         i_83251++) {\n        int32_t virt_group_id_83252 = phys_group_id_83250 + i_83251 *\n                sext_i64_i32(num_groups_75095);\n        int64_t global_tid_83253 = sext_i32_i64(virt_group_id_83252) *\n                segmap_group_sizze_75094 + sext_i32_i64(local_tid_83246);\n        int64_t slice_83254 = m_70232;\n        int64_t gtid_74853 = global_tid_83253;\n        int64_t remnant_83255 = global_tid_83253 - gtid_74853;\n        \n        if (slt64(gtid_74853, m_70232)) {\n            int64_t discard_81115;\n            int64_t scanacc_81111 = (int64_t) 0;\n            \n            for (int64_t i_81113 = 0; i_81113 < n_70233; i_81113++) {\n                float x_75104 = ((__global float *) mem_81732)[i_81113 *\n                                                               m_70232 +\n                                                               gtid_74853];\n                bool isnan_res_75105;\n                \n                isnan_res_75105 = futrts_isnan32(x_75104);\n                \n                bool defunc_0_p_res_75106 = !isnan_res_75105;\n                int64_t defunc_0_f_res_75107 =\n                        btoi_bool_i64(defunc_0_p_res_75106);\n                int64_t defunc_1_op_res_75103 = add6",
                   "4(defunc_0_f_res_75107,\n                                                      scanacc_81111);\n                \n                ((__global int64_t *) color_82408)[phys_tid_74854 + i_81113 *\n                                                   num_threads_82475] =\n                    defunc_1_op_res_75103;\n                \n                int64_t scanacc_tmp_83256 = defunc_1_op_res_75103;\n                \n                scanacc_81111 = scanacc_tmp_83256;\n            }\n            discard_81115 = scanacc_81111;\n            \n            int64_t last_res_75108 = ((__global\n                                       int64_t *) color_82408)[phys_tid_74854 +\n                                                               i_70247 *\n                                                               num_threads_82475];\n            \n            for (int64_t i_83258 = 0; i_83258 < n_70233; i_83258++) {\n                ((__global float *) color_82410)[phys_tid_74854 + i_83258 *\n                                                 num_threads_82475] = 0.0F;\n            }\n            for (int64_t i_83259 = 0; i_83259 < n_70233; i_83259++) {\n                ((__global int64_t *) color_82409)[phys_tid_74854 + i_83259 *\n                                                   num_threads_82475] =\n                    (int64_t) -1;\n            }\n            for (int64_t write_iter_81116 = 0; write_iter_81116 < n_70233;\n                 write_iter_81116++) {\n                float write_iv_81119 = ((__global\n                                         float *) mem_81732)[write_iter_81116 *\n                                                             m_70232 +\n                                                             gtid_74853];\n                bool isnan_res_75116;\n                \n                isnan_res_75116 = futrts_isnan32(write_iv_81119);\n                \n                bool defunc_0_p_res_75117 = !isnan_res_75116;\n                int64_t defunc_1_f_res_75118;\n                \n                if (d",
                   "efunc_0_p_res_75117) {\n                    int64_t write_iv_81120 = ((__global\n                                               int64_t *) color_82408)[phys_tid_74854 +\n                                                                       write_iter_81116 *\n                                                                       num_threads_82475];\n                    int64_t defunc_1_f_res_t_res_75119 = sub64(write_iv_81120,\n                                                               (int64_t) 1);\n                    \n                    defunc_1_f_res_75118 = defunc_1_f_res_t_res_75119;\n                } else {\n                    defunc_1_f_res_75118 = (int64_t) -1;\n                }\n                if (sle64((int64_t) 0, defunc_1_f_res_75118) &&\n                    slt64(defunc_1_f_res_75118, n_70233)) {\n                    ((__global int64_t *) color_82409)[phys_tid_74854 +\n                                                       defunc_1_f_res_75118 *\n                                                       num_threads_82475] =\n                        write_iter_81116;\n                }\n                if (sle64((int64_t) 0, defunc_1_f_res_75118) &&\n                    slt64(defunc_1_f_res_75118, n_70233)) {\n                    for (int64_t i_83262 = 0; i_83262 < (int64_t) 1;\n                         i_83262++) {\n                        ((__global float *) color_82410)[phys_tid_74854 +\n                                                         num_threads_82475 *\n                                                         defunc_1_f_res_75118 +\n                                                         i_83262 *\n                                                         num_threads_82475] =\n                            ((__global float *) mem_81732)[m_70232 *\n                                                           write_iter_81116 +\n                                                           gtid_74853 +\n                                                           i_83262 *",
                   " m_70232];\n                    }\n                }\n            }\n            for (int64_t i_81126 = 0; i_81126 < n_70233; i_81126++) {\n                int64_t x_75121 = ((__global\n                                    int64_t *) color_82409)[phys_tid_74854 +\n                                                            i_81126 *\n                                                            num_threads_82475];\n                int64_t defunc_0_f_res_75122 = add64((int64_t) 1, x_75121);\n                \n                ((__global int64_t *) color_82408)[phys_tid_74854 + i_81126 *\n                                                   num_threads_82475] =\n                    defunc_0_f_res_75122;\n            }\n            \n            int64_t min_arg_75123 = sub64(last_res_75108, (int64_t) 1);\n            int64_t min_arg_75124 = sub64(last_res_75108, min_res_70253);\n            int64_t min_res_75125 = smin64(q_70235, last_res_75108);\n            float i64_res_75126 = sitofp_i64_f32(last_res_75108);\n            float x_75127 = i64_res_70259 - i64_res_75126;\n            float max_arg_75128 = x_75127 / 2.0F;\n            float max_res_75129 = fmax32(0.0F, max_arg_75128);\n            \n            for (int64_t i_81130 = 0; i_81130 < q_70235; i_81130++) {\n                bool cond_75132 = sle64(last_res_75108, i_81130);\n                float defunc_0_f_res_75133;\n                \n                if (cond_75132) {\n                    defunc_0_f_res_75133 = 0.0F;\n                } else {\n                    defunc_0_f_res_75133 = 1.0F;\n                }\n                ((__global float *) color_82407)[phys_tid_74854 + i_81130 *\n                                                 num_threads_82475] =\n                    defunc_0_f_res_75133;\n            }\n            for (int64_t i_81136 = 0; i_81136 < n_m_70241; i_81136++) {\n                int64_t min_arg_75137 = mul64(jump_70237, i_81136);\n                int64_t min_res_75138 = smin64(i_70247, min_arg_75137);\n                int64_t defun",
                   "c_0_g_res_75139 = add64((int64_t) 1,\n                                                     min_res_75138);\n                bool init_idx_75140;\n                int64_t init_idx_75141;\n                int64_t init_idx_75142;\n                bool loop_while_75143;\n                int64_t low_75144;\n                int64_t high_75145;\n                \n                loop_while_75143 = x_70248;\n                low_75144 = (int64_t) 0;\n                high_75145 = i_70247;\n                while (loop_while_75143) {\n                    int64_t x_75146 = add64(low_75144, high_75145);\n                    int64_t mid_75147 = sdiv64(x_75146, (int64_t) 2);\n                    bool x_75148 = sle64((int64_t) 0, mid_75147);\n                    bool y_75149 = slt64(mid_75147, n_70233);\n                    bool bounds_check_75150 = x_75148 && y_75149;\n                    bool index_certs_75151;\n                    \n                    if (!bounds_check_75150) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1,\n                                                          30) == -1) {\n                                global_failure_args[0] = (int64_t) mid_75147;\n                                global_failure_args[1] = (int64_t) n_70233;\n                                ;\n                            }\n                            local_failure = true;\n                            goto error_0;\n                        }\n                    }\n                    \n                    int64_t mid_id_75152 = ((__global\n                                             int64_t *) color_82408)[phys_tid_74854 +\n                                                                     mid_75147 *\n                                                                     num_threads_82475];\n                    bool cond_75153 = slt64(mid_id_75152, (int64_t) 0);\n                    int64_t mid_idx_75154;\n                    \n                    if (cond_75153) {\n  ",
                   "                      mid_idx_75154 = (int64_t) 9223372036854775807;\n                    } else {\n                        mid_idx_75154 = mid_id_75152;\n                    }\n                    \n                    bool cond_75155 = sle64(defunc_0_g_res_75139,\n                                            mid_idx_75154);\n                    int64_t loopres_75156;\n                    int64_t loopres_75157;\n                    \n                    if (cond_75155) {\n                        int64_t loopres_t_res_75158 = sub64(mid_75147,\n                                                            (int64_t) 1);\n                        \n                        loopres_75156 = low_75144;\n                        loopres_75157 = loopres_t_res_75158;\n                    } else {\n                        int64_t loopres_f_res_75159 = add64((int64_t) 1,\n                                                            mid_75147);\n                        \n                        loopres_75156 = loopres_f_res_75159;\n                        loopres_75157 = high_75145;\n                    }\n                    \n                    bool loop_cond_75160 = sle64(loopres_75156, loopres_75157);\n                    bool loop_while_tmp_83267 = loop_cond_75160;\n                    int64_t low_tmp_83268 = loopres_75156;\n                    int64_t high_tmp_83269 = loopres_75157;\n                    \n                    loop_while_75143 = loop_while_tmp_83267;\n                    low_75144 = low_tmp_83268;\n                    high_75145 = high_tmp_83269;\n                }\n                init_idx_75140 = loop_while_75143;\n                init_idx_75141 = low_75144;\n                init_idx_75142 = high_75145;\n                \n                bool idx_75161;\n                int64_t idx_75162;\n                int64_t idx_75163;\n                int64_t idx_75164;\n                bool loop_while_75165;\n                int64_t l_idx_75166;\n                int64_t r_idx_75167;\n                int64_t span_7",
                   "5168;\n                \n                loop_while_75165 = loop_cond_70258;\n                l_idx_75166 = init_idx_75141;\n                r_idx_75167 = init_idx_75141;\n                span_75168 = (int64_t) 1;\n                while (loop_while_75165) {\n                    int64_t max_arg_75169 = sub64(l_idx_75166, (int64_t) 1);\n                    int64_t max_res_75170 = smax64((int64_t) 0, max_arg_75169);\n                    int64_t min_arg_75171 = add64((int64_t) 1, r_idx_75167);\n                    int64_t min_res_75172 = smin64(min_arg_75123,\n                                                   min_arg_75171);\n                    bool x_75173 = sle64((int64_t) 0, max_res_75170);\n                    bool y_75174 = slt64(max_res_75170, n_70233);\n                    bool bounds_check_75175 = x_75173 && y_75174;\n                    bool index_certs_75176;\n                    \n                    if (!bounds_check_75175) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1,\n                                                          31) == -1) {\n                                global_failure_args[0] =\n                                    (int64_t) max_res_75170;\n                                global_failure_args[1] = (int64_t) n_70233;\n                                ;\n                            }\n                            local_failure = true;\n                            goto error_0;\n                        }\n                    }\n                    \n                    int64_t x_75177 = ((__global\n                                        int64_t *) color_82408)[phys_tid_74854 +\n                                                                max_res_75170 *\n                                                                num_threads_82475];\n                    int64_t abs_arg_75178 = sub64(x_75177,\n                                                  defunc_0_g_res_75139);\n                    int64_t abs_res_75179 = abs",
                   "64(abs_arg_75178);\n                    bool x_75180 = sle64((int64_t) 0, min_res_75172);\n                    bool y_75181 = slt64(min_res_75172, n_70233);\n                    bool bounds_check_75182 = x_75180 && y_75181;\n                    bool index_certs_75183;\n                    \n                    if (!bounds_check_75182) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1,\n                                                          32) == -1) {\n                                global_failure_args[0] =\n                                    (int64_t) min_res_75172;\n                                global_failure_args[1] = (int64_t) n_70233;\n                                ;\n                            }\n                            local_failure = true;\n                            goto error_0;\n                        }\n                    }\n                    \n                    int64_t x_75184 = ((__global\n                                        int64_t *) color_82408)[phys_tid_74854 +\n                                                                min_res_75172 *\n                                                                num_threads_82475];\n                    int64_t abs_arg_75185 = sub64(x_75184,\n                                                  defunc_0_g_res_75139);\n                    int64_t abs_res_75186 = abs64(abs_arg_75185);\n                    bool cond_75187 = max_res_75170 == l_idx_75166;\n                    int64_t loopres_75188;\n                    int64_t loopres_75189;\n                    int64_t loopres_75190;\n                    \n                    if (cond_75187) {\n                        loopres_75188 = l_idx_75166;\n                        loopres_75189 = r_idx_75167;\n                        loopres_75190 = min_res_70253;\n                    } else {\n                        bool cond_75191 = slt64(abs_res_75179, abs_res_75186);\n                        bool cond_f_res_75192 = min_res_",
                   "75172 == r_idx_75167;\n                        bool x_75193 = !cond_75191;\n                        bool y_75194 = cond_f_res_75192 && x_75193;\n                        bool cond_75195 = cond_75191 || y_75194;\n                        int64_t loopres_f_res_75196;\n                        \n                        if (cond_75195) {\n                            loopres_f_res_75196 = max_res_75170;\n                        } else {\n                            loopres_f_res_75196 = l_idx_75166;\n                        }\n                        \n                        int64_t loopres_f_res_75197;\n                        \n                        if (cond_75195) {\n                            loopres_f_res_75197 = r_idx_75167;\n                        } else {\n                            loopres_f_res_75197 = min_res_75172;\n                        }\n                        \n                        int64_t loopres_f_res_75198;\n                        \n                        if (cond_75195) {\n                            int64_t loopres_f_res_t_res_75199 =\n                                    add64((int64_t) 1, span_75168);\n                            \n                            loopres_f_res_75198 = loopres_f_res_t_res_75199;\n                        } else {\n                            int64_t loopres_f_res_f_res_75200 =\n                                    add64((int64_t) 1, span_75168);\n                            \n                            loopres_f_res_75198 = loopres_f_res_f_res_75200;\n                        }\n                        loopres_75188 = loopres_f_res_75196;\n                        loopres_75189 = loopres_f_res_75197;\n                        loopres_75190 = loopres_f_res_75198;\n                    }\n                    \n                    bool loop_cond_75201 = slt64(loopres_75190, min_res_70253);\n                    bool loop_while_tmp_83270 = loop_cond_75201;\n                    int64_t l_idx_tmp_83271 = loopres_75188;\n                    int64_t r_idx_tmp_8327",
                   "2 = loopres_75189;\n                    int64_t span_tmp_83273 = loopres_75190;\n                    \n                    loop_while_75165 = loop_while_tmp_83270;\n                    l_idx_75166 = l_idx_tmp_83271;\n                    r_idx_75167 = r_idx_tmp_83272;\n                    span_75168 = span_tmp_83273;\n                }\n                idx_75161 = loop_while_75165;\n                idx_75162 = l_idx_75166;\n                idx_75163 = r_idx_75167;\n                idx_75164 = span_75168;\n                \n                int64_t min_res_75202 = smin64(min_arg_75124, idx_75162);\n                int64_t max_res_75203 = smax64((int64_t) 0, min_res_75202);\n                int64_t x_75204 = add64(min_res_75125, max_res_75203);\n                int64_t r_75205 = sub64(x_75204, (int64_t) 1);\n                bool x_75206 = sle64((int64_t) 0, r_75205);\n                bool y_75207 = slt64(r_75205, n_70233);\n                bool bounds_check_75208 = x_75206 && y_75207;\n                bool index_certs_75209;\n                \n                if (!bounds_check_75208) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 33) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) r_75205;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_75210 = ((__global\n                                    int64_t *) color_82409)[phys_tid_74854 +\n                                                            r_75205 *\n                                                            num_threads_82475];\n                int64_t abs_arg_75211 = sub64(x_75210, min_res_75138);\n                int64_t abs_res_75212 = abs64(abs_arg_75211);\n                bool x_75213 = sle64((in",
                   "t64_t) 0, max_res_75203);\n                bool y_75214 = slt64(max_res_75203, n_70233);\n                bool bounds_check_75215 = x_75213 && y_75214;\n                bool index_certs_75216;\n                \n                if (!bounds_check_75215) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 34) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) max_res_75203;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_75217 = ((__global\n                                    int64_t *) color_82409)[phys_tid_74854 +\n                                                            max_res_75203 *\n                                                            num_threads_82475];\n                int64_t abs_arg_75218 = sub64(x_75217, min_res_75138);\n                int64_t abs_res_75219 = abs64(abs_arg_75218);\n                int64_t max_res_75220 = smax64(abs_res_75212, abs_res_75219);\n                float defunc_0_f_res_75221 = sitofp_i64_f32(max_res_75220);\n                float defunc_1_f_res_75222 = max_res_75129 +\n                      defunc_0_f_res_75221;\n                float defunc_2_reduce_res_75223;\n                float defunc_2_reduce_res_75224;\n                float defunc_2_reduce_res_75225;\n                float defunc_2_reduce_res_75226;\n                float defunc_2_reduce_res_75227;\n                float redout_81139;\n                float redout_81140;\n                float redout_81141;\n                float redout_81142;\n                float redout_81143;\n                \n                redout_81139 = 0.0F;\n                redout_81140 = 0.0F;\n                redout_81141 = 0.0F;\n                redout_81142 = 0.0F;\n      ",
                   "          redout_81143 = 0.0F;\n                for (int64_t i_81144 = 0; i_81144 < q_70235; i_81144++) {\n                    float x_75244 = ((__global\n                                      float *) color_82407)[phys_tid_74854 +\n                                                            i_81144 *\n                                                            num_threads_82475];\n                    bool cond_75245 = sle64(last_res_75108, i_81144);\n                    int64_t defunc_0_f_res_75246;\n                    \n                    if (cond_75245) {\n                        defunc_0_f_res_75246 = (int64_t) 0;\n                    } else {\n                        int64_t i_75247 = add64(max_res_75203, i_81144);\n                        int64_t defunc_0_add_arg_75248 = ((__global\n                                                           int64_t *) color_82409)[phys_tid_74854 +\n                                                                                   i_75247 *\n                                                                                   num_threads_82475];\n                        int64_t defunc_1_add_res_75249 = add64((int64_t) 1,\n                                                               defunc_0_add_arg_75248);\n                        \n                        defunc_0_f_res_75246 = defunc_1_add_res_75249;\n                    }\n                    \n                    int64_t binop_p_75250 = sub64(defunc_0_f_res_75246,\n                                                  min_res_75138);\n                    float defunc_0_f_res_75251 = sitofp_i64_f32(binop_p_75250);\n                    float abs_res_75252 = (float) fabs(defunc_0_f_res_75251);\n                    float tmp1_75253 = abs_res_75252 / defunc_1_f_res_75222;\n                    float x_75254 = tmp1_75253 * tmp1_75253;\n                    float y_75255 = tmp1_75253 * x_75254;\n                    float tmp2_75256 = 1.0F - y_75255;\n                    float x_75257 = tmp2_75256 * tmp2_75256;\n     ",
                   "               float tmp3_75258 = tmp2_75256 * x_75257;\n                    float w_j_75259 = x_75244 * tmp3_75258;\n                    float xw_j_75260 = defunc_0_f_res_75251 * w_j_75259;\n                    float x2w_j_75261 = defunc_0_f_res_75251 * xw_j_75260;\n                    float x3w_j_75262 = defunc_0_f_res_75251 * x2w_j_75261;\n                    float x4w_j_75263 = defunc_0_f_res_75251 * x3w_j_75262;\n                    float defunc_1_op_res_75230 = w_j_75259 + redout_81139;\n                    float defunc_1_op_res_75233 = xw_j_75260 + redout_81140;\n                    float defunc_1_op_res_75236 = x2w_j_75261 + redout_81141;\n                    float defunc_1_op_res_75239 = x3w_j_75262 + redout_81142;\n                    float defunc_1_op_res_75242 = x4w_j_75263 + redout_81143;\n                    float redout_tmp_83274 = defunc_1_op_res_75230;\n                    float redout_tmp_83275 = defunc_1_op_res_75233;\n                    float redout_tmp_83276 = defunc_1_op_res_75236;\n                    float redout_tmp_83277 = defunc_1_op_res_75239;\n                    float redout_tmp_83278 = defunc_1_op_res_75242;\n                    \n                    redout_81139 = redout_tmp_83274;\n                    redout_81140 = redout_tmp_83275;\n                    redout_81141 = redout_tmp_83276;\n                    redout_81142 = redout_tmp_83277;\n                    redout_81143 = redout_tmp_83278;\n                }\n                defunc_2_reduce_res_75223 = redout_81139;\n                defunc_2_reduce_res_75224 = redout_81140;\n                defunc_2_reduce_res_75225 = redout_81141;\n                defunc_2_reduce_res_75226 = redout_81142;\n                defunc_2_reduce_res_75227 = redout_81143;\n                \n                float x_75264 = defunc_2_reduce_res_75225 *\n                      defunc_2_reduce_res_75227;\n                float y_75265 = defunc_2_reduce_res_75226 *\n                      defunc_2_reduce_res_75226;\n                float a12_75",
                   "266 = x_75264 - y_75265;\n                float x_75267 = defunc_2_reduce_res_75225 *\n                      defunc_2_reduce_res_75226;\n                float y_75268 = defunc_2_reduce_res_75224 *\n                      defunc_2_reduce_res_75227;\n                float b12_75269 = x_75267 - y_75268;\n                float x_75270 = defunc_2_reduce_res_75224 *\n                      defunc_2_reduce_res_75226;\n                float y_75271 = defunc_2_reduce_res_75225 *\n                      defunc_2_reduce_res_75225;\n                float c12_75272 = x_75270 - y_75271;\n                float x_75273 = defunc_2_reduce_res_75223 *\n                      defunc_2_reduce_res_75227;\n                float b2_75274 = x_75273 - y_75271;\n                float x_75275 = defunc_2_reduce_res_75224 *\n                      defunc_2_reduce_res_75225;\n                float y_75276 = defunc_2_reduce_res_75223 *\n                      defunc_2_reduce_res_75226;\n                float c2_75277 = x_75275 - y_75276;\n                float x_75278 = defunc_2_reduce_res_75223 * a12_75266;\n                float y_75279 = defunc_2_reduce_res_75224 * b12_75269;\n                float x_75280 = x_75278 + y_75279;\n                float y_75281 = defunc_2_reduce_res_75225 * c12_75272;\n                float y_75282 = x_75280 + y_75281;\n                float det_75283 = 1.0F / y_75282;\n                float a12_75284 = a12_75266 * det_75283;\n                float b12_75285 = b12_75269 * det_75283;\n                float c12_75286 = c12_75272 * det_75283;\n                float b2_75287 = b2_75274 * det_75283;\n                float c2_75288 = c2_75277 * det_75283;\n                float defunc_2_reduce_res_75289;\n                float defunc_2_reduce_res_75290;\n                float redout_81145;\n                float redout_81146;\n                \n                redout_81145 = 0.0F;\n                redout_81146 = 0.0F;\n                for (int64_t i_81147 = 0; i_81147 < q_70235; i_81147++) {\n                    f",
                   "loat x_75298 = ((__global\n                                      float *) color_82407)[phys_tid_74854 +\n                                                            i_81147 *\n                                                            num_threads_82475];\n                    bool cond_75299 = sle64(last_res_75108, i_81147);\n                    int64_t defunc_0_f_res_75300;\n                    \n                    if (cond_75299) {\n                        defunc_0_f_res_75300 = (int64_t) 0;\n                    } else {\n                        int64_t i_75301 = add64(max_res_75203, i_81147);\n                        int64_t defunc_0_add_arg_75302 = ((__global\n                                                           int64_t *) color_82409)[phys_tid_74854 +\n                                                                                   i_75301 *\n                                                                                   num_threads_82475];\n                        int64_t defunc_1_add_res_75303 = add64((int64_t) 1,\n                                                               defunc_0_add_arg_75302);\n                        \n                        defunc_0_f_res_75300 = defunc_1_add_res_75303;\n                    }\n                    \n                    int64_t binop_p_75304 = sub64(defunc_0_f_res_75300,\n                                                  min_res_75138);\n                    float defunc_0_f_res_75305 = sitofp_i64_f32(binop_p_75304);\n                    float abs_res_75306 = (float) fabs(defunc_0_f_res_75305);\n                    float tmp1_75307 = abs_res_75306 / defunc_1_f_res_75222;\n                    float x_75308 = tmp1_75307 * tmp1_75307;\n                    float y_75309 = tmp1_75307 * x_75308;\n                    float tmp2_75310 = 1.0F - y_75309;\n                    float x_75311 = tmp2_75310 * tmp2_75310;\n                    float tmp3_75312 = tmp2_75310 * x_75311;\n                    float tmp4_75313 = x_75298 * tmp3_75312;\n         ",
                   "           float defunc_1_f_res_75314 = defunc_0_f_res_75305 *\n                          tmp4_75313;\n                    float defunc_1_f_res_75315 = defunc_0_f_res_75305 *\n                          defunc_1_f_res_75314;\n                    float defunc_0_f_res_75316;\n                    \n                    if (cond_75299) {\n                        defunc_0_f_res_75316 = 0.0F;\n                    } else {\n                        int64_t i_75317 = add64(max_res_75203, i_81147);\n                        float defunc_0_add_arg_75318 = ((__global\n                                                         float *) color_82410)[phys_tid_74854 +\n                                                                               i_75317 *\n                                                                               num_threads_82475];\n                        \n                        defunc_0_f_res_75316 = defunc_0_add_arg_75318;\n                    }\n                    \n                    float x_75319 = a12_75284 * tmp4_75313;\n                    float y_75320 = b12_75285 * defunc_1_f_res_75314;\n                    float x_75321 = x_75319 + y_75320;\n                    float y_75322 = c12_75286 * defunc_1_f_res_75315;\n                    float x_75323 = x_75321 + y_75322;\n                    float defunc_9_fit_fun_res_75324 = defunc_0_f_res_75316 *\n                          x_75323;\n                    float x_75325 = b12_75285 * tmp4_75313;\n                    float y_75326 = b2_75287 * defunc_1_f_res_75314;\n                    float x_75327 = x_75325 + y_75326;\n                    float y_75328 = c2_75288 * defunc_1_f_res_75315;\n                    float x_75329 = x_75327 + y_75328;\n                    float defunc_9_slope_fun_res_75330 = defunc_0_f_res_75316 *\n                          x_75329;\n                    float defunc_1_op_res_75293 = defunc_9_fit_fun_res_75324 +\n                          redout_81145;\n                    float defunc_1_op_res_75296 = defunc_9_slop",
                   "e_fun_res_75330 +\n                          redout_81146;\n                    float redout_tmp_83279 = defunc_1_op_res_75293;\n                    float redout_tmp_83280 = defunc_1_op_res_75296;\n                    \n                    redout_81145 = redout_tmp_83279;\n                    redout_81146 = redout_tmp_83280;\n                }\n                defunc_2_reduce_res_75289 = redout_81145;\n                defunc_2_reduce_res_75290 = redout_81146;\n                ((__global float *) color_82406)[phys_tid_74854 + i_81136 *\n                                                 num_threads_82475] =\n                    defunc_2_reduce_res_75289;\n                ((__global float *) color_82405)[phys_tid_74854 + i_81136 *\n                                                 num_threads_82475] =\n                    defunc_2_reduce_res_75290;\n            }\n            for (int64_t i_83281 = 0; i_83281 < n_m_70241; i_83281++) {\n                ((__global float *) mem_81841)[gtid_74853 + i_83281 * m_70232] =\n                    ((__global float *) color_82406)[phys_tid_74854 + i_83281 *\n                                                     num_threads_82475];\n            }\n            for (int64_t i_83282 = 0; i_83282 < n_m_70241; i_83282++) {\n                ((__global float *) mem_81844)[gtid_74853 + i_83282 * m_70232] =\n                    ((__global float *) color_82405)[phys_tid_74854 + i_83282 *\n                                                     num_threads_82475];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_75094\n}\n__kernel void mainzisegmap_75657(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_m_70241, __global\n                                 unsigned char *mem_82001, __global\n                                 unsigned char *mem_82005, __global\n                                 unsigned char *mem_82009, __global\n                 ",
                   "                unsigned char *mem_82013, __global\n                                 unsigned char *mem_82017, __global\n                                 unsigned char *mem_82022, __global\n                                 unsigned char *mem_82026, __global\n                                 unsigned char *mem_82030, __global\n                                 unsigned char *mem_82034, __global\n                                 unsigned char *mem_82038)\n{\n    #define segmap_group_sizze_76745 (mainzisegmap_group_sizze_75660)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83567;\n    int32_t local_tid_83568;\n    int64_t group_sizze_83571;\n    int32_t wave_sizze_83570;\n    int32_t group_tid_83569;\n    \n    global_tid_83567 = get_global_id(0);\n    local_tid_83568 = get_local_id(0);\n    group_sizze_83571 = get_local_size(0);\n    wave_sizze_83570 = LOCKSTEP_WIDTH;\n    group_tid_83569 = get_group_id(0);\n    \n    int32_t phys_tid_75657 = global_tid_83567;\n    int64_t global_tid_83572 = sext_i32_i64(group_tid_83569) *\n            segmap_group_sizze_76745 + sext_i32_i64(local_tid_83568);\n    int64_t slice_83573 = n_m_70241;\n    int64_t slice_83574 = m_70232 * slice_83573;\n    int64_t gtid_75655 = squot64(global_tid_83572, slice_83573);\n    int64_t remnant_83575 = global_tid_83572 - gtid_75655 * slice_83573;\n    int64_t gtid_75656 = remnant_83575;\n    int64_t remnant_83576 = remnant_83575 - gtid_75656;\n    \n    if (slt64(gtid_75655, m_70232) && slt64(gtid_75656, n_m_70241)) {\n        float defunc_2_reduce_res_76752 = ((__global\n                                            float *) mem_82001)[gtid_75655 *\n                                                                n_m_70241 +\n                                                                gtid_75656];\n        float defunc_2_reduce_res_76753 = ((__global\n                                            float *) mem",
                   "_82005)[gtid_75655 *\n                                                                n_m_70241 +\n                                                                gtid_75656];\n        float defunc_2_reduce_res_76754 = ((__global\n                                            float *) mem_82009)[gtid_75655 *\n                                                                n_m_70241 +\n                                                                gtid_75656];\n        float defunc_2_reduce_res_76755 = ((__global\n                                            float *) mem_82013)[gtid_75655 *\n                                                                n_m_70241 +\n                                                                gtid_75656];\n        float defunc_2_reduce_res_76756 = ((__global\n                                            float *) mem_82017)[gtid_75655 *\n                                                                n_m_70241 +\n                                                                gtid_75656];\n        float x_76757 = defunc_2_reduce_res_76754 * defunc_2_reduce_res_76756;\n        float y_76758 = defunc_2_reduce_res_76755 * defunc_2_reduce_res_76755;\n        float a12_76759 = x_76757 - y_76758;\n        float x_76760 = defunc_2_reduce_res_76754 * defunc_2_reduce_res_76755;\n        float y_76761 = defunc_2_reduce_res_76753 * defunc_2_reduce_res_76756;\n        float b12_76762 = x_76760 - y_76761;\n        float x_76763 = defunc_2_reduce_res_76753 * defunc_2_reduce_res_76755;\n        float y_76764 = defunc_2_reduce_res_76754 * defunc_2_reduce_res_76754;\n        float c12_76765 = x_76763 - y_76764;\n        float x_76766 = defunc_2_reduce_res_76752 * defunc_2_reduce_res_76756;\n        float b2_76767 = x_76766 - y_76764;\n        float x_76768 = defunc_2_reduce_res_76753 * defunc_2_reduce_res_76754;\n        float y_76769 = defunc_2_reduce_res_76752 * defunc_2_reduce_res_76755;\n        float c2_76770 = x_76768 - y_76769;\n        float x_76771 = defunc_2_reduce_res",
                   "_76752 * a12_76759;\n        float y_76772 = defunc_2_reduce_res_76753 * b12_76762;\n        float x_76773 = x_76771 + y_76772;\n        float y_76774 = defunc_2_reduce_res_76754 * c12_76765;\n        float y_76775 = x_76773 + y_76774;\n        float det_76776 = 1.0F / y_76775;\n        float a12_76777 = a12_76759 * det_76776;\n        float b12_76778 = b12_76762 * det_76776;\n        float c12_76779 = c12_76765 * det_76776;\n        float b2_76780 = b2_76767 * det_76776;\n        float c2_76781 = c2_76770 * det_76776;\n        \n        ((__global float *) mem_82022)[gtid_75655 * n_m_70241 + gtid_75656] =\n            a12_76777;\n        ((__global float *) mem_82026)[gtid_75655 * n_m_70241 + gtid_75656] =\n            b12_76778;\n        ((__global float *) mem_82030)[gtid_75655 * n_m_70241 + gtid_75656] =\n            c12_76779;\n        ((__global float *) mem_82034)[gtid_75655 * n_m_70241 + gtid_75656] =\n            b2_76780;\n        ((__global float *) mem_82038)[gtid_75655 * n_m_70241 + gtid_75656] =\n            c2_76781;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_76745\n}\n__kernel void mainzisegmap_75752(__global int *global_failure,\n                                 int failure_is_an_option, __global\n                                 int64_t *global_failure_args, int64_t m_70232,\n                                 int64_t n_70233, int64_t jump_70237,\n                                 int64_t n_m_70241, int64_t i_70247,\n                                 unsigned char x_70248, int64_t min_res_70253,\n                                 unsigned char loop_cond_70258, __global\n                                 unsigned char *mem_81857, __global\n                                 unsigned char *mem_81863, __global\n                                 unsigned char *mem_81867, __global\n                                 unsigned char *mem_81870, __global\n                                 unsigned char *mem_81873, __global\n                                 unsigned char *mem_81876, ",
                   "__global\n                                 unsigned char *mem_81988, __global\n                                 unsigned char *mem_81992, __global\n                                 unsigned char *mem_81996)\n{\n    #define segmap_group_sizze_76589 (mainzisegmap_group_sizze_75755)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83430;\n    int32_t local_tid_83431;\n    int64_t group_sizze_83434;\n    int32_t wave_sizze_83433;\n    int32_t group_tid_83432;\n    \n    global_tid_83430 = get_global_id(0);\n    local_tid_83431 = get_local_id(0);\n    group_sizze_83434 = get_local_size(0);\n    wave_sizze_83433 = LOCKSTEP_WIDTH;\n    group_tid_83432 = get_group_id(0);\n    \n    int32_t phys_tid_75752 = global_tid_83430;\n    int64_t global_tid_83435 = sext_i32_i64(group_tid_83432) *\n            segmap_group_sizze_76589 + sext_i32_i64(local_tid_83431);\n    int64_t slice_83436 = n_m_70241;\n    int64_t slice_83437 = m_70232 * slice_83436;\n    int64_t gtid_75750 = squot64(global_tid_83435, slice_83436);\n    int64_t remnant_83438 = global_tid_83435 - gtid_75750 * slice_83436;\n    int64_t gtid_75751 = remnant_83438;\n    int64_t remnant_83439 = remnant_83438 - gtid_75751;\n    \n    if (slt64(gtid_75750, m_70232) && slt64(gtid_75751, n_m_70241)) {\n        int64_t min_arg_76596 = ((__global int64_t *) mem_81867)[gtid_75750];\n        int64_t min_arg_76597 = ((__global int64_t *) mem_81870)[gtid_75750];\n        int64_t min_res_76598 = ((__global int64_t *) mem_81873)[gtid_75750];\n        float max_res_76599 = ((__global float *) mem_81876)[gtid_75750];\n        int64_t min_arg_76601 = mul64(jump_70237, gtid_75751);\n        int64_t min_res_76602 = smin64(i_70247, min_arg_76601);\n        int64_t defunc_0_g_res_76603 = add64((int64_t) 1, min_res_76602);\n        bool init_idx_76604;\n        int64_t init_idx_76605;\n        int64_t init_idx_76606;\n        bool loop_while_76607;\n     ",
                   "   int64_t low_76608;\n        int64_t high_76609;\n        \n        loop_while_76607 = x_70248;\n        low_76608 = (int64_t) 0;\n        high_76609 = i_70247;\n        while (loop_while_76607) {\n            int64_t x_76610 = add64(low_76608, high_76609);\n            int64_t mid_76611 = sdiv64(x_76610, (int64_t) 2);\n            bool x_76612 = sle64((int64_t) 0, mid_76611);\n            bool y_76613 = slt64(mid_76611, n_70233);\n            bool bounds_check_76614 = x_76612 && y_76613;\n            bool index_certs_76615;\n            \n            if (!bounds_check_76614) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 40) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) mid_76611;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t mid_id_76616 = ((__global int64_t *) mem_81863)[gtid_75750 *\n                                                                    n_70233 +\n                                                                    mid_76611];\n            bool cond_76617 = slt64(mid_id_76616, (int64_t) 0);\n            int64_t mid_idx_76618;\n            \n            if (cond_76617) {\n                mid_idx_76618 = (int64_t) 9223372036854775807;\n            } else {\n                mid_idx_76618 = mid_id_76616;\n            }\n            \n            bool cond_76619 = sle64(defunc_0_g_res_76603, mid_idx_76618);\n            int64_t loopres_76620;\n            int64_t loopres_76621;\n            \n            if (cond_76619) {\n                int64_t loopres_t_res_76622 = sub64(mid_76611, (int64_t) 1);\n                \n                loopres_76620 = low_76608;\n                loopres_76621 = loopres_t_res_76622;\n            } else {\n                int64_t loopres_f_res_76623 = add64((int64_t) 1, mid_76611);\n                \n             ",
                   "   loopres_76620 = loopres_f_res_76623;\n                loopres_76621 = high_76609;\n            }\n            \n            bool loop_cond_76624 = sle64(loopres_76620, loopres_76621);\n            bool loop_while_tmp_83440 = loop_cond_76624;\n            int64_t low_tmp_83441 = loopres_76620;\n            int64_t high_tmp_83442 = loopres_76621;\n            \n            loop_while_76607 = loop_while_tmp_83440;\n            low_76608 = low_tmp_83441;\n            high_76609 = high_tmp_83442;\n        }\n        init_idx_76604 = loop_while_76607;\n        init_idx_76605 = low_76608;\n        init_idx_76606 = high_76609;\n        \n        bool idx_76625;\n        int64_t idx_76626;\n        int64_t idx_76627;\n        int64_t idx_76628;\n        bool loop_while_76629;\n        int64_t l_idx_76630;\n        int64_t r_idx_76631;\n        int64_t span_76632;\n        \n        loop_while_76629 = loop_cond_70258;\n        l_idx_76630 = init_idx_76605;\n        r_idx_76631 = init_idx_76605;\n        span_76632 = (int64_t) 1;\n        while (loop_while_76629) {\n            int64_t max_arg_76633 = sub64(l_idx_76630, (int64_t) 1);\n            int64_t max_res_76634 = smax64((int64_t) 0, max_arg_76633);\n            int64_t min_arg_76635 = add64((int64_t) 1, r_idx_76631);\n            int64_t min_res_76636 = smin64(min_arg_76596, min_arg_76635);\n            bool x_76637 = sle64((int64_t) 0, max_res_76634);\n            bool y_76638 = slt64(max_res_76634, n_70233);\n            bool bounds_check_76639 = x_76637 && y_76638;\n            bool index_certs_76640;\n            \n            if (!bounds_check_76639) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 41) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) max_res_76634;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_",
                   "t x_76641 = ((__global int64_t *) mem_81863)[gtid_75750 *\n                                                               n_70233 +\n                                                               max_res_76634];\n            int64_t abs_arg_76642 = sub64(x_76641, defunc_0_g_res_76603);\n            int64_t abs_res_76643 = abs64(abs_arg_76642);\n            bool x_76644 = sle64((int64_t) 0, min_res_76636);\n            bool y_76645 = slt64(min_res_76636, n_70233);\n            bool bounds_check_76646 = x_76644 && y_76645;\n            bool index_certs_76647;\n            \n            if (!bounds_check_76646) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 42) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) min_res_76636;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t x_76648 = ((__global int64_t *) mem_81863)[gtid_75750 *\n                                                               n_70233 +\n                                                               min_res_76636];\n            int64_t abs_arg_76649 = sub64(x_76648, defunc_0_g_res_76603);\n            int64_t abs_res_76650 = abs64(abs_arg_76649);\n            bool cond_76651 = max_res_76634 == l_idx_76630;\n            int64_t loopres_76652;\n            int64_t loopres_76653;\n            int64_t loopres_76654;\n            \n            if (cond_76651) {\n                loopres_76652 = l_idx_76630;\n                loopres_76653 = r_idx_76631;\n                loopres_76654 = min_res_70253;\n            } else {\n                bool cond_76655 = slt64(abs_res_76643, abs_res_76650);\n                bool cond_f_res_76656 = min_res_76636 == r_idx_76631;\n                bool x_76657 = !cond_76655;\n                bool y_76658 = cond_f_res_76656 && x_76657;\n                bool cond_76659 =",
                   " cond_76655 || y_76658;\n                int64_t loopres_f_res_76660;\n                \n                if (cond_76659) {\n                    loopres_f_res_76660 = max_res_76634;\n                } else {\n                    loopres_f_res_76660 = l_idx_76630;\n                }\n                \n                int64_t loopres_f_res_76661;\n                \n                if (cond_76659) {\n                    loopres_f_res_76661 = r_idx_76631;\n                } else {\n                    loopres_f_res_76661 = min_res_76636;\n                }\n                \n                int64_t loopres_f_res_76662;\n                \n                if (cond_76659) {\n                    int64_t loopres_f_res_t_res_76663 = add64((int64_t) 1,\n                                                              span_76632);\n                    \n                    loopres_f_res_76662 = loopres_f_res_t_res_76663;\n                } else {\n                    int64_t loopres_f_res_f_res_76664 = add64((int64_t) 1,\n                                                              span_76632);\n                    \n                    loopres_f_res_76662 = loopres_f_res_f_res_76664;\n                }\n                loopres_76652 = loopres_f_res_76660;\n                loopres_76653 = loopres_f_res_76661;\n                loopres_76654 = loopres_f_res_76662;\n            }\n            \n            bool loop_cond_76665 = slt64(loopres_76654, min_res_70253);\n            bool loop_while_tmp_83443 = loop_cond_76665;\n            int64_t l_idx_tmp_83444 = loopres_76652;\n            int64_t r_idx_tmp_83445 = loopres_76653;\n            int64_t span_tmp_83446 = loopres_76654;\n            \n            loop_while_76629 = loop_while_tmp_83443;\n            l_idx_76630 = l_idx_tmp_83444;\n            r_idx_76631 = r_idx_tmp_83445;\n            span_76632 = span_tmp_83446;\n        }\n        idx_76625 = loop_while_76629;\n        idx_76626 = l_idx_76630;\n        idx_76627 = r_idx_76631;\n        idx_76628 = span_76632;\n        \n",
                   "        int64_t min_res_76666 = smin64(min_arg_76597, idx_76626);\n        int64_t max_res_76667 = smax64((int64_t) 0, min_res_76666);\n        int64_t x_76668 = add64(min_res_76598, max_res_76667);\n        int64_t r_76669 = sub64(x_76668, (int64_t) 1);\n        bool x_76670 = sle64((int64_t) 0, r_76669);\n        bool y_76671 = slt64(r_76669, n_70233);\n        bool bounds_check_76672 = x_76670 && y_76671;\n        bool index_certs_76673;\n        \n        if (!bounds_check_76672) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 43) == -1) {\n                    global_failure_args[0] = (int64_t) r_76669;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                return;\n            }\n        }\n        \n        int64_t x_76674 = ((__global int64_t *) mem_81857)[gtid_75750 *\n                                                           n_70233 + r_76669];\n        int64_t abs_arg_76675 = sub64(x_76674, min_res_76602);\n        int64_t abs_res_76676 = abs64(abs_arg_76675);\n        bool x_76677 = sle64((int64_t) 0, max_res_76667);\n        bool y_76678 = slt64(max_res_76667, n_70233);\n        bool bounds_check_76679 = x_76677 && y_76678;\n        bool index_certs_76680;\n        \n        if (!bounds_check_76679) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 44) == -1) {\n                    global_failure_args[0] = (int64_t) max_res_76667;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                return;\n            }\n        }\n        \n        int64_t x_76681 = ((__global int64_t *) mem_81857)[gtid_75750 *\n                                                           n_70233 +\n                                                           max_res_76667];\n        int64_t abs_arg_76682 = sub64(x_76681, min_res_76602);\n        int64_t abs_res_76683 = abs64(abs_arg_76682);\n        int64_t max_res_76684 = s",
                   "max64(abs_res_76676, abs_res_76683);\n        float defunc_0_f_res_76685 = sitofp_i64_f32(max_res_76684);\n        float defunc_1_f_res_76686 = max_res_76599 + defunc_0_f_res_76685;\n        \n        ((__global int64_t *) mem_81988)[gtid_75750 * n_m_70241 + gtid_75751] =\n            min_res_76602;\n        ((__global int64_t *) mem_81992)[gtid_75750 * n_m_70241 + gtid_75751] =\n            max_res_76667;\n        ((__global float *) mem_81996)[gtid_75750 * n_m_70241 + gtid_75751] =\n            defunc_1_f_res_76686;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_76589\n}\n__kernel void mainzisegmap_76126(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t i_70247, __global\n                                 unsigned char *mem_81849, __global\n                                 unsigned char *mem_81881)\n{\n    #define segmap_group_sizze_76364 (mainzisegmap_group_sizze_76129)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83367;\n    int32_t local_tid_83368;\n    int64_t group_sizze_83371;\n    int32_t wave_sizze_83370;\n    int32_t group_tid_83369;\n    \n    global_tid_83367 = get_global_id(0);\n    local_tid_83368 = get_local_id(0);\n    group_sizze_83371 = get_local_size(0);\n    wave_sizze_83370 = LOCKSTEP_WIDTH;\n    group_tid_83369 = get_group_id(0);\n    \n    int32_t phys_tid_76126 = global_tid_83367;\n    int64_t global_tid_83372 = sext_i32_i64(group_tid_83369) *\n            segmap_group_sizze_76364 + sext_i32_i64(local_tid_83368);\n    int64_t slice_83373 = q_70235;\n    int64_t slice_83374 = m_70232 * slice_83373;\n    int64_t gtid_76124 = squot64(global_tid_83372, slice_83373);\n    int64_t remnant_83375 = global_tid_83372 - gtid_76124 * slice_83373;\n    int64_t gtid_76125 = remnant_83375;\n    int64_t remnant_83376 = remnant_83375 - gtid_76125;",
                   "\n    \n    if (slt64(gtid_76124, m_70232) && slt64(gtid_76125, q_70235)) {\n        int64_t last_res_76367 = ((__global int64_t *) mem_81849)[gtid_76124 *\n                                                                  n_70233 +\n                                                                  i_70247];\n        bool cond_76369 = sle64(last_res_76367, gtid_76125);\n        float defunc_0_f_res_76370;\n        \n        if (cond_76369) {\n            defunc_0_f_res_76370 = 0.0F;\n        } else {\n            defunc_0_f_res_76370 = 1.0F;\n        }\n        ((__global float *) mem_81881)[gtid_76124 * q_70235 + gtid_76125] =\n            defunc_0_f_res_76370;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_76364\n}\n__kernel void mainzisegmap_76146(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t i_70247, int64_t min_res_70253,\n                                 float i64_res_70259, __global\n                                 unsigned char *mem_81849, __global\n                                 unsigned char *mem_81867, __global\n                                 unsigned char *mem_81870, __global\n                                 unsigned char *mem_81873, __global\n                                 unsigned char *mem_81876)\n{\n    #define segmap_group_sizze_76344 (mainzisegmap_group_sizze_76148)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83359;\n    int32_t local_tid_83360;\n    int64_t group_sizze_83363;\n    int32_t wave_sizze_83362;\n    int32_t group_tid_83361;\n    \n    global_tid_83359 = get_global_id(0);\n    local_tid_83360 = get_local_id(0);\n    group_sizze_83363 = get_local_size(0);\n    wave_sizze_83362 = LOCKSTEP_WIDTH;\n    group_tid_83361 = get_group_id(0);\n    \n    int32_t phys_tid_76146 = global_tid_83359;\n    int64_t global_tid_83364",
                   " = sext_i32_i64(group_tid_83361) *\n            segmap_group_sizze_76344 + sext_i32_i64(local_tid_83360);\n    int64_t slice_83365 = m_70232;\n    int64_t gtid_76145 = global_tid_83364;\n    int64_t remnant_83366 = global_tid_83364 - gtid_76145;\n    \n    if (slt64(gtid_76145, m_70232)) {\n        int64_t last_res_76350 = ((__global int64_t *) mem_81849)[gtid_76145 *\n                                                                  n_70233 +\n                                                                  i_70247];\n        int64_t min_arg_76351 = sub64(last_res_76350, (int64_t) 1);\n        int64_t min_arg_76352 = sub64(last_res_76350, min_res_70253);\n        int64_t min_res_76353 = smin64(q_70235, last_res_76350);\n        float i64_res_76354 = sitofp_i64_f32(last_res_76350);\n        float x_76355 = i64_res_70259 - i64_res_76354;\n        float max_arg_76356 = x_76355 / 2.0F;\n        float max_res_76357 = fmax32(0.0F, max_arg_76356);\n        \n        ((__global int64_t *) mem_81867)[gtid_76145] = min_arg_76351;\n        ((__global int64_t *) mem_81870)[gtid_76145] = min_arg_76352;\n        ((__global int64_t *) mem_81873)[gtid_76145] = min_res_76353;\n        ((__global float *) mem_81876)[gtid_76145] = max_res_76357;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_76344\n}\n__kernel void mainzisegmap_76169(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, __global\n                                 unsigned char *mem_81857, __global\n                                 unsigned char *mem_81863)\n{\n    #define segmap_group_sizze_76337 (mainzisegmap_group_sizze_76172)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83349;\n    int32_t local_tid_83350;\n    int64_t group_sizze_83353;\n    int32_t wave_sizze_83352;\n    int32_t group_tid_83351;\n    \n    global_tid_83349 = get_global_id(0);\n    local_tid_83",
                   "350 = get_local_id(0);\n    group_sizze_83353 = get_local_size(0);\n    wave_sizze_83352 = LOCKSTEP_WIDTH;\n    group_tid_83351 = get_group_id(0);\n    \n    int32_t phys_tid_76169 = global_tid_83349;\n    int64_t global_tid_83354 = sext_i32_i64(group_tid_83351) *\n            segmap_group_sizze_76337 + sext_i32_i64(local_tid_83350);\n    int64_t slice_83355 = n_70233;\n    int64_t slice_83356 = m_70232 * slice_83355;\n    int64_t gtid_76167 = squot64(global_tid_83354, slice_83355);\n    int64_t remnant_83357 = global_tid_83354 - gtid_76167 * slice_83355;\n    int64_t gtid_76168 = remnant_83357;\n    int64_t remnant_83358 = remnant_83357 - gtid_76168;\n    \n    if (slt64(gtid_76167, m_70232) && slt64(gtid_76168, n_70233)) {\n        int64_t x_76340 = ((__global int64_t *) mem_81857)[gtid_76167 *\n                                                           n_70233 +\n                                                           gtid_76168];\n        int64_t defunc_0_f_res_76341 = add64((int64_t) 1, x_76340);\n        \n        ((__global int64_t *) mem_81863)[gtid_76167 * n_70233 + gtid_76168] =\n            defunc_0_f_res_76341;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_76337\n}\n__kernel void mainzisegmap_76189(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, __global\n                                 unsigned char *Y_mem_81217, __global\n                                 unsigned char *mem_81849, __global\n                                 unsigned char *mem_81853, __global\n                                 unsigned char *mem_81857)\n{\n    #define segmap_group_sizze_76320 (mainzisegmap_group_sizze_76192)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83339;\n    int32_t local_tid_83340;\n    int64_t group_sizze_83343;\n    int32_t wave_sizze_83342;\n    int32_t group_tid_83341;\n    \n    global_tid_83339 = ge",
                   "t_global_id(0);\n    local_tid_83340 = get_local_id(0);\n    group_sizze_83343 = get_local_size(0);\n    wave_sizze_83342 = LOCKSTEP_WIDTH;\n    group_tid_83341 = get_group_id(0);\n    \n    int32_t phys_tid_76189 = global_tid_83339;\n    int64_t global_tid_83344 = sext_i32_i64(group_tid_83341) *\n            segmap_group_sizze_76320 + sext_i32_i64(local_tid_83340);\n    int64_t slice_83345 = n_70233;\n    int64_t slice_83346 = m_70232 * slice_83345;\n    int64_t gtid_76187 = squot64(global_tid_83344, slice_83345);\n    int64_t remnant_83347 = global_tid_83344 - gtid_76187 * slice_83345;\n    int64_t gtid_76188 = remnant_83347;\n    int64_t remnant_83348 = remnant_83347 - gtid_76188;\n    \n    if (slt64(gtid_76187, m_70232) && slt64(gtid_76188, n_70233)) {\n        float x_76324 = ((__global float *) Y_mem_81217)[gtid_76187 * n_70233 +\n                                                         gtid_76188];\n        bool isnan_res_76327;\n        \n        isnan_res_76327 = futrts_isnan32(x_76324);\n        \n        bool defunc_0_p_res_76328 = !isnan_res_76327;\n        int64_t defunc_1_f_res_76329;\n        \n        if (defunc_0_p_res_76328) {\n            int64_t x_76325 = ((__global int64_t *) mem_81849)[gtid_76187 *\n                                                               n_70233 +\n                                                               gtid_76188];\n            int64_t defunc_1_f_res_t_res_76330 = sub64(x_76325, (int64_t) 1);\n            \n            defunc_1_f_res_76329 = defunc_1_f_res_t_res_76330;\n        } else {\n            defunc_1_f_res_76329 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_76187) && slt64(gtid_76187, m_70232)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_76329) &&\n             slt64(defunc_1_f_res_76329, n_70233))) {\n            ((__global int64_t *) mem_81857)[gtid_76187 * n_70233 +\n                                             defunc_1_f_res_76329] = gtid_76188;\n        }\n        if ((sle64((int64_t) 0, gtid_76187) && slt64(gtid_7",
                   "6187, m_70232)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_76329) &&\n             slt64(defunc_1_f_res_76329, n_70233))) {\n            ((__global float *) mem_81853)[gtid_76187 * n_70233 +\n                                           defunc_1_f_res_76329] = x_76324;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_76320\n}\n__kernel void mainzisegmap_77031(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t i_70247, __global\n                                 unsigned char *mem_82074, __global\n                                 unsigned char *mem_82106)\n{\n    #define segmap_group_sizze_77269 (mainzisegmap_group_sizze_77034)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83745;\n    int32_t local_tid_83746;\n    int64_t group_sizze_83749;\n    int32_t wave_sizze_83748;\n    int32_t group_tid_83747;\n    \n    global_tid_83745 = get_global_id(0);\n    local_tid_83746 = get_local_id(0);\n    group_sizze_83749 = get_local_size(0);\n    wave_sizze_83748 = LOCKSTEP_WIDTH;\n    group_tid_83747 = get_group_id(0);\n    \n    int32_t phys_tid_77031 = global_tid_83745;\n    int64_t global_tid_83750 = sext_i32_i64(group_tid_83747) *\n            segmap_group_sizze_77269 + sext_i32_i64(local_tid_83746);\n    int64_t slice_83751 = q_70235;\n    int64_t slice_83752 = m_70232 * slice_83751;\n    int64_t gtid_77029 = squot64(global_tid_83750, slice_83751);\n    int64_t remnant_83753 = global_tid_83750 - gtid_77029 * slice_83751;\n    int64_t gtid_77030 = remnant_83753;\n    int64_t remnant_83754 = remnant_83753 - gtid_77030;\n    \n    if (slt64(gtid_77029, m_70232) && slt64(gtid_77030, q_70235)) {\n        int64_t last_res_77272 = ((__global int64_t *) mem_82074)[gtid_77029 *\n                                                                  n_70233 +\n    ",
                   "                                                              i_70247];\n        bool cond_77274 = sle64(last_res_77272, gtid_77030);\n        float defunc_0_f_res_77275;\n        \n        if (cond_77274) {\n            defunc_0_f_res_77275 = 0.0F;\n        } else {\n            defunc_0_f_res_77275 = 1.0F;\n        }\n        ((__global float *) mem_82106)[gtid_77029 * q_70235 + gtid_77030] =\n            defunc_0_f_res_77275;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_77269\n}\n__kernel void mainzisegmap_77051(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t i_70247, int64_t min_res_70253,\n                                 float i64_res_70259, __global\n                                 unsigned char *mem_82074, __global\n                                 unsigned char *mem_82092, __global\n                                 unsigned char *mem_82095, __global\n                                 unsigned char *mem_82098, __global\n                                 unsigned char *mem_82101)\n{\n    #define segmap_group_sizze_77249 (mainzisegmap_group_sizze_77053)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83737;\n    int32_t local_tid_83738;\n    int64_t group_sizze_83741;\n    int32_t wave_sizze_83740;\n    int32_t group_tid_83739;\n    \n    global_tid_83737 = get_global_id(0);\n    local_tid_83738 = get_local_id(0);\n    group_sizze_83741 = get_local_size(0);\n    wave_sizze_83740 = LOCKSTEP_WIDTH;\n    group_tid_83739 = get_group_id(0);\n    \n    int32_t phys_tid_77051 = global_tid_83737;\n    int64_t global_tid_83742 = sext_i32_i64(group_tid_83739) *\n            segmap_group_sizze_77249 + sext_i32_i64(local_tid_83738);\n    int64_t slice_83743 = m_70232;\n    int64_t gtid_77050 = global_tid_83742;\n    int64_t remnant_83744 = global_tid_83742 - gti",
                   "d_77050;\n    \n    if (slt64(gtid_77050, m_70232)) {\n        int64_t last_res_77255 = ((__global int64_t *) mem_82074)[gtid_77050 *\n                                                                  n_70233 +\n                                                                  i_70247];\n        int64_t min_arg_77256 = sub64(last_res_77255, (int64_t) 1);\n        int64_t min_arg_77257 = sub64(last_res_77255, min_res_70253);\n        int64_t min_res_77258 = smin64(q_70235, last_res_77255);\n        float i64_res_77259 = sitofp_i64_f32(last_res_77255);\n        float x_77260 = i64_res_70259 - i64_res_77259;\n        float max_arg_77261 = x_77260 / 2.0F;\n        float max_res_77262 = fmax32(0.0F, max_arg_77261);\n        \n        ((__global int64_t *) mem_82092)[gtid_77050] = min_arg_77256;\n        ((__global int64_t *) mem_82095)[gtid_77050] = min_arg_77257;\n        ((__global int64_t *) mem_82098)[gtid_77050] = min_res_77258;\n        ((__global float *) mem_82101)[gtid_77050] = max_res_77262;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_77249\n}\n__kernel void mainzisegmap_77074(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, __global\n                                 unsigned char *mem_82082, __global\n                                 unsigned char *mem_82088)\n{\n    #define segmap_group_sizze_77242 (mainzisegmap_group_sizze_77077)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83727;\n    int32_t local_tid_83728;\n    int64_t group_sizze_83731;\n    int32_t wave_sizze_83730;\n    int32_t group_tid_83729;\n    \n    global_tid_83727 = get_global_id(0);\n    local_tid_83728 = get_local_id(0);\n    group_sizze_83731 = get_local_size(0);\n    wave_sizze_83730 = LOCKSTEP_WIDTH;\n    group_tid_83729 = get_group_id(0);\n    \n    int32_t phys_tid_77074 = global_tid_83727;\n    int64_t global_tid_83732 = sext_i",
                   "32_i64(group_tid_83729) *\n            segmap_group_sizze_77242 + sext_i32_i64(local_tid_83728);\n    int64_t slice_83733 = n_70233;\n    int64_t slice_83734 = m_70232 * slice_83733;\n    int64_t gtid_77072 = squot64(global_tid_83732, slice_83733);\n    int64_t remnant_83735 = global_tid_83732 - gtid_77072 * slice_83733;\n    int64_t gtid_77073 = remnant_83735;\n    int64_t remnant_83736 = remnant_83735 - gtid_77073;\n    \n    if (slt64(gtid_77072, m_70232) && slt64(gtid_77073, n_70233)) {\n        int64_t x_77245 = ((__global int64_t *) mem_82082)[gtid_77072 *\n                                                           n_70233 +\n                                                           gtid_77073];\n        int64_t defunc_0_f_res_77246 = add64((int64_t) 1, x_77245);\n        \n        ((__global int64_t *) mem_82088)[gtid_77072 * n_70233 + gtid_77073] =\n            defunc_0_f_res_77246;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_77242\n}\n__kernel void mainzisegmap_77094(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, __global\n                                 unsigned char *Y_mem_81217, __global\n                                 unsigned char *mem_82074, __global\n                                 unsigned char *mem_82078, __global\n                                 unsigned char *mem_82082)\n{\n    #define segmap_group_sizze_77225 (mainzisegmap_group_sizze_77097)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83717;\n    int32_t local_tid_83718;\n    int64_t group_sizze_83721;\n    int32_t wave_sizze_83720;\n    int32_t group_tid_83719;\n    \n    global_tid_83717 = get_global_id(0);\n    local_tid_83718 = get_local_id(0);\n    group_sizze_83721 = get_local_size(0);\n    wave_sizze_83720 = LOCKSTEP_WIDTH;\n    group_tid_83719 = get_group_id(0);\n    \n    int32_t phys_tid_77094 = global_tid_83717;\n    i",
                   "nt64_t global_tid_83722 = sext_i32_i64(group_tid_83719) *\n            segmap_group_sizze_77225 + sext_i32_i64(local_tid_83718);\n    int64_t slice_83723 = n_70233;\n    int64_t slice_83724 = m_70232 * slice_83723;\n    int64_t gtid_77092 = squot64(global_tid_83722, slice_83723);\n    int64_t remnant_83725 = global_tid_83722 - gtid_77092 * slice_83723;\n    int64_t gtid_77093 = remnant_83725;\n    int64_t remnant_83726 = remnant_83725 - gtid_77093;\n    \n    if (slt64(gtid_77092, m_70232) && slt64(gtid_77093, n_70233)) {\n        float x_77229 = ((__global float *) Y_mem_81217)[gtid_77092 * n_70233 +\n                                                         gtid_77093];\n        bool isnan_res_77232;\n        \n        isnan_res_77232 = futrts_isnan32(x_77229);\n        \n        bool defunc_0_p_res_77233 = !isnan_res_77232;\n        int64_t defunc_1_f_res_77234;\n        \n        if (defunc_0_p_res_77233) {\n            int64_t x_77230 = ((__global int64_t *) mem_82074)[gtid_77092 *\n                                                               n_70233 +\n                                                               gtid_77093];\n            int64_t defunc_1_f_res_t_res_77235 = sub64(x_77230, (int64_t) 1);\n            \n            defunc_1_f_res_77234 = defunc_1_f_res_t_res_77235;\n        } else {\n            defunc_1_f_res_77234 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_77092) && slt64(gtid_77092, m_70232)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_77234) &&\n             slt64(defunc_1_f_res_77234, n_70233))) {\n            ((__global int64_t *) mem_82082)[gtid_77092 * n_70233 +\n                                             defunc_1_f_res_77234] = gtid_77093;\n        }\n        if ((sle64((int64_t) 0, gtid_77092) && slt64(gtid_77092, m_70232)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_77234) &&\n             slt64(defunc_1_f_res_77234, n_70233))) {\n            ((__global float *) mem_82078)[gtid_77092 * n_70233 +\n                                     ",
                   "      defunc_1_f_res_77234] = x_77229;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_77225\n}\n__kernel void mainzisegmap_77628(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t i_70247, __global\n                                 unsigned char *mem_82121, __global\n                                 unsigned char *mem_82153)\n{\n    #define segmap_group_sizze_77866 (mainzisegmap_group_sizze_77631)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83867;\n    int32_t local_tid_83868;\n    int64_t group_sizze_83871;\n    int32_t wave_sizze_83870;\n    int32_t group_tid_83869;\n    \n    global_tid_83867 = get_global_id(0);\n    local_tid_83868 = get_local_id(0);\n    group_sizze_83871 = get_local_size(0);\n    wave_sizze_83870 = LOCKSTEP_WIDTH;\n    group_tid_83869 = get_group_id(0);\n    \n    int32_t phys_tid_77628 = global_tid_83867;\n    int64_t global_tid_83872 = sext_i32_i64(group_tid_83869) *\n            segmap_group_sizze_77866 + sext_i32_i64(local_tid_83868);\n    int64_t slice_83873 = q_70235;\n    int64_t slice_83874 = m_70232 * slice_83873;\n    int64_t gtid_77626 = squot64(global_tid_83872, slice_83873);\n    int64_t remnant_83875 = global_tid_83872 - gtid_77626 * slice_83873;\n    int64_t gtid_77627 = remnant_83875;\n    int64_t remnant_83876 = remnant_83875 - gtid_77627;\n    \n    if (slt64(gtid_77626, m_70232) && slt64(gtid_77627, q_70235)) {\n        int64_t last_res_77869 = ((__global int64_t *) mem_82121)[gtid_77626 *\n                                                                  n_70233 +\n                                                                  i_70247];\n        bool cond_77871 = sle64(last_res_77869, gtid_77627);\n        float defunc_0_f_res_77872;\n        \n        if (cond_77871) {\n            defunc_0_f_res_77",
                   "872 = 0.0F;\n        } else {\n            defunc_0_f_res_77872 = 1.0F;\n        }\n        ((__global float *) mem_82153)[gtid_77626 * q_70235 + gtid_77627] =\n            defunc_0_f_res_77872;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_77866\n}\n__kernel void mainzisegmap_77648(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t i_70247, int64_t min_res_70253,\n                                 float i64_res_70259, __global\n                                 unsigned char *mem_82121, __global\n                                 unsigned char *mem_82139, __global\n                                 unsigned char *mem_82142, __global\n                                 unsigned char *mem_82145, __global\n                                 unsigned char *mem_82148)\n{\n    #define segmap_group_sizze_77846 (mainzisegmap_group_sizze_77650)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83859;\n    int32_t local_tid_83860;\n    int64_t group_sizze_83863;\n    int32_t wave_sizze_83862;\n    int32_t group_tid_83861;\n    \n    global_tid_83859 = get_global_id(0);\n    local_tid_83860 = get_local_id(0);\n    group_sizze_83863 = get_local_size(0);\n    wave_sizze_83862 = LOCKSTEP_WIDTH;\n    group_tid_83861 = get_group_id(0);\n    \n    int32_t phys_tid_77648 = global_tid_83859;\n    int64_t global_tid_83864 = sext_i32_i64(group_tid_83861) *\n            segmap_group_sizze_77846 + sext_i32_i64(local_tid_83860);\n    int64_t slice_83865 = m_70232;\n    int64_t gtid_77647 = global_tid_83864;\n    int64_t remnant_83866 = global_tid_83864 - gtid_77647;\n    \n    if (slt64(gtid_77647, m_70232)) {\n        int64_t last_res_77852 = ((__global int64_t *) mem_82121)[gtid_77647 *\n                                                                  n_70233 +\n                          ",
                   "                                        i_70247];\n        int64_t min_arg_77853 = sub64(last_res_77852, (int64_t) 1);\n        int64_t min_arg_77854 = sub64(last_res_77852, min_res_70253);\n        int64_t min_res_77855 = smin64(q_70235, last_res_77852);\n        float i64_res_77856 = sitofp_i64_f32(last_res_77852);\n        float x_77857 = i64_res_70259 - i64_res_77856;\n        float max_arg_77858 = x_77857 / 2.0F;\n        float max_res_77859 = fmax32(0.0F, max_arg_77858);\n        \n        ((__global int64_t *) mem_82139)[gtid_77647] = min_arg_77853;\n        ((__global int64_t *) mem_82142)[gtid_77647] = min_arg_77854;\n        ((__global int64_t *) mem_82145)[gtid_77647] = min_res_77855;\n        ((__global float *) mem_82148)[gtid_77647] = max_res_77859;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_77846\n}\n__kernel void mainzisegmap_77671(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, __global\n                                 unsigned char *mem_82129, __global\n                                 unsigned char *mem_82135)\n{\n    #define segmap_group_sizze_77839 (mainzisegmap_group_sizze_77674)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83849;\n    int32_t local_tid_83850;\n    int64_t group_sizze_83853;\n    int32_t wave_sizze_83852;\n    int32_t group_tid_83851;\n    \n    global_tid_83849 = get_global_id(0);\n    local_tid_83850 = get_local_id(0);\n    group_sizze_83853 = get_local_size(0);\n    wave_sizze_83852 = LOCKSTEP_WIDTH;\n    group_tid_83851 = get_group_id(0);\n    \n    int32_t phys_tid_77671 = global_tid_83849;\n    int64_t global_tid_83854 = sext_i32_i64(group_tid_83851) *\n            segmap_group_sizze_77839 + sext_i32_i64(local_tid_83850);\n    int64_t slice_83855 = n_70233;\n    int64_t slice_83856 = m_70232 * slice_83855;\n    int64_t gtid_77669 = squot64(global_tid_83854, sl",
                   "ice_83855);\n    int64_t remnant_83857 = global_tid_83854 - gtid_77669 * slice_83855;\n    int64_t gtid_77670 = remnant_83857;\n    int64_t remnant_83858 = remnant_83857 - gtid_77670;\n    \n    if (slt64(gtid_77669, m_70232) && slt64(gtid_77670, n_70233)) {\n        int64_t x_77842 = ((__global int64_t *) mem_82129)[gtid_77669 *\n                                                           n_70233 +\n                                                           gtid_77670];\n        int64_t defunc_0_f_res_77843 = add64((int64_t) 1, x_77842);\n        \n        ((__global int64_t *) mem_82135)[gtid_77669 * n_70233 + gtid_77670] =\n            defunc_0_f_res_77843;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_77839\n}\n__kernel void mainzisegmap_77691(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, __global\n                                 unsigned char *Y_mem_81217, __global\n                                 unsigned char *mem_82121, __global\n                                 unsigned char *mem_82125, __global\n                                 unsigned char *mem_82129)\n{\n    #define segmap_group_sizze_77822 (mainzisegmap_group_sizze_77694)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83839;\n    int32_t local_tid_83840;\n    int64_t group_sizze_83843;\n    int32_t wave_sizze_83842;\n    int32_t group_tid_83841;\n    \n    global_tid_83839 = get_global_id(0);\n    local_tid_83840 = get_local_id(0);\n    group_sizze_83843 = get_local_size(0);\n    wave_sizze_83842 = LOCKSTEP_WIDTH;\n    group_tid_83841 = get_group_id(0);\n    \n    int32_t phys_tid_77691 = global_tid_83839;\n    int64_t global_tid_83844 = sext_i32_i64(group_tid_83841) *\n            segmap_group_sizze_77822 + sext_i32_i64(local_tid_83840);\n    int64_t slice_83845 = n_70233;\n    int64_t slice_83846 = m_70232 * slice_83845;\n    int64_t gtid_7768",
                   "9 = squot64(global_tid_83844, slice_83845);\n    int64_t remnant_83847 = global_tid_83844 - gtid_77689 * slice_83845;\n    int64_t gtid_77690 = remnant_83847;\n    int64_t remnant_83848 = remnant_83847 - gtid_77690;\n    \n    if (slt64(gtid_77689, m_70232) && slt64(gtid_77690, n_70233)) {\n        float x_77826 = ((__global float *) Y_mem_81217)[gtid_77689 * n_70233 +\n                                                         gtid_77690];\n        bool isnan_res_77829;\n        \n        isnan_res_77829 = futrts_isnan32(x_77826);\n        \n        bool defunc_0_p_res_77830 = !isnan_res_77829;\n        int64_t defunc_1_f_res_77831;\n        \n        if (defunc_0_p_res_77830) {\n            int64_t x_77827 = ((__global int64_t *) mem_82121)[gtid_77689 *\n                                                               n_70233 +\n                                                               gtid_77690];\n            int64_t defunc_1_f_res_t_res_77832 = sub64(x_77827, (int64_t) 1);\n            \n            defunc_1_f_res_77831 = defunc_1_f_res_t_res_77832;\n        } else {\n            defunc_1_f_res_77831 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_77689) && slt64(gtid_77689, m_70232)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_77831) &&\n             slt64(defunc_1_f_res_77831, n_70233))) {\n            ((__global int64_t *) mem_82129)[gtid_77689 * n_70233 +\n                                             defunc_1_f_res_77831] = gtid_77690;\n        }\n        if ((sle64((int64_t) 0, gtid_77689) && slt64(gtid_77689, m_70232)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_77831) &&\n             slt64(defunc_1_f_res_77831, n_70233))) {\n            ((__global float *) mem_82125)[gtid_77689 * n_70233 +\n                                           defunc_1_f_res_77831] = x_77826;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_77822\n}\n__kernel void mainzisegmap_78311(__global int *global_failure, int64_t m_70232,\n                                ",
                   " int64_t n_70233, int64_t q_70235,\n                                 int64_t i_70247, __global\n                                 unsigned char *mem_82175, __global\n                                 unsigned char *mem_82207)\n{\n    #define segmap_group_sizze_78549 (mainzisegmap_group_sizze_78314)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83995;\n    int32_t local_tid_83996;\n    int64_t group_sizze_83999;\n    int32_t wave_sizze_83998;\n    int32_t group_tid_83997;\n    \n    global_tid_83995 = get_global_id(0);\n    local_tid_83996 = get_local_id(0);\n    group_sizze_83999 = get_local_size(0);\n    wave_sizze_83998 = LOCKSTEP_WIDTH;\n    group_tid_83997 = get_group_id(0);\n    \n    int32_t phys_tid_78311 = global_tid_83995;\n    int64_t global_tid_84000 = sext_i32_i64(group_tid_83997) *\n            segmap_group_sizze_78549 + sext_i32_i64(local_tid_83996);\n    int64_t slice_84001 = q_70235;\n    int64_t slice_84002 = m_70232 * slice_84001;\n    int64_t gtid_78309 = squot64(global_tid_84000, slice_84001);\n    int64_t remnant_84003 = global_tid_84000 - gtid_78309 * slice_84001;\n    int64_t gtid_78310 = remnant_84003;\n    int64_t remnant_84004 = remnant_84003 - gtid_78310;\n    \n    if (slt64(gtid_78309, m_70232) && slt64(gtid_78310, q_70235)) {\n        int64_t last_res_78552 = ((__global int64_t *) mem_82175)[gtid_78309 *\n                                                                  n_70233 +\n                                                                  i_70247];\n        bool cond_78554 = sle64(last_res_78552, gtid_78310);\n        float defunc_0_f_res_78555;\n        \n        if (cond_78554) {\n            defunc_0_f_res_78555 = 0.0F;\n        } else {\n            defunc_0_f_res_78555 = 1.0F;\n        }\n        ((__global float *) mem_82207)[gtid_78309 * q_70235 + gtid_78310] =\n            defunc_0_f_res_78555;\n    }\n    \n  error_0:\n    return;\n    #unde",
                   "f segmap_group_sizze_78549\n}\n__kernel void mainzisegmap_78331(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, int64_t q_70235,\n                                 int64_t i_70247, int64_t min_res_70253,\n                                 float i64_res_70259, __global\n                                 unsigned char *mem_82175, __global\n                                 unsigned char *mem_82193, __global\n                                 unsigned char *mem_82196, __global\n                                 unsigned char *mem_82199, __global\n                                 unsigned char *mem_82202)\n{\n    #define segmap_group_sizze_78529 (mainzisegmap_group_sizze_78333)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83987;\n    int32_t local_tid_83988;\n    int64_t group_sizze_83991;\n    int32_t wave_sizze_83990;\n    int32_t group_tid_83989;\n    \n    global_tid_83987 = get_global_id(0);\n    local_tid_83988 = get_local_id(0);\n    group_sizze_83991 = get_local_size(0);\n    wave_sizze_83990 = LOCKSTEP_WIDTH;\n    group_tid_83989 = get_group_id(0);\n    \n    int32_t phys_tid_78331 = global_tid_83987;\n    int64_t global_tid_83992 = sext_i32_i64(group_tid_83989) *\n            segmap_group_sizze_78529 + sext_i32_i64(local_tid_83988);\n    int64_t slice_83993 = m_70232;\n    int64_t gtid_78330 = global_tid_83992;\n    int64_t remnant_83994 = global_tid_83992 - gtid_78330;\n    \n    if (slt64(gtid_78330, m_70232)) {\n        int64_t last_res_78535 = ((__global int64_t *) mem_82175)[gtid_78330 *\n                                                                  n_70233 +\n                                                                  i_70247];\n        int64_t min_arg_78536 = sub64(last_res_78535, (int64_t) 1);\n        int64_t min_arg_78537 = sub64(last_res_78535, min_res_70253);\n        int64_t min_res_78538 = smin64(q_7023",
                   "5, last_res_78535);\n        float i64_res_78539 = sitofp_i64_f32(last_res_78535);\n        float x_78540 = i64_res_70259 - i64_res_78539;\n        float max_arg_78541 = x_78540 / 2.0F;\n        float max_res_78542 = fmax32(0.0F, max_arg_78541);\n        \n        ((__global int64_t *) mem_82193)[gtid_78330] = min_arg_78536;\n        ((__global int64_t *) mem_82196)[gtid_78330] = min_arg_78537;\n        ((__global int64_t *) mem_82199)[gtid_78330] = min_res_78538;\n        ((__global float *) mem_82202)[gtid_78330] = max_res_78542;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_78529\n}\n__kernel void mainzisegmap_78354(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, __global\n                                 unsigned char *mem_82183, __global\n                                 unsigned char *mem_82189)\n{\n    #define segmap_group_sizze_78522 (mainzisegmap_group_sizze_78357)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83977;\n    int32_t local_tid_83978;\n    int64_t group_sizze_83981;\n    int32_t wave_sizze_83980;\n    int32_t group_tid_83979;\n    \n    global_tid_83977 = get_global_id(0);\n    local_tid_83978 = get_local_id(0);\n    group_sizze_83981 = get_local_size(0);\n    wave_sizze_83980 = LOCKSTEP_WIDTH;\n    group_tid_83979 = get_group_id(0);\n    \n    int32_t phys_tid_78354 = global_tid_83977;\n    int64_t global_tid_83982 = sext_i32_i64(group_tid_83979) *\n            segmap_group_sizze_78522 + sext_i32_i64(local_tid_83978);\n    int64_t slice_83983 = n_70233;\n    int64_t slice_83984 = m_70232 * slice_83983;\n    int64_t gtid_78352 = squot64(global_tid_83982, slice_83983);\n    int64_t remnant_83985 = global_tid_83982 - gtid_78352 * slice_83983;\n    int64_t gtid_78353 = remnant_83985;\n    int64_t remnant_83986 = remnant_83985 - gtid_78353;\n    \n    if (slt64(gtid_78352, m_70232) && slt64(gti",
                   "d_78353, n_70233)) {\n        int64_t x_78525 = ((__global int64_t *) mem_82183)[gtid_78352 *\n                                                           n_70233 +\n                                                           gtid_78353];\n        int64_t defunc_0_f_res_78526 = add64((int64_t) 1, x_78525);\n        \n        ((__global int64_t *) mem_82189)[gtid_78352 * n_70233 + gtid_78353] =\n            defunc_0_f_res_78526;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_78522\n}\n__kernel void mainzisegmap_78374(__global int *global_failure, int64_t m_70232,\n                                 int64_t n_70233, __global\n                                 unsigned char *Y_mem_81217, __global\n                                 unsigned char *mem_82175, __global\n                                 unsigned char *mem_82179, __global\n                                 unsigned char *mem_82183)\n{\n    #define segmap_group_sizze_78505 (mainzisegmap_group_sizze_78377)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83967;\n    int32_t local_tid_83968;\n    int64_t group_sizze_83971;\n    int32_t wave_sizze_83970;\n    int32_t group_tid_83969;\n    \n    global_tid_83967 = get_global_id(0);\n    local_tid_83968 = get_local_id(0);\n    group_sizze_83971 = get_local_size(0);\n    wave_sizze_83970 = LOCKSTEP_WIDTH;\n    group_tid_83969 = get_group_id(0);\n    \n    int32_t phys_tid_78374 = global_tid_83967;\n    int64_t global_tid_83972 = sext_i32_i64(group_tid_83969) *\n            segmap_group_sizze_78505 + sext_i32_i64(local_tid_83968);\n    int64_t slice_83973 = n_70233;\n    int64_t slice_83974 = m_70232 * slice_83973;\n    int64_t gtid_78372 = squot64(global_tid_83972, slice_83973);\n    int64_t remnant_83975 = global_tid_83972 - gtid_78372 * slice_83973;\n    int64_t gtid_78373 = remnant_83975;\n    int64_t remnant_83976 = remnant_83975 - gtid_78373;\n    \n    if (slt64(g",
                   "tid_78372, m_70232) && slt64(gtid_78373, n_70233)) {\n        float x_78509 = ((__global float *) Y_mem_81217)[gtid_78372 * n_70233 +\n                                                         gtid_78373];\n        bool isnan_res_78512;\n        \n        isnan_res_78512 = futrts_isnan32(x_78509);\n        \n        bool defunc_0_p_res_78513 = !isnan_res_78512;\n        int64_t defunc_1_f_res_78514;\n        \n        if (defunc_0_p_res_78513) {\n            int64_t x_78510 = ((__global int64_t *) mem_82175)[gtid_78372 *\n                                                               n_70233 +\n                                                               gtid_78373];\n            int64_t defunc_1_f_res_t_res_78515 = sub64(x_78510, (int64_t) 1);\n            \n            defunc_1_f_res_78514 = defunc_1_f_res_t_res_78515;\n        } else {\n            defunc_1_f_res_78514 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_78372) && slt64(gtid_78372, m_70232)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_78514) &&\n             slt64(defunc_1_f_res_78514, n_70233))) {\n            ((__global int64_t *) mem_82183)[gtid_78372 * n_70233 +\n                                             defunc_1_f_res_78514] = gtid_78373;\n        }\n        if ((sle64((int64_t) 0, gtid_78372) && slt64(gtid_78372, m_70232)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_78514) &&\n             slt64(defunc_1_f_res_78514, n_70233))) {\n            ((__global float *) mem_82179)[gtid_78372 * n_70233 +\n                                           defunc_1_f_res_78514] = x_78509;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_78505\n}\n__kernel void mainzisegmap_78778(__global int *global_failure,\n                                 int failure_is_an_option, __global\n                                 int64_t *global_failure_args, int64_t m_70232,\n                                 int64_t n_70233, int64_t jump_70237,\n                                 int64_t n_m_70241, int64_t i_70",
                   "247,\n                                 int64_t y_71526, __global\n                                 unsigned char *ext_mem_82236, __global\n                                 unsigned char *ext_mem_82237, __global\n                                 unsigned char *mem_82242)\n{\n    #define segmap_group_sizze_78893 (mainzisegmap_group_sizze_78781)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_84042;\n    int32_t local_tid_84043;\n    int64_t group_sizze_84046;\n    int32_t wave_sizze_84045;\n    int32_t group_tid_84044;\n    \n    global_tid_84042 = get_global_id(0);\n    local_tid_84043 = get_local_id(0);\n    group_sizze_84046 = get_local_size(0);\n    wave_sizze_84045 = LOCKSTEP_WIDTH;\n    group_tid_84044 = get_group_id(0);\n    \n    int32_t phys_tid_78778 = global_tid_84042;\n    int64_t global_tid_84047 = sext_i32_i64(group_tid_84044) *\n            segmap_group_sizze_78893 + sext_i32_i64(local_tid_84043);\n    int64_t slice_84048 = n_70233;\n    int64_t slice_84049 = m_70232 * slice_84048;\n    int64_t gtid_78776 = squot64(global_tid_84047, slice_84048);\n    int64_t remnant_84050 = global_tid_84047 - gtid_78776 * slice_84048;\n    int64_t gtid_78777 = remnant_84050;\n    int64_t remnant_84051 = remnant_84050 - gtid_78777;\n    \n    if (slt64(gtid_78776, m_70232) && slt64(gtid_78777, n_70233)) {\n        int64_t m_v_78899 = sdiv64(gtid_78777, jump_70237);\n        bool cond_78900 = m_v_78899 == y_71526;\n        int64_t j_78901;\n        \n        if (cond_78900) {\n            int64_t j_t_res_78902 = sub64(m_v_78899, (int64_t) 1);\n            \n            j_78901 = j_t_res_78902;\n        } else {\n            j_78901 = m_v_78899;\n        }\n        \n        int64_t min_arg_78903 = mul64(jump_70237, j_78901);\n        int64_t min_res_78904 = smin64(i_70247, min_arg_78903);\n        int64_t defunc_0_m_fun_arg_78905 = add64((int64_t) 1, j_78901);\n        int64_t min_arg_78906",
                   " = mul64(jump_70237, defunc_0_m_fun_arg_78905);\n        int64_t min_res_78907 = smin64(i_70247, min_arg_78906);\n        int64_t i64_arg_78908 = sub64(min_res_78907, min_res_78904);\n        float i64_res_78909 = sitofp_i64_f32(i64_arg_78908);\n        int64_t i64_arg_78910 = sub64(gtid_78777, min_res_78904);\n        float i64_res_78911 = sitofp_i64_f32(i64_arg_78910);\n        float u_78912 = i64_res_78911 / i64_res_78909;\n        float u2_78913 = u_78912 * u_78912;\n        float u3_78914 = u_78912 * u2_78913;\n        float x_78915 = 2.0F * u3_78914;\n        float y_78916 = 3.0F * u2_78913;\n        float x_78917 = x_78915 - y_78916;\n        float x_78918 = 1.0F + x_78917;\n        bool x_78919 = sle64((int64_t) 0, j_78901);\n        bool y_78920 = slt64(j_78901, n_m_70241);\n        bool bounds_check_78921 = x_78919 && y_78920;\n        bool index_certs_78922;\n        \n        if (!bounds_check_78921) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 60) == -1) {\n                    global_failure_args[0] = (int64_t) j_78901;\n                    global_failure_args[1] = (int64_t) n_m_70241;\n                    ;\n                }\n                return;\n            }\n        }\n        \n        float y_78923 = ((__global float *) ext_mem_82237)[gtid_78776 *\n                                                           n_m_70241 + j_78901];\n        float x_78924 = x_78918 * y_78923;\n        float x_78925 = y_78916 - x_78915;\n        bool x_78926 = sle64((int64_t) 0, defunc_0_m_fun_arg_78905);\n        bool y_78927 = slt64(defunc_0_m_fun_arg_78905, n_m_70241);\n        bool bounds_check_78928 = x_78926 && y_78927;\n        bool index_certs_78929;\n        \n        if (!bounds_check_78928) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 61) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_m_fun_arg_78905;\n                    global_failure_args[1] = (int64_t) n_m_70241;\n                    ;\n   ",
                   "             }\n                return;\n            }\n        }\n        \n        float y_78930 = ((__global float *) ext_mem_82237)[gtid_78776 *\n                                                           n_m_70241 +\n                                                           defunc_0_m_fun_arg_78905];\n        float y_78931 = x_78925 * y_78930;\n        float x_78932 = x_78924 + y_78931;\n        float y_78933 = 2.0F * u2_78913;\n        float x_78934 = u3_78914 - y_78933;\n        float x_78935 = u_78912 + x_78934;\n        float y_78936 = ((__global float *) ext_mem_82236)[gtid_78776 *\n                                                           n_m_70241 + j_78901];\n        float x_78937 = x_78935 * y_78936;\n        float y_78938 = i64_res_78909 * x_78937;\n        float x_78939 = x_78932 + y_78938;\n        float x_78940 = u3_78914 - u2_78913;\n        float y_78941 = ((__global float *) ext_mem_82236)[gtid_78776 *\n                                                           n_m_70241 +\n                                                           defunc_0_m_fun_arg_78905];\n        float x_78942 = x_78940 * y_78941;\n        float y_78943 = i64_res_78909 * x_78942;\n        float defunc_0_f_res_78944 = x_78939 + y_78943;\n        \n        ((__global float *) mem_82242)[gtid_78776 * n_70233 + gtid_78777] =\n            defunc_0_f_res_78944;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_78893\n}\n__kernel void mainzisegmap_intragroup_76884(__global int *global_failure,\n                                            int failure_is_an_option, __global\n                                            int64_t *global_failure_args,\n                                            __local volatile\n                                            int64_t *red_arr_mem_83778_backing_aligned_0,\n                                            __local volatile\n                                            int64_t *red_arr_mem_83774_backing_aligned_1,\n                                            __local vol",
                   "atile\n                                            int64_t *color_82435_backing_aligned_2,\n                                            int64_t m_70232, int64_t n_70233,\n                                            int64_t q_70235, int64_t jump_70237,\n                                            int64_t n_m_70241, int64_t i_70247,\n                                            unsigned char x_70248,\n                                            int64_t min_res_70253,\n                                            unsigned char loop_cond_70258,\n                                            __global unsigned char *mem_82074,\n                                            __global unsigned char *mem_82078,\n                                            __global unsigned char *mem_82082,\n                                            __global unsigned char *mem_82088,\n                                            __global unsigned char *mem_82092,\n                                            __global unsigned char *mem_82095,\n                                            __global unsigned char *mem_82098,\n                                            __global unsigned char *mem_82101,\n                                            __global unsigned char *mem_82106,\n                                            __global unsigned char *mem_82116)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_83778_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83778_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_83774_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83774_backing_aligned_1;\n    __local volatile unsigned char *restrict color_82435_backing_0 =\n                                   (__local volatile\n                      ",
                   "              unsigned char *) color_82435_backing_aligned_2;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_83755;\n    int32_t local_tid_83756;\n    int64_t group_sizze_83759;\n    int32_t wave_sizze_83758;\n    int32_t group_tid_83757;\n    \n    global_tid_83755 = get_global_id(0);\n    local_tid_83756 = get_local_id(0);\n    group_sizze_83759 = get_local_size(0);\n    wave_sizze_83758 = LOCKSTEP_WIDTH;\n    group_tid_83757 = get_group_id(0);\n    \n    int32_t phys_tid_76884 = group_tid_83757;\n    int64_t slice_83761 = q_70235;\n    int64_t ltid_pre_83760 = sext_i32_i64(local_tid_83756);\n    int64_t remnant_83762 = sext_i32_i64(local_tid_83756) - ltid_pre_83760;\n    int64_t slice_83763 = n_m_70241;\n    int64_t slice_83764 = m_70232 * slice_83763;\n    int64_t gtid_76871 = squot64(sext_i32_i64(group_tid_83757), slice_83763);\n    int64_t remnant_83765 = sext_i32_i64(group_tid_83757) - gtid_76871 *\n            slice_83763;\n    int64_t gtid_76872 = remnant_83765;\n    int64_t remnant_83766 = remnant_83765 - gtid_76872;\n    __local unsigned char *color_82435;\n    \n    color_82435 = (__local unsigned char *) color_82435_backing_0;\n    \n    int64_t last_res_77285 = ((__global int64_t *) mem_82074)[gtid_76871 *\n                                                              n_70233 +\n                                                              i_70247];\n    int64_t min_arg_77292 = ((__global int64_t *) mem_82092)[gtid_76871];\n    int64_t min_arg_77293 = ((__global int64_t *) mem_82095)[gtid_76871];\n    int64_t min_res_77294 = ((__global int64_t *) mem_82098)[gtid_76871];\n    float max_res_77295 = ((__global float *) mem_82101)[gtid_76871];\n    int64_t min_arg_77299 = mul64(jump_70237, gtid_76872);\n    int64_t min_res_77300 = smin64(i_70247, min_arg_77299);\n    int64_t de",
                   "func_0_g_res_77301 = add64((int64_t) 1, min_res_77300);\n    bool init_idx_77302;\n    int64_t init_idx_77303;\n    int64_t init_idx_77304;\n    bool loop_while_77305;\n    int64_t low_77306;\n    int64_t high_77307;\n    \n    loop_while_77305 = x_70248;\n    low_77306 = (int64_t) 0;\n    high_77307 = i_70247;\n    while (loop_while_77305) {\n        int64_t x_77308 = add64(low_77306, high_77307);\n        int64_t mid_77309 = sdiv64(x_77308, (int64_t) 2);\n        bool x_77310 = sle64((int64_t) 0, mid_77309);\n        bool y_77311 = slt64(mid_77309, n_70233);\n        bool bounds_check_77312 = x_77310 && y_77311;\n        bool index_certs_77313;\n        \n        if (!bounds_check_77312) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 45) == -1) {\n                    global_failure_args[0] = (int64_t) mid_77309;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t mid_id_77314 = ((__global int64_t *) mem_82088)[gtid_76871 *\n                                                                n_70233 +\n                                                                mid_77309];\n        bool cond_77315 = slt64(mid_id_77314, (int64_t) 0);\n        int64_t mid_idx_77316;\n        \n        if (cond_77315) {\n            mid_idx_77316 = (int64_t) 9223372036854775807;\n        } else {\n            mid_idx_77316 = mid_id_77314;\n        }\n        \n        bool cond_77317 = sle64(defunc_0_g_res_77301, mid_idx_77316);\n        int64_t loopres_77318;\n        int64_t loopres_77319;\n        \n        if (cond_77317) {\n            int64_t loopres_t_res_77320 = sub64(mid_77309, (int64_t) 1);\n            \n            loopres_77318 = low_77306;\n            loopres_77319 = loopres_t_res_77320;\n        } else {\n            int64_t loopres_f_res_77321 = add64((int64_t) 1, mid_77309);\n            \n            loopres_",
                   "77318 = loopres_f_res_77321;\n            loopres_77319 = high_77307;\n        }\n        \n        bool loop_cond_77322 = sle64(loopres_77318, loopres_77319);\n        bool loop_while_tmp_83767 = loop_cond_77322;\n        int64_t low_tmp_83768 = loopres_77318;\n        int64_t high_tmp_83769 = loopres_77319;\n        \n        loop_while_77305 = loop_while_tmp_83767;\n        low_77306 = low_tmp_83768;\n        high_77307 = high_tmp_83769;\n    }\n    init_idx_77302 = loop_while_77305;\n    init_idx_77303 = low_77306;\n    init_idx_77304 = high_77307;\n    \n    bool idx_77323;\n    int64_t idx_77324;\n    int64_t idx_77325;\n    int64_t idx_77326;\n    bool loop_while_77327;\n    int64_t l_idx_77328;\n    int64_t r_idx_77329;\n    int64_t span_77330;\n    \n    loop_while_77327 = loop_cond_70258;\n    l_idx_77328 = init_idx_77303;\n    r_idx_77329 = init_idx_77303;\n    span_77330 = (int64_t) 1;\n    while (loop_while_77327) {\n        int64_t max_arg_77331 = sub64(l_idx_77328, (int64_t) 1);\n        int64_t max_res_77332 = smax64((int64_t) 0, max_arg_77331);\n        int64_t min_arg_77333 = add64((int64_t) 1, r_idx_77329);\n        int64_t min_res_77334 = smin64(min_arg_77292, min_arg_77333);\n        bool x_77335 = sle64((int64_t) 0, max_res_77332);\n        bool y_77336 = slt64(max_res_77332, n_70233);\n        bool bounds_check_77337 = x_77335 && y_77336;\n        bool index_certs_77338;\n        \n        if (!bounds_check_77337) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 46) == -1) {\n                    global_failure_args[0] = (int64_t) max_res_77332;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t x_77339 = ((__global int64_t *) mem_82088)[gtid_76871 *\n                                                           n_70233 +\n                                                           max_res_7",
                   "7332];\n        int64_t abs_arg_77340 = sub64(x_77339, defunc_0_g_res_77301);\n        int64_t abs_res_77341 = abs64(abs_arg_77340);\n        bool x_77342 = sle64((int64_t) 0, min_res_77334);\n        bool y_77343 = slt64(min_res_77334, n_70233);\n        bool bounds_check_77344 = x_77342 && y_77343;\n        bool index_certs_77345;\n        \n        if (!bounds_check_77344) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 47) == -1) {\n                    global_failure_args[0] = (int64_t) min_res_77334;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t x_77346 = ((__global int64_t *) mem_82088)[gtid_76871 *\n                                                           n_70233 +\n                                                           min_res_77334];\n        int64_t abs_arg_77347 = sub64(x_77346, defunc_0_g_res_77301);\n        int64_t abs_res_77348 = abs64(abs_arg_77347);\n        bool cond_77349 = max_res_77332 == l_idx_77328;\n        int64_t loopres_77350;\n        int64_t loopres_77351;\n        int64_t loopres_77352;\n        \n        if (cond_77349) {\n            loopres_77350 = l_idx_77328;\n            loopres_77351 = r_idx_77329;\n            loopres_77352 = min_res_70253;\n        } else {\n            bool cond_77353 = slt64(abs_res_77341, abs_res_77348);\n            bool cond_f_res_77354 = min_res_77334 == r_idx_77329;\n            bool x_77355 = !cond_77353;\n            bool y_77356 = cond_f_res_77354 && x_77355;\n            bool cond_77357 = cond_77353 || y_77356;\n            int64_t loopres_f_res_77358;\n            \n            if (cond_77357) {\n                loopres_f_res_77358 = max_res_77332;\n            } else {\n                loopres_f_res_77358 = l_idx_77328;\n            }\n            \n            int64_t loopres_f_res_77359;\n            \n            if (cond_",
                   "77357) {\n                loopres_f_res_77359 = r_idx_77329;\n            } else {\n                loopres_f_res_77359 = min_res_77334;\n            }\n            \n            int64_t loopres_f_res_77360;\n            \n            if (cond_77357) {\n                int64_t loopres_f_res_t_res_77361 = add64((int64_t) 1,\n                                                          span_77330);\n                \n                loopres_f_res_77360 = loopres_f_res_t_res_77361;\n            } else {\n                int64_t loopres_f_res_f_res_77362 = add64((int64_t) 1,\n                                                          span_77330);\n                \n                loopres_f_res_77360 = loopres_f_res_f_res_77362;\n            }\n            loopres_77350 = loopres_f_res_77358;\n            loopres_77351 = loopres_f_res_77359;\n            loopres_77352 = loopres_f_res_77360;\n        }\n        \n        bool loop_cond_77363 = slt64(loopres_77352, min_res_70253);\n        bool loop_while_tmp_83770 = loop_cond_77363;\n        int64_t l_idx_tmp_83771 = loopres_77350;\n        int64_t r_idx_tmp_83772 = loopres_77351;\n        int64_t span_tmp_83773 = loopres_77352;\n        \n        loop_while_77327 = loop_while_tmp_83770;\n        l_idx_77328 = l_idx_tmp_83771;\n        r_idx_77329 = r_idx_tmp_83772;\n        span_77330 = span_tmp_83773;\n    }\n    idx_77323 = loop_while_77327;\n    idx_77324 = l_idx_77328;\n    idx_77325 = r_idx_77329;\n    idx_77326 = span_77330;\n    \n    int64_t min_res_77364 = smin64(min_arg_77293, idx_77324);\n    int64_t max_res_77365 = smax64((int64_t) 0, min_res_77364);\n    int64_t x_77366 = add64(min_res_77294, max_res_77365);\n    int64_t r_77367 = sub64(x_77366, (int64_t) 1);\n    bool x_77368 = sle64((int64_t) 0, r_77367);\n    bool y_77369 = slt64(r_77367, n_70233);\n    bool bounds_check_77370 = x_77368 && y_77369;\n    bool index_certs_77371;\n    \n    if (!bounds_check_77370) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 48) == -1) {\n        ",
                   "        global_failure_args[0] = (int64_t) r_77367;\n                global_failure_args[1] = (int64_t) n_70233;\n                ;\n            }\n            local_failure = true;\n            goto error_0;\n        }\n    }\n    \n    int64_t x_77372 = ((__global int64_t *) mem_82082)[gtid_76871 * n_70233 +\n                                                       r_77367];\n    int64_t abs_arg_77373 = sub64(x_77372, min_res_77300);\n    int64_t abs_res_77374 = abs64(abs_arg_77373);\n    bool x_77375 = sle64((int64_t) 0, max_res_77365);\n    bool y_77376 = slt64(max_res_77365, n_70233);\n    bool bounds_check_77377 = x_77375 && y_77376;\n    bool index_certs_77378;\n    \n    if (!bounds_check_77377) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 49) == -1) {\n                global_failure_args[0] = (int64_t) max_res_77365;\n                global_failure_args[1] = (int64_t) n_70233;\n                ;\n            }\n            local_failure = true;\n            goto error_0;\n        }\n    }\n    \n    int64_t x_77379 = ((__global int64_t *) mem_82082)[gtid_76871 * n_70233 +\n                                                       max_res_77365];\n    int64_t abs_arg_77380 = sub64(x_77379, min_res_77300);\n    int64_t abs_res_77381 = abs64(abs_arg_77380);\n    int64_t max_res_77382 = smax64(abs_res_77374, abs_res_77381);\n    float defunc_0_f_res_77383 = sitofp_i64_f32(max_res_77382);\n    float defunc_1_f_res_77384 = max_res_77295 + defunc_0_f_res_77383;\n    float defunc_2_reduce_res_77385;\n    int64_t gtid_76876 = sext_i32_i64(sext_i64_i32(ltid_pre_83760));\n    int32_t phys_tid_76877 = local_tid_83756;\n    __local unsigned char *red_arr_mem_83774;\n    \n    red_arr_mem_83774 = (__local unsigned char *) red_arr_mem_83774_backing_1;\n    \n    float x_77391 = ((__global float *) mem_82106)[gtid_76871 * q_70235 +\n                                                   gtid_76876];\n    bool cond_77392 = sle64(last_res_77285, gtid_76876);\n    int64_t defunc_0_f_res_77393;\n    \n ",
                   "   if (cond_77392) {\n        defunc_0_f_res_77393 = (int64_t) 0;\n    } else {\n        int64_t i_77394 = add64(gtid_76876, max_res_77365);\n        int64_t defunc_0_add_arg_77395 = ((__global\n                                           int64_t *) mem_82082)[gtid_76871 *\n                                                                 n_70233 +\n                                                                 i_77394];\n        int64_t defunc_1_add_res_77396 = add64((int64_t) 1,\n                                               defunc_0_add_arg_77395);\n        \n        defunc_0_f_res_77393 = defunc_1_add_res_77396;\n    }\n    \n    int64_t binop_p_77397 = sub64(defunc_0_f_res_77393, min_res_77300);\n    float defunc_0_f_res_77398 = sitofp_i64_f32(binop_p_77397);\n    float abs_res_77399 = (float) fabs(defunc_0_f_res_77398);\n    float tmp1_77400 = abs_res_77399 / defunc_1_f_res_77384;\n    float x_77401 = tmp1_77400 * tmp1_77400;\n    float y_77402 = tmp1_77400 * x_77401;\n    float tmp2_77403 = 1.0F - y_77402;\n    float x_77404 = tmp2_77403 * tmp2_77403;\n    float tmp3_77405 = tmp2_77403 * x_77404;\n    float tmp4_77406 = x_77391 * tmp3_77405;\n    \n    ((__local float *) red_arr_mem_83774)[gtid_76876] = tmp4_77406;\n    ((__local float *) color_82435)[gtid_76876] = tmp4_77406;\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_83776;\n    int32_t skip_waves_83777 = 1;\n    float x_77387;\n    float x_77388;\n    \n    offset_83776 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_83756, sext_i64_i32(q_70235))) {\n            x_77387 = ((__local\n                        float *) red_arr_mem_83774)[sext_i32_i64(local_tid_83756 +\n                                                    offset_83776)];\n        }\n    }\n    offset_83776 = 1;\n    while (slt32(offset_83776, wave_sizze_83758)) {\n        if (slt32(local_tid_83756 + offset_83776, sext_i64_i32(q_70235)) ",
                   "&&\n            ((local_tid_83756 - squot32(local_tid_83756, wave_sizze_83758) *\n              wave_sizze_83758) & (2 * offset_83776 - 1)) == 0) {\n            // read array element\n            {\n                x_77388 = ((volatile __local\n                            float *) red_arr_mem_83774)[sext_i32_i64(local_tid_83756 +\n                                                        offset_83776)];\n            }\n            // apply reduction operation\n            {\n                float defunc_1_op_res_77389 = x_77387 + x_77388;\n                \n                x_77387 = defunc_1_op_res_77389;\n            }\n            // write result of operation\n            {\n                ((volatile __local\n                  float *) red_arr_mem_83774)[sext_i32_i64(local_tid_83756)] =\n                    x_77387;\n            }\n        }\n        offset_83776 *= 2;\n    }\n    while (slt32(skip_waves_83777, squot32(sext_i64_i32(q_70235) +\n                                           wave_sizze_83758 - 1,\n                                           wave_sizze_83758))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_83776 = skip_waves_83777 * wave_sizze_83758;\n        if (slt32(local_tid_83756 + offset_83776, sext_i64_i32(q_70235)) &&\n            ((local_tid_83756 - squot32(local_tid_83756, wave_sizze_83758) *\n              wave_sizze_83758) == 0 && (squot32(local_tid_83756,\n                                                 wave_sizze_83758) & (2 *\n                                                                      skip_waves_83777 -\n                                                                      1)) ==\n             0)) {\n            // read array element\n            {\n                x_77388 = ((__local\n                            float *) red_arr_mem_83774)[sext_i32_i64(local_tid_83756 +\n                                                        offset_83776)];\n            }\n            // apply reduction operation\n            {\n                float defunc_1_op_res_77389 = x_",
                   "77387 + x_77388;\n                \n                x_77387 = defunc_1_op_res_77389;\n            }\n            // write result of operation\n            {\n                ((__local\n                  float *) red_arr_mem_83774)[sext_i32_i64(local_tid_83756)] =\n                    x_77387;\n            }\n        }\n        skip_waves_83777 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_2_reduce_res_77385 = ((__local\n                                  float *) red_arr_mem_83774)[(int64_t) 0];\n    \n    float a0_77407 = 1.0F / defunc_2_reduce_res_77385;\n    float defunc_2_reduce_res_77408;\n    int64_t gtid_76878 = sext_i32_i64(sext_i64_i32(ltid_pre_83760));\n    int32_t phys_tid_76879 = local_tid_83756;\n    __local unsigned char *red_arr_mem_83778;\n    \n    red_arr_mem_83778 = (__local unsigned char *) red_arr_mem_83778_backing_2;\n    \n    float x_77413 = ((__local float *) color_82435)[gtid_76878];\n    bool cond_77414 = sle64(last_res_77285, gtid_76878);\n    float defunc_0_f_res_77415;\n    \n    if (cond_77414) {\n        defunc_0_f_res_77415 = 0.0F;\n    } else {\n        int64_t i_77416 = add64(gtid_76878, max_res_77365);\n        float defunc_0_add_arg_77417 = ((__global\n                                         float *) mem_82078)[gtid_76871 *\n                                                             n_70233 + i_77416];\n        \n        defunc_0_f_res_77415 = defunc_0_add_arg_77417;\n    }\n    \n    float x_77418 = a0_77407 * x_77413;\n    float defunc_9_fit_fun_res_77419 = defunc_0_f_res_77415 * x_77418;\n    \n    ((__local float *) red_arr_mem_83778)[gtid_76878] =\n        defunc_9_fit_fun_res_77419;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_83780;\n    int32_t skip_waves_83781 = 1;\n    float x_77409;\n    float x_77410;\n    \n    offset_83780 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_83756, sext_i64_i32(q_70235))) {\n            x_77409 = ((__local\n                        float *) red_arr_mem_83778)[sext_i",
                   "32_i64(local_tid_83756 +\n                                                    offset_83780)];\n        }\n    }\n    offset_83780 = 1;\n    while (slt32(offset_83780, wave_sizze_83758)) {\n        if (slt32(local_tid_83756 + offset_83780, sext_i64_i32(q_70235)) &&\n            ((local_tid_83756 - squot32(local_tid_83756, wave_sizze_83758) *\n              wave_sizze_83758) & (2 * offset_83780 - 1)) == 0) {\n            // read array element\n            {\n                x_77410 = ((volatile __local\n                            float *) red_arr_mem_83778)[sext_i32_i64(local_tid_83756 +\n                                                        offset_83780)];\n            }\n            // apply reduction operation\n            {\n                float defunc_1_op_res_77411 = x_77409 + x_77410;\n                \n                x_77409 = defunc_1_op_res_77411;\n            }\n            // write result of operation\n            {\n                ((volatile __local\n                  float *) red_arr_mem_83778)[sext_i32_i64(local_tid_83756)] =\n                    x_77409;\n            }\n        }\n        offset_83780 *= 2;\n    }\n    while (slt32(skip_waves_83781, squot32(sext_i64_i32(q_70235) +\n                                           wave_sizze_83758 - 1,\n                                           wave_sizze_83758))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_83780 = skip_waves_83781 * wave_sizze_83758;\n        if (slt32(local_tid_83756 + offset_83780, sext_i64_i32(q_70235)) &&\n            ((local_tid_83756 - squot32(local_tid_83756, wave_sizze_83758) *\n              wave_sizze_83758) == 0 && (squot32(local_tid_83756,\n                                                 wave_sizze_83758) & (2 *\n                                                                      skip_waves_83781 -\n                                                                      1)) ==\n             0)) {\n            // read array element\n            {\n                x_77410 = ((__local\n                    ",
                   "        float *) red_arr_mem_83778)[sext_i32_i64(local_tid_83756 +\n                                                        offset_83780)];\n            }\n            // apply reduction operation\n            {\n                float defunc_1_op_res_77411 = x_77409 + x_77410;\n                \n                x_77409 = defunc_1_op_res_77411;\n            }\n            // write result of operation\n            {\n                ((__local\n                  float *) red_arr_mem_83778)[sext_i32_i64(local_tid_83756)] =\n                    x_77409;\n            }\n        }\n        skip_waves_83781 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_2_reduce_res_77408 = ((__local\n                                  float *) red_arr_mem_83778)[(int64_t) 0];\n    if (local_tid_83756 == 0) {\n        ((__global float *) mem_82116)[gtid_76871 * n_m_70241 + gtid_76872] =\n            defunc_2_reduce_res_77408;\n    }\n    \n  error_4:\n    return;\n}\n__kernel void mainzisegmap_intragroup_77451(__global int *global_failure,\n                                            int failure_is_an_option, __global\n                                            int64_t *global_failure_args,\n                                            __local volatile\n                                            int64_t *red_arr_mem_83906_backing_aligned_0,\n                                            __local volatile\n                                            int64_t *red_arr_mem_83904_backing_aligned_1,\n                                            __local volatile\n                                            int64_t *red_arr_mem_83900_backing_aligned_2,\n                                            __local volatile\n                                            int64_t *red_arr_mem_83898_backing_aligned_3,\n                                            __local volatile\n                                            int64_t *red_arr_mem_83896_backing_aligned_4,\n                                            __local volatile\n                 ",
                   "                           int64_t *color_82437_backing_aligned_5,\n                                            __local volatile\n                                            int64_t *color_82436_backing_aligned_6,\n                                            int64_t m_70232, int64_t n_70233,\n                                            int64_t q_70235, int64_t jump_70237,\n                                            int64_t n_m_70241, int64_t i_70247,\n                                            unsigned char x_70248,\n                                            int64_t min_res_70253,\n                                            unsigned char loop_cond_70258,\n                                            __global unsigned char *mem_82121,\n                                            __global unsigned char *mem_82125,\n                                            __global unsigned char *mem_82129,\n                                            __global unsigned char *mem_82135,\n                                            __global unsigned char *mem_82139,\n                                            __global unsigned char *mem_82142,\n                                            __global unsigned char *mem_82145,\n                                            __global unsigned char *mem_82148,\n                                            __global unsigned char *mem_82153,\n                                            __global unsigned char *mem_82166,\n                                            __global unsigned char *mem_82170)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_83906_backing_6 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83906_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_83904_backing_5 =\n                                   (__local volatile\n                                 ",
                   "   unsigned char *) red_arr_mem_83904_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_83900_backing_4 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83900_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_83898_backing_3 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83898_backing_aligned_3;\n    __local volatile unsigned char *restrict red_arr_mem_83896_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83896_backing_aligned_4;\n    __local volatile unsigned char *restrict color_82437_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) color_82437_backing_aligned_5;\n    __local volatile unsigned char *restrict color_82436_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) color_82436_backing_aligned_6;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_83877;\n    int32_t local_tid_83878;\n    int64_t group_sizze_83881;\n    int32_t wave_sizze_83880;\n    int32_t group_tid_83879;\n    \n    global_tid_83877 = get_global_id(0);\n    local_tid_83878 = get_local_id(0);\n    group_sizze_83881 = get_local_size(0);\n    wave_sizze_83880 = LOCKSTEP_WIDTH;\n    group_tid_83879 = get_group_id(0);\n    \n    int32_t phys_tid_77451 = group_tid_83879;\n    int64_t slice_83883 = q_70235;\n    int64_t ltid_pre_83882 = sext_i32_i64(local_tid_83878);\n    int64_t remnant_83884 = sext_i32_i64(local_tid_83878) - ltid_pre_83882;\n    int64_t slice_83885 = n_m_70241;\n    int64_t slice_838",
                   "86 = m_70232 * slice_83885;\n    int64_t gtid_77438 = squot64(sext_i32_i64(group_tid_83879), slice_83885);\n    int64_t remnant_83887 = sext_i32_i64(group_tid_83879) - gtid_77438 *\n            slice_83885;\n    int64_t gtid_77439 = remnant_83887;\n    int64_t remnant_83888 = remnant_83887 - gtid_77439;\n    __local unsigned char *color_82436;\n    \n    color_82436 = (__local unsigned char *) color_82436_backing_0;\n    \n    __local unsigned char *color_82437;\n    \n    color_82437 = (__local unsigned char *) color_82437_backing_1;\n    \n    int64_t last_res_77883 = ((__global int64_t *) mem_82121)[gtid_77438 *\n                                                              n_70233 +\n                                                              i_70247];\n    int64_t min_arg_77890 = ((__global int64_t *) mem_82139)[gtid_77438];\n    int64_t min_arg_77891 = ((__global int64_t *) mem_82142)[gtid_77438];\n    int64_t min_res_77892 = ((__global int64_t *) mem_82145)[gtid_77438];\n    float max_res_77893 = ((__global float *) mem_82148)[gtid_77438];\n    int64_t min_arg_77897 = mul64(jump_70237, gtid_77439);\n    int64_t min_res_77898 = smin64(i_70247, min_arg_77897);\n    int64_t defunc_0_g_res_77899 = add64((int64_t) 1, min_res_77898);\n    bool init_idx_77900;\n    int64_t init_idx_77901;\n    int64_t init_idx_77902;\n    bool loop_while_77903;\n    int64_t low_77904;\n    int64_t high_77905;\n    \n    loop_while_77903 = x_70248;\n    low_77904 = (int64_t) 0;\n    high_77905 = i_70247;\n    while (loop_while_77903) {\n        int64_t x_77906 = add64(low_77904, high_77905);\n        int64_t mid_77907 = sdiv64(x_77906, (int64_t) 2);\n        bool x_77908 = sle64((int64_t) 0, mid_77907);\n        bool y_77909 = slt64(mid_77907, n_70233);\n        bool bounds_check_77910 = x_77908 && y_77909;\n        bool index_certs_77911;\n        \n        if (!bounds_check_77910) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 50) == -1) {\n                    global_failure_args[0] = (i",
                   "nt64_t) mid_77907;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t mid_id_77912 = ((__global int64_t *) mem_82135)[gtid_77438 *\n                                                                n_70233 +\n                                                                mid_77907];\n        bool cond_77913 = slt64(mid_id_77912, (int64_t) 0);\n        int64_t mid_idx_77914;\n        \n        if (cond_77913) {\n            mid_idx_77914 = (int64_t) 9223372036854775807;\n        } else {\n            mid_idx_77914 = mid_id_77912;\n        }\n        \n        bool cond_77915 = sle64(defunc_0_g_res_77899, mid_idx_77914);\n        int64_t loopres_77916;\n        int64_t loopres_77917;\n        \n        if (cond_77915) {\n            int64_t loopres_t_res_77918 = sub64(mid_77907, (int64_t) 1);\n            \n            loopres_77916 = low_77904;\n            loopres_77917 = loopres_t_res_77918;\n        } else {\n            int64_t loopres_f_res_77919 = add64((int64_t) 1, mid_77907);\n            \n            loopres_77916 = loopres_f_res_77919;\n            loopres_77917 = high_77905;\n        }\n        \n        bool loop_cond_77920 = sle64(loopres_77916, loopres_77917);\n        bool loop_while_tmp_83889 = loop_cond_77920;\n        int64_t low_tmp_83890 = loopres_77916;\n        int64_t high_tmp_83891 = loopres_77917;\n        \n        loop_while_77903 = loop_while_tmp_83889;\n        low_77904 = low_tmp_83890;\n        high_77905 = high_tmp_83891;\n    }\n    init_idx_77900 = loop_while_77903;\n    init_idx_77901 = low_77904;\n    init_idx_77902 = high_77905;\n    \n    bool idx_77921;\n    int64_t idx_77922;\n    int64_t idx_77923;\n    int64_t idx_77924;\n    bool loop_while_77925;\n    int64_t l_idx_77926;\n    int64_t r_idx_77927;\n    int64_t span_77928;\n    \n    loop_while_77925 = loop_cond_70258;\n    l_idx_77926 = init_idx_77901;\n    ",
                   "r_idx_77927 = init_idx_77901;\n    span_77928 = (int64_t) 1;\n    while (loop_while_77925) {\n        int64_t max_arg_77929 = sub64(l_idx_77926, (int64_t) 1);\n        int64_t max_res_77930 = smax64((int64_t) 0, max_arg_77929);\n        int64_t min_arg_77931 = add64((int64_t) 1, r_idx_77927);\n        int64_t min_res_77932 = smin64(min_arg_77890, min_arg_77931);\n        bool x_77933 = sle64((int64_t) 0, max_res_77930);\n        bool y_77934 = slt64(max_res_77930, n_70233);\n        bool bounds_check_77935 = x_77933 && y_77934;\n        bool index_certs_77936;\n        \n        if (!bounds_check_77935) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 51) == -1) {\n                    global_failure_args[0] = (int64_t) max_res_77930;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t x_77937 = ((__global int64_t *) mem_82135)[gtid_77438 *\n                                                           n_70233 +\n                                                           max_res_77930];\n        int64_t abs_arg_77938 = sub64(x_77937, defunc_0_g_res_77899);\n        int64_t abs_res_77939 = abs64(abs_arg_77938);\n        bool x_77940 = sle64((int64_t) 0, min_res_77932);\n        bool y_77941 = slt64(min_res_77932, n_70233);\n        bool bounds_check_77942 = x_77940 && y_77941;\n        bool index_certs_77943;\n        \n        if (!bounds_check_77942) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 52) == -1) {\n                    global_failure_args[0] = (int64_t) min_res_77932;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t x_77944 = ((__global int64_t *) mem_82135)[gtid_77438 *\n         ",
                   "                                                  n_70233 +\n                                                           min_res_77932];\n        int64_t abs_arg_77945 = sub64(x_77944, defunc_0_g_res_77899);\n        int64_t abs_res_77946 = abs64(abs_arg_77945);\n        bool cond_77947 = max_res_77930 == l_idx_77926;\n        int64_t loopres_77948;\n        int64_t loopres_77949;\n        int64_t loopres_77950;\n        \n        if (cond_77947) {\n            loopres_77948 = l_idx_77926;\n            loopres_77949 = r_idx_77927;\n            loopres_77950 = min_res_70253;\n        } else {\n            bool cond_77951 = slt64(abs_res_77939, abs_res_77946);\n            bool cond_f_res_77952 = min_res_77932 == r_idx_77927;\n            bool x_77953 = !cond_77951;\n            bool y_77954 = cond_f_res_77952 && x_77953;\n            bool cond_77955 = cond_77951 || y_77954;\n            int64_t loopres_f_res_77956;\n            \n            if (cond_77955) {\n                loopres_f_res_77956 = max_res_77930;\n            } else {\n                loopres_f_res_77956 = l_idx_77926;\n            }\n            \n            int64_t loopres_f_res_77957;\n            \n            if (cond_77955) {\n                loopres_f_res_77957 = r_idx_77927;\n            } else {\n                loopres_f_res_77957 = min_res_77932;\n            }\n            \n            int64_t loopres_f_res_77958;\n            \n            if (cond_77955) {\n                int64_t loopres_f_res_t_res_77959 = add64((int64_t) 1,\n                                                          span_77928);\n                \n                loopres_f_res_77958 = loopres_f_res_t_res_77959;\n            } else {\n                int64_t loopres_f_res_f_res_77960 = add64((int64_t) 1,\n                                                          span_77928);\n                \n                loopres_f_res_77958 = loopres_f_res_f_res_77960;\n            }\n            loopres_77948 = loopres_f_res_77956;\n            loopres_77949 = loopres_f_res_779",
                   "57;\n            loopres_77950 = loopres_f_res_77958;\n        }\n        \n        bool loop_cond_77961 = slt64(loopres_77950, min_res_70253);\n        bool loop_while_tmp_83892 = loop_cond_77961;\n        int64_t l_idx_tmp_83893 = loopres_77948;\n        int64_t r_idx_tmp_83894 = loopres_77949;\n        int64_t span_tmp_83895 = loopres_77950;\n        \n        loop_while_77925 = loop_while_tmp_83892;\n        l_idx_77926 = l_idx_tmp_83893;\n        r_idx_77927 = r_idx_tmp_83894;\n        span_77928 = span_tmp_83895;\n    }\n    idx_77921 = loop_while_77925;\n    idx_77922 = l_idx_77926;\n    idx_77923 = r_idx_77927;\n    idx_77924 = span_77928;\n    \n    int64_t min_res_77962 = smin64(min_arg_77891, idx_77922);\n    int64_t max_res_77963 = smax64((int64_t) 0, min_res_77962);\n    int64_t x_77964 = add64(min_res_77892, max_res_77963);\n    int64_t r_77965 = sub64(x_77964, (int64_t) 1);\n    bool x_77966 = sle64((int64_t) 0, r_77965);\n    bool y_77967 = slt64(r_77965, n_70233);\n    bool bounds_check_77968 = x_77966 && y_77967;\n    bool index_certs_77969;\n    \n    if (!bounds_check_77968) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 53) == -1) {\n                global_failure_args[0] = (int64_t) r_77965;\n                global_failure_args[1] = (int64_t) n_70233;\n                ;\n            }\n            local_failure = true;\n            goto error_0;\n        }\n    }\n    \n    int64_t x_77970 = ((__global int64_t *) mem_82129)[gtid_77438 * n_70233 +\n                                                       r_77965];\n    int64_t abs_arg_77971 = sub64(x_77970, min_res_77898);\n    int64_t abs_res_77972 = abs64(abs_arg_77971);\n    bool x_77973 = sle64((int64_t) 0, max_res_77963);\n    bool y_77974 = slt64(max_res_77963, n_70233);\n    bool bounds_check_77975 = x_77973 && y_77974;\n    bool index_certs_77976;\n    \n    if (!bounds_check_77975) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 54) == -1) {\n                global_failure_args[0] = (",
                   "int64_t) max_res_77963;\n                global_failure_args[1] = (int64_t) n_70233;\n                ;\n            }\n            local_failure = true;\n            goto error_0;\n        }\n    }\n    \n    int64_t x_77977 = ((__global int64_t *) mem_82129)[gtid_77438 * n_70233 +\n                                                       max_res_77963];\n    int64_t abs_arg_77978 = sub64(x_77977, min_res_77898);\n    int64_t abs_res_77979 = abs64(abs_arg_77978);\n    int64_t max_res_77980 = smax64(abs_res_77972, abs_res_77979);\n    float defunc_0_f_res_77981 = sitofp_i64_f32(max_res_77980);\n    float defunc_1_f_res_77982 = max_res_77893 + defunc_0_f_res_77981;\n    float defunc_2_reduce_res_77983;\n    float defunc_2_reduce_res_77984;\n    float defunc_2_reduce_res_77985;\n    int64_t gtid_77443 = sext_i32_i64(sext_i64_i32(ltid_pre_83882));\n    int32_t phys_tid_77444 = local_tid_83878;\n    __local unsigned char *red_arr_mem_83896;\n    \n    red_arr_mem_83896 = (__local unsigned char *) red_arr_mem_83896_backing_2;\n    \n    __local unsigned char *red_arr_mem_83898;\n    \n    red_arr_mem_83898 = (__local unsigned char *) red_arr_mem_83898_backing_3;\n    \n    __local unsigned char *red_arr_mem_83900;\n    \n    red_arr_mem_83900 = (__local unsigned char *) red_arr_mem_83900_backing_4;\n    \n    float x_77998 = ((__global float *) mem_82153)[gtid_77438 * q_70235 +\n                                                   gtid_77443];\n    bool cond_77999 = sle64(last_res_77883, gtid_77443);\n    int64_t defunc_0_f_res_78000;\n    \n    if (cond_77999) {\n        defunc_0_f_res_78000 = (int64_t) 0;\n    } else {\n        int64_t i_78001 = add64(gtid_77443, max_res_77963);\n        int64_t defunc_0_add_arg_78002 = ((__global\n                                           int64_t *) mem_82129)[gtid_77438 *\n                                                                 n_70233 +\n                                                                 i_78001];\n        int64_t defunc_1_add_res_78003 = add64((int64_t) 1,\n",
                   "                                               defunc_0_add_arg_78002);\n        \n        defunc_0_f_res_78000 = defunc_1_add_res_78003;\n    }\n    \n    int64_t binop_p_78004 = sub64(defunc_0_f_res_78000, min_res_77898);\n    float defunc_0_f_res_78005 = sitofp_i64_f32(binop_p_78004);\n    float abs_res_78006 = (float) fabs(defunc_0_f_res_78005);\n    float tmp1_78007 = abs_res_78006 / defunc_1_f_res_77982;\n    float x_78008 = tmp1_78007 * tmp1_78007;\n    float y_78009 = tmp1_78007 * x_78008;\n    float tmp2_78010 = 1.0F - y_78009;\n    float x_78011 = tmp2_78010 * tmp2_78010;\n    float tmp3_78012 = tmp2_78010 * x_78011;\n    float tmp4_78013 = x_77998 * tmp3_78012;\n    float defunc_1_f_res_78014 = defunc_0_f_res_78005 * tmp4_78013;\n    float defunc_1_f_res_78015 = defunc_0_f_res_78005 * defunc_1_f_res_78014;\n    \n    ((__local float *) red_arr_mem_83896)[gtid_77443] = tmp4_78013;\n    ((__local float *) red_arr_mem_83898)[gtid_77443] = defunc_1_f_res_78014;\n    ((__local float *) red_arr_mem_83900)[gtid_77443] = defunc_1_f_res_78015;\n    ((__local float *) color_82437)[gtid_77443] = defunc_1_f_res_78014;\n    ((__local float *) color_82436)[gtid_77443] = tmp4_78013;\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_83902;\n    int32_t skip_waves_83903 = 1;\n    float x_77988;\n    float x_77989;\n    float x_77990;\n    float x_77991;\n    float x_77992;\n    float x_77993;\n    \n    offset_83902 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_83878, sext_i64_i32(q_70235))) {\n            x_77988 = ((__local\n                        float *) red_arr_mem_83896)[sext_i32_i64(local_tid_83878 +\n                                                    offset_83902)];\n            x_77989 = ((__local\n                        float *) red_arr_mem_83898)[sext_i32_i64(local_tid_83878 +\n                                                    offset_83902)];\n        ",
                   "    x_77990 = ((__local\n                        float *) red_arr_mem_83900)[sext_i32_i64(local_tid_83878 +\n                                                    offset_83902)];\n        }\n    }\n    offset_83902 = 1;\n    while (slt32(offset_83902, wave_sizze_83880)) {\n        if (slt32(local_tid_83878 + offset_83902, sext_i64_i32(q_70235)) &&\n            ((local_tid_83878 - squot32(local_tid_83878, wave_sizze_83880) *\n              wave_sizze_83880) & (2 * offset_83902 - 1)) == 0) {\n            // read array element\n            {\n                x_77991 = ((volatile __local\n                            float *) red_arr_mem_83896)[sext_i32_i64(local_tid_83878 +\n                                                        offset_83902)];\n                x_77992 = ((volatile __local\n                            float *) red_arr_mem_83898)[sext_i32_i64(local_tid_83878 +\n                                                        offset_83902)];\n                x_77993 = ((volatile __local\n                            float *) red_arr_mem_83900)[sext_i32_i64(local_tid_83878 +\n                                                        offset_83902)];\n            }\n            // apply reduction operation\n            {\n                float defunc_1_op_res_77994 = x_77988 + x_77991;\n                float defunc_1_op_res_77995 = x_77989 + x_77992;\n                float defunc_1_op_res_77996 = x_77990 + x_77993;\n                \n                x_77988 = defunc_1_op_res_77994;\n                x_77989 = defunc_1_op_res_77995;\n                x_77990 = defunc_1_op_res_77996;\n            }\n            // write result of operation\n            {\n                ((volatile __local\n                  float *) red_arr_mem_83896)[sext_i32_i64(local_tid_83878)] =\n                    x_77988;\n                ((volatile __local\n                  float *) red_arr_mem_83898)[sext_i32_i64(local_tid_83878)] =\n                    x_77989;\n                ((volatile __local\n                  float *) red_arr_mem",
                   "_83900)[sext_i32_i64(local_tid_83878)] =\n                    x_77990;\n            }\n        }\n        offset_83902 *= 2;\n    }\n    while (slt32(skip_waves_83903, squot32(sext_i64_i32(q_70235) +\n                                           wave_sizze_83880 - 1,\n                                           wave_sizze_83880))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_83902 = skip_waves_83903 * wave_sizze_83880;\n        if (slt32(local_tid_83878 + offset_83902, sext_i64_i32(q_70235)) &&\n            ((local_tid_83878 - squot32(local_tid_83878, wave_sizze_83880) *\n              wave_sizze_83880) == 0 && (squot32(local_tid_83878,\n                                                 wave_sizze_83880) & (2 *\n                                                                      skip_waves_83903 -\n                                                                      1)) ==\n             0)) {\n            // read array element\n            {\n                x_77991 = ((__local\n                            float *) red_arr_mem_83896)[sext_i32_i64(local_tid_83878 +\n                                                        offset_83902)];\n                x_77992 = ((__local\n                            float *) red_arr_mem_83898)[sext_i32_i64(local_tid_83878 +\n                                                        offset_83902)];\n                x_77993 = ((__local\n                            float *) red_arr_mem_83900)[sext_i32_i64(local_tid_83878 +\n                                                        offset_83902)];\n            }\n            // apply reduction operation\n            {\n                float defunc_1_op_res_77994 = x_77988 + x_77991;\n                float defunc_1_op_res_77995 = x_77989 + x_77992;\n                float defunc_1_op_res_77996 = x_77990 + x_77993;\n                \n                x_77988 = defunc_1_op_res_77994;\n                x_77989 = defunc_1_op_res_77995;\n                x_77990 = defunc_1_op_res_77996;\n            }\n            // write resu",
                   "lt of operation\n            {\n                ((__local\n                  float *) red_arr_mem_83896)[sext_i32_i64(local_tid_83878)] =\n                    x_77988;\n                ((__local\n                  float *) red_arr_mem_83898)[sext_i32_i64(local_tid_83878)] =\n                    x_77989;\n                ((__local\n                  float *) red_arr_mem_83900)[sext_i32_i64(local_tid_83878)] =\n                    x_77990;\n            }\n        }\n        skip_waves_83903 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_2_reduce_res_77983 = ((__local\n                                  float *) red_arr_mem_83896)[(int64_t) 0];\n    defunc_2_reduce_res_77984 = ((__local\n                                  float *) red_arr_mem_83898)[(int64_t) 0];\n    defunc_2_reduce_res_77985 = ((__local\n                                  float *) red_arr_mem_83900)[(int64_t) 0];\n    \n    float x_78016 = defunc_2_reduce_res_77983 * defunc_2_reduce_res_77985;\n    float y_78017 = defunc_2_reduce_res_77984 * defunc_2_reduce_res_77984;\n    float y_78018 = x_78016 - y_78017;\n    float det1_78019 = 1.0F / y_78018;\n    float a11_78020 = defunc_2_reduce_res_77985 * det1_78019;\n    float x_78021 = 0.0F - defunc_2_reduce_res_77984;\n    float b11_78022 = det1_78019 * x_78021;\n    float c11_78023 = defunc_2_reduce_res_77983 * det1_78019;\n    float defunc_2_reduce_res_78024;\n    float defunc_2_reduce_res_78025;\n    int64_t gtid_77445 = sext_i32_i64(sext_i64_i32(ltid_pre_83882));\n    int32_t phys_tid_77446 = local_tid_83878;\n    __local unsigned char *red_arr_mem_83904;\n    \n    red_arr_mem_83904 = (__local unsigned char *) red_arr_mem_83904_backing_5;\n    \n    __local unsigned char *red_arr_mem_83906;\n    \n    red_arr_mem_83906 = (__local unsigned char *) red_arr_mem_83906_backing_6;\n    \n    float x_78033 = ((__local float *) color_82436)[gtid_77445];\n    float x_78034 = ((__local float *) color_82437)[gtid_77445];\n    bool cond_78035 = sle64(last_res_77883, gtid_77445);\n    float defunc_0",
                   "_f_res_78036;\n    \n    if (cond_78035) {\n        defunc_0_f_res_78036 = 0.0F;\n    } else {\n        int64_t i_78037 = add64(gtid_77445, max_res_77963);\n        float defunc_0_add_arg_78038 = ((__global\n                                         float *) mem_82125)[gtid_77438 *\n                                                             n_70233 + i_78037];\n        \n        defunc_0_f_res_78036 = defunc_0_add_arg_78038;\n    }\n    \n    float x_78039 = a11_78020 * x_78033;\n    float y_78040 = b11_78022 * x_78034;\n    float x_78041 = x_78039 + y_78040;\n    float defunc_9_fit_fun_res_78042 = defunc_0_f_res_78036 * x_78041;\n    float x_78043 = b11_78022 * x_78033;\n    float y_78044 = c11_78023 * x_78034;\n    float x_78045 = x_78043 + y_78044;\n    float defunc_9_slope_fun_res_78046 = defunc_0_f_res_78036 * x_78045;\n    \n    ((__local float *) red_arr_mem_83904)[gtid_77445] =\n        defunc_9_fit_fun_res_78042;\n    ((__local float *) red_arr_mem_83906)[gtid_77445] =\n        defunc_9_slope_fun_res_78046;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_83908;\n    int32_t skip_waves_83909 = 1;\n    float x_78026;\n    float x_78027;\n    float x_78028;\n    float x_78029;\n    \n    offset_83908 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_83878, sext_i64_i32(q_70235))) {\n            x_78026 = ((__local\n                        float *) red_arr_mem_83904)[sext_i32_i64(local_tid_83878 +\n                                                    offset_83908)];\n            x_78027 = ((__local\n                        float *) red_arr_mem_83906)[sext_i32_i64(local_tid_83878 +\n                                                    offset_83908)];\n        }\n    }\n    offset_83908 = 1;\n    while (slt32(offset_83908, wave_sizze_83880)) {\n        if (slt32(local_tid_83878 + offset_83908, sext_i64_i32(q_70235)) &&\n            ((local_tid_83878 - squot32(local_tid_83878, wave_sizze_83880) *\n              wave_sizze_83880) & (2 * offset_83908 - 1)) ==",
                   " 0) {\n            // read array element\n            {\n                x_78028 = ((volatile __local\n                            float *) red_arr_mem_83904)[sext_i32_i64(local_tid_83878 +\n                                                        offset_83908)];\n                x_78029 = ((volatile __local\n                            float *) red_arr_mem_83906)[sext_i32_i64(local_tid_83878 +\n                                                        offset_83908)];\n            }\n            // apply reduction operation\n            {\n                float defunc_1_op_res_78030 = x_78026 + x_78028;\n                float defunc_1_op_res_78031 = x_78027 + x_78029;\n                \n                x_78026 = defunc_1_op_res_78030;\n                x_78027 = defunc_1_op_res_78031;\n            }\n            // write result of operation\n            {\n                ((volatile __local\n                  float *) red_arr_mem_83904)[sext_i32_i64(local_tid_83878)] =\n                    x_78026;\n                ((volatile __local\n                  float *) red_arr_mem_83906)[sext_i32_i64(local_tid_83878)] =\n                    x_78027;\n            }\n        }\n        offset_83908 *= 2;\n    }\n    while (slt32(skip_waves_83909, squot32(sext_i64_i32(q_70235) +\n                                           wave_sizze_83880 - 1,\n                                           wave_sizze_83880))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_83908 = skip_waves_83909 * wave_sizze_83880;\n        if (slt32(local_tid_83878 + offset_83908, sext_i64_i32(q_70235)) &&\n            ((local_tid_83878 - squot32(local_tid_83878, wave_sizze_83880) *\n              wave_sizze_83880) == 0 && (squot32(local_tid_83878,\n                                                 wave_sizze_83880) & (2 *\n                                                                      skip_waves_83909 -\n                                                                      1)) ==\n             0)) {\n            // read array element\n     ",
                   "       {\n                x_78028 = ((__local\n                            float *) red_arr_mem_83904)[sext_i32_i64(local_tid_83878 +\n                                                        offset_83908)];\n                x_78029 = ((__local\n                            float *) red_arr_mem_83906)[sext_i32_i64(local_tid_83878 +\n                                                        offset_83908)];\n            }\n            // apply reduction operation\n            {\n                float defunc_1_op_res_78030 = x_78026 + x_78028;\n                float defunc_1_op_res_78031 = x_78027 + x_78029;\n                \n                x_78026 = defunc_1_op_res_78030;\n                x_78027 = defunc_1_op_res_78031;\n            }\n            // write result of operation\n            {\n                ((__local\n                  float *) red_arr_mem_83904)[sext_i32_i64(local_tid_83878)] =\n                    x_78026;\n                ((__local\n                  float *) red_arr_mem_83906)[sext_i32_i64(local_tid_83878)] =\n                    x_78027;\n            }\n        }\n        skip_waves_83909 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_2_reduce_res_78024 = ((__local\n                                  float *) red_arr_mem_83904)[(int64_t) 0];\n    defunc_2_reduce_res_78025 = ((__local\n                                  float *) red_arr_mem_83906)[(int64_t) 0];\n    if (local_tid_83878 == 0) {\n        ((__global float *) mem_82166)[gtid_77438 * n_m_70241 + gtid_77439] =\n            defunc_2_reduce_res_78024;\n    }\n    if (local_tid_83878 == 0) {\n        ((__global float *) mem_82170)[gtid_77438 * n_m_70241 + gtid_77439] =\n            defunc_2_reduce_res_78025;\n    }\n    \n  error_4:\n    return;\n}\n__kernel void mainzisegmap_intragroup_78098(__global int *global_failure,\n                                            int failure_is_an_option, __global\n                                            int64_t *global_failure_args,\n                                            __local ",
                   "volatile\n                                            int64_t *red_arr_mem_84038_backing_aligned_0,\n                                            __local volatile\n                                            int64_t *red_arr_mem_84036_backing_aligned_1,\n                                            __local volatile\n                                            int64_t *red_arr_mem_84032_backing_aligned_2,\n                                            __local volatile\n                                            int64_t *red_arr_mem_84030_backing_aligned_3,\n                                            __local volatile\n                                            int64_t *red_arr_mem_84028_backing_aligned_4,\n                                            __local volatile\n                                            int64_t *red_arr_mem_84026_backing_aligned_5,\n                                            __local volatile\n                                            int64_t *red_arr_mem_84024_backing_aligned_6,\n                                            __local volatile\n                                            int64_t *color_82441_backing_aligned_7,\n                                            __local volatile\n                                            int64_t *color_82440_backing_aligned_8,\n                                            __local volatile\n                                            int64_t *color_82439_backing_aligned_9,\n                                            __local volatile\n                                            int64_t *color_82438_backing_aligned_10,\n                                            int64_t m_70232, int64_t n_70233,\n                                            int64_t q_70235, int64_t jump_70237,\n                                            int64_t n_m_70241, int64_t i_70247,\n                                            unsigned char x_70248,\n                                            int64_t min_res_70253,\n                                         ",
                   "   unsigned char loop_cond_70258,\n                                            __global unsigned char *mem_82175,\n                                            __global unsigned char *mem_82179,\n                                            __global unsigned char *mem_82183,\n                                            __global unsigned char *mem_82189,\n                                            __global unsigned char *mem_82193,\n                                            __global unsigned char *mem_82196,\n                                            __global unsigned char *mem_82199,\n                                            __global unsigned char *mem_82202,\n                                            __global unsigned char *mem_82207,\n                                            __global unsigned char *mem_82227,\n                                            __global unsigned char *mem_82231)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_84038_backing_10 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_84038_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_84036_backing_9 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_84036_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_84032_backing_8 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_84032_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_84030_backing_7 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_84030_backing_aligned_3;\n    __local volatile unsigned char *restrict red_arr_mem_84028_backing_6 =\n                                   (__local volatile\n    ",
                   "                                unsigned char *) red_arr_mem_84028_backing_aligned_4;\n    __local volatile unsigned char *restrict red_arr_mem_84026_backing_5 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_84026_backing_aligned_5;\n    __local volatile unsigned char *restrict red_arr_mem_84024_backing_4 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_84024_backing_aligned_6;\n    __local volatile unsigned char *restrict color_82441_backing_3 =\n                                   (__local volatile\n                                    unsigned char *) color_82441_backing_aligned_7;\n    __local volatile unsigned char *restrict color_82440_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) color_82440_backing_aligned_8;\n    __local volatile unsigned char *restrict color_82439_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) color_82439_backing_aligned_9;\n    __local volatile unsigned char *restrict color_82438_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) color_82438_backing_aligned_10;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_84005;\n    int32_t local_tid_84006;\n    int64_t group_sizze_84009;\n    int32_t wave_sizze_84008;\n    int32_t group_tid_84007;\n    \n    global_tid_84005 = get_global_id(0);\n    local_tid_84006 = get_local_id(0);\n    group_sizze_84009 = get_local_size(0);\n    wave_sizze_84008 = LOCKSTEP_WIDTH;\n    group_tid_84007 = get_group_id(0);\n    \n    int32_t phys_tid_78098 = group_tid_84007;\n    i",
                   "nt64_t slice_84011 = q_70235;\n    int64_t ltid_pre_84010 = sext_i32_i64(local_tid_84006);\n    int64_t remnant_84012 = sext_i32_i64(local_tid_84006) - ltid_pre_84010;\n    int64_t slice_84013 = n_m_70241;\n    int64_t slice_84014 = m_70232 * slice_84013;\n    int64_t gtid_78066 = squot64(sext_i32_i64(group_tid_84007), slice_84013);\n    int64_t remnant_84015 = sext_i32_i64(group_tid_84007) - gtid_78066 *\n            slice_84013;\n    int64_t gtid_78067 = remnant_84015;\n    int64_t remnant_84016 = remnant_84015 - gtid_78067;\n    __local unsigned char *color_82438;\n    \n    color_82438 = (__local unsigned char *) color_82438_backing_0;\n    \n    __local unsigned char *color_82439;\n    \n    color_82439 = (__local unsigned char *) color_82439_backing_1;\n    \n    __local unsigned char *color_82440;\n    \n    color_82440 = (__local unsigned char *) color_82440_backing_2;\n    \n    __local unsigned char *color_82441;\n    \n    color_82441 = (__local unsigned char *) color_82441_backing_3;\n    \n    int64_t last_res_78566 = ((__global int64_t *) mem_82175)[gtid_78066 *\n                                                              n_70233 +\n                                                              i_70247];\n    int64_t min_arg_78573 = ((__global int64_t *) mem_82193)[gtid_78066];\n    int64_t min_arg_78574 = ((__global int64_t *) mem_82196)[gtid_78066];\n    int64_t min_res_78575 = ((__global int64_t *) mem_82199)[gtid_78066];\n    float max_res_78576 = ((__global float *) mem_82202)[gtid_78066];\n    int64_t min_arg_78580 = mul64(jump_70237, gtid_78067);\n    int64_t min_res_78581 = smin64(i_70247, min_arg_78580);\n    int64_t defunc_0_g_res_78582 = add64((int64_t) 1, min_res_78581);\n    bool init_idx_78583;\n    int64_t init_idx_78584;\n    int64_t init_idx_78585;\n    bool loop_while_78586;\n    int64_t low_78587;\n    int64_t high_78588;\n    \n    loop_while_78586 = x_70248;\n    low_78587 = (int64_t) 0;\n    high_78588 = i_70247;\n    while (loop_while_78586) {\n        int64_t x_78589 = add6",
                   "4(low_78587, high_78588);\n        int64_t mid_78590 = sdiv64(x_78589, (int64_t) 2);\n        bool x_78591 = sle64((int64_t) 0, mid_78590);\n        bool y_78592 = slt64(mid_78590, n_70233);\n        bool bounds_check_78593 = x_78591 && y_78592;\n        bool index_certs_78594;\n        \n        if (!bounds_check_78593) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 55) == -1) {\n                    global_failure_args[0] = (int64_t) mid_78590;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t mid_id_78595 = ((__global int64_t *) mem_82189)[gtid_78066 *\n                                                                n_70233 +\n                                                                mid_78590];\n        bool cond_78596 = slt64(mid_id_78595, (int64_t) 0);\n        int64_t mid_idx_78597;\n        \n        if (cond_78596) {\n            mid_idx_78597 = (int64_t) 9223372036854775807;\n        } else {\n            mid_idx_78597 = mid_id_78595;\n        }\n        \n        bool cond_78598 = sle64(defunc_0_g_res_78582, mid_idx_78597);\n        int64_t loopres_78599;\n        int64_t loopres_78600;\n        \n        if (cond_78598) {\n            int64_t loopres_t_res_78601 = sub64(mid_78590, (int64_t) 1);\n            \n            loopres_78599 = low_78587;\n            loopres_78600 = loopres_t_res_78601;\n        } else {\n            int64_t loopres_f_res_78602 = add64((int64_t) 1, mid_78590);\n            \n            loopres_78599 = loopres_f_res_78602;\n            loopres_78600 = high_78588;\n        }\n        \n        bool loop_cond_78603 = sle64(loopres_78599, loopres_78600);\n        bool loop_while_tmp_84017 = loop_cond_78603;\n        int64_t low_tmp_84018 = loopres_78599;\n        int64_t high_tmp_84019 = loopres_78600;\n        \n        loop_while_78586 = loop_while_tmp_84017;\n  ",
                   "      low_78587 = low_tmp_84018;\n        high_78588 = high_tmp_84019;\n    }\n    init_idx_78583 = loop_while_78586;\n    init_idx_78584 = low_78587;\n    init_idx_78585 = high_78588;\n    \n    bool idx_78604;\n    int64_t idx_78605;\n    int64_t idx_78606;\n    int64_t idx_78607;\n    bool loop_while_78608;\n    int64_t l_idx_78609;\n    int64_t r_idx_78610;\n    int64_t span_78611;\n    \n    loop_while_78608 = loop_cond_70258;\n    l_idx_78609 = init_idx_78584;\n    r_idx_78610 = init_idx_78584;\n    span_78611 = (int64_t) 1;\n    while (loop_while_78608) {\n        int64_t max_arg_78612 = sub64(l_idx_78609, (int64_t) 1);\n        int64_t max_res_78613 = smax64((int64_t) 0, max_arg_78612);\n        int64_t min_arg_78614 = add64((int64_t) 1, r_idx_78610);\n        int64_t min_res_78615 = smin64(min_arg_78573, min_arg_78614);\n        bool x_78616 = sle64((int64_t) 0, max_res_78613);\n        bool y_78617 = slt64(max_res_78613, n_70233);\n        bool bounds_check_78618 = x_78616 && y_78617;\n        bool index_certs_78619;\n        \n        if (!bounds_check_78618) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 56) == -1) {\n                    global_failure_args[0] = (int64_t) max_res_78613;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t x_78620 = ((__global int64_t *) mem_82189)[gtid_78066 *\n                                                           n_70233 +\n                                                           max_res_78613];\n        int64_t abs_arg_78621 = sub64(x_78620, defunc_0_g_res_78582);\n        int64_t abs_res_78622 = abs64(abs_arg_78621);\n        bool x_78623 = sle64((int64_t) 0, min_res_78615);\n        bool y_78624 = slt64(min_res_78615, n_70233);\n        bool bounds_check_78625 = x_78623 && y_78624;\n        bool index_certs_78626;\n        \n        if (!bounds_check_",
                   "78625) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 57) == -1) {\n                    global_failure_args[0] = (int64_t) min_res_78615;\n                    global_failure_args[1] = (int64_t) n_70233;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t x_78627 = ((__global int64_t *) mem_82189)[gtid_78066 *\n                                                           n_70233 +\n                                                           min_res_78615];\n        int64_t abs_arg_78628 = sub64(x_78627, defunc_0_g_res_78582);\n        int64_t abs_res_78629 = abs64(abs_arg_78628);\n        bool cond_78630 = max_res_78613 == l_idx_78609;\n        int64_t loopres_78631;\n        int64_t loopres_78632;\n        int64_t loopres_78633;\n        \n        if (cond_78630) {\n            loopres_78631 = l_idx_78609;\n            loopres_78632 = r_idx_78610;\n            loopres_78633 = min_res_70253;\n        } else {\n            bool cond_78634 = slt64(abs_res_78622, abs_res_78629);\n            bool cond_f_res_78635 = min_res_78615 == r_idx_78610;\n            bool x_78636 = !cond_78634;\n            bool y_78637 = cond_f_res_78635 && x_78636;\n            bool cond_78638 = cond_78634 || y_78637;\n            int64_t loopres_f_res_78639;\n            \n            if (cond_78638) {\n                loopres_f_res_78639 = max_res_78613;\n            } else {\n                loopres_f_res_78639 = l_idx_78609;\n            }\n            \n            int64_t loopres_f_res_78640;\n            \n            if (cond_78638) {\n                loopres_f_res_78640 = r_idx_78610;\n            } else {\n                loopres_f_res_78640 = min_res_78615;\n            }\n            \n            int64_t loopres_f_res_78641;\n            \n            if (cond_78638) {\n                int64_t loopres_f_res_t_res_78642 = add64((int64_t) 1,\n                                                ",
                   "          span_78611);\n                \n                loopres_f_res_78641 = loopres_f_res_t_res_78642;\n            } else {\n                int64_t loopres_f_res_f_res_78643 = add64((int64_t) 1,\n                                                          span_78611);\n                \n                loopres_f_res_78641 = loopres_f_res_f_res_78643;\n            }\n            loopres_78631 = loopres_f_res_78639;\n            loopres_78632 = loopres_f_res_78640;\n            loopres_78633 = loopres_f_res_78641;\n        }\n        \n        bool loop_cond_78644 = slt64(loopres_78633, min_res_70253);\n        bool loop_while_tmp_84020 = loop_cond_78644;\n        int64_t l_idx_tmp_84021 = loopres_78631;\n        int64_t r_idx_tmp_84022 = loopres_78632;\n        int64_t span_tmp_84023 = loopres_78633;\n        \n        loop_while_78608 = loop_while_tmp_84020;\n        l_idx_78609 = l_idx_tmp_84021;\n        r_idx_78610 = r_idx_tmp_84022;\n        span_78611 = span_tmp_84023;\n    }\n    idx_78604 = loop_while_78608;\n    idx_78605 = l_idx_78609;\n    idx_78606 = r_idx_78610;\n    idx_78607 = span_78611;\n    \n    int64_t min_res_78645 = smin64(min_arg_78574, idx_78605);\n    int64_t max_res_78646 = smax64((int64_t) 0, min_res_78645);\n    int64_t x_78647 = add64(min_res_78575, max_res_78646);\n    int64_t r_78648 = sub64(x_78647, (int64_t) 1);\n    bool x_78649 = sle64((int64_t) 0, r_78648);\n    bool y_78650 = slt64(r_78648, n_70233);\n    bool bounds_check_78651 = x_78649 && y_78650;\n    bool index_certs_78652;\n    \n    if (!bounds_check_78651) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 58) == -1) {\n                global_failure_args[0] = (int64_t) r_78648;\n                global_failure_args[1] = (int64_t) n_70233;\n                ;\n            }\n            local_failure = true;\n            goto error_0;\n        }\n    }\n    \n    int64_t x_78653 = ((__global int64_t *) mem_82183)[gtid_78066 * n_70233 +\n                                                       r_7864",
                   "8];\n    int64_t abs_arg_78654 = sub64(x_78653, min_res_78581);\n    int64_t abs_res_78655 = abs64(abs_arg_78654);\n    bool x_78656 = sle64((int64_t) 0, max_res_78646);\n    bool y_78657 = slt64(max_res_78646, n_70233);\n    bool bounds_check_78658 = x_78656 && y_78657;\n    bool index_certs_78659;\n    \n    if (!bounds_check_78658) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 59) == -1) {\n                global_failure_args[0] = (int64_t) max_res_78646;\n                global_failure_args[1] = (int64_t) n_70233;\n                ;\n            }\n            local_failure = true;\n            goto error_0;\n        }\n    }\n    \n    int64_t x_78660 = ((__global int64_t *) mem_82183)[gtid_78066 * n_70233 +\n                                                       max_res_78646];\n    int64_t abs_arg_78661 = sub64(x_78660, min_res_78581);\n    int64_t abs_res_78662 = abs64(abs_arg_78661);\n    int64_t max_res_78663 = smax64(abs_res_78655, abs_res_78662);\n    float defunc_0_f_res_78664 = sitofp_i64_f32(max_res_78663);\n    float defunc_1_f_res_78665 = max_res_78576 + defunc_0_f_res_78664;\n    int64_t gtid_78071 = sext_i32_i64(sext_i64_i32(ltid_pre_84010));\n    int32_t phys_tid_78072 = local_tid_84006;\n    float x_78669 = ((__global float *) mem_82207)[gtid_78066 * q_70235 +\n                                                   gtid_78071];\n    bool cond_78670 = sle64(last_res_78566, gtid_78071);\n    int64_t defunc_0_f_res_78671;\n    \n    if (cond_78670) {\n        defunc_0_f_res_78671 = (int64_t) 0;\n    } else {\n        int64_t i_78672 = add64(gtid_78071, max_res_78646);\n        int64_t defunc_0_add_arg_78673 = ((__global\n                                           int64_t *) mem_82183)[gtid_78066 *\n                                                                 n_70233 +\n                                                                 i_78672];\n        int64_t defunc_1_add_res_78674 = add64((int64_t) 1,\n                                               defunc_0_ad",
                   "d_arg_78673);\n        \n        defunc_0_f_res_78671 = defunc_1_add_res_78674;\n    }\n    \n    int64_t binop_p_78675 = sub64(defunc_0_f_res_78671, min_res_78581);\n    float defunc_0_f_res_78676 = sitofp_i64_f32(binop_p_78675);\n    float abs_res_78677 = (float) fabs(defunc_0_f_res_78676);\n    float tmp1_78678 = abs_res_78677 / defunc_1_f_res_78665;\n    float x_78679 = tmp1_78678 * tmp1_78678;\n    float y_78680 = tmp1_78678 * x_78679;\n    float tmp2_78681 = 1.0F - y_78680;\n    float x_78682 = tmp2_78681 * tmp2_78681;\n    float tmp3_78683 = tmp2_78681 * x_78682;\n    float tmp4_78684 = x_78669 * tmp3_78683;\n    \n    ((__local float *) color_82441)[gtid_78071] = defunc_0_f_res_78676;\n    ((__local float *) color_82440)[gtid_78071] = tmp4_78684;\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    float defunc_2_reduce_res_78685;\n    float defunc_2_reduce_res_78686;\n    float defunc_2_reduce_res_78687;\n    float defunc_2_reduce_res_78688;\n    float defunc_2_reduce_res_78689;\n    int64_t gtid_78090 = sext_i32_i64(sext_i64_i32(ltid_pre_84010));\n    int32_t phys_tid_78091 = local_tid_84006;\n    __local unsigned char *red_arr_mem_84024;\n    \n    red_arr_mem_84024 = (__local unsigned char *) red_arr_mem_84024_backing_4;\n    \n    __local unsigned char *red_arr_mem_84026;\n    \n    red_arr_mem_84026 = (__local unsigned char *) red_arr_mem_84026_backing_5;\n    \n    __local unsigned char *red_arr_mem_84028;\n    \n    red_arr_mem_84028 = (__local unsigned char *) red_arr_mem_84028_backing_6;\n    \n    __local unsigned char *red_arr_mem_84030;\n    \n    red_arr_mem_84030 = (__local unsigned char *) red_arr_mem_84030_backing_7;\n    \n    __local unsigned char *red_arr_mem_84032;\n    \n    red_arr_mem_84032 = (__local unsigned char *) red_arr_mem_84032_backing_8;\n    \n    float x_78707 = ((__local float *) color_82441)[gtid_78090];\n    float x_78708 = ((__local float *) color_82440)[gtid_78090];\n    float defunc_1_",
                   "f_res_78709 = x_78707 * x_78708;\n    float defunc_1_f_res_78710 = x_78707 * defunc_1_f_res_78709;\n    float defunc_1_f_res_78711 = x_78707 * defunc_1_f_res_78710;\n    float defunc_1_f_res_78712 = x_78707 * defunc_1_f_res_78711;\n    \n    ((__local float *) red_arr_mem_84024)[gtid_78090] = x_78708;\n    ((__local float *) red_arr_mem_84026)[gtid_78090] = defunc_1_f_res_78709;\n    ((__local float *) red_arr_mem_84028)[gtid_78090] = defunc_1_f_res_78710;\n    ((__local float *) red_arr_mem_84030)[gtid_78090] = defunc_1_f_res_78711;\n    ((__local float *) red_arr_mem_84032)[gtid_78090] = defunc_1_f_res_78712;\n    ((__local float *) color_82439)[gtid_78090] = defunc_1_f_res_78710;\n    ((__local float *) color_82438)[gtid_78090] = defunc_1_f_res_78709;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_84034;\n    int32_t skip_waves_84035 = 1;\n    float x_78692;\n    float x_78693;\n    float x_78694;\n    float x_78695;\n    float x_78696;\n    float x_78697;\n    float x_78698;\n    float x_78699;\n    float x_78700;\n    float x_78701;\n    \n    offset_84034 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_84006, sext_i64_i32(q_70235))) {\n            x_78692 = ((__local\n                        float *) red_arr_mem_84024)[sext_i32_i64(local_tid_84006 +\n                                                    offset_84034)];\n            x_78693 = ((__local\n                        float *) red_arr_mem_84026)[sext_i32_i64(local_tid_84006 +\n                                                    offset_84034)];\n            x_78694 = ((__local\n                        float *) red_arr_mem_84028)[sext_i32_i64(local_tid_84006 +\n                                                    offset_84034)];\n            x_78695 = ((__local\n                        float *) red_arr_mem_84030)[sext_i32_i64(local_tid_84006 +\n                                                    offset_84034)];\n            x_78696 = ((__local\n                        float *) red_arr_mem_",
                   "84032)[sext_i32_i64(local_tid_84006 +\n                                                    offset_84034)];\n        }\n    }\n    offset_84034 = 1;\n    while (slt32(offset_84034, wave_sizze_84008)) {\n        if (slt32(local_tid_84006 + offset_84034, sext_i64_i32(q_70235)) &&\n            ((local_tid_84006 - squot32(local_tid_84006, wave_sizze_84008) *\n              wave_sizze_84008) & (2 * offset_84034 - 1)) == 0) {\n            // read array element\n            {\n                x_78697 = ((volatile __local\n                            float *) red_arr_mem_84024)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84034)];\n                x_78698 = ((volatile __local\n                            float *) red_arr_mem_84026)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84034)];\n                x_78699 = ((volatile __local\n                            float *) red_arr_mem_84028)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84034)];\n                x_78700 = ((volatile __local\n                            float *) red_arr_mem_84030)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84034)];\n                x_78701 = ((volatile __local\n                            float *) red_arr_mem_84032)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84034)];\n            }\n            // apply reduction operation\n            {\n                float defunc_1_op_res_78702 = x_78692 + x_78697;\n                float defunc_1_op_res_78703 = x_78693 + x_78698;\n                float defunc_1_op_res_78704 = x_78694 + x_78699;\n                float defunc_1_op_res_78705 = x_78695 + x_78700;\n                float defunc_1_op_res_78706 = x_78696 + x_78701;\n                \n                x_78692 = defunc_1_op_res_78702;\n                x_78693 = defunc_1_op_res_78703;\n        ",
                   "        x_78694 = defunc_1_op_res_78704;\n                x_78695 = defunc_1_op_res_78705;\n                x_78696 = defunc_1_op_res_78706;\n            }\n            // write result of operation\n            {\n                ((volatile __local\n                  float *) red_arr_mem_84024)[sext_i32_i64(local_tid_84006)] =\n                    x_78692;\n                ((volatile __local\n                  float *) red_arr_mem_84026)[sext_i32_i64(local_tid_84006)] =\n                    x_78693;\n                ((volatile __local\n                  float *) red_arr_mem_84028)[sext_i32_i64(local_tid_84006)] =\n                    x_78694;\n                ((volatile __local\n                  float *) red_arr_mem_84030)[sext_i32_i64(local_tid_84006)] =\n                    x_78695;\n                ((volatile __local\n                  float *) red_arr_mem_84032)[sext_i32_i64(local_tid_84006)] =\n                    x_78696;\n            }\n        }\n        offset_84034 *= 2;\n    }\n    while (slt32(skip_waves_84035, squot32(sext_i64_i32(q_70235) +\n                                           wave_sizze_84008 - 1,\n                                           wave_sizze_84008))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_84034 = skip_waves_84035 * wave_sizze_84008;\n        if (slt32(local_tid_84006 + offset_84034, sext_i64_i32(q_70235)) &&\n            ((local_tid_84006 - squot32(local_tid_84006, wave_sizze_84008) *\n              wave_sizze_84008) == 0 && (squot32(local_tid_84006,\n                                                 wave_sizze_84008) & (2 *\n                                                                      skip_waves_84035 -\n                                                                      1)) ==\n             0)) {\n            // read array element\n            {\n                x_78697 = ((__local\n                            float *) red_arr_mem_84024)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84034)];\n    ",
                   "            x_78698 = ((__local\n                            float *) red_arr_mem_84026)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84034)];\n                x_78699 = ((__local\n                            float *) red_arr_mem_84028)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84034)];\n                x_78700 = ((__local\n                            float *) red_arr_mem_84030)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84034)];\n                x_78701 = ((__local\n                            float *) red_arr_mem_84032)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84034)];\n            }\n            // apply reduction operation\n            {\n                float defunc_1_op_res_78702 = x_78692 + x_78697;\n                float defunc_1_op_res_78703 = x_78693 + x_78698;\n                float defunc_1_op_res_78704 = x_78694 + x_78699;\n                float defunc_1_op_res_78705 = x_78695 + x_78700;\n                float defunc_1_op_res_78706 = x_78696 + x_78701;\n                \n                x_78692 = defunc_1_op_res_78702;\n                x_78693 = defunc_1_op_res_78703;\n                x_78694 = defunc_1_op_res_78704;\n                x_78695 = defunc_1_op_res_78705;\n                x_78696 = defunc_1_op_res_78706;\n            }\n            // write result of operation\n            {\n                ((__local\n                  float *) red_arr_mem_84024)[sext_i32_i64(local_tid_84006)] =\n                    x_78692;\n                ((__local\n                  float *) red_arr_mem_84026)[sext_i32_i64(local_tid_84006)] =\n                    x_78693;\n                ((__local\n                  float *) red_arr_mem_84028)[sext_i32_i64(local_tid_84006)] =\n                    x_78694;\n                ((__local\n                  float *) red_arr_mem_84030)[sext_i32_i64(local_tid_84",
                   "006)] =\n                    x_78695;\n                ((__local\n                  float *) red_arr_mem_84032)[sext_i32_i64(local_tid_84006)] =\n                    x_78696;\n            }\n        }\n        skip_waves_84035 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_2_reduce_res_78685 = ((__local\n                                  float *) red_arr_mem_84024)[(int64_t) 0];\n    defunc_2_reduce_res_78686 = ((__local\n                                  float *) red_arr_mem_84026)[(int64_t) 0];\n    defunc_2_reduce_res_78687 = ((__local\n                                  float *) red_arr_mem_84028)[(int64_t) 0];\n    defunc_2_reduce_res_78688 = ((__local\n                                  float *) red_arr_mem_84030)[(int64_t) 0];\n    defunc_2_reduce_res_78689 = ((__local\n                                  float *) red_arr_mem_84032)[(int64_t) 0];\n    \n    float x_78713 = defunc_2_reduce_res_78687 * defunc_2_reduce_res_78689;\n    float y_78714 = defunc_2_reduce_res_78688 * defunc_2_reduce_res_78688;\n    float a12_78715 = x_78713 - y_78714;\n    float x_78716 = defunc_2_reduce_res_78687 * defunc_2_reduce_res_78688;\n    float y_78717 = defunc_2_reduce_res_78686 * defunc_2_reduce_res_78689;\n    float b12_78718 = x_78716 - y_78717;\n    float x_78719 = defunc_2_reduce_res_78686 * defunc_2_reduce_res_78688;\n    float y_78720 = defunc_2_reduce_res_78687 * defunc_2_reduce_res_78687;\n    float c12_78721 = x_78719 - y_78720;\n    float x_78722 = defunc_2_reduce_res_78685 * defunc_2_reduce_res_78689;\n    float b2_78723 = x_78722 - y_78720;\n    float x_78724 = defunc_2_reduce_res_78686 * defunc_2_reduce_res_78687;\n    float y_78725 = defunc_2_reduce_res_78685 * defunc_2_reduce_res_78688;\n    float c2_78726 = x_78724 - y_78725;\n    float x_78727 = defunc_2_reduce_res_78685 * a12_78715;\n    float y_78728 = defunc_2_reduce_res_78686 * b12_78718;\n    float x_78729 = x_78727 + y_78728;\n    float y_78730 = defunc_2_reduce_res_78687 * c12_78721;\n    float y_78731 = x_78729 + y_78730;\n    fl",
                   "oat det_78732 = 1.0F / y_78731;\n    float a12_78733 = a12_78715 * det_78732;\n    float b12_78734 = b12_78718 * det_78732;\n    float c12_78735 = c12_78721 * det_78732;\n    float b2_78736 = b2_78723 * det_78732;\n    float c2_78737 = c2_78726 * det_78732;\n    float defunc_2_reduce_res_78738;\n    float defunc_2_reduce_res_78739;\n    int64_t gtid_78092 = sext_i32_i64(sext_i64_i32(ltid_pre_84010));\n    int32_t phys_tid_78093 = local_tid_84006;\n    __local unsigned char *red_arr_mem_84036;\n    \n    red_arr_mem_84036 = (__local unsigned char *) red_arr_mem_84036_backing_9;\n    \n    __local unsigned char *red_arr_mem_84038;\n    \n    red_arr_mem_84038 = (__local unsigned char *) red_arr_mem_84038_backing_10;\n    \n    float x_78747 = ((__local float *) color_82440)[gtid_78092];\n    float x_78748 = ((__local float *) color_82438)[gtid_78092];\n    float x_78749 = ((__local float *) color_82439)[gtid_78092];\n    bool cond_78750 = sle64(last_res_78566, gtid_78092);\n    float defunc_0_f_res_78751;\n    \n    if (cond_78750) {\n        defunc_0_f_res_78751 = 0.0F;\n    } else {\n        int64_t i_78752 = add64(gtid_78092, max_res_78646);\n        float defunc_0_add_arg_78753 = ((__global\n                                         float *) mem_82179)[gtid_78066 *\n                                                             n_70233 + i_78752];\n        \n        defunc_0_f_res_78751 = defunc_0_add_arg_78753;\n    }\n    \n    float x_78754 = a12_78733 * x_78747;\n    float y_78755 = b12_78734 * x_78748;\n    float x_78756 = x_78754 + y_78755;\n    float y_78757 = c12_78735 * x_78749;\n    float x_78758 = x_78756 + y_78757;\n    float defunc_9_fit_fun_res_78759 = defunc_0_f_res_78751 * x_78758;\n    float x_78760 = b12_78734 * x_78747;\n    float y_78761 = b2_78736 * x_78748;\n    float x_78762 = x_78760 + y_78761;\n    float y_78763 = c2_78737 * x_78749;\n    float x_78764 = x_78762 + y_78763;\n    float defunc_9_slope_fun_res_78765 = defunc_0_f_res_78751 * x_78764;\n    \n    ((__local float *) red_arr_mem_84",
                   "036)[gtid_78092] =\n        defunc_9_fit_fun_res_78759;\n    ((__local float *) red_arr_mem_84038)[gtid_78092] =\n        defunc_9_slope_fun_res_78765;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_84040;\n    int32_t skip_waves_84041 = 1;\n    float x_78740;\n    float x_78741;\n    float x_78742;\n    float x_78743;\n    \n    offset_84040 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_84006, sext_i64_i32(q_70235))) {\n            x_78740 = ((__local\n                        float *) red_arr_mem_84036)[sext_i32_i64(local_tid_84006 +\n                                                    offset_84040)];\n            x_78741 = ((__local\n                        float *) red_arr_mem_84038)[sext_i32_i64(local_tid_84006 +\n                                                    offset_84040)];\n        }\n    }\n    offset_84040 = 1;\n    while (slt32(offset_84040, wave_sizze_84008)) {\n        if (slt32(local_tid_84006 + offset_84040, sext_i64_i32(q_70235)) &&\n            ((local_tid_84006 - squot32(local_tid_84006, wave_sizze_84008) *\n              wave_sizze_84008) & (2 * offset_84040 - 1)) == 0) {\n            // read array element\n            {\n                x_78742 = ((volatile __local\n                            float *) red_arr_mem_84036)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84040)];\n                x_78743 = ((volatile __local\n                            float *) red_arr_mem_84038)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84040)];\n            }\n            // apply reduction operation\n            {\n                float defunc_1_op_res_78744 = x_78740 + x_78742;\n                float defunc_1_op_res_78745 = x_78741 + x_78743;\n                \n                x_78740 = defunc_1_op_res_78744;\n                x_78741 = defunc_1_op_res_78745;\n            }\n            // write result of operation\n            {\n              ",
                   "  ((volatile __local\n                  float *) red_arr_mem_84036)[sext_i32_i64(local_tid_84006)] =\n                    x_78740;\n                ((volatile __local\n                  float *) red_arr_mem_84038)[sext_i32_i64(local_tid_84006)] =\n                    x_78741;\n            }\n        }\n        offset_84040 *= 2;\n    }\n    while (slt32(skip_waves_84041, squot32(sext_i64_i32(q_70235) +\n                                           wave_sizze_84008 - 1,\n                                           wave_sizze_84008))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_84040 = skip_waves_84041 * wave_sizze_84008;\n        if (slt32(local_tid_84006 + offset_84040, sext_i64_i32(q_70235)) &&\n            ((local_tid_84006 - squot32(local_tid_84006, wave_sizze_84008) *\n              wave_sizze_84008) == 0 && (squot32(local_tid_84006,\n                                                 wave_sizze_84008) & (2 *\n                                                                      skip_waves_84041 -\n                                                                      1)) ==\n             0)) {\n            // read array element\n            {\n                x_78742 = ((__local\n                            float *) red_arr_mem_84036)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84040)];\n                x_78743 = ((__local\n                            float *) red_arr_mem_84038)[sext_i32_i64(local_tid_84006 +\n                                                        offset_84040)];\n            }\n            // apply reduction operation\n            {\n                float defunc_1_op_res_78744 = x_78740 + x_78742;\n                float defunc_1_op_res_78745 = x_78741 + x_78743;\n                \n                x_78740 = defunc_1_op_res_78744;\n                x_78741 = defunc_1_op_res_78745;\n            }\n            // write result of operation\n            {\n                ((__local\n                  float *) red_arr_mem_84036)[sext_",
                   "i32_i64(local_tid_84006)] =\n                    x_78740;\n                ((__local\n                  float *) red_arr_mem_84038)[sext_i32_i64(local_tid_84006)] =\n                    x_78741;\n            }\n        }\n        skip_waves_84041 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_2_reduce_res_78738 = ((__local\n                                  float *) red_arr_mem_84036)[(int64_t) 0];\n    defunc_2_reduce_res_78739 = ((__local\n                                  float *) red_arr_mem_84038)[(int64_t) 0];\n    if (local_tid_84006 == 0) {\n        ((__global float *) mem_82227)[gtid_78066 * n_m_70241 + gtid_78067] =\n            defunc_2_reduce_res_78738;\n    }\n    if (local_tid_84006 == 0) {\n        ((__global float *) mem_82231)[gtid_78066 * n_m_70241 + gtid_78067] =\n            defunc_2_reduce_res_78739;\n    }\n    \n  error_5:\n    return;\n}\n__kernel void mainzisegmap_intragroup_79098(__global int *global_failure,\n                                            int failure_is_an_option, __global\n                                            int64_t *global_failure_args,\n                                            __local volatile\n                                            int64_t *color_82378_backing_aligned_0,\n                                            int64_t m_70232, int64_t n_70233,\n                                            int64_t q_70235, int64_t jump_70237,\n                                            int64_t n_m_70241, int64_t i_70247,\n                                            unsigned char x_70248,\n                                            int64_t min_res_70253,\n                                            unsigned char loop_cond_70258,\n                                            int64_t num_groups_x_79095,\n                                            int64_t num_groups_y_79096,\n                                            int64_t num_whole_tiles_79225,\n                                            int64_t residual_input_79406,\n                         ",
                   "                   unsigned char cond_79407, __global\n                                            unsigned char *mem_81323, __global\n                                            unsigned char *mem_81327, __global\n                                            unsigned char *mem_81331, __global\n                                            unsigned char *mem_81337, __global\n                                            unsigned char *mem_81341, __global\n                                            unsigned char *mem_81344, __global\n                                            unsigned char *mem_81347, __global\n                                            unsigned char *mem_81350, __global\n                                            unsigned char *mem_81355, __global\n                                            unsigned char *mem_81402)\n{\n    #define tile_sizze_79093 (mainzitile_sizze_79092)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict color_82378_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) color_82378_backing_aligned_0;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_82665;\n    int32_t local_tid_82666;\n    int64_t group_sizze_82669;\n    int32_t wave_sizze_82668;\n    int32_t group_tid_82667;\n    \n    global_tid_82665 = get_global_id(0);\n    local_tid_82666 = get_local_id(0);\n    group_sizze_82669 = get_local_size(0);\n    wave_sizze_82668 = LOCKSTEP_WIDTH;\n    group_tid_82667 = get_group_id(0);\n    \n    int32_t gid_flat_79098 = group_tid_82667;\n    int64_t slice_82672 = tile_sizze_79093;\n    int64_t slice_82673 = tile_sizze_79093 * slice_82672;\n    int64_t ltid_pre_82670 = squot64(sext_i32_i64(local_ti",
                   "d_82666),\n                                     slice_82672);\n    int64_t remnant_82674 = sext_i32_i64(local_tid_82666) - ltid_pre_82670 *\n            slice_82672;\n    int64_t ltid_pre_82671 = remnant_82674;\n    int64_t remnant_82675 = remnant_82674 - ltid_pre_82671;\n    int64_t slice_82676 = num_groups_y_79096;\n    int64_t slice_82677 = num_groups_x_79095 * slice_82676;\n    int64_t gid_x_79090 = squot64(sext_i32_i64(group_tid_82667), slice_82676);\n    int64_t remnant_82678 = sext_i32_i64(group_tid_82667) - gid_x_79090 *\n            slice_82676;\n    int64_t gid_y_79091 = remnant_82678;\n    int64_t remnant_82679 = remnant_82678 - gid_y_79091;\n    float color_82376[1];\n    float color_82377[1];\n    __local unsigned char *color_82378;\n    \n    color_82378 = (__local unsigned char *) color_82378_backing_0;\n    \n    float color_82379[1];\n    int64_t color_82380[1];\n    int64_t color_82381[1];\n    int64_t color_82382[1];\n    int64_t binop_x_79115 = gid_x_79090 * tile_sizze_79093;\n    int64_t binop_x_79117 = gid_y_79091 * tile_sizze_79093;\n    int64_t ltid_y_79101 = sext_i32_i64(sext_i64_i32(ltid_pre_82670));\n    int64_t ltid_x_79099 = sext_i32_i64(sext_i64_i32(ltid_pre_82671));\n    int32_t ltid_flat_79100 = local_tid_82666;\n    \n    if (slt64(ltid_y_79101, tile_sizze_79093) && slt64(ltid_x_79099,\n                                                       tile_sizze_79093)) {\n        int64_t gtid_79116 = ltid_y_79101 + binop_x_79115;\n        int64_t gtid_79118 = ltid_x_79099 + binop_x_79117;\n        bool binop_x_79119 = slt64(gtid_79116, m_70232);\n        bool binop_y_79120 = slt64(gtid_79118, n_m_70241);\n        bool cond_79121 = binop_x_79119 && binop_y_79120;\n        int64_t pre_79122;\n        int64_t pre_79123;\n        int64_t pre_79124;\n        float pre_79125;\n        \n        if (cond_79121) {\n            int64_t last_res_79126 = ((__global\n                                       int64_t *) mem_81323)[gtid_79116 *\n                                                          ",
                   "   n_70233 + i_70247];\n            int64_t min_arg_79127 = ((__global\n                                      int64_t *) mem_81341)[gtid_79116];\n            int64_t min_arg_79128 = ((__global\n                                      int64_t *) mem_81344)[gtid_79116];\n            int64_t min_res_79129 = ((__global\n                                      int64_t *) mem_81347)[gtid_79116];\n            float max_res_79130 = ((__global float *) mem_81350)[gtid_79116];\n            int64_t min_arg_79131 = mul64(jump_70237, gtid_79118);\n            int64_t min_res_79132 = smin64(i_70247, min_arg_79131);\n            int64_t defunc_0_g_res_79133 = add64((int64_t) 1, min_res_79132);\n            bool init_idx_79134;\n            int64_t init_idx_79135;\n            int64_t init_idx_79136;\n            bool loop_while_79137;\n            int64_t low_79138;\n            int64_t high_79139;\n            \n            loop_while_79137 = x_70248;\n            low_79138 = (int64_t) 0;\n            high_79139 = i_70247;\n            while (loop_while_79137) {\n                int64_t x_79140 = add64(low_79138, high_79139);\n                int64_t mid_79141 = sdiv64(x_79140, (int64_t) 2);\n                bool x_79142 = sle64((int64_t) 0, mid_79141);\n                bool y_79143 = slt64(mid_79141, n_70233);\n                bool bounds_check_79144 = x_79142 && y_79143;\n                bool index_certs_79145;\n                \n                if (!bounds_check_79144) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 5) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) mid_79141;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t mid_id_79146 = ((__global\n                   ",
                   "                      int64_t *) mem_81337)[gtid_79116 *\n                                                               n_70233 +\n                                                               mid_79141];\n                bool cond_79147 = slt64(mid_id_79146, (int64_t) 0);\n                int64_t mid_idx_79148;\n                \n                if (cond_79147) {\n                    mid_idx_79148 = (int64_t) 9223372036854775807;\n                } else {\n                    mid_idx_79148 = mid_id_79146;\n                }\n                \n                bool cond_79149 = sle64(defunc_0_g_res_79133, mid_idx_79148);\n                int64_t loopres_79150;\n                int64_t loopres_79151;\n                \n                if (cond_79149) {\n                    int64_t loopres_t_res_79152 = sub64(mid_79141, (int64_t) 1);\n                    \n                    loopres_79150 = low_79138;\n                    loopres_79151 = loopres_t_res_79152;\n                } else {\n                    int64_t loopres_f_res_79153 = add64((int64_t) 1, mid_79141);\n                    \n                    loopres_79150 = loopres_f_res_79153;\n                    loopres_79151 = high_79139;\n                }\n                \n                bool loop_cond_79154 = sle64(loopres_79150, loopres_79151);\n                bool loop_while_tmp_82680 = loop_cond_79154;\n                int64_t low_tmp_82681 = loopres_79150;\n                int64_t high_tmp_82682 = loopres_79151;\n                \n                loop_while_79137 = loop_while_tmp_82680;\n                low_79138 = low_tmp_82681;\n                high_79139 = high_tmp_82682;\n            }\n            init_idx_79134 = loop_while_79137;\n            init_idx_79135 = low_79138;\n            init_idx_79136 = high_79139;\n            \n            bool idx_79155;\n            int64_t idx_79156;\n            int64_t idx_79157;\n            int64_t idx_79158;\n            bool loop_while_79159;\n            int64_t l_idx_79160;\n            int64_t r_idx_",
                   "79161;\n            int64_t span_79162;\n            \n            loop_while_79159 = loop_cond_70258;\n            l_idx_79160 = init_idx_79135;\n            r_idx_79161 = init_idx_79135;\n            span_79162 = (int64_t) 1;\n            while (loop_while_79159) {\n                int64_t max_arg_79163 = sub64(l_idx_79160, (int64_t) 1);\n                int64_t max_res_79164 = smax64((int64_t) 0, max_arg_79163);\n                int64_t min_arg_79165 = add64((int64_t) 1, r_idx_79161);\n                int64_t min_res_79166 = smin64(min_arg_79127, min_arg_79165);\n                bool x_79167 = sle64((int64_t) 0, max_res_79164);\n                bool y_79168 = slt64(max_res_79164, n_70233);\n                bool bounds_check_79169 = x_79167 && y_79168;\n                bool index_certs_79170;\n                \n                if (!bounds_check_79169) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 6) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) max_res_79164;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_79171 = ((__global int64_t *) mem_81337)[gtid_79116 *\n                                                                   n_70233 +\n                                                                   max_res_79164];\n                int64_t abs_arg_79172 = sub64(x_79171, defunc_0_g_res_79133);\n                int64_t abs_res_79173 = abs64(abs_arg_79172);\n                bool x_79174 = sle64((int64_t) 0, min_res_79166);\n                bool y_79175 = slt64(min_res_79166, n_70233);\n                bool bounds_check_79176 = x_79174 && y_79175;\n                bool index_certs_79177;\n                \n                if (!bounds_check_79176",
                   ") {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 7) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) min_res_79166;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_79178 = ((__global int64_t *) mem_81337)[gtid_79116 *\n                                                                   n_70233 +\n                                                                   min_res_79166];\n                int64_t abs_arg_79179 = sub64(x_79178, defunc_0_g_res_79133);\n                int64_t abs_res_79180 = abs64(abs_arg_79179);\n                bool cond_79181 = max_res_79164 == l_idx_79160;\n                int64_t loopres_79182;\n                int64_t loopres_79183;\n                int64_t loopres_79184;\n                \n                if (cond_79181) {\n                    loopres_79182 = l_idx_79160;\n                    loopres_79183 = r_idx_79161;\n                    loopres_79184 = min_res_70253;\n                } else {\n                    bool cond_79185 = slt64(abs_res_79173, abs_res_79180);\n                    bool cond_f_res_79186 = min_res_79166 == r_idx_79161;\n                    bool x_79187 = !cond_79185;\n                    bool y_79188 = cond_f_res_79186 && x_79187;\n                    bool cond_79189 = cond_79185 || y_79188;\n                    int64_t loopres_f_res_79190;\n                    \n                    if (cond_79189) {\n                        loopres_f_res_79190 = max_res_79164;\n                    } else {\n                        loopres_f_res_79190 = l_idx_79160;\n                    }\n                    \n                    int64_t loopres_f_res_79191;\n                    \n                    if (cond_79189)",
                   " {\n                        loopres_f_res_79191 = r_idx_79161;\n                    } else {\n                        loopres_f_res_79191 = min_res_79166;\n                    }\n                    \n                    int64_t loopres_f_res_79192;\n                    \n                    if (cond_79189) {\n                        int64_t loopres_f_res_t_res_79193 = add64((int64_t) 1,\n                                                                  span_79162);\n                        \n                        loopres_f_res_79192 = loopres_f_res_t_res_79193;\n                    } else {\n                        int64_t loopres_f_res_f_res_79194 = add64((int64_t) 1,\n                                                                  span_79162);\n                        \n                        loopres_f_res_79192 = loopres_f_res_f_res_79194;\n                    }\n                    loopres_79182 = loopres_f_res_79190;\n                    loopres_79183 = loopres_f_res_79191;\n                    loopres_79184 = loopres_f_res_79192;\n                }\n                \n                bool loop_cond_79195 = slt64(loopres_79184, min_res_70253);\n                bool loop_while_tmp_82683 = loop_cond_79195;\n                int64_t l_idx_tmp_82684 = loopres_79182;\n                int64_t r_idx_tmp_82685 = loopres_79183;\n                int64_t span_tmp_82686 = loopres_79184;\n                \n                loop_while_79159 = loop_while_tmp_82683;\n                l_idx_79160 = l_idx_tmp_82684;\n                r_idx_79161 = r_idx_tmp_82685;\n                span_79162 = span_tmp_82686;\n            }\n            idx_79155 = loop_while_79159;\n            idx_79156 = l_idx_79160;\n            idx_79157 = r_idx_79161;\n            idx_79158 = span_79162;\n            \n            int64_t min_res_79196 = smin64(min_arg_79128, idx_79156);\n            int64_t max_res_79197 = smax64((int64_t) 0, min_res_79196);\n            int64_t x_79198 = add64(min_res_79129, max_res_79197);\n            int64_t ",
                   "r_79199 = sub64(x_79198, (int64_t) 1);\n            bool x_79200 = sle64((int64_t) 0, r_79199);\n            bool y_79201 = slt64(r_79199, n_70233);\n            bool bounds_check_79202 = x_79200 && y_79201;\n            bool index_certs_79203;\n            \n            if (!bounds_check_79202) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 8) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) r_79199;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    local_failure = true;\n                    goto error_0;\n                }\n            }\n            \n            int64_t x_79204 = ((__global int64_t *) mem_81331)[gtid_79116 *\n                                                               n_70233 +\n                                                               r_79199];\n            int64_t abs_arg_79205 = sub64(x_79204, min_res_79132);\n            int64_t abs_res_79206 = abs64(abs_arg_79205);\n            bool x_79207 = sle64((int64_t) 0, max_res_79197);\n            bool y_79208 = slt64(max_res_79197, n_70233);\n            bool bounds_check_79209 = x_79207 && y_79208;\n            bool index_certs_79210;\n            \n            if (!bounds_check_79209) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 9) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) max_res_79197;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    local_failure = true;\n                    goto error_0;\n                }\n            }\n            \n            int64_t x_79211 = ((__global int64_t *) mem_81331)[gtid_79116 *\n                                                               n_70233 +\n                                                               max_res_79197];\n  ",
                   "          int64_t abs_arg_79212 = sub64(x_79211, min_res_79132);\n            int64_t abs_res_79213 = abs64(abs_arg_79212);\n            int64_t max_res_79214 = smax64(abs_res_79206, abs_res_79213);\n            float defunc_0_f_res_79215 = sitofp_i64_f32(max_res_79214);\n            float defunc_1_f_res_79216 = max_res_79130 + defunc_0_f_res_79215;\n            \n            pre_79122 = last_res_79126;\n            pre_79123 = min_res_79132;\n            pre_79124 = max_res_79197;\n            pre_79125 = defunc_1_f_res_79216;\n        } else {\n            pre_79122 = (int64_t) 0;\n            pre_79123 = (int64_t) 0;\n            pre_79124 = (int64_t) 0;\n            pre_79125 = 0.0F;\n        }\n        color_82382[(int64_t) 0] = pre_79122;\n        color_82381[(int64_t) 0] = pre_79123;\n        color_82380[(int64_t) 0] = pre_79124;\n        color_82379[(int64_t) 0] = pre_79125;\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t ltid_y_79228 = sext_i32_i64(sext_i64_i32(ltid_pre_82670));\n    int64_t ltid_x_79226 = sext_i32_i64(sext_i64_i32(ltid_pre_82671));\n    int32_t ltid_flat_79227 = local_tid_82666;\n    \n    if (slt64(ltid_y_79228, tile_sizze_79093) && slt64(ltid_x_79226,\n                                                       tile_sizze_79093)) {\n        color_82377[(int64_t) 0] = 0.0F;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    color_82376[(int64_t) 0] = color_82377[(int64_t) 0];\n    \n    float ext_mem_81384[1];\n    float ext_mem_unused_82319[1];\n    float mem_param_81374[1];\n    float mem_param_out_82320[1];\n    \n    for (int32_t i_1 = 0; i_1 < 1; i_1++)\n        mem_param_81374[i_1] = color_82376[i_1];\n    for (int32_t i_2 = 0; i_2 < 1; i_2++)\n        mem_param_out_82320[i_2] = color_82377[i_2];\n    for (int64_t tile_id_79237 = 0; tile_id_79237 < num_whole_tiles_79225;\n         tile_id_79237++) {\n        int64_t binop_x_79329 = tile_sizze_79093 * tile_id_79237;\n        int64_t ltid",
                   "_y_79240 = sext_i32_i64(sext_i64_i32(ltid_pre_82670));\n        int64_t ltid_x_79238 = sext_i32_i64(sext_i64_i32(ltid_pre_82671));\n        int32_t ltid_flat_79239 = local_tid_82666;\n        int64_t j_79330 = ltid_x_79238 + binop_x_79329;\n        int64_t gtid_79332 = binop_x_79115 + ltid_y_79240;\n        bool binop_x_79340 = slt64(j_79330, q_70235);\n        bool binop_y_79341 = slt64(gtid_79332, m_70232);\n        bool cond_79342 = binop_x_79340 && binop_y_79341;\n        float pre_79343;\n        \n        if (cond_79342) {\n            float x_79344 = ((__global float *) mem_81355)[gtid_79332 *\n                                                           q_70235 + j_79330];\n            \n            pre_79343 = x_79344;\n        } else {\n            pre_79343 = 0.0F;\n        }\n        ((__local float *) color_82378)[ltid_y_79240 * tile_sizze_79093 +\n                                        ltid_x_79238] = pre_79343;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t ltid_y_79275 = sext_i32_i64(sext_i64_i32(ltid_pre_82670));\n        int64_t ltid_x_79273 = sext_i32_i64(sext_i64_i32(ltid_pre_82671));\n        int32_t ltid_flat_79274 = local_tid_82666;\n        int64_t gtid_79348 = binop_x_79115 + ltid_y_79275;\n        int64_t gtid_79350 = binop_x_79117 + ltid_x_79273;\n        float acc_79356 = mem_param_81374[(int64_t) 0];\n        bool binop_x_79360 = slt64(gtid_79348, m_70232);\n        bool binop_y_79361 = slt64(gtid_79350, n_m_70241);\n        bool cond_79362 = binop_x_79360 && binop_y_79361;\n        float acc_79363;\n        \n        if (cond_79362) {\n            int64_t last_res_79351 = color_82382[(int64_t) 0];\n            int64_t min_res_79352 = color_82381[(int64_t) 0];\n            int64_t max_res_79353 = color_82380[(int64_t) 0];\n            float defunc_1_f_res_79354 = color_82379[(int64_t) 0];\n            float x_79364;\n            float redout_81057 = acc_79356;\n            \n            for (int64_t i_81058 = 0; i_81058 < tile_sizze_79093; i_81058++) {\n       ",
                   "         int64_t index_primexp_81176 = add64(binop_x_79329, i_81058);\n                float x_79369 = ((__local float *) color_82378)[ltid_y_79275 *\n                                                                tile_sizze_79093 +\n                                                                i_81058];\n                bool cond_79370 = sle64(last_res_79351, index_primexp_81176);\n                int64_t defunc_0_f_res_79371;\n                \n                if (cond_79370) {\n                    defunc_0_f_res_79371 = (int64_t) 0;\n                } else {\n                    int64_t i_79372 = add64(max_res_79353, index_primexp_81176);\n                    int64_t defunc_0_add_arg_79373 = ((__global\n                                                       int64_t *) mem_81331)[gtid_79348 *\n                                                                             n_70233 +\n                                                                             i_79372];\n                    int64_t defunc_1_add_res_79374 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_79373);\n                    \n                    defunc_0_f_res_79371 = defunc_1_add_res_79374;\n                }\n                \n                int64_t binop_p_79375 = sub64(defunc_0_f_res_79371,\n                                              min_res_79352);\n                float defunc_0_f_res_79376 = sitofp_i64_f32(binop_p_79375);\n                float abs_res_79377 = (float) fabs(defunc_0_f_res_79376);\n                float tmp1_79378 = abs_res_79377 / defunc_1_f_res_79354;\n                float x_79379 = tmp1_79378 * tmp1_79378;\n                float y_79380 = tmp1_79378 * x_79379;\n                float tmp2_79381 = 1.0F - y_79380;\n                float x_79382 = tmp2_79381 * tmp2_79381;\n                float tmp3_79383 = tmp2_79381 * x_79382;\n                float w_j_79384 = x_79369 * tmp3_79383;\n                float defunc_1_op_res_79367 = w_j_79384 + redout_",
                   "81057;\n                float redout_tmp_82690 = defunc_1_op_res_79367;\n                \n                redout_81057 = redout_tmp_82690;\n            }\n            x_79364 = redout_81057;\n            acc_79363 = x_79364;\n        } else {\n            acc_79363 = acc_79356;\n        }\n        mem_param_out_82320[(int64_t) 0] = acc_79363;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        float mem_param_tmp_82687[1];\n        \n        for (int32_t i_3 = 0; i_3 < 1; i_3++)\n            mem_param_tmp_82687[i_3] = mem_param_out_82320[i_3];\n        \n        float mem_param_out_tmp_82688[1];\n        \n        for (int32_t i_4 = 0; i_4 < 1; i_4++)\n            mem_param_out_tmp_82688[i_4] = mem_param_81374[i_4];\n        for (int32_t i_5 = 0; i_5 < 1; i_5++)\n            mem_param_81374[i_5] = mem_param_tmp_82687[i_5];\n        for (int32_t i_6 = 0; i_6 < 1; i_6++)\n            mem_param_out_82320[i_6] = mem_param_out_tmp_82688[i_6];\n    }\n    for (int32_t i_7 = 0; i_7 < 1; i_7++)\n        ext_mem_81384[i_7] = mem_param_81374[i_7];\n    for (int32_t i_8 = 0; i_8 < 1; i_8++)\n        ext_mem_unused_82319[i_8] = mem_param_out_82320[i_8];\n    if (cond_79407) {\n        color_82376[(int64_t) 0] = ext_mem_81384[(int64_t) 0];\n    } else {\n        int64_t binop_x_79500 = tile_sizze_79093 * num_whole_tiles_79225;\n        int64_t ltid_y_79410 = sext_i32_i64(sext_i64_i32(ltid_pre_82670));\n        int64_t ltid_x_79408 = sext_i32_i64(sext_i64_i32(ltid_pre_82671));\n        int32_t ltid_flat_79409 = local_tid_82666;\n        int64_t j_79501 = ltid_x_79408 + binop_x_79500;\n        int64_t gtid_79503 = binop_x_79115 + ltid_y_79410;\n        bool binop_x_79511 = slt64(j_79501, q_70235);\n        bool binop_y_79512 = slt64(gtid_79503, m_70232);\n        bool cond_79513 = binop_x_79511 && binop_y_79512;\n        float pre_79514;\n        \n        if (cond_79513) {\n            float x_79515 = ((__global float *) mem_81355)[gtid_79503 *\n                                                           q_70235 + j_795",
                   "01];\n            \n            pre_79514 = x_79515;\n        } else {\n            pre_79514 = 0.0F;\n        }\n        ((__local float *) color_82378)[ltid_y_79410 * tile_sizze_79093 +\n                                        ltid_x_79408] = pre_79514;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t ltid_y_79446 = sext_i32_i64(sext_i64_i32(ltid_pre_82670));\n        int64_t ltid_x_79444 = sext_i32_i64(sext_i64_i32(ltid_pre_82671));\n        int32_t ltid_flat_79445 = local_tid_82666;\n        int64_t gtid_79520 = binop_x_79115 + ltid_y_79446;\n        int64_t gtid_79522 = binop_x_79117 + ltid_x_79444;\n        float acc_79528 = ext_mem_81384[(int64_t) 0];\n        bool binop_x_79532 = slt64(gtid_79520, m_70232);\n        bool binop_y_79533 = slt64(gtid_79522, n_m_70241);\n        bool cond_79534 = binop_x_79532 && binop_y_79533;\n        float acc_79535;\n        \n        if (cond_79534) {\n            int64_t last_res_79523 = color_82382[(int64_t) 0];\n            int64_t min_res_79524 = color_82381[(int64_t) 0];\n            int64_t max_res_79525 = color_82380[(int64_t) 0];\n            float defunc_1_f_res_79526 = color_82379[(int64_t) 0];\n            float x_79536;\n            float redout_81059 = acc_79528;\n            \n            for (int64_t i_81060 = 0; i_81060 < residual_input_79406;\n                 i_81060++) {\n                int64_t index_primexp_81178 = add64(binop_x_79500, i_81060);\n                float x_79541 = ((__local float *) color_82378)[ltid_y_79446 *\n                                                                tile_sizze_79093 +\n                                                                i_81060];\n                bool cond_79542 = sle64(last_res_79523, index_primexp_81178);\n                int64_t defunc_0_f_res_79543;\n                \n                if (cond_79542) {\n                    defunc_0_f_res_79543 = (int64_t) 0;\n                } else {\n                    int64_t i_79544 = add64(max_res_79525, index_primexp_81178);\n         ",
                   "           int64_t defunc_0_add_arg_79545 = ((__global\n                                                       int64_t *) mem_81331)[gtid_79520 *\n                                                                             n_70233 +\n                                                                             i_79544];\n                    int64_t defunc_1_add_res_79546 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_79545);\n                    \n                    defunc_0_f_res_79543 = defunc_1_add_res_79546;\n                }\n                \n                int64_t binop_p_79547 = sub64(defunc_0_f_res_79543,\n                                              min_res_79524);\n                float defunc_0_f_res_79548 = sitofp_i64_f32(binop_p_79547);\n                float abs_res_79549 = (float) fabs(defunc_0_f_res_79548);\n                float tmp1_79550 = abs_res_79549 / defunc_1_f_res_79526;\n                float x_79551 = tmp1_79550 * tmp1_79550;\n                float y_79552 = tmp1_79550 * x_79551;\n                float tmp2_79553 = 1.0F - y_79552;\n                float x_79554 = tmp2_79553 * tmp2_79553;\n                float tmp3_79555 = tmp2_79553 * x_79554;\n                float w_j_79556 = x_79541 * tmp3_79555;\n                float defunc_1_op_res_79539 = w_j_79556 + redout_81059;\n                float redout_tmp_82691 = defunc_1_op_res_79539;\n                \n                redout_81059 = redout_tmp_82691;\n            }\n            x_79536 = redout_81059;\n            acc_79535 = x_79536;\n        } else {\n            acc_79535 = acc_79528;\n        }\n        color_82377[(int64_t) 0] = acc_79535;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        color_82376[(int64_t) 0] = color_82377[(int64_t) 0];\n    }\n    \n    int64_t ltid_y_79560 = sext_i32_i64(sext_i64_i32(ltid_pre_82670));\n    int64_t ltid_x_79558 = sext_i32_i64(sext_i64_i32(ltid_pre_82671));\n    int32_t ltid_flat_79559 = local_tid_82666;\n    \n    if (slt64(ltid_y",
                   "_79560, tile_sizze_79093) && slt64(ltid_x_79558,\n                                                       tile_sizze_79093)) {\n        int64_t gtid_79569 = binop_x_79115 + ltid_y_79560;\n        int64_t gtid_79571 = binop_x_79117 + ltid_x_79558;\n        bool binop_x_79573 = slt64(gtid_79569, m_70232);\n        bool binop_y_79574 = slt64(gtid_79571, n_m_70241);\n        bool cond_79575 = binop_x_79573 && binop_y_79574;\n        float postlude_79576;\n        \n        if (cond_79575) {\n            float defunc_2_reduce_res_79572 = color_82376[(int64_t) 0];\n            int64_t last_res_79577 = color_82382[(int64_t) 0];\n            int64_t min_res_79578 = color_82381[(int64_t) 0];\n            int64_t max_res_79579 = color_82380[(int64_t) 0];\n            float defunc_1_f_res_79580 = color_82379[(int64_t) 0];\n            float a0_79582 = 1.0F / defunc_2_reduce_res_79572;\n            float defunc_2_reduce_res_79583;\n            float redout_81061 = 0.0F;\n            \n            for (int64_t i_81062 = 0; i_81062 < q_70235; i_81062++) {\n                float x_79588 = ((__global float *) mem_81355)[gtid_79569 *\n                                                               q_70235 +\n                                                               i_81062];\n                bool cond_79589 = sle64(last_res_79577, i_81062);\n                int64_t defunc_0_f_res_79590;\n                \n                if (cond_79589) {\n                    defunc_0_f_res_79590 = (int64_t) 0;\n                } else {\n                    int64_t i_79591 = add64(max_res_79579, i_81062);\n                    int64_t defunc_0_add_arg_79592 = ((__global\n                                                       int64_t *) mem_81331)[gtid_79569 *\n                                                                             n_70233 +\n                                                                             i_79591];\n                    int64_t defunc_1_add_res_79593 = add64((int64_t) 1,\n                           ",
                   "                                defunc_0_add_arg_79592);\n                    \n                    defunc_0_f_res_79590 = defunc_1_add_res_79593;\n                }\n                \n                int64_t binop_p_79594 = sub64(defunc_0_f_res_79590,\n                                              min_res_79578);\n                float defunc_0_f_res_79595 = sitofp_i64_f32(binop_p_79594);\n                float abs_res_79596 = (float) fabs(defunc_0_f_res_79595);\n                float tmp1_79597 = abs_res_79596 / defunc_1_f_res_79580;\n                float x_79598 = tmp1_79597 * tmp1_79597;\n                float y_79599 = tmp1_79597 * x_79598;\n                float tmp2_79600 = 1.0F - y_79599;\n                float x_79601 = tmp2_79600 * tmp2_79600;\n                float tmp3_79602 = tmp2_79600 * x_79601;\n                float tmp4_79603 = x_79588 * tmp3_79602;\n                float defunc_0_f_res_79604;\n                \n                if (cond_79589) {\n                    defunc_0_f_res_79604 = 0.0F;\n                } else {\n                    int64_t i_79605 = add64(max_res_79579, i_81062);\n                    float defunc_0_add_arg_79606 = ((__global\n                                                     float *) mem_81327)[gtid_79569 *\n                                                                         n_70233 +\n                                                                         i_79605];\n                    \n                    defunc_0_f_res_79604 = defunc_0_add_arg_79606;\n                }\n                \n                float x_79607 = a0_79582 * tmp4_79603;\n                float defunc_9_fit_fun_res_79608 = defunc_0_f_res_79604 *\n                      x_79607;\n                float defunc_1_op_res_79586 = defunc_9_fit_fun_res_79608 +\n                      redout_81061;\n                float redout_tmp_82692 = defunc_1_op_res_79586;\n                \n                redout_81061 = redout_tmp_82692;\n            }\n            defunc_2_reduce_res_79583 = redo",
                   "ut_81061;\n            postlude_79576 = defunc_2_reduce_res_79583;\n        } else {\n            postlude_79576 = 0.0F;\n        }\n        color_82377[(int64_t) 0] = postlude_79576;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t thread_out_index_82693 = gid_x_79090 * tile_sizze_79093 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_82670));\n    int64_t thread_out_index_82694 = gid_y_79091 * tile_sizze_79093 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_82671));\n    \n    if (slt64(thread_out_index_82693, m_70232) && slt64(thread_out_index_82694,\n                                                        n_m_70241)) {\n        ((__global float *) mem_81402)[thread_out_index_82693 * n_m_70241 +\n                                       thread_out_index_82694] =\n            color_82377[(int64_t) 0];\n    }\n    \n  error_7:\n    return;\n    #undef tile_sizze_79093\n}\n__kernel void mainzisegmap_intragroup_79619(__global int *global_failure,\n                                            int failure_is_an_option, __global\n                                            int64_t *global_failure_args,\n                                            __local volatile\n                                            int64_t *color_82400_backing_aligned_0,\n                                            int64_t m_70232, int64_t n_70233,\n                                            int64_t q_70235, int64_t jump_70237,\n                                            int64_t n_m_70241, int64_t i_70247,\n                                            unsigned char x_70248,\n                                            int64_t min_res_70253,\n                                            unsigned char loop_cond_70258,\n                                            int64_t num_groups_x_79616,\n                                            int64_t num_groups_y_79617,\n                                            int64_t num_whole_tiles_79746,\n                                            int64_t residual_input_79979,\n             ",
                   "                               unsigned char cond_79980, __global\n                                            unsigned char *mem_81557, __global\n                                            unsigned char *mem_81561, __global\n                                            unsigned char *mem_81565, __global\n                                            unsigned char *mem_81571, __global\n                                            unsigned char *mem_81575, __global\n                                            unsigned char *mem_81578, __global\n                                            unsigned char *mem_81581, __global\n                                            unsigned char *mem_81584, __global\n                                            unsigned char *mem_81589, __global\n                                            unsigned char *mem_81663, __global\n                                            unsigned char *mem_81667)\n{\n    #define tile_sizze_79614 (mainzitile_sizze_79613)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict color_82400_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) color_82400_backing_aligned_0;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_82994;\n    int32_t local_tid_82995;\n    int64_t group_sizze_82998;\n    int32_t wave_sizze_82997;\n    int32_t group_tid_82996;\n    \n    global_tid_82994 = get_global_id(0);\n    local_tid_82995 = get_local_id(0);\n    group_sizze_82998 = get_local_size(0);\n    wave_sizze_82997 = LOCKSTEP_WIDTH;\n    group_tid_82996 = get_group_id(0);\n    \n    int32_t gid_flat_79619 = group_tid_82996;\n    int64_t slice_83001 = tile_sizze_79614;\n    int64_t slice_83002 =",
                   " tile_sizze_79614 * slice_83001;\n    int64_t ltid_pre_82999 = squot64(sext_i32_i64(local_tid_82995),\n                                     slice_83001);\n    int64_t remnant_83003 = sext_i32_i64(local_tid_82995) - ltid_pre_82999 *\n            slice_83001;\n    int64_t ltid_pre_83000 = remnant_83003;\n    int64_t remnant_83004 = remnant_83003 - ltid_pre_83000;\n    int64_t slice_83005 = num_groups_y_79617;\n    int64_t slice_83006 = num_groups_x_79616 * slice_83005;\n    int64_t gid_x_79611 = squot64(sext_i32_i64(group_tid_82996), slice_83005);\n    int64_t remnant_83007 = sext_i32_i64(group_tid_82996) - gid_x_79611 *\n            slice_83005;\n    int64_t gid_y_79612 = remnant_83007;\n    int64_t remnant_83008 = remnant_83007 - gid_y_79612;\n    float color_82394[1];\n    float color_82395[1];\n    float color_82396[1];\n    float color_82397[1];\n    float color_82398[1];\n    float color_82399[1];\n    __local unsigned char *color_82400;\n    \n    color_82400 = (__local unsigned char *) color_82400_backing_0;\n    \n    float color_82401[1];\n    int64_t color_82402[1];\n    int64_t color_82403[1];\n    int64_t color_82404[1];\n    int64_t binop_x_79636 = gid_x_79611 * tile_sizze_79614;\n    int64_t binop_x_79638 = gid_y_79612 * tile_sizze_79614;\n    int64_t ltid_y_79622 = sext_i32_i64(sext_i64_i32(ltid_pre_82999));\n    int64_t ltid_x_79620 = sext_i32_i64(sext_i64_i32(ltid_pre_83000));\n    int32_t ltid_flat_79621 = local_tid_82995;\n    \n    if (slt64(ltid_y_79622, tile_sizze_79614) && slt64(ltid_x_79620,\n                                                       tile_sizze_79614)) {\n        int64_t gtid_79637 = ltid_y_79622 + binop_x_79636;\n        int64_t gtid_79639 = ltid_x_79620 + binop_x_79638;\n        bool binop_x_79640 = slt64(gtid_79637, m_70232);\n        bool binop_y_79641 = slt64(gtid_79639, n_m_70241);\n        bool cond_79642 = binop_x_79640 && binop_y_79641;\n        int64_t pre_79643;\n        int64_t pre_79644;\n        int64_t pre_79645;\n        float pre_79646;\n        \n        if ",
                   "(cond_79642) {\n            int64_t last_res_79647 = ((__global\n                                       int64_t *) mem_81557)[gtid_79637 *\n                                                             n_70233 + i_70247];\n            int64_t min_arg_79648 = ((__global\n                                      int64_t *) mem_81575)[gtid_79637];\n            int64_t min_arg_79649 = ((__global\n                                      int64_t *) mem_81578)[gtid_79637];\n            int64_t min_res_79650 = ((__global\n                                      int64_t *) mem_81581)[gtid_79637];\n            float max_res_79651 = ((__global float *) mem_81584)[gtid_79637];\n            int64_t min_arg_79652 = mul64(jump_70237, gtid_79639);\n            int64_t min_res_79653 = smin64(i_70247, min_arg_79652);\n            int64_t defunc_0_g_res_79654 = add64((int64_t) 1, min_res_79653);\n            bool init_idx_79655;\n            int64_t init_idx_79656;\n            int64_t init_idx_79657;\n            bool loop_while_79658;\n            int64_t low_79659;\n            int64_t high_79660;\n            \n            loop_while_79658 = x_70248;\n            low_79659 = (int64_t) 0;\n            high_79660 = i_70247;\n            while (loop_while_79658) {\n                int64_t x_79661 = add64(low_79659, high_79660);\n                int64_t mid_79662 = sdiv64(x_79661, (int64_t) 2);\n                bool x_79663 = sle64((int64_t) 0, mid_79662);\n                bool y_79664 = slt64(mid_79662, n_70233);\n                bool bounds_check_79665 = x_79663 && y_79664;\n                bool index_certs_79666;\n                \n                if (!bounds_check_79665) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 20) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) mid_79662;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n              ",
                   "          local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t mid_id_79667 = ((__global\n                                         int64_t *) mem_81571)[gtid_79637 *\n                                                               n_70233 +\n                                                               mid_79662];\n                bool cond_79668 = slt64(mid_id_79667, (int64_t) 0);\n                int64_t mid_idx_79669;\n                \n                if (cond_79668) {\n                    mid_idx_79669 = (int64_t) 9223372036854775807;\n                } else {\n                    mid_idx_79669 = mid_id_79667;\n                }\n                \n                bool cond_79670 = sle64(defunc_0_g_res_79654, mid_idx_79669);\n                int64_t loopres_79671;\n                int64_t loopres_79672;\n                \n                if (cond_79670) {\n                    int64_t loopres_t_res_79673 = sub64(mid_79662, (int64_t) 1);\n                    \n                    loopres_79671 = low_79659;\n                    loopres_79672 = loopres_t_res_79673;\n                } else {\n                    int64_t loopres_f_res_79674 = add64((int64_t) 1, mid_79662);\n                    \n                    loopres_79671 = loopres_f_res_79674;\n                    loopres_79672 = high_79660;\n                }\n                \n                bool loop_cond_79675 = sle64(loopres_79671, loopres_79672);\n                bool loop_while_tmp_83009 = loop_cond_79675;\n                int64_t low_tmp_83010 = loopres_79671;\n                int64_t high_tmp_83011 = loopres_79672;\n                \n                loop_while_79658 = loop_while_tmp_83009;\n                low_79659 = low_tmp_83010;\n                high_79660 = high_tmp_83011;\n            }\n            init_idx_79655 = loop_while_79658;\n            init_idx_79656 = low_79659;\n            init_idx_79657 = high_79660;\n            \n            bool id",
                   "x_79676;\n            int64_t idx_79677;\n            int64_t idx_79678;\n            int64_t idx_79679;\n            bool loop_while_79680;\n            int64_t l_idx_79681;\n            int64_t r_idx_79682;\n            int64_t span_79683;\n            \n            loop_while_79680 = loop_cond_70258;\n            l_idx_79681 = init_idx_79656;\n            r_idx_79682 = init_idx_79656;\n            span_79683 = (int64_t) 1;\n            while (loop_while_79680) {\n                int64_t max_arg_79684 = sub64(l_idx_79681, (int64_t) 1);\n                int64_t max_res_79685 = smax64((int64_t) 0, max_arg_79684);\n                int64_t min_arg_79686 = add64((int64_t) 1, r_idx_79682);\n                int64_t min_res_79687 = smin64(min_arg_79648, min_arg_79686);\n                bool x_79688 = sle64((int64_t) 0, max_res_79685);\n                bool y_79689 = slt64(max_res_79685, n_70233);\n                bool bounds_check_79690 = x_79688 && y_79689;\n                bool index_certs_79691;\n                \n                if (!bounds_check_79690) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 21) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) max_res_79685;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_79692 = ((__global int64_t *) mem_81571)[gtid_79637 *\n                                                                   n_70233 +\n                                                                   max_res_79685];\n                int64_t abs_arg_79693 = sub64(x_79692, defunc_0_g_res_79654);\n                int64_t abs_res_79694 = abs64(abs_arg_79693);\n                bool x_79695 = sle64((int64_t) 0, min_res_79687);\n                bool y_",
                   "79696 = slt64(min_res_79687, n_70233);\n                bool bounds_check_79697 = x_79695 && y_79696;\n                bool index_certs_79698;\n                \n                if (!bounds_check_79697) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 22) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) min_res_79687;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_79699 = ((__global int64_t *) mem_81571)[gtid_79637 *\n                                                                   n_70233 +\n                                                                   min_res_79687];\n                int64_t abs_arg_79700 = sub64(x_79699, defunc_0_g_res_79654);\n                int64_t abs_res_79701 = abs64(abs_arg_79700);\n                bool cond_79702 = max_res_79685 == l_idx_79681;\n                int64_t loopres_79703;\n                int64_t loopres_79704;\n                int64_t loopres_79705;\n                \n                if (cond_79702) {\n                    loopres_79703 = l_idx_79681;\n                    loopres_79704 = r_idx_79682;\n                    loopres_79705 = min_res_70253;\n                } else {\n                    bool cond_79706 = slt64(abs_res_79694, abs_res_79701);\n                    bool cond_f_res_79707 = min_res_79687 == r_idx_79682;\n                    bool x_79708 = !cond_79706;\n                    bool y_79709 = cond_f_res_79707 && x_79708;\n                    bool cond_79710 = cond_79706 || y_79709;\n                    int64_t loopres_f_res_79711;\n                    \n                    if (cond_79710) {\n                        loopres_f_res_79711 = max_res_79685;\n                    } else {\n         ",
                   "               loopres_f_res_79711 = l_idx_79681;\n                    }\n                    \n                    int64_t loopres_f_res_79712;\n                    \n                    if (cond_79710) {\n                        loopres_f_res_79712 = r_idx_79682;\n                    } else {\n                        loopres_f_res_79712 = min_res_79687;\n                    }\n                    \n                    int64_t loopres_f_res_79713;\n                    \n                    if (cond_79710) {\n                        int64_t loopres_f_res_t_res_79714 = add64((int64_t) 1,\n                                                                  span_79683);\n                        \n                        loopres_f_res_79713 = loopres_f_res_t_res_79714;\n                    } else {\n                        int64_t loopres_f_res_f_res_79715 = add64((int64_t) 1,\n                                                                  span_79683);\n                        \n                        loopres_f_res_79713 = loopres_f_res_f_res_79715;\n                    }\n                    loopres_79703 = loopres_f_res_79711;\n                    loopres_79704 = loopres_f_res_79712;\n                    loopres_79705 = loopres_f_res_79713;\n                }\n                \n                bool loop_cond_79716 = slt64(loopres_79705, min_res_70253);\n                bool loop_while_tmp_83012 = loop_cond_79716;\n                int64_t l_idx_tmp_83013 = loopres_79703;\n                int64_t r_idx_tmp_83014 = loopres_79704;\n                int64_t span_tmp_83015 = loopres_79705;\n                \n                loop_while_79680 = loop_while_tmp_83012;\n                l_idx_79681 = l_idx_tmp_83013;\n                r_idx_79682 = r_idx_tmp_83014;\n                span_79683 = span_tmp_83015;\n            }\n            idx_79676 = loop_while_79680;\n            idx_79677 = l_idx_79681;\n            idx_79678 = r_idx_79682;\n            idx_79679 = span_79683;\n            \n            int64_t min_res_797",
                   "17 = smin64(min_arg_79649, idx_79677);\n            int64_t max_res_79718 = smax64((int64_t) 0, min_res_79717);\n            int64_t x_79719 = add64(min_res_79650, max_res_79718);\n            int64_t r_79720 = sub64(x_79719, (int64_t) 1);\n            bool x_79721 = sle64((int64_t) 0, r_79720);\n            bool y_79722 = slt64(r_79720, n_70233);\n            bool bounds_check_79723 = x_79721 && y_79722;\n            bool index_certs_79724;\n            \n            if (!bounds_check_79723) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 23) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) r_79720;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    local_failure = true;\n                    goto error_0;\n                }\n            }\n            \n            int64_t x_79725 = ((__global int64_t *) mem_81565)[gtid_79637 *\n                                                               n_70233 +\n                                                               r_79720];\n            int64_t abs_arg_79726 = sub64(x_79725, min_res_79653);\n            int64_t abs_res_79727 = abs64(abs_arg_79726);\n            bool x_79728 = sle64((int64_t) 0, max_res_79718);\n            bool y_79729 = slt64(max_res_79718, n_70233);\n            bool bounds_check_79730 = x_79728 && y_79729;\n            bool index_certs_79731;\n            \n            if (!bounds_check_79730) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 24) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) max_res_79718;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    local_failure = true;\n                    goto error_0;\n                }\n            }\n            \n            int64_t x_79732 = ",
                   "((__global int64_t *) mem_81565)[gtid_79637 *\n                                                               n_70233 +\n                                                               max_res_79718];\n            int64_t abs_arg_79733 = sub64(x_79732, min_res_79653);\n            int64_t abs_res_79734 = abs64(abs_arg_79733);\n            int64_t max_res_79735 = smax64(abs_res_79727, abs_res_79734);\n            float defunc_0_f_res_79736 = sitofp_i64_f32(max_res_79735);\n            float defunc_1_f_res_79737 = max_res_79651 + defunc_0_f_res_79736;\n            \n            pre_79643 = last_res_79647;\n            pre_79644 = min_res_79653;\n            pre_79645 = max_res_79718;\n            pre_79646 = defunc_1_f_res_79737;\n        } else {\n            pre_79643 = (int64_t) 0;\n            pre_79644 = (int64_t) 0;\n            pre_79645 = (int64_t) 0;\n            pre_79646 = 0.0F;\n        }\n        color_82404[(int64_t) 0] = pre_79643;\n        color_82403[(int64_t) 0] = pre_79644;\n        color_82402[(int64_t) 0] = pre_79645;\n        color_82401[(int64_t) 0] = pre_79646;\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t ltid_y_79749 = sext_i32_i64(sext_i64_i32(ltid_pre_82999));\n    int64_t ltid_x_79747 = sext_i32_i64(sext_i64_i32(ltid_pre_83000));\n    int32_t ltid_flat_79748 = local_tid_82995;\n    \n    if (slt64(ltid_y_79749, tile_sizze_79614) && slt64(ltid_x_79747,\n                                                       tile_sizze_79614)) {\n        color_82395[(int64_t) 0] = 0.0F;\n        color_82394[(int64_t) 0] = 0.0F;\n        color_82397[(int64_t) 0] = 0.0F;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    color_82396[(int64_t) 0] = color_82395[(int64_t) 0];\n    color_82395[(int64_t) 0] = color_82394[(int64_t) 0];\n    color_82394[(int64_t) 0] = color_82397[(int64_t) 0];\n    \n    float ext_mem_81634[1];\n    float ext_mem_unused_82325[1];\n    float ext_mem_81633[1];\n    float ext_mem_un",
                   "used_82330[1];\n    float ext_mem_81632[1];\n    float ext_mem_unused_82335[1];\n    float mem_param_81614[1];\n    float mem_param_81615[1];\n    float mem_param_81616[1];\n    float mem_param_out_82326[1];\n    float mem_param_out_82331[1];\n    float mem_param_out_82336[1];\n    \n    for (int32_t i_1 = 0; i_1 < 1; i_1++)\n        mem_param_81614[i_1] = color_82396[i_1];\n    for (int32_t i_2 = 0; i_2 < 1; i_2++)\n        mem_param_out_82326[i_2] = color_82399[i_2];\n    for (int32_t i_3 = 0; i_3 < 1; i_3++)\n        mem_param_81615[i_3] = color_82395[i_3];\n    for (int32_t i_4 = 0; i_4 < 1; i_4++)\n        mem_param_out_82331[i_4] = color_82398[i_4];\n    for (int32_t i_5 = 0; i_5 < 1; i_5++)\n        mem_param_81616[i_5] = color_82394[i_5];\n    for (int32_t i_6 = 0; i_6 < 1; i_6++)\n        mem_param_out_82336[i_6] = color_82397[i_6];\n    for (int64_t tile_id_79762 = 0; tile_id_79762 < num_whole_tiles_79746;\n         tile_id_79762++) {\n        int64_t binop_x_79876 = tile_sizze_79614 * tile_id_79762;\n        int64_t ltid_y_79765 = sext_i32_i64(sext_i64_i32(ltid_pre_82999));\n        int64_t ltid_x_79763 = sext_i32_i64(sext_i64_i32(ltid_pre_83000));\n        int32_t ltid_flat_79764 = local_tid_82995;\n        int64_t j_79877 = ltid_x_79763 + binop_x_79876;\n        int64_t gtid_79879 = binop_x_79636 + ltid_y_79765;\n        bool binop_x_79887 = slt64(j_79877, q_70235);\n        bool binop_y_79888 = slt64(gtid_79879, m_70232);\n        bool cond_79889 = binop_x_79887 && binop_y_79888;\n        float pre_79890;\n        \n        if (cond_79889) {\n            float x_79891 = ((__global float *) mem_81589)[gtid_79879 *\n                                                           q_70235 + j_79877];\n            \n            pre_79890 = x_79891;\n        } else {\n            pre_79890 = 0.0F;\n        }\n        ((__local float *) color_82400)[ltid_y_79765 * tile_sizze_79614 +\n                                        ltid_x_79763] = pre_79890;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int",
                   "64_t ltid_y_79800 = sext_i32_i64(sext_i64_i32(ltid_pre_82999));\n        int64_t ltid_x_79798 = sext_i32_i64(sext_i64_i32(ltid_pre_83000));\n        int32_t ltid_flat_79799 = local_tid_82995;\n        int64_t gtid_79897 = binop_x_79636 + ltid_y_79800;\n        int64_t gtid_79899 = binop_x_79638 + ltid_x_79798;\n        float acc_79905 = mem_param_81614[(int64_t) 0];\n        float acc_79906 = mem_param_81615[(int64_t) 0];\n        float acc_79907 = mem_param_81616[(int64_t) 0];\n        bool binop_x_79911 = slt64(gtid_79897, m_70232);\n        bool binop_y_79912 = slt64(gtid_79899, n_m_70241);\n        bool cond_79913 = binop_x_79911 && binop_y_79912;\n        float acc_79914;\n        float acc_79915;\n        float acc_79916;\n        \n        if (cond_79913) {\n            int64_t last_res_79900 = color_82404[(int64_t) 0];\n            int64_t min_res_79901 = color_82403[(int64_t) 0];\n            int64_t max_res_79902 = color_82402[(int64_t) 0];\n            float defunc_1_f_res_79903 = color_82401[(int64_t) 0];\n            float x_79917;\n            float x_79918;\n            float x_79919;\n            float redout_81099;\n            float redout_81100;\n            float redout_81101;\n            \n            redout_81099 = acc_79905;\n            redout_81100 = acc_79906;\n            redout_81101 = acc_79907;\n            for (int64_t i_81102 = 0; i_81102 < tile_sizze_79614; i_81102++) {\n                int64_t index_primexp_81194 = add64(binop_x_79876, i_81102);\n                float x_79930 = ((__local float *) color_82400)[ltid_y_79800 *\n                                                                tile_sizze_79614 +\n                                                                i_81102];\n                bool cond_79931 = sle64(last_res_79900, index_primexp_81194);\n                int64_t defunc_0_f_res_79932;\n                \n                if (cond_79931) {\n                    defunc_0_f_res_79932 = (int64_t) 0;\n                } else {\n                    int64_t i_7993",
                   "3 = add64(max_res_79902, index_primexp_81194);\n                    int64_t defunc_0_add_arg_79934 = ((__global\n                                                       int64_t *) mem_81565)[gtid_79897 *\n                                                                             n_70233 +\n                                                                             i_79933];\n                    int64_t defunc_1_add_res_79935 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_79934);\n                    \n                    defunc_0_f_res_79932 = defunc_1_add_res_79935;\n                }\n                \n                int64_t binop_p_79936 = sub64(defunc_0_f_res_79932,\n                                              min_res_79901);\n                float defunc_0_f_res_79937 = sitofp_i64_f32(binop_p_79936);\n                float abs_res_79938 = (float) fabs(defunc_0_f_res_79937);\n                float tmp1_79939 = abs_res_79938 / defunc_1_f_res_79903;\n                float x_79940 = tmp1_79939 * tmp1_79939;\n                float y_79941 = tmp1_79939 * x_79940;\n                float tmp2_79942 = 1.0F - y_79941;\n                float x_79943 = tmp2_79942 * tmp2_79942;\n                float tmp3_79944 = tmp2_79942 * x_79943;\n                float w_j_79945 = x_79930 * tmp3_79944;\n                float xw_j_79946 = defunc_0_f_res_79937 * w_j_79945;\n                float x2w_j_79947 = defunc_0_f_res_79937 * xw_j_79946;\n                float defunc_1_op_res_79926 = w_j_79945 + redout_81099;\n                float defunc_1_op_res_79927 = xw_j_79946 + redout_81100;\n                float defunc_1_op_res_79928 = x2w_j_79947 + redout_81101;\n                float redout_tmp_83025 = defunc_1_op_res_79926;\n                float redout_tmp_83026 = defunc_1_op_res_79927;\n                float redout_tmp_83027 = defunc_1_op_res_79928;\n                \n                redout_81099 = redout_tmp_83025;\n                redout_81100 = redout_tmp_83",
                   "026;\n                redout_81101 = redout_tmp_83027;\n            }\n            x_79917 = redout_81099;\n            x_79918 = redout_81100;\n            x_79919 = redout_81101;\n            acc_79914 = x_79917;\n            acc_79915 = x_79918;\n            acc_79916 = x_79919;\n        } else {\n            acc_79914 = acc_79905;\n            acc_79915 = acc_79906;\n            acc_79916 = acc_79907;\n        }\n        mem_param_out_82326[(int64_t) 0] = acc_79914;\n        mem_param_out_82331[(int64_t) 0] = acc_79915;\n        mem_param_out_82336[(int64_t) 0] = acc_79916;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        float mem_param_tmp_83016[1];\n        \n        for (int32_t i_7 = 0; i_7 < 1; i_7++)\n            mem_param_tmp_83016[i_7] = mem_param_out_82326[i_7];\n        \n        float mem_param_out_tmp_83017[1];\n        \n        for (int32_t i_8 = 0; i_8 < 1; i_8++)\n            mem_param_out_tmp_83017[i_8] = mem_param_81614[i_8];\n        \n        float mem_param_tmp_83018[1];\n        \n        for (int32_t i_9 = 0; i_9 < 1; i_9++)\n            mem_param_tmp_83018[i_9] = mem_param_out_82331[i_9];\n        \n        float mem_param_out_tmp_83019[1];\n        \n        for (int32_t i_10 = 0; i_10 < 1; i_10++)\n            mem_param_out_tmp_83019[i_10] = mem_param_81615[i_10];\n        \n        float mem_param_tmp_83020[1];\n        \n        for (int32_t i_11 = 0; i_11 < 1; i_11++)\n            mem_param_tmp_83020[i_11] = mem_param_out_82336[i_11];\n        \n        float mem_param_out_tmp_83021[1];\n        \n        for (int32_t i_12 = 0; i_12 < 1; i_12++)\n            mem_param_out_tmp_83021[i_12] = mem_param_81616[i_12];\n        for (int32_t i_13 = 0; i_13 < 1; i_13++)\n            mem_param_81614[i_13] = mem_param_tmp_83016[i_13];\n        for (int32_t i_14 = 0; i_14 < 1; i_14++)\n            mem_param_out_82326[i_14] = mem_param_out_tmp_83017[i_14];\n        for (int32_t i_15 = 0; i_15 < 1; i_15++)\n            mem_param_81615[i_15] = mem_param_tmp_83018[i_15];\n        for (int32_t",
                   " i_16 = 0; i_16 < 1; i_16++)\n            mem_param_out_82331[i_16] = mem_param_out_tmp_83019[i_16];\n        for (int32_t i_17 = 0; i_17 < 1; i_17++)\n            mem_param_81616[i_17] = mem_param_tmp_83020[i_17];\n        for (int32_t i_18 = 0; i_18 < 1; i_18++)\n            mem_param_out_82336[i_18] = mem_param_out_tmp_83021[i_18];\n    }\n    for (int32_t i_19 = 0; i_19 < 1; i_19++)\n        ext_mem_81634[i_19] = mem_param_81614[i_19];\n    for (int32_t i_20 = 0; i_20 < 1; i_20++)\n        ext_mem_unused_82325[i_20] = mem_param_out_82326[i_20];\n    for (int32_t i_21 = 0; i_21 < 1; i_21++)\n        ext_mem_81633[i_21] = mem_param_81615[i_21];\n    for (int32_t i_22 = 0; i_22 < 1; i_22++)\n        ext_mem_unused_82330[i_22] = mem_param_out_82331[i_22];\n    for (int32_t i_23 = 0; i_23 < 1; i_23++)\n        ext_mem_81632[i_23] = mem_param_81616[i_23];\n    for (int32_t i_24 = 0; i_24 < 1; i_24++)\n        ext_mem_unused_82335[i_24] = mem_param_out_82336[i_24];\n    if (cond_79980) {\n        color_82394[(int64_t) 0] = ext_mem_81634[(int64_t) 0];\n        color_82395[(int64_t) 0] = ext_mem_81633[(int64_t) 0];\n        color_82396[(int64_t) 0] = ext_mem_81632[(int64_t) 0];\n    } else {\n        int64_t binop_x_80095 = tile_sizze_79614 * num_whole_tiles_79746;\n        int64_t ltid_y_79983 = sext_i32_i64(sext_i64_i32(ltid_pre_82999));\n        int64_t ltid_x_79981 = sext_i32_i64(sext_i64_i32(ltid_pre_83000));\n        int32_t ltid_flat_79982 = local_tid_82995;\n        int64_t j_80096 = ltid_x_79981 + binop_x_80095;\n        int64_t gtid_80098 = binop_x_79636 + ltid_y_79983;\n        bool binop_x_80106 = slt64(j_80096, q_70235);\n        bool binop_y_80107 = slt64(gtid_80098, m_70232);\n        bool cond_80108 = binop_x_80106 && binop_y_80107;\n        float pre_80109;\n        \n        if (cond_80108) {\n            float x_80110 = ((__global float *) mem_81589)[gtid_80098 *\n                                                           q_70235 + j_80096];\n            \n            pre_80109 = x_80110;\n ",
                   "       } else {\n            pre_80109 = 0.0F;\n        }\n        ((__local float *) color_82400)[ltid_y_79983 * tile_sizze_79614 +\n                                        ltid_x_79981] = pre_80109;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t ltid_y_80019 = sext_i32_i64(sext_i64_i32(ltid_pre_82999));\n        int64_t ltid_x_80017 = sext_i32_i64(sext_i64_i32(ltid_pre_83000));\n        int32_t ltid_flat_80018 = local_tid_82995;\n        int64_t gtid_80117 = binop_x_79636 + ltid_y_80019;\n        int64_t gtid_80119 = binop_x_79638 + ltid_x_80017;\n        float acc_80125 = ext_mem_81634[(int64_t) 0];\n        float acc_80126 = ext_mem_81633[(int64_t) 0];\n        float acc_80127 = ext_mem_81632[(int64_t) 0];\n        bool binop_x_80131 = slt64(gtid_80117, m_70232);\n        bool binop_y_80132 = slt64(gtid_80119, n_m_70241);\n        bool cond_80133 = binop_x_80131 && binop_y_80132;\n        float acc_80134;\n        float acc_80135;\n        float acc_80136;\n        \n        if (cond_80133) {\n            int64_t last_res_80120 = color_82404[(int64_t) 0];\n            int64_t min_res_80121 = color_82403[(int64_t) 0];\n            int64_t max_res_80122 = color_82402[(int64_t) 0];\n            float defunc_1_f_res_80123 = color_82401[(int64_t) 0];\n            float x_80137;\n            float x_80138;\n            float x_80139;\n            float redout_81103;\n            float redout_81104;\n            float redout_81105;\n            \n            redout_81103 = acc_80125;\n            redout_81104 = acc_80126;\n            redout_81105 = acc_80127;\n            for (int64_t i_81106 = 0; i_81106 < residual_input_79979;\n                 i_81106++) {\n                int64_t index_primexp_81196 = add64(binop_x_80095, i_81106);\n                float x_80150 = ((__local float *) color_82400)[ltid_y_80019 *\n                                                                tile_sizze_79614 +\n                                                                i_81106];\n                bool",
                   " cond_80151 = sle64(last_res_80120, index_primexp_81196);\n                int64_t defunc_0_f_res_80152;\n                \n                if (cond_80151) {\n                    defunc_0_f_res_80152 = (int64_t) 0;\n                } else {\n                    int64_t i_80153 = add64(max_res_80122, index_primexp_81196);\n                    int64_t defunc_0_add_arg_80154 = ((__global\n                                                       int64_t *) mem_81565)[gtid_80117 *\n                                                                             n_70233 +\n                                                                             i_80153];\n                    int64_t defunc_1_add_res_80155 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_80154);\n                    \n                    defunc_0_f_res_80152 = defunc_1_add_res_80155;\n                }\n                \n                int64_t binop_p_80156 = sub64(defunc_0_f_res_80152,\n                                              min_res_80121);\n                float defunc_0_f_res_80157 = sitofp_i64_f32(binop_p_80156);\n                float abs_res_80158 = (float) fabs(defunc_0_f_res_80157);\n                float tmp1_80159 = abs_res_80158 / defunc_1_f_res_80123;\n                float x_80160 = tmp1_80159 * tmp1_80159;\n                float y_80161 = tmp1_80159 * x_80160;\n                float tmp2_80162 = 1.0F - y_80161;\n                float x_80163 = tmp2_80162 * tmp2_80162;\n                float tmp3_80164 = tmp2_80162 * x_80163;\n                float w_j_80165 = x_80150 * tmp3_80164;\n                float xw_j_80166 = defunc_0_f_res_80157 * w_j_80165;\n                float x2w_j_80167 = defunc_0_f_res_80157 * xw_j_80166;\n                float defunc_1_op_res_80146 = w_j_80165 + redout_81103;\n                float defunc_1_op_res_80147 = xw_j_80166 + redout_81104;\n                float defunc_1_op_res_80148 = x2w_j_80167 + redout_81105;\n                float redout_tmp",
                   "_83028 = defunc_1_op_res_80146;\n                float redout_tmp_83029 = defunc_1_op_res_80147;\n                float redout_tmp_83030 = defunc_1_op_res_80148;\n                \n                redout_81103 = redout_tmp_83028;\n                redout_81104 = redout_tmp_83029;\n                redout_81105 = redout_tmp_83030;\n            }\n            x_80137 = redout_81103;\n            x_80138 = redout_81104;\n            x_80139 = redout_81105;\n            acc_80134 = x_80137;\n            acc_80135 = x_80138;\n            acc_80136 = x_80139;\n        } else {\n            acc_80134 = acc_80125;\n            acc_80135 = acc_80126;\n            acc_80136 = acc_80127;\n        }\n        color_82399[(int64_t) 0] = acc_80134;\n        color_82398[(int64_t) 0] = acc_80135;\n        color_82397[(int64_t) 0] = acc_80136;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        color_82394[(int64_t) 0] = color_82399[(int64_t) 0];\n        color_82395[(int64_t) 0] = color_82398[(int64_t) 0];\n        color_82396[(int64_t) 0] = color_82397[(int64_t) 0];\n    }\n    \n    int64_t ltid_y_80173 = sext_i32_i64(sext_i64_i32(ltid_pre_82999));\n    int64_t ltid_x_80171 = sext_i32_i64(sext_i64_i32(ltid_pre_83000));\n    int32_t ltid_flat_80172 = local_tid_82995;\n    \n    if (slt64(ltid_y_80173, tile_sizze_79614) && slt64(ltid_x_80171,\n                                                       tile_sizze_79614)) {\n        int64_t gtid_80184 = binop_x_79636 + ltid_y_80173;\n        int64_t gtid_80186 = binop_x_79638 + ltid_x_80171;\n        bool binop_x_80190 = slt64(gtid_80184, m_70232);\n        bool binop_y_80191 = slt64(gtid_80186, n_m_70241);\n        bool cond_80192 = binop_x_80190 && binop_y_80191;\n        float postlude_80193;\n        float postlude_80194;\n        \n        if (cond_80192) {\n            float defunc_2_reduce_res_80187 = color_82394[(int64_t) 0];\n            float defunc_2_reduce_res_80188 = color_82395[(int64_t) 0];\n            float defunc_2_reduce_res_80189 = color_82396[(int64_t) 0];\n           ",
                   " int64_t last_res_80195 = color_82404[(int64_t) 0];\n            int64_t min_res_80196 = color_82403[(int64_t) 0];\n            int64_t max_res_80197 = color_82402[(int64_t) 0];\n            float defunc_1_f_res_80198 = color_82401[(int64_t) 0];\n            float x_80200 = defunc_2_reduce_res_80187 *\n                  defunc_2_reduce_res_80189;\n            float y_80201 = defunc_2_reduce_res_80188 *\n                  defunc_2_reduce_res_80188;\n            float y_80202 = x_80200 - y_80201;\n            float det1_80203 = 1.0F / y_80202;\n            float a11_80204 = defunc_2_reduce_res_80189 * det1_80203;\n            float x_80205 = 0.0F - defunc_2_reduce_res_80188;\n            float b11_80206 = det1_80203 * x_80205;\n            float c11_80207 = defunc_2_reduce_res_80187 * det1_80203;\n            float defunc_2_reduce_res_80208;\n            float defunc_2_reduce_res_80209;\n            float redout_81107;\n            float redout_81108;\n            \n            redout_81107 = 0.0F;\n            redout_81108 = 0.0F;\n            for (int64_t i_81109 = 0; i_81109 < q_70235; i_81109++) {\n                float x_80217 = ((__global float *) mem_81589)[gtid_80184 *\n                                                               q_70235 +\n                                                               i_81109];\n                bool cond_80218 = sle64(last_res_80195, i_81109);\n                int64_t defunc_0_f_res_80219;\n                \n                if (cond_80218) {\n                    defunc_0_f_res_80219 = (int64_t) 0;\n                } else {\n                    int64_t i_80220 = add64(max_res_80197, i_81109);\n                    int64_t defunc_0_add_arg_80221 = ((__global\n                                                       int64_t *) mem_81565)[gtid_80184 *\n                                                                             n_70233 +\n                                                                             i_80220];\n                    int64_t defunc_1_add_",
                   "res_80222 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_80221);\n                    \n                    defunc_0_f_res_80219 = defunc_1_add_res_80222;\n                }\n                \n                int64_t binop_p_80223 = sub64(defunc_0_f_res_80219,\n                                              min_res_80196);\n                float defunc_0_f_res_80224 = sitofp_i64_f32(binop_p_80223);\n                float abs_res_80225 = (float) fabs(defunc_0_f_res_80224);\n                float tmp1_80226 = abs_res_80225 / defunc_1_f_res_80198;\n                float x_80227 = tmp1_80226 * tmp1_80226;\n                float y_80228 = tmp1_80226 * x_80227;\n                float tmp2_80229 = 1.0F - y_80228;\n                float x_80230 = tmp2_80229 * tmp2_80229;\n                float tmp3_80231 = tmp2_80229 * x_80230;\n                float tmp4_80232 = x_80217 * tmp3_80231;\n                float defunc_1_f_res_80233 = defunc_0_f_res_80224 * tmp4_80232;\n                float defunc_0_f_res_80234;\n                \n                if (cond_80218) {\n                    defunc_0_f_res_80234 = 0.0F;\n                } else {\n                    int64_t i_80235 = add64(max_res_80197, i_81109);\n                    float defunc_0_add_arg_80236 = ((__global\n                                                     float *) mem_81561)[gtid_80184 *\n                                                                         n_70233 +\n                                                                         i_80235];\n                    \n                    defunc_0_f_res_80234 = defunc_0_add_arg_80236;\n                }\n                \n                float x_80237 = a11_80204 * tmp4_80232;\n                float y_80238 = b11_80206 * defunc_1_f_res_80233;\n                float x_80239 = x_80237 + y_80238;\n                float defunc_9_fit_fun_res_80240 = defunc_0_f_res_80234 *\n                      x_80239;\n                float x_80241 = b11_80206 *",
                   " tmp4_80232;\n                float y_80242 = c11_80207 * defunc_1_f_res_80233;\n                float x_80243 = x_80241 + y_80242;\n                float defunc_9_slope_fun_res_80244 = defunc_0_f_res_80234 *\n                      x_80243;\n                float defunc_1_op_res_80212 = defunc_9_fit_fun_res_80240 +\n                      redout_81107;\n                float defunc_1_op_res_80215 = defunc_9_slope_fun_res_80244 +\n                      redout_81108;\n                float redout_tmp_83031 = defunc_1_op_res_80212;\n                float redout_tmp_83032 = defunc_1_op_res_80215;\n                \n                redout_81107 = redout_tmp_83031;\n                redout_81108 = redout_tmp_83032;\n            }\n            defunc_2_reduce_res_80208 = redout_81107;\n            defunc_2_reduce_res_80209 = redout_81108;\n            postlude_80193 = defunc_2_reduce_res_80208;\n            postlude_80194 = defunc_2_reduce_res_80209;\n        } else {\n            postlude_80193 = 0.0F;\n            postlude_80194 = 0.0F;\n        }\n        color_82398[(int64_t) 0] = postlude_80193;\n        color_82397[(int64_t) 0] = postlude_80194;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t thread_out_index_83033 = gid_x_79611 * tile_sizze_79614 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_82999));\n    int64_t thread_out_index_83034 = gid_y_79612 * tile_sizze_79614 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_83000));\n    \n    if (slt64(thread_out_index_83033, m_70232) && slt64(thread_out_index_83034,\n                                                        n_m_70241)) {\n        ((__global float *) mem_81663)[thread_out_index_83033 * n_m_70241 +\n                                       thread_out_index_83034] =\n            color_82398[(int64_t) 0];\n    }\n    \n    int64_t thread_out_index_83035 = gid_x_79611 * tile_sizze_79614 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_82999));\n    int64_t thread_out_index_83036 = gid_y_79612 * tile_sizze_79614 +\n            sext_i32_i64(",
                   "sext_i64_i32(ltid_pre_83000));\n    \n    if (slt64(thread_out_index_83035, m_70232) && slt64(thread_out_index_83036,\n                                                        n_m_70241)) {\n        ((__global float *) mem_81667)[thread_out_index_83035 * n_m_70241 +\n                                       thread_out_index_83036] =\n            color_82397[(int64_t) 0];\n    }\n    \n  error_7:\n    return;\n    #undef tile_sizze_79614\n}\n__kernel void mainzisegmap_intragroup_80257(__global int *global_failure,\n                                            int failure_is_an_option, __global\n                                            int64_t *global_failure_args,\n                                            __local volatile\n                                            int64_t *color_82430_backing_aligned_0,\n                                            int64_t m_70232, int64_t n_70233,\n                                            int64_t q_70235, int64_t jump_70237,\n                                            int64_t n_m_70241, int64_t i_70247,\n                                            unsigned char x_70248,\n                                            int64_t min_res_70253,\n                                            unsigned char loop_cond_70258,\n                                            int64_t num_groups_x_80254,\n                                            int64_t num_groups_y_80255,\n                                            int64_t num_whole_tiles_80384,\n                                            int64_t residual_input_80669,\n                                            unsigned char cond_80670, __global\n                                            unsigned char *mem_81849, __global\n                                            unsigned char *mem_81853, __global\n                                            unsigned char *mem_81857, __global\n                                            unsigned char *mem_81863, __global\n                                            unsigned char *mem_",
                   "81867, __global\n                                            unsigned char *mem_81870, __global\n                                            unsigned char *mem_81873, __global\n                                            unsigned char *mem_81876, __global\n                                            unsigned char *mem_81881, __global\n                                            unsigned char *mem_81979, __global\n                                            unsigned char *mem_81983)\n{\n    #define tile_sizze_80252 (mainzitile_sizze_80251)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict color_82430_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) color_82430_backing_aligned_0;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_83377;\n    int32_t local_tid_83378;\n    int64_t group_sizze_83381;\n    int32_t wave_sizze_83380;\n    int32_t group_tid_83379;\n    \n    global_tid_83377 = get_global_id(0);\n    local_tid_83378 = get_local_id(0);\n    group_sizze_83381 = get_local_size(0);\n    wave_sizze_83380 = LOCKSTEP_WIDTH;\n    group_tid_83379 = get_group_id(0);\n    \n    int32_t gid_flat_80257 = group_tid_83379;\n    int64_t slice_83384 = tile_sizze_80252;\n    int64_t slice_83385 = tile_sizze_80252 * slice_83384;\n    int64_t ltid_pre_83382 = squot64(sext_i32_i64(local_tid_83378),\n                                     slice_83384);\n    int64_t remnant_83386 = sext_i32_i64(local_tid_83378) - ltid_pre_83382 *\n            slice_83384;\n    int64_t ltid_pre_83383 = remnant_83386;\n    int64_t remnant_83387 = remnant_83386 - ltid_pre_83383;\n    int64_t slice_83388 = num_groups_y_80255;\n    int64_t slice_83389 = num_groups_x_80",
                   "254 * slice_83388;\n    int64_t gid_x_80249 = squot64(sext_i32_i64(group_tid_83379), slice_83388);\n    int64_t remnant_83390 = sext_i32_i64(group_tid_83379) - gid_x_80249 *\n            slice_83388;\n    int64_t gid_y_80250 = remnant_83390;\n    int64_t remnant_83391 = remnant_83390 - gid_y_80250;\n    float color_82420[1];\n    float color_82421[1];\n    float color_82422[1];\n    float color_82423[1];\n    float color_82424[1];\n    float color_82425[1];\n    float color_82426[1];\n    float color_82427[1];\n    float color_82428[1];\n    float color_82429[1];\n    __local unsigned char *color_82430;\n    \n    color_82430 = (__local unsigned char *) color_82430_backing_0;\n    \n    float color_82431[1];\n    int64_t color_82432[1];\n    int64_t color_82433[1];\n    int64_t color_82434[1];\n    int64_t binop_x_80274 = gid_x_80249 * tile_sizze_80252;\n    int64_t binop_x_80276 = gid_y_80250 * tile_sizze_80252;\n    int64_t ltid_y_80260 = sext_i32_i64(sext_i64_i32(ltid_pre_83382));\n    int64_t ltid_x_80258 = sext_i32_i64(sext_i64_i32(ltid_pre_83383));\n    int32_t ltid_flat_80259 = local_tid_83378;\n    \n    if (slt64(ltid_y_80260, tile_sizze_80252) && slt64(ltid_x_80258,\n                                                       tile_sizze_80252)) {\n        int64_t gtid_80275 = ltid_y_80260 + binop_x_80274;\n        int64_t gtid_80277 = ltid_x_80258 + binop_x_80276;\n        bool binop_x_80278 = slt64(gtid_80275, m_70232);\n        bool binop_y_80279 = slt64(gtid_80277, n_m_70241);\n        bool cond_80280 = binop_x_80278 && binop_y_80279;\n        int64_t pre_80281;\n        int64_t pre_80282;\n        int64_t pre_80283;\n        float pre_80284;\n        \n        if (cond_80280) {\n            int64_t last_res_80285 = ((__global\n                                       int64_t *) mem_81849)[gtid_80275 *\n                                                             n_70233 + i_70247];\n            int64_t min_arg_80286 = ((__global\n                                      int64_t *) mem_81867)[gtid_80275];\n   ",
                   "         int64_t min_arg_80287 = ((__global\n                                      int64_t *) mem_81870)[gtid_80275];\n            int64_t min_res_80288 = ((__global\n                                      int64_t *) mem_81873)[gtid_80275];\n            float max_res_80289 = ((__global float *) mem_81876)[gtid_80275];\n            int64_t min_arg_80290 = mul64(jump_70237, gtid_80277);\n            int64_t min_res_80291 = smin64(i_70247, min_arg_80290);\n            int64_t defunc_0_g_res_80292 = add64((int64_t) 1, min_res_80291);\n            bool init_idx_80293;\n            int64_t init_idx_80294;\n            int64_t init_idx_80295;\n            bool loop_while_80296;\n            int64_t low_80297;\n            int64_t high_80298;\n            \n            loop_while_80296 = x_70248;\n            low_80297 = (int64_t) 0;\n            high_80298 = i_70247;\n            while (loop_while_80296) {\n                int64_t x_80299 = add64(low_80297, high_80298);\n                int64_t mid_80300 = sdiv64(x_80299, (int64_t) 2);\n                bool x_80301 = sle64((int64_t) 0, mid_80300);\n                bool y_80302 = slt64(mid_80300, n_70233);\n                bool bounds_check_80303 = x_80301 && y_80302;\n                bool index_certs_80304;\n                \n                if (!bounds_check_80303) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 35) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) mid_80300;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t mid_id_80305 = ((__global\n                                         int64_t *) mem_81863)[gtid_80275 *\n                                                               n_70233 +\n               ",
                   "                                                mid_80300];\n                bool cond_80306 = slt64(mid_id_80305, (int64_t) 0);\n                int64_t mid_idx_80307;\n                \n                if (cond_80306) {\n                    mid_idx_80307 = (int64_t) 9223372036854775807;\n                } else {\n                    mid_idx_80307 = mid_id_80305;\n                }\n                \n                bool cond_80308 = sle64(defunc_0_g_res_80292, mid_idx_80307);\n                int64_t loopres_80309;\n                int64_t loopres_80310;\n                \n                if (cond_80308) {\n                    int64_t loopres_t_res_80311 = sub64(mid_80300, (int64_t) 1);\n                    \n                    loopres_80309 = low_80297;\n                    loopres_80310 = loopres_t_res_80311;\n                } else {\n                    int64_t loopres_f_res_80312 = add64((int64_t) 1, mid_80300);\n                    \n                    loopres_80309 = loopres_f_res_80312;\n                    loopres_80310 = high_80298;\n                }\n                \n                bool loop_cond_80313 = sle64(loopres_80309, loopres_80310);\n                bool loop_while_tmp_83392 = loop_cond_80313;\n                int64_t low_tmp_83393 = loopres_80309;\n                int64_t high_tmp_83394 = loopres_80310;\n                \n                loop_while_80296 = loop_while_tmp_83392;\n                low_80297 = low_tmp_83393;\n                high_80298 = high_tmp_83394;\n            }\n            init_idx_80293 = loop_while_80296;\n            init_idx_80294 = low_80297;\n            init_idx_80295 = high_80298;\n            \n            bool idx_80314;\n            int64_t idx_80315;\n            int64_t idx_80316;\n            int64_t idx_80317;\n            bool loop_while_80318;\n            int64_t l_idx_80319;\n            int64_t r_idx_80320;\n            int64_t span_80321;\n            \n            loop_while_80318 = loop_cond_70258;\n            l_idx_80319 = init_idx_80294;\n   ",
                   "         r_idx_80320 = init_idx_80294;\n            span_80321 = (int64_t) 1;\n            while (loop_while_80318) {\n                int64_t max_arg_80322 = sub64(l_idx_80319, (int64_t) 1);\n                int64_t max_res_80323 = smax64((int64_t) 0, max_arg_80322);\n                int64_t min_arg_80324 = add64((int64_t) 1, r_idx_80320);\n                int64_t min_res_80325 = smin64(min_arg_80286, min_arg_80324);\n                bool x_80326 = sle64((int64_t) 0, max_res_80323);\n                bool y_80327 = slt64(max_res_80323, n_70233);\n                bool bounds_check_80328 = x_80326 && y_80327;\n                bool index_certs_80329;\n                \n                if (!bounds_check_80328) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 36) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) max_res_80323;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_80330 = ((__global int64_t *) mem_81863)[gtid_80275 *\n                                                                   n_70233 +\n                                                                   max_res_80323];\n                int64_t abs_arg_80331 = sub64(x_80330, defunc_0_g_res_80292);\n                int64_t abs_res_80332 = abs64(abs_arg_80331);\n                bool x_80333 = sle64((int64_t) 0, min_res_80325);\n                bool y_80334 = slt64(min_res_80325, n_70233);\n                bool bounds_check_80335 = x_80333 && y_80334;\n                bool index_certs_80336;\n                \n                if (!bounds_check_80335) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 37) ==\n                            -1) {\n   ",
                   "                         global_failure_args[0] = (int64_t) min_res_80325;\n                            global_failure_args[1] = (int64_t) n_70233;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_80337 = ((__global int64_t *) mem_81863)[gtid_80275 *\n                                                                   n_70233 +\n                                                                   min_res_80325];\n                int64_t abs_arg_80338 = sub64(x_80337, defunc_0_g_res_80292);\n                int64_t abs_res_80339 = abs64(abs_arg_80338);\n                bool cond_80340 = max_res_80323 == l_idx_80319;\n                int64_t loopres_80341;\n                int64_t loopres_80342;\n                int64_t loopres_80343;\n                \n                if (cond_80340) {\n                    loopres_80341 = l_idx_80319;\n                    loopres_80342 = r_idx_80320;\n                    loopres_80343 = min_res_70253;\n                } else {\n                    bool cond_80344 = slt64(abs_res_80332, abs_res_80339);\n                    bool cond_f_res_80345 = min_res_80325 == r_idx_80320;\n                    bool x_80346 = !cond_80344;\n                    bool y_80347 = cond_f_res_80345 && x_80346;\n                    bool cond_80348 = cond_80344 || y_80347;\n                    int64_t loopres_f_res_80349;\n                    \n                    if (cond_80348) {\n                        loopres_f_res_80349 = max_res_80323;\n                    } else {\n                        loopres_f_res_80349 = l_idx_80319;\n                    }\n                    \n                    int64_t loopres_f_res_80350;\n                    \n                    if (cond_80348) {\n                        loopres_f_res_80350 = r_idx_80320;\n                    } else {\n                        loopres_f_res_80350 = min_re",
                   "s_80325;\n                    }\n                    \n                    int64_t loopres_f_res_80351;\n                    \n                    if (cond_80348) {\n                        int64_t loopres_f_res_t_res_80352 = add64((int64_t) 1,\n                                                                  span_80321);\n                        \n                        loopres_f_res_80351 = loopres_f_res_t_res_80352;\n                    } else {\n                        int64_t loopres_f_res_f_res_80353 = add64((int64_t) 1,\n                                                                  span_80321);\n                        \n                        loopres_f_res_80351 = loopres_f_res_f_res_80353;\n                    }\n                    loopres_80341 = loopres_f_res_80349;\n                    loopres_80342 = loopres_f_res_80350;\n                    loopres_80343 = loopres_f_res_80351;\n                }\n                \n                bool loop_cond_80354 = slt64(loopres_80343, min_res_70253);\n                bool loop_while_tmp_83395 = loop_cond_80354;\n                int64_t l_idx_tmp_83396 = loopres_80341;\n                int64_t r_idx_tmp_83397 = loopres_80342;\n                int64_t span_tmp_83398 = loopres_80343;\n                \n                loop_while_80318 = loop_while_tmp_83395;\n                l_idx_80319 = l_idx_tmp_83396;\n                r_idx_80320 = r_idx_tmp_83397;\n                span_80321 = span_tmp_83398;\n            }\n            idx_80314 = loop_while_80318;\n            idx_80315 = l_idx_80319;\n            idx_80316 = r_idx_80320;\n            idx_80317 = span_80321;\n            \n            int64_t min_res_80355 = smin64(min_arg_80287, idx_80315);\n            int64_t max_res_80356 = smax64((int64_t) 0, min_res_80355);\n            int64_t x_80357 = add64(min_res_80288, max_res_80356);\n            int64_t r_80358 = sub64(x_80357, (int64_t) 1);\n            bool x_80359 = sle64((int64_t) 0, r_80358);\n            bool y_80360 = slt64(r_80358, n_7023",
                   "3);\n            bool bounds_check_80361 = x_80359 && y_80360;\n            bool index_certs_80362;\n            \n            if (!bounds_check_80361) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 38) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) r_80358;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    local_failure = true;\n                    goto error_0;\n                }\n            }\n            \n            int64_t x_80363 = ((__global int64_t *) mem_81857)[gtid_80275 *\n                                                               n_70233 +\n                                                               r_80358];\n            int64_t abs_arg_80364 = sub64(x_80363, min_res_80291);\n            int64_t abs_res_80365 = abs64(abs_arg_80364);\n            bool x_80366 = sle64((int64_t) 0, max_res_80356);\n            bool y_80367 = slt64(max_res_80356, n_70233);\n            bool bounds_check_80368 = x_80366 && y_80367;\n            bool index_certs_80369;\n            \n            if (!bounds_check_80368) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 39) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) max_res_80356;\n                        global_failure_args[1] = (int64_t) n_70233;\n                        ;\n                    }\n                    local_failure = true;\n                    goto error_0;\n                }\n            }\n            \n            int64_t x_80370 = ((__global int64_t *) mem_81857)[gtid_80275 *\n                                                               n_70233 +\n                                                               max_res_80356];\n            int64_t abs_arg_80371 = sub64(x_80370, min_res_80291);\n            int64_t abs_res_80372 = abs64(abs_arg_80371);\n            int64_",
                   "t max_res_80373 = smax64(abs_res_80365, abs_res_80372);\n            float defunc_0_f_res_80374 = sitofp_i64_f32(max_res_80373);\n            float defunc_1_f_res_80375 = max_res_80289 + defunc_0_f_res_80374;\n            \n            pre_80281 = last_res_80285;\n            pre_80282 = min_res_80291;\n            pre_80283 = max_res_80356;\n            pre_80284 = defunc_1_f_res_80375;\n        } else {\n            pre_80281 = (int64_t) 0;\n            pre_80282 = (int64_t) 0;\n            pre_80283 = (int64_t) 0;\n            pre_80284 = 0.0F;\n        }\n        color_82434[(int64_t) 0] = pre_80281;\n        color_82433[(int64_t) 0] = pre_80282;\n        color_82432[(int64_t) 0] = pre_80283;\n        color_82431[(int64_t) 0] = pre_80284;\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t ltid_y_80387 = sext_i32_i64(sext_i64_i32(ltid_pre_83382));\n    int64_t ltid_x_80385 = sext_i32_i64(sext_i64_i32(ltid_pre_83383));\n    int32_t ltid_flat_80386 = local_tid_83378;\n    \n    if (slt64(ltid_y_80387, tile_sizze_80252) && slt64(ltid_x_80385,\n                                                       tile_sizze_80252)) {\n        color_82423[(int64_t) 0] = 0.0F;\n        color_82422[(int64_t) 0] = 0.0F;\n        color_82421[(int64_t) 0] = 0.0F;\n        color_82420[(int64_t) 0] = 0.0F;\n        color_82425[(int64_t) 0] = 0.0F;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    color_82424[(int64_t) 0] = color_82423[(int64_t) 0];\n    color_82423[(int64_t) 0] = color_82422[(int64_t) 0];\n    color_82422[(int64_t) 0] = color_82421[(int64_t) 0];\n    color_82421[(int64_t) 0] = color_82420[(int64_t) 0];\n    color_82420[(int64_t) 0] = color_82425[(int64_t) 0];\n    \n    float ext_mem_81942[1];\n    float ext_mem_unused_82343[1];\n    float ext_mem_81941[1];\n    float ext_mem_unused_82348[1];\n    float ext_mem_81940[1];\n    float ext_mem_unused_82353[1];\n    float ext_mem_81939[1];\n    float ext_mem_unused_82358[1];\n    ",
                   "float ext_mem_81938[1];\n    float ext_mem_unused_82363[1];\n    float mem_param_81912[1];\n    float mem_param_81913[1];\n    float mem_param_81914[1];\n    float mem_param_81915[1];\n    float mem_param_81916[1];\n    float mem_param_out_82344[1];\n    float mem_param_out_82349[1];\n    float mem_param_out_82354[1];\n    float mem_param_out_82359[1];\n    float mem_param_out_82364[1];\n    \n    for (int32_t i_1 = 0; i_1 < 1; i_1++)\n        mem_param_81912[i_1] = color_82424[i_1];\n    for (int32_t i_2 = 0; i_2 < 1; i_2++)\n        mem_param_out_82344[i_2] = color_82429[i_2];\n    for (int32_t i_3 = 0; i_3 < 1; i_3++)\n        mem_param_81913[i_3] = color_82423[i_3];\n    for (int32_t i_4 = 0; i_4 < 1; i_4++)\n        mem_param_out_82349[i_4] = color_82428[i_4];\n    for (int32_t i_5 = 0; i_5 < 1; i_5++)\n        mem_param_81914[i_5] = color_82422[i_5];\n    for (int32_t i_6 = 0; i_6 < 1; i_6++)\n        mem_param_out_82354[i_6] = color_82427[i_6];\n    for (int32_t i_7 = 0; i_7 < 1; i_7++)\n        mem_param_81915[i_7] = color_82421[i_7];\n    for (int32_t i_8 = 0; i_8 < 1; i_8++)\n        mem_param_out_82359[i_8] = color_82426[i_8];\n    for (int32_t i_9 = 0; i_9 < 1; i_9++)\n        mem_param_81916[i_9] = color_82420[i_9];\n    for (int32_t i_10 = 0; i_10 < 1; i_10++)\n        mem_param_out_82364[i_10] = color_82425[i_10];\n    for (int64_t tile_id_80404 = 0; tile_id_80404 < num_whole_tiles_80384;\n         tile_id_80404++) {\n        int64_t binop_x_80540 = tile_sizze_80252 * tile_id_80404;\n        int64_t ltid_y_80407 = sext_i32_i64(sext_i64_i32(ltid_pre_83382));\n        int64_t ltid_x_80405 = sext_i32_i64(sext_i64_i32(ltid_pre_83383));\n        int32_t ltid_flat_80406 = local_tid_83378;\n        int64_t j_80541 = ltid_x_80405 + binop_x_80540;\n        int64_t gtid_80543 = binop_x_80274 + ltid_y_80407;\n        bool binop_x_80551 = slt64(j_80541, q_70235);\n        bool binop_y_80552 = slt64(gtid_80543, m_70232);\n        bool cond_80553 = binop_x_80551 && binop_y_80552;\n        float pre_80554;\n  ",
                   "      \n        if (cond_80553) {\n            float x_80555 = ((__global float *) mem_81881)[gtid_80543 *\n                                                           q_70235 + j_80541];\n            \n            pre_80554 = x_80555;\n        } else {\n            pre_80554 = 0.0F;\n        }\n        ((__local float *) color_82430)[ltid_y_80407 * tile_sizze_80252 +\n                                        ltid_x_80405] = pre_80554;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t ltid_y_80442 = sext_i32_i64(sext_i64_i32(ltid_pre_83382));\n        int64_t ltid_x_80440 = sext_i32_i64(sext_i64_i32(ltid_pre_83383));\n        int32_t ltid_flat_80441 = local_tid_83378;\n        int64_t gtid_80563 = binop_x_80274 + ltid_y_80442;\n        int64_t gtid_80565 = binop_x_80276 + ltid_x_80440;\n        float acc_80571 = mem_param_81912[(int64_t) 0];\n        float acc_80572 = mem_param_81913[(int64_t) 0];\n        float acc_80573 = mem_param_81914[(int64_t) 0];\n        float acc_80574 = mem_param_81915[(int64_t) 0];\n        float acc_80575 = mem_param_81916[(int64_t) 0];\n        bool binop_x_80579 = slt64(gtid_80563, m_70232);\n        bool binop_y_80580 = slt64(gtid_80565, n_m_70241);\n        bool cond_80581 = binop_x_80579 && binop_y_80580;\n        float acc_80582;\n        float acc_80583;\n        float acc_80584;\n        float acc_80585;\n        float acc_80586;\n        \n        if (cond_80581) {\n            int64_t last_res_80566 = color_82434[(int64_t) 0];\n            int64_t min_res_80567 = color_82433[(int64_t) 0];\n            int64_t max_res_80568 = color_82432[(int64_t) 0];\n            float defunc_1_f_res_80569 = color_82431[(int64_t) 0];\n            float x_80587;\n            float x_80588;\n            float x_80589;\n            float x_80590;\n            float x_80591;\n            float redout_81148;\n            float redout_81149;\n            float redout_81150;\n            float redout_81151;\n            float redout_81152;\n            \n            redout_81148 = acc",
                   "_80571;\n            redout_81149 = acc_80572;\n            redout_81150 = acc_80573;\n            redout_81151 = acc_80574;\n            redout_81152 = acc_80575;\n            for (int64_t i_81153 = 0; i_81153 < tile_sizze_80252; i_81153++) {\n                int64_t index_primexp_81212 = add64(binop_x_80540, i_81153);\n                float x_80608 = ((__local float *) color_82430)[ltid_y_80442 *\n                                                                tile_sizze_80252 +\n                                                                i_81153];\n                bool cond_80609 = sle64(last_res_80566, index_primexp_81212);\n                int64_t defunc_0_f_res_80610;\n                \n                if (cond_80609) {\n                    defunc_0_f_res_80610 = (int64_t) 0;\n                } else {\n                    int64_t i_80611 = add64(max_res_80568, index_primexp_81212);\n                    int64_t defunc_0_add_arg_80612 = ((__global\n                                                       int64_t *) mem_81857)[gtid_80563 *\n                                                                             n_70233 +\n                                                                             i_80611];\n                    int64_t defunc_1_add_res_80613 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_80612);\n                    \n                    defunc_0_f_res_80610 = defunc_1_add_res_80613;\n                }\n                \n                int64_t binop_p_80614 = sub64(defunc_0_f_res_80610,\n                                              min_res_80567);\n                float defunc_0_f_res_80615 = sitofp_i64_f32(binop_p_80614);\n                float abs_res_80616 = (float) fabs(defunc_0_f_res_80615);\n                float tmp1_80617 = abs_res_80616 / defunc_1_f_res_80569;\n                float x_80618 = tmp1_80617 * tmp1_80617;\n                float y_80619 = tmp1_80617 * x_80618;\n                float tmp2_80620 = 1.0F ",
                   "- y_80619;\n                float x_80621 = tmp2_80620 * tmp2_80620;\n                float tmp3_80622 = tmp2_80620 * x_80621;\n                float w_j_80623 = x_80608 * tmp3_80622;\n                float xw_j_80624 = defunc_0_f_res_80615 * w_j_80623;\n                float x2w_j_80625 = defunc_0_f_res_80615 * xw_j_80624;\n                float x3w_j_80626 = defunc_0_f_res_80615 * x2w_j_80625;\n                float x4w_j_80627 = defunc_0_f_res_80615 * x3w_j_80626;\n                float defunc_1_op_res_80602 = w_j_80623 + redout_81148;\n                float defunc_1_op_res_80603 = xw_j_80624 + redout_81149;\n                float defunc_1_op_res_80604 = x2w_j_80625 + redout_81150;\n                float defunc_1_op_res_80605 = x3w_j_80626 + redout_81151;\n                float defunc_1_op_res_80606 = x4w_j_80627 + redout_81152;\n                float redout_tmp_83414 = defunc_1_op_res_80602;\n                float redout_tmp_83415 = defunc_1_op_res_80603;\n                float redout_tmp_83416 = defunc_1_op_res_80604;\n                float redout_tmp_83417 = defunc_1_op_res_80605;\n                float redout_tmp_83418 = defunc_1_op_res_80606;\n                \n                redout_81148 = redout_tmp_83414;\n                redout_81149 = redout_tmp_83415;\n                redout_81150 = redout_tmp_83416;\n                redout_81151 = redout_tmp_83417;\n                redout_81152 = redout_tmp_83418;\n            }\n            x_80587 = redout_81148;\n            x_80588 = redout_81149;\n            x_80589 = redout_81150;\n            x_80590 = redout_81151;\n            x_80591 = redout_81152;\n            acc_80582 = x_80587;\n            acc_80583 = x_80588;\n            acc_80584 = x_80589;\n            acc_80585 = x_80590;\n            acc_80586 = x_80591;\n        } else {\n            acc_80582 = acc_80571;\n            acc_80583 = acc_80572;\n            acc_80584 = acc_80573;\n            acc_80585 = acc_80574;\n            acc_80586 = acc_80575;\n        }\n        mem_param_out_823",
                   "44[(int64_t) 0] = acc_80582;\n        mem_param_out_82349[(int64_t) 0] = acc_80583;\n        mem_param_out_82354[(int64_t) 0] = acc_80584;\n        mem_param_out_82359[(int64_t) 0] = acc_80585;\n        mem_param_out_82364[(int64_t) 0] = acc_80586;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        float mem_param_tmp_83399[1];\n        \n        for (int32_t i_11 = 0; i_11 < 1; i_11++)\n            mem_param_tmp_83399[i_11] = mem_param_out_82344[i_11];\n        \n        float mem_param_out_tmp_83400[1];\n        \n        for (int32_t i_12 = 0; i_12 < 1; i_12++)\n            mem_param_out_tmp_83400[i_12] = mem_param_81912[i_12];\n        \n        float mem_param_tmp_83401[1];\n        \n        for (int32_t i_13 = 0; i_13 < 1; i_13++)\n            mem_param_tmp_83401[i_13] = mem_param_out_82349[i_13];\n        \n        float mem_param_out_tmp_83402[1];\n        \n        for (int32_t i_14 = 0; i_14 < 1; i_14++)\n            mem_param_out_tmp_83402[i_14] = mem_param_81913[i_14];\n        \n        float mem_param_tmp_83403[1];\n        \n        for (int32_t i_15 = 0; i_15 < 1; i_15++)\n            mem_param_tmp_83403[i_15] = mem_param_out_82354[i_15];\n        \n        float mem_param_out_tmp_83404[1];\n        \n        for (int32_t i_16 = 0; i_16 < 1; i_16++)\n            mem_param_out_tmp_83404[i_16] = mem_param_81914[i_16];\n        \n        float mem_param_tmp_83405[1];\n        \n        for (int32_t i_17 = 0; i_17 < 1; i_17++)\n            mem_param_tmp_83405[i_17] = mem_param_out_82359[i_17];\n        \n        float mem_param_out_tmp_83406[1];\n        \n        for (int32_t i_18 = 0; i_18 < 1; i_18++)\n            mem_param_out_tmp_83406[i_18] = mem_param_81915[i_18];\n        \n        float mem_param_tmp_83407[1];\n        \n        for (int32_t i_19 = 0; i_19 < 1; i_19++)\n            mem_param_tmp_83407[i_19] = mem_param_out_82364[i_19];\n        \n        float mem_param_out_tmp_83408[1];\n        \n        for (int32_t i_20 = 0; i_20 < 1; i_20++)\n            mem_param_out_tmp_83408[i_20] = ",
                   "mem_param_81916[i_20];\n        for (int32_t i_21 = 0; i_21 < 1; i_21++)\n            mem_param_81912[i_21] = mem_param_tmp_83399[i_21];\n        for (int32_t i_22 = 0; i_22 < 1; i_22++)\n            mem_param_out_82344[i_22] = mem_param_out_tmp_83400[i_22];\n        for (int32_t i_23 = 0; i_23 < 1; i_23++)\n            mem_param_81913[i_23] = mem_param_tmp_83401[i_23];\n        for (int32_t i_24 = 0; i_24 < 1; i_24++)\n            mem_param_out_82349[i_24] = mem_param_out_tmp_83402[i_24];\n        for (int32_t i_25 = 0; i_25 < 1; i_25++)\n            mem_param_81914[i_25] = mem_param_tmp_83403[i_25];\n        for (int32_t i_26 = 0; i_26 < 1; i_26++)\n            mem_param_out_82354[i_26] = mem_param_out_tmp_83404[i_26];\n        for (int32_t i_27 = 0; i_27 < 1; i_27++)\n            mem_param_81915[i_27] = mem_param_tmp_83405[i_27];\n        for (int32_t i_28 = 0; i_28 < 1; i_28++)\n            mem_param_out_82359[i_28] = mem_param_out_tmp_83406[i_28];\n        for (int32_t i_29 = 0; i_29 < 1; i_29++)\n            mem_param_81916[i_29] = mem_param_tmp_83407[i_29];\n        for (int32_t i_30 = 0; i_30 < 1; i_30++)\n            mem_param_out_82364[i_30] = mem_param_out_tmp_83408[i_30];\n    }\n    for (int32_t i_31 = 0; i_31 < 1; i_31++)\n        ext_mem_81942[i_31] = mem_param_81912[i_31];\n    for (int32_t i_32 = 0; i_32 < 1; i_32++)\n        ext_mem_unused_82343[i_32] = mem_param_out_82344[i_32];\n    for (int32_t i_33 = 0; i_33 < 1; i_33++)\n        ext_mem_81941[i_33] = mem_param_81913[i_33];\n    for (int32_t i_34 = 0; i_34 < 1; i_34++)\n        ext_mem_unused_82348[i_34] = mem_param_out_82349[i_34];\n    for (int32_t i_35 = 0; i_35 < 1; i_35++)\n        ext_mem_81940[i_35] = mem_param_81914[i_35];\n    for (int32_t i_36 = 0; i_36 < 1; i_36++)\n        ext_mem_unused_82353[i_36] = mem_param_out_82354[i_36];\n    for (int32_t i_37 = 0; i_37 < 1; i_37++)\n        ext_mem_81939[i_37] = mem_param_81915[i_37];\n    for (int32_t i_38 = 0; i_38 < 1; i_38++)\n        ext_mem_unused_82358[i_38] = mem_param_",
                   "out_82359[i_38];\n    for (int32_t i_39 = 0; i_39 < 1; i_39++)\n        ext_mem_81938[i_39] = mem_param_81916[i_39];\n    for (int32_t i_40 = 0; i_40 < 1; i_40++)\n        ext_mem_unused_82363[i_40] = mem_param_out_82364[i_40];\n    if (cond_80670) {\n        color_82420[(int64_t) 0] = ext_mem_81942[(int64_t) 0];\n        color_82421[(int64_t) 0] = ext_mem_81941[(int64_t) 0];\n        color_82422[(int64_t) 0] = ext_mem_81940[(int64_t) 0];\n        color_82423[(int64_t) 0] = ext_mem_81939[(int64_t) 0];\n        color_82424[(int64_t) 0] = ext_mem_81938[(int64_t) 0];\n    } else {\n        int64_t binop_x_80807 = tile_sizze_80252 * num_whole_tiles_80384;\n        int64_t ltid_y_80673 = sext_i32_i64(sext_i64_i32(ltid_pre_83382));\n        int64_t ltid_x_80671 = sext_i32_i64(sext_i64_i32(ltid_pre_83383));\n        int32_t ltid_flat_80672 = local_tid_83378;\n        int64_t j_80808 = ltid_x_80671 + binop_x_80807;\n        int64_t gtid_80810 = binop_x_80274 + ltid_y_80673;\n        bool binop_x_80818 = slt64(j_80808, q_70235);\n        bool binop_y_80819 = slt64(gtid_80810, m_70232);\n        bool cond_80820 = binop_x_80818 && binop_y_80819;\n        float pre_80821;\n        \n        if (cond_80820) {\n            float x_80822 = ((__global float *) mem_81881)[gtid_80810 *\n                                                           q_70235 + j_80808];\n            \n            pre_80821 = x_80822;\n        } else {\n            pre_80821 = 0.0F;\n        }\n        ((__local float *) color_82430)[ltid_y_80673 * tile_sizze_80252 +\n                                        ltid_x_80671] = pre_80821;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t ltid_y_80709 = sext_i32_i64(sext_i64_i32(ltid_pre_83382));\n        int64_t ltid_x_80707 = sext_i32_i64(sext_i64_i32(ltid_pre_83383));\n        int32_t ltid_flat_80708 = local_tid_83378;\n        int64_t gtid_80831 = binop_x_80274 + ltid_y_80709;\n        int64_t gtid_80833 = binop_x_80276 + ltid_x_80707;\n        float acc_80839 = ext_mem_81942[(int64",
                   "_t) 0];\n        float acc_80840 = ext_mem_81941[(int64_t) 0];\n        float acc_80841 = ext_mem_81940[(int64_t) 0];\n        float acc_80842 = ext_mem_81939[(int64_t) 0];\n        float acc_80843 = ext_mem_81938[(int64_t) 0];\n        bool binop_x_80847 = slt64(gtid_80831, m_70232);\n        bool binop_y_80848 = slt64(gtid_80833, n_m_70241);\n        bool cond_80849 = binop_x_80847 && binop_y_80848;\n        float acc_80850;\n        float acc_80851;\n        float acc_80852;\n        float acc_80853;\n        float acc_80854;\n        \n        if (cond_80849) {\n            int64_t last_res_80834 = color_82434[(int64_t) 0];\n            int64_t min_res_80835 = color_82433[(int64_t) 0];\n            int64_t max_res_80836 = color_82432[(int64_t) 0];\n            float defunc_1_f_res_80837 = color_82431[(int64_t) 0];\n            float x_80855;\n            float x_80856;\n            float x_80857;\n            float x_80858;\n            float x_80859;\n            float redout_81154;\n            float redout_81155;\n            float redout_81156;\n            float redout_81157;\n            float redout_81158;\n            \n            redout_81154 = acc_80839;\n            redout_81155 = acc_80840;\n            redout_81156 = acc_80841;\n            redout_81157 = acc_80842;\n            redout_81158 = acc_80843;\n            for (int64_t i_81159 = 0; i_81159 < residual_input_80669;\n                 i_81159++) {\n                int64_t index_primexp_81214 = add64(binop_x_80807, i_81159);\n                float x_80876 = ((__local float *) color_82430)[ltid_y_80709 *\n                                                                tile_sizze_80252 +\n                                                                i_81159];\n                bool cond_80877 = sle64(last_res_80834, index_primexp_81214);\n                int64_t defunc_0_f_res_80878;\n                \n                if (cond_80877) {\n                    defunc_0_f_res_80878 = (int64_t) 0;\n                } else {\n                    i",
                   "nt64_t i_80879 = add64(max_res_80836, index_primexp_81214);\n                    int64_t defunc_0_add_arg_80880 = ((__global\n                                                       int64_t *) mem_81857)[gtid_80831 *\n                                                                             n_70233 +\n                                                                             i_80879];\n                    int64_t defunc_1_add_res_80881 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_80880);\n                    \n                    defunc_0_f_res_80878 = defunc_1_add_res_80881;\n                }\n                \n                int64_t binop_p_80882 = sub64(defunc_0_f_res_80878,\n                                              min_res_80835);\n                float defunc_0_f_res_80883 = sitofp_i64_f32(binop_p_80882);\n                float abs_res_80884 = (float) fabs(defunc_0_f_res_80883);\n                float tmp1_80885 = abs_res_80884 / defunc_1_f_res_80837;\n                float x_80886 = tmp1_80885 * tmp1_80885;\n                float y_80887 = tmp1_80885 * x_80886;\n                float tmp2_80888 = 1.0F - y_80887;\n                float x_80889 = tmp2_80888 * tmp2_80888;\n                float tmp3_80890 = tmp2_80888 * x_80889;\n                float w_j_80891 = x_80876 * tmp3_80890;\n                float xw_j_80892 = defunc_0_f_res_80883 * w_j_80891;\n                float x2w_j_80893 = defunc_0_f_res_80883 * xw_j_80892;\n                float x3w_j_80894 = defunc_0_f_res_80883 * x2w_j_80893;\n                float x4w_j_80895 = defunc_0_f_res_80883 * x3w_j_80894;\n                float defunc_1_op_res_80870 = w_j_80891 + redout_81154;\n                float defunc_1_op_res_80871 = xw_j_80892 + redout_81155;\n                float defunc_1_op_res_80872 = x2w_j_80893 + redout_81156;\n                float defunc_1_op_res_80873 = x3w_j_80894 + redout_81157;\n                float defunc_1_op_res_80874 = x4w_j_80895 + redout_8115",
                   "8;\n                float redout_tmp_83419 = defunc_1_op_res_80870;\n                float redout_tmp_83420 = defunc_1_op_res_80871;\n                float redout_tmp_83421 = defunc_1_op_res_80872;\n                float redout_tmp_83422 = defunc_1_op_res_80873;\n                float redout_tmp_83423 = defunc_1_op_res_80874;\n                \n                redout_81154 = redout_tmp_83419;\n                redout_81155 = redout_tmp_83420;\n                redout_81156 = redout_tmp_83421;\n                redout_81157 = redout_tmp_83422;\n                redout_81158 = redout_tmp_83423;\n            }\n            x_80855 = redout_81154;\n            x_80856 = redout_81155;\n            x_80857 = redout_81156;\n            x_80858 = redout_81157;\n            x_80859 = redout_81158;\n            acc_80850 = x_80855;\n            acc_80851 = x_80856;\n            acc_80852 = x_80857;\n            acc_80853 = x_80858;\n            acc_80854 = x_80859;\n        } else {\n            acc_80850 = acc_80839;\n            acc_80851 = acc_80840;\n            acc_80852 = acc_80841;\n            acc_80853 = acc_80842;\n            acc_80854 = acc_80843;\n        }\n        color_82429[(int64_t) 0] = acc_80850;\n        color_82428[(int64_t) 0] = acc_80851;\n        color_82427[(int64_t) 0] = acc_80852;\n        color_82426[(int64_t) 0] = acc_80853;\n        color_82425[(int64_t) 0] = acc_80854;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        color_82420[(int64_t) 0] = color_82429[(int64_t) 0];\n        color_82421[(int64_t) 0] = color_82428[(int64_t) 0];\n        color_82422[(int64_t) 0] = color_82427[(int64_t) 0];\n        color_82423[(int64_t) 0] = color_82426[(int64_t) 0];\n        color_82424[(int64_t) 0] = color_82425[(int64_t) 0];\n    }\n    \n    int64_t ltid_y_80903 = sext_i32_i64(sext_i64_i32(ltid_pre_83382));\n    int64_t ltid_x_80901 = sext_i32_i64(sext_i64_i32(ltid_pre_83383));\n    int32_t ltid_flat_80902 = local_tid_83378;\n    \n    if (slt64(ltid_y_80903, tile_sizze_80252) && slt64(ltid_x_80901,\n       ",
                   "                                                tile_sizze_80252)) {\n        int64_t gtid_80914 = binop_x_80274 + ltid_y_80903;\n        int64_t gtid_80916 = binop_x_80276 + ltid_x_80901;\n        bool binop_x_80922 = slt64(gtid_80914, m_70232);\n        bool binop_y_80923 = slt64(gtid_80916, n_m_70241);\n        bool cond_80924 = binop_x_80922 && binop_y_80923;\n        float postlude_80925;\n        float postlude_80926;\n        \n        if (cond_80924) {\n            float defunc_2_reduce_res_80917 = color_82420[(int64_t) 0];\n            float defunc_2_reduce_res_80918 = color_82421[(int64_t) 0];\n            float defunc_2_reduce_res_80919 = color_82422[(int64_t) 0];\n            float defunc_2_reduce_res_80920 = color_82423[(int64_t) 0];\n            float defunc_2_reduce_res_80921 = color_82424[(int64_t) 0];\n            int64_t last_res_80927 = color_82434[(int64_t) 0];\n            int64_t min_res_80928 = color_82433[(int64_t) 0];\n            int64_t max_res_80929 = color_82432[(int64_t) 0];\n            float defunc_1_f_res_80930 = color_82431[(int64_t) 0];\n            float x_80932 = defunc_2_reduce_res_80919 *\n                  defunc_2_reduce_res_80921;\n            float y_80933 = defunc_2_reduce_res_80920 *\n                  defunc_2_reduce_res_80920;\n            float a12_80934 = x_80932 - y_80933;\n            float x_80935 = defunc_2_reduce_res_80919 *\n                  defunc_2_reduce_res_80920;\n            float y_80936 = defunc_2_reduce_res_80918 *\n                  defunc_2_reduce_res_80921;\n            float b12_80937 = x_80935 - y_80936;\n            float x_80938 = defunc_2_reduce_res_80918 *\n                  defunc_2_reduce_res_80920;\n            float y_80939 = defunc_2_reduce_res_80919 *\n                  defunc_2_reduce_res_80919;\n            float c12_80940 = x_80938 - y_80939;\n            float x_80941 = defunc_2_reduce_res_80917 *\n                  defunc_2_reduce_res_80921;\n            float b2_80942 = x_80941 - y_80939;\n            float x_80943 = ",
                   "defunc_2_reduce_res_80918 *\n                  defunc_2_reduce_res_80919;\n            float y_80944 = defunc_2_reduce_res_80917 *\n                  defunc_2_reduce_res_80920;\n            float c2_80945 = x_80943 - y_80944;\n            float x_80946 = defunc_2_reduce_res_80917 * a12_80934;\n            float y_80947 = defunc_2_reduce_res_80918 * b12_80937;\n            float x_80948 = x_80946 + y_80947;\n            float y_80949 = defunc_2_reduce_res_80919 * c12_80940;\n            float y_80950 = x_80948 + y_80949;\n            float det_80951 = 1.0F / y_80950;\n            float a12_80952 = a12_80934 * det_80951;\n            float b12_80953 = b12_80937 * det_80951;\n            float c12_80954 = c12_80940 * det_80951;\n            float b2_80955 = b2_80942 * det_80951;\n            float c2_80956 = c2_80945 * det_80951;\n            float defunc_2_reduce_res_80957;\n            float defunc_2_reduce_res_80958;\n            float redout_81160;\n            float redout_81161;\n            \n            redout_81160 = 0.0F;\n            redout_81161 = 0.0F;\n            for (int64_t i_81162 = 0; i_81162 < q_70235; i_81162++) {\n                float x_80966 = ((__global float *) mem_81881)[gtid_80914 *\n                                                               q_70235 +\n                                                               i_81162];\n                bool cond_80967 = sle64(last_res_80927, i_81162);\n                int64_t defunc_0_f_res_80968;\n                \n                if (cond_80967) {\n                    defunc_0_f_res_80968 = (int64_t) 0;\n                } else {\n                    int64_t i_80969 = add64(max_res_80929, i_81162);\n                    int64_t defunc_0_add_arg_80970 = ((__global\n                                                       int64_t *) mem_81857)[gtid_80914 *\n                                                                             n_70233 +\n                                                                             i_80969];\n          ",
                   "          int64_t defunc_1_add_res_80971 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_80970);\n                    \n                    defunc_0_f_res_80968 = defunc_1_add_res_80971;\n                }\n                \n                int64_t binop_p_80972 = sub64(defunc_0_f_res_80968,\n                                              min_res_80928);\n                float defunc_0_f_res_80973 = sitofp_i64_f32(binop_p_80972);\n                float abs_res_80974 = (float) fabs(defunc_0_f_res_80973);\n                float tmp1_80975 = abs_res_80974 / defunc_1_f_res_80930;\n                float x_80976 = tmp1_80975 * tmp1_80975;\n                float y_80977 = tmp1_80975 * x_80976;\n                float tmp2_80978 = 1.0F - y_80977;\n                float x_80979 = tmp2_80978 * tmp2_80978;\n                float tmp3_80980 = tmp2_80978 * x_80979;\n                float tmp4_80981 = x_80966 * tmp3_80980;\n                float defunc_1_f_res_80982 = defunc_0_f_res_80973 * tmp4_80981;\n                float defunc_1_f_res_80983 = defunc_0_f_res_80973 *\n                      defunc_1_f_res_80982;\n                float defunc_0_f_res_80984;\n                \n                if (cond_80967) {\n                    defunc_0_f_res_80984 = 0.0F;\n                } else {\n                    int64_t i_80985 = add64(max_res_80929, i_81162);\n                    float defunc_0_add_arg_80986 = ((__global\n                                                     float *) mem_81853)[gtid_80914 *\n                                                                         n_70233 +\n                                                                         i_80985];\n                    \n                    defunc_0_f_res_80984 = defunc_0_add_arg_80986;\n                }\n                \n                float x_80987 = a12_80952 * tmp4_80981;\n                float y_80988 = b12_80953 * defunc_1_f_res_80982;\n                float x_80989 = x_80987 + y_80988;\n     ",
                   "           float y_80990 = c12_80954 * defunc_1_f_res_80983;\n                float x_80991 = x_80989 + y_80990;\n                float defunc_9_fit_fun_res_80992 = defunc_0_f_res_80984 *\n                      x_80991;\n                float x_80993 = b12_80953 * tmp4_80981;\n                float y_80994 = b2_80955 * defunc_1_f_res_80982;\n                float x_80995 = x_80993 + y_80994;\n                float y_80996 = c2_80956 * defunc_1_f_res_80983;\n                float x_80997 = x_80995 + y_80996;\n                float defunc_9_slope_fun_res_80998 = defunc_0_f_res_80984 *\n                      x_80997;\n                float defunc_1_op_res_80961 = defunc_9_fit_fun_res_80992 +\n                      redout_81160;\n                float defunc_1_op_res_80964 = defunc_9_slope_fun_res_80998 +\n                      redout_81161;\n                float redout_tmp_83424 = defunc_1_op_res_80961;\n                float redout_tmp_83425 = defunc_1_op_res_80964;\n                \n                redout_81160 = redout_tmp_83424;\n                redout_81161 = redout_tmp_83425;\n            }\n            defunc_2_reduce_res_80957 = redout_81160;\n            defunc_2_reduce_res_80958 = redout_81161;\n            postlude_80925 = defunc_2_reduce_res_80957;\n            postlude_80926 = defunc_2_reduce_res_80958;\n        } else {\n            postlude_80925 = 0.0F;\n            postlude_80926 = 0.0F;\n        }\n        color_82426[(int64_t) 0] = postlude_80925;\n        color_82425[(int64_t) 0] = postlude_80926;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t thread_out_index_83426 = gid_x_80249 * tile_sizze_80252 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_83382));\n    int64_t thread_out_index_83427 = gid_y_80250 * tile_sizze_80252 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_83383));\n    \n    if (slt64(thread_out_index_83426, m_70232) && slt64(thread_out_index_83427,\n                                                        n_m_70241)) {\n        ((__global float *) mem_8197",
                   "9)[thread_out_index_83426 * n_m_70241 +\n                                       thread_out_index_83427] =\n            color_82426[(int64_t) 0];\n    }\n    \n    int64_t thread_out_index_83428 = gid_x_80249 * tile_sizze_80252 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_83382));\n    int64_t thread_out_index_83429 = gid_y_80250 * tile_sizze_80252 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_83383));\n    \n    if (slt64(thread_out_index_83428, m_70232) && slt64(thread_out_index_83429,\n                                                        n_m_70241)) {\n        ((__global float *) mem_81983)[thread_out_index_83428 * n_m_70241 +\n                                       thread_out_index_83429] =\n            color_82425[(int64_t) 0];\n    }\n    \n  error_7:\n    return;\n    #undef tile_sizze_80252\n}\n__kernel void mainzisegred_large_72122(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *sync_arr_mem_82831_backing_aligned_0,\n                                       __local volatile\n                                       int64_t *red_arr_mem_82829_backing_aligned_1,\n                                       int64_t m_70232, int64_t n_70233,\n                                       int64_t q_70235, int64_t jump_70237,\n                                       int64_t n_m_70241, int64_t i_70247,\n                                       int64_t num_groups_73058,\n                                       int64_t groups_per_segment_82815,\n                                       int64_t elements_per_thread_82816,\n                                       int64_t virt_num_groups_82817,\n                                       int64_t threads_per_segment_82819,\n                                       __global unsigned char *mem_81323,\n                                       __global unsigned char *mem_81327,\n                                       __global unsigned char *mem_81331,\n                                       __g",
                   "lobal unsigned char *mem_81355,\n                                       __global unsigned char *mem_81411,\n                                       __global unsigned char *mem_81415,\n                                       __global unsigned char *mem_81425,\n                                       __global unsigned char *mem_81430,\n                                       __global\n                                       unsigned char *segred_tmp_mem_82820,\n                                       __global\n                                       unsigned char *mainzicounter_mem_82822)\n{\n    #define segred_group_sizze_73057 (mainzisegred_group_sizze_72116)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_82831_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) sync_arr_mem_82831_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_82829_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_82829_backing_aligned_1;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82824;\n    int32_t local_tid_82825;\n    int64_t group_sizze_82828;\n    int32_t wave_sizze_82827;\n    int32_t group_tid_82826;\n    \n    global_tid_82824 = get_global_id(0);\n    local_tid_82825 = get_local_id(0);\n    group_sizze_82828 = get_local_size(0);\n    wave_sizze_82827 = LOCKSTEP_WIDTH;\n    group_tid_82826 = get_group_id(0);\n    \n    int32_t phys_tid_72122 = global_tid_82824;\n    __local unsigned char *red_arr_mem_82829;\n    \n    red_arr_mem_82829 = (__local unsigned char *) red_arr_mem_82829_backing_0;\n    \n    __local unsigned char *sync_arr_mem_82831;\n    \n    sync_arr_mem_82831 = (__local unsigned char *) sync_arr_mem_82831_backing_1;\n    \n    int32_t phys_group_id_82833;\n    \n    phys_group_id_82833 = get_group_id(0);",
                   "\n    for (int32_t i_82834 = 0; i_82834 <\n         sdiv_up32(sext_i64_i32(virt_num_groups_82817) - phys_group_id_82833,\n                   sext_i64_i32(num_groups_73058)); i_82834++) {\n        int32_t virt_group_id_82835 = phys_group_id_82833 + i_82834 *\n                sext_i64_i32(num_groups_73058);\n        int32_t flat_segment_id_82836 = squot32(virt_group_id_82835,\n                                                sext_i64_i32(groups_per_segment_82815));\n        int64_t global_tid_82837 = srem64(sext_i32_i64(virt_group_id_82835) *\n                                          segred_group_sizze_73057 +\n                                          sext_i32_i64(local_tid_82825),\n                                          segred_group_sizze_73057 *\n                                          groups_per_segment_82815);\n        int64_t slice_82838 = n_m_70241;\n        int64_t slice_82839 = m_70232 * slice_82838;\n        int64_t gtid_72111 = squot64(sext_i32_i64(flat_segment_id_82836),\n                                     slice_82838);\n        int64_t remnant_82840 = sext_i32_i64(flat_segment_id_82836) -\n                gtid_72111 * slice_82838;\n        int64_t gtid_72112 = remnant_82840;\n        int64_t remnant_82841 = remnant_82840 - gtid_72112;\n        int64_t gtid_72121;\n        float x_acc_82842;\n        int64_t chunk_sizze_82843 = smin64(elements_per_thread_82816,\n                                           sdiv_up64(q_70235 - global_tid_82837,\n                                                     threads_per_segment_82819));\n        float x_73061;\n        float x_73062;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_82842 = 0.0F;\n        }\n        for (int64_t i_82847 = 0; i_82847 < chunk_sizze_82843; i_82847++) {\n            gtid_72121 = global_tid_82837 + threads_per_segment_82819 * i_82847;\n            // apply map function\n            {\n                int64_t last_res_73064 = ((__global\n                                           int64",
                   "_t *) mem_81323)[gtid_72111 *\n                                                                 n_70233 +\n                                                                 i_70247];\n                int64_t binop_y_78964 = mul64(jump_70237, gtid_72112);\n                int64_t index_primexp_78965 = smin64(i_70247, binop_y_78964);\n                int64_t max_res_73073 = ((__global\n                                          int64_t *) mem_81411)[gtid_72111 *\n                                                                n_m_70241 +\n                                                                gtid_72112];\n                float defunc_1_f_res_73074 = ((__global\n                                               float *) mem_81415)[gtid_72111 *\n                                                                   n_m_70241 +\n                                                                   gtid_72112];\n                float a0_73075 = ((__global float *) mem_81425)[gtid_72111 *\n                                                                n_m_70241 +\n                                                                gtid_72112];\n                float x_73077 = ((__global float *) mem_81355)[gtid_72111 *\n                                                               q_70235 +\n                                                               gtid_72121];\n                bool cond_73078 = sle64(last_res_73064, gtid_72121);\n                int64_t defunc_0_f_res_73079;\n                \n                if (cond_73078) {\n                    defunc_0_f_res_73079 = (int64_t) 0;\n                } else {\n                    int64_t i_73080 = add64(gtid_72121, max_res_73073);\n                    int64_t defunc_0_add_arg_73081 = ((__global\n                                                       int64_t *) mem_81331)[gtid_72111 *\n                                                                             n_70233 +\n                                                                             i_7",
                   "3080];\n                    int64_t defunc_1_add_res_73082 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_73081);\n                    \n                    defunc_0_f_res_73079 = defunc_1_add_res_73082;\n                }\n                \n                int64_t binop_p_73083 = sub64(defunc_0_f_res_73079,\n                                              index_primexp_78965);\n                float defunc_0_f_res_73084 = sitofp_i64_f32(binop_p_73083);\n                float abs_res_73085 = (float) fabs(defunc_0_f_res_73084);\n                float tmp1_73086 = abs_res_73085 / defunc_1_f_res_73074;\n                float x_73087 = tmp1_73086 * tmp1_73086;\n                float y_73088 = tmp1_73086 * x_73087;\n                float tmp2_73089 = 1.0F - y_73088;\n                float x_73090 = tmp2_73089 * tmp2_73089;\n                float tmp3_73091 = tmp2_73089 * x_73090;\n                float tmp4_73092 = x_73077 * tmp3_73091;\n                float defunc_0_f_res_73093;\n                \n                if (cond_73078) {\n                    defunc_0_f_res_73093 = 0.0F;\n                } else {\n                    int64_t i_73094 = add64(gtid_72121, max_res_73073);\n                    float defunc_0_add_arg_73095 = ((__global\n                                                     float *) mem_81327)[gtid_72111 *\n                                                                         n_70233 +\n                                                                         i_73094];\n                    \n                    defunc_0_f_res_73093 = defunc_0_add_arg_73095;\n                }\n                \n                float x_73096 = a0_73075 * tmp4_73092;\n                float defunc_9_fit_fun_res_73097 = defunc_0_f_res_73093 *\n                      x_73096;\n                \n                // save map-out results\n                { }\n                // load accumulator\n                {\n                    x_73061 = x_acc_82842;\n          ",
                   "      }\n                // load new values\n                {\n                    x_73062 = defunc_9_fit_fun_res_73097;\n                }\n                // apply reduction operator\n                {\n                    float defunc_1_op_res_73063 = x_73061 + x_73062;\n                    \n                    // store in accumulator\n                    {\n                        x_acc_82842 = defunc_1_op_res_73063;\n                    }\n                }\n            }\n        }\n        // to reduce current chunk, first store our result in memory\n        {\n            x_73061 = x_acc_82842;\n            ((__local\n              float *) red_arr_mem_82829)[sext_i32_i64(local_tid_82825)] =\n                x_73061;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_82848;\n        int32_t skip_waves_82849 = 1;\n        float x_82844;\n        float x_82845;\n        \n        offset_82848 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_82825,\n                      sext_i64_i32(segred_group_sizze_73057))) {\n                x_82844 = ((__local\n                            float *) red_arr_mem_82829)[sext_i32_i64(local_tid_82825 +\n                                                        offset_82848)];\n            }\n        }\n        offset_82848 = 1;\n        while (slt32(offset_82848, wave_sizze_82827)) {\n            if (slt32(local_tid_82825 + offset_82848,\n                      sext_i64_i32(segred_group_sizze_73057)) &&\n                ((local_tid_82825 - squot32(local_tid_82825, wave_sizze_82827) *\n                  wave_sizze_82827) & (2 * offset_82848 - 1)) == 0) {\n                // read array element\n                {\n                    x_82845 = ((volatile __local\n                                float *) red_arr_mem_82829)[sext_i32_i64(local_tid_82825 +\n                                                            offset_82848)];\n                }\n                // apply reduction operation\n",
                   "                {\n                    float defunc_1_op_res_82846 = x_82844 + x_82845;\n                    \n                    x_82844 = defunc_1_op_res_82846;\n                }\n                // write result of operation\n                {\n                    ((volatile __local\n                      float *) red_arr_mem_82829)[sext_i32_i64(local_tid_82825)] =\n                        x_82844;\n                }\n            }\n            offset_82848 *= 2;\n        }\n        while (slt32(skip_waves_82849,\n                     squot32(sext_i64_i32(segred_group_sizze_73057) +\n                             wave_sizze_82827 - 1, wave_sizze_82827))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_82848 = skip_waves_82849 * wave_sizze_82827;\n            if (slt32(local_tid_82825 + offset_82848,\n                      sext_i64_i32(segred_group_sizze_73057)) &&\n                ((local_tid_82825 - squot32(local_tid_82825, wave_sizze_82827) *\n                  wave_sizze_82827) == 0 && (squot32(local_tid_82825,\n                                                     wave_sizze_82827) & (2 *\n                                                                          skip_waves_82849 -\n                                                                          1)) ==\n                 0)) {\n                // read array element\n                {\n                    x_82845 = ((__local\n                                float *) red_arr_mem_82829)[sext_i32_i64(local_tid_82825 +\n                                                            offset_82848)];\n                }\n                // apply reduction operation\n                {\n                    float defunc_1_op_res_82846 = x_82844 + x_82845;\n                    \n                    x_82844 = defunc_1_op_res_82846;\n                }\n                // write result of operation\n                {\n                    ((__local\n                      float *) red_arr_mem_82829)[sext_i32_i64(local_tid_82825)] =\n                ",
                   "        x_82844;\n                }\n            }\n            skip_waves_82849 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_82825) == (int64_t) 0) {\n                x_acc_82842 = x_82844;\n            }\n        }\n        if (groups_per_segment_82815 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_82825 == 0) {\n                    ((__global float *) mem_81430)[gtid_72111 * n_m_70241 +\n                                                   gtid_72112] = x_acc_82842;\n                }\n            }\n        } else {\n            int32_t old_counter_82850;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_82825 == 0) {\n                    ((__global\n                      float *) segred_tmp_mem_82820)[sext_i32_i64(virt_group_id_82835)] =\n                        x_acc_82842;\n                    mem_fence_global();\n                    old_counter_82850 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_82822)[sext_i32_i64(srem32(flat_segment_id_82836,\n                                                                                                     10240))],\n                                              (int) 1);\n                    ((__local bool *) sync_arr_mem_82831)[(int64_t) 0] =\n                        old_counter_82850 == groups_per_segment_82815 -\n                        (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_82851 = ((__local\n                                         bool *) sync_arr_mem_82831)[(int64_t) 0];\n            \n            if (is_last_group_82851) {\n                if (local_tid_82825 ==",
                   " 0) {\n                    old_counter_82850 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_82822)[sext_i32_i64(srem32(flat_segment_id_82836,\n                                                                                                     10240))],\n                                              (int) ((int64_t) 0 -\n                                                     groups_per_segment_82815));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_82852 =\n                            sdiv_up64(groups_per_segment_82815,\n                                      segred_group_sizze_73057);\n                    \n                    x_73061 = 0.0F;\n                    for (int64_t i_82853 = 0; i_82853 < read_per_thread_82852;\n                         i_82853++) {\n                        int64_t group_res_id_82854 =\n                                sext_i32_i64(local_tid_82825) *\n                                read_per_thread_82852 + i_82853;\n                        int64_t index_of_group_res_82855 =\n                                sext_i32_i64(flat_segment_id_82836) *\n                                groups_per_segment_82815 + group_res_id_82854;\n                        \n                        if (slt64(group_res_id_82854,\n                                  groups_per_segment_82815)) {\n                            x_73062 = ((__global\n                                        float *) segred_tmp_mem_82820)[index_of_group_res_82855];\n                            \n                            float defunc_1_op_res_73063 = x_73061 + x_73062;\n                            \n                            x_73061 = defunc_1_op_res_73063;\n                        }\n                    }\n                }\n                ((__local\n                  float *) red_arr_mem_82829)[sext_i32_i64(local_tid_82825)] =\n                  ",
                   "  x_73061;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_82856;\n                    int32_t skip_waves_82857 = 1;\n                    float x_82844;\n                    float x_82845;\n                    \n                    offset_82856 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_82825,\n                                  sext_i64_i32(segred_group_sizze_73057))) {\n                            x_82844 = ((__local\n                                        float *) red_arr_mem_82829)[sext_i32_i64(local_tid_82825 +\n                                                                    offset_82856)];\n                        }\n                    }\n                    offset_82856 = 1;\n                    while (slt32(offset_82856, wave_sizze_82827)) {\n                        if (slt32(local_tid_82825 + offset_82856,\n                                  sext_i64_i32(segred_group_sizze_73057)) &&\n                            ((local_tid_82825 - squot32(local_tid_82825,\n                                                        wave_sizze_82827) *\n                              wave_sizze_82827) & (2 * offset_82856 - 1)) ==\n                            0) {\n                            // read array element\n                            {\n                                x_82845 = ((volatile __local\n                                            float *) red_arr_mem_82829)[sext_i32_i64(local_tid_82825 +\n                                                                        offset_82856)];\n                            }\n                            // apply reduction operation\n                            {\n                                float defunc_1_op_res_82846 = x_82844 + x_82845;\n                                \n                                x_82844 = defunc_1_op_res_82846;\n                     ",
                   "       }\n                            // write result of operation\n                            {\n                                ((volatile __local\n                                  float *) red_arr_mem_82829)[sext_i32_i64(local_tid_82825)] =\n                                    x_82844;\n                            }\n                        }\n                        offset_82856 *= 2;\n                    }\n                    while (slt32(skip_waves_82857,\n                                 squot32(sext_i64_i32(segred_group_sizze_73057) +\n                                         wave_sizze_82827 - 1,\n                                         wave_sizze_82827))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_82856 = skip_waves_82857 * wave_sizze_82827;\n                        if (slt32(local_tid_82825 + offset_82856,\n                                  sext_i64_i32(segred_group_sizze_73057)) &&\n                            ((local_tid_82825 - squot32(local_tid_82825,\n                                                        wave_sizze_82827) *\n                              wave_sizze_82827) == 0 &&\n                             (squot32(local_tid_82825, wave_sizze_82827) & (2 *\n                                                                            skip_waves_82857 -\n                                                                            1)) ==\n                             0)) {\n                            // read array element\n                            {\n                                x_82845 = ((__local\n                                            float *) red_arr_mem_82829)[sext_i32_i64(local_tid_82825 +\n                                                                        offset_82856)];\n                            }\n                            // apply reduction operation\n                            {\n                                float defunc_1_op_res_82846 = x_82844 + x_82845;\n                                \n        ",
                   "                        x_82844 = defunc_1_op_res_82846;\n                            }\n                            // write result of operation\n                            {\n                                ((__local\n                                  float *) red_arr_mem_82829)[sext_i32_i64(local_tid_82825)] =\n                                    x_82844;\n                            }\n                        }\n                        skip_waves_82857 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_82825 == 0) {\n                            ((__global float *) mem_81430)[gtid_72111 *\n                                                           n_m_70241 +\n                                                           gtid_72112] =\n                                x_82844;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_73057\n}\n__kernel void mainzisegred_large_72183(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *sync_arr_mem_82753_backing_aligned_0,\n                                       __local volatile\n                                       int64_t *red_arr_mem_82751_backing_aligned_1,\n                                       int64_t m_70232, int64_t n_70233,\n                                       int64_t q_70235, int64_t jump_70237,\n                                       int64_t n_m_70241, int64_t i_70247,\n                                       int64_t num_groups_73015,\n                                       int64_t groups_per_segment_82737,\n                                       int64_t elements_per_thread_82738,\n                                       int64_t virt_num_groups_82739,\n                                       int6",
                   "4_t threads_per_segment_82741,\n                                       __global unsigned char *mem_81323,\n                                       __global unsigned char *mem_81331,\n                                       __global unsigned char *mem_81355,\n                                       __global unsigned char *mem_81411,\n                                       __global unsigned char *mem_81415,\n                                       __global unsigned char *mem_81420,\n                                       __global\n                                       unsigned char *segred_tmp_mem_82742,\n                                       __global\n                                       unsigned char *mainzicounter_mem_82744)\n{\n    #define segred_group_sizze_73014 (mainzisegred_group_sizze_72177)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_82753_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) sync_arr_mem_82753_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_82751_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_82751_backing_aligned_1;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82746;\n    int32_t local_tid_82747;\n    int64_t group_sizze_82750;\n    int32_t wave_sizze_82749;\n    int32_t group_tid_82748;\n    \n    global_tid_82746 = get_global_id(0);\n    local_tid_82747 = get_local_id(0);\n    group_sizze_82750 = get_local_size(0);\n    wave_sizze_82749 = LOCKSTEP_WIDTH;\n    group_tid_82748 = get_group_id(0);\n    \n    int32_t phys_tid_72183 = global_tid_82746;\n    __local unsigned char *red_arr_mem_82751;\n    \n    red_arr_mem_82751 = (__local unsigned char *) red_arr_mem_82751_backing_0;\n    \n    __local unsigned char *sync_arr_mem_82753;\n    \n    sync_arr_mem_82",
                   "753 = (__local unsigned char *) sync_arr_mem_82753_backing_1;\n    \n    int32_t phys_group_id_82755;\n    \n    phys_group_id_82755 = get_group_id(0);\n    for (int32_t i_82756 = 0; i_82756 <\n         sdiv_up32(sext_i64_i32(virt_num_groups_82739) - phys_group_id_82755,\n                   sext_i64_i32(num_groups_73015)); i_82756++) {\n        int32_t virt_group_id_82757 = phys_group_id_82755 + i_82756 *\n                sext_i64_i32(num_groups_73015);\n        int32_t flat_segment_id_82758 = squot32(virt_group_id_82757,\n                                                sext_i64_i32(groups_per_segment_82737));\n        int64_t global_tid_82759 = srem64(sext_i32_i64(virt_group_id_82757) *\n                                          segred_group_sizze_73014 +\n                                          sext_i32_i64(local_tid_82747),\n                                          segred_group_sizze_73014 *\n                                          groups_per_segment_82737);\n        int64_t slice_82760 = n_m_70241;\n        int64_t slice_82761 = m_70232 * slice_82760;\n        int64_t gtid_72172 = squot64(sext_i32_i64(flat_segment_id_82758),\n                                     slice_82760);\n        int64_t remnant_82762 = sext_i32_i64(flat_segment_id_82758) -\n                gtid_72172 * slice_82760;\n        int64_t gtid_72173 = remnant_82762;\n        int64_t remnant_82763 = remnant_82762 - gtid_72173;\n        int64_t gtid_72182;\n        float x_acc_82764;\n        int64_t chunk_sizze_82765 = smin64(elements_per_thread_82738,\n                                           sdiv_up64(q_70235 - global_tid_82759,\n                                                     threads_per_segment_82741));\n        float x_73018;\n        float x_73019;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_82764 = 0.0F;\n        }\n        for (int64_t i_82769 = 0; i_82769 < chunk_sizze_82765; i_82769++) {\n            gtid_72182 = global_tid_82759 + threads_per_segment_82741 * i_82769;\n ",
                   "           // apply map function\n            {\n                int64_t last_res_73021 = ((__global\n                                           int64_t *) mem_81323)[gtid_72172 *\n                                                                 n_70233 +\n                                                                 i_70247];\n                int64_t binop_y_78958 = mul64(jump_70237, gtid_72173);\n                int64_t index_primexp_78959 = smin64(i_70247, binop_y_78958);\n                float defunc_1_f_res_73029 = ((__global\n                                               float *) mem_81415)[gtid_72172 *\n                                                                   n_m_70241 +\n                                                                   gtid_72173];\n                float x_73031 = ((__global float *) mem_81355)[gtid_72172 *\n                                                               q_70235 +\n                                                               gtid_72182];\n                bool cond_73032 = sle64(last_res_73021, gtid_72182);\n                int64_t defunc_0_f_res_73033;\n                \n                if (cond_73032) {\n                    defunc_0_f_res_73033 = (int64_t) 0;\n                } else {\n                    int64_t max_res_73028 = ((__global\n                                              int64_t *) mem_81411)[gtid_72172 *\n                                                                    n_m_70241 +\n                                                                    gtid_72173];\n                    int64_t i_73034 = add64(gtid_72182, max_res_73028);\n                    int64_t defunc_0_add_arg_73035 = ((__global\n                                                       int64_t *) mem_81331)[gtid_72172 *\n                                                                             n_70233 +\n                                                                             i_73034];\n                    int64_t defunc_1_add_res_73036 = add64((",
                   "int64_t) 1,\n                                                           defunc_0_add_arg_73035);\n                    \n                    defunc_0_f_res_73033 = defunc_1_add_res_73036;\n                }\n                \n                int64_t binop_p_73037 = sub64(defunc_0_f_res_73033,\n                                              index_primexp_78959);\n                float defunc_0_f_res_73038 = sitofp_i64_f32(binop_p_73037);\n                float abs_res_73039 = (float) fabs(defunc_0_f_res_73038);\n                float tmp1_73040 = abs_res_73039 / defunc_1_f_res_73029;\n                float x_73041 = tmp1_73040 * tmp1_73040;\n                float y_73042 = tmp1_73040 * x_73041;\n                float tmp2_73043 = 1.0F - y_73042;\n                float x_73044 = tmp2_73043 * tmp2_73043;\n                float tmp3_73045 = tmp2_73043 * x_73044;\n                float w_j_73046 = x_73031 * tmp3_73045;\n                \n                // save map-out results\n                { }\n                // load accumulator\n                {\n                    x_73018 = x_acc_82764;\n                }\n                // load new values\n                {\n                    x_73019 = w_j_73046;\n                }\n                // apply reduction operator\n                {\n                    float defunc_1_op_res_73020 = x_73018 + x_73019;\n                    \n                    // store in accumulator\n                    {\n                        x_acc_82764 = defunc_1_op_res_73020;\n                    }\n                }\n            }\n        }\n        // to reduce current chunk, first store our result in memory\n        {\n            x_73018 = x_acc_82764;\n            ((__local\n              float *) red_arr_mem_82751)[sext_i32_i64(local_tid_82747)] =\n                x_73018;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_82770;\n        int32_t skip_waves_82771 = 1;\n        float x_82766;\n        float x_82767;\n        \n        offset_82770 = 0;\n ",
                   "       // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_82747,\n                      sext_i64_i32(segred_group_sizze_73014))) {\n                x_82766 = ((__local\n                            float *) red_arr_mem_82751)[sext_i32_i64(local_tid_82747 +\n                                                        offset_82770)];\n            }\n        }\n        offset_82770 = 1;\n        while (slt32(offset_82770, wave_sizze_82749)) {\n            if (slt32(local_tid_82747 + offset_82770,\n                      sext_i64_i32(segred_group_sizze_73014)) &&\n                ((local_tid_82747 - squot32(local_tid_82747, wave_sizze_82749) *\n                  wave_sizze_82749) & (2 * offset_82770 - 1)) == 0) {\n                // read array element\n                {\n                    x_82767 = ((volatile __local\n                                float *) red_arr_mem_82751)[sext_i32_i64(local_tid_82747 +\n                                                            offset_82770)];\n                }\n                // apply reduction operation\n                {\n                    float defunc_1_op_res_82768 = x_82766 + x_82767;\n                    \n                    x_82766 = defunc_1_op_res_82768;\n                }\n                // write result of operation\n                {\n                    ((volatile __local\n                      float *) red_arr_mem_82751)[sext_i32_i64(local_tid_82747)] =\n                        x_82766;\n                }\n            }\n            offset_82770 *= 2;\n        }\n        while (slt32(skip_waves_82771,\n                     squot32(sext_i64_i32(segred_group_sizze_73014) +\n                             wave_sizze_82749 - 1, wave_sizze_82749))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_82770 = skip_waves_82771 * wave_sizze_82749;\n            if (slt32(local_tid_82747 + offset_82770,\n                      sext_i64_i32(segred_group_sizze_73014)) &&\n                ((local_tid_82747 - squot32(lo",
                   "cal_tid_82747, wave_sizze_82749) *\n                  wave_sizze_82749) == 0 && (squot32(local_tid_82747,\n                                                     wave_sizze_82749) & (2 *\n                                                                          skip_waves_82771 -\n                                                                          1)) ==\n                 0)) {\n                // read array element\n                {\n                    x_82767 = ((__local\n                                float *) red_arr_mem_82751)[sext_i32_i64(local_tid_82747 +\n                                                            offset_82770)];\n                }\n                // apply reduction operation\n                {\n                    float defunc_1_op_res_82768 = x_82766 + x_82767;\n                    \n                    x_82766 = defunc_1_op_res_82768;\n                }\n                // write result of operation\n                {\n                    ((__local\n                      float *) red_arr_mem_82751)[sext_i32_i64(local_tid_82747)] =\n                        x_82766;\n                }\n            }\n            skip_waves_82771 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_82747) == (int64_t) 0) {\n                x_acc_82764 = x_82766;\n            }\n        }\n        if (groups_per_segment_82737 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_82747 == 0) {\n                    ((__global float *) mem_81420)[gtid_72172 * n_m_70241 +\n                                                   gtid_72173] = x_acc_82764;\n                }\n            }\n        } else {\n            int32_t old_counter_82772;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_82747 == 0) {\n                    ((__global\n  ",
                   "                    float *) segred_tmp_mem_82742)[sext_i32_i64(virt_group_id_82757)] =\n                        x_acc_82764;\n                    mem_fence_global();\n                    old_counter_82772 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_82744)[sext_i32_i64(srem32(flat_segment_id_82758,\n                                                                                                     10240))],\n                                              (int) 1);\n                    ((__local bool *) sync_arr_mem_82753)[(int64_t) 0] =\n                        old_counter_82772 == groups_per_segment_82737 -\n                        (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_82773 = ((__local\n                                         bool *) sync_arr_mem_82753)[(int64_t) 0];\n            \n            if (is_last_group_82773) {\n                if (local_tid_82747 == 0) {\n                    old_counter_82772 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_82744)[sext_i32_i64(srem32(flat_segment_id_82758,\n                                                                                                     10240))],\n                                              (int) ((int64_t) 0 -\n                                                     groups_per_segment_82737));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_82774 =\n                            sdiv_up64(groups_per_segment_82737,\n                                      segred_group_sizze_73014);\n                    \n                    x_73018 = 0.0F;\n                    for (int64_t i_82775 = 0; i_82775 < read_per_thread_82774;\n                         ",
                   "i_82775++) {\n                        int64_t group_res_id_82776 =\n                                sext_i32_i64(local_tid_82747) *\n                                read_per_thread_82774 + i_82775;\n                        int64_t index_of_group_res_82777 =\n                                sext_i32_i64(flat_segment_id_82758) *\n                                groups_per_segment_82737 + group_res_id_82776;\n                        \n                        if (slt64(group_res_id_82776,\n                                  groups_per_segment_82737)) {\n                            x_73019 = ((__global\n                                        float *) segred_tmp_mem_82742)[index_of_group_res_82777];\n                            \n                            float defunc_1_op_res_73020 = x_73018 + x_73019;\n                            \n                            x_73018 = defunc_1_op_res_73020;\n                        }\n                    }\n                }\n                ((__local\n                  float *) red_arr_mem_82751)[sext_i32_i64(local_tid_82747)] =\n                    x_73018;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_82778;\n                    int32_t skip_waves_82779 = 1;\n                    float x_82766;\n                    float x_82767;\n                    \n                    offset_82778 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_82747,\n                                  sext_i64_i32(segred_group_sizze_73014))) {\n                            x_82766 = ((__local\n                                        float *) red_arr_mem_82751)[sext_i32_i64(local_tid_82747 +\n                                                                    offset_82778)];\n                        }\n                    }\n                    offset_82778 = 1;\n                    while (slt32(offset_82",
                   "778, wave_sizze_82749)) {\n                        if (slt32(local_tid_82747 + offset_82778,\n                                  sext_i64_i32(segred_group_sizze_73014)) &&\n                            ((local_tid_82747 - squot32(local_tid_82747,\n                                                        wave_sizze_82749) *\n                              wave_sizze_82749) & (2 * offset_82778 - 1)) ==\n                            0) {\n                            // read array element\n                            {\n                                x_82767 = ((volatile __local\n                                            float *) red_arr_mem_82751)[sext_i32_i64(local_tid_82747 +\n                                                                        offset_82778)];\n                            }\n                            // apply reduction operation\n                            {\n                                float defunc_1_op_res_82768 = x_82766 + x_82767;\n                                \n                                x_82766 = defunc_1_op_res_82768;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local\n                                  float *) red_arr_mem_82751)[sext_i32_i64(local_tid_82747)] =\n                                    x_82766;\n                            }\n                        }\n                        offset_82778 *= 2;\n                    }\n                    while (slt32(skip_waves_82779,\n                                 squot32(sext_i64_i32(segred_group_sizze_73014) +\n                                         wave_sizze_82749 - 1,\n                                         wave_sizze_82749))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_82778 = skip_waves_82779 * wave_sizze_82749;\n                        if (slt32(local_tid_82747 + offset_82778,\n                                  sext_i64_i32(segred_group_",
                   "sizze_73014)) &&\n                            ((local_tid_82747 - squot32(local_tid_82747,\n                                                        wave_sizze_82749) *\n                              wave_sizze_82749) == 0 &&\n                             (squot32(local_tid_82747, wave_sizze_82749) & (2 *\n                                                                            skip_waves_82779 -\n                                                                            1)) ==\n                             0)) {\n                            // read array element\n                            {\n                                x_82767 = ((__local\n                                            float *) red_arr_mem_82751)[sext_i32_i64(local_tid_82747 +\n                                                                        offset_82778)];\n                            }\n                            // apply reduction operation\n                            {\n                                float defunc_1_op_res_82768 = x_82766 + x_82767;\n                                \n                                x_82766 = defunc_1_op_res_82768;\n                            }\n                            // write result of operation\n                            {\n                                ((__local\n                                  float *) red_arr_mem_82751)[sext_i32_i64(local_tid_82747)] =\n                                    x_82766;\n                            }\n                        }\n                        skip_waves_82779 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_82747 == 0) {\n                            ((__global float *) mem_81420)[gtid_72172 *\n                                                           n_m_70241 +\n                                                           gtid_72173] =\n                                x_82766;\n                        }\n                    }",
                   "\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_73014\n}\n__kernel void mainzisegred_large_73733(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *sync_arr_mem_83208_backing_aligned_0,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83206_backing_aligned_1,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83204_backing_aligned_2,\n                                       int64_t m_70232, int64_t n_70233,\n                                       int64_t q_70235, int64_t jump_70237,\n                                       int64_t n_m_70241, int64_t i_70247,\n                                       int64_t num_groups_74792,\n                                       int64_t groups_per_segment_83188,\n                                       int64_t elements_per_thread_83189,\n                                       int64_t virt_num_groups_83190,\n                                       int64_t threads_per_segment_83192,\n                                       __global unsigned char *mem_81557,\n                                       __global unsigned char *mem_81561,\n                                       __global unsigned char *mem_81565,\n                                       __global unsigned char *mem_81589,\n                                       __global unsigned char *mem_81676,\n                                       __global unsigned char *mem_81680,\n                                       __global unsigned char *mem_81698,\n                                       __global unsigned char *mem_81702,\n                                       __global unsigned char *mem_81706,\n                                       __global unsigned char *mem_81711,\n           ",
                   "                            __global unsigned char *mem_81715,\n                                       __global\n                                       unsigned char *segred_tmp_mem_83193,\n                                       __global\n                                       unsigned char *segred_tmp_mem_83195,\n                                       __global\n                                       unsigned char *mainzicounter_mem_83197)\n{\n    #define segred_group_sizze_74791 (mainzisegred_group_sizze_73727)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_83208_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) sync_arr_mem_83208_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_83206_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83206_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_83204_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83204_backing_aligned_2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83199;\n    int32_t local_tid_83200;\n    int64_t group_sizze_83203;\n    int32_t wave_sizze_83202;\n    int32_t group_tid_83201;\n    \n    global_tid_83199 = get_global_id(0);\n    local_tid_83200 = get_local_id(0);\n    group_sizze_83203 = get_local_size(0);\n    wave_sizze_83202 = LOCKSTEP_WIDTH;\n    group_tid_83201 = get_group_id(0);\n    \n    int32_t phys_tid_73733 = global_tid_83199;\n    __local unsigned char *red_arr_mem_83204;\n    \n    red_arr_mem_83204 = (__local unsigned char *) red_arr_mem_83204_backing_0;\n    \n    __local unsigned char *red_arr_mem_83206;\n    \n    red_arr_mem_83206 = (__local unsigned char *) red_arr_mem_83206_backing_1;\n    \n    __",
                   "local unsigned char *sync_arr_mem_83208;\n    \n    sync_arr_mem_83208 = (__local unsigned char *) sync_arr_mem_83208_backing_2;\n    \n    int32_t phys_group_id_83210;\n    \n    phys_group_id_83210 = get_group_id(0);\n    for (int32_t i_83211 = 0; i_83211 <\n         sdiv_up32(sext_i64_i32(virt_num_groups_83190) - phys_group_id_83210,\n                   sext_i64_i32(num_groups_74792)); i_83211++) {\n        int32_t virt_group_id_83212 = phys_group_id_83210 + i_83211 *\n                sext_i64_i32(num_groups_74792);\n        int32_t flat_segment_id_83213 = squot32(virt_group_id_83212,\n                                                sext_i64_i32(groups_per_segment_83188));\n        int64_t global_tid_83214 = srem64(sext_i32_i64(virt_group_id_83212) *\n                                          segred_group_sizze_74791 +\n                                          sext_i32_i64(local_tid_83200),\n                                          segred_group_sizze_74791 *\n                                          groups_per_segment_83188);\n        int64_t slice_83215 = n_m_70241;\n        int64_t slice_83216 = m_70232 * slice_83215;\n        int64_t gtid_73722 = squot64(sext_i32_i64(flat_segment_id_83213),\n                                     slice_83215);\n        int64_t remnant_83217 = sext_i32_i64(flat_segment_id_83213) -\n                gtid_73722 * slice_83215;\n        int64_t gtid_73723 = remnant_83217;\n        int64_t remnant_83218 = remnant_83217 - gtid_73723;\n        int64_t gtid_73732;\n        float x_acc_83219;\n        float x_acc_83220;\n        int64_t chunk_sizze_83221 = smin64(elements_per_thread_83189,\n                                           sdiv_up64(q_70235 - global_tid_83214,\n                                                     threads_per_segment_83192));\n        float x_74796;\n        float x_74797;\n        float x_74798;\n        float x_74799;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_83219 = 0.0F;\n            x_acc_83220 = 0.0F",
                   ";\n        }\n        for (int64_t i_83228 = 0; i_83228 < chunk_sizze_83221; i_83228++) {\n            gtid_73732 = global_tid_83214 + threads_per_segment_83192 * i_83228;\n            // apply map function\n            {\n                int64_t last_res_74802 = ((__global\n                                           int64_t *) mem_81557)[gtid_73722 *\n                                                                 n_70233 +\n                                                                 i_70247];\n                int64_t binop_y_78984 = mul64(jump_70237, gtid_73723);\n                int64_t index_primexp_78985 = smin64(i_70247, binop_y_78984);\n                int64_t max_res_74813 = ((__global\n                                          int64_t *) mem_81676)[gtid_73722 *\n                                                                n_m_70241 +\n                                                                gtid_73723];\n                float defunc_1_f_res_74814 = ((__global\n                                               float *) mem_81680)[gtid_73722 *\n                                                                   n_m_70241 +\n                                                                   gtid_73723];\n                float a11_74815 = ((__global float *) mem_81698)[gtid_73722 *\n                                                                 n_m_70241 +\n                                                                 gtid_73723];\n                float b11_74816 = ((__global float *) mem_81702)[gtid_73722 *\n                                                                 n_m_70241 +\n                                                                 gtid_73723];\n                float c11_74817 = ((__global float *) mem_81706)[gtid_73722 *\n                                                                 n_m_70241 +\n                                                                 gtid_73723];\n                float x_74819 = ((__global float *) mem_81589)[gtid_73722 *\n   ",
                   "                                                            q_70235 +\n                                                               gtid_73732];\n                bool cond_74820 = sle64(last_res_74802, gtid_73732);\n                int64_t defunc_0_f_res_74821;\n                \n                if (cond_74820) {\n                    defunc_0_f_res_74821 = (int64_t) 0;\n                } else {\n                    int64_t i_74822 = add64(gtid_73732, max_res_74813);\n                    int64_t defunc_0_add_arg_74823 = ((__global\n                                                       int64_t *) mem_81565)[gtid_73722 *\n                                                                             n_70233 +\n                                                                             i_74822];\n                    int64_t defunc_1_add_res_74824 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_74823);\n                    \n                    defunc_0_f_res_74821 = defunc_1_add_res_74824;\n                }\n                \n                int64_t binop_p_74825 = sub64(defunc_0_f_res_74821,\n                                              index_primexp_78985);\n                float defunc_0_f_res_74826 = sitofp_i64_f32(binop_p_74825);\n                float abs_res_74827 = (float) fabs(defunc_0_f_res_74826);\n                float tmp1_74828 = abs_res_74827 / defunc_1_f_res_74814;\n                float x_74829 = tmp1_74828 * tmp1_74828;\n                float y_74830 = tmp1_74828 * x_74829;\n                float tmp2_74831 = 1.0F - y_74830;\n                float x_74832 = tmp2_74831 * tmp2_74831;\n                float tmp3_74833 = tmp2_74831 * x_74832;\n                float tmp4_74834 = x_74819 * tmp3_74833;\n                float defunc_1_f_res_74835 = defunc_0_f_res_74826 * tmp4_74834;\n                float defunc_0_f_res_74836;\n                \n                if (cond_74820) {\n                    defunc_0_f_res_74836 = 0.0F;\n            ",
                   "    } else {\n                    int64_t i_74837 = add64(gtid_73732, max_res_74813);\n                    float defunc_0_add_arg_74838 = ((__global\n                                                     float *) mem_81561)[gtid_73722 *\n                                                                         n_70233 +\n                                                                         i_74837];\n                    \n                    defunc_0_f_res_74836 = defunc_0_add_arg_74838;\n                }\n                \n                float x_74839 = a11_74815 * tmp4_74834;\n                float y_74840 = b11_74816 * defunc_1_f_res_74835;\n                float x_74841 = x_74839 + y_74840;\n                float defunc_9_fit_fun_res_74842 = defunc_0_f_res_74836 *\n                      x_74841;\n                float x_74843 = b11_74816 * tmp4_74834;\n                float y_74844 = c11_74817 * defunc_1_f_res_74835;\n                float x_74845 = x_74843 + y_74844;\n                float defunc_9_slope_fun_res_74846 = defunc_0_f_res_74836 *\n                      x_74845;\n                \n                // save map-out results\n                { }\n                // load accumulator\n                {\n                    x_74796 = x_acc_83219;\n                    x_74797 = x_acc_83220;\n                }\n                // load new values\n                {\n                    x_74798 = defunc_9_fit_fun_res_74842;\n                    x_74799 = defunc_9_slope_fun_res_74846;\n                }\n                // apply reduction operator\n                {\n                    float defunc_1_op_res_74800 = x_74796 + x_74798;\n                    float defunc_1_op_res_74801 = x_74797 + x_74799;\n                    \n                    // store in accumulator\n                    {\n                        x_acc_83219 = defunc_1_op_res_74800;\n                        x_acc_83220 = defunc_1_op_res_74801;\n                    }\n                }\n            }\n        }\n        // to reduce cu",
                   "rrent chunk, first store our result in memory\n        {\n            x_74796 = x_acc_83219;\n            x_74797 = x_acc_83220;\n            ((__local\n              float *) red_arr_mem_83204)[sext_i32_i64(local_tid_83200)] =\n                x_74796;\n            ((__local\n              float *) red_arr_mem_83206)[sext_i32_i64(local_tid_83200)] =\n                x_74797;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_83229;\n        int32_t skip_waves_83230 = 1;\n        float x_83222;\n        float x_83223;\n        float x_83224;\n        float x_83225;\n        \n        offset_83229 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_83200,\n                      sext_i64_i32(segred_group_sizze_74791))) {\n                x_83222 = ((__local\n                            float *) red_arr_mem_83204)[sext_i32_i64(local_tid_83200 +\n                                                        offset_83229)];\n                x_83223 = ((__local\n                            float *) red_arr_mem_83206)[sext_i32_i64(local_tid_83200 +\n                                                        offset_83229)];\n            }\n        }\n        offset_83229 = 1;\n        while (slt32(offset_83229, wave_sizze_83202)) {\n            if (slt32(local_tid_83200 + offset_83229,\n                      sext_i64_i32(segred_group_sizze_74791)) &&\n                ((local_tid_83200 - squot32(local_tid_83200, wave_sizze_83202) *\n                  wave_sizze_83202) & (2 * offset_83229 - 1)) == 0) {\n                // read array element\n                {\n                    x_83224 = ((volatile __local\n                                float *) red_arr_mem_83204)[sext_i32_i64(local_tid_83200 +\n                                                            offset_83229)];\n                    x_83225 = ((volatile __local\n                                float *) red_arr_mem_83206)[sext_i32_i64(local_tid_83200 +\n                            ",
                   "                                offset_83229)];\n                }\n                // apply reduction operation\n                {\n                    float defunc_1_op_res_83226 = x_83222 + x_83224;\n                    float defunc_1_op_res_83227 = x_83223 + x_83225;\n                    \n                    x_83222 = defunc_1_op_res_83226;\n                    x_83223 = defunc_1_op_res_83227;\n                }\n                // write result of operation\n                {\n                    ((volatile __local\n                      float *) red_arr_mem_83204)[sext_i32_i64(local_tid_83200)] =\n                        x_83222;\n                    ((volatile __local\n                      float *) red_arr_mem_83206)[sext_i32_i64(local_tid_83200)] =\n                        x_83223;\n                }\n            }\n            offset_83229 *= 2;\n        }\n        while (slt32(skip_waves_83230,\n                     squot32(sext_i64_i32(segred_group_sizze_74791) +\n                             wave_sizze_83202 - 1, wave_sizze_83202))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_83229 = skip_waves_83230 * wave_sizze_83202;\n            if (slt32(local_tid_83200 + offset_83229,\n                      sext_i64_i32(segred_group_sizze_74791)) &&\n                ((local_tid_83200 - squot32(local_tid_83200, wave_sizze_83202) *\n                  wave_sizze_83202) == 0 && (squot32(local_tid_83200,\n                                                     wave_sizze_83202) & (2 *\n                                                                          skip_waves_83230 -\n                                                                          1)) ==\n                 0)) {\n                // read array element\n                {\n                    x_83224 = ((__local\n                                float *) red_arr_mem_83204)[sext_i32_i64(local_tid_83200 +\n                                                            offset_83229)];\n                    x_83225 = ((__local\n      ",
                   "                          float *) red_arr_mem_83206)[sext_i32_i64(local_tid_83200 +\n                                                            offset_83229)];\n                }\n                // apply reduction operation\n                {\n                    float defunc_1_op_res_83226 = x_83222 + x_83224;\n                    float defunc_1_op_res_83227 = x_83223 + x_83225;\n                    \n                    x_83222 = defunc_1_op_res_83226;\n                    x_83223 = defunc_1_op_res_83227;\n                }\n                // write result of operation\n                {\n                    ((__local\n                      float *) red_arr_mem_83204)[sext_i32_i64(local_tid_83200)] =\n                        x_83222;\n                    ((__local\n                      float *) red_arr_mem_83206)[sext_i32_i64(local_tid_83200)] =\n                        x_83223;\n                }\n            }\n            skip_waves_83230 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_83200) == (int64_t) 0) {\n                x_acc_83219 = x_83222;\n                x_acc_83220 = x_83223;\n            }\n        }\n        if (groups_per_segment_83188 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_83200 == 0) {\n                    ((__global float *) mem_81711)[gtid_73722 * n_m_70241 +\n                                                   gtid_73723] = x_acc_83219;\n                    ((__global float *) mem_81715)[gtid_73722 * n_m_70241 +\n                                                   gtid_73723] = x_acc_83220;\n                }\n            }\n        } else {\n            int32_t old_counter_83231;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_83200 == 0) {\n                    ((__global\n                      f",
                   "loat *) segred_tmp_mem_83193)[sext_i32_i64(virt_group_id_83212)] =\n                        x_acc_83219;\n                    ((__global\n                      float *) segred_tmp_mem_83195)[sext_i32_i64(virt_group_id_83212)] =\n                        x_acc_83220;\n                    mem_fence_global();\n                    old_counter_83231 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_83197)[sext_i32_i64(srem32(flat_segment_id_83213,\n                                                                                                     10240))],\n                                              (int) 1);\n                    ((__local bool *) sync_arr_mem_83208)[(int64_t) 0] =\n                        old_counter_83231 == groups_per_segment_83188 -\n                        (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_83232 = ((__local\n                                         bool *) sync_arr_mem_83208)[(int64_t) 0];\n            \n            if (is_last_group_83232) {\n                if (local_tid_83200 == 0) {\n                    old_counter_83231 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_83197)[sext_i32_i64(srem32(flat_segment_id_83213,\n                                                                                                     10240))],\n                                              (int) ((int64_t) 0 -\n                                                     groups_per_segment_83188));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_83233 =\n                            sdiv_up64(groups_per_segment_83188,\n                                      segred_group_sizze_74791);\n                    \n   ",
                   "                 x_74796 = 0.0F;\n                    x_74797 = 0.0F;\n                    for (int64_t i_83234 = 0; i_83234 < read_per_thread_83233;\n                         i_83234++) {\n                        int64_t group_res_id_83235 =\n                                sext_i32_i64(local_tid_83200) *\n                                read_per_thread_83233 + i_83234;\n                        int64_t index_of_group_res_83236 =\n                                sext_i32_i64(flat_segment_id_83213) *\n                                groups_per_segment_83188 + group_res_id_83235;\n                        \n                        if (slt64(group_res_id_83235,\n                                  groups_per_segment_83188)) {\n                            x_74798 = ((__global\n                                        float *) segred_tmp_mem_83193)[index_of_group_res_83236];\n                            x_74799 = ((__global\n                                        float *) segred_tmp_mem_83195)[index_of_group_res_83236];\n                            \n                            float defunc_1_op_res_74800 = x_74796 + x_74798;\n                            float defunc_1_op_res_74801 = x_74797 + x_74799;\n                            \n                            x_74796 = defunc_1_op_res_74800;\n                            x_74797 = defunc_1_op_res_74801;\n                        }\n                    }\n                }\n                ((__local\n                  float *) red_arr_mem_83204)[sext_i32_i64(local_tid_83200)] =\n                    x_74796;\n                ((__local\n                  float *) red_arr_mem_83206)[sext_i32_i64(local_tid_83200)] =\n                    x_74797;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_83237;\n                    int32_t skip_waves_83238 = 1;\n                    float x_83222;\n                    float x_83223;\n                    float x_83224;\n           ",
                   "         float x_83225;\n                    \n                    offset_83237 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_83200,\n                                  sext_i64_i32(segred_group_sizze_74791))) {\n                            x_83222 = ((__local\n                                        float *) red_arr_mem_83204)[sext_i32_i64(local_tid_83200 +\n                                                                    offset_83237)];\n                            x_83223 = ((__local\n                                        float *) red_arr_mem_83206)[sext_i32_i64(local_tid_83200 +\n                                                                    offset_83237)];\n                        }\n                    }\n                    offset_83237 = 1;\n                    while (slt32(offset_83237, wave_sizze_83202)) {\n                        if (slt32(local_tid_83200 + offset_83237,\n                                  sext_i64_i32(segred_group_sizze_74791)) &&\n                            ((local_tid_83200 - squot32(local_tid_83200,\n                                                        wave_sizze_83202) *\n                              wave_sizze_83202) & (2 * offset_83237 - 1)) ==\n                            0) {\n                            // read array element\n                            {\n                                x_83224 = ((volatile __local\n                                            float *) red_arr_mem_83204)[sext_i32_i64(local_tid_83200 +\n                                                                        offset_83237)];\n                                x_83225 = ((volatile __local\n                                            float *) red_arr_mem_83206)[sext_i32_i64(local_tid_83200 +\n                                                                        offset_83237)];\n                            }\n                            // apply reduction operation\n        ",
                   "                    {\n                                float defunc_1_op_res_83226 = x_83222 + x_83224;\n                                float defunc_1_op_res_83227 = x_83223 + x_83225;\n                                \n                                x_83222 = defunc_1_op_res_83226;\n                                x_83223 = defunc_1_op_res_83227;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local\n                                  float *) red_arr_mem_83204)[sext_i32_i64(local_tid_83200)] =\n                                    x_83222;\n                                ((volatile __local\n                                  float *) red_arr_mem_83206)[sext_i32_i64(local_tid_83200)] =\n                                    x_83223;\n                            }\n                        }\n                        offset_83237 *= 2;\n                    }\n                    while (slt32(skip_waves_83238,\n                                 squot32(sext_i64_i32(segred_group_sizze_74791) +\n                                         wave_sizze_83202 - 1,\n                                         wave_sizze_83202))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_83237 = skip_waves_83238 * wave_sizze_83202;\n                        if (slt32(local_tid_83200 + offset_83237,\n                                  sext_i64_i32(segred_group_sizze_74791)) &&\n                            ((local_tid_83200 - squot32(local_tid_83200,\n                                                        wave_sizze_83202) *\n                              wave_sizze_83202) == 0 &&\n                             (squot32(local_tid_83200, wave_sizze_83202) & (2 *\n                                                                            skip_waves_83238 -\n                                                                            1)) ==\n                             0)) {\n   ",
                   "                         // read array element\n                            {\n                                x_83224 = ((__local\n                                            float *) red_arr_mem_83204)[sext_i32_i64(local_tid_83200 +\n                                                                        offset_83237)];\n                                x_83225 = ((__local\n                                            float *) red_arr_mem_83206)[sext_i32_i64(local_tid_83200 +\n                                                                        offset_83237)];\n                            }\n                            // apply reduction operation\n                            {\n                                float defunc_1_op_res_83226 = x_83222 + x_83224;\n                                float defunc_1_op_res_83227 = x_83223 + x_83225;\n                                \n                                x_83222 = defunc_1_op_res_83226;\n                                x_83223 = defunc_1_op_res_83227;\n                            }\n                            // write result of operation\n                            {\n                                ((__local\n                                  float *) red_arr_mem_83204)[sext_i32_i64(local_tid_83200)] =\n                                    x_83222;\n                                ((__local\n                                  float *) red_arr_mem_83206)[sext_i32_i64(local_tid_83200)] =\n                                    x_83223;\n                            }\n                        }\n                        skip_waves_83238 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_83200 == 0) {\n                            ((__global float *) mem_81711)[gtid_73722 *\n                                                           n_m_70241 +\n                                                           gtid_73723] =\n                                x_8",
                   "3222;\n                            ((__global float *) mem_81715)[gtid_73722 *\n                                                           n_m_70241 +\n                                                           gtid_73723] =\n                                x_83223;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_74791\n}\n__kernel void mainzisegred_large_73821(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *sync_arr_mem_83113_backing_aligned_0,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83111_backing_aligned_1,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83109_backing_aligned_2,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83107_backing_aligned_3,\n                                       int64_t m_70232, int64_t n_70233,\n                                       int64_t q_70235, int64_t jump_70237,\n                                       int64_t n_m_70241, int64_t i_70247,\n                                       int64_t num_groups_74728,\n                                       int64_t groups_per_segment_83089,\n                                       int64_t elements_per_thread_83090,\n                                       int64_t virt_num_groups_83091,\n                                       int64_t threads_per_segment_83093,\n                                       __global unsigned char *mem_81557,\n                                       __global unsigned char *mem_81565,\n                                       __global unsigned char *mem_81589,\n                                       __global unsigned char *mem_81676,\n    ",
                   "                                   __global unsigned char *mem_81680,\n                                       __global unsigned char *mem_81685,\n                                       __global unsigned char *mem_81689,\n                                       __global unsigned char *mem_81693,\n                                       __global\n                                       unsigned char *segred_tmp_mem_83094,\n                                       __global\n                                       unsigned char *segred_tmp_mem_83096,\n                                       __global\n                                       unsigned char *segred_tmp_mem_83098,\n                                       __global\n                                       unsigned char *mainzicounter_mem_83100)\n{\n    #define segred_group_sizze_74727 (mainzisegred_group_sizze_73815)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_83113_backing_3 =\n                                   (__local volatile\n                                    unsigned char *) sync_arr_mem_83113_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_83111_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83111_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_83109_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83109_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_83107_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83107_backing_aligned_3;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83102;\n    int32_t local_tid_83103;\n    int64_t group_sizze_83106;\n    int32_t wave_sizze",
                   "_83105;\n    int32_t group_tid_83104;\n    \n    global_tid_83102 = get_global_id(0);\n    local_tid_83103 = get_local_id(0);\n    group_sizze_83106 = get_local_size(0);\n    wave_sizze_83105 = LOCKSTEP_WIDTH;\n    group_tid_83104 = get_group_id(0);\n    \n    int32_t phys_tid_73821 = global_tid_83102;\n    __local unsigned char *red_arr_mem_83107;\n    \n    red_arr_mem_83107 = (__local unsigned char *) red_arr_mem_83107_backing_0;\n    \n    __local unsigned char *red_arr_mem_83109;\n    \n    red_arr_mem_83109 = (__local unsigned char *) red_arr_mem_83109_backing_1;\n    \n    __local unsigned char *red_arr_mem_83111;\n    \n    red_arr_mem_83111 = (__local unsigned char *) red_arr_mem_83111_backing_2;\n    \n    __local unsigned char *sync_arr_mem_83113;\n    \n    sync_arr_mem_83113 = (__local unsigned char *) sync_arr_mem_83113_backing_3;\n    \n    int32_t phys_group_id_83115;\n    \n    phys_group_id_83115 = get_group_id(0);\n    for (int32_t i_83116 = 0; i_83116 <\n         sdiv_up32(sext_i64_i32(virt_num_groups_83091) - phys_group_id_83115,\n                   sext_i64_i32(num_groups_74728)); i_83116++) {\n        int32_t virt_group_id_83117 = phys_group_id_83115 + i_83116 *\n                sext_i64_i32(num_groups_74728);\n        int32_t flat_segment_id_83118 = squot32(virt_group_id_83117,\n                                                sext_i64_i32(groups_per_segment_83089));\n        int64_t global_tid_83119 = srem64(sext_i32_i64(virt_group_id_83117) *\n                                          segred_group_sizze_74727 +\n                                          sext_i32_i64(local_tid_83103),\n                                          segred_group_sizze_74727 *\n                                          groups_per_segment_83089);\n        int64_t slice_83120 = n_m_70241;\n        int64_t slice_83121 = m_70232 * slice_83120;\n        int64_t gtid_73810 = squot64(sext_i32_i64(flat_segment_id_83118),\n                                     slice_83120);\n        int64_t remnant_83122 = sext_i32_i64(",
                   "flat_segment_id_83118) -\n                gtid_73810 * slice_83120;\n        int64_t gtid_73811 = remnant_83122;\n        int64_t remnant_83123 = remnant_83122 - gtid_73811;\n        int64_t gtid_73820;\n        float x_acc_83124;\n        float x_acc_83125;\n        float x_acc_83126;\n        int64_t chunk_sizze_83127 = smin64(elements_per_thread_83090,\n                                           sdiv_up64(q_70235 - global_tid_83119,\n                                                     threads_per_segment_83093));\n        float x_74733;\n        float x_74734;\n        float x_74735;\n        float x_74736;\n        float x_74737;\n        float x_74738;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_83124 = 0.0F;\n            x_acc_83125 = 0.0F;\n            x_acc_83126 = 0.0F;\n        }\n        for (int64_t i_83137 = 0; i_83137 < chunk_sizze_83127; i_83137++) {\n            gtid_73820 = global_tid_83119 + threads_per_segment_83093 * i_83137;\n            // apply map function\n            {\n                int64_t last_res_74742 = ((__global\n                                           int64_t *) mem_81557)[gtid_73810 *\n                                                                 n_70233 +\n                                                                 i_70247];\n                int64_t binop_y_78978 = mul64(jump_70237, gtid_73811);\n                int64_t index_primexp_78979 = smin64(i_70247, binop_y_78978);\n                float defunc_1_f_res_74750 = ((__global\n                                               float *) mem_81680)[gtid_73810 *\n                                                                   n_m_70241 +\n                                                                   gtid_73811];\n                float x_74752 = ((__global float *) mem_81589)[gtid_73810 *\n                                                               q_70235 +\n                                                               gtid_73820];\n                bool co",
                   "nd_74753 = sle64(last_res_74742, gtid_73820);\n                int64_t defunc_0_f_res_74754;\n                \n                if (cond_74753) {\n                    defunc_0_f_res_74754 = (int64_t) 0;\n                } else {\n                    int64_t max_res_74749 = ((__global\n                                              int64_t *) mem_81676)[gtid_73810 *\n                                                                    n_m_70241 +\n                                                                    gtid_73811];\n                    int64_t i_74755 = add64(gtid_73820, max_res_74749);\n                    int64_t defunc_0_add_arg_74756 = ((__global\n                                                       int64_t *) mem_81565)[gtid_73810 *\n                                                                             n_70233 +\n                                                                             i_74755];\n                    int64_t defunc_1_add_res_74757 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_74756);\n                    \n                    defunc_0_f_res_74754 = defunc_1_add_res_74757;\n                }\n                \n                int64_t binop_p_74758 = sub64(defunc_0_f_res_74754,\n                                              index_primexp_78979);\n                float defunc_0_f_res_74759 = sitofp_i64_f32(binop_p_74758);\n                float abs_res_74760 = (float) fabs(defunc_0_f_res_74759);\n                float tmp1_74761 = abs_res_74760 / defunc_1_f_res_74750;\n                float x_74762 = tmp1_74761 * tmp1_74761;\n                float y_74763 = tmp1_74761 * x_74762;\n                float tmp2_74764 = 1.0F - y_74763;\n                float x_74765 = tmp2_74764 * tmp2_74764;\n                float tmp3_74766 = tmp2_74764 * x_74765;\n                float w_j_74767 = x_74752 * tmp3_74766;\n                float xw_j_74768 = defunc_0_f_res_74759 * w_j_74767;\n                float x2w_j_74769 = defu",
                   "nc_0_f_res_74759 * xw_j_74768;\n                \n                // save map-out results\n                { }\n                // load accumulator\n                {\n                    x_74733 = x_acc_83124;\n                    x_74734 = x_acc_83125;\n                    x_74735 = x_acc_83126;\n                }\n                // load new values\n                {\n                    x_74736 = w_j_74767;\n                    x_74737 = xw_j_74768;\n                    x_74738 = x2w_j_74769;\n                }\n                // apply reduction operator\n                {\n                    float defunc_1_op_res_74739 = x_74733 + x_74736;\n                    float defunc_1_op_res_74740 = x_74734 + x_74737;\n                    float defunc_1_op_res_74741 = x_74735 + x_74738;\n                    \n                    // store in accumulator\n                    {\n                        x_acc_83124 = defunc_1_op_res_74739;\n                        x_acc_83125 = defunc_1_op_res_74740;\n                        x_acc_83126 = defunc_1_op_res_74741;\n                    }\n                }\n            }\n        }\n        // to reduce current chunk, first store our result in memory\n        {\n            x_74733 = x_acc_83124;\n            x_74734 = x_acc_83125;\n            x_74735 = x_acc_83126;\n            ((__local\n              float *) red_arr_mem_83107)[sext_i32_i64(local_tid_83103)] =\n                x_74733;\n            ((__local\n              float *) red_arr_mem_83109)[sext_i32_i64(local_tid_83103)] =\n                x_74734;\n            ((__local\n              float *) red_arr_mem_83111)[sext_i32_i64(local_tid_83103)] =\n                x_74735;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_83138;\n        int32_t skip_waves_83139 = 1;\n        float x_83128;\n        float x_83129;\n        float x_83130;\n        float x_83131;\n        float x_83132;\n        float x_83133;\n        \n        offset_83138 = 0;\n        // participating threads read initi",
                   "al accumulator\n        {\n            if (slt32(local_tid_83103,\n                      sext_i64_i32(segred_group_sizze_74727))) {\n                x_83128 = ((__local\n                            float *) red_arr_mem_83107)[sext_i32_i64(local_tid_83103 +\n                                                        offset_83138)];\n                x_83129 = ((__local\n                            float *) red_arr_mem_83109)[sext_i32_i64(local_tid_83103 +\n                                                        offset_83138)];\n                x_83130 = ((__local\n                            float *) red_arr_mem_83111)[sext_i32_i64(local_tid_83103 +\n                                                        offset_83138)];\n            }\n        }\n        offset_83138 = 1;\n        while (slt32(offset_83138, wave_sizze_83105)) {\n            if (slt32(local_tid_83103 + offset_83138,\n                      sext_i64_i32(segred_group_sizze_74727)) &&\n                ((local_tid_83103 - squot32(local_tid_83103, wave_sizze_83105) *\n                  wave_sizze_83105) & (2 * offset_83138 - 1)) == 0) {\n                // read array element\n                {\n                    x_83131 = ((volatile __local\n                                float *) red_arr_mem_83107)[sext_i32_i64(local_tid_83103 +\n                                                            offset_83138)];\n                    x_83132 = ((volatile __local\n                                float *) red_arr_mem_83109)[sext_i32_i64(local_tid_83103 +\n                                                            offset_83138)];\n                    x_83133 = ((volatile __local\n                                float *) red_arr_mem_83111)[sext_i32_i64(local_tid_83103 +\n                                                            offset_83138)];\n                }\n                // apply reduction operation\n                {\n                    float defunc_1_op_res_83134 = x_83128 + x_83131;\n                    float defunc_1_op_res_83135 = x_8312",
                   "9 + x_83132;\n                    float defunc_1_op_res_83136 = x_83130 + x_83133;\n                    \n                    x_83128 = defunc_1_op_res_83134;\n                    x_83129 = defunc_1_op_res_83135;\n                    x_83130 = defunc_1_op_res_83136;\n                }\n                // write result of operation\n                {\n                    ((volatile __local\n                      float *) red_arr_mem_83107)[sext_i32_i64(local_tid_83103)] =\n                        x_83128;\n                    ((volatile __local\n                      float *) red_arr_mem_83109)[sext_i32_i64(local_tid_83103)] =\n                        x_83129;\n                    ((volatile __local\n                      float *) red_arr_mem_83111)[sext_i32_i64(local_tid_83103)] =\n                        x_83130;\n                }\n            }\n            offset_83138 *= 2;\n        }\n        while (slt32(skip_waves_83139,\n                     squot32(sext_i64_i32(segred_group_sizze_74727) +\n                             wave_sizze_83105 - 1, wave_sizze_83105))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_83138 = skip_waves_83139 * wave_sizze_83105;\n            if (slt32(local_tid_83103 + offset_83138,\n                      sext_i64_i32(segred_group_sizze_74727)) &&\n                ((local_tid_83103 - squot32(local_tid_83103, wave_sizze_83105) *\n                  wave_sizze_83105) == 0 && (squot32(local_tid_83103,\n                                                     wave_sizze_83105) & (2 *\n                                                                          skip_waves_83139 -\n                                                                          1)) ==\n                 0)) {\n                // read array element\n                {\n                    x_83131 = ((__local\n                                float *) red_arr_mem_83107)[sext_i32_i64(local_tid_83103 +\n                                                            offset_83138)];\n                    x_8",
                   "3132 = ((__local\n                                float *) red_arr_mem_83109)[sext_i32_i64(local_tid_83103 +\n                                                            offset_83138)];\n                    x_83133 = ((__local\n                                float *) red_arr_mem_83111)[sext_i32_i64(local_tid_83103 +\n                                                            offset_83138)];\n                }\n                // apply reduction operation\n                {\n                    float defunc_1_op_res_83134 = x_83128 + x_83131;\n                    float defunc_1_op_res_83135 = x_83129 + x_83132;\n                    float defunc_1_op_res_83136 = x_83130 + x_83133;\n                    \n                    x_83128 = defunc_1_op_res_83134;\n                    x_83129 = defunc_1_op_res_83135;\n                    x_83130 = defunc_1_op_res_83136;\n                }\n                // write result of operation\n                {\n                    ((__local\n                      float *) red_arr_mem_83107)[sext_i32_i64(local_tid_83103)] =\n                        x_83128;\n                    ((__local\n                      float *) red_arr_mem_83109)[sext_i32_i64(local_tid_83103)] =\n                        x_83129;\n                    ((__local\n                      float *) red_arr_mem_83111)[sext_i32_i64(local_tid_83103)] =\n                        x_83130;\n                }\n            }\n            skip_waves_83139 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_83103) == (int64_t) 0) {\n                x_acc_83124 = x_83128;\n                x_acc_83125 = x_83129;\n                x_acc_83126 = x_83130;\n            }\n        }\n        if (groups_per_segment_83089 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_83103 == 0) {\n                    ((__global float *) mem_81685)[gtid_7",
                   "3810 * n_m_70241 +\n                                                   gtid_73811] = x_acc_83124;\n                    ((__global float *) mem_81689)[gtid_73810 * n_m_70241 +\n                                                   gtid_73811] = x_acc_83125;\n                    ((__global float *) mem_81693)[gtid_73810 * n_m_70241 +\n                                                   gtid_73811] = x_acc_83126;\n                }\n            }\n        } else {\n            int32_t old_counter_83140;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_83103 == 0) {\n                    ((__global\n                      float *) segred_tmp_mem_83094)[sext_i32_i64(virt_group_id_83117)] =\n                        x_acc_83124;\n                    ((__global\n                      float *) segred_tmp_mem_83096)[sext_i32_i64(virt_group_id_83117)] =\n                        x_acc_83125;\n                    ((__global\n                      float *) segred_tmp_mem_83098)[sext_i32_i64(virt_group_id_83117)] =\n                        x_acc_83126;\n                    mem_fence_global();\n                    old_counter_83140 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_83100)[sext_i32_i64(srem32(flat_segment_id_83118,\n                                                                                                     10240))],\n                                              (int) 1);\n                    ((__local bool *) sync_arr_mem_83113)[(int64_t) 0] =\n                        old_counter_83140 == groups_per_segment_83089 -\n                        (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_83141 = ((__local\n                                         bool *) sync_arr_mem_83113)[(int64_t) 0];\n            \n            if",
                   " (is_last_group_83141) {\n                if (local_tid_83103 == 0) {\n                    old_counter_83140 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_83100)[sext_i32_i64(srem32(flat_segment_id_83118,\n                                                                                                     10240))],\n                                              (int) ((int64_t) 0 -\n                                                     groups_per_segment_83089));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_83142 =\n                            sdiv_up64(groups_per_segment_83089,\n                                      segred_group_sizze_74727);\n                    \n                    x_74733 = 0.0F;\n                    x_74734 = 0.0F;\n                    x_74735 = 0.0F;\n                    for (int64_t i_83143 = 0; i_83143 < read_per_thread_83142;\n                         i_83143++) {\n                        int64_t group_res_id_83144 =\n                                sext_i32_i64(local_tid_83103) *\n                                read_per_thread_83142 + i_83143;\n                        int64_t index_of_group_res_83145 =\n                                sext_i32_i64(flat_segment_id_83118) *\n                                groups_per_segment_83089 + group_res_id_83144;\n                        \n                        if (slt64(group_res_id_83144,\n                                  groups_per_segment_83089)) {\n                            x_74736 = ((__global\n                                        float *) segred_tmp_mem_83094)[index_of_group_res_83145];\n                            x_74737 = ((__global\n                                        float *) segred_tmp_mem_83096)[index_of_group_res_83145];\n                            x_74738 = ((__global\n                                        float *) segre",
                   "d_tmp_mem_83098)[index_of_group_res_83145];\n                            \n                            float defunc_1_op_res_74739 = x_74733 + x_74736;\n                            float defunc_1_op_res_74740 = x_74734 + x_74737;\n                            float defunc_1_op_res_74741 = x_74735 + x_74738;\n                            \n                            x_74733 = defunc_1_op_res_74739;\n                            x_74734 = defunc_1_op_res_74740;\n                            x_74735 = defunc_1_op_res_74741;\n                        }\n                    }\n                }\n                ((__local\n                  float *) red_arr_mem_83107)[sext_i32_i64(local_tid_83103)] =\n                    x_74733;\n                ((__local\n                  float *) red_arr_mem_83109)[sext_i32_i64(local_tid_83103)] =\n                    x_74734;\n                ((__local\n                  float *) red_arr_mem_83111)[sext_i32_i64(local_tid_83103)] =\n                    x_74735;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_83146;\n                    int32_t skip_waves_83147 = 1;\n                    float x_83128;\n                    float x_83129;\n                    float x_83130;\n                    float x_83131;\n                    float x_83132;\n                    float x_83133;\n                    \n                    offset_83146 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_83103,\n                                  sext_i64_i32(segred_group_sizze_74727))) {\n                            x_83128 = ((__local\n                                        float *) red_arr_mem_83107)[sext_i32_i64(local_tid_83103 +\n                                                                    offset_83146)];\n                            x_83129 = ((__local\n                                        floa",
                   "t *) red_arr_mem_83109)[sext_i32_i64(local_tid_83103 +\n                                                                    offset_83146)];\n                            x_83130 = ((__local\n                                        float *) red_arr_mem_83111)[sext_i32_i64(local_tid_83103 +\n                                                                    offset_83146)];\n                        }\n                    }\n                    offset_83146 = 1;\n                    while (slt32(offset_83146, wave_sizze_83105)) {\n                        if (slt32(local_tid_83103 + offset_83146,\n                                  sext_i64_i32(segred_group_sizze_74727)) &&\n                            ((local_tid_83103 - squot32(local_tid_83103,\n                                                        wave_sizze_83105) *\n                              wave_sizze_83105) & (2 * offset_83146 - 1)) ==\n                            0) {\n                            // read array element\n                            {\n                                x_83131 = ((volatile __local\n                                            float *) red_arr_mem_83107)[sext_i32_i64(local_tid_83103 +\n                                                                        offset_83146)];\n                                x_83132 = ((volatile __local\n                                            float *) red_arr_mem_83109)[sext_i32_i64(local_tid_83103 +\n                                                                        offset_83146)];\n                                x_83133 = ((volatile __local\n                                            float *) red_arr_mem_83111)[sext_i32_i64(local_tid_83103 +\n                                                                        offset_83146)];\n                            }\n                            // apply reduction operation\n                            {\n                                float defunc_1_op_res_83134 = x_83128 + x_83131;\n                                float de",
                   "func_1_op_res_83135 = x_83129 + x_83132;\n                                float defunc_1_op_res_83136 = x_83130 + x_83133;\n                                \n                                x_83128 = defunc_1_op_res_83134;\n                                x_83129 = defunc_1_op_res_83135;\n                                x_83130 = defunc_1_op_res_83136;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local\n                                  float *) red_arr_mem_83107)[sext_i32_i64(local_tid_83103)] =\n                                    x_83128;\n                                ((volatile __local\n                                  float *) red_arr_mem_83109)[sext_i32_i64(local_tid_83103)] =\n                                    x_83129;\n                                ((volatile __local\n                                  float *) red_arr_mem_83111)[sext_i32_i64(local_tid_83103)] =\n                                    x_83130;\n                            }\n                        }\n                        offset_83146 *= 2;\n                    }\n                    while (slt32(skip_waves_83147,\n                                 squot32(sext_i64_i32(segred_group_sizze_74727) +\n                                         wave_sizze_83105 - 1,\n                                         wave_sizze_83105))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_83146 = skip_waves_83147 * wave_sizze_83105;\n                        if (slt32(local_tid_83103 + offset_83146,\n                                  sext_i64_i32(segred_group_sizze_74727)) &&\n                            ((local_tid_83103 - squot32(local_tid_83103,\n                                                        wave_sizze_83105) *\n                              wave_sizze_83105) == 0 &&\n                             (squot32(local_tid_83103, wave_sizze_83105) & (2 *\n                      ",
                   "                                                      skip_waves_83147 -\n                                                                            1)) ==\n                             0)) {\n                            // read array element\n                            {\n                                x_83131 = ((__local\n                                            float *) red_arr_mem_83107)[sext_i32_i64(local_tid_83103 +\n                                                                        offset_83146)];\n                                x_83132 = ((__local\n                                            float *) red_arr_mem_83109)[sext_i32_i64(local_tid_83103 +\n                                                                        offset_83146)];\n                                x_83133 = ((__local\n                                            float *) red_arr_mem_83111)[sext_i32_i64(local_tid_83103 +\n                                                                        offset_83146)];\n                            }\n                            // apply reduction operation\n                            {\n                                float defunc_1_op_res_83134 = x_83128 + x_83131;\n                                float defunc_1_op_res_83135 = x_83129 + x_83132;\n                                float defunc_1_op_res_83136 = x_83130 + x_83133;\n                                \n                                x_83128 = defunc_1_op_res_83134;\n                                x_83129 = defunc_1_op_res_83135;\n                                x_83130 = defunc_1_op_res_83136;\n                            }\n                            // write result of operation\n                            {\n                                ((__local\n                                  float *) red_arr_mem_83107)[sext_i32_i64(local_tid_83103)] =\n                                    x_83128;\n                                ((__local\n                                  float *) red_arr_mem_83109)[sext_i32_",
                   "i64(local_tid_83103)] =\n                                    x_83129;\n                                ((__local\n                                  float *) red_arr_mem_83111)[sext_i32_i64(local_tid_83103)] =\n                                    x_83130;\n                            }\n                        }\n                        skip_waves_83147 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_83103 == 0) {\n                            ((__global float *) mem_81685)[gtid_73810 *\n                                                           n_m_70241 +\n                                                           gtid_73811] =\n                                x_83128;\n                            ((__global float *) mem_81689)[gtid_73810 *\n                                                           n_m_70241 +\n                                                           gtid_73811] =\n                                x_83129;\n                            ((__global float *) mem_81693)[gtid_73810 *\n                                                           n_m_70241 +\n                                                           gtid_73811] =\n                                x_83130;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_74727\n}\n__kernel void mainzisegred_large_75584(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *sync_arr_mem_83627_backing_aligned_0,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83625_backing_aligned_1,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83623_backing_aligned_2,",
                   "\n                                       int64_t m_70232, int64_t n_70233,\n                                       int64_t q_70235, int64_t jump_70237,\n                                       int64_t n_m_70241, int64_t i_70247,\n                                       int64_t num_groups_76786,\n                                       int64_t groups_per_segment_83607,\n                                       int64_t elements_per_thread_83608,\n                                       int64_t virt_num_groups_83609,\n                                       int64_t threads_per_segment_83611,\n                                       __global unsigned char *mem_81849,\n                                       __global unsigned char *mem_81853,\n                                       __global unsigned char *mem_81857,\n                                       __global unsigned char *mem_81881,\n                                       __global unsigned char *mem_81992,\n                                       __global unsigned char *mem_81996,\n                                       __global unsigned char *mem_82022,\n                                       __global unsigned char *mem_82026,\n                                       __global unsigned char *mem_82030,\n                                       __global unsigned char *mem_82034,\n                                       __global unsigned char *mem_82038,\n                                       __global unsigned char *mem_82043,\n                                       __global unsigned char *mem_82047,\n                                       __global\n                                       unsigned char *segred_tmp_mem_83612,\n                                       __global\n                                       unsigned char *segred_tmp_mem_83614,\n                                       __global\n                                       unsigned char *mainzicounter_mem_83616)\n{\n    #define segred_group_sizze_76785 (mainzisegred_group_sizze_75578)\n    \n    c",
                   "onst int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_83627_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) sync_arr_mem_83627_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_83625_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83625_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_83623_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83623_backing_aligned_2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83618;\n    int32_t local_tid_83619;\n    int64_t group_sizze_83622;\n    int32_t wave_sizze_83621;\n    int32_t group_tid_83620;\n    \n    global_tid_83618 = get_global_id(0);\n    local_tid_83619 = get_local_id(0);\n    group_sizze_83622 = get_local_size(0);\n    wave_sizze_83621 = LOCKSTEP_WIDTH;\n    group_tid_83620 = get_group_id(0);\n    \n    int32_t phys_tid_75584 = global_tid_83618;\n    __local unsigned char *red_arr_mem_83623;\n    \n    red_arr_mem_83623 = (__local unsigned char *) red_arr_mem_83623_backing_0;\n    \n    __local unsigned char *red_arr_mem_83625;\n    \n    red_arr_mem_83625 = (__local unsigned char *) red_arr_mem_83625_backing_1;\n    \n    __local unsigned char *sync_arr_mem_83627;\n    \n    sync_arr_mem_83627 = (__local unsigned char *) sync_arr_mem_83627_backing_2;\n    \n    int32_t phys_group_id_83629;\n    \n    phys_group_id_83629 = get_group_id(0);\n    for (int32_t i_83630 = 0; i_83630 <\n         sdiv_up32(sext_i64_i32(virt_num_groups_83609) - phys_group_id_83629,\n                   sext_i64_i32(num_groups_76786)); i_83630++) {\n        int32_t virt_group_id_83631 = phys_group_id_83629 + i_83630 *\n                sext_i64_i32(num_groups_76786);\n      ",
                   "  int32_t flat_segment_id_83632 = squot32(virt_group_id_83631,\n                                                sext_i64_i32(groups_per_segment_83607));\n        int64_t global_tid_83633 = srem64(sext_i32_i64(virt_group_id_83631) *\n                                          segred_group_sizze_76785 +\n                                          sext_i32_i64(local_tid_83619),\n                                          segred_group_sizze_76785 *\n                                          groups_per_segment_83607);\n        int64_t slice_83634 = n_m_70241;\n        int64_t slice_83635 = m_70232 * slice_83634;\n        int64_t gtid_75573 = squot64(sext_i32_i64(flat_segment_id_83632),\n                                     slice_83634);\n        int64_t remnant_83636 = sext_i32_i64(flat_segment_id_83632) -\n                gtid_75573 * slice_83634;\n        int64_t gtid_75574 = remnant_83636;\n        int64_t remnant_83637 = remnant_83636 - gtid_75574;\n        int64_t gtid_75583;\n        float x_acc_83638;\n        float x_acc_83639;\n        int64_t chunk_sizze_83640 = smin64(elements_per_thread_83608,\n                                           sdiv_up64(q_70235 - global_tid_83633,\n                                                     threads_per_segment_83611));\n        float x_76790;\n        float x_76791;\n        float x_76792;\n        float x_76793;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_83638 = 0.0F;\n            x_acc_83639 = 0.0F;\n        }\n        for (int64_t i_83647 = 0; i_83647 < chunk_sizze_83640; i_83647++) {\n            gtid_75583 = global_tid_83633 + threads_per_segment_83611 * i_83647;\n            // apply map function\n            {\n                int64_t last_res_76796 = ((__global\n                                           int64_t *) mem_81849)[gtid_75573 *\n                                                                 n_70233 +\n                                                                 i_70247];\n                int64_t",
                   " binop_y_79004 = mul64(jump_70237, gtid_75574);\n                int64_t index_primexp_79005 = smin64(i_70247, binop_y_79004);\n                int64_t max_res_76809 = ((__global\n                                          int64_t *) mem_81992)[gtid_75573 *\n                                                                n_m_70241 +\n                                                                gtid_75574];\n                float defunc_1_f_res_76810 = ((__global\n                                               float *) mem_81996)[gtid_75573 *\n                                                                   n_m_70241 +\n                                                                   gtid_75574];\n                float a12_76811 = ((__global float *) mem_82022)[gtid_75573 *\n                                                                 n_m_70241 +\n                                                                 gtid_75574];\n                float b12_76812 = ((__global float *) mem_82026)[gtid_75573 *\n                                                                 n_m_70241 +\n                                                                 gtid_75574];\n                float c12_76813 = ((__global float *) mem_82030)[gtid_75573 *\n                                                                 n_m_70241 +\n                                                                 gtid_75574];\n                float b2_76814 = ((__global float *) mem_82034)[gtid_75573 *\n                                                                n_m_70241 +\n                                                                gtid_75574];\n                float c2_76815 = ((__global float *) mem_82038)[gtid_75573 *\n                                                                n_m_70241 +\n                                                                gtid_75574];\n                float x_76817 = ((__global float *) mem_81881)[gtid_75573 *\n                                                               ",
                   "q_70235 +\n                                                               gtid_75583];\n                bool cond_76818 = sle64(last_res_76796, gtid_75583);\n                int64_t defunc_0_f_res_76819;\n                \n                if (cond_76818) {\n                    defunc_0_f_res_76819 = (int64_t) 0;\n                } else {\n                    int64_t i_76820 = add64(gtid_75583, max_res_76809);\n                    int64_t defunc_0_add_arg_76821 = ((__global\n                                                       int64_t *) mem_81857)[gtid_75573 *\n                                                                             n_70233 +\n                                                                             i_76820];\n                    int64_t defunc_1_add_res_76822 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_76821);\n                    \n                    defunc_0_f_res_76819 = defunc_1_add_res_76822;\n                }\n                \n                int64_t binop_p_76823 = sub64(defunc_0_f_res_76819,\n                                              index_primexp_79005);\n                float defunc_0_f_res_76824 = sitofp_i64_f32(binop_p_76823);\n                float abs_res_76825 = (float) fabs(defunc_0_f_res_76824);\n                float tmp1_76826 = abs_res_76825 / defunc_1_f_res_76810;\n                float x_76827 = tmp1_76826 * tmp1_76826;\n                float y_76828 = tmp1_76826 * x_76827;\n                float tmp2_76829 = 1.0F - y_76828;\n                float x_76830 = tmp2_76829 * tmp2_76829;\n                float tmp3_76831 = tmp2_76829 * x_76830;\n                float tmp4_76832 = x_76817 * tmp3_76831;\n                float defunc_1_f_res_76833 = defunc_0_f_res_76824 * tmp4_76832;\n                float defunc_1_f_res_76834 = defunc_0_f_res_76824 *\n                      defunc_1_f_res_76833;\n                float defunc_0_f_res_76835;\n                \n                if (cond_76818) {\n         ",
                   "           defunc_0_f_res_76835 = 0.0F;\n                } else {\n                    int64_t i_76836 = add64(gtid_75583, max_res_76809);\n                    float defunc_0_add_arg_76837 = ((__global\n                                                     float *) mem_81853)[gtid_75573 *\n                                                                         n_70233 +\n                                                                         i_76836];\n                    \n                    defunc_0_f_res_76835 = defunc_0_add_arg_76837;\n                }\n                \n                float x_76838 = a12_76811 * tmp4_76832;\n                float y_76839 = b12_76812 * defunc_1_f_res_76833;\n                float x_76840 = x_76838 + y_76839;\n                float y_76841 = c12_76813 * defunc_1_f_res_76834;\n                float x_76842 = x_76840 + y_76841;\n                float defunc_9_fit_fun_res_76843 = defunc_0_f_res_76835 *\n                      x_76842;\n                float x_76844 = b12_76812 * tmp4_76832;\n                float y_76845 = b2_76814 * defunc_1_f_res_76833;\n                float x_76846 = x_76844 + y_76845;\n                float y_76847 = c2_76815 * defunc_1_f_res_76834;\n                float x_76848 = x_76846 + y_76847;\n                float defunc_9_slope_fun_res_76849 = defunc_0_f_res_76835 *\n                      x_76848;\n                \n                // save map-out results\n                { }\n                // load accumulator\n                {\n                    x_76790 = x_acc_83638;\n                    x_76791 = x_acc_83639;\n                }\n                // load new values\n                {\n                    x_76792 = defunc_9_fit_fun_res_76843;\n                    x_76793 = defunc_9_slope_fun_res_76849;\n                }\n                // apply reduction operator\n                {\n                    float defunc_1_op_res_76794 = x_76790 + x_76792;\n                    float defunc_1_op_res_76795 = x_76791 + x_76793;\n            ",
                   "        \n                    // store in accumulator\n                    {\n                        x_acc_83638 = defunc_1_op_res_76794;\n                        x_acc_83639 = defunc_1_op_res_76795;\n                    }\n                }\n            }\n        }\n        // to reduce current chunk, first store our result in memory\n        {\n            x_76790 = x_acc_83638;\n            x_76791 = x_acc_83639;\n            ((__local\n              float *) red_arr_mem_83623)[sext_i32_i64(local_tid_83619)] =\n                x_76790;\n            ((__local\n              float *) red_arr_mem_83625)[sext_i32_i64(local_tid_83619)] =\n                x_76791;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_83648;\n        int32_t skip_waves_83649 = 1;\n        float x_83641;\n        float x_83642;\n        float x_83643;\n        float x_83644;\n        \n        offset_83648 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_83619,\n                      sext_i64_i32(segred_group_sizze_76785))) {\n                x_83641 = ((__local\n                            float *) red_arr_mem_83623)[sext_i32_i64(local_tid_83619 +\n                                                        offset_83648)];\n                x_83642 = ((__local\n                            float *) red_arr_mem_83625)[sext_i32_i64(local_tid_83619 +\n                                                        offset_83648)];\n            }\n        }\n        offset_83648 = 1;\n        while (slt32(offset_83648, wave_sizze_83621)) {\n            if (slt32(local_tid_83619 + offset_83648,\n                      sext_i64_i32(segred_group_sizze_76785)) &&\n                ((local_tid_83619 - squot32(local_tid_83619, wave_sizze_83621) *\n                  wave_sizze_83621) & (2 * offset_83648 - 1)) == 0) {\n                // read array element\n                {\n                    x_83643 = ((volatile __local\n                                float *) red_arr_me",
                   "m_83623)[sext_i32_i64(local_tid_83619 +\n                                                            offset_83648)];\n                    x_83644 = ((volatile __local\n                                float *) red_arr_mem_83625)[sext_i32_i64(local_tid_83619 +\n                                                            offset_83648)];\n                }\n                // apply reduction operation\n                {\n                    float defunc_1_op_res_83645 = x_83641 + x_83643;\n                    float defunc_1_op_res_83646 = x_83642 + x_83644;\n                    \n                    x_83641 = defunc_1_op_res_83645;\n                    x_83642 = defunc_1_op_res_83646;\n                }\n                // write result of operation\n                {\n                    ((volatile __local\n                      float *) red_arr_mem_83623)[sext_i32_i64(local_tid_83619)] =\n                        x_83641;\n                    ((volatile __local\n                      float *) red_arr_mem_83625)[sext_i32_i64(local_tid_83619)] =\n                        x_83642;\n                }\n            }\n            offset_83648 *= 2;\n        }\n        while (slt32(skip_waves_83649,\n                     squot32(sext_i64_i32(segred_group_sizze_76785) +\n                             wave_sizze_83621 - 1, wave_sizze_83621))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_83648 = skip_waves_83649 * wave_sizze_83621;\n            if (slt32(local_tid_83619 + offset_83648,\n                      sext_i64_i32(segred_group_sizze_76785)) &&\n                ((local_tid_83619 - squot32(local_tid_83619, wave_sizze_83621) *\n                  wave_sizze_83621) == 0 && (squot32(local_tid_83619,\n                                                     wave_sizze_83621) & (2 *\n                                                                          skip_waves_83649 -\n                                                                          1)) ==\n                 0)) {\n                // read a",
                   "rray element\n                {\n                    x_83643 = ((__local\n                                float *) red_arr_mem_83623)[sext_i32_i64(local_tid_83619 +\n                                                            offset_83648)];\n                    x_83644 = ((__local\n                                float *) red_arr_mem_83625)[sext_i32_i64(local_tid_83619 +\n                                                            offset_83648)];\n                }\n                // apply reduction operation\n                {\n                    float defunc_1_op_res_83645 = x_83641 + x_83643;\n                    float defunc_1_op_res_83646 = x_83642 + x_83644;\n                    \n                    x_83641 = defunc_1_op_res_83645;\n                    x_83642 = defunc_1_op_res_83646;\n                }\n                // write result of operation\n                {\n                    ((__local\n                      float *) red_arr_mem_83623)[sext_i32_i64(local_tid_83619)] =\n                        x_83641;\n                    ((__local\n                      float *) red_arr_mem_83625)[sext_i32_i64(local_tid_83619)] =\n                        x_83642;\n                }\n            }\n            skip_waves_83649 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_83619) == (int64_t) 0) {\n                x_acc_83638 = x_83641;\n                x_acc_83639 = x_83642;\n            }\n        }\n        if (groups_per_segment_83607 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_83619 == 0) {\n                    ((__global float *) mem_82043)[gtid_75573 * n_m_70241 +\n                                                   gtid_75574] = x_acc_83638;\n                    ((__global float *) mem_82047)[gtid_75573 * n_m_70241 +\n                                                   gtid_75574] = x_acc_83639;\n  ",
                   "              }\n            }\n        } else {\n            int32_t old_counter_83650;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_83619 == 0) {\n                    ((__global\n                      float *) segred_tmp_mem_83612)[sext_i32_i64(virt_group_id_83631)] =\n                        x_acc_83638;\n                    ((__global\n                      float *) segred_tmp_mem_83614)[sext_i32_i64(virt_group_id_83631)] =\n                        x_acc_83639;\n                    mem_fence_global();\n                    old_counter_83650 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_83616)[sext_i32_i64(srem32(flat_segment_id_83632,\n                                                                                                     10240))],\n                                              (int) 1);\n                    ((__local bool *) sync_arr_mem_83627)[(int64_t) 0] =\n                        old_counter_83650 == groups_per_segment_83607 -\n                        (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_83651 = ((__local\n                                         bool *) sync_arr_mem_83627)[(int64_t) 0];\n            \n            if (is_last_group_83651) {\n                if (local_tid_83619 == 0) {\n                    old_counter_83650 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_83616)[sext_i32_i64(srem32(flat_segment_id_83632,\n                                                                                                     10240))],\n                                              (int) ((int64_t) 0 -\n                                                     groups_per_segment_83607));\n      ",
                   "          }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_83652 =\n                            sdiv_up64(groups_per_segment_83607,\n                                      segred_group_sizze_76785);\n                    \n                    x_76790 = 0.0F;\n                    x_76791 = 0.0F;\n                    for (int64_t i_83653 = 0; i_83653 < read_per_thread_83652;\n                         i_83653++) {\n                        int64_t group_res_id_83654 =\n                                sext_i32_i64(local_tid_83619) *\n                                read_per_thread_83652 + i_83653;\n                        int64_t index_of_group_res_83655 =\n                                sext_i32_i64(flat_segment_id_83632) *\n                                groups_per_segment_83607 + group_res_id_83654;\n                        \n                        if (slt64(group_res_id_83654,\n                                  groups_per_segment_83607)) {\n                            x_76792 = ((__global\n                                        float *) segred_tmp_mem_83612)[index_of_group_res_83655];\n                            x_76793 = ((__global\n                                        float *) segred_tmp_mem_83614)[index_of_group_res_83655];\n                            \n                            float defunc_1_op_res_76794 = x_76790 + x_76792;\n                            float defunc_1_op_res_76795 = x_76791 + x_76793;\n                            \n                            x_76790 = defunc_1_op_res_76794;\n                            x_76791 = defunc_1_op_res_76795;\n                        }\n                    }\n                }\n                ((__local\n                  float *) red_arr_mem_83623)[sext_i32_i64(local_tid_83619)] =\n                    x_76790;\n                ((__local\n                  float *) red_arr_mem_83625)[sext_i32_i64(local_tid_83619)] =\n                    x_76791;\n                barrier(CLK_LOCAL_ME",
                   "M_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_83656;\n                    int32_t skip_waves_83657 = 1;\n                    float x_83641;\n                    float x_83642;\n                    float x_83643;\n                    float x_83644;\n                    \n                    offset_83656 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_83619,\n                                  sext_i64_i32(segred_group_sizze_76785))) {\n                            x_83641 = ((__local\n                                        float *) red_arr_mem_83623)[sext_i32_i64(local_tid_83619 +\n                                                                    offset_83656)];\n                            x_83642 = ((__local\n                                        float *) red_arr_mem_83625)[sext_i32_i64(local_tid_83619 +\n                                                                    offset_83656)];\n                        }\n                    }\n                    offset_83656 = 1;\n                    while (slt32(offset_83656, wave_sizze_83621)) {\n                        if (slt32(local_tid_83619 + offset_83656,\n                                  sext_i64_i32(segred_group_sizze_76785)) &&\n                            ((local_tid_83619 - squot32(local_tid_83619,\n                                                        wave_sizze_83621) *\n                              wave_sizze_83621) & (2 * offset_83656 - 1)) ==\n                            0) {\n                            // read array element\n                            {\n                                x_83643 = ((volatile __local\n                                            float *) red_arr_mem_83623)[sext_i32_i64(local_tid_83619 +\n                                                                        offset_83656)];\n                                x_83644 = ((volatile __local\n  ",
                   "                                          float *) red_arr_mem_83625)[sext_i32_i64(local_tid_83619 +\n                                                                        offset_83656)];\n                            }\n                            // apply reduction operation\n                            {\n                                float defunc_1_op_res_83645 = x_83641 + x_83643;\n                                float defunc_1_op_res_83646 = x_83642 + x_83644;\n                                \n                                x_83641 = defunc_1_op_res_83645;\n                                x_83642 = defunc_1_op_res_83646;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local\n                                  float *) red_arr_mem_83623)[sext_i32_i64(local_tid_83619)] =\n                                    x_83641;\n                                ((volatile __local\n                                  float *) red_arr_mem_83625)[sext_i32_i64(local_tid_83619)] =\n                                    x_83642;\n                            }\n                        }\n                        offset_83656 *= 2;\n                    }\n                    while (slt32(skip_waves_83657,\n                                 squot32(sext_i64_i32(segred_group_sizze_76785) +\n                                         wave_sizze_83621 - 1,\n                                         wave_sizze_83621))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_83656 = skip_waves_83657 * wave_sizze_83621;\n                        if (slt32(local_tid_83619 + offset_83656,\n                                  sext_i64_i32(segred_group_sizze_76785)) &&\n                            ((local_tid_83619 - squot32(local_tid_83619,\n                                                        wave_sizze_83621) *\n                              wave_sizze_83621) == 0 &&\n            ",
                   "                 (squot32(local_tid_83619, wave_sizze_83621) & (2 *\n                                                                            skip_waves_83657 -\n                                                                            1)) ==\n                             0)) {\n                            // read array element\n                            {\n                                x_83643 = ((__local\n                                            float *) red_arr_mem_83623)[sext_i32_i64(local_tid_83619 +\n                                                                        offset_83656)];\n                                x_83644 = ((__local\n                                            float *) red_arr_mem_83625)[sext_i32_i64(local_tid_83619 +\n                                                                        offset_83656)];\n                            }\n                            // apply reduction operation\n                            {\n                                float defunc_1_op_res_83645 = x_83641 + x_83643;\n                                float defunc_1_op_res_83646 = x_83642 + x_83644;\n                                \n                                x_83641 = defunc_1_op_res_83645;\n                                x_83642 = defunc_1_op_res_83646;\n                            }\n                            // write result of operation\n                            {\n                                ((__local\n                                  float *) red_arr_mem_83623)[sext_i32_i64(local_tid_83619)] =\n                                    x_83641;\n                                ((__local\n                                  float *) red_arr_mem_83625)[sext_i32_i64(local_tid_83619)] =\n                                    x_83642;\n                            }\n                        }\n                        skip_waves_83657 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                   ",
                   "     if (local_tid_83619 == 0) {\n                            ((__global float *) mem_82043)[gtid_75573 *\n                                                           n_m_70241 +\n                                                           gtid_75574] =\n                                x_83641;\n                            ((__global float *) mem_82047)[gtid_75573 *\n                                                           n_m_70241 +\n                                                           gtid_75574] =\n                                x_83642;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_76785\n}\n__kernel void mainzisegred_large_75704(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *sync_arr_mem_83524_backing_aligned_0,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83522_backing_aligned_1,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83520_backing_aligned_2,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83518_backing_aligned_3,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83516_backing_aligned_4,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83514_backing_aligned_5,\n                                       int64_t m_70232, int64_t n_70233,\n                                       int64_t q_70235, int64_t jump_70237,\n                                       int64_t n_m_70241, int64_t i_70247,\n                                       int64_t num_groups_76691,\n                         ",
                   "              int64_t groups_per_segment_83492,\n                                       int64_t elements_per_thread_83493,\n                                       int64_t virt_num_groups_83494,\n                                       int64_t threads_per_segment_83496,\n                                       __global unsigned char *mem_81849,\n                                       __global unsigned char *mem_81857,\n                                       __global unsigned char *mem_81881,\n                                       __global unsigned char *mem_81992,\n                                       __global unsigned char *mem_81996,\n                                       __global unsigned char *mem_82001,\n                                       __global unsigned char *mem_82005,\n                                       __global unsigned char *mem_82009,\n                                       __global unsigned char *mem_82013,\n                                       __global unsigned char *mem_82017,\n                                       __global\n                                       unsigned char *segred_tmp_mem_83497,\n                                       __global\n                                       unsigned char *segred_tmp_mem_83499,\n                                       __global\n                                       unsigned char *segred_tmp_mem_83501,\n                                       __global\n                                       unsigned char *segred_tmp_mem_83503,\n                                       __global\n                                       unsigned char *segred_tmp_mem_83505,\n                                       __global\n                                       unsigned char *mainzicounter_mem_83507)\n{\n    #define segred_group_sizze_76690 (mainzisegred_group_sizze_75698)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_83524_backing_5 =\n    ",
                   "                               (__local volatile\n                                    unsigned char *) sync_arr_mem_83524_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_83522_backing_4 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83522_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_83520_backing_3 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83520_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_83518_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83518_backing_aligned_3;\n    __local volatile unsigned char *restrict red_arr_mem_83516_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83516_backing_aligned_4;\n    __local volatile unsigned char *restrict red_arr_mem_83514_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83514_backing_aligned_5;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83509;\n    int32_t local_tid_83510;\n    int64_t group_sizze_83513;\n    int32_t wave_sizze_83512;\n    int32_t group_tid_83511;\n    \n    global_tid_83509 = get_global_id(0);\n    local_tid_83510 = get_local_id(0);\n    group_sizze_83513 = get_local_size(0);\n    wave_sizze_83512 = LOCKSTEP_WIDTH;\n    group_tid_83511 = get_group_id(0);\n    \n    int32_t phys_tid_75704 = global_tid_83509;\n    __local unsigned char *red_arr_mem_83514;\n    \n    red_arr_mem_83514 = (__local unsigned char *) red_arr_mem_83514_backing_0;\n    \n    __local unsigned char *red_arr_mem_83516;\n    \n    red_arr_mem_83516 = (__local unsigned char *) red_arr_mem_83516_backing_1;\n    \n    __local unsigned char *red_arr_me",
                   "m_83518;\n    \n    red_arr_mem_83518 = (__local unsigned char *) red_arr_mem_83518_backing_2;\n    \n    __local unsigned char *red_arr_mem_83520;\n    \n    red_arr_mem_83520 = (__local unsigned char *) red_arr_mem_83520_backing_3;\n    \n    __local unsigned char *red_arr_mem_83522;\n    \n    red_arr_mem_83522 = (__local unsigned char *) red_arr_mem_83522_backing_4;\n    \n    __local unsigned char *sync_arr_mem_83524;\n    \n    sync_arr_mem_83524 = (__local unsigned char *) sync_arr_mem_83524_backing_5;\n    \n    int32_t phys_group_id_83526;\n    \n    phys_group_id_83526 = get_group_id(0);\n    for (int32_t i_83527 = 0; i_83527 <\n         sdiv_up32(sext_i64_i32(virt_num_groups_83494) - phys_group_id_83526,\n                   sext_i64_i32(num_groups_76691)); i_83527++) {\n        int32_t virt_group_id_83528 = phys_group_id_83526 + i_83527 *\n                sext_i64_i32(num_groups_76691);\n        int32_t flat_segment_id_83529 = squot32(virt_group_id_83528,\n                                                sext_i64_i32(groups_per_segment_83492));\n        int64_t global_tid_83530 = srem64(sext_i32_i64(virt_group_id_83528) *\n                                          segred_group_sizze_76690 +\n                                          sext_i32_i64(local_tid_83510),\n                                          segred_group_sizze_76690 *\n                                          groups_per_segment_83492);\n        int64_t slice_83531 = n_m_70241;\n        int64_t slice_83532 = m_70232 * slice_83531;\n        int64_t gtid_75693 = squot64(sext_i32_i64(flat_segment_id_83529),\n                                     slice_83531);\n        int64_t remnant_83533 = sext_i32_i64(flat_segment_id_83529) -\n                gtid_75693 * slice_83531;\n        int64_t gtid_75694 = remnant_83533;\n        int64_t remnant_83534 = remnant_83533 - gtid_75694;\n        int64_t gtid_75703;\n        float x_acc_83535;\n        float x_acc_83536;\n        float x_acc_83537;\n        float x_acc_83538;\n        float x_acc_83539",
                   ";\n        int64_t chunk_sizze_83540 = smin64(elements_per_thread_83493,\n                                           sdiv_up64(q_70235 - global_tid_83530,\n                                                     threads_per_segment_83496));\n        float x_76698;\n        float x_76699;\n        float x_76700;\n        float x_76701;\n        float x_76702;\n        float x_76703;\n        float x_76704;\n        float x_76705;\n        float x_76706;\n        float x_76707;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_83535 = 0.0F;\n            x_acc_83536 = 0.0F;\n            x_acc_83537 = 0.0F;\n            x_acc_83538 = 0.0F;\n            x_acc_83539 = 0.0F;\n        }\n        for (int64_t i_83556 = 0; i_83556 < chunk_sizze_83540; i_83556++) {\n            gtid_75703 = global_tid_83530 + threads_per_segment_83496 * i_83556;\n            // apply map function\n            {\n                int64_t last_res_76713 = ((__global\n                                           int64_t *) mem_81849)[gtid_75693 *\n                                                                 n_70233 +\n                                                                 i_70247];\n                int64_t binop_y_78998 = mul64(jump_70237, gtid_75694);\n                int64_t index_primexp_78999 = smin64(i_70247, binop_y_78998);\n                float defunc_1_f_res_76721 = ((__global\n                                               float *) mem_81996)[gtid_75693 *\n                                                                   n_m_70241 +\n                                                                   gtid_75694];\n                float x_76723 = ((__global float *) mem_81881)[gtid_75693 *\n                                                               q_70235 +\n                                                               gtid_75703];\n                bool cond_76724 = sle64(last_res_76713, gtid_75703);\n                int64_t defunc_0_f_res_76725;\n                \n             ",
                   "   if (cond_76724) {\n                    defunc_0_f_res_76725 = (int64_t) 0;\n                } else {\n                    int64_t max_res_76720 = ((__global\n                                              int64_t *) mem_81992)[gtid_75693 *\n                                                                    n_m_70241 +\n                                                                    gtid_75694];\n                    int64_t i_76726 = add64(gtid_75703, max_res_76720);\n                    int64_t defunc_0_add_arg_76727 = ((__global\n                                                       int64_t *) mem_81857)[gtid_75693 *\n                                                                             n_70233 +\n                                                                             i_76726];\n                    int64_t defunc_1_add_res_76728 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_76727);\n                    \n                    defunc_0_f_res_76725 = defunc_1_add_res_76728;\n                }\n                \n                int64_t binop_p_76729 = sub64(defunc_0_f_res_76725,\n                                              index_primexp_78999);\n                float defunc_0_f_res_76730 = sitofp_i64_f32(binop_p_76729);\n                float abs_res_76731 = (float) fabs(defunc_0_f_res_76730);\n                float tmp1_76732 = abs_res_76731 / defunc_1_f_res_76721;\n                float x_76733 = tmp1_76732 * tmp1_76732;\n                float y_76734 = tmp1_76732 * x_76733;\n                float tmp2_76735 = 1.0F - y_76734;\n                float x_76736 = tmp2_76735 * tmp2_76735;\n                float tmp3_76737 = tmp2_76735 * x_76736;\n                float w_j_76738 = x_76723 * tmp3_76737;\n                float xw_j_76739 = defunc_0_f_res_76730 * w_j_76738;\n                float x2w_j_76740 = defunc_0_f_res_76730 * xw_j_76739;\n                float x3w_j_76741 = defunc_0_f_res_76730 * x2w_j_76740;\n                flo",
                   "at x4w_j_76742 = defunc_0_f_res_76730 * x3w_j_76741;\n                \n                // save map-out results\n                { }\n                // load accumulator\n                {\n                    x_76698 = x_acc_83535;\n                    x_76699 = x_acc_83536;\n                    x_76700 = x_acc_83537;\n                    x_76701 = x_acc_83538;\n                    x_76702 = x_acc_83539;\n                }\n                // load new values\n                {\n                    x_76703 = w_j_76738;\n                    x_76704 = xw_j_76739;\n                    x_76705 = x2w_j_76740;\n                    x_76706 = x3w_j_76741;\n                    x_76707 = x4w_j_76742;\n                }\n                // apply reduction operator\n                {\n                    float defunc_1_op_res_76708 = x_76698 + x_76703;\n                    float defunc_1_op_res_76709 = x_76699 + x_76704;\n                    float defunc_1_op_res_76710 = x_76700 + x_76705;\n                    float defunc_1_op_res_76711 = x_76701 + x_76706;\n                    float defunc_1_op_res_76712 = x_76702 + x_76707;\n                    \n                    // store in accumulator\n                    {\n                        x_acc_83535 = defunc_1_op_res_76708;\n                        x_acc_83536 = defunc_1_op_res_76709;\n                        x_acc_83537 = defunc_1_op_res_76710;\n                        x_acc_83538 = defunc_1_op_res_76711;\n                        x_acc_83539 = defunc_1_op_res_76712;\n                    }\n                }\n            }\n        }\n        // to reduce current chunk, first store our result in memory\n        {\n            x_76698 = x_acc_83535;\n            x_76699 = x_acc_83536;\n            x_76700 = x_acc_83537;\n            x_76701 = x_acc_83538;\n            x_76702 = x_acc_83539;\n            ((__local\n              float *) red_arr_mem_83514)[sext_i32_i64(local_tid_83510)] =\n                x_76698;\n            ((__local\n              float *) red_arr_mem_8351",
                   "6)[sext_i32_i64(local_tid_83510)] =\n                x_76699;\n            ((__local\n              float *) red_arr_mem_83518)[sext_i32_i64(local_tid_83510)] =\n                x_76700;\n            ((__local\n              float *) red_arr_mem_83520)[sext_i32_i64(local_tid_83510)] =\n                x_76701;\n            ((__local\n              float *) red_arr_mem_83522)[sext_i32_i64(local_tid_83510)] =\n                x_76702;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_83557;\n        int32_t skip_waves_83558 = 1;\n        float x_83541;\n        float x_83542;\n        float x_83543;\n        float x_83544;\n        float x_83545;\n        float x_83546;\n        float x_83547;\n        float x_83548;\n        float x_83549;\n        float x_83550;\n        \n        offset_83557 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_83510,\n                      sext_i64_i32(segred_group_sizze_76690))) {\n                x_83541 = ((__local\n                            float *) red_arr_mem_83514)[sext_i32_i64(local_tid_83510 +\n                                                        offset_83557)];\n                x_83542 = ((__local\n                            float *) red_arr_mem_83516)[sext_i32_i64(local_tid_83510 +\n                                                        offset_83557)];\n                x_83543 = ((__local\n                            float *) red_arr_mem_83518)[sext_i32_i64(local_tid_83510 +\n                                                        offset_83557)];\n                x_83544 = ((__local\n                            float *) red_arr_mem_83520)[sext_i32_i64(local_tid_83510 +\n                                                        offset_83557)];\n                x_83545 = ((__local\n                            float *) red_arr_mem_83522)[sext_i32_i64(local_tid_83510 +\n                                                        offset_83557)];\n            }\n        }\n        offs",
                   "et_83557 = 1;\n        while (slt32(offset_83557, wave_sizze_83512)) {\n            if (slt32(local_tid_83510 + offset_83557,\n                      sext_i64_i32(segred_group_sizze_76690)) &&\n                ((local_tid_83510 - squot32(local_tid_83510, wave_sizze_83512) *\n                  wave_sizze_83512) & (2 * offset_83557 - 1)) == 0) {\n                // read array element\n                {\n                    x_83546 = ((volatile __local\n                                float *) red_arr_mem_83514)[sext_i32_i64(local_tid_83510 +\n                                                            offset_83557)];\n                    x_83547 = ((volatile __local\n                                float *) red_arr_mem_83516)[sext_i32_i64(local_tid_83510 +\n                                                            offset_83557)];\n                    x_83548 = ((volatile __local\n                                float *) red_arr_mem_83518)[sext_i32_i64(local_tid_83510 +\n                                                            offset_83557)];\n                    x_83549 = ((volatile __local\n                                float *) red_arr_mem_83520)[sext_i32_i64(local_tid_83510 +\n                                                            offset_83557)];\n                    x_83550 = ((volatile __local\n                                float *) red_arr_mem_83522)[sext_i32_i64(local_tid_83510 +\n                                                            offset_83557)];\n                }\n                // apply reduction operation\n                {\n                    float defunc_1_op_res_83551 = x_83541 + x_83546;\n                    float defunc_1_op_res_83552 = x_83542 + x_83547;\n                    float defunc_1_op_res_83553 = x_83543 + x_83548;\n                    float defunc_1_op_res_83554 = x_83544 + x_83549;\n                    float defunc_1_op_res_83555 = x_83545 + x_83550;\n                    \n                    x_83541 = defunc_1_op_res_83551;\n                    x_83",
                   "542 = defunc_1_op_res_83552;\n                    x_83543 = defunc_1_op_res_83553;\n                    x_83544 = defunc_1_op_res_83554;\n                    x_83545 = defunc_1_op_res_83555;\n                }\n                // write result of operation\n                {\n                    ((volatile __local\n                      float *) red_arr_mem_83514)[sext_i32_i64(local_tid_83510)] =\n                        x_83541;\n                    ((volatile __local\n                      float *) red_arr_mem_83516)[sext_i32_i64(local_tid_83510)] =\n                        x_83542;\n                    ((volatile __local\n                      float *) red_arr_mem_83518)[sext_i32_i64(local_tid_83510)] =\n                        x_83543;\n                    ((volatile __local\n                      float *) red_arr_mem_83520)[sext_i32_i64(local_tid_83510)] =\n                        x_83544;\n                    ((volatile __local\n                      float *) red_arr_mem_83522)[sext_i32_i64(local_tid_83510)] =\n                        x_83545;\n                }\n            }\n            offset_83557 *= 2;\n        }\n        while (slt32(skip_waves_83558,\n                     squot32(sext_i64_i32(segred_group_sizze_76690) +\n                             wave_sizze_83512 - 1, wave_sizze_83512))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_83557 = skip_waves_83558 * wave_sizze_83512;\n            if (slt32(local_tid_83510 + offset_83557,\n                      sext_i64_i32(segred_group_sizze_76690)) &&\n                ((local_tid_83510 - squot32(local_tid_83510, wave_sizze_83512) *\n                  wave_sizze_83512) == 0 && (squot32(local_tid_83510,\n                                                     wave_sizze_83512) & (2 *\n                                                                          skip_waves_83558 -\n                                                                          1)) ==\n                 0)) {\n                // read array element\n            ",
                   "    {\n                    x_83546 = ((__local\n                                float *) red_arr_mem_83514)[sext_i32_i64(local_tid_83510 +\n                                                            offset_83557)];\n                    x_83547 = ((__local\n                                float *) red_arr_mem_83516)[sext_i32_i64(local_tid_83510 +\n                                                            offset_83557)];\n                    x_83548 = ((__local\n                                float *) red_arr_mem_83518)[sext_i32_i64(local_tid_83510 +\n                                                            offset_83557)];\n                    x_83549 = ((__local\n                                float *) red_arr_mem_83520)[sext_i32_i64(local_tid_83510 +\n                                                            offset_83557)];\n                    x_83550 = ((__local\n                                float *) red_arr_mem_83522)[sext_i32_i64(local_tid_83510 +\n                                                            offset_83557)];\n                }\n                // apply reduction operation\n                {\n                    float defunc_1_op_res_83551 = x_83541 + x_83546;\n                    float defunc_1_op_res_83552 = x_83542 + x_83547;\n                    float defunc_1_op_res_83553 = x_83543 + x_83548;\n                    float defunc_1_op_res_83554 = x_83544 + x_83549;\n                    float defunc_1_op_res_83555 = x_83545 + x_83550;\n                    \n                    x_83541 = defunc_1_op_res_83551;\n                    x_83542 = defunc_1_op_res_83552;\n                    x_83543 = defunc_1_op_res_83553;\n                    x_83544 = defunc_1_op_res_83554;\n                    x_83545 = defunc_1_op_res_83555;\n                }\n                // write result of operation\n                {\n                    ((__local\n                      float *) red_arr_mem_83514)[sext_i32_i64(local_tid_83510)] =\n                        x_83541;\n                    ",
                   "((__local\n                      float *) red_arr_mem_83516)[sext_i32_i64(local_tid_83510)] =\n                        x_83542;\n                    ((__local\n                      float *) red_arr_mem_83518)[sext_i32_i64(local_tid_83510)] =\n                        x_83543;\n                    ((__local\n                      float *) red_arr_mem_83520)[sext_i32_i64(local_tid_83510)] =\n                        x_83544;\n                    ((__local\n                      float *) red_arr_mem_83522)[sext_i32_i64(local_tid_83510)] =\n                        x_83545;\n                }\n            }\n            skip_waves_83558 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_83510) == (int64_t) 0) {\n                x_acc_83535 = x_83541;\n                x_acc_83536 = x_83542;\n                x_acc_83537 = x_83543;\n                x_acc_83538 = x_83544;\n                x_acc_83539 = x_83545;\n            }\n        }\n        if (groups_per_segment_83492 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_83510 == 0) {\n                    ((__global float *) mem_82001)[gtid_75693 * n_m_70241 +\n                                                   gtid_75694] = x_acc_83535;\n                    ((__global float *) mem_82005)[gtid_75693 * n_m_70241 +\n                                                   gtid_75694] = x_acc_83536;\n                    ((__global float *) mem_82009)[gtid_75693 * n_m_70241 +\n                                                   gtid_75694] = x_acc_83537;\n                    ((__global float *) mem_82013)[gtid_75693 * n_m_70241 +\n                                                   gtid_75694] = x_acc_83538;\n                    ((__global float *) mem_82017)[gtid_75693 * n_m_70241 +\n                                                   gtid_75694] = x_acc_83539;\n                }\n     ",
                   "       }\n        } else {\n            int32_t old_counter_83559;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_83510 == 0) {\n                    ((__global\n                      float *) segred_tmp_mem_83497)[sext_i32_i64(virt_group_id_83528)] =\n                        x_acc_83535;\n                    ((__global\n                      float *) segred_tmp_mem_83499)[sext_i32_i64(virt_group_id_83528)] =\n                        x_acc_83536;\n                    ((__global\n                      float *) segred_tmp_mem_83501)[sext_i32_i64(virt_group_id_83528)] =\n                        x_acc_83537;\n                    ((__global\n                      float *) segred_tmp_mem_83503)[sext_i32_i64(virt_group_id_83528)] =\n                        x_acc_83538;\n                    ((__global\n                      float *) segred_tmp_mem_83505)[sext_i32_i64(virt_group_id_83528)] =\n                        x_acc_83539;\n                    mem_fence_global();\n                    old_counter_83559 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_83507)[sext_i32_i64(srem32(flat_segment_id_83529,\n                                                                                                     10240))],\n                                              (int) 1);\n                    ((__local bool *) sync_arr_mem_83524)[(int64_t) 0] =\n                        old_counter_83559 == groups_per_segment_83492 -\n                        (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_83560 = ((__local\n                                         bool *) sync_arr_mem_83524)[(int64_t) 0];\n            \n            if (is_last_group_83560) {\n                if (local_tid_83510 == 0) {\n                    old_counter_83559 =\n   ",
                   "                     atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_83507)[sext_i32_i64(srem32(flat_segment_id_83529,\n                                                                                                     10240))],\n                                              (int) ((int64_t) 0 -\n                                                     groups_per_segment_83492));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_83561 =\n                            sdiv_up64(groups_per_segment_83492,\n                                      segred_group_sizze_76690);\n                    \n                    x_76698 = 0.0F;\n                    x_76699 = 0.0F;\n                    x_76700 = 0.0F;\n                    x_76701 = 0.0F;\n                    x_76702 = 0.0F;\n                    for (int64_t i_83562 = 0; i_83562 < read_per_thread_83561;\n                         i_83562++) {\n                        int64_t group_res_id_83563 =\n                                sext_i32_i64(local_tid_83510) *\n                                read_per_thread_83561 + i_83562;\n                        int64_t index_of_group_res_83564 =\n                                sext_i32_i64(flat_segment_id_83529) *\n                                groups_per_segment_83492 + group_res_id_83563;\n                        \n                        if (slt64(group_res_id_83563,\n                                  groups_per_segment_83492)) {\n                            x_76703 = ((__global\n                                        float *) segred_tmp_mem_83497)[index_of_group_res_83564];\n                            x_76704 = ((__global\n                                        float *) segred_tmp_mem_83499)[index_of_group_res_83564];\n                            x_76705 = ((__global\n                                        float *) segred_tmp_mem_83501)[index_of_group_res_8356",
                   "4];\n                            x_76706 = ((__global\n                                        float *) segred_tmp_mem_83503)[index_of_group_res_83564];\n                            x_76707 = ((__global\n                                        float *) segred_tmp_mem_83505)[index_of_group_res_83564];\n                            \n                            float defunc_1_op_res_76708 = x_76698 + x_76703;\n                            float defunc_1_op_res_76709 = x_76699 + x_76704;\n                            float defunc_1_op_res_76710 = x_76700 + x_76705;\n                            float defunc_1_op_res_76711 = x_76701 + x_76706;\n                            float defunc_1_op_res_76712 = x_76702 + x_76707;\n                            \n                            x_76698 = defunc_1_op_res_76708;\n                            x_76699 = defunc_1_op_res_76709;\n                            x_76700 = defunc_1_op_res_76710;\n                            x_76701 = defunc_1_op_res_76711;\n                            x_76702 = defunc_1_op_res_76712;\n                        }\n                    }\n                }\n                ((__local\n                  float *) red_arr_mem_83514)[sext_i32_i64(local_tid_83510)] =\n                    x_76698;\n                ((__local\n                  float *) red_arr_mem_83516)[sext_i32_i64(local_tid_83510)] =\n                    x_76699;\n                ((__local\n                  float *) red_arr_mem_83518)[sext_i32_i64(local_tid_83510)] =\n                    x_76700;\n                ((__local\n                  float *) red_arr_mem_83520)[sext_i32_i64(local_tid_83510)] =\n                    x_76701;\n                ((__local\n                  float *) red_arr_mem_83522)[sext_i32_i64(local_tid_83510)] =\n                    x_76702;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_83565;\n                    int32_t skip_waves_83566 = 1;\n              ",
                   "      float x_83541;\n                    float x_83542;\n                    float x_83543;\n                    float x_83544;\n                    float x_83545;\n                    float x_83546;\n                    float x_83547;\n                    float x_83548;\n                    float x_83549;\n                    float x_83550;\n                    \n                    offset_83565 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_83510,\n                                  sext_i64_i32(segred_group_sizze_76690))) {\n                            x_83541 = ((__local\n                                        float *) red_arr_mem_83514)[sext_i32_i64(local_tid_83510 +\n                                                                    offset_83565)];\n                            x_83542 = ((__local\n                                        float *) red_arr_mem_83516)[sext_i32_i64(local_tid_83510 +\n                                                                    offset_83565)];\n                            x_83543 = ((__local\n                                        float *) red_arr_mem_83518)[sext_i32_i64(local_tid_83510 +\n                                                                    offset_83565)];\n                            x_83544 = ((__local\n                                        float *) red_arr_mem_83520)[sext_i32_i64(local_tid_83510 +\n                                                                    offset_83565)];\n                            x_83545 = ((__local\n                                        float *) red_arr_mem_83522)[sext_i32_i64(local_tid_83510 +\n                                                                    offset_83565)];\n                        }\n                    }\n                    offset_83565 = 1;\n                    while (slt32(offset_83565, wave_sizze_83512)) {\n                        if (slt32(local_tid_83510 + offset_83565,\n          ",
                   "                        sext_i64_i32(segred_group_sizze_76690)) &&\n                            ((local_tid_83510 - squot32(local_tid_83510,\n                                                        wave_sizze_83512) *\n                              wave_sizze_83512) & (2 * offset_83565 - 1)) ==\n                            0) {\n                            // read array element\n                            {\n                                x_83546 = ((volatile __local\n                                            float *) red_arr_mem_83514)[sext_i32_i64(local_tid_83510 +\n                                                                        offset_83565)];\n                                x_83547 = ((volatile __local\n                                            float *) red_arr_mem_83516)[sext_i32_i64(local_tid_83510 +\n                                                                        offset_83565)];\n                                x_83548 = ((volatile __local\n                                            float *) red_arr_mem_83518)[sext_i32_i64(local_tid_83510 +\n                                                                        offset_83565)];\n                                x_83549 = ((volatile __local\n                                            float *) red_arr_mem_83520)[sext_i32_i64(local_tid_83510 +\n                                                                        offset_83565)];\n                                x_83550 = ((volatile __local\n                                            float *) red_arr_mem_83522)[sext_i32_i64(local_tid_83510 +\n                                                                        offset_83565)];\n                            }\n                            // apply reduction operation\n                            {\n                                float defunc_1_op_res_83551 = x_83541 + x_83546;\n                                float defunc_1_op_res_83552 = x_83542 + x_83547;\n                                float defunc_1_op_res_8",
                   "3553 = x_83543 + x_83548;\n                                float defunc_1_op_res_83554 = x_83544 + x_83549;\n                                float defunc_1_op_res_83555 = x_83545 + x_83550;\n                                \n                                x_83541 = defunc_1_op_res_83551;\n                                x_83542 = defunc_1_op_res_83552;\n                                x_83543 = defunc_1_op_res_83553;\n                                x_83544 = defunc_1_op_res_83554;\n                                x_83545 = defunc_1_op_res_83555;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local\n                                  float *) red_arr_mem_83514)[sext_i32_i64(local_tid_83510)] =\n                                    x_83541;\n                                ((volatile __local\n                                  float *) red_arr_mem_83516)[sext_i32_i64(local_tid_83510)] =\n                                    x_83542;\n                                ((volatile __local\n                                  float *) red_arr_mem_83518)[sext_i32_i64(local_tid_83510)] =\n                                    x_83543;\n                                ((volatile __local\n                                  float *) red_arr_mem_83520)[sext_i32_i64(local_tid_83510)] =\n                                    x_83544;\n                                ((volatile __local\n                                  float *) red_arr_mem_83522)[sext_i32_i64(local_tid_83510)] =\n                                    x_83545;\n                            }\n                        }\n                        offset_83565 *= 2;\n                    }\n                    while (slt32(skip_waves_83566,\n                                 squot32(sext_i64_i32(segred_group_sizze_76690) +\n                                         wave_sizze_83512 - 1,\n                                         wave_sizze_83512))) {\n  ",
                   "                      barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_83565 = skip_waves_83566 * wave_sizze_83512;\n                        if (slt32(local_tid_83510 + offset_83565,\n                                  sext_i64_i32(segred_group_sizze_76690)) &&\n                            ((local_tid_83510 - squot32(local_tid_83510,\n                                                        wave_sizze_83512) *\n                              wave_sizze_83512) == 0 &&\n                             (squot32(local_tid_83510, wave_sizze_83512) & (2 *\n                                                                            skip_waves_83566 -\n                                                                            1)) ==\n                             0)) {\n                            // read array element\n                            {\n                                x_83546 = ((__local\n                                            float *) red_arr_mem_83514)[sext_i32_i64(local_tid_83510 +\n                                                                        offset_83565)];\n                                x_83547 = ((__local\n                                            float *) red_arr_mem_83516)[sext_i32_i64(local_tid_83510 +\n                                                                        offset_83565)];\n                                x_83548 = ((__local\n                                            float *) red_arr_mem_83518)[sext_i32_i64(local_tid_83510 +\n                                                                        offset_83565)];\n                                x_83549 = ((__local\n                                            float *) red_arr_mem_83520)[sext_i32_i64(local_tid_83510 +\n                                                                        offset_83565)];\n                                x_83550 = ((__local\n                                            float *) red_arr_mem_83522)[sext_i32_i64(local_tid_83510 +\n                        ",
                   "                                                offset_83565)];\n                            }\n                            // apply reduction operation\n                            {\n                                float defunc_1_op_res_83551 = x_83541 + x_83546;\n                                float defunc_1_op_res_83552 = x_83542 + x_83547;\n                                float defunc_1_op_res_83553 = x_83543 + x_83548;\n                                float defunc_1_op_res_83554 = x_83544 + x_83549;\n                                float defunc_1_op_res_83555 = x_83545 + x_83550;\n                                \n                                x_83541 = defunc_1_op_res_83551;\n                                x_83542 = defunc_1_op_res_83552;\n                                x_83543 = defunc_1_op_res_83553;\n                                x_83544 = defunc_1_op_res_83554;\n                                x_83545 = defunc_1_op_res_83555;\n                            }\n                            // write result of operation\n                            {\n                                ((__local\n                                  float *) red_arr_mem_83514)[sext_i32_i64(local_tid_83510)] =\n                                    x_83541;\n                                ((__local\n                                  float *) red_arr_mem_83516)[sext_i32_i64(local_tid_83510)] =\n                                    x_83542;\n                                ((__local\n                                  float *) red_arr_mem_83518)[sext_i32_i64(local_tid_83510)] =\n                                    x_83543;\n                                ((__local\n                                  float *) red_arr_mem_83520)[sext_i32_i64(local_tid_83510)] =\n                                    x_83544;\n                                ((__local\n                                  float *) red_arr_mem_83522)[sext_i32_i64(local_tid_83510)] =\n                                    x_83545;\n                            }",
                   "\n                        }\n                        skip_waves_83566 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_83510 == 0) {\n                            ((__global float *) mem_82001)[gtid_75693 *\n                                                           n_m_70241 +\n                                                           gtid_75694] =\n                                x_83541;\n                            ((__global float *) mem_82005)[gtid_75693 *\n                                                           n_m_70241 +\n                                                           gtid_75694] =\n                                x_83542;\n                            ((__global float *) mem_82009)[gtid_75693 *\n                                                           n_m_70241 +\n                                                           gtid_75694] =\n                                x_83543;\n                            ((__global float *) mem_82013)[gtid_75693 *\n                                                           n_m_70241 +\n                                                           gtid_75694] =\n                                x_83544;\n                            ((__global float *) mem_82017)[gtid_75693 *\n                                                           n_m_70241 +\n                                                           gtid_75694] =\n                                x_83545;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_76690\n}\n__kernel void mainzisegred_small_72122(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *red_arr_mem_82797_backing_aligned_0,\n                                       int64_t m",
                   "_70232, int64_t n_70233,\n                                       int64_t q_70235, int64_t jump_70237,\n                                       int64_t n_m_70241, int64_t i_70247,\n                                       int64_t num_groups_73058,\n                                       int64_t segment_sizze_nonzzero_82790,\n                                       __global unsigned char *mem_81323,\n                                       __global unsigned char *mem_81327,\n                                       __global unsigned char *mem_81331,\n                                       __global unsigned char *mem_81355,\n                                       __global unsigned char *mem_81411,\n                                       __global unsigned char *mem_81415,\n                                       __global unsigned char *mem_81425,\n                                       __global unsigned char *mem_81430)\n{\n    #define segred_group_sizze_73057 (mainzisegred_group_sizze_72116)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_82797_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_82797_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82792;\n    int32_t local_tid_82793;\n    int64_t group_sizze_82796;\n    int32_t wave_sizze_82795;\n    int32_t group_tid_82794;\n    \n    global_tid_82792 = get_global_id(0);\n    local_tid_82793 = get_local_id(0);\n    group_sizze_82796 = get_local_size(0);\n    wave_sizze_82795 = LOCKSTEP_WIDTH;\n    group_tid_82794 = get_group_id(0);\n    \n    int32_t phys_tid_72122 = global_tid_82792;\n    __local unsigned char *red_arr_mem_82797;\n    \n    red_arr_mem_82797 = (__local unsigned char *) red_arr_mem_82797_backing_0;\n    \n    int32_t phys_group_id_82799;\n    \n    phys_group_id_82799 = get_group_id(0);\n    for (int32_t i_82800 =",
                   " 0; i_82800 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_70232 * n_m_70241,\n                                          squot64(segred_group_sizze_73057,\n                                                  segment_sizze_nonzzero_82790))) -\n                   phys_group_id_82799, sext_i64_i32(num_groups_73058));\n         i_82800++) {\n        int32_t virt_group_id_82801 = phys_group_id_82799 + i_82800 *\n                sext_i64_i32(num_groups_73058);\n        int64_t slice_82802 = n_m_70241;\n        int64_t slice_82803 = m_70232 * slice_82802;\n        int64_t gtid_72111 = squot64(squot64(sext_i32_i64(local_tid_82793),\n                                             segment_sizze_nonzzero_82790) +\n                                     sext_i32_i64(virt_group_id_82801) *\n                                     squot64(segred_group_sizze_73057,\n                                             segment_sizze_nonzzero_82790),\n                                     slice_82802);\n        int64_t remnant_82804 = squot64(sext_i32_i64(local_tid_82793),\n                                        segment_sizze_nonzzero_82790) +\n                sext_i32_i64(virt_group_id_82801) *\n                squot64(segred_group_sizze_73057,\n                        segment_sizze_nonzzero_82790) - gtid_72111 *\n                slice_82802;\n        int64_t gtid_72112 = remnant_82804;\n        int64_t remnant_82805 = remnant_82804 - gtid_72112;\n        int64_t gtid_72121 = srem64(sext_i32_i64(local_tid_82793), q_70235);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, q_70235) && ((slt64(gtid_72111, m_70232) &&\n                                                 slt64(gtid_72112,\n                                                       n_m_70241)) &&\n                                                slt64(sext_i32_i64(local_tid_82793),\n                                                      q_70235 *\n                                                      squot64(segred_group_sizze_",
                   "73057,\n                                                              segment_sizze_nonzzero_82790)))) {\n                int64_t last_res_73064 = ((__global\n                                           int64_t *) mem_81323)[gtid_72111 *\n                                                                 n_70233 +\n                                                                 i_70247];\n                int64_t binop_y_78964 = mul64(jump_70237, gtid_72112);\n                int64_t index_primexp_78965 = smin64(i_70247, binop_y_78964);\n                int64_t max_res_73073 = ((__global\n                                          int64_t *) mem_81411)[gtid_72111 *\n                                                                n_m_70241 +\n                                                                gtid_72112];\n                float defunc_1_f_res_73074 = ((__global\n                                               float *) mem_81415)[gtid_72111 *\n                                                                   n_m_70241 +\n                                                                   gtid_72112];\n                float a0_73075 = ((__global float *) mem_81425)[gtid_72111 *\n                                                                n_m_70241 +\n                                                                gtid_72112];\n                float x_73077 = ((__global float *) mem_81355)[gtid_72111 *\n                                                               q_70235 +\n                                                               gtid_72121];\n                bool cond_73078 = sle64(last_res_73064, gtid_72121);\n                int64_t defunc_0_f_res_73079;\n                \n                if (cond_73078) {\n                    defunc_0_f_res_73079 = (int64_t) 0;\n                } else {\n                    int64_t i_73080 = add64(gtid_72121, max_res_73073);\n                    int64_t defunc_0_add_arg_73081 = ((__global\n                                                     ",
                   "  int64_t *) mem_81331)[gtid_72111 *\n                                                                             n_70233 +\n                                                                             i_73080];\n                    int64_t defunc_1_add_res_73082 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_73081);\n                    \n                    defunc_0_f_res_73079 = defunc_1_add_res_73082;\n                }\n                \n                int64_t binop_p_73083 = sub64(defunc_0_f_res_73079,\n                                              index_primexp_78965);\n                float defunc_0_f_res_73084 = sitofp_i64_f32(binop_p_73083);\n                float abs_res_73085 = (float) fabs(defunc_0_f_res_73084);\n                float tmp1_73086 = abs_res_73085 / defunc_1_f_res_73074;\n                float x_73087 = tmp1_73086 * tmp1_73086;\n                float y_73088 = tmp1_73086 * x_73087;\n                float tmp2_73089 = 1.0F - y_73088;\n                float x_73090 = tmp2_73089 * tmp2_73089;\n                float tmp3_73091 = tmp2_73089 * x_73090;\n                float tmp4_73092 = x_73077 * tmp3_73091;\n                float defunc_0_f_res_73093;\n                \n                if (cond_73078) {\n                    defunc_0_f_res_73093 = 0.0F;\n                } else {\n                    int64_t i_73094 = add64(gtid_72121, max_res_73073);\n                    float defunc_0_add_arg_73095 = ((__global\n                                                     float *) mem_81327)[gtid_72111 *\n                                                                         n_70233 +\n                                                                         i_73094];\n                    \n                    defunc_0_f_res_73093 = defunc_0_add_arg_73095;\n                }\n                \n                float x_73096 = a0_73075 * tmp4_73092;\n                float defunc_9_fit_fun_res_73097 = defunc_0_f_res_73093 *\n           ",
                   "           x_73096;\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local\n                      float *) red_arr_mem_82797)[sext_i32_i64(local_tid_82793)] =\n                        defunc_9_fit_fun_res_73097;\n                }\n            } else {\n                ((__local\n                  float *) red_arr_mem_82797)[sext_i32_i64(local_tid_82793)] =\n                    0.0F;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, q_70235)) {\n            // perform segmented scan to imitate reduction\n            {\n                float x_73061;\n                float x_73062;\n                float x_82806;\n                float x_82807;\n                bool ltid_in_bounds_82809 = slt64(sext_i32_i64(local_tid_82793),\n                                                  q_70235 *\n                                                  squot64(segred_group_sizze_73057,\n                                                          segment_sizze_nonzzero_82790));\n                int32_t skip_threads_82810;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_82809) {\n                        x_73062 = ((volatile __local\n                                    float *) red_arr_mem_82797)[sext_i32_i64(local_tid_82793)];\n                        if ((local_tid_82793 - squot32(local_tid_82793, 32) *\n                             32) == 0) {\n                            x_73061 = x_73062;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_82810 = 1;\n                    while (slt32(skip_threads_82810, 32)) {\n                        if (sle32(skip_threads_82810, local_tid_82793 -\n                                  squot32(local_tid_82793, 32) * 32) &&\n ",
                   "                           ltid_in_bounds_82809) {\n                            // read operands\n                            {\n                                x_73061 = ((volatile __local\n                                            float *) red_arr_mem_82797)[sext_i32_i64(local_tid_82793) -\n                                                                        sext_i32_i64(skip_threads_82810)];\n                            }\n                            // perform operation\n                            {\n                                bool inactive_82811 =\n                                     slt64(srem64(sext_i32_i64(local_tid_82793),\n                                                  q_70235),\n                                           sext_i32_i64(local_tid_82793) -\n                                           sext_i32_i64(local_tid_82793 -\n                                           skip_threads_82810));\n                                \n                                if (inactive_82811) {\n                                    x_73061 = x_73062;\n                                }\n                                if (!inactive_82811) {\n                                    float defunc_1_op_res_73063 = x_73061 +\n                                          x_73062;\n                                    \n                                    x_73061 = defunc_1_op_res_73063;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_82795, skip_threads_82810)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (sle32(skip_threads_82810, local_tid_82793 -\n                                  squot32(local_tid_82793, 32) * 32) &&\n                            ltid_in_bounds_82809) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  float *) red_arr",
                   "_mem_82797)[sext_i32_i64(local_tid_82793)] =\n                                    x_73061;\n                                x_73062 = x_73061;\n                            }\n                        }\n                        if (sle32(wave_sizze_82795, skip_threads_82810)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_82810 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_82793 - squot32(local_tid_82793, 32) * 32) ==\n                        31 && ltid_in_bounds_82809) {\n                        ((volatile __local\n                          float *) red_arr_mem_82797)[sext_i32_i64(squot32(local_tid_82793,\n                                                                           32))] =\n                            x_73061;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_82812;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_82793, 32) == 0 &&\n                            ltid_in_bounds_82809) {\n                            x_82807 = ((volatile __local\n                                        float *) red_arr_mem_82797)[sext_i32_i64(local_tid_82793)];\n                            if ((local_tid_82793 - squot32(local_tid_82793,\n                                                           32) * 32) == 0) {\n                                x_82806 = x_82807;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threa",
                   "ds_82812 = 1;\n                        while (slt32(skip_threads_82812, 32)) {\n                            if (sle32(skip_threads_82812, local_tid_82793 -\n                                      squot32(local_tid_82793, 32) * 32) &&\n                                (squot32(local_tid_82793, 32) == 0 &&\n                                 ltid_in_bounds_82809)) {\n                                // read operands\n                                {\n                                    x_82806 = ((volatile __local\n                                                float *) red_arr_mem_82797)[sext_i32_i64(local_tid_82793) -\n                                                                            sext_i32_i64(skip_threads_82812)];\n                                }\n                                // perform operation\n                                {\n                                    bool inactive_82813 =\n                                         slt64(srem64(sext_i32_i64(local_tid_82793 *\n                                                      32 + 32 - 1), q_70235),\n                                               sext_i32_i64(local_tid_82793 *\n                                               32 + 32 - 1) -\n                                               sext_i32_i64((local_tid_82793 -\n                                                             skip_threads_82812) *\n                                               32 + 32 - 1));\n                                    \n                                    if (inactive_82813) {\n                                        x_82806 = x_82807;\n                                    }\n                                    if (!inactive_82813) {\n                                        float defunc_1_op_res_82808 = x_82806 +\n                                              x_82807;\n                                        \n                                        x_82806 = defunc_1_op_res_82808;\n                                    }\n                               ",
                   " }\n                            }\n                            if (sle32(wave_sizze_82795, skip_threads_82812)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (sle32(skip_threads_82812, local_tid_82793 -\n                                      squot32(local_tid_82793, 32) * 32) &&\n                                (squot32(local_tid_82793, 32) == 0 &&\n                                 ltid_in_bounds_82809)) {\n                                // write result\n                                {\n                                    ((volatile __local\n                                      float *) red_arr_mem_82797)[sext_i32_i64(local_tid_82793)] =\n                                        x_82806;\n                                    x_82807 = x_82806;\n                                }\n                            }\n                            if (sle32(wave_sizze_82795, skip_threads_82812)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_82812 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // carry-in for every block except the first\n                {\n                    if (!(squot32(local_tid_82793, 32) == 0 ||\n                          !ltid_in_bounds_82809)) {\n                        // read operands\n                        {\n                            x_73062 = x_73061;\n                            x_73061 = ((__local\n                                        float *) red_arr_mem_82797)[sext_i32_i64(squot32(local_tid_82793,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n                        }\n                        // perform operation\n                        {\n                            bool inacti",
                   "ve_82814 =\n                                 slt64(srem64(sext_i32_i64(local_tid_82793),\n                                              q_70235),\n                                       sext_i32_i64(local_tid_82793) -\n                                       sext_i32_i64(squot32(local_tid_82793,\n                                                            32) * 32 - 1));\n                            \n                            if (inactive_82814) {\n                                x_73061 = x_73062;\n                            }\n                            if (!inactive_82814) {\n                                float defunc_1_op_res_73063 = x_73061 + x_73062;\n                                \n                                x_73061 = defunc_1_op_res_73063;\n                            }\n                        }\n                        // write final result\n                        {\n                            ((__local\n                              float *) red_arr_mem_82797)[sext_i32_i64(local_tid_82793)] =\n                                x_73061;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_82793, 32) == 0) {\n                        ((__local\n                          float *) red_arr_mem_82797)[sext_i32_i64(local_tid_82793)] =\n                            x_73062;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_82801) *\n                      squot64(segred_group_sizze_73057,\n                              segment_sizze_nonzzero_82790) +\n                      sext_i32_i64(local_tid_82793), m_70232 * n_m_70241) &&\n                slt64(sext_i32_i64(local_tid_82793),\n                      squot64(se",
                   "gred_group_sizze_73057,\n                              segment_sizze_nonzzero_82790))) {\n                ((__global\n                  float *) mem_81430)[squot64(sext_i32_i64(virt_group_id_82801) *\n                                              squot64(segred_group_sizze_73057,\n                                                      segment_sizze_nonzzero_82790) +\n                                              sext_i32_i64(local_tid_82793),\n                                              n_m_70241) * n_m_70241 +\n                                      (sext_i32_i64(virt_group_id_82801) *\n                                       squot64(segred_group_sizze_73057,\n                                               segment_sizze_nonzzero_82790) +\n                                       sext_i32_i64(local_tid_82793) -\n                                       squot64(sext_i32_i64(virt_group_id_82801) *\n                                               squot64(segred_group_sizze_73057,\n                                                       segment_sizze_nonzzero_82790) +\n                                               sext_i32_i64(local_tid_82793),\n                                               n_m_70241) * n_m_70241)] =\n                    ((__local\n                      float *) red_arr_mem_82797)[(sext_i32_i64(local_tid_82793) +\n                                                   (int64_t) 1) *\n                                                  segment_sizze_nonzzero_82790 -\n                                                  (int64_t) 1];\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_73057\n}\n__kernel void mainzisegred_small_72183(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *red_arr_mem_82719_backing_aligned_0,\n                                       int64_t m_70232, int",
                   "64_t n_70233,\n                                       int64_t q_70235, int64_t jump_70237,\n                                       int64_t n_m_70241, int64_t i_70247,\n                                       int64_t num_groups_73015,\n                                       int64_t segment_sizze_nonzzero_82712,\n                                       __global unsigned char *mem_81323,\n                                       __global unsigned char *mem_81331,\n                                       __global unsigned char *mem_81355,\n                                       __global unsigned char *mem_81411,\n                                       __global unsigned char *mem_81415,\n                                       __global unsigned char *mem_81420)\n{\n    #define segred_group_sizze_73014 (mainzisegred_group_sizze_72177)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_82719_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_82719_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_82714;\n    int32_t local_tid_82715;\n    int64_t group_sizze_82718;\n    int32_t wave_sizze_82717;\n    int32_t group_tid_82716;\n    \n    global_tid_82714 = get_global_id(0);\n    local_tid_82715 = get_local_id(0);\n    group_sizze_82718 = get_local_size(0);\n    wave_sizze_82717 = LOCKSTEP_WIDTH;\n    group_tid_82716 = get_group_id(0);\n    \n    int32_t phys_tid_72183 = global_tid_82714;\n    __local unsigned char *red_arr_mem_82719;\n    \n    red_arr_mem_82719 = (__local unsigned char *) red_arr_mem_82719_backing_0;\n    \n    int32_t phys_group_id_82721;\n    \n    phys_group_id_82721 = get_group_id(0);\n    for (int32_t i_82722 = 0; i_82722 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_70232 * n_m_70241,\n                                          squot64(segred_group_sizze_73014,\n      ",
                   "                                            segment_sizze_nonzzero_82712))) -\n                   phys_group_id_82721, sext_i64_i32(num_groups_73015));\n         i_82722++) {\n        int32_t virt_group_id_82723 = phys_group_id_82721 + i_82722 *\n                sext_i64_i32(num_groups_73015);\n        int64_t slice_82724 = n_m_70241;\n        int64_t slice_82725 = m_70232 * slice_82724;\n        int64_t gtid_72172 = squot64(squot64(sext_i32_i64(local_tid_82715),\n                                             segment_sizze_nonzzero_82712) +\n                                     sext_i32_i64(virt_group_id_82723) *\n                                     squot64(segred_group_sizze_73014,\n                                             segment_sizze_nonzzero_82712),\n                                     slice_82724);\n        int64_t remnant_82726 = squot64(sext_i32_i64(local_tid_82715),\n                                        segment_sizze_nonzzero_82712) +\n                sext_i32_i64(virt_group_id_82723) *\n                squot64(segred_group_sizze_73014,\n                        segment_sizze_nonzzero_82712) - gtid_72172 *\n                slice_82724;\n        int64_t gtid_72173 = remnant_82726;\n        int64_t remnant_82727 = remnant_82726 - gtid_72173;\n        int64_t gtid_72182 = srem64(sext_i32_i64(local_tid_82715), q_70235);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, q_70235) && ((slt64(gtid_72172, m_70232) &&\n                                                 slt64(gtid_72173,\n                                                       n_m_70241)) &&\n                                                slt64(sext_i32_i64(local_tid_82715),\n                                                      q_70235 *\n                                                      squot64(segred_group_sizze_73014,\n                                                              segment_sizze_nonzzero_82712)))) {\n                int64_t last_res_73021 = ((__global\n   ",
                   "                                        int64_t *) mem_81323)[gtid_72172 *\n                                                                 n_70233 +\n                                                                 i_70247];\n                int64_t binop_y_78958 = mul64(jump_70237, gtid_72173);\n                int64_t index_primexp_78959 = smin64(i_70247, binop_y_78958);\n                float defunc_1_f_res_73029 = ((__global\n                                               float *) mem_81415)[gtid_72172 *\n                                                                   n_m_70241 +\n                                                                   gtid_72173];\n                float x_73031 = ((__global float *) mem_81355)[gtid_72172 *\n                                                               q_70235 +\n                                                               gtid_72182];\n                bool cond_73032 = sle64(last_res_73021, gtid_72182);\n                int64_t defunc_0_f_res_73033;\n                \n                if (cond_73032) {\n                    defunc_0_f_res_73033 = (int64_t) 0;\n                } else {\n                    int64_t max_res_73028 = ((__global\n                                              int64_t *) mem_81411)[gtid_72172 *\n                                                                    n_m_70241 +\n                                                                    gtid_72173];\n                    int64_t i_73034 = add64(gtid_72182, max_res_73028);\n                    int64_t defunc_0_add_arg_73035 = ((__global\n                                                       int64_t *) mem_81331)[gtid_72172 *\n                                                                             n_70233 +\n                                                                             i_73034];\n                    int64_t defunc_1_add_res_73036 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_73035);\n      ",
                   "              \n                    defunc_0_f_res_73033 = defunc_1_add_res_73036;\n                }\n                \n                int64_t binop_p_73037 = sub64(defunc_0_f_res_73033,\n                                              index_primexp_78959);\n                float defunc_0_f_res_73038 = sitofp_i64_f32(binop_p_73037);\n                float abs_res_73039 = (float) fabs(defunc_0_f_res_73038);\n                float tmp1_73040 = abs_res_73039 / defunc_1_f_res_73029;\n                float x_73041 = tmp1_73040 * tmp1_73040;\n                float y_73042 = tmp1_73040 * x_73041;\n                float tmp2_73043 = 1.0F - y_73042;\n                float x_73044 = tmp2_73043 * tmp2_73043;\n                float tmp3_73045 = tmp2_73043 * x_73044;\n                float w_j_73046 = x_73031 * tmp3_73045;\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local\n                      float *) red_arr_mem_82719)[sext_i32_i64(local_tid_82715)] =\n                        w_j_73046;\n                }\n            } else {\n                ((__local\n                  float *) red_arr_mem_82719)[sext_i32_i64(local_tid_82715)] =\n                    0.0F;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, q_70235)) {\n            // perform segmented scan to imitate reduction\n            {\n                float x_73018;\n                float x_73019;\n                float x_82728;\n                float x_82729;\n                bool ltid_in_bounds_82731 = slt64(sext_i32_i64(local_tid_82715),\n                                                  q_70235 *\n                                                  squot64(segred_group_sizze_73014,\n                                                          segment_sizze_nonzzero_82712));\n                int32_t skip_threads_82732;\n                \n                // read input for in-block scan\n       ",
                   "         {\n                    if (ltid_in_bounds_82731) {\n                        x_73019 = ((volatile __local\n                                    float *) red_arr_mem_82719)[sext_i32_i64(local_tid_82715)];\n                        if ((local_tid_82715 - squot32(local_tid_82715, 32) *\n                             32) == 0) {\n                            x_73018 = x_73019;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_82732 = 1;\n                    while (slt32(skip_threads_82732, 32)) {\n                        if (sle32(skip_threads_82732, local_tid_82715 -\n                                  squot32(local_tid_82715, 32) * 32) &&\n                            ltid_in_bounds_82731) {\n                            // read operands\n                            {\n                                x_73018 = ((volatile __local\n                                            float *) red_arr_mem_82719)[sext_i32_i64(local_tid_82715) -\n                                                                        sext_i32_i64(skip_threads_82732)];\n                            }\n                            // perform operation\n                            {\n                                bool inactive_82733 =\n                                     slt64(srem64(sext_i32_i64(local_tid_82715),\n                                                  q_70235),\n                                           sext_i32_i64(local_tid_82715) -\n                                           sext_i32_i64(local_tid_82715 -\n                                           skip_threads_82732));\n                                \n                                if (inactive_82733) {\n                                    x_73018 = x_73019;\n                                }\n                                if (!inactive_82733) {\n                                    float defunc_1_op_res_73020 = x_73018 +\n      ",
                   "                                    x_73019;\n                                    \n                                    x_73018 = defunc_1_op_res_73020;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_82717, skip_threads_82732)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (sle32(skip_threads_82732, local_tid_82715 -\n                                  squot32(local_tid_82715, 32) * 32) &&\n                            ltid_in_bounds_82731) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  float *) red_arr_mem_82719)[sext_i32_i64(local_tid_82715)] =\n                                    x_73018;\n                                x_73019 = x_73018;\n                            }\n                        }\n                        if (sle32(wave_sizze_82717, skip_threads_82732)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_82732 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_82715 - squot32(local_tid_82715, 32) * 32) ==\n                        31 && ltid_in_bounds_82731) {\n                        ((volatile __local\n                          float *) red_arr_mem_82719)[sext_i32_i64(squot32(local_tid_82715,\n                                                                           32))] =\n                            x_73018;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_82734;\n    ",
                   "                \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_82715, 32) == 0 &&\n                            ltid_in_bounds_82731) {\n                            x_82729 = ((volatile __local\n                                        float *) red_arr_mem_82719)[sext_i32_i64(local_tid_82715)];\n                            if ((local_tid_82715 - squot32(local_tid_82715,\n                                                           32) * 32) == 0) {\n                                x_82728 = x_82729;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_82734 = 1;\n                        while (slt32(skip_threads_82734, 32)) {\n                            if (sle32(skip_threads_82734, local_tid_82715 -\n                                      squot32(local_tid_82715, 32) * 32) &&\n                                (squot32(local_tid_82715, 32) == 0 &&\n                                 ltid_in_bounds_82731)) {\n                                // read operands\n                                {\n                                    x_82728 = ((volatile __local\n                                                float *) red_arr_mem_82719)[sext_i32_i64(local_tid_82715) -\n                                                                            sext_i32_i64(skip_threads_82734)];\n                                }\n                                // perform operation\n                                {\n                                    bool inactive_82735 =\n                                         slt64(srem64(sext_i32_i64(local_tid_82715 *\n                                                      32 + 32 - 1), q_70235),\n                                               sext_i32_i64(local_tid_82715 *\n                                               32 + 32 - 1) -\n                      ",
                   "                         sext_i32_i64((local_tid_82715 -\n                                                             skip_threads_82734) *\n                                               32 + 32 - 1));\n                                    \n                                    if (inactive_82735) {\n                                        x_82728 = x_82729;\n                                    }\n                                    if (!inactive_82735) {\n                                        float defunc_1_op_res_82730 = x_82728 +\n                                              x_82729;\n                                        \n                                        x_82728 = defunc_1_op_res_82730;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_82717, skip_threads_82734)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (sle32(skip_threads_82734, local_tid_82715 -\n                                      squot32(local_tid_82715, 32) * 32) &&\n                                (squot32(local_tid_82715, 32) == 0 &&\n                                 ltid_in_bounds_82731)) {\n                                // write result\n                                {\n                                    ((volatile __local\n                                      float *) red_arr_mem_82719)[sext_i32_i64(local_tid_82715)] =\n                                        x_82728;\n                                    x_82729 = x_82728;\n                                }\n                            }\n                            if (sle32(wave_sizze_82717, skip_threads_82734)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_82734 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n     ",
                   "           // carry-in for every block except the first\n                {\n                    if (!(squot32(local_tid_82715, 32) == 0 ||\n                          !ltid_in_bounds_82731)) {\n                        // read operands\n                        {\n                            x_73019 = x_73018;\n                            x_73018 = ((__local\n                                        float *) red_arr_mem_82719)[sext_i32_i64(squot32(local_tid_82715,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n                        }\n                        // perform operation\n                        {\n                            bool inactive_82736 =\n                                 slt64(srem64(sext_i32_i64(local_tid_82715),\n                                              q_70235),\n                                       sext_i32_i64(local_tid_82715) -\n                                       sext_i32_i64(squot32(local_tid_82715,\n                                                            32) * 32 - 1));\n                            \n                            if (inactive_82736) {\n                                x_73018 = x_73019;\n                            }\n                            if (!inactive_82736) {\n                                float defunc_1_op_res_73020 = x_73018 + x_73019;\n                                \n                                x_73018 = defunc_1_op_res_73020;\n                            }\n                        }\n                        // write final result\n                        {\n                            ((__local\n                              float *) red_arr_mem_82719)[sext_i32_i64(local_tid_82715)] =\n                                x_73018;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n   ",
                   "             {\n                    if (squot32(local_tid_82715, 32) == 0) {\n                        ((__local\n                          float *) red_arr_mem_82719)[sext_i32_i64(local_tid_82715)] =\n                            x_73019;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_82723) *\n                      squot64(segred_group_sizze_73014,\n                              segment_sizze_nonzzero_82712) +\n                      sext_i32_i64(local_tid_82715), m_70232 * n_m_70241) &&\n                slt64(sext_i32_i64(local_tid_82715),\n                      squot64(segred_group_sizze_73014,\n                              segment_sizze_nonzzero_82712))) {\n                ((__global\n                  float *) mem_81420)[squot64(sext_i32_i64(virt_group_id_82723) *\n                                              squot64(segred_group_sizze_73014,\n                                                      segment_sizze_nonzzero_82712) +\n                                              sext_i32_i64(local_tid_82715),\n                                              n_m_70241) * n_m_70241 +\n                                      (sext_i32_i64(virt_group_id_82723) *\n                                       squot64(segred_group_sizze_73014,\n                                               segment_sizze_nonzzero_82712) +\n                                       sext_i32_i64(local_tid_82715) -\n                                       squot64(sext_i32_i64(virt_group_id_82723) *\n                                               squot64(segred_group_sizze_73014,\n                                                       segment_sizze_nonzzero_82712) +\n                                               sext_i32_i64(local_tid_82715),\n                                               n_m_70241) * n_m_70241)] =\n                 ",
                   "   ((__local\n                      float *) red_arr_mem_82719)[(sext_i32_i64(local_tid_82715) +\n                                                   (int64_t) 1) *\n                                                  segment_sizze_nonzzero_82712 -\n                                                  (int64_t) 1];\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_73014\n}\n__kernel void mainzisegred_small_73733(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83167_backing_aligned_0,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83165_backing_aligned_1,\n                                       int64_t m_70232, int64_t n_70233,\n                                       int64_t q_70235, int64_t jump_70237,\n                                       int64_t n_m_70241, int64_t i_70247,\n                                       int64_t num_groups_74792,\n                                       int64_t segment_sizze_nonzzero_83158,\n                                       __global unsigned char *mem_81557,\n                                       __global unsigned char *mem_81561,\n                                       __global unsigned char *mem_81565,\n                                       __global unsigned char *mem_81589,\n                                       __global unsigned char *mem_81676,\n                                       __global unsigned char *mem_81680,\n                                       __global unsigned char *mem_81698,\n                                       __global unsigned char *mem_81702,\n                                       __global unsigned char *mem_81706,\n                                       __global unsigned char *mem_81711,\n                                       __",
                   "global unsigned char *mem_81715)\n{\n    #define segred_group_sizze_74791 (mainzisegred_group_sizze_73727)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_83167_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83167_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_83165_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83165_backing_aligned_1;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83160;\n    int32_t local_tid_83161;\n    int64_t group_sizze_83164;\n    int32_t wave_sizze_83163;\n    int32_t group_tid_83162;\n    \n    global_tid_83160 = get_global_id(0);\n    local_tid_83161 = get_local_id(0);\n    group_sizze_83164 = get_local_size(0);\n    wave_sizze_83163 = LOCKSTEP_WIDTH;\n    group_tid_83162 = get_group_id(0);\n    \n    int32_t phys_tid_73733 = global_tid_83160;\n    __local unsigned char *red_arr_mem_83165;\n    \n    red_arr_mem_83165 = (__local unsigned char *) red_arr_mem_83165_backing_0;\n    \n    __local unsigned char *red_arr_mem_83167;\n    \n    red_arr_mem_83167 = (__local unsigned char *) red_arr_mem_83167_backing_1;\n    \n    int32_t phys_group_id_83169;\n    \n    phys_group_id_83169 = get_group_id(0);\n    for (int32_t i_83170 = 0; i_83170 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_70232 * n_m_70241,\n                                          squot64(segred_group_sizze_74791,\n                                                  segment_sizze_nonzzero_83158))) -\n                   phys_group_id_83169, sext_i64_i32(num_groups_74792));\n         i_83170++) {\n        int32_t virt_group_id_83171 = phys_group_id_83169 + i_83170 *\n                sext_i64_i32(num_groups_74792);\n        int64_t slice_83172 = n_m_70241;\n        int64_t slice_83173 = m_7",
                   "0232 * slice_83172;\n        int64_t gtid_73722 = squot64(squot64(sext_i32_i64(local_tid_83161),\n                                             segment_sizze_nonzzero_83158) +\n                                     sext_i32_i64(virt_group_id_83171) *\n                                     squot64(segred_group_sizze_74791,\n                                             segment_sizze_nonzzero_83158),\n                                     slice_83172);\n        int64_t remnant_83174 = squot64(sext_i32_i64(local_tid_83161),\n                                        segment_sizze_nonzzero_83158) +\n                sext_i32_i64(virt_group_id_83171) *\n                squot64(segred_group_sizze_74791,\n                        segment_sizze_nonzzero_83158) - gtid_73722 *\n                slice_83172;\n        int64_t gtid_73723 = remnant_83174;\n        int64_t remnant_83175 = remnant_83174 - gtid_73723;\n        int64_t gtid_73732 = srem64(sext_i32_i64(local_tid_83161), q_70235);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, q_70235) && ((slt64(gtid_73722, m_70232) &&\n                                                 slt64(gtid_73723,\n                                                       n_m_70241)) &&\n                                                slt64(sext_i32_i64(local_tid_83161),\n                                                      q_70235 *\n                                                      squot64(segred_group_sizze_74791,\n                                                              segment_sizze_nonzzero_83158)))) {\n                int64_t last_res_74802 = ((__global\n                                           int64_t *) mem_81557)[gtid_73722 *\n                                                                 n_70233 +\n                                                                 i_70247];\n                int64_t binop_y_78984 = mul64(jump_70237, gtid_73723);\n                int64_t index_primexp_78985 = smin64(i_70247, binop_y",
                   "_78984);\n                int64_t max_res_74813 = ((__global\n                                          int64_t *) mem_81676)[gtid_73722 *\n                                                                n_m_70241 +\n                                                                gtid_73723];\n                float defunc_1_f_res_74814 = ((__global\n                                               float *) mem_81680)[gtid_73722 *\n                                                                   n_m_70241 +\n                                                                   gtid_73723];\n                float a11_74815 = ((__global float *) mem_81698)[gtid_73722 *\n                                                                 n_m_70241 +\n                                                                 gtid_73723];\n                float b11_74816 = ((__global float *) mem_81702)[gtid_73722 *\n                                                                 n_m_70241 +\n                                                                 gtid_73723];\n                float c11_74817 = ((__global float *) mem_81706)[gtid_73722 *\n                                                                 n_m_70241 +\n                                                                 gtid_73723];\n                float x_74819 = ((__global float *) mem_81589)[gtid_73722 *\n                                                               q_70235 +\n                                                               gtid_73732];\n                bool cond_74820 = sle64(last_res_74802, gtid_73732);\n                int64_t defunc_0_f_res_74821;\n                \n                if (cond_74820) {\n                    defunc_0_f_res_74821 = (int64_t) 0;\n                } else {\n                    int64_t i_74822 = add64(gtid_73732, max_res_74813);\n                    int64_t defunc_0_add_arg_74823 = ((__global\n                                                       int64_t *) mem_81565)[gtid_73722 *\n                  ",
                   "                                                           n_70233 +\n                                                                             i_74822];\n                    int64_t defunc_1_add_res_74824 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_74823);\n                    \n                    defunc_0_f_res_74821 = defunc_1_add_res_74824;\n                }\n                \n                int64_t binop_p_74825 = sub64(defunc_0_f_res_74821,\n                                              index_primexp_78985);\n                float defunc_0_f_res_74826 = sitofp_i64_f32(binop_p_74825);\n                float abs_res_74827 = (float) fabs(defunc_0_f_res_74826);\n                float tmp1_74828 = abs_res_74827 / defunc_1_f_res_74814;\n                float x_74829 = tmp1_74828 * tmp1_74828;\n                float y_74830 = tmp1_74828 * x_74829;\n                float tmp2_74831 = 1.0F - y_74830;\n                float x_74832 = tmp2_74831 * tmp2_74831;\n                float tmp3_74833 = tmp2_74831 * x_74832;\n                float tmp4_74834 = x_74819 * tmp3_74833;\n                float defunc_1_f_res_74835 = defunc_0_f_res_74826 * tmp4_74834;\n                float defunc_0_f_res_74836;\n                \n                if (cond_74820) {\n                    defunc_0_f_res_74836 = 0.0F;\n                } else {\n                    int64_t i_74837 = add64(gtid_73732, max_res_74813);\n                    float defunc_0_add_arg_74838 = ((__global\n                                                     float *) mem_81561)[gtid_73722 *\n                                                                         n_70233 +\n                                                                         i_74837];\n                    \n                    defunc_0_f_res_74836 = defunc_0_add_arg_74838;\n                }\n                \n                float x_74839 = a11_74815 * tmp4_74834;\n                float y_74840 = b11_74816 * defunc_1_f_res_",
                   "74835;\n                float x_74841 = x_74839 + y_74840;\n                float defunc_9_fit_fun_res_74842 = defunc_0_f_res_74836 *\n                      x_74841;\n                float x_74843 = b11_74816 * tmp4_74834;\n                float y_74844 = c11_74817 * defunc_1_f_res_74835;\n                float x_74845 = x_74843 + y_74844;\n                float defunc_9_slope_fun_res_74846 = defunc_0_f_res_74836 *\n                      x_74845;\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local\n                      float *) red_arr_mem_83165)[sext_i32_i64(local_tid_83161)] =\n                        defunc_9_fit_fun_res_74842;\n                    ((__local\n                      float *) red_arr_mem_83167)[sext_i32_i64(local_tid_83161)] =\n                        defunc_9_slope_fun_res_74846;\n                }\n            } else {\n                ((__local\n                  float *) red_arr_mem_83165)[sext_i32_i64(local_tid_83161)] =\n                    0.0F;\n                ((__local\n                  float *) red_arr_mem_83167)[sext_i32_i64(local_tid_83161)] =\n                    0.0F;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, q_70235)) {\n            // perform segmented scan to imitate reduction\n            {\n                float x_74796;\n                float x_74797;\n                float x_74798;\n                float x_74799;\n                float x_83176;\n                float x_83177;\n                float x_83178;\n                float x_83179;\n                bool ltid_in_bounds_83182 = slt64(sext_i32_i64(local_tid_83161),\n                                                  q_70235 *\n                                                  squot64(segred_group_sizze_74791,\n                                                          segment_sizze_nonzzero_83158));\n                int32_t skip_threads_83183",
                   ";\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_83182) {\n                        x_74798 = ((volatile __local\n                                    float *) red_arr_mem_83165)[sext_i32_i64(local_tid_83161)];\n                        x_74799 = ((volatile __local\n                                    float *) red_arr_mem_83167)[sext_i32_i64(local_tid_83161)];\n                        if ((local_tid_83161 - squot32(local_tid_83161, 32) *\n                             32) == 0) {\n                            x_74796 = x_74798;\n                            x_74797 = x_74799;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_83183 = 1;\n                    while (slt32(skip_threads_83183, 32)) {\n                        if (sle32(skip_threads_83183, local_tid_83161 -\n                                  squot32(local_tid_83161, 32) * 32) &&\n                            ltid_in_bounds_83182) {\n                            // read operands\n                            {\n                                x_74796 = ((volatile __local\n                                            float *) red_arr_mem_83165)[sext_i32_i64(local_tid_83161) -\n                                                                        sext_i32_i64(skip_threads_83183)];\n                                x_74797 = ((volatile __local\n                                            float *) red_arr_mem_83167)[sext_i32_i64(local_tid_83161) -\n                                                                        sext_i32_i64(skip_threads_83183)];\n                            }\n                            // perform operation\n                            {\n                                bool inactive_83184 =\n                                     slt64(srem64(sext_i32_i64(local_tid_83161),\n                                             ",
                   "     q_70235),\n                                           sext_i32_i64(local_tid_83161) -\n                                           sext_i32_i64(local_tid_83161 -\n                                           skip_threads_83183));\n                                \n                                if (inactive_83184) {\n                                    x_74796 = x_74798;\n                                    x_74797 = x_74799;\n                                }\n                                if (!inactive_83184) {\n                                    float defunc_1_op_res_74800 = x_74796 +\n                                          x_74798;\n                                    float defunc_1_op_res_74801 = x_74797 +\n                                          x_74799;\n                                    \n                                    x_74796 = defunc_1_op_res_74800;\n                                    x_74797 = defunc_1_op_res_74801;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_83163, skip_threads_83183)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (sle32(skip_threads_83183, local_tid_83161 -\n                                  squot32(local_tid_83161, 32) * 32) &&\n                            ltid_in_bounds_83182) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  float *) red_arr_mem_83165)[sext_i32_i64(local_tid_83161)] =\n                                    x_74796;\n                                x_74798 = x_74796;\n                                ((volatile __local\n                                  float *) red_arr_mem_83167)[sext_i32_i64(local_tid_83161)] =\n                                    x_74797;\n                                x_74799 = x_74797;\n                            }\n                       ",
                   " }\n                        if (sle32(wave_sizze_83163, skip_threads_83183)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_83183 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_83161 - squot32(local_tid_83161, 32) * 32) ==\n                        31 && ltid_in_bounds_83182) {\n                        ((volatile __local\n                          float *) red_arr_mem_83165)[sext_i32_i64(squot32(local_tid_83161,\n                                                                           32))] =\n                            x_74796;\n                        ((volatile __local\n                          float *) red_arr_mem_83167)[sext_i32_i64(squot32(local_tid_83161,\n                                                                           32))] =\n                            x_74797;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_83185;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_83161, 32) == 0 &&\n                            ltid_in_bounds_83182) {\n                            x_83178 = ((volatile __local\n                                        float *) red_arr_mem_83165)[sext_i32_i64(local_tid_83161)];\n                            x_83179 = ((volatile __local\n                                        float *) red_arr_mem_83167)[sext_i32_i64(local_tid_83161)];\n                            if ((local_tid_83161 - squot32(local_tid_83161,\n                                                           32) * 32) == 0) {\n                                x_8",
                   "3176 = x_83178;\n                                x_83177 = x_83179;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_83185 = 1;\n                        while (slt32(skip_threads_83185, 32)) {\n                            if (sle32(skip_threads_83185, local_tid_83161 -\n                                      squot32(local_tid_83161, 32) * 32) &&\n                                (squot32(local_tid_83161, 32) == 0 &&\n                                 ltid_in_bounds_83182)) {\n                                // read operands\n                                {\n                                    x_83176 = ((volatile __local\n                                                float *) red_arr_mem_83165)[sext_i32_i64(local_tid_83161) -\n                                                                            sext_i32_i64(skip_threads_83185)];\n                                    x_83177 = ((volatile __local\n                                                float *) red_arr_mem_83167)[sext_i32_i64(local_tid_83161) -\n                                                                            sext_i32_i64(skip_threads_83185)];\n                                }\n                                // perform operation\n                                {\n                                    bool inactive_83186 =\n                                         slt64(srem64(sext_i32_i64(local_tid_83161 *\n                                                      32 + 32 - 1), q_70235),\n                                               sext_i32_i64(local_tid_83161 *\n                                               32 + 32 - 1) -\n                                               sext_i32_i64((local_tid_83161 -\n                                                             skip_threads_83185) *\n                                               32 + 32 - 1));\n                ",
                   "                    \n                                    if (inactive_83186) {\n                                        x_83176 = x_83178;\n                                        x_83177 = x_83179;\n                                    }\n                                    if (!inactive_83186) {\n                                        float defunc_1_op_res_83180 = x_83176 +\n                                              x_83178;\n                                        float defunc_1_op_res_83181 = x_83177 +\n                                              x_83179;\n                                        \n                                        x_83176 = defunc_1_op_res_83180;\n                                        x_83177 = defunc_1_op_res_83181;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_83163, skip_threads_83185)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (sle32(skip_threads_83185, local_tid_83161 -\n                                      squot32(local_tid_83161, 32) * 32) &&\n                                (squot32(local_tid_83161, 32) == 0 &&\n                                 ltid_in_bounds_83182)) {\n                                // write result\n                                {\n                                    ((volatile __local\n                                      float *) red_arr_mem_83165)[sext_i32_i64(local_tid_83161)] =\n                                        x_83176;\n                                    x_83178 = x_83176;\n                                    ((volatile __local\n                                      float *) red_arr_mem_83167)[sext_i32_i64(local_tid_83161)] =\n                                        x_83177;\n                                    x_83179 = x_83177;\n                                }\n                            }\n                            if (sl",
                   "e32(wave_sizze_83163, skip_threads_83185)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_83185 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // carry-in for every block except the first\n                {\n                    if (!(squot32(local_tid_83161, 32) == 0 ||\n                          !ltid_in_bounds_83182)) {\n                        // read operands\n                        {\n                            x_74798 = x_74796;\n                            x_74799 = x_74797;\n                            x_74796 = ((__local\n                                        float *) red_arr_mem_83165)[sext_i32_i64(squot32(local_tid_83161,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n                            x_74797 = ((__local\n                                        float *) red_arr_mem_83167)[sext_i32_i64(squot32(local_tid_83161,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n                        }\n                        // perform operation\n                        {\n                            bool inactive_83187 =\n                                 slt64(srem64(sext_i32_i64(local_tid_83161),\n                                              q_70235),\n                                       sext_i32_i64(local_tid_83161) -\n                                       sext_i32_i64(squot32(local_tid_83161,\n                                                            32) * 32 - 1));\n                            \n                            if (inactive_83187) {\n                                x_74796 = x_74798;\n                                x_74797 = x_7",
                   "4799;\n                            }\n                            if (!inactive_83187) {\n                                float defunc_1_op_res_74800 = x_74796 + x_74798;\n                                float defunc_1_op_res_74801 = x_74797 + x_74799;\n                                \n                                x_74796 = defunc_1_op_res_74800;\n                                x_74797 = defunc_1_op_res_74801;\n                            }\n                        }\n                        // write final result\n                        {\n                            ((__local\n                              float *) red_arr_mem_83165)[sext_i32_i64(local_tid_83161)] =\n                                x_74796;\n                            ((__local\n                              float *) red_arr_mem_83167)[sext_i32_i64(local_tid_83161)] =\n                                x_74797;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_83161, 32) == 0) {\n                        ((__local\n                          float *) red_arr_mem_83165)[sext_i32_i64(local_tid_83161)] =\n                            x_74798;\n                        ((__local\n                          float *) red_arr_mem_83167)[sext_i32_i64(local_tid_83161)] =\n                            x_74799;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_83171) *\n                      squot64(segred_group_sizze_74791,\n                              segment_sizze_nonzzero_83158) +\n                      sext_i32_i64(local_tid_83161), m_70232 * n_m_70241) &&\n                slt64(sext_i32_i64(local_tid_83161),\n                      squot64(segred_group_sizze_7",
                   "4791,\n                              segment_sizze_nonzzero_83158))) {\n                ((__global\n                  float *) mem_81711)[squot64(sext_i32_i64(virt_group_id_83171) *\n                                              squot64(segred_group_sizze_74791,\n                                                      segment_sizze_nonzzero_83158) +\n                                              sext_i32_i64(local_tid_83161),\n                                              n_m_70241) * n_m_70241 +\n                                      (sext_i32_i64(virt_group_id_83171) *\n                                       squot64(segred_group_sizze_74791,\n                                               segment_sizze_nonzzero_83158) +\n                                       sext_i32_i64(local_tid_83161) -\n                                       squot64(sext_i32_i64(virt_group_id_83171) *\n                                               squot64(segred_group_sizze_74791,\n                                                       segment_sizze_nonzzero_83158) +\n                                               sext_i32_i64(local_tid_83161),\n                                               n_m_70241) * n_m_70241)] =\n                    ((__local\n                      float *) red_arr_mem_83165)[(sext_i32_i64(local_tid_83161) +\n                                                   (int64_t) 1) *\n                                                  segment_sizze_nonzzero_83158 -\n                                                  (int64_t) 1];\n                ((__global\n                  float *) mem_81715)[squot64(sext_i32_i64(virt_group_id_83171) *\n                                              squot64(segred_group_sizze_74791,\n                                                      segment_sizze_nonzzero_83158) +\n                                              sext_i32_i64(local_tid_83161),\n                                              n_m_70241) * n_m_70241 +\n                                      (sext_i32_i64(virt_gr",
                   "oup_id_83171) *\n                                       squot64(segred_group_sizze_74791,\n                                               segment_sizze_nonzzero_83158) +\n                                       sext_i32_i64(local_tid_83161) -\n                                       squot64(sext_i32_i64(virt_group_id_83171) *\n                                               squot64(segred_group_sizze_74791,\n                                                       segment_sizze_nonzzero_83158) +\n                                               sext_i32_i64(local_tid_83161),\n                                               n_m_70241) * n_m_70241)] =\n                    ((__local\n                      float *) red_arr_mem_83167)[(sext_i32_i64(local_tid_83161) +\n                                                   (int64_t) 1) *\n                                                  segment_sizze_nonzzero_83158 -\n                                                  (int64_t) 1];\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_74791\n}\n__kernel void mainzisegred_small_73821(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83065_backing_aligned_0,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83063_backing_aligned_1,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83061_backing_aligned_2,\n                                       int64_t m_70232, int64_t n_70233,\n                                       int64_t q_70235, int64_t jump_70237,\n                                       int64_t n_m_70241, int64_t i_70247,\n                                       int64_t num_groups_74728,\n                                       int64_t segment_siz",
                   "ze_nonzzero_83054,\n                                       __global unsigned char *mem_81557,\n                                       __global unsigned char *mem_81565,\n                                       __global unsigned char *mem_81589,\n                                       __global unsigned char *mem_81676,\n                                       __global unsigned char *mem_81680,\n                                       __global unsigned char *mem_81685,\n                                       __global unsigned char *mem_81689,\n                                       __global unsigned char *mem_81693)\n{\n    #define segred_group_sizze_74727 (mainzisegred_group_sizze_73815)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_83065_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83065_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_83063_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83063_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_83061_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83061_backing_aligned_2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83056;\n    int32_t local_tid_83057;\n    int64_t group_sizze_83060;\n    int32_t wave_sizze_83059;\n    int32_t group_tid_83058;\n    \n    global_tid_83056 = get_global_id(0);\n    local_tid_83057 = get_local_id(0);\n    group_sizze_83060 = get_local_size(0);\n    wave_sizze_83059 = LOCKSTEP_WIDTH;\n    group_tid_83058 = get_group_id(0);\n    \n    int32_t phys_tid_73821 = global_tid_83056;\n    __local unsigned char *red_arr_mem_83061;\n    \n    red_arr_mem_83061 = (__local unsigned char *) red_",
                   "arr_mem_83061_backing_0;\n    \n    __local unsigned char *red_arr_mem_83063;\n    \n    red_arr_mem_83063 = (__local unsigned char *) red_arr_mem_83063_backing_1;\n    \n    __local unsigned char *red_arr_mem_83065;\n    \n    red_arr_mem_83065 = (__local unsigned char *) red_arr_mem_83065_backing_2;\n    \n    int32_t phys_group_id_83067;\n    \n    phys_group_id_83067 = get_group_id(0);\n    for (int32_t i_83068 = 0; i_83068 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_70232 * n_m_70241,\n                                          squot64(segred_group_sizze_74727,\n                                                  segment_sizze_nonzzero_83054))) -\n                   phys_group_id_83067, sext_i64_i32(num_groups_74728));\n         i_83068++) {\n        int32_t virt_group_id_83069 = phys_group_id_83067 + i_83068 *\n                sext_i64_i32(num_groups_74728);\n        int64_t slice_83070 = n_m_70241;\n        int64_t slice_83071 = m_70232 * slice_83070;\n        int64_t gtid_73810 = squot64(squot64(sext_i32_i64(local_tid_83057),\n                                             segment_sizze_nonzzero_83054) +\n                                     sext_i32_i64(virt_group_id_83069) *\n                                     squot64(segred_group_sizze_74727,\n                                             segment_sizze_nonzzero_83054),\n                                     slice_83070);\n        int64_t remnant_83072 = squot64(sext_i32_i64(local_tid_83057),\n                                        segment_sizze_nonzzero_83054) +\n                sext_i32_i64(virt_group_id_83069) *\n                squot64(segred_group_sizze_74727,\n                        segment_sizze_nonzzero_83054) - gtid_73810 *\n                slice_83070;\n        int64_t gtid_73811 = remnant_83072;\n        int64_t remnant_83073 = remnant_83072 - gtid_73811;\n        int64_t gtid_73820 = srem64(sext_i32_i64(local_tid_83057), q_70235);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, q_70",
                   "235) && ((slt64(gtid_73810, m_70232) &&\n                                                 slt64(gtid_73811,\n                                                       n_m_70241)) &&\n                                                slt64(sext_i32_i64(local_tid_83057),\n                                                      q_70235 *\n                                                      squot64(segred_group_sizze_74727,\n                                                              segment_sizze_nonzzero_83054)))) {\n                int64_t last_res_74742 = ((__global\n                                           int64_t *) mem_81557)[gtid_73810 *\n                                                                 n_70233 +\n                                                                 i_70247];\n                int64_t binop_y_78978 = mul64(jump_70237, gtid_73811);\n                int64_t index_primexp_78979 = smin64(i_70247, binop_y_78978);\n                float defunc_1_f_res_74750 = ((__global\n                                               float *) mem_81680)[gtid_73810 *\n                                                                   n_m_70241 +\n                                                                   gtid_73811];\n                float x_74752 = ((__global float *) mem_81589)[gtid_73810 *\n                                                               q_70235 +\n                                                               gtid_73820];\n                bool cond_74753 = sle64(last_res_74742, gtid_73820);\n                int64_t defunc_0_f_res_74754;\n                \n                if (cond_74753) {\n                    defunc_0_f_res_74754 = (int64_t) 0;\n                } else {\n                    int64_t max_res_74749 = ((__global\n                                              int64_t *) mem_81676)[gtid_73810 *\n                                                                    n_m_70241 +\n                                                                    gtid_7381",
                   "1];\n                    int64_t i_74755 = add64(gtid_73820, max_res_74749);\n                    int64_t defunc_0_add_arg_74756 = ((__global\n                                                       int64_t *) mem_81565)[gtid_73810 *\n                                                                             n_70233 +\n                                                                             i_74755];\n                    int64_t defunc_1_add_res_74757 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_74756);\n                    \n                    defunc_0_f_res_74754 = defunc_1_add_res_74757;\n                }\n                \n                int64_t binop_p_74758 = sub64(defunc_0_f_res_74754,\n                                              index_primexp_78979);\n                float defunc_0_f_res_74759 = sitofp_i64_f32(binop_p_74758);\n                float abs_res_74760 = (float) fabs(defunc_0_f_res_74759);\n                float tmp1_74761 = abs_res_74760 / defunc_1_f_res_74750;\n                float x_74762 = tmp1_74761 * tmp1_74761;\n                float y_74763 = tmp1_74761 * x_74762;\n                float tmp2_74764 = 1.0F - y_74763;\n                float x_74765 = tmp2_74764 * tmp2_74764;\n                float tmp3_74766 = tmp2_74764 * x_74765;\n                float w_j_74767 = x_74752 * tmp3_74766;\n                float xw_j_74768 = defunc_0_f_res_74759 * w_j_74767;\n                float x2w_j_74769 = defunc_0_f_res_74759 * xw_j_74768;\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local\n                      float *) red_arr_mem_83061)[sext_i32_i64(local_tid_83057)] =\n                        w_j_74767;\n                    ((__local\n                      float *) red_arr_mem_83063)[sext_i32_i64(local_tid_83057)] =\n                        xw_j_74768;\n                    ((__local\n                  ",
                   "    float *) red_arr_mem_83065)[sext_i32_i64(local_tid_83057)] =\n                        x2w_j_74769;\n                }\n            } else {\n                ((__local\n                  float *) red_arr_mem_83061)[sext_i32_i64(local_tid_83057)] =\n                    0.0F;\n                ((__local\n                  float *) red_arr_mem_83063)[sext_i32_i64(local_tid_83057)] =\n                    0.0F;\n                ((__local\n                  float *) red_arr_mem_83065)[sext_i32_i64(local_tid_83057)] =\n                    0.0F;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, q_70235)) {\n            // perform segmented scan to imitate reduction\n            {\n                float x_74733;\n                float x_74734;\n                float x_74735;\n                float x_74736;\n                float x_74737;\n                float x_74738;\n                float x_83074;\n                float x_83075;\n                float x_83076;\n                float x_83077;\n                float x_83078;\n                float x_83079;\n                bool ltid_in_bounds_83083 = slt64(sext_i32_i64(local_tid_83057),\n                                                  q_70235 *\n                                                  squot64(segred_group_sizze_74727,\n                                                          segment_sizze_nonzzero_83054));\n                int32_t skip_threads_83084;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_83083) {\n                        x_74736 = ((volatile __local\n                                    float *) red_arr_mem_83061)[sext_i32_i64(local_tid_83057)];\n                        x_74737 = ((volatile __local\n                                    float *) red_arr_mem_83063)[sext_i32_i64(local_tid_83057)];\n                        x_74738 = ((volatile __local\n                                    float *) red_arr_mem_83065)[sext_i32_i6",
                   "4(local_tid_83057)];\n                        if ((local_tid_83057 - squot32(local_tid_83057, 32) *\n                             32) == 0) {\n                            x_74733 = x_74736;\n                            x_74734 = x_74737;\n                            x_74735 = x_74738;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_83084 = 1;\n                    while (slt32(skip_threads_83084, 32)) {\n                        if (sle32(skip_threads_83084, local_tid_83057 -\n                                  squot32(local_tid_83057, 32) * 32) &&\n                            ltid_in_bounds_83083) {\n                            // read operands\n                            {\n                                x_74733 = ((volatile __local\n                                            float *) red_arr_mem_83061)[sext_i32_i64(local_tid_83057) -\n                                                                        sext_i32_i64(skip_threads_83084)];\n                                x_74734 = ((volatile __local\n                                            float *) red_arr_mem_83063)[sext_i32_i64(local_tid_83057) -\n                                                                        sext_i32_i64(skip_threads_83084)];\n                                x_74735 = ((volatile __local\n                                            float *) red_arr_mem_83065)[sext_i32_i64(local_tid_83057) -\n                                                                        sext_i32_i64(skip_threads_83084)];\n                            }\n                            // perform operation\n                            {\n                                bool inactive_83085 =\n                                     slt64(srem64(sext_i32_i64(local_tid_83057),\n                                                  q_70235),\n                                           sext_i32_i64(local_tid_83057) -\n ",
                   "                                          sext_i32_i64(local_tid_83057 -\n                                           skip_threads_83084));\n                                \n                                if (inactive_83085) {\n                                    x_74733 = x_74736;\n                                    x_74734 = x_74737;\n                                    x_74735 = x_74738;\n                                }\n                                if (!inactive_83085) {\n                                    float defunc_1_op_res_74739 = x_74733 +\n                                          x_74736;\n                                    float defunc_1_op_res_74740 = x_74734 +\n                                          x_74737;\n                                    float defunc_1_op_res_74741 = x_74735 +\n                                          x_74738;\n                                    \n                                    x_74733 = defunc_1_op_res_74739;\n                                    x_74734 = defunc_1_op_res_74740;\n                                    x_74735 = defunc_1_op_res_74741;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_83059, skip_threads_83084)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (sle32(skip_threads_83084, local_tid_83057 -\n                                  squot32(local_tid_83057, 32) * 32) &&\n                            ltid_in_bounds_83083) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  float *) red_arr_mem_83061)[sext_i32_i64(local_tid_83057)] =\n                                    x_74733;\n                                x_74736 = x_74733;\n                                ((volatile __local\n                                  float *) red_arr_mem_83063)[sext_i32_i64(local_tid",
                   "_83057)] =\n                                    x_74734;\n                                x_74737 = x_74734;\n                                ((volatile __local\n                                  float *) red_arr_mem_83065)[sext_i32_i64(local_tid_83057)] =\n                                    x_74735;\n                                x_74738 = x_74735;\n                            }\n                        }\n                        if (sle32(wave_sizze_83059, skip_threads_83084)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_83084 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_83057 - squot32(local_tid_83057, 32) * 32) ==\n                        31 && ltid_in_bounds_83083) {\n                        ((volatile __local\n                          float *) red_arr_mem_83061)[sext_i32_i64(squot32(local_tid_83057,\n                                                                           32))] =\n                            x_74733;\n                        ((volatile __local\n                          float *) red_arr_mem_83063)[sext_i32_i64(squot32(local_tid_83057,\n                                                                           32))] =\n                            x_74734;\n                        ((volatile __local\n                          float *) red_arr_mem_83065)[sext_i32_i64(squot32(local_tid_83057,\n                                                                           32))] =\n                            x_74735;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_83086;\n                    \n                    // read input fo",
                   "r in-block scan\n                    {\n                        if (squot32(local_tid_83057, 32) == 0 &&\n                            ltid_in_bounds_83083) {\n                            x_83077 = ((volatile __local\n                                        float *) red_arr_mem_83061)[sext_i32_i64(local_tid_83057)];\n                            x_83078 = ((volatile __local\n                                        float *) red_arr_mem_83063)[sext_i32_i64(local_tid_83057)];\n                            x_83079 = ((volatile __local\n                                        float *) red_arr_mem_83065)[sext_i32_i64(local_tid_83057)];\n                            if ((local_tid_83057 - squot32(local_tid_83057,\n                                                           32) * 32) == 0) {\n                                x_83074 = x_83077;\n                                x_83075 = x_83078;\n                                x_83076 = x_83079;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_83086 = 1;\n                        while (slt32(skip_threads_83086, 32)) {\n                            if (sle32(skip_threads_83086, local_tid_83057 -\n                                      squot32(local_tid_83057, 32) * 32) &&\n                                (squot32(local_tid_83057, 32) == 0 &&\n                                 ltid_in_bounds_83083)) {\n                                // read operands\n                                {\n                                    x_83074 = ((volatile __local\n                                                float *) red_arr_mem_83061)[sext_i32_i64(local_tid_83057) -\n                                                                            sext_i32_i64(skip_threads_83086)];\n                                    x_83075 = ((volatile __local\n                                                float *) red_arr_mem_83063)[",
                   "sext_i32_i64(local_tid_83057) -\n                                                                            sext_i32_i64(skip_threads_83086)];\n                                    x_83076 = ((volatile __local\n                                                float *) red_arr_mem_83065)[sext_i32_i64(local_tid_83057) -\n                                                                            sext_i32_i64(skip_threads_83086)];\n                                }\n                                // perform operation\n                                {\n                                    bool inactive_83087 =\n                                         slt64(srem64(sext_i32_i64(local_tid_83057 *\n                                                      32 + 32 - 1), q_70235),\n                                               sext_i32_i64(local_tid_83057 *\n                                               32 + 32 - 1) -\n                                               sext_i32_i64((local_tid_83057 -\n                                                             skip_threads_83086) *\n                                               32 + 32 - 1));\n                                    \n                                    if (inactive_83087) {\n                                        x_83074 = x_83077;\n                                        x_83075 = x_83078;\n                                        x_83076 = x_83079;\n                                    }\n                                    if (!inactive_83087) {\n                                        float defunc_1_op_res_83080 = x_83074 +\n                                              x_83077;\n                                        float defunc_1_op_res_83081 = x_83075 +\n                                              x_83078;\n                                        float defunc_1_op_res_83082 = x_83076 +\n                                              x_83079;\n                                        \n                                        x_83074 = de",
                   "func_1_op_res_83080;\n                                        x_83075 = defunc_1_op_res_83081;\n                                        x_83076 = defunc_1_op_res_83082;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_83059, skip_threads_83086)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (sle32(skip_threads_83086, local_tid_83057 -\n                                      squot32(local_tid_83057, 32) * 32) &&\n                                (squot32(local_tid_83057, 32) == 0 &&\n                                 ltid_in_bounds_83083)) {\n                                // write result\n                                {\n                                    ((volatile __local\n                                      float *) red_arr_mem_83061)[sext_i32_i64(local_tid_83057)] =\n                                        x_83074;\n                                    x_83077 = x_83074;\n                                    ((volatile __local\n                                      float *) red_arr_mem_83063)[sext_i32_i64(local_tid_83057)] =\n                                        x_83075;\n                                    x_83078 = x_83075;\n                                    ((volatile __local\n                                      float *) red_arr_mem_83065)[sext_i32_i64(local_tid_83057)] =\n                                        x_83076;\n                                    x_83079 = x_83076;\n                                }\n                            }\n                            if (sle32(wave_sizze_83059, skip_threads_83086)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_83086 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // carry",
                   "-in for every block except the first\n                {\n                    if (!(squot32(local_tid_83057, 32) == 0 ||\n                          !ltid_in_bounds_83083)) {\n                        // read operands\n                        {\n                            x_74736 = x_74733;\n                            x_74737 = x_74734;\n                            x_74738 = x_74735;\n                            x_74733 = ((__local\n                                        float *) red_arr_mem_83061)[sext_i32_i64(squot32(local_tid_83057,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n                            x_74734 = ((__local\n                                        float *) red_arr_mem_83063)[sext_i32_i64(squot32(local_tid_83057,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n                            x_74735 = ((__local\n                                        float *) red_arr_mem_83065)[sext_i32_i64(squot32(local_tid_83057,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n                        }\n                        // perform operation\n                        {\n                            bool inactive_83088 =\n                                 slt64(srem64(sext_i32_i64(local_tid_83057),\n                                              q_70235),\n                                       sext_i32_i64(local_tid_83057) -\n                                       sext_i32_i64(squot32(local_tid_83057,\n                                                            32) * 32 - 1));\n                            \n                            if (inactive_83088) {\n                                x_74733 = x",
                   "_74736;\n                                x_74734 = x_74737;\n                                x_74735 = x_74738;\n                            }\n                            if (!inactive_83088) {\n                                float defunc_1_op_res_74739 = x_74733 + x_74736;\n                                float defunc_1_op_res_74740 = x_74734 + x_74737;\n                                float defunc_1_op_res_74741 = x_74735 + x_74738;\n                                \n                                x_74733 = defunc_1_op_res_74739;\n                                x_74734 = defunc_1_op_res_74740;\n                                x_74735 = defunc_1_op_res_74741;\n                            }\n                        }\n                        // write final result\n                        {\n                            ((__local\n                              float *) red_arr_mem_83061)[sext_i32_i64(local_tid_83057)] =\n                                x_74733;\n                            ((__local\n                              float *) red_arr_mem_83063)[sext_i32_i64(local_tid_83057)] =\n                                x_74734;\n                            ((__local\n                              float *) red_arr_mem_83065)[sext_i32_i64(local_tid_83057)] =\n                                x_74735;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_83057, 32) == 0) {\n                        ((__local\n                          float *) red_arr_mem_83061)[sext_i32_i64(local_tid_83057)] =\n                            x_74736;\n                        ((__local\n                          float *) red_arr_mem_83063)[sext_i32_i64(local_tid_83057)] =\n                            x_74737;\n                        ((__local\n                          float *) red_arr_mem_83065)[sext_i32_i64(local_tid_83057)] =\n              ",
                   "              x_74738;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_83069) *\n                      squot64(segred_group_sizze_74727,\n                              segment_sizze_nonzzero_83054) +\n                      sext_i32_i64(local_tid_83057), m_70232 * n_m_70241) &&\n                slt64(sext_i32_i64(local_tid_83057),\n                      squot64(segred_group_sizze_74727,\n                              segment_sizze_nonzzero_83054))) {\n                ((__global\n                  float *) mem_81685)[squot64(sext_i32_i64(virt_group_id_83069) *\n                                              squot64(segred_group_sizze_74727,\n                                                      segment_sizze_nonzzero_83054) +\n                                              sext_i32_i64(local_tid_83057),\n                                              n_m_70241) * n_m_70241 +\n                                      (sext_i32_i64(virt_group_id_83069) *\n                                       squot64(segred_group_sizze_74727,\n                                               segment_sizze_nonzzero_83054) +\n                                       sext_i32_i64(local_tid_83057) -\n                                       squot64(sext_i32_i64(virt_group_id_83069) *\n                                               squot64(segred_group_sizze_74727,\n                                                       segment_sizze_nonzzero_83054) +\n                                               sext_i32_i64(local_tid_83057),\n                                               n_m_70241) * n_m_70241)] =\n                    ((__local\n                      float *) red_arr_mem_83061)[(sext_i32_i64(local_tid_83057) +\n                                                   (int64_t) 1) *\n                                                 ",
                   " segment_sizze_nonzzero_83054 -\n                                                  (int64_t) 1];\n                ((__global\n                  float *) mem_81689)[squot64(sext_i32_i64(virt_group_id_83069) *\n                                              squot64(segred_group_sizze_74727,\n                                                      segment_sizze_nonzzero_83054) +\n                                              sext_i32_i64(local_tid_83057),\n                                              n_m_70241) * n_m_70241 +\n                                      (sext_i32_i64(virt_group_id_83069) *\n                                       squot64(segred_group_sizze_74727,\n                                               segment_sizze_nonzzero_83054) +\n                                       sext_i32_i64(local_tid_83057) -\n                                       squot64(sext_i32_i64(virt_group_id_83069) *\n                                               squot64(segred_group_sizze_74727,\n                                                       segment_sizze_nonzzero_83054) +\n                                               sext_i32_i64(local_tid_83057),\n                                               n_m_70241) * n_m_70241)] =\n                    ((__local\n                      float *) red_arr_mem_83063)[(sext_i32_i64(local_tid_83057) +\n                                                   (int64_t) 1) *\n                                                  segment_sizze_nonzzero_83054 -\n                                                  (int64_t) 1];\n                ((__global\n                  float *) mem_81693)[squot64(sext_i32_i64(virt_group_id_83069) *\n                                              squot64(segred_group_sizze_74727,\n                                                      segment_sizze_nonzzero_83054) +\n                                              sext_i32_i64(local_tid_83057),\n                                              n_m_70241) * n_m_70241 +\n                                 ",
                   "     (sext_i32_i64(virt_group_id_83069) *\n                                       squot64(segred_group_sizze_74727,\n                                               segment_sizze_nonzzero_83054) +\n                                       sext_i32_i64(local_tid_83057) -\n                                       squot64(sext_i32_i64(virt_group_id_83069) *\n                                               squot64(segred_group_sizze_74727,\n                                                       segment_sizze_nonzzero_83054) +\n                                               sext_i32_i64(local_tid_83057),\n                                               n_m_70241) * n_m_70241)] =\n                    ((__local\n                      float *) red_arr_mem_83065)[(sext_i32_i64(local_tid_83057) +\n                                                   (int64_t) 1) *\n                                                  segment_sizze_nonzzero_83054 -\n                                                  (int64_t) 1];\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_74727\n}\n__kernel void mainzisegred_small_75584(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83586_backing_aligned_0,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83584_backing_aligned_1,\n                                       int64_t m_70232, int64_t n_70233,\n                                       int64_t q_70235, int64_t jump_70237,\n                                       int64_t n_m_70241, int64_t i_70247,\n                                       int64_t num_groups_76786,\n                                       int64_t segment_sizze_nonzzero_83577,\n                                       __global unsigned char *mem_81849,\n                      ",
                   "                 __global unsigned char *mem_81853,\n                                       __global unsigned char *mem_81857,\n                                       __global unsigned char *mem_81881,\n                                       __global unsigned char *mem_81992,\n                                       __global unsigned char *mem_81996,\n                                       __global unsigned char *mem_82022,\n                                       __global unsigned char *mem_82026,\n                                       __global unsigned char *mem_82030,\n                                       __global unsigned char *mem_82034,\n                                       __global unsigned char *mem_82038,\n                                       __global unsigned char *mem_82043,\n                                       __global unsigned char *mem_82047)\n{\n    #define segred_group_sizze_76785 (mainzisegred_group_sizze_75578)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_83586_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83586_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_83584_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83584_backing_aligned_1;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_83579;\n    int32_t local_tid_83580;\n    int64_t group_sizze_83583;\n    int32_t wave_sizze_83582;\n    int32_t group_tid_83581;\n    \n    global_tid_83579 = get_global_id(0);\n    local_tid_83580 = get_local_id(0);\n    group_sizze_83583 = get_local_size(0);\n    wave_sizze_83582 = LOCKSTEP_WIDTH;\n    group_tid_83581 = get_group_id(0);\n    \n    int32_t phys_tid_75584 = global_tid_83579;\n    __local unsigned char *red_arr_mem_83584;\n    \n    red_arr_mem_8",
                   "3584 = (__local unsigned char *) red_arr_mem_83584_backing_0;\n    \n    __local unsigned char *red_arr_mem_83586;\n    \n    red_arr_mem_83586 = (__local unsigned char *) red_arr_mem_83586_backing_1;\n    \n    int32_t phys_group_id_83588;\n    \n    phys_group_id_83588 = get_group_id(0);\n    for (int32_t i_83589 = 0; i_83589 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_70232 * n_m_70241,\n                                          squot64(segred_group_sizze_76785,\n                                                  segment_sizze_nonzzero_83577))) -\n                   phys_group_id_83588, sext_i64_i32(num_groups_76786));\n         i_83589++) {\n        int32_t virt_group_id_83590 = phys_group_id_83588 + i_83589 *\n                sext_i64_i32(num_groups_76786);\n        int64_t slice_83591 = n_m_70241;\n        int64_t slice_83592 = m_70232 * slice_83591;\n        int64_t gtid_75573 = squot64(squot64(sext_i32_i64(local_tid_83580),\n                                             segment_sizze_nonzzero_83577) +\n                                     sext_i32_i64(virt_group_id_83590) *\n                                     squot64(segred_group_sizze_76785,\n                                             segment_sizze_nonzzero_83577),\n                                     slice_83591);\n        int64_t remnant_83593 = squot64(sext_i32_i64(local_tid_83580),\n                                        segment_sizze_nonzzero_83577) +\n                sext_i32_i64(virt_group_id_83590) *\n                squot64(segred_group_sizze_76785,\n                        segment_sizze_nonzzero_83577) - gtid_75573 *\n                slice_83591;\n        int64_t gtid_75574 = remnant_83593;\n        int64_t remnant_83594 = remnant_83593 - gtid_75574;\n        int64_t gtid_75583 = srem64(sext_i32_i64(local_tid_83580), q_70235);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, q_70235) && ((slt64(gtid_75573, m_70232) &&\n                                                 slt64(gti",
                   "d_75574,\n                                                       n_m_70241)) &&\n                                                slt64(sext_i32_i64(local_tid_83580),\n                                                      q_70235 *\n                                                      squot64(segred_group_sizze_76785,\n                                                              segment_sizze_nonzzero_83577)))) {\n                int64_t last_res_76796 = ((__global\n                                           int64_t *) mem_81849)[gtid_75573 *\n                                                                 n_70233 +\n                                                                 i_70247];\n                int64_t binop_y_79004 = mul64(jump_70237, gtid_75574);\n                int64_t index_primexp_79005 = smin64(i_70247, binop_y_79004);\n                int64_t max_res_76809 = ((__global\n                                          int64_t *) mem_81992)[gtid_75573 *\n                                                                n_m_70241 +\n                                                                gtid_75574];\n                float defunc_1_f_res_76810 = ((__global\n                                               float *) mem_81996)[gtid_75573 *\n                                                                   n_m_70241 +\n                                                                   gtid_75574];\n                float a12_76811 = ((__global float *) mem_82022)[gtid_75573 *\n                                                                 n_m_70241 +\n                                                                 gtid_75574];\n                float b12_76812 = ((__global float *) mem_82026)[gtid_75573 *\n                                                                 n_m_70241 +\n                                                                 gtid_75574];\n                float c12_76813 = ((__global float *) mem_82030)[gtid_75573 *\n                                      ",
                   "                           n_m_70241 +\n                                                                 gtid_75574];\n                float b2_76814 = ((__global float *) mem_82034)[gtid_75573 *\n                                                                n_m_70241 +\n                                                                gtid_75574];\n                float c2_76815 = ((__global float *) mem_82038)[gtid_75573 *\n                                                                n_m_70241 +\n                                                                gtid_75574];\n                float x_76817 = ((__global float *) mem_81881)[gtid_75573 *\n                                                               q_70235 +\n                                                               gtid_75583];\n                bool cond_76818 = sle64(last_res_76796, gtid_75583);\n                int64_t defunc_0_f_res_76819;\n                \n                if (cond_76818) {\n                    defunc_0_f_res_76819 = (int64_t) 0;\n                } else {\n                    int64_t i_76820 = add64(gtid_75583, max_res_76809);\n                    int64_t defunc_0_add_arg_76821 = ((__global\n                                                       int64_t *) mem_81857)[gtid_75573 *\n                                                                             n_70233 +\n                                                                             i_76820];\n                    int64_t defunc_1_add_res_76822 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_76821);\n                    \n                    defunc_0_f_res_76819 = defunc_1_add_res_76822;\n                }\n                \n                int64_t binop_p_76823 = sub64(defunc_0_f_res_76819,\n                                              index_primexp_79005);\n                float defunc_0_f_res_76824 = sitofp_i64_f32(binop_p_76823);\n                float abs_res_76825 = (float) fabs(defunc_0_",
                   "f_res_76824);\n                float tmp1_76826 = abs_res_76825 / defunc_1_f_res_76810;\n                float x_76827 = tmp1_76826 * tmp1_76826;\n                float y_76828 = tmp1_76826 * x_76827;\n                float tmp2_76829 = 1.0F - y_76828;\n                float x_76830 = tmp2_76829 * tmp2_76829;\n                float tmp3_76831 = tmp2_76829 * x_76830;\n                float tmp4_76832 = x_76817 * tmp3_76831;\n                float defunc_1_f_res_76833 = defunc_0_f_res_76824 * tmp4_76832;\n                float defunc_1_f_res_76834 = defunc_0_f_res_76824 *\n                      defunc_1_f_res_76833;\n                float defunc_0_f_res_76835;\n                \n                if (cond_76818) {\n                    defunc_0_f_res_76835 = 0.0F;\n                } else {\n                    int64_t i_76836 = add64(gtid_75583, max_res_76809);\n                    float defunc_0_add_arg_76837 = ((__global\n                                                     float *) mem_81853)[gtid_75573 *\n                                                                         n_70233 +\n                                                                         i_76836];\n                    \n                    defunc_0_f_res_76835 = defunc_0_add_arg_76837;\n                }\n                \n                float x_76838 = a12_76811 * tmp4_76832;\n                float y_76839 = b12_76812 * defunc_1_f_res_76833;\n                float x_76840 = x_76838 + y_76839;\n                float y_76841 = c12_76813 * defunc_1_f_res_76834;\n                float x_76842 = x_76840 + y_76841;\n                float defunc_9_fit_fun_res_76843 = defunc_0_f_res_76835 *\n                      x_76842;\n                float x_76844 = b12_76812 * tmp4_76832;\n                float y_76845 = b2_76814 * defunc_1_f_res_76833;\n                float x_76846 = x_76844 + y_76845;\n                float y_76847 = c2_76815 * defunc_1_f_res_76834;\n                float x_76848 = x_76846 + y_76847;\n                float defun",
                   "c_9_slope_fun_res_76849 = defunc_0_f_res_76835 *\n                      x_76848;\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local\n                      float *) red_arr_mem_83584)[sext_i32_i64(local_tid_83580)] =\n                        defunc_9_fit_fun_res_76843;\n                    ((__local\n                      float *) red_arr_mem_83586)[sext_i32_i64(local_tid_83580)] =\n                        defunc_9_slope_fun_res_76849;\n                }\n            } else {\n                ((__local\n                  float *) red_arr_mem_83584)[sext_i32_i64(local_tid_83580)] =\n                    0.0F;\n                ((__local\n                  float *) red_arr_mem_83586)[sext_i32_i64(local_tid_83580)] =\n                    0.0F;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, q_70235)) {\n            // perform segmented scan to imitate reduction\n            {\n                float x_76790;\n                float x_76791;\n                float x_76792;\n                float x_76793;\n                float x_83595;\n                float x_83596;\n                float x_83597;\n                float x_83598;\n                bool ltid_in_bounds_83601 = slt64(sext_i32_i64(local_tid_83580),\n                                                  q_70235 *\n                                                  squot64(segred_group_sizze_76785,\n                                                          segment_sizze_nonzzero_83577));\n                int32_t skip_threads_83602;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_83601) {\n                        x_76792 = ((volatile __local\n                                    float *) red_arr_mem_83584)[sext_i32_i64(local_tid_83580)];\n                        x_76793 = ((volatile __local\n                            ",
                   "        float *) red_arr_mem_83586)[sext_i32_i64(local_tid_83580)];\n                        if ((local_tid_83580 - squot32(local_tid_83580, 32) *\n                             32) == 0) {\n                            x_76790 = x_76792;\n                            x_76791 = x_76793;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_83602 = 1;\n                    while (slt32(skip_threads_83602, 32)) {\n                        if (sle32(skip_threads_83602, local_tid_83580 -\n                                  squot32(local_tid_83580, 32) * 32) &&\n                            ltid_in_bounds_83601) {\n                            // read operands\n                            {\n                                x_76790 = ((volatile __local\n                                            float *) red_arr_mem_83584)[sext_i32_i64(local_tid_83580) -\n                                                                        sext_i32_i64(skip_threads_83602)];\n                                x_76791 = ((volatile __local\n                                            float *) red_arr_mem_83586)[sext_i32_i64(local_tid_83580) -\n                                                                        sext_i32_i64(skip_threads_83602)];\n                            }\n                            // perform operation\n                            {\n                                bool inactive_83603 =\n                                     slt64(srem64(sext_i32_i64(local_tid_83580),\n                                                  q_70235),\n                                           sext_i32_i64(local_tid_83580) -\n                                           sext_i32_i64(local_tid_83580 -\n                                           skip_threads_83602));\n                                \n                                if (inactive_83603) {\n                                    x_76790 = x",
                   "_76792;\n                                    x_76791 = x_76793;\n                                }\n                                if (!inactive_83603) {\n                                    float defunc_1_op_res_76794 = x_76790 +\n                                          x_76792;\n                                    float defunc_1_op_res_76795 = x_76791 +\n                                          x_76793;\n                                    \n                                    x_76790 = defunc_1_op_res_76794;\n                                    x_76791 = defunc_1_op_res_76795;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_83582, skip_threads_83602)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (sle32(skip_threads_83602, local_tid_83580 -\n                                  squot32(local_tid_83580, 32) * 32) &&\n                            ltid_in_bounds_83601) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  float *) red_arr_mem_83584)[sext_i32_i64(local_tid_83580)] =\n                                    x_76790;\n                                x_76792 = x_76790;\n                                ((volatile __local\n                                  float *) red_arr_mem_83586)[sext_i32_i64(local_tid_83580)] =\n                                    x_76791;\n                                x_76793 = x_76791;\n                            }\n                        }\n                        if (sle32(wave_sizze_83582, skip_threads_83602)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_83602 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to o",
                   "ffset 'i'\n                {\n                    if ((local_tid_83580 - squot32(local_tid_83580, 32) * 32) ==\n                        31 && ltid_in_bounds_83601) {\n                        ((volatile __local\n                          float *) red_arr_mem_83584)[sext_i32_i64(squot32(local_tid_83580,\n                                                                           32))] =\n                            x_76790;\n                        ((volatile __local\n                          float *) red_arr_mem_83586)[sext_i32_i64(squot32(local_tid_83580,\n                                                                           32))] =\n                            x_76791;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_83604;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_83580, 32) == 0 &&\n                            ltid_in_bounds_83601) {\n                            x_83597 = ((volatile __local\n                                        float *) red_arr_mem_83584)[sext_i32_i64(local_tid_83580)];\n                            x_83598 = ((volatile __local\n                                        float *) red_arr_mem_83586)[sext_i32_i64(local_tid_83580)];\n                            if ((local_tid_83580 - squot32(local_tid_83580,\n                                                           32) * 32) == 0) {\n                                x_83595 = x_83597;\n                                x_83596 = x_83598;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_83604 = 1;\n                        while (slt32(skip_threads_83604, 32)) {\n                ",
                   "            if (sle32(skip_threads_83604, local_tid_83580 -\n                                      squot32(local_tid_83580, 32) * 32) &&\n                                (squot32(local_tid_83580, 32) == 0 &&\n                                 ltid_in_bounds_83601)) {\n                                // read operands\n                                {\n                                    x_83595 = ((volatile __local\n                                                float *) red_arr_mem_83584)[sext_i32_i64(local_tid_83580) -\n                                                                            sext_i32_i64(skip_threads_83604)];\n                                    x_83596 = ((volatile __local\n                                                float *) red_arr_mem_83586)[sext_i32_i64(local_tid_83580) -\n                                                                            sext_i32_i64(skip_threads_83604)];\n                                }\n                                // perform operation\n                                {\n                                    bool inactive_83605 =\n                                         slt64(srem64(sext_i32_i64(local_tid_83580 *\n                                                      32 + 32 - 1), q_70235),\n                                               sext_i32_i64(local_tid_83580 *\n                                               32 + 32 - 1) -\n                                               sext_i32_i64((local_tid_83580 -\n                                                             skip_threads_83604) *\n                                               32 + 32 - 1));\n                                    \n                                    if (inactive_83605) {\n                                        x_83595 = x_83597;\n                                        x_83596 = x_83598;\n                                    }\n                                    if (!inactive_83605) {\n                                        float defunc_1_op_res_83599 =",
                   " x_83595 +\n                                              x_83597;\n                                        float defunc_1_op_res_83600 = x_83596 +\n                                              x_83598;\n                                        \n                                        x_83595 = defunc_1_op_res_83599;\n                                        x_83596 = defunc_1_op_res_83600;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_83582, skip_threads_83604)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (sle32(skip_threads_83604, local_tid_83580 -\n                                      squot32(local_tid_83580, 32) * 32) &&\n                                (squot32(local_tid_83580, 32) == 0 &&\n                                 ltid_in_bounds_83601)) {\n                                // write result\n                                {\n                                    ((volatile __local\n                                      float *) red_arr_mem_83584)[sext_i32_i64(local_tid_83580)] =\n                                        x_83595;\n                                    x_83597 = x_83595;\n                                    ((volatile __local\n                                      float *) red_arr_mem_83586)[sext_i32_i64(local_tid_83580)] =\n                                        x_83596;\n                                    x_83598 = x_83596;\n                                }\n                            }\n                            if (sle32(wave_sizze_83582, skip_threads_83604)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_83604 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // carry-in for every block except the first\n",
                   "                {\n                    if (!(squot32(local_tid_83580, 32) == 0 ||\n                          !ltid_in_bounds_83601)) {\n                        // read operands\n                        {\n                            x_76792 = x_76790;\n                            x_76793 = x_76791;\n                            x_76790 = ((__local\n                                        float *) red_arr_mem_83584)[sext_i32_i64(squot32(local_tid_83580,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n                            x_76791 = ((__local\n                                        float *) red_arr_mem_83586)[sext_i32_i64(squot32(local_tid_83580,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n                        }\n                        // perform operation\n                        {\n                            bool inactive_83606 =\n                                 slt64(srem64(sext_i32_i64(local_tid_83580),\n                                              q_70235),\n                                       sext_i32_i64(local_tid_83580) -\n                                       sext_i32_i64(squot32(local_tid_83580,\n                                                            32) * 32 - 1));\n                            \n                            if (inactive_83606) {\n                                x_76790 = x_76792;\n                                x_76791 = x_76793;\n                            }\n                            if (!inactive_83606) {\n                                float defunc_1_op_res_76794 = x_76790 + x_76792;\n                                float defunc_1_op_res_76795 = x_76791 + x_76793;\n                                \n                                x_76790 = defunc_1_op_res_76794;\n                ",
                   "                x_76791 = defunc_1_op_res_76795;\n                            }\n                        }\n                        // write final result\n                        {\n                            ((__local\n                              float *) red_arr_mem_83584)[sext_i32_i64(local_tid_83580)] =\n                                x_76790;\n                            ((__local\n                              float *) red_arr_mem_83586)[sext_i32_i64(local_tid_83580)] =\n                                x_76791;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_83580, 32) == 0) {\n                        ((__local\n                          float *) red_arr_mem_83584)[sext_i32_i64(local_tid_83580)] =\n                            x_76792;\n                        ((__local\n                          float *) red_arr_mem_83586)[sext_i32_i64(local_tid_83580)] =\n                            x_76793;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_83590) *\n                      squot64(segred_group_sizze_76785,\n                              segment_sizze_nonzzero_83577) +\n                      sext_i32_i64(local_tid_83580), m_70232 * n_m_70241) &&\n                slt64(sext_i32_i64(local_tid_83580),\n                      squot64(segred_group_sizze_76785,\n                              segment_sizze_nonzzero_83577))) {\n                ((__global\n                  float *) mem_82043)[squot64(sext_i32_i64(virt_group_id_83590) *\n                                              squot64(segred_group_sizze_76785,\n                                                      segment_sizze_nonzzero_83577) +\n                  ",
                   "                            sext_i32_i64(local_tid_83580),\n                                              n_m_70241) * n_m_70241 +\n                                      (sext_i32_i64(virt_group_id_83590) *\n                                       squot64(segred_group_sizze_76785,\n                                               segment_sizze_nonzzero_83577) +\n                                       sext_i32_i64(local_tid_83580) -\n                                       squot64(sext_i32_i64(virt_group_id_83590) *\n                                               squot64(segred_group_sizze_76785,\n                                                       segment_sizze_nonzzero_83577) +\n                                               sext_i32_i64(local_tid_83580),\n                                               n_m_70241) * n_m_70241)] =\n                    ((__local\n                      float *) red_arr_mem_83584)[(sext_i32_i64(local_tid_83580) +\n                                                   (int64_t) 1) *\n                                                  segment_sizze_nonzzero_83577 -\n                                                  (int64_t) 1];\n                ((__global\n                  float *) mem_82047)[squot64(sext_i32_i64(virt_group_id_83590) *\n                                              squot64(segred_group_sizze_76785,\n                                                      segment_sizze_nonzzero_83577) +\n                                              sext_i32_i64(local_tid_83580),\n                                              n_m_70241) * n_m_70241 +\n                                      (sext_i32_i64(virt_group_id_83590) *\n                                       squot64(segred_group_sizze_76785,\n                                               segment_sizze_nonzzero_83577) +\n                                       sext_i32_i64(local_tid_83580) -\n                                       squot64(sext_i32_i64(virt_group_id_83590) *\n                                         ",
                   "      squot64(segred_group_sizze_76785,\n                                                       segment_sizze_nonzzero_83577) +\n                                               sext_i32_i64(local_tid_83580),\n                                               n_m_70241) * n_m_70241)] =\n                    ((__local\n                      float *) red_arr_mem_83586)[(sext_i32_i64(local_tid_83580) +\n                                                   (int64_t) 1) *\n                                                  segment_sizze_nonzzero_83577 -\n                                                  (int64_t) 1];\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_76785\n}\n__kernel void mainzisegred_small_75704(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83462_backing_aligned_0,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83460_backing_aligned_1,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83458_backing_aligned_2,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83456_backing_aligned_3,\n                                       __local volatile\n                                       int64_t *red_arr_mem_83454_backing_aligned_4,\n                                       int64_t m_70232, int64_t n_70233,\n                                       int64_t q_70235, int64_t jump_70237,\n                                       int64_t n_m_70241, int64_t i_70247,\n                                       int64_t num_groups_76691,\n                                       int64_t segment_sizze_nonzzero_83447,\n                                       __global unsigned char ",
                   "*mem_81849,\n                                       __global unsigned char *mem_81857,\n                                       __global unsigned char *mem_81881,\n                                       __global unsigned char *mem_81992,\n                                       __global unsigned char *mem_81996,\n                                       __global unsigned char *mem_82001,\n                                       __global unsigned char *mem_82005,\n                                       __global unsigned char *mem_82009,\n                                       __global unsigned char *mem_82013,\n                                       __global unsigned char *mem_82017)\n{\n    #define segred_group_sizze_76690 (mainzisegred_group_sizze_75698)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_83462_backing_4 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83462_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_83460_backing_3 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83460_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_83458_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83458_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_83456_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83456_backing_aligned_3;\n    __local volatile unsigned char *restrict red_arr_mem_83454_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_83454_backing_aligned_4;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32",
                   "_t global_tid_83449;\n    int32_t local_tid_83450;\n    int64_t group_sizze_83453;\n    int32_t wave_sizze_83452;\n    int32_t group_tid_83451;\n    \n    global_tid_83449 = get_global_id(0);\n    local_tid_83450 = get_local_id(0);\n    group_sizze_83453 = get_local_size(0);\n    wave_sizze_83452 = LOCKSTEP_WIDTH;\n    group_tid_83451 = get_group_id(0);\n    \n    int32_t phys_tid_75704 = global_tid_83449;\n    __local unsigned char *red_arr_mem_83454;\n    \n    red_arr_mem_83454 = (__local unsigned char *) red_arr_mem_83454_backing_0;\n    \n    __local unsigned char *red_arr_mem_83456;\n    \n    red_arr_mem_83456 = (__local unsigned char *) red_arr_mem_83456_backing_1;\n    \n    __local unsigned char *red_arr_mem_83458;\n    \n    red_arr_mem_83458 = (__local unsigned char *) red_arr_mem_83458_backing_2;\n    \n    __local unsigned char *red_arr_mem_83460;\n    \n    red_arr_mem_83460 = (__local unsigned char *) red_arr_mem_83460_backing_3;\n    \n    __local unsigned char *red_arr_mem_83462;\n    \n    red_arr_mem_83462 = (__local unsigned char *) red_arr_mem_83462_backing_4;\n    \n    int32_t phys_group_id_83464;\n    \n    phys_group_id_83464 = get_group_id(0);\n    for (int32_t i_83465 = 0; i_83465 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_70232 * n_m_70241,\n                                          squot64(segred_group_sizze_76690,\n                                                  segment_sizze_nonzzero_83447))) -\n                   phys_group_id_83464, sext_i64_i32(num_groups_76691));\n         i_83465++) {\n        int32_t virt_group_id_83466 = phys_group_id_83464 + i_83465 *\n                sext_i64_i32(num_groups_76691);\n        int64_t slice_83467 = n_m_70241;\n        int64_t slice_83468 = m_70232 * slice_83467;\n        int64_t gtid_75693 = squot64(squot64(sext_i32_i64(local_tid_83450),\n                                             segment_sizze_nonzzero_83447) +\n                                     sext_i32_i64(virt_group_id_83466) *\n                                     squot64(segre",
                   "d_group_sizze_76690,\n                                             segment_sizze_nonzzero_83447),\n                                     slice_83467);\n        int64_t remnant_83469 = squot64(sext_i32_i64(local_tid_83450),\n                                        segment_sizze_nonzzero_83447) +\n                sext_i32_i64(virt_group_id_83466) *\n                squot64(segred_group_sizze_76690,\n                        segment_sizze_nonzzero_83447) - gtid_75693 *\n                slice_83467;\n        int64_t gtid_75694 = remnant_83469;\n        int64_t remnant_83470 = remnant_83469 - gtid_75694;\n        int64_t gtid_75703 = srem64(sext_i32_i64(local_tid_83450), q_70235);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, q_70235) && ((slt64(gtid_75693, m_70232) &&\n                                                 slt64(gtid_75694,\n                                                       n_m_70241)) &&\n                                                slt64(sext_i32_i64(local_tid_83450),\n                                                      q_70235 *\n                                                      squot64(segred_group_sizze_76690,\n                                                              segment_sizze_nonzzero_83447)))) {\n                int64_t last_res_76713 = ((__global\n                                           int64_t *) mem_81849)[gtid_75693 *\n                                                                 n_70233 +\n                                                                 i_70247];\n                int64_t binop_y_78998 = mul64(jump_70237, gtid_75694);\n                int64_t index_primexp_78999 = smin64(i_70247, binop_y_78998);\n                float defunc_1_f_res_76721 = ((__global\n                                               float *) mem_81996)[gtid_75693 *\n                                                                   n_m_70241 +\n                                                                   gtid_",
                   "75694];\n                float x_76723 = ((__global float *) mem_81881)[gtid_75693 *\n                                                               q_70235 +\n                                                               gtid_75703];\n                bool cond_76724 = sle64(last_res_76713, gtid_75703);\n                int64_t defunc_0_f_res_76725;\n                \n                if (cond_76724) {\n                    defunc_0_f_res_76725 = (int64_t) 0;\n                } else {\n                    int64_t max_res_76720 = ((__global\n                                              int64_t *) mem_81992)[gtid_75693 *\n                                                                    n_m_70241 +\n                                                                    gtid_75694];\n                    int64_t i_76726 = add64(gtid_75703, max_res_76720);\n                    int64_t defunc_0_add_arg_76727 = ((__global\n                                                       int64_t *) mem_81857)[gtid_75693 *\n                                                                             n_70233 +\n                                                                             i_76726];\n                    int64_t defunc_1_add_res_76728 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_76727);\n                    \n                    defunc_0_f_res_76725 = defunc_1_add_res_76728;\n                }\n                \n                int64_t binop_p_76729 = sub64(defunc_0_f_res_76725,\n                                              index_primexp_78999);\n                float defunc_0_f_res_76730 = sitofp_i64_f32(binop_p_76729);\n                float abs_res_76731 = (float) fabs(defunc_0_f_res_76730);\n                float tmp1_76732 = abs_res_76731 / defunc_1_f_res_76721;\n                float x_76733 = tmp1_76732 * tmp1_76732;\n                float y_76734 = tmp1_76732 * x_76733;\n                float tmp2_76735 = 1.0F - y_76734;\n                float x",
                   "_76736 = tmp2_76735 * tmp2_76735;\n                float tmp3_76737 = tmp2_76735 * x_76736;\n                float w_j_76738 = x_76723 * tmp3_76737;\n                float xw_j_76739 = defunc_0_f_res_76730 * w_j_76738;\n                float x2w_j_76740 = defunc_0_f_res_76730 * xw_j_76739;\n                float x3w_j_76741 = defunc_0_f_res_76730 * x2w_j_76740;\n                float x4w_j_76742 = defunc_0_f_res_76730 * x3w_j_76741;\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local\n                      float *) red_arr_mem_83454)[sext_i32_i64(local_tid_83450)] =\n                        w_j_76738;\n                    ((__local\n                      float *) red_arr_mem_83456)[sext_i32_i64(local_tid_83450)] =\n                        xw_j_76739;\n                    ((__local\n                      float *) red_arr_mem_83458)[sext_i32_i64(local_tid_83450)] =\n                        x2w_j_76740;\n                    ((__local\n                      float *) red_arr_mem_83460)[sext_i32_i64(local_tid_83450)] =\n                        x3w_j_76741;\n                    ((__local\n                      float *) red_arr_mem_83462)[sext_i32_i64(local_tid_83450)] =\n                        x4w_j_76742;\n                }\n            } else {\n                ((__local\n                  float *) red_arr_mem_83454)[sext_i32_i64(local_tid_83450)] =\n                    0.0F;\n                ((__local\n                  float *) red_arr_mem_83456)[sext_i32_i64(local_tid_83450)] =\n                    0.0F;\n                ((__local\n                  float *) red_arr_mem_83458)[sext_i32_i64(local_tid_83450)] =\n                    0.0F;\n                ((__local\n                  float *) red_arr_mem_83460)[sext_i32_i64(local_tid_83450)] =\n                    0.0F;\n                ((__local\n                  float *) red_arr_mem_83462)[sext_i32_i64(local_tid_83450)] =\n             ",
                   "       0.0F;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, q_70235)) {\n            // perform segmented scan to imitate reduction\n            {\n                float x_76698;\n                float x_76699;\n                float x_76700;\n                float x_76701;\n                float x_76702;\n                float x_76703;\n                float x_76704;\n                float x_76705;\n                float x_76706;\n                float x_76707;\n                float x_83471;\n                float x_83472;\n                float x_83473;\n                float x_83474;\n                float x_83475;\n                float x_83476;\n                float x_83477;\n                float x_83478;\n                float x_83479;\n                float x_83480;\n                bool ltid_in_bounds_83486 = slt64(sext_i32_i64(local_tid_83450),\n                                                  q_70235 *\n                                                  squot64(segred_group_sizze_76690,\n                                                          segment_sizze_nonzzero_83447));\n                int32_t skip_threads_83487;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_83486) {\n                        x_76703 = ((volatile __local\n                                    float *) red_arr_mem_83454)[sext_i32_i64(local_tid_83450)];\n                        x_76704 = ((volatile __local\n                                    float *) red_arr_mem_83456)[sext_i32_i64(local_tid_83450)];\n                        x_76705 = ((volatile __local\n                                    float *) red_arr_mem_83458)[sext_i32_i64(local_tid_83450)];\n                        x_76706 = ((volatile __local\n                                    float *) red_arr_mem_83460)[sext_i32_i64(local_tid_83450)];\n                        x_76707 = ((volatile __local\n                                    float *) red_a",
                   "rr_mem_83462)[sext_i32_i64(local_tid_83450)];\n                        if ((local_tid_83450 - squot32(local_tid_83450, 32) *\n                             32) == 0) {\n                            x_76698 = x_76703;\n                            x_76699 = x_76704;\n                            x_76700 = x_76705;\n                            x_76701 = x_76706;\n                            x_76702 = x_76707;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_83487 = 1;\n                    while (slt32(skip_threads_83487, 32)) {\n                        if (sle32(skip_threads_83487, local_tid_83450 -\n                                  squot32(local_tid_83450, 32) * 32) &&\n                            ltid_in_bounds_83486) {\n                            // read operands\n                            {\n                                x_76698 = ((volatile __local\n                                            float *) red_arr_mem_83454)[sext_i32_i64(local_tid_83450) -\n                                                                        sext_i32_i64(skip_threads_83487)];\n                                x_76699 = ((volatile __local\n                                            float *) red_arr_mem_83456)[sext_i32_i64(local_tid_83450) -\n                                                                        sext_i32_i64(skip_threads_83487)];\n                                x_76700 = ((volatile __local\n                                            float *) red_arr_mem_83458)[sext_i32_i64(local_tid_83450) -\n                                                                        sext_i32_i64(skip_threads_83487)];\n                                x_76701 = ((volatile __local\n                                            float *) red_arr_mem_83460)[sext_i32_i64(local_tid_83450) -\n                                                                        sext_i32_i64(skip_thread",
                   "s_83487)];\n                                x_76702 = ((volatile __local\n                                            float *) red_arr_mem_83462)[sext_i32_i64(local_tid_83450) -\n                                                                        sext_i32_i64(skip_threads_83487)];\n                            }\n                            // perform operation\n                            {\n                                bool inactive_83488 =\n                                     slt64(srem64(sext_i32_i64(local_tid_83450),\n                                                  q_70235),\n                                           sext_i32_i64(local_tid_83450) -\n                                           sext_i32_i64(local_tid_83450 -\n                                           skip_threads_83487));\n                                \n                                if (inactive_83488) {\n                                    x_76698 = x_76703;\n                                    x_76699 = x_76704;\n                                    x_76700 = x_76705;\n                                    x_76701 = x_76706;\n                                    x_76702 = x_76707;\n                                }\n                                if (!inactive_83488) {\n                                    float defunc_1_op_res_76708 = x_76698 +\n                                          x_76703;\n                                    float defunc_1_op_res_76709 = x_76699 +\n                                          x_76704;\n                                    float defunc_1_op_res_76710 = x_76700 +\n                                          x_76705;\n                                    float defunc_1_op_res_76711 = x_76701 +\n                                          x_76706;\n                                    float defunc_1_op_res_76712 = x_76702 +\n                                          x_76707;\n                                    \n                                    x_76698 = defunc_1_op_res_76708;\n       ",
                   "                             x_76699 = defunc_1_op_res_76709;\n                                    x_76700 = defunc_1_op_res_76710;\n                                    x_76701 = defunc_1_op_res_76711;\n                                    x_76702 = defunc_1_op_res_76712;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_83452, skip_threads_83487)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (sle32(skip_threads_83487, local_tid_83450 -\n                                  squot32(local_tid_83450, 32) * 32) &&\n                            ltid_in_bounds_83486) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  float *) red_arr_mem_83454)[sext_i32_i64(local_tid_83450)] =\n                                    x_76698;\n                                x_76703 = x_76698;\n                                ((volatile __local\n                                  float *) red_arr_mem_83456)[sext_i32_i64(local_tid_83450)] =\n                                    x_76699;\n                                x_76704 = x_76699;\n                                ((volatile __local\n                                  float *) red_arr_mem_83458)[sext_i32_i64(local_tid_83450)] =\n                                    x_76700;\n                                x_76705 = x_76700;\n                                ((volatile __local\n                                  float *) red_arr_mem_83460)[sext_i32_i64(local_tid_83450)] =\n                                    x_76701;\n                                x_76706 = x_76701;\n                                ((volatile __local\n                                  float *) red_arr_mem_83462)[sext_i32_i64(local_tid_83450)] =\n                                    x_76702;\n                                x_76707 = x_76702;\n  ",
                   "                          }\n                        }\n                        if (sle32(wave_sizze_83452, skip_threads_83487)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_83487 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_83450 - squot32(local_tid_83450, 32) * 32) ==\n                        31 && ltid_in_bounds_83486) {\n                        ((volatile __local\n                          float *) red_arr_mem_83454)[sext_i32_i64(squot32(local_tid_83450,\n                                                                           32))] =\n                            x_76698;\n                        ((volatile __local\n                          float *) red_arr_mem_83456)[sext_i32_i64(squot32(local_tid_83450,\n                                                                           32))] =\n                            x_76699;\n                        ((volatile __local\n                          float *) red_arr_mem_83458)[sext_i32_i64(squot32(local_tid_83450,\n                                                                           32))] =\n                            x_76700;\n                        ((volatile __local\n                          float *) red_arr_mem_83460)[sext_i32_i64(squot32(local_tid_83450,\n                                                                           32))] =\n                            x_76701;\n                        ((volatile __local\n                          float *) red_arr_mem_83462)[sext_i32_i64(squot32(local_tid_83450,\n                                                                           32))] =\n                            x_76702;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i",
                   "' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_83489;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_83450, 32) == 0 &&\n                            ltid_in_bounds_83486) {\n                            x_83476 = ((volatile __local\n                                        float *) red_arr_mem_83454)[sext_i32_i64(local_tid_83450)];\n                            x_83477 = ((volatile __local\n                                        float *) red_arr_mem_83456)[sext_i32_i64(local_tid_83450)];\n                            x_83478 = ((volatile __local\n                                        float *) red_arr_mem_83458)[sext_i32_i64(local_tid_83450)];\n                            x_83479 = ((volatile __local\n                                        float *) red_arr_mem_83460)[sext_i32_i64(local_tid_83450)];\n                            x_83480 = ((volatile __local\n                                        float *) red_arr_mem_83462)[sext_i32_i64(local_tid_83450)];\n                            if ((local_tid_83450 - squot32(local_tid_83450,\n                                                           32) * 32) == 0) {\n                                x_83471 = x_83476;\n                                x_83472 = x_83477;\n                                x_83473 = x_83478;\n                                x_83474 = x_83479;\n                                x_83475 = x_83480;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_83489 = 1;\n                        while (slt32(skip_threads_83489, 32)) {\n                            if (sle32(skip_threads_83489, local_tid_83450 -\n                                      squot32(local_tid_83450, 32) * 32) &&\n                                (squot32(local_tid_83450, 32)",
                   " == 0 &&\n                                 ltid_in_bounds_83486)) {\n                                // read operands\n                                {\n                                    x_83471 = ((volatile __local\n                                                float *) red_arr_mem_83454)[sext_i32_i64(local_tid_83450) -\n                                                                            sext_i32_i64(skip_threads_83489)];\n                                    x_83472 = ((volatile __local\n                                                float *) red_arr_mem_83456)[sext_i32_i64(local_tid_83450) -\n                                                                            sext_i32_i64(skip_threads_83489)];\n                                    x_83473 = ((volatile __local\n                                                float *) red_arr_mem_83458)[sext_i32_i64(local_tid_83450) -\n                                                                            sext_i32_i64(skip_threads_83489)];\n                                    x_83474 = ((volatile __local\n                                                float *) red_arr_mem_83460)[sext_i32_i64(local_tid_83450) -\n                                                                            sext_i32_i64(skip_threads_83489)];\n                                    x_83475 = ((volatile __local\n                                                float *) red_arr_mem_83462)[sext_i32_i64(local_tid_83450) -\n                                                                            sext_i32_i64(skip_threads_83489)];\n                                }\n                                // perform operation\n                                {\n                                    bool inactive_83490 =\n                                         slt64(srem64(sext_i32_i64(local_tid_83450 *\n                                                      32 + 32 - 1), q_70235),\n                                               sext_i32_i64(local_tid_83450 *\n          ",
                   "                                     32 + 32 - 1) -\n                                               sext_i32_i64((local_tid_83450 -\n                                                             skip_threads_83489) *\n                                               32 + 32 - 1));\n                                    \n                                    if (inactive_83490) {\n                                        x_83471 = x_83476;\n                                        x_83472 = x_83477;\n                                        x_83473 = x_83478;\n                                        x_83474 = x_83479;\n                                        x_83475 = x_83480;\n                                    }\n                                    if (!inactive_83490) {\n                                        float defunc_1_op_res_83481 = x_83471 +\n                                              x_83476;\n                                        float defunc_1_op_res_83482 = x_83472 +\n                                              x_83477;\n                                        float defunc_1_op_res_83483 = x_83473 +\n                                              x_83478;\n                                        float defunc_1_op_res_83484 = x_83474 +\n                                              x_83479;\n                                        float defunc_1_op_res_83485 = x_83475 +\n                                              x_83480;\n                                        \n                                        x_83471 = defunc_1_op_res_83481;\n                                        x_83472 = defunc_1_op_res_83482;\n                                        x_83473 = defunc_1_op_res_83483;\n                                        x_83474 = defunc_1_op_res_83484;\n                                        x_83475 = defunc_1_op_res_83485;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_83452",
                   ", skip_threads_83489)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (sle32(skip_threads_83489, local_tid_83450 -\n                                      squot32(local_tid_83450, 32) * 32) &&\n                                (squot32(local_tid_83450, 32) == 0 &&\n                                 ltid_in_bounds_83486)) {\n                                // write result\n                                {\n                                    ((volatile __local\n                                      float *) red_arr_mem_83454)[sext_i32_i64(local_tid_83450)] =\n                                        x_83471;\n                                    x_83476 = x_83471;\n                                    ((volatile __local\n                                      float *) red_arr_mem_83456)[sext_i32_i64(local_tid_83450)] =\n                                        x_83472;\n                                    x_83477 = x_83472;\n                                    ((volatile __local\n                                      float *) red_arr_mem_83458)[sext_i32_i64(local_tid_83450)] =\n                                        x_83473;\n                                    x_83478 = x_83473;\n                                    ((volatile __local\n                                      float *) red_arr_mem_83460)[sext_i32_i64(local_tid_83450)] =\n                                        x_83474;\n                                    x_83479 = x_83474;\n                                    ((volatile __local\n                                      float *) red_arr_mem_83462)[sext_i32_i64(local_tid_83450)] =\n                                        x_83475;\n                                    x_83480 = x_83475;\n                                }\n                            }\n                            if (sle32(wave_sizze_83452, skip_threads_83489)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                          ",
                   "  }\n                            skip_threads_83489 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // carry-in for every block except the first\n                {\n                    if (!(squot32(local_tid_83450, 32) == 0 ||\n                          !ltid_in_bounds_83486)) {\n                        // read operands\n                        {\n                            x_76703 = x_76698;\n                            x_76704 = x_76699;\n                            x_76705 = x_76700;\n                            x_76706 = x_76701;\n                            x_76707 = x_76702;\n                            x_76698 = ((__local\n                                        float *) red_arr_mem_83454)[sext_i32_i64(squot32(local_tid_83450,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n                            x_76699 = ((__local\n                                        float *) red_arr_mem_83456)[sext_i32_i64(squot32(local_tid_83450,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n                            x_76700 = ((__local\n                                        float *) red_arr_mem_83458)[sext_i32_i64(squot32(local_tid_83450,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n                            x_76701 = ((__local\n                                        float *) red_arr_mem_83460)[sext_i32_i64(squot32(local_tid_83450,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n       ",
                   "                     x_76702 = ((__local\n                                        float *) red_arr_mem_83462)[sext_i32_i64(squot32(local_tid_83450,\n                                                                                         32)) -\n                                                                    (int64_t) 1];\n                        }\n                        // perform operation\n                        {\n                            bool inactive_83491 =\n                                 slt64(srem64(sext_i32_i64(local_tid_83450),\n                                              q_70235),\n                                       sext_i32_i64(local_tid_83450) -\n                                       sext_i32_i64(squot32(local_tid_83450,\n                                                            32) * 32 - 1));\n                            \n                            if (inactive_83491) {\n                                x_76698 = x_76703;\n                                x_76699 = x_76704;\n                                x_76700 = x_76705;\n                                x_76701 = x_76706;\n                                x_76702 = x_76707;\n                            }\n                            if (!inactive_83491) {\n                                float defunc_1_op_res_76708 = x_76698 + x_76703;\n                                float defunc_1_op_res_76709 = x_76699 + x_76704;\n                                float defunc_1_op_res_76710 = x_76700 + x_76705;\n                                float defunc_1_op_res_76711 = x_76701 + x_76706;\n                                float defunc_1_op_res_76712 = x_76702 + x_76707;\n                                \n                                x_76698 = defunc_1_op_res_76708;\n                                x_76699 = defunc_1_op_res_76709;\n                                x_76700 = defunc_1_op_res_76710;\n                                x_76701 = defunc_1_op_res_76711;\n                                x_76702 = defunc_1_op_res_",
                   "76712;\n                            }\n                        }\n                        // write final result\n                        {\n                            ((__local\n                              float *) red_arr_mem_83454)[sext_i32_i64(local_tid_83450)] =\n                                x_76698;\n                            ((__local\n                              float *) red_arr_mem_83456)[sext_i32_i64(local_tid_83450)] =\n                                x_76699;\n                            ((__local\n                              float *) red_arr_mem_83458)[sext_i32_i64(local_tid_83450)] =\n                                x_76700;\n                            ((__local\n                              float *) red_arr_mem_83460)[sext_i32_i64(local_tid_83450)] =\n                                x_76701;\n                            ((__local\n                              float *) red_arr_mem_83462)[sext_i32_i64(local_tid_83450)] =\n                                x_76702;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_83450, 32) == 0) {\n                        ((__local\n                          float *) red_arr_mem_83454)[sext_i32_i64(local_tid_83450)] =\n                            x_76703;\n                        ((__local\n                          float *) red_arr_mem_83456)[sext_i32_i64(local_tid_83450)] =\n                            x_76704;\n                        ((__local\n                          float *) red_arr_mem_83458)[sext_i32_i64(local_tid_83450)] =\n                            x_76705;\n                        ((__local\n                          float *) red_arr_mem_83460)[sext_i32_i64(local_tid_83450)] =\n                            x_76706;\n                        ((__local\n                          float *) red_arr_mem_83462)[sext_i32_i64(local_tid_83450)] =\n             ",
                   "               x_76707;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_83466) *\n                      squot64(segred_group_sizze_76690,\n                              segment_sizze_nonzzero_83447) +\n                      sext_i32_i64(local_tid_83450), m_70232 * n_m_70241) &&\n                slt64(sext_i32_i64(local_tid_83450),\n                      squot64(segred_group_sizze_76690,\n                              segment_sizze_nonzzero_83447))) {\n                ((__global\n                  float *) mem_82001)[squot64(sext_i32_i64(virt_group_id_83466) *\n                                              squot64(segred_group_sizze_76690,\n                                                      segment_sizze_nonzzero_83447) +\n                                              sext_i32_i64(local_tid_83450),\n                                              n_m_70241) * n_m_70241 +\n                                      (sext_i32_i64(virt_group_id_83466) *\n                                       squot64(segred_group_sizze_76690,\n                                               segment_sizze_nonzzero_83447) +\n                                       sext_i32_i64(local_tid_83450) -\n                                       squot64(sext_i32_i64(virt_group_id_83466) *\n                                               squot64(segred_group_sizze_76690,\n                                                       segment_sizze_nonzzero_83447) +\n                                               sext_i32_i64(local_tid_83450),\n                                               n_m_70241) * n_m_70241)] =\n                    ((__local\n                      float *) red_arr_mem_83454)[(sext_i32_i64(local_tid_83450) +\n                                                   (int64_t) 1) *\n                                                ",
                   "  segment_sizze_nonzzero_83447 -\n                                                  (int64_t) 1];\n                ((__global\n                  float *) mem_82005)[squot64(sext_i32_i64(virt_group_id_83466) *\n                                              squot64(segred_group_sizze_76690,\n                                                      segment_sizze_nonzzero_83447) +\n                                              sext_i32_i64(local_tid_83450),\n                                              n_m_70241) * n_m_70241 +\n                                      (sext_i32_i64(virt_group_id_83466) *\n                                       squot64(segred_group_sizze_76690,\n                                               segment_sizze_nonzzero_83447) +\n                                       sext_i32_i64(local_tid_83450) -\n                                       squot64(sext_i32_i64(virt_group_id_83466) *\n                                               squot64(segred_group_sizze_76690,\n                                                       segment_sizze_nonzzero_83447) +\n                                               sext_i32_i64(local_tid_83450),\n                                               n_m_70241) * n_m_70241)] =\n                    ((__local\n                      float *) red_arr_mem_83456)[(sext_i32_i64(local_tid_83450) +\n                                                   (int64_t) 1) *\n                                                  segment_sizze_nonzzero_83447 -\n                                                  (int64_t) 1];\n                ((__global\n                  float *) mem_82009)[squot64(sext_i32_i64(virt_group_id_83466) *\n                                              squot64(segred_group_sizze_76690,\n                                                      segment_sizze_nonzzero_83447) +\n                                              sext_i32_i64(local_tid_83450),\n                                              n_m_70241) * n_m_70241 +\n                                ",
                   "      (sext_i32_i64(virt_group_id_83466) *\n                                       squot64(segred_group_sizze_76690,\n                                               segment_sizze_nonzzero_83447) +\n                                       sext_i32_i64(local_tid_83450) -\n                                       squot64(sext_i32_i64(virt_group_id_83466) *\n                                               squot64(segred_group_sizze_76690,\n                                                       segment_sizze_nonzzero_83447) +\n                                               sext_i32_i64(local_tid_83450),\n                                               n_m_70241) * n_m_70241)] =\n                    ((__local\n                      float *) red_arr_mem_83458)[(sext_i32_i64(local_tid_83450) +\n                                                   (int64_t) 1) *\n                                                  segment_sizze_nonzzero_83447 -\n                                                  (int64_t) 1];\n                ((__global\n                  float *) mem_82013)[squot64(sext_i32_i64(virt_group_id_83466) *\n                                              squot64(segred_group_sizze_76690,\n                                                      segment_sizze_nonzzero_83447) +\n                                              sext_i32_i64(local_tid_83450),\n                                              n_m_70241) * n_m_70241 +\n                                      (sext_i32_i64(virt_group_id_83466) *\n                                       squot64(segred_group_sizze_76690,\n                                               segment_sizze_nonzzero_83447) +\n                                       sext_i32_i64(local_tid_83450) -\n                                       squot64(sext_i32_i64(virt_group_id_83466) *\n                                               squot64(segred_group_sizze_76690,\n                                                       segment_sizze_nonzzero_83447) +\n                                   ",
                   "            sext_i32_i64(local_tid_83450),\n                                               n_m_70241) * n_m_70241)] =\n                    ((__local\n                      float *) red_arr_mem_83460)[(sext_i32_i64(local_tid_83450) +\n                                                   (int64_t) 1) *\n                                                  segment_sizze_nonzzero_83447 -\n                                                  (int64_t) 1];\n                ((__global\n                  float *) mem_82017)[squot64(sext_i32_i64(virt_group_id_83466) *\n                                              squot64(segred_group_sizze_76690,\n                                                      segment_sizze_nonzzero_83447) +\n                                              sext_i32_i64(local_tid_83450),\n                                              n_m_70241) * n_m_70241 +\n                                      (sext_i32_i64(virt_group_id_83466) *\n                                       squot64(segred_group_sizze_76690,\n                                               segment_sizze_nonzzero_83447) +\n                                       sext_i32_i64(local_tid_83450) -\n                                       squot64(sext_i32_i64(virt_group_id_83466) *\n                                               squot64(segred_group_sizze_76690,\n                                                       segment_sizze_nonzzero_83447) +\n                                               sext_i32_i64(local_tid_83450),\n                                               n_m_70241) * n_m_70241)] =\n                    ((__local\n                      float *) red_arr_mem_83462)[(sext_i32_i64(local_tid_83450) +\n                                                   (int64_t) 1) *\n                                                  segment_sizze_nonzzero_83447 -\n                                                  (int64_t) 1];\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_",
                   "MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_76690\n}\n",
                   NULL};
static const char *size_names[] = {"builtin#replicate_f32.group_size_82519",
                                   "builtin#replicate_i64.group_size_82622",
                                   "main.segmap_group_size_71586",
                                   "main.segmap_group_size_72167",
                                   "main.segmap_group_size_72218",
                                   "main.segmap_group_size_72515",
                                   "main.segmap_group_size_72534",
                                   "main.segmap_group_size_72558",
                                   "main.segmap_group_size_72578",
                                   "main.segmap_group_size_73105",
                                   "main.segmap_group_size_73796",
                                   "main.segmap_group_size_73864",
                                   "main.segmap_group_size_74198",
                                   "main.segmap_group_size_74217",
                                   "main.segmap_group_size_74241",
                                   "main.segmap_group_size_74261",
                                   "main.segmap_group_size_74856",
                                   "main.segmap_group_size_75660",
                                   "main.segmap_group_size_75755",
                                   "main.segmap_group_size_76129",
                                   "main.segmap_group_size_76148",
                                   "main.segmap_group_size_76172",
                                   "main.segmap_group_size_76192",
                                   "main.segmap_group_size_77034",
                                   "main.segmap_group_size_77053",
                                   "main.segmap_group_size_77077",
                                   "main.segmap_group_size_77097",
                                   "main.segmap_group_size_77631",
                                   "main.segmap_group_size_77650",
                                   "main.segmap_group_size_77674",
                                   "main.segmap_group_size_77694",
                                   "main.segmap_group_size_78314",
                                   "main.segmap_group_size_78333",
                                   "main.segmap_group_size_78357",
                                   "main.segmap_group_size_78377",
                                   "main.segmap_group_size_78781",
                                   "main.segmap_num_groups_71588",
                                   "main.segmap_num_groups_73107",
                                   "main.segmap_num_groups_74858",
                                   "main.segred_group_size_72116",
                                   "main.segred_group_size_72177",
                                   "main.segred_group_size_73727",
                                   "main.segred_group_size_73815",
                                   "main.segred_group_size_75578",
                                   "main.segred_group_size_75698",
                                   "main.segred_num_groups_72118",
                                   "main.segred_num_groups_72179",
                                   "main.segred_num_groups_73729",
                                   "main.segred_num_groups_73817",
                                   "main.segred_num_groups_75580",
                                   "main.segred_num_groups_75700",
                                   "main.segscan_group_size_72647",
                                   "main.segscan_group_size_74330",
                                   "main.segscan_group_size_76261",
                                   "main.segscan_group_size_77166",
                                   "main.segscan_group_size_77763",
                                   "main.segscan_group_size_78446",
                                   "main.segscan_num_groups_72649",
                                   "main.segscan_num_groups_74332",
                                   "main.segscan_num_groups_76263",
                                   "main.segscan_num_groups_77168",
                                   "main.segscan_num_groups_77765",
                                   "main.segscan_num_groups_78448",
                                   "main.suff_outer_par_0",
                                   "main.suff_outer_par_1",
                                   "main.suff_outer_par_2",
                                   "main.suff_outer_par_3",
                                   "main.suff_outer_par_4",
                                   "main.suff_outer_par_5",
                                   "main.tile_size_79092",
                                   "main.tile_size_79613",
                                   "main.tile_size_80251"};
static const char *size_vars[] = {"builtinzhreplicate_f32zigroup_sizze_82519",
                                  "builtinzhreplicate_i64zigroup_sizze_82622",
                                  "mainzisegmap_group_sizze_71586",
                                  "mainzisegmap_group_sizze_72167",
                                  "mainzisegmap_group_sizze_72218",
                                  "mainzisegmap_group_sizze_72515",
                                  "mainzisegmap_group_sizze_72534",
                                  "mainzisegmap_group_sizze_72558",
                                  "mainzisegmap_group_sizze_72578",
                                  "mainzisegmap_group_sizze_73105",
                                  "mainzisegmap_group_sizze_73796",
                                  "mainzisegmap_group_sizze_73864",
                                  "mainzisegmap_group_sizze_74198",
                                  "mainzisegmap_group_sizze_74217",
                                  "mainzisegmap_group_sizze_74241",
                                  "mainzisegmap_group_sizze_74261",
                                  "mainzisegmap_group_sizze_74856",
                                  "mainzisegmap_group_sizze_75660",
                                  "mainzisegmap_group_sizze_75755",
                                  "mainzisegmap_group_sizze_76129",
                                  "mainzisegmap_group_sizze_76148",
                                  "mainzisegmap_group_sizze_76172",
                                  "mainzisegmap_group_sizze_76192",
                                  "mainzisegmap_group_sizze_77034",
                                  "mainzisegmap_group_sizze_77053",
                                  "mainzisegmap_group_sizze_77077",
                                  "mainzisegmap_group_sizze_77097",
                                  "mainzisegmap_group_sizze_77631",
                                  "mainzisegmap_group_sizze_77650",
                                  "mainzisegmap_group_sizze_77674",
                                  "mainzisegmap_group_sizze_77694",
                                  "mainzisegmap_group_sizze_78314",
                                  "mainzisegmap_group_sizze_78333",
                                  "mainzisegmap_group_sizze_78357",
                                  "mainzisegmap_group_sizze_78377",
                                  "mainzisegmap_group_sizze_78781",
                                  "mainzisegmap_num_groups_71588",
                                  "mainzisegmap_num_groups_73107",
                                  "mainzisegmap_num_groups_74858",
                                  "mainzisegred_group_sizze_72116",
                                  "mainzisegred_group_sizze_72177",
                                  "mainzisegred_group_sizze_73727",
                                  "mainzisegred_group_sizze_73815",
                                  "mainzisegred_group_sizze_75578",
                                  "mainzisegred_group_sizze_75698",
                                  "mainzisegred_num_groups_72118",
                                  "mainzisegred_num_groups_72179",
                                  "mainzisegred_num_groups_73729",
                                  "mainzisegred_num_groups_73817",
                                  "mainzisegred_num_groups_75580",
                                  "mainzisegred_num_groups_75700",
                                  "mainzisegscan_group_sizze_72647",
                                  "mainzisegscan_group_sizze_74330",
                                  "mainzisegscan_group_sizze_76261",
                                  "mainzisegscan_group_sizze_77166",
                                  "mainzisegscan_group_sizze_77763",
                                  "mainzisegscan_group_sizze_78446",
                                  "mainzisegscan_num_groups_72649",
                                  "mainzisegscan_num_groups_74332",
                                  "mainzisegscan_num_groups_76263",
                                  "mainzisegscan_num_groups_77168",
                                  "mainzisegscan_num_groups_77765",
                                  "mainzisegscan_num_groups_78448",
                                  "mainzisuff_outer_par_0",
                                  "mainzisuff_outer_par_1",
                                  "mainzisuff_outer_par_2",
                                  "mainzisuff_outer_par_3",
                                  "mainzisuff_outer_par_4",
                                  "mainzisuff_outer_par_5",
                                  "mainzitile_sizze_79092",
                                  "mainzitile_sizze_79613",
                                  "mainzitile_sizze_80251"};
static const char *size_classes[] = {"group_size", "group_size", "group_size",
                                     "group_size", "group_size", "group_size",
                                     "group_size", "group_size", "group_size",
                                     "group_size", "group_size", "group_size",
                                     "group_size", "group_size", "group_size",
                                     "group_size", "group_size", "group_size",
                                     "group_size", "group_size", "group_size",
                                     "group_size", "group_size", "group_size",
                                     "group_size", "group_size", "group_size",
                                     "group_size", "group_size", "group_size",
                                     "group_size", "group_size", "group_size",
                                     "group_size", "group_size", "group_size",
                                     "num_groups", "num_groups", "num_groups",
                                     "group_size", "group_size", "group_size",
                                     "group_size", "group_size", "group_size",
                                     "num_groups", "num_groups", "num_groups",
                                     "num_groups", "num_groups", "num_groups",
                                     "group_size", "group_size", "group_size",
                                     "group_size", "group_size", "group_size",
                                     "num_groups", "num_groups", "num_groups",
                                     "num_groups", "num_groups", "num_groups",
                                     "threshold(def,)",
                                     "threshold(def, !main.suff_outer_par_0)",
                                     "threshold(def,)",
                                     "threshold(def, !main.suff_outer_par_2)",
                                     "threshold(def,)",
                                     "threshold(def, !main.suff_outer_par_4)",
                                     "tile_size", "tile_size", "tile_size"};
struct sizes {
    int64_t builtinzhreplicate_f32zigroup_sizze_82519;
    int64_t builtinzhreplicate_i64zigroup_sizze_82622;
    int64_t mainzisegmap_group_sizze_71586;
    int64_t mainzisegmap_group_sizze_72167;
    int64_t mainzisegmap_group_sizze_72218;
    int64_t mainzisegmap_group_sizze_72515;
    int64_t mainzisegmap_group_sizze_72534;
    int64_t mainzisegmap_group_sizze_72558;
    int64_t mainzisegmap_group_sizze_72578;
    int64_t mainzisegmap_group_sizze_73105;
    int64_t mainzisegmap_group_sizze_73796;
    int64_t mainzisegmap_group_sizze_73864;
    int64_t mainzisegmap_group_sizze_74198;
    int64_t mainzisegmap_group_sizze_74217;
    int64_t mainzisegmap_group_sizze_74241;
    int64_t mainzisegmap_group_sizze_74261;
    int64_t mainzisegmap_group_sizze_74856;
    int64_t mainzisegmap_group_sizze_75660;
    int64_t mainzisegmap_group_sizze_75755;
    int64_t mainzisegmap_group_sizze_76129;
    int64_t mainzisegmap_group_sizze_76148;
    int64_t mainzisegmap_group_sizze_76172;
    int64_t mainzisegmap_group_sizze_76192;
    int64_t mainzisegmap_group_sizze_77034;
    int64_t mainzisegmap_group_sizze_77053;
    int64_t mainzisegmap_group_sizze_77077;
    int64_t mainzisegmap_group_sizze_77097;
    int64_t mainzisegmap_group_sizze_77631;
    int64_t mainzisegmap_group_sizze_77650;
    int64_t mainzisegmap_group_sizze_77674;
    int64_t mainzisegmap_group_sizze_77694;
    int64_t mainzisegmap_group_sizze_78314;
    int64_t mainzisegmap_group_sizze_78333;
    int64_t mainzisegmap_group_sizze_78357;
    int64_t mainzisegmap_group_sizze_78377;
    int64_t mainzisegmap_group_sizze_78781;
    int64_t mainzisegmap_num_groups_71588;
    int64_t mainzisegmap_num_groups_73107;
    int64_t mainzisegmap_num_groups_74858;
    int64_t mainzisegred_group_sizze_72116;
    int64_t mainzisegred_group_sizze_72177;
    int64_t mainzisegred_group_sizze_73727;
    int64_t mainzisegred_group_sizze_73815;
    int64_t mainzisegred_group_sizze_75578;
    int64_t mainzisegred_group_sizze_75698;
    int64_t mainzisegred_num_groups_72118;
    int64_t mainzisegred_num_groups_72179;
    int64_t mainzisegred_num_groups_73729;
    int64_t mainzisegred_num_groups_73817;
    int64_t mainzisegred_num_groups_75580;
    int64_t mainzisegred_num_groups_75700;
    int64_t mainzisegscan_group_sizze_72647;
    int64_t mainzisegscan_group_sizze_74330;
    int64_t mainzisegscan_group_sizze_76261;
    int64_t mainzisegscan_group_sizze_77166;
    int64_t mainzisegscan_group_sizze_77763;
    int64_t mainzisegscan_group_sizze_78446;
    int64_t mainzisegscan_num_groups_72649;
    int64_t mainzisegscan_num_groups_74332;
    int64_t mainzisegscan_num_groups_76263;
    int64_t mainzisegscan_num_groups_77168;
    int64_t mainzisegscan_num_groups_77765;
    int64_t mainzisegscan_num_groups_78448;
    int64_t mainzisuff_outer_par_0;
    int64_t mainzisuff_outer_par_1;
    int64_t mainzisuff_outer_par_2;
    int64_t mainzisuff_outer_par_3;
    int64_t mainzisuff_outer_par_4;
    int64_t mainzisuff_outer_par_5;
    int64_t mainzitile_sizze_79092;
    int64_t mainzitile_sizze_79613;
    int64_t mainzitile_sizze_80251;
};
struct futhark_context_config {
    struct opencl_config opencl;
    int64_t sizes[72];
    int num_build_opts;
    const char **build_opts;
};
struct futhark_context_config *futhark_context_config_new(void)
{
    struct futhark_context_config *cfg =
                                  (struct futhark_context_config *) malloc(sizeof(struct futhark_context_config));
    
    if (cfg == NULL)
        return NULL;
    cfg->num_build_opts = 0;
    cfg->build_opts = (const char **) malloc(sizeof(const char *));
    cfg->build_opts[0] = NULL;
    cfg->sizes[0] = 0;
    cfg->sizes[1] = 0;
    cfg->sizes[2] = 0;
    cfg->sizes[3] = 0;
    cfg->sizes[4] = 0;
    cfg->sizes[5] = 0;
    cfg->sizes[6] = 0;
    cfg->sizes[7] = 0;
    cfg->sizes[8] = 0;
    cfg->sizes[9] = 0;
    cfg->sizes[10] = 0;
    cfg->sizes[11] = 0;
    cfg->sizes[12] = 0;
    cfg->sizes[13] = 0;
    cfg->sizes[14] = 0;
    cfg->sizes[15] = 0;
    cfg->sizes[16] = 0;
    cfg->sizes[17] = 0;
    cfg->sizes[18] = 0;
    cfg->sizes[19] = 0;
    cfg->sizes[20] = 0;
    cfg->sizes[21] = 0;
    cfg->sizes[22] = 0;
    cfg->sizes[23] = 0;
    cfg->sizes[24] = 0;
    cfg->sizes[25] = 0;
    cfg->sizes[26] = 0;
    cfg->sizes[27] = 0;
    cfg->sizes[28] = 0;
    cfg->sizes[29] = 0;
    cfg->sizes[30] = 0;
    cfg->sizes[31] = 0;
    cfg->sizes[32] = 0;
    cfg->sizes[33] = 0;
    cfg->sizes[34] = 0;
    cfg->sizes[35] = 0;
    cfg->sizes[36] = 0;
    cfg->sizes[37] = 0;
    cfg->sizes[38] = 0;
    cfg->sizes[39] = 0;
    cfg->sizes[40] = 0;
    cfg->sizes[41] = 0;
    cfg->sizes[42] = 0;
    cfg->sizes[43] = 0;
    cfg->sizes[44] = 0;
    cfg->sizes[45] = 0;
    cfg->sizes[46] = 0;
    cfg->sizes[47] = 0;
    cfg->sizes[48] = 0;
    cfg->sizes[49] = 0;
    cfg->sizes[50] = 0;
    cfg->sizes[51] = 0;
    cfg->sizes[52] = 0;
    cfg->sizes[53] = 0;
    cfg->sizes[54] = 0;
    cfg->sizes[55] = 0;
    cfg->sizes[56] = 0;
    cfg->sizes[57] = 0;
    cfg->sizes[58] = 0;
    cfg->sizes[59] = 0;
    cfg->sizes[60] = 0;
    cfg->sizes[61] = 0;
    cfg->sizes[62] = 0;
    cfg->sizes[63] = 0;
    cfg->sizes[64] = 0;
    cfg->sizes[65] = 0;
    cfg->sizes[66] = 0;
    cfg->sizes[67] = 0;
    cfg->sizes[68] = 0;
    cfg->sizes[69] = 0;
    cfg->sizes[70] = 0;
    cfg->sizes[71] = 0;
    opencl_config_init(&cfg->opencl, 72, size_names, size_vars, cfg->sizes,
                       size_classes);
    return cfg;
}
void futhark_context_config_free(struct futhark_context_config *cfg)
{
    free(cfg->build_opts);
    free(cfg);
}
void futhark_context_config_add_build_option(struct futhark_context_config *cfg,
                                             const char *opt)
{
    cfg->build_opts[cfg->num_build_opts] = opt;
    cfg->num_build_opts++;
    cfg->build_opts = (const char **) realloc(cfg->build_opts,
                                              (cfg->num_build_opts + 1) *
                                              sizeof(const char *));
    cfg->build_opts[cfg->num_build_opts] = NULL;
}
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int flag)
{
    cfg->opencl.profiling = cfg->opencl.logging = cfg->opencl.debugging = flag;
}
void futhark_context_config_set_profiling(struct futhark_context_config *cfg,
                                          int flag)
{
    cfg->opencl.profiling = flag;
}
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int flag)
{
    cfg->opencl.logging = flag;
}
void futhark_context_config_set_device(struct futhark_context_config *cfg, const
                                       char *s)
{
    set_preferred_device(&cfg->opencl, s);
}
void futhark_context_config_set_platform(struct futhark_context_config *cfg,
                                         const char *s)
{
    set_preferred_platform(&cfg->opencl, s);
}
void futhark_context_config_select_device_interactively(struct futhark_context_config *cfg)
{
    select_device_interactively(&cfg->opencl);
}
void futhark_context_config_list_devices(struct futhark_context_config *cfg)
{
    (void) cfg;
    list_devices();
}
void futhark_context_config_dump_program_to(struct futhark_context_config *cfg,
                                            const char *path)
{
    cfg->opencl.dump_program_to = path;
}
void futhark_context_config_load_program_from(struct futhark_context_config *cfg,
                                              const char *path)
{
    cfg->opencl.load_program_from = path;
}
void futhark_context_config_dump_binary_to(struct futhark_context_config *cfg,
                                           const char *path)
{
    cfg->opencl.dump_binary_to = path;
}
void futhark_context_config_load_binary_from(struct futhark_context_config *cfg,
                                             const char *path)
{
    cfg->opencl.load_binary_from = path;
}
void futhark_context_config_set_default_group_size(struct futhark_context_config *cfg,
                                                   int size)
{
    cfg->opencl.default_group_size = size;
    cfg->opencl.default_group_size_changed = 1;
}
void futhark_context_config_set_default_num_groups(struct futhark_context_config *cfg,
                                                   int num)
{
    cfg->opencl.default_num_groups = num;
}
void futhark_context_config_set_default_tile_size(struct futhark_context_config *cfg,
                                                  int size)
{
    cfg->opencl.default_tile_size = size;
    cfg->opencl.default_tile_size_changed = 1;
}
void futhark_context_config_set_default_reg_tile_size(struct futhark_context_config *cfg,
                                                      int size)
{
    cfg->opencl.default_reg_tile_size = size;
}
void futhark_context_config_set_default_threshold(struct futhark_context_config *cfg,
                                                  int size)
{
    cfg->opencl.default_threshold = size;
}
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value)
{
    for (int i = 0; i < 72; i++) {
        if (strcmp(size_name, size_names[i]) == 0) {
            cfg->sizes[i] = size_value;
            return 0;
        }
    }
    if (strcmp(size_name, "default_group_size") == 0) {
        cfg->opencl.default_group_size = size_value;
        return 0;
    }
    if (strcmp(size_name, "default_num_groups") == 0) {
        cfg->opencl.default_num_groups = size_value;
        return 0;
    }
    if (strcmp(size_name, "default_threshold") == 0) {
        cfg->opencl.default_threshold = size_value;
        return 0;
    }
    if (strcmp(size_name, "default_tile_size") == 0) {
        cfg->opencl.default_tile_size = size_value;
        return 0;
    }
    if (strcmp(size_name, "default_reg_tile_size") == 0) {
        cfg->opencl.default_reg_tile_size = size_value;
        return 0;
    }
    return 1;
}
struct futhark_context {
    int detail_memory;
    int debugging;
    int profiling;
    int profiling_paused;
    int logging;
    lock_t lock;
    char *error;
    FILE *log;
    int64_t peak_mem_usage_device;
    int64_t cur_mem_usage_device;
    int64_t peak_mem_usage_default;
    int64_t cur_mem_usage_default;
    struct {
        int dummy;
    } constants;
    struct memblock_device mainzicounter_mem_82744;
    struct memblock_device mainzicounter_mem_82822;
    struct memblock_device mainzicounter_mem_83100;
    struct memblock_device mainzicounter_mem_83197;
    struct memblock_device mainzicounter_mem_83507;
    struct memblock_device mainzicounter_mem_83616;
    int total_runs;
    long total_runtime;
    cl_kernel builtinzhreplicate_f32zireplicate_82516;
    cl_kernel builtinzhreplicate_i64zireplicate_82619;
    cl_kernel gpu_map_transpose_f32;
    cl_kernel gpu_map_transpose_f32_low_height;
    cl_kernel gpu_map_transpose_f32_low_width;
    cl_kernel gpu_map_transpose_f32_small;
    cl_kernel mainziscan_stage1_72653;
    cl_kernel mainziscan_stage1_74336;
    cl_kernel mainziscan_stage1_76267;
    cl_kernel mainziscan_stage1_77172;
    cl_kernel mainziscan_stage1_77769;
    cl_kernel mainziscan_stage1_78452;
    cl_kernel mainziscan_stage2_72653;
    cl_kernel mainziscan_stage2_74336;
    cl_kernel mainziscan_stage2_76267;
    cl_kernel mainziscan_stage2_77172;
    cl_kernel mainziscan_stage2_77769;
    cl_kernel mainziscan_stage2_78452;
    cl_kernel mainziscan_stage3_72653;
    cl_kernel mainziscan_stage3_74336;
    cl_kernel mainziscan_stage3_76267;
    cl_kernel mainziscan_stage3_77172;
    cl_kernel mainziscan_stage3_77769;
    cl_kernel mainziscan_stage3_78452;
    cl_kernel mainzisegmap_71584;
    cl_kernel mainzisegmap_72164;
    cl_kernel mainzisegmap_72215;
    cl_kernel mainzisegmap_72512;
    cl_kernel mainzisegmap_72532;
    cl_kernel mainzisegmap_72555;
    cl_kernel mainzisegmap_72575;
    cl_kernel mainzisegmap_73103;
    cl_kernel mainzisegmap_73793;
    cl_kernel mainzisegmap_73861;
    cl_kernel mainzisegmap_74195;
    cl_kernel mainzisegmap_74215;
    cl_kernel mainzisegmap_74238;
    cl_kernel mainzisegmap_74258;
    cl_kernel mainzisegmap_74854;
    cl_kernel mainzisegmap_75657;
    cl_kernel mainzisegmap_75752;
    cl_kernel mainzisegmap_76126;
    cl_kernel mainzisegmap_76146;
    cl_kernel mainzisegmap_76169;
    cl_kernel mainzisegmap_76189;
    cl_kernel mainzisegmap_77031;
    cl_kernel mainzisegmap_77051;
    cl_kernel mainzisegmap_77074;
    cl_kernel mainzisegmap_77094;
    cl_kernel mainzisegmap_77628;
    cl_kernel mainzisegmap_77648;
    cl_kernel mainzisegmap_77671;
    cl_kernel mainzisegmap_77691;
    cl_kernel mainzisegmap_78311;
    cl_kernel mainzisegmap_78331;
    cl_kernel mainzisegmap_78354;
    cl_kernel mainzisegmap_78374;
    cl_kernel mainzisegmap_78778;
    cl_kernel mainzisegmap_intragroup_76884;
    cl_kernel mainzisegmap_intragroup_77451;
    cl_kernel mainzisegmap_intragroup_78098;
    cl_kernel mainzisegmap_intragroup_79098;
    cl_kernel mainzisegmap_intragroup_79619;
    cl_kernel mainzisegmap_intragroup_80257;
    cl_kernel mainzisegred_large_72122;
    cl_kernel mainzisegred_large_72183;
    cl_kernel mainzisegred_large_73733;
    cl_kernel mainzisegred_large_73821;
    cl_kernel mainzisegred_large_75584;
    cl_kernel mainzisegred_large_75704;
    cl_kernel mainzisegred_small_72122;
    cl_kernel mainzisegred_small_72183;
    cl_kernel mainzisegred_small_73733;
    cl_kernel mainzisegred_small_73821;
    cl_kernel mainzisegred_small_75584;
    cl_kernel mainzisegred_small_75704;
    int64_t copy_dev_to_dev_total_runtime;
    int copy_dev_to_dev_runs;
    int64_t copy_dev_to_host_total_runtime;
    int copy_dev_to_host_runs;
    int64_t copy_host_to_dev_total_runtime;
    int copy_host_to_dev_runs;
    int64_t copy_scalar_to_dev_total_runtime;
    int copy_scalar_to_dev_runs;
    int64_t copy_scalar_from_dev_total_runtime;
    int copy_scalar_from_dev_runs;
    int64_t builtinzhreplicate_f32zireplicate_82516_total_runtime;
    int builtinzhreplicate_f32zireplicate_82516_runs;
    int64_t builtinzhreplicate_i64zireplicate_82619_total_runtime;
    int builtinzhreplicate_i64zireplicate_82619_runs;
    int64_t gpu_map_transpose_f32_total_runtime;
    int gpu_map_transpose_f32_runs;
    int64_t gpu_map_transpose_f32_low_height_total_runtime;
    int gpu_map_transpose_f32_low_height_runs;
    int64_t gpu_map_transpose_f32_low_width_total_runtime;
    int gpu_map_transpose_f32_low_width_runs;
    int64_t gpu_map_transpose_f32_small_total_runtime;
    int gpu_map_transpose_f32_small_runs;
    int64_t mainziscan_stage1_72653_total_runtime;
    int mainziscan_stage1_72653_runs;
    int64_t mainziscan_stage1_74336_total_runtime;
    int mainziscan_stage1_74336_runs;
    int64_t mainziscan_stage1_76267_total_runtime;
    int mainziscan_stage1_76267_runs;
    int64_t mainziscan_stage1_77172_total_runtime;
    int mainziscan_stage1_77172_runs;
    int64_t mainziscan_stage1_77769_total_runtime;
    int mainziscan_stage1_77769_runs;
    int64_t mainziscan_stage1_78452_total_runtime;
    int mainziscan_stage1_78452_runs;
    int64_t mainziscan_stage2_72653_total_runtime;
    int mainziscan_stage2_72653_runs;
    int64_t mainziscan_stage2_74336_total_runtime;
    int mainziscan_stage2_74336_runs;
    int64_t mainziscan_stage2_76267_total_runtime;
    int mainziscan_stage2_76267_runs;
    int64_t mainziscan_stage2_77172_total_runtime;
    int mainziscan_stage2_77172_runs;
    int64_t mainziscan_stage2_77769_total_runtime;
    int mainziscan_stage2_77769_runs;
    int64_t mainziscan_stage2_78452_total_runtime;
    int mainziscan_stage2_78452_runs;
    int64_t mainziscan_stage3_72653_total_runtime;
    int mainziscan_stage3_72653_runs;
    int64_t mainziscan_stage3_74336_total_runtime;
    int mainziscan_stage3_74336_runs;
    int64_t mainziscan_stage3_76267_total_runtime;
    int mainziscan_stage3_76267_runs;
    int64_t mainziscan_stage3_77172_total_runtime;
    int mainziscan_stage3_77172_runs;
    int64_t mainziscan_stage3_77769_total_runtime;
    int mainziscan_stage3_77769_runs;
    int64_t mainziscan_stage3_78452_total_runtime;
    int mainziscan_stage3_78452_runs;
    int64_t mainzisegmap_71584_total_runtime;
    int mainzisegmap_71584_runs;
    int64_t mainzisegmap_72164_total_runtime;
    int mainzisegmap_72164_runs;
    int64_t mainzisegmap_72215_total_runtime;
    int mainzisegmap_72215_runs;
    int64_t mainzisegmap_72512_total_runtime;
    int mainzisegmap_72512_runs;
    int64_t mainzisegmap_72532_total_runtime;
    int mainzisegmap_72532_runs;
    int64_t mainzisegmap_72555_total_runtime;
    int mainzisegmap_72555_runs;
    int64_t mainzisegmap_72575_total_runtime;
    int mainzisegmap_72575_runs;
    int64_t mainzisegmap_73103_total_runtime;
    int mainzisegmap_73103_runs;
    int64_t mainzisegmap_73793_total_runtime;
    int mainzisegmap_73793_runs;
    int64_t mainzisegmap_73861_total_runtime;
    int mainzisegmap_73861_runs;
    int64_t mainzisegmap_74195_total_runtime;
    int mainzisegmap_74195_runs;
    int64_t mainzisegmap_74215_total_runtime;
    int mainzisegmap_74215_runs;
    int64_t mainzisegmap_74238_total_runtime;
    int mainzisegmap_74238_runs;
    int64_t mainzisegmap_74258_total_runtime;
    int mainzisegmap_74258_runs;
    int64_t mainzisegmap_74854_total_runtime;
    int mainzisegmap_74854_runs;
    int64_t mainzisegmap_75657_total_runtime;
    int mainzisegmap_75657_runs;
    int64_t mainzisegmap_75752_total_runtime;
    int mainzisegmap_75752_runs;
    int64_t mainzisegmap_76126_total_runtime;
    int mainzisegmap_76126_runs;
    int64_t mainzisegmap_76146_total_runtime;
    int mainzisegmap_76146_runs;
    int64_t mainzisegmap_76169_total_runtime;
    int mainzisegmap_76169_runs;
    int64_t mainzisegmap_76189_total_runtime;
    int mainzisegmap_76189_runs;
    int64_t mainzisegmap_77031_total_runtime;
    int mainzisegmap_77031_runs;
    int64_t mainzisegmap_77051_total_runtime;
    int mainzisegmap_77051_runs;
    int64_t mainzisegmap_77074_total_runtime;
    int mainzisegmap_77074_runs;
    int64_t mainzisegmap_77094_total_runtime;
    int mainzisegmap_77094_runs;
    int64_t mainzisegmap_77628_total_runtime;
    int mainzisegmap_77628_runs;
    int64_t mainzisegmap_77648_total_runtime;
    int mainzisegmap_77648_runs;
    int64_t mainzisegmap_77671_total_runtime;
    int mainzisegmap_77671_runs;
    int64_t mainzisegmap_77691_total_runtime;
    int mainzisegmap_77691_runs;
    int64_t mainzisegmap_78311_total_runtime;
    int mainzisegmap_78311_runs;
    int64_t mainzisegmap_78331_total_runtime;
    int mainzisegmap_78331_runs;
    int64_t mainzisegmap_78354_total_runtime;
    int mainzisegmap_78354_runs;
    int64_t mainzisegmap_78374_total_runtime;
    int mainzisegmap_78374_runs;
    int64_t mainzisegmap_78778_total_runtime;
    int mainzisegmap_78778_runs;
    int64_t mainzisegmap_intragroup_76884_total_runtime;
    int mainzisegmap_intragroup_76884_runs;
    int64_t mainzisegmap_intragroup_77451_total_runtime;
    int mainzisegmap_intragroup_77451_runs;
    int64_t mainzisegmap_intragroup_78098_total_runtime;
    int mainzisegmap_intragroup_78098_runs;
    int64_t mainzisegmap_intragroup_79098_total_runtime;
    int mainzisegmap_intragroup_79098_runs;
    int64_t mainzisegmap_intragroup_79619_total_runtime;
    int mainzisegmap_intragroup_79619_runs;
    int64_t mainzisegmap_intragroup_80257_total_runtime;
    int mainzisegmap_intragroup_80257_runs;
    int64_t mainzisegred_large_72122_total_runtime;
    int mainzisegred_large_72122_runs;
    int64_t mainzisegred_large_72183_total_runtime;
    int mainzisegred_large_72183_runs;
    int64_t mainzisegred_large_73733_total_runtime;
    int mainzisegred_large_73733_runs;
    int64_t mainzisegred_large_73821_total_runtime;
    int mainzisegred_large_73821_runs;
    int64_t mainzisegred_large_75584_total_runtime;
    int mainzisegred_large_75584_runs;
    int64_t mainzisegred_large_75704_total_runtime;
    int mainzisegred_large_75704_runs;
    int64_t mainzisegred_small_72122_total_runtime;
    int mainzisegred_small_72122_runs;
    int64_t mainzisegred_small_72183_total_runtime;
    int mainzisegred_small_72183_runs;
    int64_t mainzisegred_small_73733_total_runtime;
    int mainzisegred_small_73733_runs;
    int64_t mainzisegred_small_73821_total_runtime;
    int mainzisegred_small_73821_runs;
    int64_t mainzisegred_small_75584_total_runtime;
    int mainzisegred_small_75584_runs;
    int64_t mainzisegred_small_75704_total_runtime;
    int mainzisegred_small_75704_runs;
    cl_mem global_failure;
    cl_mem global_failure_args;
    struct opencl_context opencl;
    struct sizes sizes;
    cl_int failure_is_an_option;
};
void post_opencl_setup(struct opencl_context *ctx,
                       struct opencl_device_option *option)
{
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name,
                                            "NVIDIA CUDA") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->lockstep_width = 32;
    }
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name,
                                            "AMD Accelerated Parallel Processing") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) ==
        CL_DEVICE_TYPE_GPU) {
        ctx->lockstep_width = 32;
    }
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name, "") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) ==
        CL_DEVICE_TYPE_GPU) {
        ctx->lockstep_width = 1;
    }
    if ((ctx->cfg.default_num_groups == 0 && strstr(option->platform_name,
                                                    "") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        size_t MAX_COMPUTE_UNITS_val = 0;
        
        clGetDeviceInfo(ctx->device, CL_DEVICE_MAX_COMPUTE_UNITS,
                        sizeof(MAX_COMPUTE_UNITS_val), &MAX_COMPUTE_UNITS_val,
                        NULL);
        ctx->cfg.default_num_groups = 4 * MAX_COMPUTE_UNITS_val;
    }
    if ((ctx->cfg.default_group_size == 0 && strstr(option->platform_name,
                                                    "") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_group_size = 256;
    }
    if ((ctx->cfg.default_tile_size == 0 && strstr(option->platform_name, "") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) ==
        CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_tile_size = 32;
    }
    if ((ctx->cfg.default_reg_tile_size == 0 && strstr(option->platform_name,
                                                       "") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_reg_tile_size = 2;
    }
    if ((ctx->cfg.default_threshold == 0 && strstr(option->platform_name, "") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) ==
        CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_threshold = 32768;
    }
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name, "") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) ==
        CL_DEVICE_TYPE_CPU) {
        ctx->lockstep_width = 1;
    }
    if ((ctx->cfg.default_num_groups == 0 && strstr(option->platform_name,
                                                    "") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        size_t MAX_COMPUTE_UNITS_val = 0;
        
        clGetDeviceInfo(ctx->device, CL_DEVICE_MAX_COMPUTE_UNITS,
                        sizeof(MAX_COMPUTE_UNITS_val), &MAX_COMPUTE_UNITS_val,
                        NULL);
        ctx->cfg.default_num_groups = MAX_COMPUTE_UNITS_val;
    }
    if ((ctx->cfg.default_group_size == 0 && strstr(option->platform_name,
                                                    "") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        ctx->cfg.default_group_size = 32;
    }
    if ((ctx->cfg.default_tile_size == 0 && strstr(option->platform_name, "") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) ==
        CL_DEVICE_TYPE_CPU) {
        ctx->cfg.default_tile_size = 4;
    }
    if ((ctx->cfg.default_reg_tile_size == 0 && strstr(option->platform_name,
                                                       "") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        ctx->cfg.default_reg_tile_size = 1;
    }
    if ((ctx->cfg.default_threshold == 0 && strstr(option->platform_name, "") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) ==
        CL_DEVICE_TYPE_CPU) {
        size_t MAX_COMPUTE_UNITS_val = 0;
        
        clGetDeviceInfo(ctx->device, CL_DEVICE_MAX_COMPUTE_UNITS,
                        sizeof(MAX_COMPUTE_UNITS_val), &MAX_COMPUTE_UNITS_val,
                        NULL);
        ctx->cfg.default_threshold = MAX_COMPUTE_UNITS_val;
    }
}
static void init_context_early(struct futhark_context_config *cfg,
                               struct futhark_context *ctx)
{
    ctx->opencl.cfg = cfg->opencl;
    ctx->detail_memory = cfg->opencl.debugging;
    ctx->debugging = cfg->opencl.debugging;
    ctx->profiling = cfg->opencl.profiling;
    ctx->profiling_paused = 0;
    ctx->logging = cfg->opencl.logging;
    ctx->error = NULL;
    ctx->log = stderr;
    ctx->opencl.profiling_records_capacity = 200;
    ctx->opencl.profiling_records_used = 0;
    ctx->opencl.profiling_records =
        malloc(ctx->opencl.profiling_records_capacity *
        sizeof(struct profiling_record));
    create_lock(&ctx->lock);
    ctx->failure_is_an_option = 0;
    ctx->peak_mem_usage_device = 0;
    ctx->cur_mem_usage_device = 0;
    ctx->peak_mem_usage_default = 0;
    ctx->cur_mem_usage_default = 0;
    ctx->total_runs = 0;
    ctx->total_runtime = 0;
    ctx->copy_dev_to_dev_total_runtime = 0;
    ctx->copy_dev_to_dev_runs = 0;
    ctx->copy_dev_to_host_total_runtime = 0;
    ctx->copy_dev_to_host_runs = 0;
    ctx->copy_host_to_dev_total_runtime = 0;
    ctx->copy_host_to_dev_runs = 0;
    ctx->copy_scalar_to_dev_total_runtime = 0;
    ctx->copy_scalar_to_dev_runs = 0;
    ctx->copy_scalar_from_dev_total_runtime = 0;
    ctx->copy_scalar_from_dev_runs = 0;
    ctx->builtinzhreplicate_f32zireplicate_82516_total_runtime = 0;
    ctx->builtinzhreplicate_f32zireplicate_82516_runs = 0;
    ctx->builtinzhreplicate_i64zireplicate_82619_total_runtime = 0;
    ctx->builtinzhreplicate_i64zireplicate_82619_runs = 0;
    ctx->gpu_map_transpose_f32_total_runtime = 0;
    ctx->gpu_map_transpose_f32_runs = 0;
    ctx->gpu_map_transpose_f32_low_height_total_runtime = 0;
    ctx->gpu_map_transpose_f32_low_height_runs = 0;
    ctx->gpu_map_transpose_f32_low_width_total_runtime = 0;
    ctx->gpu_map_transpose_f32_low_width_runs = 0;
    ctx->gpu_map_transpose_f32_small_total_runtime = 0;
    ctx->gpu_map_transpose_f32_small_runs = 0;
    ctx->mainziscan_stage1_72653_total_runtime = 0;
    ctx->mainziscan_stage1_72653_runs = 0;
    ctx->mainziscan_stage1_74336_total_runtime = 0;
    ctx->mainziscan_stage1_74336_runs = 0;
    ctx->mainziscan_stage1_76267_total_runtime = 0;
    ctx->mainziscan_stage1_76267_runs = 0;
    ctx->mainziscan_stage1_77172_total_runtime = 0;
    ctx->mainziscan_stage1_77172_runs = 0;
    ctx->mainziscan_stage1_77769_total_runtime = 0;
    ctx->mainziscan_stage1_77769_runs = 0;
    ctx->mainziscan_stage1_78452_total_runtime = 0;
    ctx->mainziscan_stage1_78452_runs = 0;
    ctx->mainziscan_stage2_72653_total_runtime = 0;
    ctx->mainziscan_stage2_72653_runs = 0;
    ctx->mainziscan_stage2_74336_total_runtime = 0;
    ctx->mainziscan_stage2_74336_runs = 0;
    ctx->mainziscan_stage2_76267_total_runtime = 0;
    ctx->mainziscan_stage2_76267_runs = 0;
    ctx->mainziscan_stage2_77172_total_runtime = 0;
    ctx->mainziscan_stage2_77172_runs = 0;
    ctx->mainziscan_stage2_77769_total_runtime = 0;
    ctx->mainziscan_stage2_77769_runs = 0;
    ctx->mainziscan_stage2_78452_total_runtime = 0;
    ctx->mainziscan_stage2_78452_runs = 0;
    ctx->mainziscan_stage3_72653_total_runtime = 0;
    ctx->mainziscan_stage3_72653_runs = 0;
    ctx->mainziscan_stage3_74336_total_runtime = 0;
    ctx->mainziscan_stage3_74336_runs = 0;
    ctx->mainziscan_stage3_76267_total_runtime = 0;
    ctx->mainziscan_stage3_76267_runs = 0;
    ctx->mainziscan_stage3_77172_total_runtime = 0;
    ctx->mainziscan_stage3_77172_runs = 0;
    ctx->mainziscan_stage3_77769_total_runtime = 0;
    ctx->mainziscan_stage3_77769_runs = 0;
    ctx->mainziscan_stage3_78452_total_runtime = 0;
    ctx->mainziscan_stage3_78452_runs = 0;
    ctx->mainzisegmap_71584_total_runtime = 0;
    ctx->mainzisegmap_71584_runs = 0;
    ctx->mainzisegmap_72164_total_runtime = 0;
    ctx->mainzisegmap_72164_runs = 0;
    ctx->mainzisegmap_72215_total_runtime = 0;
    ctx->mainzisegmap_72215_runs = 0;
    ctx->mainzisegmap_72512_total_runtime = 0;
    ctx->mainzisegmap_72512_runs = 0;
    ctx->mainzisegmap_72532_total_runtime = 0;
    ctx->mainzisegmap_72532_runs = 0;
    ctx->mainzisegmap_72555_total_runtime = 0;
    ctx->mainzisegmap_72555_runs = 0;
    ctx->mainzisegmap_72575_total_runtime = 0;
    ctx->mainzisegmap_72575_runs = 0;
    ctx->mainzisegmap_73103_total_runtime = 0;
    ctx->mainzisegmap_73103_runs = 0;
    ctx->mainzisegmap_73793_total_runtime = 0;
    ctx->mainzisegmap_73793_runs = 0;
    ctx->mainzisegmap_73861_total_runtime = 0;
    ctx->mainzisegmap_73861_runs = 0;
    ctx->mainzisegmap_74195_total_runtime = 0;
    ctx->mainzisegmap_74195_runs = 0;
    ctx->mainzisegmap_74215_total_runtime = 0;
    ctx->mainzisegmap_74215_runs = 0;
    ctx->mainzisegmap_74238_total_runtime = 0;
    ctx->mainzisegmap_74238_runs = 0;
    ctx->mainzisegmap_74258_total_runtime = 0;
    ctx->mainzisegmap_74258_runs = 0;
    ctx->mainzisegmap_74854_total_runtime = 0;
    ctx->mainzisegmap_74854_runs = 0;
    ctx->mainzisegmap_75657_total_runtime = 0;
    ctx->mainzisegmap_75657_runs = 0;
    ctx->mainzisegmap_75752_total_runtime = 0;
    ctx->mainzisegmap_75752_runs = 0;
    ctx->mainzisegmap_76126_total_runtime = 0;
    ctx->mainzisegmap_76126_runs = 0;
    ctx->mainzisegmap_76146_total_runtime = 0;
    ctx->mainzisegmap_76146_runs = 0;
    ctx->mainzisegmap_76169_total_runtime = 0;
    ctx->mainzisegmap_76169_runs = 0;
    ctx->mainzisegmap_76189_total_runtime = 0;
    ctx->mainzisegmap_76189_runs = 0;
    ctx->mainzisegmap_77031_total_runtime = 0;
    ctx->mainzisegmap_77031_runs = 0;
    ctx->mainzisegmap_77051_total_runtime = 0;
    ctx->mainzisegmap_77051_runs = 0;
    ctx->mainzisegmap_77074_total_runtime = 0;
    ctx->mainzisegmap_77074_runs = 0;
    ctx->mainzisegmap_77094_total_runtime = 0;
    ctx->mainzisegmap_77094_runs = 0;
    ctx->mainzisegmap_77628_total_runtime = 0;
    ctx->mainzisegmap_77628_runs = 0;
    ctx->mainzisegmap_77648_total_runtime = 0;
    ctx->mainzisegmap_77648_runs = 0;
    ctx->mainzisegmap_77671_total_runtime = 0;
    ctx->mainzisegmap_77671_runs = 0;
    ctx->mainzisegmap_77691_total_runtime = 0;
    ctx->mainzisegmap_77691_runs = 0;
    ctx->mainzisegmap_78311_total_runtime = 0;
    ctx->mainzisegmap_78311_runs = 0;
    ctx->mainzisegmap_78331_total_runtime = 0;
    ctx->mainzisegmap_78331_runs = 0;
    ctx->mainzisegmap_78354_total_runtime = 0;
    ctx->mainzisegmap_78354_runs = 0;
    ctx->mainzisegmap_78374_total_runtime = 0;
    ctx->mainzisegmap_78374_runs = 0;
    ctx->mainzisegmap_78778_total_runtime = 0;
    ctx->mainzisegmap_78778_runs = 0;
    ctx->mainzisegmap_intragroup_76884_total_runtime = 0;
    ctx->mainzisegmap_intragroup_76884_runs = 0;
    ctx->mainzisegmap_intragroup_77451_total_runtime = 0;
    ctx->mainzisegmap_intragroup_77451_runs = 0;
    ctx->mainzisegmap_intragroup_78098_total_runtime = 0;
    ctx->mainzisegmap_intragroup_78098_runs = 0;
    ctx->mainzisegmap_intragroup_79098_total_runtime = 0;
    ctx->mainzisegmap_intragroup_79098_runs = 0;
    ctx->mainzisegmap_intragroup_79619_total_runtime = 0;
    ctx->mainzisegmap_intragroup_79619_runs = 0;
    ctx->mainzisegmap_intragroup_80257_total_runtime = 0;
    ctx->mainzisegmap_intragroup_80257_runs = 0;
    ctx->mainzisegred_large_72122_total_runtime = 0;
    ctx->mainzisegred_large_72122_runs = 0;
    ctx->mainzisegred_large_72183_total_runtime = 0;
    ctx->mainzisegred_large_72183_runs = 0;
    ctx->mainzisegred_large_73733_total_runtime = 0;
    ctx->mainzisegred_large_73733_runs = 0;
    ctx->mainzisegred_large_73821_total_runtime = 0;
    ctx->mainzisegred_large_73821_runs = 0;
    ctx->mainzisegred_large_75584_total_runtime = 0;
    ctx->mainzisegred_large_75584_runs = 0;
    ctx->mainzisegred_large_75704_total_runtime = 0;
    ctx->mainzisegred_large_75704_runs = 0;
    ctx->mainzisegred_small_72122_total_runtime = 0;
    ctx->mainzisegred_small_72122_runs = 0;
    ctx->mainzisegred_small_72183_total_runtime = 0;
    ctx->mainzisegred_small_72183_runs = 0;
    ctx->mainzisegred_small_73733_total_runtime = 0;
    ctx->mainzisegred_small_73733_runs = 0;
    ctx->mainzisegred_small_73821_total_runtime = 0;
    ctx->mainzisegred_small_73821_runs = 0;
    ctx->mainzisegred_small_75584_total_runtime = 0;
    ctx->mainzisegred_small_75584_runs = 0;
    ctx->mainzisegred_small_75704_total_runtime = 0;
    ctx->mainzisegred_small_75704_runs = 0;
}
static int init_context_late(struct futhark_context_config *cfg,
                             struct futhark_context *ctx, cl_program prog)
{
    cl_int error;
    cl_int no_error = -1;
    
    ctx->global_failure = clCreateBuffer(ctx->opencl.ctx, CL_MEM_READ_WRITE |
                                         CL_MEM_COPY_HOST_PTR, sizeof(cl_int),
                                         &no_error, &error);
    OPENCL_SUCCEED_OR_RETURN(error);
    // The +1 is to avoid zero-byte allocations.
    ctx->global_failure_args = clCreateBuffer(ctx->opencl.ctx,
                                              CL_MEM_READ_WRITE,
                                              sizeof(int64_t) * (2 + 1), NULL,
                                              &error);
    OPENCL_SUCCEED_OR_RETURN(error);
    {
        ctx->builtinzhreplicate_f32zireplicate_82516 = clCreateKernel(prog,
                                                                      "builtinzhreplicate_f32zireplicate_82516",
                                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "builtin#replicate_f32.replicate_82516");
    }
    {
        ctx->builtinzhreplicate_i64zireplicate_82619 = clCreateKernel(prog,
                                                                      "builtinzhreplicate_i64zireplicate_82619",
                                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "builtin#replicate_i64.replicate_82619");
    }
    {
        ctx->gpu_map_transpose_f32 = clCreateKernel(prog,
                                                    "gpu_map_transpose_f32",
                                                    &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_f32");
    }
    {
        ctx->gpu_map_transpose_f32_low_height = clCreateKernel(prog,
                                                               "gpu_map_transpose_f32_low_height",
                                                               &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "gpu_map_transpose_f32_low_height");
    }
    {
        ctx->gpu_map_transpose_f32_low_width = clCreateKernel(prog,
                                                              "gpu_map_transpose_f32_low_width",
                                                              &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "gpu_map_transpose_f32_low_width");
    }
    {
        ctx->gpu_map_transpose_f32_small = clCreateKernel(prog,
                                                          "gpu_map_transpose_f32_small",
                                                          &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "gpu_map_transpose_f32_small");
    }
    {
        ctx->mainziscan_stage1_72653 = clCreateKernel(prog,
                                                      "mainziscan_stage1_72653",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_72653, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage1_72653");
    }
    {
        ctx->mainziscan_stage1_74336 = clCreateKernel(prog,
                                                      "mainziscan_stage1_74336",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_74336, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage1_74336");
    }
    {
        ctx->mainziscan_stage1_76267 = clCreateKernel(prog,
                                                      "mainziscan_stage1_76267",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_76267, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage1_76267");
    }
    {
        ctx->mainziscan_stage1_77172 = clCreateKernel(prog,
                                                      "mainziscan_stage1_77172",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_77172, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage1_77172");
    }
    {
        ctx->mainziscan_stage1_77769 = clCreateKernel(prog,
                                                      "mainziscan_stage1_77769",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_77769, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage1_77769");
    }
    {
        ctx->mainziscan_stage1_78452 = clCreateKernel(prog,
                                                      "mainziscan_stage1_78452",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_78452, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage1_78452");
    }
    {
        ctx->mainziscan_stage2_72653 = clCreateKernel(prog,
                                                      "mainziscan_stage2_72653",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_72653, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage2_72653");
    }
    {
        ctx->mainziscan_stage2_74336 = clCreateKernel(prog,
                                                      "mainziscan_stage2_74336",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_74336, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage2_74336");
    }
    {
        ctx->mainziscan_stage2_76267 = clCreateKernel(prog,
                                                      "mainziscan_stage2_76267",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_76267, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage2_76267");
    }
    {
        ctx->mainziscan_stage2_77172 = clCreateKernel(prog,
                                                      "mainziscan_stage2_77172",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_77172, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage2_77172");
    }
    {
        ctx->mainziscan_stage2_77769 = clCreateKernel(prog,
                                                      "mainziscan_stage2_77769",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_77769, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage2_77769");
    }
    {
        ctx->mainziscan_stage2_78452 = clCreateKernel(prog,
                                                      "mainziscan_stage2_78452",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_78452, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage2_78452");
    }
    {
        ctx->mainziscan_stage3_72653 = clCreateKernel(prog,
                                                      "mainziscan_stage3_72653",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_72653, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage3_72653");
    }
    {
        ctx->mainziscan_stage3_74336 = clCreateKernel(prog,
                                                      "mainziscan_stage3_74336",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_74336, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage3_74336");
    }
    {
        ctx->mainziscan_stage3_76267 = clCreateKernel(prog,
                                                      "mainziscan_stage3_76267",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_76267, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage3_76267");
    }
    {
        ctx->mainziscan_stage3_77172 = clCreateKernel(prog,
                                                      "mainziscan_stage3_77172",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_77172, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage3_77172");
    }
    {
        ctx->mainziscan_stage3_77769 = clCreateKernel(prog,
                                                      "mainziscan_stage3_77769",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_77769, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage3_77769");
    }
    {
        ctx->mainziscan_stage3_78452 = clCreateKernel(prog,
                                                      "mainziscan_stage3_78452",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_78452, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage3_78452");
    }
    {
        ctx->mainzisegmap_71584 = clCreateKernel(prog, "mainzisegmap_71584",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_71584, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_71584, 2,
                                            sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_71584");
    }
    {
        ctx->mainzisegmap_72164 = clCreateKernel(prog, "mainzisegmap_72164",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_72164, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_72164");
    }
    {
        ctx->mainzisegmap_72215 = clCreateKernel(prog, "mainzisegmap_72215",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_72215, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_72215, 2,
                                            sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_72215");
    }
    {
        ctx->mainzisegmap_72512 = clCreateKernel(prog, "mainzisegmap_72512",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_72512, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_72512");
    }
    {
        ctx->mainzisegmap_72532 = clCreateKernel(prog, "mainzisegmap_72532",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_72532, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_72532");
    }
    {
        ctx->mainzisegmap_72555 = clCreateKernel(prog, "mainzisegmap_72555",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_72555, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_72555");
    }
    {
        ctx->mainzisegmap_72575 = clCreateKernel(prog, "mainzisegmap_72575",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_72575, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_72575");
    }
    {
        ctx->mainzisegmap_73103 = clCreateKernel(prog, "mainzisegmap_73103",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_73103, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_73103, 2,
                                            sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_73103");
    }
    {
        ctx->mainzisegmap_73793 = clCreateKernel(prog, "mainzisegmap_73793",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_73793, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_73793");
    }
    {
        ctx->mainzisegmap_73861 = clCreateKernel(prog, "mainzisegmap_73861",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_73861, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_73861, 2,
                                            sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_73861");
    }
    {
        ctx->mainzisegmap_74195 = clCreateKernel(prog, "mainzisegmap_74195",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_74195, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_74195");
    }
    {
        ctx->mainzisegmap_74215 = clCreateKernel(prog, "mainzisegmap_74215",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_74215, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_74215");
    }
    {
        ctx->mainzisegmap_74238 = clCreateKernel(prog, "mainzisegmap_74238",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_74238, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_74238");
    }
    {
        ctx->mainzisegmap_74258 = clCreateKernel(prog, "mainzisegmap_74258",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_74258, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_74258");
    }
    {
        ctx->mainzisegmap_74854 = clCreateKernel(prog, "mainzisegmap_74854",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_74854, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_74854, 2,
                                            sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_74854");
    }
    {
        ctx->mainzisegmap_75657 = clCreateKernel(prog, "mainzisegmap_75657",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_75657, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_75657");
    }
    {
        ctx->mainzisegmap_75752 = clCreateKernel(prog, "mainzisegmap_75752",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_75752, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_75752, 2,
                                            sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_75752");
    }
    {
        ctx->mainzisegmap_76126 = clCreateKernel(prog, "mainzisegmap_76126",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_76126, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_76126");
    }
    {
        ctx->mainzisegmap_76146 = clCreateKernel(prog, "mainzisegmap_76146",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_76146, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_76146");
    }
    {
        ctx->mainzisegmap_76169 = clCreateKernel(prog, "mainzisegmap_76169",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_76169, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_76169");
    }
    {
        ctx->mainzisegmap_76189 = clCreateKernel(prog, "mainzisegmap_76189",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_76189, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_76189");
    }
    {
        ctx->mainzisegmap_77031 = clCreateKernel(prog, "mainzisegmap_77031",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_77031, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_77031");
    }
    {
        ctx->mainzisegmap_77051 = clCreateKernel(prog, "mainzisegmap_77051",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_77051, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_77051");
    }
    {
        ctx->mainzisegmap_77074 = clCreateKernel(prog, "mainzisegmap_77074",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_77074, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_77074");
    }
    {
        ctx->mainzisegmap_77094 = clCreateKernel(prog, "mainzisegmap_77094",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_77094, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_77094");
    }
    {
        ctx->mainzisegmap_77628 = clCreateKernel(prog, "mainzisegmap_77628",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_77628, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_77628");
    }
    {
        ctx->mainzisegmap_77648 = clCreateKernel(prog, "mainzisegmap_77648",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_77648, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_77648");
    }
    {
        ctx->mainzisegmap_77671 = clCreateKernel(prog, "mainzisegmap_77671",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_77671, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_77671");
    }
    {
        ctx->mainzisegmap_77691 = clCreateKernel(prog, "mainzisegmap_77691",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_77691, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_77691");
    }
    {
        ctx->mainzisegmap_78311 = clCreateKernel(prog, "mainzisegmap_78311",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_78311, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_78311");
    }
    {
        ctx->mainzisegmap_78331 = clCreateKernel(prog, "mainzisegmap_78331",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_78331, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_78331");
    }
    {
        ctx->mainzisegmap_78354 = clCreateKernel(prog, "mainzisegmap_78354",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_78354, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_78354");
    }
    {
        ctx->mainzisegmap_78374 = clCreateKernel(prog, "mainzisegmap_78374",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_78374, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_78374");
    }
    {
        ctx->mainzisegmap_78778 = clCreateKernel(prog, "mainzisegmap_78778",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_78778, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_78778, 2,
                                            sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_78778");
    }
    {
        ctx->mainzisegmap_intragroup_76884 = clCreateKernel(prog,
                                                            "mainzisegmap_intragroup_76884",
                                                            &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                            0, sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                            2, sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segmap_intragroup_76884");
    }
    {
        ctx->mainzisegmap_intragroup_77451 = clCreateKernel(prog,
                                                            "mainzisegmap_intragroup_77451",
                                                            &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                            0, sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                            2, sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segmap_intragroup_77451");
    }
    {
        ctx->mainzisegmap_intragroup_78098 = clCreateKernel(prog,
                                                            "mainzisegmap_intragroup_78098",
                                                            &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                            0, sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                            2, sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segmap_intragroup_78098");
    }
    {
        ctx->mainzisegmap_intragroup_79098 = clCreateKernel(prog,
                                                            "mainzisegmap_intragroup_79098",
                                                            &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                            0, sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                            2, sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segmap_intragroup_79098");
    }
    {
        ctx->mainzisegmap_intragroup_79619 = clCreateKernel(prog,
                                                            "mainzisegmap_intragroup_79619",
                                                            &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                            0, sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                            2, sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segmap_intragroup_79619");
    }
    {
        ctx->mainzisegmap_intragroup_80257 = clCreateKernel(prog,
                                                            "mainzisegmap_intragroup_80257",
                                                            &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                            0, sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                            2, sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segmap_intragroup_80257");
    }
    {
        ctx->mainzisegred_large_72122 = clCreateKernel(prog,
                                                       "mainzisegred_large_72122",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_large_72122, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_large_72122");
    }
    {
        ctx->mainzisegred_large_72183 = clCreateKernel(prog,
                                                       "mainzisegred_large_72183",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_large_72183, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_large_72183");
    }
    {
        ctx->mainzisegred_large_73733 = clCreateKernel(prog,
                                                       "mainzisegred_large_73733",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_large_73733, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_large_73733");
    }
    {
        ctx->mainzisegred_large_73821 = clCreateKernel(prog,
                                                       "mainzisegred_large_73821",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_large_73821, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_large_73821");
    }
    {
        ctx->mainzisegred_large_75584 = clCreateKernel(prog,
                                                       "mainzisegred_large_75584",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_large_75584, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_large_75584");
    }
    {
        ctx->mainzisegred_large_75704 = clCreateKernel(prog,
                                                       "mainzisegred_large_75704",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_large_75704, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_large_75704");
    }
    {
        ctx->mainzisegred_small_72122 = clCreateKernel(prog,
                                                       "mainzisegred_small_72122",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_small_72122, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_small_72122");
    }
    {
        ctx->mainzisegred_small_72183 = clCreateKernel(prog,
                                                       "mainzisegred_small_72183",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_small_72183, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_small_72183");
    }
    {
        ctx->mainzisegred_small_73733 = clCreateKernel(prog,
                                                       "mainzisegred_small_73733",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_small_73733, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_small_73733");
    }
    {
        ctx->mainzisegred_small_73821 = clCreateKernel(prog,
                                                       "mainzisegred_small_73821",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_small_73821, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_small_73821");
    }
    {
        ctx->mainzisegred_small_75584 = clCreateKernel(prog,
                                                       "mainzisegred_small_75584",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_small_75584, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_small_75584");
    }
    {
        ctx->mainzisegred_small_75704 = clCreateKernel(prog,
                                                       "mainzisegred_small_75704",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_small_75704, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_small_75704");
    }
    {
        cl_int success;
        
        ctx->mainzicounter_mem_82744.references = NULL;
        ctx->mainzicounter_mem_82744.size = 0;
        ctx->mainzicounter_mem_82744.mem = clCreateBuffer(ctx->opencl.ctx,
                                                          CL_MEM_READ_WRITE,
                                                          (10240 >
                                                           0 ? 10240 : 1) *
                                                          sizeof(int32_t), NULL,
                                                          &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                          ctx->mainzicounter_mem_82744.mem,
                                                          CL_TRUE, 0, 10240 *
                                                          sizeof(int32_t),
                                                          mainzicounter_mem_realtype_84138,
                                                          0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->mainzicounter_mem_82822.references = NULL;
        ctx->mainzicounter_mem_82822.size = 0;
        ctx->mainzicounter_mem_82822.mem = clCreateBuffer(ctx->opencl.ctx,
                                                          CL_MEM_READ_WRITE,
                                                          (10240 >
                                                           0 ? 10240 : 1) *
                                                          sizeof(int32_t), NULL,
                                                          &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                          ctx->mainzicounter_mem_82822.mem,
                                                          CL_TRUE, 0, 10240 *
                                                          sizeof(int32_t),
                                                          mainzicounter_mem_realtype_84154,
                                                          0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->mainzicounter_mem_83100.references = NULL;
        ctx->mainzicounter_mem_83100.size = 0;
        ctx->mainzicounter_mem_83100.mem = clCreateBuffer(ctx->opencl.ctx,
                                                          CL_MEM_READ_WRITE,
                                                          (10240 >
                                                           0 ? 10240 : 1) *
                                                          sizeof(int32_t), NULL,
                                                          &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                          ctx->mainzicounter_mem_83100.mem,
                                                          CL_TRUE, 0, 10240 *
                                                          sizeof(int32_t),
                                                          mainzicounter_mem_realtype_84215,
                                                          0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->mainzicounter_mem_83197.references = NULL;
        ctx->mainzicounter_mem_83197.size = 0;
        ctx->mainzicounter_mem_83197.mem = clCreateBuffer(ctx->opencl.ctx,
                                                          CL_MEM_READ_WRITE,
                                                          (10240 >
                                                           0 ? 10240 : 1) *
                                                          sizeof(int32_t), NULL,
                                                          &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                          ctx->mainzicounter_mem_83197.mem,
                                                          CL_TRUE, 0, 10240 *
                                                          sizeof(int32_t),
                                                          mainzicounter_mem_realtype_84231,
                                                          0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->mainzicounter_mem_83507.references = NULL;
        ctx->mainzicounter_mem_83507.size = 0;
        ctx->mainzicounter_mem_83507.mem = clCreateBuffer(ctx->opencl.ctx,
                                                          CL_MEM_READ_WRITE,
                                                          (10240 >
                                                           0 ? 10240 : 1) *
                                                          sizeof(int32_t), NULL,
                                                          &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                          ctx->mainzicounter_mem_83507.mem,
                                                          CL_TRUE, 0, 10240 *
                                                          sizeof(int32_t),
                                                          mainzicounter_mem_realtype_84292,
                                                          0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->mainzicounter_mem_83616.references = NULL;
        ctx->mainzicounter_mem_83616.size = 0;
        ctx->mainzicounter_mem_83616.mem = clCreateBuffer(ctx->opencl.ctx,
                                                          CL_MEM_READ_WRITE,
                                                          (10240 >
                                                           0 ? 10240 : 1) *
                                                          sizeof(int32_t), NULL,
                                                          &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                          ctx->mainzicounter_mem_83616.mem,
                                                          CL_TRUE, 0, 10240 *
                                                          sizeof(int32_t),
                                                          mainzicounter_mem_realtype_84308,
                                                          0, NULL, NULL));
    }
    ctx->sizes.builtinzhreplicate_f32zigroup_sizze_82519 = cfg->sizes[0];
    ctx->sizes.builtinzhreplicate_i64zigroup_sizze_82622 = cfg->sizes[1];
    ctx->sizes.mainzisegmap_group_sizze_71586 = cfg->sizes[2];
    ctx->sizes.mainzisegmap_group_sizze_72167 = cfg->sizes[3];
    ctx->sizes.mainzisegmap_group_sizze_72218 = cfg->sizes[4];
    ctx->sizes.mainzisegmap_group_sizze_72515 = cfg->sizes[5];
    ctx->sizes.mainzisegmap_group_sizze_72534 = cfg->sizes[6];
    ctx->sizes.mainzisegmap_group_sizze_72558 = cfg->sizes[7];
    ctx->sizes.mainzisegmap_group_sizze_72578 = cfg->sizes[8];
    ctx->sizes.mainzisegmap_group_sizze_73105 = cfg->sizes[9];
    ctx->sizes.mainzisegmap_group_sizze_73796 = cfg->sizes[10];
    ctx->sizes.mainzisegmap_group_sizze_73864 = cfg->sizes[11];
    ctx->sizes.mainzisegmap_group_sizze_74198 = cfg->sizes[12];
    ctx->sizes.mainzisegmap_group_sizze_74217 = cfg->sizes[13];
    ctx->sizes.mainzisegmap_group_sizze_74241 = cfg->sizes[14];
    ctx->sizes.mainzisegmap_group_sizze_74261 = cfg->sizes[15];
    ctx->sizes.mainzisegmap_group_sizze_74856 = cfg->sizes[16];
    ctx->sizes.mainzisegmap_group_sizze_75660 = cfg->sizes[17];
    ctx->sizes.mainzisegmap_group_sizze_75755 = cfg->sizes[18];
    ctx->sizes.mainzisegmap_group_sizze_76129 = cfg->sizes[19];
    ctx->sizes.mainzisegmap_group_sizze_76148 = cfg->sizes[20];
    ctx->sizes.mainzisegmap_group_sizze_76172 = cfg->sizes[21];
    ctx->sizes.mainzisegmap_group_sizze_76192 = cfg->sizes[22];
    ctx->sizes.mainzisegmap_group_sizze_77034 = cfg->sizes[23];
    ctx->sizes.mainzisegmap_group_sizze_77053 = cfg->sizes[24];
    ctx->sizes.mainzisegmap_group_sizze_77077 = cfg->sizes[25];
    ctx->sizes.mainzisegmap_group_sizze_77097 = cfg->sizes[26];
    ctx->sizes.mainzisegmap_group_sizze_77631 = cfg->sizes[27];
    ctx->sizes.mainzisegmap_group_sizze_77650 = cfg->sizes[28];
    ctx->sizes.mainzisegmap_group_sizze_77674 = cfg->sizes[29];
    ctx->sizes.mainzisegmap_group_sizze_77694 = cfg->sizes[30];
    ctx->sizes.mainzisegmap_group_sizze_78314 = cfg->sizes[31];
    ctx->sizes.mainzisegmap_group_sizze_78333 = cfg->sizes[32];
    ctx->sizes.mainzisegmap_group_sizze_78357 = cfg->sizes[33];
    ctx->sizes.mainzisegmap_group_sizze_78377 = cfg->sizes[34];
    ctx->sizes.mainzisegmap_group_sizze_78781 = cfg->sizes[35];
    ctx->sizes.mainzisegmap_num_groups_71588 = cfg->sizes[36];
    ctx->sizes.mainzisegmap_num_groups_73107 = cfg->sizes[37];
    ctx->sizes.mainzisegmap_num_groups_74858 = cfg->sizes[38];
    ctx->sizes.mainzisegred_group_sizze_72116 = cfg->sizes[39];
    ctx->sizes.mainzisegred_group_sizze_72177 = cfg->sizes[40];
    ctx->sizes.mainzisegred_group_sizze_73727 = cfg->sizes[41];
    ctx->sizes.mainzisegred_group_sizze_73815 = cfg->sizes[42];
    ctx->sizes.mainzisegred_group_sizze_75578 = cfg->sizes[43];
    ctx->sizes.mainzisegred_group_sizze_75698 = cfg->sizes[44];
    ctx->sizes.mainzisegred_num_groups_72118 = cfg->sizes[45];
    ctx->sizes.mainzisegred_num_groups_72179 = cfg->sizes[46];
    ctx->sizes.mainzisegred_num_groups_73729 = cfg->sizes[47];
    ctx->sizes.mainzisegred_num_groups_73817 = cfg->sizes[48];
    ctx->sizes.mainzisegred_num_groups_75580 = cfg->sizes[49];
    ctx->sizes.mainzisegred_num_groups_75700 = cfg->sizes[50];
    ctx->sizes.mainzisegscan_group_sizze_72647 = cfg->sizes[51];
    ctx->sizes.mainzisegscan_group_sizze_74330 = cfg->sizes[52];
    ctx->sizes.mainzisegscan_group_sizze_76261 = cfg->sizes[53];
    ctx->sizes.mainzisegscan_group_sizze_77166 = cfg->sizes[54];
    ctx->sizes.mainzisegscan_group_sizze_77763 = cfg->sizes[55];
    ctx->sizes.mainzisegscan_group_sizze_78446 = cfg->sizes[56];
    ctx->sizes.mainzisegscan_num_groups_72649 = cfg->sizes[57];
    ctx->sizes.mainzisegscan_num_groups_74332 = cfg->sizes[58];
    ctx->sizes.mainzisegscan_num_groups_76263 = cfg->sizes[59];
    ctx->sizes.mainzisegscan_num_groups_77168 = cfg->sizes[60];
    ctx->sizes.mainzisegscan_num_groups_77765 = cfg->sizes[61];
    ctx->sizes.mainzisegscan_num_groups_78448 = cfg->sizes[62];
    ctx->sizes.mainzisuff_outer_par_0 = cfg->sizes[63];
    ctx->sizes.mainzisuff_outer_par_1 = cfg->sizes[64];
    ctx->sizes.mainzisuff_outer_par_2 = cfg->sizes[65];
    ctx->sizes.mainzisuff_outer_par_3 = cfg->sizes[66];
    ctx->sizes.mainzisuff_outer_par_4 = cfg->sizes[67];
    ctx->sizes.mainzisuff_outer_par_5 = cfg->sizes[68];
    ctx->sizes.mainzitile_sizze_79092 = cfg->sizes[69];
    ctx->sizes.mainzitile_sizze_79613 = cfg->sizes[70];
    ctx->sizes.mainzitile_sizze_80251 = cfg->sizes[71];
    init_constants(ctx);
    // Clear the free list of any deallocations that occurred while initialising constants.
    OPENCL_SUCCEED_OR_RETURN(opencl_free_all(&ctx->opencl));
    // The program will be properly freed after all the kernels have also been freed.
    OPENCL_SUCCEED_OR_RETURN(clReleaseProgram(prog));
    return futhark_context_sync(ctx);
}
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg)
{
    struct futhark_context *ctx =
                           (struct futhark_context *) malloc(sizeof(struct futhark_context));
    
    if (ctx == NULL)
        return NULL;
    
    int required_types = 0;
    
    init_context_early(cfg, ctx);
    
    cl_program prog = setup_opencl(&ctx->opencl, opencl_program, required_types,
                                   cfg->build_opts);
    
    init_context_late(cfg, ctx, prog);
    return ctx;
}
struct futhark_context *futhark_context_new_with_command_queue(struct futhark_context_config *cfg,
                                                               cl_command_queue queue)
{
    struct futhark_context *ctx =
                           (struct futhark_context *) malloc(sizeof(struct futhark_context));
    
    if (ctx == NULL)
        return NULL;
    
    int required_types = 0;
    
    init_context_early(cfg, ctx);
    
    cl_program prog = setup_opencl_with_command_queue(&ctx->opencl, queue,
                                                      opencl_program,
                                                      required_types,
                                                      cfg->build_opts);
    
    init_context_late(cfg, ctx, prog);
    return ctx;
}
void futhark_context_free(struct futhark_context *ctx)
{
    free_constants(ctx);
    free_lock(&ctx->lock);
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->builtinzhreplicate_f32zireplicate_82516));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->builtinzhreplicate_i64zireplicate_82619));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_f32));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_f32_low_height));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_f32_low_width));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_f32_small));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_72653));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_74336));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_76267));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_77172));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_77769));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_78452));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_72653));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_74336));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_76267));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_77172));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_77769));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_78452));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_72653));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_74336));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_76267));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_77172));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_77769));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_78452));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_71584));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_72164));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_72215));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_72512));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_72532));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_72555));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_72575));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_73103));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_73793));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_73861));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_74195));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_74215));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_74238));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_74258));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_74854));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_75657));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_75752));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_76126));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_76146));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_76169));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_76189));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_77031));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_77051));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_77074));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_77094));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_77628));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_77648));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_77671));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_77691));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_78311));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_78331));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_78354));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_78374));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_78778));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_intragroup_76884));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_intragroup_77451));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_intragroup_78098));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_intragroup_79098));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_intragroup_79619));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_intragroup_80257));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_large_72122));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_large_72183));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_large_73733));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_large_73821));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_large_75584));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_large_75704));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_small_72122));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_small_72183));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_small_73733));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_small_73821));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_small_75584));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_small_75704));
    teardown_opencl(&ctx->opencl);
    free(ctx);
}
int futhark_context_sync(struct futhark_context *ctx)
{
    cl_int failure_idx = -1;
    
    if (ctx->failure_is_an_option) {
        OPENCL_SUCCEED_OR_RETURN(clEnqueueReadBuffer(ctx->opencl.queue,
                                                     ctx->global_failure,
                                                     CL_FALSE, 0,
                                                     sizeof(cl_int),
                                                     &failure_idx, 0, NULL,
                                                     ctx->profiling_paused ||
                                                     !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                               &ctx->copy_scalar_from_dev_runs,
                                                                                               &ctx->copy_scalar_from_dev_total_runtime)));
        ctx->failure_is_an_option = 0;
    }
    OPENCL_SUCCEED_OR_RETURN(clFinish(ctx->opencl.queue));
    if (failure_idx >= 0) {
        cl_int no_failure = -1;
        
        OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                      ctx->global_failure,
                                                      CL_TRUE, 0,
                                                      sizeof(cl_int),
                                                      &no_failure, 0, NULL,
                                                      NULL));
        
        int64_t args[2 + 1];
        
        OPENCL_SUCCEED_OR_RETURN(clEnqueueReadBuffer(ctx->opencl.queue,
                                                     ctx->global_failure_args,
                                                     CL_TRUE, 0, sizeof(args),
                                                     &args, 0, NULL,
                                                     ctx->profiling_paused ||
                                                     !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                               &ctx->copy_dev_to_host_runs,
                                                                                               &ctx->copy_dev_to_host_total_runtime)));
        switch (failure_idx) {
            
          case 0:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 1:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 2:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 3:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 4:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 5:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 6:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 7:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 8:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 9:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 10:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 11:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 12:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 13:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 14:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 15:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 16:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 17:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 18:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 19:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 20:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 21:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 22:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 23:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 24:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 25:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 26:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 27:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 28:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 29:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 30:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 31:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 32:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 33:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 34:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 35:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 36:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 37:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 38:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 39:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 40:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 41:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 42:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 43:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 44:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 45:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 46:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 47:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 48:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 49:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 50:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 51:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 52:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 53:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 54:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 55:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:449:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 56:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:459:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 57:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:460:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:442:3-469:10\n   #5  loess.fut:502:15-61\n   #6  loess.fut:588:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:587:5-589:26\n   #10 loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 58:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:484:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 59:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:483:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:479:3-487:25\n   #4  loess.fut:503:18-55\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 60:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:538:34-40\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:529:3-542:9\n   #5  loess.fut:607:13-59\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:606:5-608:29\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 61:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:539:34-44\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:529:3-542:9\n   #5  loess.fut:607:13-59\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:606:5-608:29\n   #9  loess.fut:571:1-610:26\n",
                              args[0], args[1]);
                break;
            }
        }
        return 1;
    }
    return 0;
}
cl_command_queue futhark_context_get_command_queue(struct futhark_context *ctx)
{
    return ctx->opencl.queue;
}
static int memblock_unref_device(struct futhark_context *ctx,
                                 struct memblock_device *block, const
                                 char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log,
                    "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n",
                    desc, block->desc, "space 'device'", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_device -= block->size;
            OPENCL_SUCCEED_OR_RETURN(opencl_free(&ctx->opencl, block->mem,
                                                 desc));
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log,
                        "%lld bytes freed (now allocated: %lld bytes)\n",
                        (long long) block->size,
                        (long long) ctx->cur_mem_usage_device);
        }
        block->references = NULL;
    }
    return 0;
}
static int memblock_alloc_device(struct futhark_context *ctx,
                                 struct memblock_device *block, int64_t size,
                                 const char *desc)
{
    if (size < 0)
        futhark_panic(1,
                      "Negative allocation of %lld bytes attempted for %s in %s.\n",
                      (long long) size, desc, "space 'device'",
                      ctx->cur_mem_usage_device);
    
    int ret = memblock_unref_device(ctx, block, desc);
    
    ctx->cur_mem_usage_device += size;
    if (ctx->detail_memory)
        fprintf(ctx->log,
                "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)",
                (long long) size, desc, "space 'device'",
                (long long) ctx->cur_mem_usage_device);
    if (ctx->cur_mem_usage_device > ctx->peak_mem_usage_device) {
        ctx->peak_mem_usage_device = ctx->cur_mem_usage_device;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    OPENCL_SUCCEED_OR_RETURN(opencl_alloc(&ctx->opencl, (size_t) size, desc,
                                          &block->mem));
    block->references = (int *) malloc(sizeof(int));
    *block->references = 1;
    block->size = size;
    block->desc = desc;
    return ret;
}
static int memblock_set_device(struct futhark_context *ctx,
                               struct memblock_device *lhs,
                               struct memblock_device *rhs, const
                               char *lhs_desc)
{
    int ret = memblock_unref_device(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
static int memblock_unref(struct futhark_context *ctx, struct memblock *block,
                          const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log,
                    "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n",
                    desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            free(block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log,
                        "%lld bytes freed (now allocated: %lld bytes)\n",
                        (long long) block->size,
                        (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
static int memblock_alloc(struct futhark_context *ctx, struct memblock *block,
                          int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1,
                      "Negative allocation of %lld bytes attempted for %s in %s.\n",
                      (long long) size, desc, "default space",
                      ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    ctx->cur_mem_usage_default += size;
    if (ctx->detail_memory)
        fprintf(ctx->log,
                "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)",
                (long long) size, desc, "default space",
                (long long) ctx->cur_mem_usage_default);
    if (ctx->cur_mem_usage_default > ctx->peak_mem_usage_default) {
        ctx->peak_mem_usage_default = ctx->cur_mem_usage_default;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    block->mem = (unsigned char *) malloc((size_t) size);
    block->references = (int *) malloc(sizeof(int));
    *block->references = 1;
    block->size = size;
    block->desc = desc;
    return ret;
}
static int memblock_set(struct futhark_context *ctx, struct memblock *lhs,
                        struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
int futhark_get_num_sizes(void)
{
    return sizeof(size_names) / sizeof(size_names[0]);
}
const char *futhark_get_size_name(int i)
{
    return size_names[i];
}
const char *futhark_get_size_class(int i)
{
    return size_classes[i];
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    if (ctx->detail_memory || ctx->profiling || ctx->logging) {
        str_builder(&builder,
                    "Peak memory usage for space 'device': %lld bytes.\n",
                    (long long) ctx->peak_mem_usage_device);
        { }
    }
    if (ctx->profiling) {
        OPENCL_SUCCEED_FATAL(opencl_tally_profiling_records(&ctx->opencl));
        str_builder(&builder,
                    "copy_dev_to_dev                       ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->copy_dev_to_dev_runs,
                    (long) ctx->copy_dev_to_dev_total_runtime /
                    (ctx->copy_dev_to_dev_runs !=
                     0 ? ctx->copy_dev_to_dev_runs : 1),
                    (long) ctx->copy_dev_to_dev_total_runtime);
        ctx->total_runtime += ctx->copy_dev_to_dev_total_runtime;
        ctx->total_runs += ctx->copy_dev_to_dev_runs;
        str_builder(&builder,
                    "copy_dev_to_host                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->copy_dev_to_host_runs,
                    (long) ctx->copy_dev_to_host_total_runtime /
                    (ctx->copy_dev_to_host_runs !=
                     0 ? ctx->copy_dev_to_host_runs : 1),
                    (long) ctx->copy_dev_to_host_total_runtime);
        ctx->total_runtime += ctx->copy_dev_to_host_total_runtime;
        ctx->total_runs += ctx->copy_dev_to_host_runs;
        str_builder(&builder,
                    "copy_host_to_dev                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->copy_host_to_dev_runs,
                    (long) ctx->copy_host_to_dev_total_runtime /
                    (ctx->copy_host_to_dev_runs !=
                     0 ? ctx->copy_host_to_dev_runs : 1),
                    (long) ctx->copy_host_to_dev_total_runtime);
        ctx->total_runtime += ctx->copy_host_to_dev_total_runtime;
        ctx->total_runs += ctx->copy_host_to_dev_runs;
        str_builder(&builder,
                    "copy_scalar_to_dev                    ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->copy_scalar_to_dev_runs,
                    (long) ctx->copy_scalar_to_dev_total_runtime /
                    (ctx->copy_scalar_to_dev_runs !=
                     0 ? ctx->copy_scalar_to_dev_runs : 1),
                    (long) ctx->copy_scalar_to_dev_total_runtime);
        ctx->total_runtime += ctx->copy_scalar_to_dev_total_runtime;
        ctx->total_runs += ctx->copy_scalar_to_dev_runs;
        str_builder(&builder,
                    "copy_scalar_from_dev                  ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->copy_scalar_from_dev_runs,
                    (long) ctx->copy_scalar_from_dev_total_runtime /
                    (ctx->copy_scalar_from_dev_runs !=
                     0 ? ctx->copy_scalar_from_dev_runs : 1),
                    (long) ctx->copy_scalar_from_dev_total_runtime);
        ctx->total_runtime += ctx->copy_scalar_from_dev_total_runtime;
        ctx->total_runs += ctx->copy_scalar_from_dev_runs;
        str_builder(&builder,
                    "builtin#replicate_f32.replicate_82516 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->builtinzhreplicate_f32zireplicate_82516_runs,
                    (long) ctx->builtinzhreplicate_f32zireplicate_82516_total_runtime /
                    (ctx->builtinzhreplicate_f32zireplicate_82516_runs !=
                     0 ? ctx->builtinzhreplicate_f32zireplicate_82516_runs : 1),
                    (long) ctx->builtinzhreplicate_f32zireplicate_82516_total_runtime);
        ctx->total_runtime +=
            ctx->builtinzhreplicate_f32zireplicate_82516_total_runtime;
        ctx->total_runs += ctx->builtinzhreplicate_f32zireplicate_82516_runs;
        str_builder(&builder,
                    "builtin#replicate_i64.replicate_82619 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->builtinzhreplicate_i64zireplicate_82619_runs,
                    (long) ctx->builtinzhreplicate_i64zireplicate_82619_total_runtime /
                    (ctx->builtinzhreplicate_i64zireplicate_82619_runs !=
                     0 ? ctx->builtinzhreplicate_i64zireplicate_82619_runs : 1),
                    (long) ctx->builtinzhreplicate_i64zireplicate_82619_total_runtime);
        ctx->total_runtime +=
            ctx->builtinzhreplicate_i64zireplicate_82619_total_runtime;
        ctx->total_runs += ctx->builtinzhreplicate_i64zireplicate_82619_runs;
        str_builder(&builder,
                    "gpu_map_transpose_f32                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->gpu_map_transpose_f32_runs,
                    (long) ctx->gpu_map_transpose_f32_total_runtime /
                    (ctx->gpu_map_transpose_f32_runs !=
                     0 ? ctx->gpu_map_transpose_f32_runs : 1),
                    (long) ctx->gpu_map_transpose_f32_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_f32_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_f32_runs;
        str_builder(&builder,
                    "gpu_map_transpose_f32_low_height      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->gpu_map_transpose_f32_low_height_runs,
                    (long) ctx->gpu_map_transpose_f32_low_height_total_runtime /
                    (ctx->gpu_map_transpose_f32_low_height_runs !=
                     0 ? ctx->gpu_map_transpose_f32_low_height_runs : 1),
                    (long) ctx->gpu_map_transpose_f32_low_height_total_runtime);
        ctx->total_runtime +=
            ctx->gpu_map_transpose_f32_low_height_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_f32_low_height_runs;
        str_builder(&builder,
                    "gpu_map_transpose_f32_low_width       ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->gpu_map_transpose_f32_low_width_runs,
                    (long) ctx->gpu_map_transpose_f32_low_width_total_runtime /
                    (ctx->gpu_map_transpose_f32_low_width_runs !=
                     0 ? ctx->gpu_map_transpose_f32_low_width_runs : 1),
                    (long) ctx->gpu_map_transpose_f32_low_width_total_runtime);
        ctx->total_runtime +=
            ctx->gpu_map_transpose_f32_low_width_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_f32_low_width_runs;
        str_builder(&builder,
                    "gpu_map_transpose_f32_small           ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->gpu_map_transpose_f32_small_runs,
                    (long) ctx->gpu_map_transpose_f32_small_total_runtime /
                    (ctx->gpu_map_transpose_f32_small_runs !=
                     0 ? ctx->gpu_map_transpose_f32_small_runs : 1),
                    (long) ctx->gpu_map_transpose_f32_small_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_f32_small_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_f32_small_runs;
        str_builder(&builder,
                    "main.scan_stage1_72653                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_72653_runs,
                    (long) ctx->mainziscan_stage1_72653_total_runtime /
                    (ctx->mainziscan_stage1_72653_runs !=
                     0 ? ctx->mainziscan_stage1_72653_runs : 1),
                    (long) ctx->mainziscan_stage1_72653_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_72653_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_72653_runs;
        str_builder(&builder,
                    "main.scan_stage1_74336                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_74336_runs,
                    (long) ctx->mainziscan_stage1_74336_total_runtime /
                    (ctx->mainziscan_stage1_74336_runs !=
                     0 ? ctx->mainziscan_stage1_74336_runs : 1),
                    (long) ctx->mainziscan_stage1_74336_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_74336_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_74336_runs;
        str_builder(&builder,
                    "main.scan_stage1_76267                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_76267_runs,
                    (long) ctx->mainziscan_stage1_76267_total_runtime /
                    (ctx->mainziscan_stage1_76267_runs !=
                     0 ? ctx->mainziscan_stage1_76267_runs : 1),
                    (long) ctx->mainziscan_stage1_76267_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_76267_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_76267_runs;
        str_builder(&builder,
                    "main.scan_stage1_77172                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_77172_runs,
                    (long) ctx->mainziscan_stage1_77172_total_runtime /
                    (ctx->mainziscan_stage1_77172_runs !=
                     0 ? ctx->mainziscan_stage1_77172_runs : 1),
                    (long) ctx->mainziscan_stage1_77172_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_77172_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_77172_runs;
        str_builder(&builder,
                    "main.scan_stage1_77769                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_77769_runs,
                    (long) ctx->mainziscan_stage1_77769_total_runtime /
                    (ctx->mainziscan_stage1_77769_runs !=
                     0 ? ctx->mainziscan_stage1_77769_runs : 1),
                    (long) ctx->mainziscan_stage1_77769_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_77769_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_77769_runs;
        str_builder(&builder,
                    "main.scan_stage1_78452                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_78452_runs,
                    (long) ctx->mainziscan_stage1_78452_total_runtime /
                    (ctx->mainziscan_stage1_78452_runs !=
                     0 ? ctx->mainziscan_stage1_78452_runs : 1),
                    (long) ctx->mainziscan_stage1_78452_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_78452_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_78452_runs;
        str_builder(&builder,
                    "main.scan_stage2_72653                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_72653_runs,
                    (long) ctx->mainziscan_stage2_72653_total_runtime /
                    (ctx->mainziscan_stage2_72653_runs !=
                     0 ? ctx->mainziscan_stage2_72653_runs : 1),
                    (long) ctx->mainziscan_stage2_72653_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_72653_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_72653_runs;
        str_builder(&builder,
                    "main.scan_stage2_74336                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_74336_runs,
                    (long) ctx->mainziscan_stage2_74336_total_runtime /
                    (ctx->mainziscan_stage2_74336_runs !=
                     0 ? ctx->mainziscan_stage2_74336_runs : 1),
                    (long) ctx->mainziscan_stage2_74336_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_74336_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_74336_runs;
        str_builder(&builder,
                    "main.scan_stage2_76267                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_76267_runs,
                    (long) ctx->mainziscan_stage2_76267_total_runtime /
                    (ctx->mainziscan_stage2_76267_runs !=
                     0 ? ctx->mainziscan_stage2_76267_runs : 1),
                    (long) ctx->mainziscan_stage2_76267_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_76267_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_76267_runs;
        str_builder(&builder,
                    "main.scan_stage2_77172                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_77172_runs,
                    (long) ctx->mainziscan_stage2_77172_total_runtime /
                    (ctx->mainziscan_stage2_77172_runs !=
                     0 ? ctx->mainziscan_stage2_77172_runs : 1),
                    (long) ctx->mainziscan_stage2_77172_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_77172_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_77172_runs;
        str_builder(&builder,
                    "main.scan_stage2_77769                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_77769_runs,
                    (long) ctx->mainziscan_stage2_77769_total_runtime /
                    (ctx->mainziscan_stage2_77769_runs !=
                     0 ? ctx->mainziscan_stage2_77769_runs : 1),
                    (long) ctx->mainziscan_stage2_77769_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_77769_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_77769_runs;
        str_builder(&builder,
                    "main.scan_stage2_78452                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_78452_runs,
                    (long) ctx->mainziscan_stage2_78452_total_runtime /
                    (ctx->mainziscan_stage2_78452_runs !=
                     0 ? ctx->mainziscan_stage2_78452_runs : 1),
                    (long) ctx->mainziscan_stage2_78452_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_78452_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_78452_runs;
        str_builder(&builder,
                    "main.scan_stage3_72653                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_72653_runs,
                    (long) ctx->mainziscan_stage3_72653_total_runtime /
                    (ctx->mainziscan_stage3_72653_runs !=
                     0 ? ctx->mainziscan_stage3_72653_runs : 1),
                    (long) ctx->mainziscan_stage3_72653_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_72653_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_72653_runs;
        str_builder(&builder,
                    "main.scan_stage3_74336                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_74336_runs,
                    (long) ctx->mainziscan_stage3_74336_total_runtime /
                    (ctx->mainziscan_stage3_74336_runs !=
                     0 ? ctx->mainziscan_stage3_74336_runs : 1),
                    (long) ctx->mainziscan_stage3_74336_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_74336_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_74336_runs;
        str_builder(&builder,
                    "main.scan_stage3_76267                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_76267_runs,
                    (long) ctx->mainziscan_stage3_76267_total_runtime /
                    (ctx->mainziscan_stage3_76267_runs !=
                     0 ? ctx->mainziscan_stage3_76267_runs : 1),
                    (long) ctx->mainziscan_stage3_76267_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_76267_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_76267_runs;
        str_builder(&builder,
                    "main.scan_stage3_77172                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_77172_runs,
                    (long) ctx->mainziscan_stage3_77172_total_runtime /
                    (ctx->mainziscan_stage3_77172_runs !=
                     0 ? ctx->mainziscan_stage3_77172_runs : 1),
                    (long) ctx->mainziscan_stage3_77172_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_77172_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_77172_runs;
        str_builder(&builder,
                    "main.scan_stage3_77769                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_77769_runs,
                    (long) ctx->mainziscan_stage3_77769_total_runtime /
                    (ctx->mainziscan_stage3_77769_runs !=
                     0 ? ctx->mainziscan_stage3_77769_runs : 1),
                    (long) ctx->mainziscan_stage3_77769_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_77769_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_77769_runs;
        str_builder(&builder,
                    "main.scan_stage3_78452                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_78452_runs,
                    (long) ctx->mainziscan_stage3_78452_total_runtime /
                    (ctx->mainziscan_stage3_78452_runs !=
                     0 ? ctx->mainziscan_stage3_78452_runs : 1),
                    (long) ctx->mainziscan_stage3_78452_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_78452_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_78452_runs;
        str_builder(&builder,
                    "main.segmap_71584                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_71584_runs,
                    (long) ctx->mainzisegmap_71584_total_runtime /
                    (ctx->mainzisegmap_71584_runs !=
                     0 ? ctx->mainzisegmap_71584_runs : 1),
                    (long) ctx->mainzisegmap_71584_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_71584_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_71584_runs;
        str_builder(&builder,
                    "main.segmap_72164                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_72164_runs,
                    (long) ctx->mainzisegmap_72164_total_runtime /
                    (ctx->mainzisegmap_72164_runs !=
                     0 ? ctx->mainzisegmap_72164_runs : 1),
                    (long) ctx->mainzisegmap_72164_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_72164_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_72164_runs;
        str_builder(&builder,
                    "main.segmap_72215                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_72215_runs,
                    (long) ctx->mainzisegmap_72215_total_runtime /
                    (ctx->mainzisegmap_72215_runs !=
                     0 ? ctx->mainzisegmap_72215_runs : 1),
                    (long) ctx->mainzisegmap_72215_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_72215_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_72215_runs;
        str_builder(&builder,
                    "main.segmap_72512                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_72512_runs,
                    (long) ctx->mainzisegmap_72512_total_runtime /
                    (ctx->mainzisegmap_72512_runs !=
                     0 ? ctx->mainzisegmap_72512_runs : 1),
                    (long) ctx->mainzisegmap_72512_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_72512_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_72512_runs;
        str_builder(&builder,
                    "main.segmap_72532                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_72532_runs,
                    (long) ctx->mainzisegmap_72532_total_runtime /
                    (ctx->mainzisegmap_72532_runs !=
                     0 ? ctx->mainzisegmap_72532_runs : 1),
                    (long) ctx->mainzisegmap_72532_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_72532_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_72532_runs;
        str_builder(&builder,
                    "main.segmap_72555                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_72555_runs,
                    (long) ctx->mainzisegmap_72555_total_runtime /
                    (ctx->mainzisegmap_72555_runs !=
                     0 ? ctx->mainzisegmap_72555_runs : 1),
                    (long) ctx->mainzisegmap_72555_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_72555_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_72555_runs;
        str_builder(&builder,
                    "main.segmap_72575                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_72575_runs,
                    (long) ctx->mainzisegmap_72575_total_runtime /
                    (ctx->mainzisegmap_72575_runs !=
                     0 ? ctx->mainzisegmap_72575_runs : 1),
                    (long) ctx->mainzisegmap_72575_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_72575_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_72575_runs;
        str_builder(&builder,
                    "main.segmap_73103                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_73103_runs,
                    (long) ctx->mainzisegmap_73103_total_runtime /
                    (ctx->mainzisegmap_73103_runs !=
                     0 ? ctx->mainzisegmap_73103_runs : 1),
                    (long) ctx->mainzisegmap_73103_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_73103_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_73103_runs;
        str_builder(&builder,
                    "main.segmap_73793                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_73793_runs,
                    (long) ctx->mainzisegmap_73793_total_runtime /
                    (ctx->mainzisegmap_73793_runs !=
                     0 ? ctx->mainzisegmap_73793_runs : 1),
                    (long) ctx->mainzisegmap_73793_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_73793_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_73793_runs;
        str_builder(&builder,
                    "main.segmap_73861                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_73861_runs,
                    (long) ctx->mainzisegmap_73861_total_runtime /
                    (ctx->mainzisegmap_73861_runs !=
                     0 ? ctx->mainzisegmap_73861_runs : 1),
                    (long) ctx->mainzisegmap_73861_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_73861_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_73861_runs;
        str_builder(&builder,
                    "main.segmap_74195                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_74195_runs,
                    (long) ctx->mainzisegmap_74195_total_runtime /
                    (ctx->mainzisegmap_74195_runs !=
                     0 ? ctx->mainzisegmap_74195_runs : 1),
                    (long) ctx->mainzisegmap_74195_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_74195_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_74195_runs;
        str_builder(&builder,
                    "main.segmap_74215                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_74215_runs,
                    (long) ctx->mainzisegmap_74215_total_runtime /
                    (ctx->mainzisegmap_74215_runs !=
                     0 ? ctx->mainzisegmap_74215_runs : 1),
                    (long) ctx->mainzisegmap_74215_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_74215_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_74215_runs;
        str_builder(&builder,
                    "main.segmap_74238                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_74238_runs,
                    (long) ctx->mainzisegmap_74238_total_runtime /
                    (ctx->mainzisegmap_74238_runs !=
                     0 ? ctx->mainzisegmap_74238_runs : 1),
                    (long) ctx->mainzisegmap_74238_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_74238_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_74238_runs;
        str_builder(&builder,
                    "main.segmap_74258                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_74258_runs,
                    (long) ctx->mainzisegmap_74258_total_runtime /
                    (ctx->mainzisegmap_74258_runs !=
                     0 ? ctx->mainzisegmap_74258_runs : 1),
                    (long) ctx->mainzisegmap_74258_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_74258_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_74258_runs;
        str_builder(&builder,
                    "main.segmap_74854                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_74854_runs,
                    (long) ctx->mainzisegmap_74854_total_runtime /
                    (ctx->mainzisegmap_74854_runs !=
                     0 ? ctx->mainzisegmap_74854_runs : 1),
                    (long) ctx->mainzisegmap_74854_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_74854_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_74854_runs;
        str_builder(&builder,
                    "main.segmap_75657                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_75657_runs,
                    (long) ctx->mainzisegmap_75657_total_runtime /
                    (ctx->mainzisegmap_75657_runs !=
                     0 ? ctx->mainzisegmap_75657_runs : 1),
                    (long) ctx->mainzisegmap_75657_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_75657_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_75657_runs;
        str_builder(&builder,
                    "main.segmap_75752                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_75752_runs,
                    (long) ctx->mainzisegmap_75752_total_runtime /
                    (ctx->mainzisegmap_75752_runs !=
                     0 ? ctx->mainzisegmap_75752_runs : 1),
                    (long) ctx->mainzisegmap_75752_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_75752_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_75752_runs;
        str_builder(&builder,
                    "main.segmap_76126                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_76126_runs,
                    (long) ctx->mainzisegmap_76126_total_runtime /
                    (ctx->mainzisegmap_76126_runs !=
                     0 ? ctx->mainzisegmap_76126_runs : 1),
                    (long) ctx->mainzisegmap_76126_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_76126_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_76126_runs;
        str_builder(&builder,
                    "main.segmap_76146                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_76146_runs,
                    (long) ctx->mainzisegmap_76146_total_runtime /
                    (ctx->mainzisegmap_76146_runs !=
                     0 ? ctx->mainzisegmap_76146_runs : 1),
                    (long) ctx->mainzisegmap_76146_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_76146_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_76146_runs;
        str_builder(&builder,
                    "main.segmap_76169                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_76169_runs,
                    (long) ctx->mainzisegmap_76169_total_runtime /
                    (ctx->mainzisegmap_76169_runs !=
                     0 ? ctx->mainzisegmap_76169_runs : 1),
                    (long) ctx->mainzisegmap_76169_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_76169_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_76169_runs;
        str_builder(&builder,
                    "main.segmap_76189                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_76189_runs,
                    (long) ctx->mainzisegmap_76189_total_runtime /
                    (ctx->mainzisegmap_76189_runs !=
                     0 ? ctx->mainzisegmap_76189_runs : 1),
                    (long) ctx->mainzisegmap_76189_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_76189_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_76189_runs;
        str_builder(&builder,
                    "main.segmap_77031                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_77031_runs,
                    (long) ctx->mainzisegmap_77031_total_runtime /
                    (ctx->mainzisegmap_77031_runs !=
                     0 ? ctx->mainzisegmap_77031_runs : 1),
                    (long) ctx->mainzisegmap_77031_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_77031_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_77031_runs;
        str_builder(&builder,
                    "main.segmap_77051                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_77051_runs,
                    (long) ctx->mainzisegmap_77051_total_runtime /
                    (ctx->mainzisegmap_77051_runs !=
                     0 ? ctx->mainzisegmap_77051_runs : 1),
                    (long) ctx->mainzisegmap_77051_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_77051_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_77051_runs;
        str_builder(&builder,
                    "main.segmap_77074                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_77074_runs,
                    (long) ctx->mainzisegmap_77074_total_runtime /
                    (ctx->mainzisegmap_77074_runs !=
                     0 ? ctx->mainzisegmap_77074_runs : 1),
                    (long) ctx->mainzisegmap_77074_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_77074_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_77074_runs;
        str_builder(&builder,
                    "main.segmap_77094                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_77094_runs,
                    (long) ctx->mainzisegmap_77094_total_runtime /
                    (ctx->mainzisegmap_77094_runs !=
                     0 ? ctx->mainzisegmap_77094_runs : 1),
                    (long) ctx->mainzisegmap_77094_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_77094_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_77094_runs;
        str_builder(&builder,
                    "main.segmap_77628                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_77628_runs,
                    (long) ctx->mainzisegmap_77628_total_runtime /
                    (ctx->mainzisegmap_77628_runs !=
                     0 ? ctx->mainzisegmap_77628_runs : 1),
                    (long) ctx->mainzisegmap_77628_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_77628_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_77628_runs;
        str_builder(&builder,
                    "main.segmap_77648                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_77648_runs,
                    (long) ctx->mainzisegmap_77648_total_runtime /
                    (ctx->mainzisegmap_77648_runs !=
                     0 ? ctx->mainzisegmap_77648_runs : 1),
                    (long) ctx->mainzisegmap_77648_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_77648_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_77648_runs;
        str_builder(&builder,
                    "main.segmap_77671                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_77671_runs,
                    (long) ctx->mainzisegmap_77671_total_runtime /
                    (ctx->mainzisegmap_77671_runs !=
                     0 ? ctx->mainzisegmap_77671_runs : 1),
                    (long) ctx->mainzisegmap_77671_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_77671_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_77671_runs;
        str_builder(&builder,
                    "main.segmap_77691                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_77691_runs,
                    (long) ctx->mainzisegmap_77691_total_runtime /
                    (ctx->mainzisegmap_77691_runs !=
                     0 ? ctx->mainzisegmap_77691_runs : 1),
                    (long) ctx->mainzisegmap_77691_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_77691_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_77691_runs;
        str_builder(&builder,
                    "main.segmap_78311                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_78311_runs,
                    (long) ctx->mainzisegmap_78311_total_runtime /
                    (ctx->mainzisegmap_78311_runs !=
                     0 ? ctx->mainzisegmap_78311_runs : 1),
                    (long) ctx->mainzisegmap_78311_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_78311_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_78311_runs;
        str_builder(&builder,
                    "main.segmap_78331                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_78331_runs,
                    (long) ctx->mainzisegmap_78331_total_runtime /
                    (ctx->mainzisegmap_78331_runs !=
                     0 ? ctx->mainzisegmap_78331_runs : 1),
                    (long) ctx->mainzisegmap_78331_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_78331_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_78331_runs;
        str_builder(&builder,
                    "main.segmap_78354                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_78354_runs,
                    (long) ctx->mainzisegmap_78354_total_runtime /
                    (ctx->mainzisegmap_78354_runs !=
                     0 ? ctx->mainzisegmap_78354_runs : 1),
                    (long) ctx->mainzisegmap_78354_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_78354_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_78354_runs;
        str_builder(&builder,
                    "main.segmap_78374                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_78374_runs,
                    (long) ctx->mainzisegmap_78374_total_runtime /
                    (ctx->mainzisegmap_78374_runs !=
                     0 ? ctx->mainzisegmap_78374_runs : 1),
                    (long) ctx->mainzisegmap_78374_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_78374_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_78374_runs;
        str_builder(&builder,
                    "main.segmap_78778                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_78778_runs,
                    (long) ctx->mainzisegmap_78778_total_runtime /
                    (ctx->mainzisegmap_78778_runs !=
                     0 ? ctx->mainzisegmap_78778_runs : 1),
                    (long) ctx->mainzisegmap_78778_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_78778_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_78778_runs;
        str_builder(&builder,
                    "main.segmap_intragroup_76884          ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_intragroup_76884_runs,
                    (long) ctx->mainzisegmap_intragroup_76884_total_runtime /
                    (ctx->mainzisegmap_intragroup_76884_runs !=
                     0 ? ctx->mainzisegmap_intragroup_76884_runs : 1),
                    (long) ctx->mainzisegmap_intragroup_76884_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_intragroup_76884_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_intragroup_76884_runs;
        str_builder(&builder,
                    "main.segmap_intragroup_77451          ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_intragroup_77451_runs,
                    (long) ctx->mainzisegmap_intragroup_77451_total_runtime /
                    (ctx->mainzisegmap_intragroup_77451_runs !=
                     0 ? ctx->mainzisegmap_intragroup_77451_runs : 1),
                    (long) ctx->mainzisegmap_intragroup_77451_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_intragroup_77451_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_intragroup_77451_runs;
        str_builder(&builder,
                    "main.segmap_intragroup_78098          ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_intragroup_78098_runs,
                    (long) ctx->mainzisegmap_intragroup_78098_total_runtime /
                    (ctx->mainzisegmap_intragroup_78098_runs !=
                     0 ? ctx->mainzisegmap_intragroup_78098_runs : 1),
                    (long) ctx->mainzisegmap_intragroup_78098_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_intragroup_78098_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_intragroup_78098_runs;
        str_builder(&builder,
                    "main.segmap_intragroup_79098          ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_intragroup_79098_runs,
                    (long) ctx->mainzisegmap_intragroup_79098_total_runtime /
                    (ctx->mainzisegmap_intragroup_79098_runs !=
                     0 ? ctx->mainzisegmap_intragroup_79098_runs : 1),
                    (long) ctx->mainzisegmap_intragroup_79098_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_intragroup_79098_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_intragroup_79098_runs;
        str_builder(&builder,
                    "main.segmap_intragroup_79619          ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_intragroup_79619_runs,
                    (long) ctx->mainzisegmap_intragroup_79619_total_runtime /
                    (ctx->mainzisegmap_intragroup_79619_runs !=
                     0 ? ctx->mainzisegmap_intragroup_79619_runs : 1),
                    (long) ctx->mainzisegmap_intragroup_79619_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_intragroup_79619_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_intragroup_79619_runs;
        str_builder(&builder,
                    "main.segmap_intragroup_80257          ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_intragroup_80257_runs,
                    (long) ctx->mainzisegmap_intragroup_80257_total_runtime /
                    (ctx->mainzisegmap_intragroup_80257_runs !=
                     0 ? ctx->mainzisegmap_intragroup_80257_runs : 1),
                    (long) ctx->mainzisegmap_intragroup_80257_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_intragroup_80257_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_intragroup_80257_runs;
        str_builder(&builder,
                    "main.segred_large_72122               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_large_72122_runs,
                    (long) ctx->mainzisegred_large_72122_total_runtime /
                    (ctx->mainzisegred_large_72122_runs !=
                     0 ? ctx->mainzisegred_large_72122_runs : 1),
                    (long) ctx->mainzisegred_large_72122_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_large_72122_total_runtime;
        ctx->total_runs += ctx->mainzisegred_large_72122_runs;
        str_builder(&builder,
                    "main.segred_large_72183               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_large_72183_runs,
                    (long) ctx->mainzisegred_large_72183_total_runtime /
                    (ctx->mainzisegred_large_72183_runs !=
                     0 ? ctx->mainzisegred_large_72183_runs : 1),
                    (long) ctx->mainzisegred_large_72183_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_large_72183_total_runtime;
        ctx->total_runs += ctx->mainzisegred_large_72183_runs;
        str_builder(&builder,
                    "main.segred_large_73733               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_large_73733_runs,
                    (long) ctx->mainzisegred_large_73733_total_runtime /
                    (ctx->mainzisegred_large_73733_runs !=
                     0 ? ctx->mainzisegred_large_73733_runs : 1),
                    (long) ctx->mainzisegred_large_73733_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_large_73733_total_runtime;
        ctx->total_runs += ctx->mainzisegred_large_73733_runs;
        str_builder(&builder,
                    "main.segred_large_73821               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_large_73821_runs,
                    (long) ctx->mainzisegred_large_73821_total_runtime /
                    (ctx->mainzisegred_large_73821_runs !=
                     0 ? ctx->mainzisegred_large_73821_runs : 1),
                    (long) ctx->mainzisegred_large_73821_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_large_73821_total_runtime;
        ctx->total_runs += ctx->mainzisegred_large_73821_runs;
        str_builder(&builder,
                    "main.segred_large_75584               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_large_75584_runs,
                    (long) ctx->mainzisegred_large_75584_total_runtime /
                    (ctx->mainzisegred_large_75584_runs !=
                     0 ? ctx->mainzisegred_large_75584_runs : 1),
                    (long) ctx->mainzisegred_large_75584_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_large_75584_total_runtime;
        ctx->total_runs += ctx->mainzisegred_large_75584_runs;
        str_builder(&builder,
                    "main.segred_large_75704               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_large_75704_runs,
                    (long) ctx->mainzisegred_large_75704_total_runtime /
                    (ctx->mainzisegred_large_75704_runs !=
                     0 ? ctx->mainzisegred_large_75704_runs : 1),
                    (long) ctx->mainzisegred_large_75704_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_large_75704_total_runtime;
        ctx->total_runs += ctx->mainzisegred_large_75704_runs;
        str_builder(&builder,
                    "main.segred_small_72122               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_small_72122_runs,
                    (long) ctx->mainzisegred_small_72122_total_runtime /
                    (ctx->mainzisegred_small_72122_runs !=
                     0 ? ctx->mainzisegred_small_72122_runs : 1),
                    (long) ctx->mainzisegred_small_72122_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_small_72122_total_runtime;
        ctx->total_runs += ctx->mainzisegred_small_72122_runs;
        str_builder(&builder,
                    "main.segred_small_72183               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_small_72183_runs,
                    (long) ctx->mainzisegred_small_72183_total_runtime /
                    (ctx->mainzisegred_small_72183_runs !=
                     0 ? ctx->mainzisegred_small_72183_runs : 1),
                    (long) ctx->mainzisegred_small_72183_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_small_72183_total_runtime;
        ctx->total_runs += ctx->mainzisegred_small_72183_runs;
        str_builder(&builder,
                    "main.segred_small_73733               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_small_73733_runs,
                    (long) ctx->mainzisegred_small_73733_total_runtime /
                    (ctx->mainzisegred_small_73733_runs !=
                     0 ? ctx->mainzisegred_small_73733_runs : 1),
                    (long) ctx->mainzisegred_small_73733_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_small_73733_total_runtime;
        ctx->total_runs += ctx->mainzisegred_small_73733_runs;
        str_builder(&builder,
                    "main.segred_small_73821               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_small_73821_runs,
                    (long) ctx->mainzisegred_small_73821_total_runtime /
                    (ctx->mainzisegred_small_73821_runs !=
                     0 ? ctx->mainzisegred_small_73821_runs : 1),
                    (long) ctx->mainzisegred_small_73821_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_small_73821_total_runtime;
        ctx->total_runs += ctx->mainzisegred_small_73821_runs;
        str_builder(&builder,
                    "main.segred_small_75584               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_small_75584_runs,
                    (long) ctx->mainzisegred_small_75584_total_runtime /
                    (ctx->mainzisegred_small_75584_runs !=
                     0 ? ctx->mainzisegred_small_75584_runs : 1),
                    (long) ctx->mainzisegred_small_75584_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_small_75584_total_runtime;
        ctx->total_runs += ctx->mainzisegred_small_75584_runs;
        str_builder(&builder,
                    "main.segred_small_75704               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_small_75704_runs,
                    (long) ctx->mainzisegred_small_75704_total_runtime /
                    (ctx->mainzisegred_small_75704_runs !=
                     0 ? ctx->mainzisegred_small_75704_runs : 1),
                    (long) ctx->mainzisegred_small_75704_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_small_75704_total_runtime;
        ctx->total_runs += ctx->mainzisegred_small_75704_runs;
        str_builder(&builder, "%d operations with cumulative runtime: %6ldus\n",
                    ctx->total_runs, ctx->total_runtime);
    }
    return builder.str;
}
char *futhark_context_get_error(struct futhark_context *ctx)
{
    char *error = ctx->error;
    
    ctx->error = NULL;
    return error;
}
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f)
{
    ctx->log = f;
}
void futhark_context_pause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 1;
}
void futhark_context_unpause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 0;
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_device = 0;
    ctx->peak_mem_usage_default = 0;
    if (ctx->error == NULL)
        ctx->error = OPENCL_SUCCEED_NONFATAL(opencl_free_all(&ctx->opencl));
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

static int futrts_builtinzhgpu_map_transpose_f32(struct futhark_context *ctx,
                                                 struct memblock_device destmem_0,
                                                 int32_t destoffset_1,
                                                 struct memblock_device srcmem_2,
                                                 int32_t srcoffset_3,
                                                 int32_t num_arrays_4,
                                                 int32_t x_elems_5,
                                                 int32_t y_elems_6);
static int futrts_builtinzhreplicate_f32(struct futhark_context *ctx,
                                         struct memblock_device mem_82512,
                                         int32_t num_elems_82513,
                                         float val_82514);
static int futrts_builtinzhreplicate_i64(struct futhark_context *ctx,
                                         struct memblock_device mem_82615,
                                         int32_t num_elems_82616,
                                         int64_t val_82617);
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock_device *mem_out_p_84082,
                             struct memblock_device Y_mem_81217,
                             int64_t m_70232, int64_t n_70233, int64_t q_70235,
                             int64_t degree_70236, int64_t jump_70237,
                             int64_t jump_threshold_70238,
                             int64_t q_threshold_70239);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_f32_2d {
    struct memblock_device mem;
    int64_t shape[2];
};
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * dim1 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 4 > 0)
        OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                      arr->mem.mem, CL_TRUE,
                                                      (size_t) 0,
                                                      (size_t) ((size_t) (dim0 *
                                                                          dim1) *
                                                                4), data + 0, 0,
                                                      NULL,
                                                      ctx->profiling_paused ||
                                                      !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                &ctx->copy_dev_to_host_runs,
                                                                                                &ctx->copy_dev_to_host_total_runtime)));
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              cl_mem data, int64_t offset,
                                              int64_t dim0, int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * dim1 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 4 > 0) {
        OPENCL_SUCCEED_OR_RETURN(clEnqueueCopyBuffer(ctx->opencl.queue, data,
                                                     arr->mem.mem,
                                                     (size_t) offset,
                                                     (size_t) 0,
                                                     (size_t) ((size_t) (dim0 *
                                                                         dim1) *
                                                               4), 0, NULL,
                                                     ctx->profiling_paused ||
                                                     !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                               &ctx->copy_dev_to_dev_runs,
                                                                                               &ctx->copy_dev_to_dev_total_runtime)));
        if (ctx->debugging)
            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
    }
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data)
{
    lock_lock(&ctx->lock);
    if ((size_t) (arr->shape[0] * arr->shape[1]) * 4 > 0) {
        OPENCL_SUCCEED_OR_RETURN(clEnqueueReadBuffer(ctx->opencl.queue,
                                                     arr->mem.mem,
                                                     ctx->failure_is_an_option ? CL_FALSE : CL_TRUE,
                                                     (size_t) 0,
                                                     (size_t) ((size_t) (arr->shape[0] *
                                                                         arr->shape[1]) *
                                                               4), data + 0, 0,
                                                     NULL,
                                                     ctx->profiling_paused ||
                                                     !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                               &ctx->copy_host_to_dev_runs,
                                                                                               &ctx->copy_host_to_dev_total_runtime)));
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0)
            return 1;
    }
    lock_unlock(&ctx->lock);
    return 0;
}
cl_mem futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                 struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->shape;
}

static int futrts_builtinzhgpu_map_transpose_f32(struct futhark_context *ctx,
                                                 struct memblock_device destmem_0,
                                                 int32_t destoffset_1,
                                                 struct memblock_device srcmem_2,
                                                 int32_t srcoffset_3,
                                                 int32_t num_arrays_4,
                                                 int32_t x_elems_5,
                                                 int32_t y_elems_6)
{
    (void) ctx;
    
    int err = 0;
    
    if (!(num_arrays_4 == 0 || (x_elems_5 == 0 || y_elems_6 == 0))) {
        int32_t muly_8 = squot32(16, x_elems_5);
        int32_t mulx_7 = squot32(16, y_elems_6);
        
        if (num_arrays_4 == 1 && (x_elems_5 == 1 || y_elems_6 == 1)) {
            if (sext_i32_i64(x_elems_5 * y_elems_6 * 4) > 0) {
                OPENCL_SUCCEED_OR_RETURN(clEnqueueCopyBuffer(ctx->opencl.queue,
                                                             srcmem_2.mem,
                                                             destmem_0.mem,
                                                             (size_t) sext_i32_i64(srcoffset_3),
                                                             (size_t) sext_i32_i64(destoffset_1),
                                                             (size_t) sext_i32_i64(x_elems_5 *
                                                             y_elems_6 * 4), 0,
                                                             NULL,
                                                             ctx->profiling_paused ||
                                                             !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                       &ctx->copy_dev_to_dev_runs,
                                                                                                       &ctx->copy_dev_to_dev_total_runtime)));
                if (ctx->debugging)
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
            }
        } else {
            if (sle32(x_elems_5, 8) && slt32(16, y_elems_6)) {
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_width,
                                                        0,
                                                        (size_t) (int64_t) 1088,
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_width,
                                                        1, sizeof(destoffset_1),
                                                        &destoffset_1));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_width,
                                                        2, sizeof(srcoffset_3),
                                                        &srcoffset_3));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_width,
                                                        3, sizeof(num_arrays_4),
                                                        &num_arrays_4));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_width,
                                                        4, sizeof(x_elems_5),
                                                        &x_elems_5));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_width,
                                                        5, sizeof(y_elems_6),
                                                        &y_elems_6));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_width,
                                                        6, sizeof(mulx_7),
                                                        &mulx_7));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_width,
                                                        7, sizeof(muly_8),
                                                        &muly_8));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_width,
                                                        8,
                                                        sizeof(destmem_0.mem),
                                                        &destmem_0.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_width,
                                                        9, sizeof(srcmem_2.mem),
                                                        &srcmem_2.mem));
                if (1 * ((size_t) sdiv_up32(x_elems_5, 16) * (size_t) 16) *
                    ((size_t) sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) *
                     (size_t) 16) * ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                    const size_t global_work_sizze_84052[3] =
                                 {(size_t) sdiv_up32(x_elems_5, 16) *
                                  (size_t) 16,
                                  (size_t) sdiv_up32(sdiv_up32(y_elems_6,
                                                               muly_8), 16) *
                                  (size_t) 16, (size_t) num_arrays_4 *
                                  (size_t) 1};
                    const size_t local_work_sizze_84056[3] = {(size_t) 16,
                                                              (size_t) 16,
                                                              (size_t) 1};
                    int64_t time_start_84053 = 0, time_end_84054 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n",
                                "gpu_map_transpose_f32_low_width",
                                global_work_sizze_84052[0],
                                global_work_sizze_84052[1],
                                global_work_sizze_84052[2],
                                local_work_sizze_84056[0],
                                local_work_sizze_84056[1],
                                local_work_sizze_84056[2], (int) (0 +
                                                                  (int64_t) 1088));
                        time_start_84053 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->gpu_map_transpose_f32_low_width,
                                                                    3, NULL,
                                                                    global_work_sizze_84052,
                                                                    local_work_sizze_84056,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->gpu_map_transpose_f32_low_width_runs,
                                                                                                              &ctx->gpu_map_transpose_f32_low_width_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84054 = get_wall_time();
                        
                        long time_diff_84055 = time_end_84054 -
                             time_start_84053;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "gpu_map_transpose_f32_low_width",
                                time_diff_84055);
                    }
                }
            } else {
                if (sle32(y_elems_6, 8) && slt32(16, x_elems_5)) {
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_height,
                                                            0,
                                                            (size_t) (int64_t) 1088,
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_height,
                                                            1,
                                                            sizeof(destoffset_1),
                                                            &destoffset_1));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_height,
                                                            2,
                                                            sizeof(srcoffset_3),
                                                            &srcoffset_3));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_height,
                                                            3,
                                                            sizeof(num_arrays_4),
                                                            &num_arrays_4));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_height,
                                                            4,
                                                            sizeof(x_elems_5),
                                                            &x_elems_5));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_height,
                                                            5,
                                                            sizeof(y_elems_6),
                                                            &y_elems_6));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_height,
                                                            6, sizeof(mulx_7),
                                                            &mulx_7));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_height,
                                                            7, sizeof(muly_8),
                                                            &muly_8));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_height,
                                                            8,
                                                            sizeof(destmem_0.mem),
                                                            &destmem_0.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_low_height,
                                                            9,
                                                            sizeof(srcmem_2.mem),
                                                            &srcmem_2.mem));
                    if (1 * ((size_t) sdiv_up32(sdiv_up32(x_elems_5, mulx_7),
                                                16) * (size_t) 16) *
                        ((size_t) sdiv_up32(y_elems_6, 16) * (size_t) 16) *
                        ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                        const size_t global_work_sizze_84057[3] =
                                     {(size_t) sdiv_up32(sdiv_up32(x_elems_5,
                                                                   mulx_7),
                                                         16) * (size_t) 16,
                                      (size_t) sdiv_up32(y_elems_6, 16) *
                                      (size_t) 16, (size_t) num_arrays_4 *
                                      (size_t) 1};
                        const size_t local_work_sizze_84061[3] = {(size_t) 16,
                                                                  (size_t) 16,
                                                                  (size_t) 1};
                        int64_t time_start_84058 = 0, time_end_84059 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n",
                                    "gpu_map_transpose_f32_low_height",
                                    global_work_sizze_84057[0],
                                    global_work_sizze_84057[1],
                                    global_work_sizze_84057[2],
                                    local_work_sizze_84061[0],
                                    local_work_sizze_84061[1],
                                    local_work_sizze_84061[2], (int) (0 +
                                                                      (int64_t) 1088));
                            time_start_84058 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->gpu_map_transpose_f32_low_height,
                                                                        3, NULL,
                                                                        global_work_sizze_84057,
                                                                        local_work_sizze_84061,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->gpu_map_transpose_f32_low_height_runs,
                                                                                                                  &ctx->gpu_map_transpose_f32_low_height_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84059 = get_wall_time();
                            
                            long time_diff_84060 = time_end_84059 -
                                 time_start_84058;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "gpu_map_transpose_f32_low_height",
                                    time_diff_84060);
                        }
                    }
                } else {
                    if (sle32(x_elems_5, 8) && sle32(y_elems_6, 8)) {
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_small,
                                                                0,
                                                                (size_t) (int64_t) 1,
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_small,
                                                                1,
                                                                sizeof(destoffset_1),
                                                                &destoffset_1));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_small,
                                                                2,
                                                                sizeof(srcoffset_3),
                                                                &srcoffset_3));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_small,
                                                                3,
                                                                sizeof(num_arrays_4),
                                                                &num_arrays_4));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_small,
                                                                4,
                                                                sizeof(x_elems_5),
                                                                &x_elems_5));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_small,
                                                                5,
                                                                sizeof(y_elems_6),
                                                                &y_elems_6));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_small,
                                                                6,
                                                                sizeof(mulx_7),
                                                                &mulx_7));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_small,
                                                                7,
                                                                sizeof(muly_8),
                                                                &muly_8));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_small,
                                                                8,
                                                                sizeof(destmem_0.mem),
                                                                &destmem_0.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32_small,
                                                                9,
                                                                sizeof(srcmem_2.mem),
                                                                &srcmem_2.mem));
                        if (1 * ((size_t) sdiv_up32(num_arrays_4 * x_elems_5 *
                                                    y_elems_6, 256) *
                                 (size_t) 256) != 0) {
                            const size_t global_work_sizze_84062[1] =
                                         {(size_t) sdiv_up32(num_arrays_4 *
                                                             x_elems_5 *
                                                             y_elems_6, 256) *
                                         (size_t) 256};
                            const size_t local_work_sizze_84066[1] =
                                         {(size_t) 256};
                            int64_t time_start_84063 = 0, time_end_84064 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "gpu_map_transpose_f32_small",
                                        global_work_sizze_84062[0],
                                        local_work_sizze_84066[0], (int) (0 +
                                                                          (int64_t) 1));
                                time_start_84063 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->gpu_map_transpose_f32_small,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84062,
                                                                            local_work_sizze_84066,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->gpu_map_transpose_f32_small_runs,
                                                                                                                      &ctx->gpu_map_transpose_f32_small_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84064 = get_wall_time();
                                
                                long time_diff_84065 = time_end_84064 -
                                     time_start_84063;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "gpu_map_transpose_f32_small",
                                        time_diff_84065);
                            }
                        }
                    } else {
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32,
                                                                0,
                                                                (size_t) (int64_t) 4224,
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32,
                                                                1,
                                                                sizeof(destoffset_1),
                                                                &destoffset_1));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32,
                                                                2,
                                                                sizeof(srcoffset_3),
                                                                &srcoffset_3));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32,
                                                                3,
                                                                sizeof(num_arrays_4),
                                                                &num_arrays_4));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32,
                                                                4,
                                                                sizeof(x_elems_5),
                                                                &x_elems_5));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32,
                                                                5,
                                                                sizeof(y_elems_6),
                                                                &y_elems_6));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32,
                                                                6,
                                                                sizeof(mulx_7),
                                                                &mulx_7));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32,
                                                                7,
                                                                sizeof(muly_8),
                                                                &muly_8));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32,
                                                                8,
                                                                sizeof(destmem_0.mem),
                                                                &destmem_0.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_f32,
                                                                9,
                                                                sizeof(srcmem_2.mem),
                                                                &srcmem_2.mem));
                        if (1 * ((size_t) sdiv_up32(x_elems_5, 32) *
                                 (size_t) 32) * ((size_t) sdiv_up32(y_elems_6,
                                                                    32) *
                                                 (size_t) 8) *
                            ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                            const size_t global_work_sizze_84067[3] =
                                         {(size_t) sdiv_up32(x_elems_5, 32) *
                                          (size_t) 32,
                                          (size_t) sdiv_up32(y_elems_6, 32) *
                                          (size_t) 8, (size_t) num_arrays_4 *
                                          (size_t) 1};
                            const size_t local_work_sizze_84071[3] =
                                         {(size_t) 32, (size_t) 8, (size_t) 1};
                            int64_t time_start_84068 = 0, time_end_84069 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n",
                                        "gpu_map_transpose_f32",
                                        global_work_sizze_84067[0],
                                        global_work_sizze_84067[1],
                                        global_work_sizze_84067[2],
                                        local_work_sizze_84071[0],
                                        local_work_sizze_84071[1],
                                        local_work_sizze_84071[2], (int) (0 +
                                                                          (int64_t) 4224));
                                time_start_84068 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->gpu_map_transpose_f32,
                                                                            3,
                                                                            NULL,
                                                                            global_work_sizze_84067,
                                                                            local_work_sizze_84071,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->gpu_map_transpose_f32_runs,
                                                                                                                      &ctx->gpu_map_transpose_f32_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84069 = get_wall_time();
                                
                                long time_diff_84070 = time_end_84069 -
                                     time_start_84068;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "gpu_map_transpose_f32",
                                        time_diff_84070);
                            }
                        }
                    }
                }
            }
        }
    }
    
  cleanup:
    { }
    return err;
}
static int futrts_builtinzhreplicate_f32(struct futhark_context *ctx,
                                         struct memblock_device mem_82512,
                                         int32_t num_elems_82513,
                                         float val_82514)
{
    (void) ctx;
    
    int err = 0;
    int64_t group_sizze_82519;
    
    group_sizze_82519 = ctx->sizes.builtinzhreplicate_f32zigroup_sizze_82519;
    
    int64_t num_groups_82520 = sdiv_up64(num_elems_82513, group_sizze_82519);
    
    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->builtinzhreplicate_f32zireplicate_82516,
                                            0, sizeof(num_elems_82513),
                                            &num_elems_82513));
    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->builtinzhreplicate_f32zireplicate_82516,
                                            1, sizeof(val_82514), &val_82514));
    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->builtinzhreplicate_f32zireplicate_82516,
                                            2, sizeof(mem_82512.mem),
                                            &mem_82512.mem));
    if (1 * ((size_t) num_groups_82520 * (size_t) group_sizze_82519) != 0) {
        const size_t global_work_sizze_84072[1] = {(size_t) num_groups_82520 *
                     (size_t) group_sizze_82519};
        const size_t local_work_sizze_84076[1] = {(size_t) group_sizze_82519};
        int64_t time_start_84073 = 0, time_end_84074 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log,
                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                    "builtin#replicate_f32.replicate_82516",
                    global_work_sizze_84072[0], local_work_sizze_84076[0],
                    (int) 0);
            time_start_84073 = get_wall_time();
        }
        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                        ctx->builtinzhreplicate_f32zireplicate_82516,
                                                        1, NULL,
                                                        global_work_sizze_84072,
                                                        local_work_sizze_84076,
                                                        0, NULL,
                                                        ctx->profiling_paused ||
                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                  &ctx->builtinzhreplicate_f32zireplicate_82516_runs,
                                                                                                  &ctx->builtinzhreplicate_f32zireplicate_82516_total_runtime)));
        if (ctx->debugging) {
            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
            time_end_84074 = get_wall_time();
            
            long time_diff_84075 = time_end_84074 - time_start_84073;
            
            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                    "builtin#replicate_f32.replicate_82516", time_diff_84075);
        }
    }
    
  cleanup:
    { }
    return err;
}
static int futrts_builtinzhreplicate_i64(struct futhark_context *ctx,
                                         struct memblock_device mem_82615,
                                         int32_t num_elems_82616,
                                         int64_t val_82617)
{
    (void) ctx;
    
    int err = 0;
    int64_t group_sizze_82622;
    
    group_sizze_82622 = ctx->sizes.builtinzhreplicate_i64zigroup_sizze_82622;
    
    int64_t num_groups_82623 = sdiv_up64(num_elems_82616, group_sizze_82622);
    
    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->builtinzhreplicate_i64zireplicate_82619,
                                            0, sizeof(num_elems_82616),
                                            &num_elems_82616));
    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->builtinzhreplicate_i64zireplicate_82619,
                                            1, sizeof(val_82617), &val_82617));
    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->builtinzhreplicate_i64zireplicate_82619,
                                            2, sizeof(mem_82615.mem),
                                            &mem_82615.mem));
    if (1 * ((size_t) num_groups_82623 * (size_t) group_sizze_82622) != 0) {
        const size_t global_work_sizze_84077[1] = {(size_t) num_groups_82623 *
                     (size_t) group_sizze_82622};
        const size_t local_work_sizze_84081[1] = {(size_t) group_sizze_82622};
        int64_t time_start_84078 = 0, time_end_84079 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log,
                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                    "builtin#replicate_i64.replicate_82619",
                    global_work_sizze_84077[0], local_work_sizze_84081[0],
                    (int) 0);
            time_start_84078 = get_wall_time();
        }
        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                        ctx->builtinzhreplicate_i64zireplicate_82619,
                                                        1, NULL,
                                                        global_work_sizze_84077,
                                                        local_work_sizze_84081,
                                                        0, NULL,
                                                        ctx->profiling_paused ||
                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                  &ctx->builtinzhreplicate_i64zireplicate_82619_runs,
                                                                                                  &ctx->builtinzhreplicate_i64zireplicate_82619_total_runtime)));
        if (ctx->debugging) {
            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
            time_end_84079 = get_wall_time();
            
            long time_diff_84080 = time_end_84079 - time_start_84078;
            
            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                    "builtin#replicate_i64.replicate_82619", time_diff_84080);
        }
    }
    
  cleanup:
    { }
    return err;
}
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock_device *mem_out_p_84082,
                             struct memblock_device Y_mem_81217,
                             int64_t m_70232, int64_t n_70233, int64_t q_70235,
                             int64_t degree_70236, int64_t jump_70237,
                             int64_t jump_threshold_70238,
                             int64_t q_threshold_70239)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_out_82511;
    
    mem_out_82511.references = NULL;
    
    bool cond_70240 = jump_70237 == (int64_t) 1;
    int64_t n_m_70241;
    
    if (cond_70240) {
        n_m_70241 = n_70233;
    } else {
        bool zzero_70242 = jump_70237 == (int64_t) 0;
        bool nonzzero_70243 = !zzero_70242;
        bool nonzzero_cert_70244;
        
        if (!nonzzero_70243) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  loess.fut:578:38-45\n   #1  loess.fut:571:1-610:26\n");
            if (memblock_unref_device(ctx, &mem_out_82511, "mem_out_82511") !=
                0)
                return 1;
            return 1;
        }
        
        int64_t x_70245 = sdiv64(n_70233, jump_70237);
        int64_t n_m_f_res_70246 = add64((int64_t) 1, x_70245);
        
        n_m_70241 = n_m_f_res_70246;
    }
    
    int64_t i_70247 = sub64(n_70233, (int64_t) 1);
    bool x_70248 = sle64((int64_t) 0, i_70247);
    bool y_70249 = slt64(i_70247, n_70233);
    bool bounds_check_70250 = x_70248 && y_70249;
    bool index_certs_70251;
    
    if (!bounds_check_70250) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [", (long long) i_70247,
                               "] out of bounds for array of shape [",
                               (long long) n_70233, "].",
                               "-> #0  /prelude/array.fut:26:29-34\n   #1  utils.fut:53:13-20\n   #2  loess.fut:583:5-54\n   #3  loess.fut:571:1-610:26\n");
        if (memblock_unref_device(ctx, &mem_out_82511, "mem_out_82511") != 0)
            return 1;
        return 1;
    }
    
    int64_t min_res_70253 = smin64(n_70233, q_70235);
    bool bounds_invalid_upwards_70254 = slt64(n_m_70241, (int64_t) 0);
    bool valid_70255 = !bounds_invalid_upwards_70254;
    bool range_valid_c_70256;
    
    if (!valid_70255) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) n_m_70241, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  utils.fut:6:3-16\n   #3  loess.fut:442:3-469:10\n   #4  loess.fut:502:15-61\n   #5  loess.fut:588:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:587:5-589:26\n   #9  loess.fut:571:1-610:26\n");
        if (memblock_unref_device(ctx, &mem_out_82511, "mem_out_82511") != 0)
            return 1;
        return 1;
    }
    
    bool loop_cond_70258 = slt64((int64_t) 1, min_res_70253);
    float i64_res_70259 = sitofp_i64_f32(q_70235);
    bool cond_70260 = slt64(jump_70237, jump_threshold_70238);
    bool cond_f_res_70261 = slt64(q_threshold_70239, q_70235);
    bool x_70262 = !cond_70260;
    bool y_70263 = cond_f_res_70261 && x_70262;
    bool cond_70264 = cond_70260 || y_70263;
    struct memblock_device ext_mem_82237;
    
    ext_mem_82237.references = NULL;
    
    struct memblock_device ext_mem_82236;
    
    ext_mem_82236.references = NULL;
    if (cond_70264) {
        bool match_lit_70267 = (int64_t) 0 == degree_70236;
        int64_t binop_x_81218 = m_70232 * n_m_70241;
        int64_t binop_y_81219 = (int64_t) 4 * binop_x_81218;
        int64_t bytes_81220 = smax64((int64_t) 0, binop_y_81219);
        struct memblock_device ext_mem_82065;
        
        ext_mem_82065.references = NULL;
        
        struct memblock_device ext_mem_82064;
        
        ext_mem_82064.references = NULL;
        if (match_lit_70267) {
            struct memblock_device mem_81221;
            
            mem_81221.references = NULL;
            if (memblock_alloc_device(ctx, &mem_81221, bytes_81220,
                                      "mem_81221")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f32(ctx, mem_81221, m_70232 *
                                              n_m_70241, 0.0F) != 0) {
                err = 1;
                goto cleanup;
            }
            
            bool suff_outer_par_71582;
            
            suff_outer_par_71582 = ctx->sizes.mainzisuff_outer_par_0 <= m_70232;
            if (ctx->logging)
                fprintf(ctx->log, "Compared %s <= %ld: %s.\n",
                        "main.suff_outer_par_0", (long) m_70232,
                        suff_outer_par_71582 ? "true" : "false");
            
            int64_t segmap_group_sizze_71763;
            
            segmap_group_sizze_71763 =
                ctx->sizes.mainzisegmap_group_sizze_71586;
            
            int64_t num_groups_71764;
            int32_t max_num_groups_82524;
            
            max_num_groups_82524 = ctx->sizes.mainzisegmap_num_groups_71588;
            num_groups_71764 = sext_i64_i32(smax64((int64_t) 1,
                                                   smin64(sdiv_up64(m_70232,
                                                                    segmap_group_sizze_71763),
                                                          sext_i32_i64(max_num_groups_82524))));
            
            int64_t nest_sizze_72663 = m_70232 * n_70233;
            int64_t segscan_group_sizze_72664;
            
            segscan_group_sizze_72664 =
                ctx->sizes.mainzisegscan_group_sizze_72647;
            
            int64_t num_groups_72665;
            int32_t max_num_groups_82525;
            
            max_num_groups_82525 = ctx->sizes.mainzisegscan_num_groups_72649;
            num_groups_72665 = sext_i64_i32(smax64((int64_t) 1,
                                                   smin64(sdiv_up64(nest_sizze_72663,
                                                                    segscan_group_sizze_72664),
                                                          sext_i32_i64(max_num_groups_82525))));
            
            int64_t segmap_group_sizze_72706;
            
            segmap_group_sizze_72706 =
                ctx->sizes.mainzisegmap_group_sizze_72578;
            
            int64_t segmap_group_sizze_72723;
            
            segmap_group_sizze_72723 =
                ctx->sizes.mainzisegmap_group_sizze_72558;
            
            int64_t segmap_group_sizze_72730;
            
            segmap_group_sizze_72730 =
                ctx->sizes.mainzisegmap_group_sizze_72534;
            
            int64_t nest_sizze_72749 = m_70232 * q_70235;
            int64_t segmap_group_sizze_72750;
            
            segmap_group_sizze_72750 =
                ctx->sizes.mainzisegmap_group_sizze_72515;
            
            bool suff_outer_par_72764;
            
            suff_outer_par_72764 = ctx->sizes.mainzisuff_outer_par_1 <=
                binop_x_81218;
            if (ctx->logging)
                fprintf(ctx->log, "Compared %s <= %ld: %s.\n",
                        "main.suff_outer_par_1", (long) binop_x_81218,
                        suff_outer_par_72764 ? "true" : "false");
            
            int64_t segmap_group_sizze_72913;
            
            segmap_group_sizze_72913 =
                ctx->sizes.mainzisegmap_group_sizze_72218;
            
            int64_t nest_sizze_73013 = q_70235 * binop_x_81218;
            int64_t segred_group_sizze_73014;
            
            segred_group_sizze_73014 =
                ctx->sizes.mainzisegred_group_sizze_72177;
            
            int64_t num_groups_73015;
            int32_t max_num_groups_82526;
            
            max_num_groups_82526 = ctx->sizes.mainzisegred_num_groups_72179;
            num_groups_73015 = sext_i64_i32(smax64((int64_t) 1,
                                                   smin64(sdiv_up64(nest_sizze_73013,
                                                                    segred_group_sizze_73014),
                                                          sext_i32_i64(max_num_groups_82526))));
            
            int64_t segmap_group_sizze_73049;
            
            segmap_group_sizze_73049 =
                ctx->sizes.mainzisegmap_group_sizze_72167;
            
            int64_t segred_group_sizze_73057;
            
            segred_group_sizze_73057 =
                ctx->sizes.mainzisegred_group_sizze_72116;
            
            int64_t num_groups_73058;
            int32_t max_num_groups_82527;
            
            max_num_groups_82527 = ctx->sizes.mainzisegred_num_groups_72118;
            num_groups_73058 = sext_i64_i32(smax64((int64_t) 1,
                                                   smin64(sdiv_up64(nest_sizze_73013,
                                                                    segred_group_sizze_73057),
                                                          sext_i32_i64(max_num_groups_82527))));
            
            int64_t tile_sizze_79093;
            
            tile_sizze_79093 = ctx->sizes.mainzitile_sizze_79092;
            
            int64_t group_sizze_79094 = tile_sizze_79093 * tile_sizze_79093;
            int64_t bytes_81223 = (int64_t) 4 * nest_sizze_72663;
            int64_t binop_y_81226 = (int64_t) 8 * n_70233;
            int64_t bytes_81227 = smax64((int64_t) 0, binop_y_81226);
            int64_t binop_y_81241 = (int64_t) 4 * n_70233;
            int64_t bytes_81242 = smax64((int64_t) 0, binop_y_81241);
            int64_t binop_y_81286 = (int64_t) 4 * q_70235;
            int64_t bytes_81287 = smax64((int64_t) 0, binop_y_81286);
            int64_t binop_y_81301 = (int64_t) 4 * n_m_70241;
            int64_t bytes_81302 = smax64((int64_t) 0, binop_y_81301);
            int64_t binop_y_81321 = (int64_t) 8 * nest_sizze_72663;
            int64_t bytes_81322 = smax64((int64_t) 0, binop_y_81321);
            int64_t bytes_81326 = smax64((int64_t) 0, bytes_81223);
            int64_t binop_y_81339 = (int64_t) 8 * m_70232;
            int64_t bytes_81340 = smax64((int64_t) 0, binop_y_81339);
            int64_t binop_y_81348 = (int64_t) 4 * m_70232;
            int64_t bytes_81349 = smax64((int64_t) 0, binop_y_81348);
            int64_t binop_y_81353 = (int64_t) 4 * nest_sizze_72749;
            int64_t bytes_81354 = smax64((int64_t) 0, binop_y_81353);
            int64_t bytes_81359 = (int64_t) 8 * group_sizze_79094;
            int64_t bytes_81368 = (int64_t) 4 * group_sizze_79094;
            int64_t bytes_81378 = smax64((int64_t) 0, bytes_81368);
            int64_t binop_x_82255 = (int64_t) 4 * tile_sizze_79093;
            int64_t sizze_82256 = tile_sizze_79093 * binop_x_82255;
            int64_t binop_y_81405 = (int64_t) 8 * binop_x_81218;
            int64_t bytes_81406 = smax64((int64_t) 0, binop_y_81405);
            int64_t binop_x_82316 = (int64_t) 4 * tile_sizze_79093;
            int64_t num_bytes_82317 = tile_sizze_79093 * binop_x_82316;
            int64_t maxSubHelper_82375 = umax64(sizze_82256, num_bytes_82317);
            int64_t num_threads_82442 = segmap_group_sizze_71763 *
                    num_groups_71764;
            int64_t total_sizze_82443 = bytes_81302 * num_threads_82442;
            int64_t total_sizze_82444 = bytes_81287 * num_threads_82442;
            int64_t total_sizze_82445 = bytes_81227 * num_threads_82442;
            int64_t total_sizze_82446 = bytes_81227 * num_threads_82442;
            int64_t total_sizze_82447 = bytes_81242 * num_threads_82442;
            struct memblock_device ext_mem_81437;
            
            ext_mem_81437.references = NULL;
            
            int32_t local_memory_capacity_82859;
            
            local_memory_capacity_82859 = ctx->opencl.max_local_memory;
            if (sle64((int64_t) 0, sext_i32_i64(local_memory_capacity_82859)) &&
                suff_outer_par_71582) {
                struct memblock_device mem_81224;
                
                mem_81224.references = NULL;
                if (memblock_alloc_device(ctx, &mem_81224, bytes_81223,
                                          "mem_81224")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhgpu_map_transpose_f32(ctx, mem_81224,
                                                          (int64_t) 0,
                                                          Y_mem_81217,
                                                          (int64_t) 0,
                                                          (int64_t) 1, n_70233,
                                                          m_70232) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_81318;
                
                mem_81318.references = NULL;
                if (memblock_alloc_device(ctx, &mem_81318, binop_y_81219,
                                          "mem_81318")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device color_82370;
                
                color_82370.references = NULL;
                if (memblock_alloc_device(ctx, &color_82370, total_sizze_82443,
                                          "color_82370")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device color_82371;
                
                color_82371.references = NULL;
                if (memblock_alloc_device(ctx, &color_82371, total_sizze_82444,
                                          "color_82371")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device color_82372;
                
                color_82372.references = NULL;
                if (memblock_alloc_device(ctx, &color_82372, total_sizze_82445,
                                          "color_82372")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device color_82373;
                
                color_82373.references = NULL;
                if (memblock_alloc_device(ctx, &color_82373, total_sizze_82446,
                                          "color_82373")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device color_82374;
                
                color_82374.references = NULL;
                if (memblock_alloc_device(ctx, &color_82374, total_sizze_82447,
                                          "color_82374")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        1,
                                                        sizeof(ctx->failure_is_an_option),
                                                        &ctx->failure_is_an_option));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        3, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        4, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        5, sizeof(q_70235),
                                                        &q_70235));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        6, sizeof(jump_70237),
                                                        &jump_70237));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        7, sizeof(n_m_70241),
                                                        &n_m_70241));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        8, sizeof(i_70247),
                                                        &i_70247));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        9, sizeof(x_70248),
                                                        &x_70248));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        10,
                                                        sizeof(min_res_70253),
                                                        &min_res_70253));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        11,
                                                        sizeof(loop_cond_70258),
                                                        &loop_cond_70258));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        12,
                                                        sizeof(i64_res_70259),
                                                        &i64_res_70259));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        13,
                                                        sizeof(num_groups_71764),
                                                        &num_groups_71764));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        14,
                                                        sizeof(num_threads_82442),
                                                        &num_threads_82442));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        15,
                                                        sizeof(mem_81224.mem),
                                                        &mem_81224.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        16,
                                                        sizeof(mem_81318.mem),
                                                        &mem_81318.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        17,
                                                        sizeof(color_82370.mem),
                                                        &color_82370.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        18,
                                                        sizeof(color_82371.mem),
                                                        &color_82371.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        19,
                                                        sizeof(color_82372.mem),
                                                        &color_82372.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        20,
                                                        sizeof(color_82373.mem),
                                                        &color_82373.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_71584,
                                                        21,
                                                        sizeof(color_82374.mem),
                                                        &color_82374.mem));
                if (1 * ((size_t) num_groups_71764 *
                         (size_t) segmap_group_sizze_71763) != 0) {
                    const size_t global_work_sizze_84083[1] =
                                 {(size_t) num_groups_71764 *
                                 (size_t) segmap_group_sizze_71763};
                    const size_t local_work_sizze_84087[1] =
                                 {(size_t) segmap_group_sizze_71763};
                    int64_t time_start_84084 = 0, time_end_84085 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_71584", global_work_sizze_84083[0],
                                local_work_sizze_84087[0], (int) 0);
                        time_start_84084 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_71584,
                                                                    1, NULL,
                                                                    global_work_sizze_84083,
                                                                    local_work_sizze_84087,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_71584_runs,
                                                                                                              &ctx->mainzisegmap_71584_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84085 = get_wall_time();
                        
                        long time_diff_84086 = time_end_84085 -
                             time_start_84084;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_71584", time_diff_84086);
                    }
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_81224, "mem_81224") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &color_82370, "color_82370") !=
                    0)
                    return 1;
                if (memblock_unref_device(ctx, &color_82371, "color_82371") !=
                    0)
                    return 1;
                if (memblock_unref_device(ctx, &color_82372, "color_82372") !=
                    0)
                    return 1;
                if (memblock_unref_device(ctx, &color_82373, "color_82373") !=
                    0)
                    return 1;
                if (memblock_unref_device(ctx, &color_82374, "color_82374") !=
                    0)
                    return 1;
                
                struct memblock_device mem_81435;
                
                mem_81435.references = NULL;
                if (memblock_alloc_device(ctx, &mem_81435, bytes_81220,
                                          "mem_81435")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhgpu_map_transpose_f32(ctx, mem_81435,
                                                          (int64_t) 0,
                                                          mem_81318,
                                                          (int64_t) 0,
                                                          (int64_t) 1, m_70232,
                                                          n_m_70241) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_81318, "mem_81318") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_81437, &mem_81435,
                                        "mem_81435") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81435, "mem_81435") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &color_82374, "color_82374") !=
                    0)
                    return 1;
                if (memblock_unref_device(ctx, &color_82373, "color_82373") !=
                    0)
                    return 1;
                if (memblock_unref_device(ctx, &color_82372, "color_82372") !=
                    0)
                    return 1;
                if (memblock_unref_device(ctx, &color_82371, "color_82371") !=
                    0)
                    return 1;
                if (memblock_unref_device(ctx, &color_82370, "color_82370") !=
                    0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81318, "mem_81318") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81224, "mem_81224") != 0)
                    return 1;
            } else {
                struct memblock_device mem_81323;
                
                mem_81323.references = NULL;
                if (memblock_alloc_device(ctx, &mem_81323, bytes_81322,
                                          "mem_81323")) {
                    err = 1;
                    goto cleanup;
                }
                if (slt64((int64_t) 0, m_70232 * n_70233)) {
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegScan");
                    
                    int64_t stage1_max_num_groups_82559;
                    
                    stage1_max_num_groups_82559 = ctx->opencl.max_group_size;
                    
                    int64_t stage1_num_groups_82560 =
                            smin64(stage1_max_num_groups_82559,
                                   num_groups_72665);
                    int32_t num_threads_82561 =
                            sext_i64_i32(stage1_num_groups_82560 *
                            segscan_group_sizze_72664);
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_72653,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            segscan_group_sizze_72664),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_72653,
                                                            2, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_72653,
                                                            3, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_72653,
                                                            4,
                                                            sizeof(num_threads_82561),
                                                            &num_threads_82561));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_72653,
                                                            5,
                                                            sizeof(Y_mem_81217.mem),
                                                            &Y_mem_81217.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_72653,
                                                            6,
                                                            sizeof(mem_81323.mem),
                                                            &mem_81323.mem));
                    if (1 * ((size_t) stage1_num_groups_82560 *
                             (size_t) segscan_group_sizze_72664) != 0) {
                        const size_t global_work_sizze_84088[1] =
                                     {(size_t) stage1_num_groups_82560 *
                                     (size_t) segscan_group_sizze_72664};
                        const size_t local_work_sizze_84092[1] =
                                     {(size_t) segscan_group_sizze_72664};
                        int64_t time_start_84089 = 0, time_end_84090 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage1_72653",
                                    global_work_sizze_84088[0],
                                    local_work_sizze_84092[0], (int) (0 +
                                                                      smax64((int64_t) 1,
                                                                             (int64_t) 8 *
                                                                             segscan_group_sizze_72664)));
                            time_start_84089 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage1_72653,
                                                                        1, NULL,
                                                                        global_work_sizze_84088,
                                                                        local_work_sizze_84092,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage1_72653_runs,
                                                                                                                  &ctx->mainziscan_stage1_72653_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84090 = get_wall_time();
                            
                            long time_diff_84091 = time_end_84090 -
                                 time_start_84089;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage1_72653", time_diff_84091);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                                (long long) (segscan_group_sizze_72664 *
                                             sdiv_up64(m_70232 * n_70233,
                                                       sext_i32_i64(num_threads_82561))),
                                '\n');
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_72653,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            stage1_num_groups_82560),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_72653,
                                                            2, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_72653,
                                                            3, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_72653,
                                                            4,
                                                            sizeof(stage1_num_groups_82560),
                                                            &stage1_num_groups_82560));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_72653,
                                                            5,
                                                            sizeof(num_threads_82561),
                                                            &num_threads_82561));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_72653,
                                                            6,
                                                            sizeof(mem_81323.mem),
                                                            &mem_81323.mem));
                    if (1 * ((size_t) (int64_t) 1 *
                             (size_t) stage1_num_groups_82560) != 0) {
                        const size_t global_work_sizze_84093[1] =
                                     {(size_t) (int64_t) 1 *
                                     (size_t) stage1_num_groups_82560};
                        const size_t local_work_sizze_84097[1] =
                                     {(size_t) stage1_num_groups_82560};
                        int64_t time_start_84094 = 0, time_end_84095 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage2_72653",
                                    global_work_sizze_84093[0],
                                    local_work_sizze_84097[0], (int) (0 +
                                                                      smax64((int64_t) 1,
                                                                             (int64_t) 8 *
                                                                             stage1_num_groups_82560)));
                            time_start_84094 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage2_72653,
                                                                        1, NULL,
                                                                        global_work_sizze_84093,
                                                                        local_work_sizze_84097,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage2_72653_runs,
                                                                                                                  &ctx->mainziscan_stage2_72653_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84095 = get_wall_time();
                            
                            long time_diff_84096 = time_end_84095 -
                                 time_start_84094;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage2_72653", time_diff_84096);
                        }
                    }
                    
                    int32_t required_groups_82603 =
                            sext_i64_i32(sdiv_up64(m_70232 * n_70233,
                                                   segscan_group_sizze_72664));
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_72653,
                                                            1, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_72653,
                                                            2, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_72653,
                                                            3,
                                                            sizeof(num_groups_72665),
                                                            &num_groups_72665));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_72653,
                                                            4,
                                                            sizeof(num_threads_82561),
                                                            &num_threads_82561));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_72653,
                                                            5,
                                                            sizeof(required_groups_82603),
                                                            &required_groups_82603));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_72653,
                                                            6,
                                                            sizeof(mem_81323.mem),
                                                            &mem_81323.mem));
                    if (1 * ((size_t) num_groups_72665 *
                             (size_t) segscan_group_sizze_72664) != 0) {
                        const size_t global_work_sizze_84098[1] =
                                     {(size_t) num_groups_72665 *
                                     (size_t) segscan_group_sizze_72664};
                        const size_t local_work_sizze_84102[1] =
                                     {(size_t) segscan_group_sizze_72664};
                        int64_t time_start_84099 = 0, time_end_84100 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage3_72653",
                                    global_work_sizze_84098[0],
                                    local_work_sizze_84102[0], (int) 0);
                            time_start_84099 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage3_72653,
                                                                        1, NULL,
                                                                        global_work_sizze_84098,
                                                                        local_work_sizze_84102,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage3_72653_runs,
                                                                                                                  &ctx->mainziscan_stage3_72653_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84100 = get_wall_time();
                            
                            long time_diff_84101 = time_end_84100 -
                                 time_start_84099;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage3_72653", time_diff_84101);
                        }
                    }
                }
                
                struct memblock_device mem_81327;
                
                mem_81327.references = NULL;
                if (memblock_alloc_device(ctx, &mem_81327, bytes_81326,
                                          "mem_81327")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_f32(ctx, mem_81327, m_70232 *
                                                  n_70233, 0.0F) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_81331;
                
                mem_81331.references = NULL;
                if (memblock_alloc_device(ctx, &mem_81331, bytes_81322,
                                          "mem_81331")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, mem_81331, m_70232 *
                                                  n_70233, (int64_t) -1) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t segmap_usable_groups_72707 = sdiv_up64(nest_sizze_72663,
                                                               segmap_group_sizze_72706);
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72575,
                                                        1, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72575,
                                                        2, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72575,
                                                        3,
                                                        sizeof(Y_mem_81217.mem),
                                                        &Y_mem_81217.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72575,
                                                        4,
                                                        sizeof(mem_81323.mem),
                                                        &mem_81323.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72575,
                                                        5,
                                                        sizeof(mem_81327.mem),
                                                        &mem_81327.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72575,
                                                        6,
                                                        sizeof(mem_81331.mem),
                                                        &mem_81331.mem));
                if (1 * ((size_t) segmap_usable_groups_72707 *
                         (size_t) segmap_group_sizze_72706) != 0) {
                    const size_t global_work_sizze_84103[1] =
                                 {(size_t) segmap_usable_groups_72707 *
                                 (size_t) segmap_group_sizze_72706};
                    const size_t local_work_sizze_84107[1] =
                                 {(size_t) segmap_group_sizze_72706};
                    int64_t time_start_84104 = 0, time_end_84105 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_72575", global_work_sizze_84103[0],
                                local_work_sizze_84107[0], (int) 0);
                        time_start_84104 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_72575,
                                                                    1, NULL,
                                                                    global_work_sizze_84103,
                                                                    local_work_sizze_84107,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_72575_runs,
                                                                                                              &ctx->mainzisegmap_72575_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84105 = get_wall_time();
                        
                        long time_diff_84106 = time_end_84105 -
                             time_start_84104;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_72575", time_diff_84106);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_usable_groups_72724 = sdiv_up64(nest_sizze_72663,
                                                               segmap_group_sizze_72723);
                struct memblock_device mem_81337;
                
                mem_81337.references = NULL;
                if (memblock_alloc_device(ctx, &mem_81337, bytes_81322,
                                          "mem_81337")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72555,
                                                        1, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72555,
                                                        2, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72555,
                                                        3,
                                                        sizeof(mem_81331.mem),
                                                        &mem_81331.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72555,
                                                        4,
                                                        sizeof(mem_81337.mem),
                                                        &mem_81337.mem));
                if (1 * ((size_t) segmap_usable_groups_72724 *
                         (size_t) segmap_group_sizze_72723) != 0) {
                    const size_t global_work_sizze_84108[1] =
                                 {(size_t) segmap_usable_groups_72724 *
                                 (size_t) segmap_group_sizze_72723};
                    const size_t local_work_sizze_84112[1] =
                                 {(size_t) segmap_group_sizze_72723};
                    int64_t time_start_84109 = 0, time_end_84110 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_72555", global_work_sizze_84108[0],
                                local_work_sizze_84112[0], (int) 0);
                        time_start_84109 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_72555,
                                                                    1, NULL,
                                                                    global_work_sizze_84108,
                                                                    local_work_sizze_84112,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_72555_runs,
                                                                                                              &ctx->mainzisegmap_72555_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84110 = get_wall_time();
                        
                        long time_diff_84111 = time_end_84110 -
                             time_start_84109;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_72555", time_diff_84111);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_usable_groups_72731 = sdiv_up64(m_70232,
                                                               segmap_group_sizze_72730);
                struct memblock_device mem_81341;
                
                mem_81341.references = NULL;
                if (memblock_alloc_device(ctx, &mem_81341, bytes_81340,
                                          "mem_81341")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_81344;
                
                mem_81344.references = NULL;
                if (memblock_alloc_device(ctx, &mem_81344, bytes_81340,
                                          "mem_81344")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_81347;
                
                mem_81347.references = NULL;
                if (memblock_alloc_device(ctx, &mem_81347, bytes_81340,
                                          "mem_81347")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_81350;
                
                mem_81350.references = NULL;
                if (memblock_alloc_device(ctx, &mem_81350, bytes_81349,
                                          "mem_81350")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72532,
                                                        1, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72532,
                                                        2, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72532,
                                                        3, sizeof(q_70235),
                                                        &q_70235));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72532,
                                                        4, sizeof(i_70247),
                                                        &i_70247));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72532,
                                                        5,
                                                        sizeof(min_res_70253),
                                                        &min_res_70253));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72532,
                                                        6,
                                                        sizeof(i64_res_70259),
                                                        &i64_res_70259));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72532,
                                                        7,
                                                        sizeof(mem_81323.mem),
                                                        &mem_81323.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72532,
                                                        8,
                                                        sizeof(mem_81341.mem),
                                                        &mem_81341.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72532,
                                                        9,
                                                        sizeof(mem_81344.mem),
                                                        &mem_81344.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72532,
                                                        10,
                                                        sizeof(mem_81347.mem),
                                                        &mem_81347.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72532,
                                                        11,
                                                        sizeof(mem_81350.mem),
                                                        &mem_81350.mem));
                if (1 * ((size_t) segmap_usable_groups_72731 *
                         (size_t) segmap_group_sizze_72730) != 0) {
                    const size_t global_work_sizze_84113[1] =
                                 {(size_t) segmap_usable_groups_72731 *
                                 (size_t) segmap_group_sizze_72730};
                    const size_t local_work_sizze_84117[1] =
                                 {(size_t) segmap_group_sizze_72730};
                    int64_t time_start_84114 = 0, time_end_84115 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_72532", global_work_sizze_84113[0],
                                local_work_sizze_84117[0], (int) 0);
                        time_start_84114 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_72532,
                                                                    1, NULL,
                                                                    global_work_sizze_84113,
                                                                    local_work_sizze_84117,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_72532_runs,
                                                                                                              &ctx->mainzisegmap_72532_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84115 = get_wall_time();
                        
                        long time_diff_84116 = time_end_84115 -
                             time_start_84114;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_72532", time_diff_84116);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_usable_groups_72751 = sdiv_up64(nest_sizze_72749,
                                                               segmap_group_sizze_72750);
                struct memblock_device mem_81355;
                
                mem_81355.references = NULL;
                if (memblock_alloc_device(ctx, &mem_81355, bytes_81354,
                                          "mem_81355")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72512,
                                                        1, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72512,
                                                        2, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72512,
                                                        3, sizeof(q_70235),
                                                        &q_70235));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72512,
                                                        4, sizeof(i_70247),
                                                        &i_70247));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72512,
                                                        5,
                                                        sizeof(mem_81323.mem),
                                                        &mem_81323.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72512,
                                                        6,
                                                        sizeof(mem_81355.mem),
                                                        &mem_81355.mem));
                if (1 * ((size_t) segmap_usable_groups_72751 *
                         (size_t) segmap_group_sizze_72750) != 0) {
                    const size_t global_work_sizze_84118[1] =
                                 {(size_t) segmap_usable_groups_72751 *
                                 (size_t) segmap_group_sizze_72750};
                    const size_t local_work_sizze_84122[1] =
                                 {(size_t) segmap_group_sizze_72750};
                    int64_t time_start_84119 = 0, time_end_84120 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_72512", global_work_sizze_84118[0],
                                local_work_sizze_84122[0], (int) 0);
                        time_start_84119 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_72512,
                                                                    1, NULL,
                                                                    global_work_sizze_84118,
                                                                    local_work_sizze_84122,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_72512_runs,
                                                                                                              &ctx->mainzisegmap_72512_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84120 = get_wall_time();
                        
                        long time_diff_84121 = time_end_84120 -
                             time_start_84119;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_72512", time_diff_84121);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                struct memblock_device ext_mem_81431;
                
                ext_mem_81431.references = NULL;
                
                int32_t local_memory_capacity_82858;
                
                local_memory_capacity_82858 = ctx->opencl.max_local_memory;
                if (sle64(bytes_81378 + srem64((int64_t) 8 - srem64(bytes_81378,
                                                                    (int64_t) 8),
                                               (int64_t) 8),
                          sext_i32_i64(local_memory_capacity_82858)) &&
                    suff_outer_par_72764) {
                    int64_t num_groups_x_79095 = sdiv_up64(m_70232,
                                                           tile_sizze_79093);
                    int64_t num_groups_y_79096 = sdiv_up64(n_m_70241,
                                                           tile_sizze_79093);
                    int64_t num_groups_top_79097 = num_groups_x_79095 *
                            num_groups_y_79096;
                    int64_t num_whole_tiles_79225 = squot64(q_70235,
                                                            tile_sizze_79093);
                    int64_t residual_input_79406 = srem64(q_70235,
                                                          tile_sizze_79093);
                    bool cond_79407 = residual_input_79406 == (int64_t) 0;
                    struct memblock_device mem_81402;
                    
                    mem_81402.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81402, bytes_81220,
                                              "mem_81402")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            1,
                                                            sizeof(ctx->failure_is_an_option),
                                                            &ctx->failure_is_an_option));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            3,
                                                            (size_t) bytes_81378,
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            4, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            5, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            6, sizeof(q_70235),
                                                            &q_70235));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            7,
                                                            sizeof(jump_70237),
                                                            &jump_70237));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            8,
                                                            sizeof(n_m_70241),
                                                            &n_m_70241));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            9, sizeof(i_70247),
                                                            &i_70247));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            10, sizeof(x_70248),
                                                            &x_70248));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            11,
                                                            sizeof(min_res_70253),
                                                            &min_res_70253));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            12,
                                                            sizeof(loop_cond_70258),
                                                            &loop_cond_70258));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            13,
                                                            sizeof(num_groups_x_79095),
                                                            &num_groups_x_79095));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            14,
                                                            sizeof(num_groups_y_79096),
                                                            &num_groups_y_79096));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            15,
                                                            sizeof(num_whole_tiles_79225),
                                                            &num_whole_tiles_79225));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            16,
                                                            sizeof(residual_input_79406),
                                                            &residual_input_79406));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            17,
                                                            sizeof(cond_79407),
                                                            &cond_79407));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            18,
                                                            sizeof(mem_81323.mem),
                                                            &mem_81323.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            19,
                                                            sizeof(mem_81327.mem),
                                                            &mem_81327.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            20,
                                                            sizeof(mem_81331.mem),
                                                            &mem_81331.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            21,
                                                            sizeof(mem_81337.mem),
                                                            &mem_81337.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            22,
                                                            sizeof(mem_81341.mem),
                                                            &mem_81341.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            23,
                                                            sizeof(mem_81344.mem),
                                                            &mem_81344.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            24,
                                                            sizeof(mem_81347.mem),
                                                            &mem_81347.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            25,
                                                            sizeof(mem_81350.mem),
                                                            &mem_81350.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            26,
                                                            sizeof(mem_81355.mem),
                                                            &mem_81355.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79098,
                                                            27,
                                                            sizeof(mem_81402.mem),
                                                            &mem_81402.mem));
                    if (1 * ((size_t) num_groups_top_79097 *
                             (size_t) group_sizze_79094) != 0) {
                        const size_t global_work_sizze_84123[1] =
                                     {(size_t) num_groups_top_79097 *
                                     (size_t) group_sizze_79094};
                        const size_t local_work_sizze_84127[1] =
                                     {(size_t) group_sizze_79094};
                        int64_t time_start_84124 = 0, time_end_84125 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_intragroup_79098",
                                    global_work_sizze_84123[0],
                                    local_work_sizze_84127[0], (int) (0 +
                                                                      bytes_81378));
                            time_start_84124 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_intragroup_79098,
                                                                        1, NULL,
                                                                        global_work_sizze_84123,
                                                                        local_work_sizze_84127,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_intragroup_79098_runs,
                                                                                                                  &ctx->mainzisegmap_intragroup_79098_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84125 = get_wall_time();
                            
                            long time_diff_84126 = time_end_84125 -
                                 time_start_84124;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_intragroup_79098",
                                    time_diff_84126);
                        }
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_81431, &mem_81402,
                                            "mem_81402") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81402, "mem_81402") !=
                        0)
                        return 1;
                } else {
                    int64_t segmap_usable_groups_72914 =
                            sdiv_up64(binop_x_81218, segmap_group_sizze_72913);
                    struct memblock_device mem_81407;
                    
                    mem_81407.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81407, bytes_81406,
                                              "mem_81407")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81411;
                    
                    mem_81411.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81411, bytes_81406,
                                              "mem_81411")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81415;
                    
                    mem_81415.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81415, bytes_81220,
                                              "mem_81415")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            1,
                                                            sizeof(ctx->failure_is_an_option),
                                                            &ctx->failure_is_an_option));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            3, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            4, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            5,
                                                            sizeof(jump_70237),
                                                            &jump_70237));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            6,
                                                            sizeof(n_m_70241),
                                                            &n_m_70241));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            7, sizeof(i_70247),
                                                            &i_70247));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            8, sizeof(x_70248),
                                                            &x_70248));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            9,
                                                            sizeof(min_res_70253),
                                                            &min_res_70253));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            10,
                                                            sizeof(loop_cond_70258),
                                                            &loop_cond_70258));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            11,
                                                            sizeof(mem_81331.mem),
                                                            &mem_81331.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            12,
                                                            sizeof(mem_81337.mem),
                                                            &mem_81337.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            13,
                                                            sizeof(mem_81341.mem),
                                                            &mem_81341.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            14,
                                                            sizeof(mem_81344.mem),
                                                            &mem_81344.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            15,
                                                            sizeof(mem_81347.mem),
                                                            &mem_81347.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            16,
                                                            sizeof(mem_81350.mem),
                                                            &mem_81350.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            17,
                                                            sizeof(mem_81407.mem),
                                                            &mem_81407.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            18,
                                                            sizeof(mem_81411.mem),
                                                            &mem_81411.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72215,
                                                            19,
                                                            sizeof(mem_81415.mem),
                                                            &mem_81415.mem));
                    if (1 * ((size_t) segmap_usable_groups_72914 *
                             (size_t) segmap_group_sizze_72913) != 0) {
                        const size_t global_work_sizze_84128[1] =
                                     {(size_t) segmap_usable_groups_72914 *
                                     (size_t) segmap_group_sizze_72913};
                        const size_t local_work_sizze_84132[1] =
                                     {(size_t) segmap_group_sizze_72913};
                        int64_t time_start_84129 = 0, time_end_84130 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_72215",
                                    global_work_sizze_84128[0],
                                    local_work_sizze_84132[0], (int) 0);
                            time_start_84129 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_72215,
                                                                        1, NULL,
                                                                        global_work_sizze_84128,
                                                                        local_work_sizze_84132,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_72215_runs,
                                                                                                                  &ctx->mainzisegmap_72215_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84130 = get_wall_time();
                            
                            long time_diff_84131 = time_end_84130 -
                                 time_start_84129;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_72215", time_diff_84131);
                        }
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_81407, "mem_81407") !=
                        0)
                        return 1;
                    
                    struct memblock_device mem_81420;
                    
                    mem_81420.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81420, bytes_81220,
                                              "mem_81420")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64(q_70235 * (int64_t) 2,
                              segred_group_sizze_73014)) {
                        int64_t segment_sizze_nonzzero_82712 =
                                smax64((int64_t) 1, q_70235);
                        int64_t num_threads_82713 = num_groups_73015 *
                                segred_group_sizze_73014;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                    (long long) (m_70232 * n_m_70241), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                    (long long) q_70235, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c",
                                    "segments_per_group",
                                    (long long) squot64(segred_group_sizze_73014,
                                                        segment_sizze_nonzzero_82712),
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "required_groups",
                                    (long long) sext_i64_i32(sdiv_up64(m_70232 *
                                                                       n_m_70241,
                                                                       squot64(segred_group_sizze_73014,
                                                                               segment_sizze_nonzzero_82712))),
                                    '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                1,
                                                                (size_t) ((int64_t) 4 *
                                                                          segred_group_sizze_73014),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                2,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                3,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                4,
                                                                sizeof(q_70235),
                                                                &q_70235));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                5,
                                                                sizeof(jump_70237),
                                                                &jump_70237));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                6,
                                                                sizeof(n_m_70241),
                                                                &n_m_70241));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                7,
                                                                sizeof(i_70247),
                                                                &i_70247));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                8,
                                                                sizeof(num_groups_73015),
                                                                &num_groups_73015));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                9,
                                                                sizeof(segment_sizze_nonzzero_82712),
                                                                &segment_sizze_nonzzero_82712));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                10,
                                                                sizeof(mem_81323.mem),
                                                                &mem_81323.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                11,
                                                                sizeof(mem_81331.mem),
                                                                &mem_81331.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                12,
                                                                sizeof(mem_81355.mem),
                                                                &mem_81355.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                13,
                                                                sizeof(mem_81411.mem),
                                                                &mem_81411.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                14,
                                                                sizeof(mem_81415.mem),
                                                                &mem_81415.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72183,
                                                                15,
                                                                sizeof(mem_81420.mem),
                                                                &mem_81420.mem));
                        if (1 * ((size_t) num_groups_73015 *
                                 (size_t) segred_group_sizze_73014) != 0) {
                            const size_t global_work_sizze_84133[1] =
                                         {(size_t) num_groups_73015 *
                                         (size_t) segred_group_sizze_73014};
                            const size_t local_work_sizze_84137[1] =
                                         {(size_t) segred_group_sizze_73014};
                            int64_t time_start_84134 = 0, time_end_84135 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segred_small_72183",
                                        global_work_sizze_84133[0],
                                        local_work_sizze_84137[0], (int) (0 +
                                                                          (int64_t) 4 *
                                                                          segred_group_sizze_73014));
                                time_start_84134 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegred_small_72183,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84133,
                                                                            local_work_sizze_84137,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegred_small_72183_runs,
                                                                                                                      &ctx->mainzisegred_small_72183_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84135 = get_wall_time();
                                
                                long time_diff_84136 = time_end_84135 -
                                     time_start_84134;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segred_small_72183",
                                        time_diff_84136);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                    } else {
                        int64_t groups_per_segment_82737 =
                                sdiv_up64(num_groups_73015, smax64((int64_t) 1,
                                                                   m_70232 *
                                                                   n_m_70241));
                        int64_t elements_per_thread_82738 = sdiv_up64(q_70235,
                                                                      segred_group_sizze_73014 *
                                                                      groups_per_segment_82737);
                        int64_t virt_num_groups_82739 =
                                groups_per_segment_82737 * (m_70232 *
                                                            n_m_70241);
                        int64_t num_threads_82740 = num_groups_73015 *
                                segred_group_sizze_73014;
                        int64_t threads_per_segment_82741 =
                                groups_per_segment_82737 *
                                segred_group_sizze_73014;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                    (long long) (m_70232 * n_m_70241), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                    (long long) q_70235, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "virt_num_groups",
                                    (long long) virt_num_groups_82739, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_groups",
                                    (long long) num_groups_73015, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "group_size",
                                    (long long) segred_group_sizze_73014, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_thread",
                                    (long long) elements_per_thread_82738,
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c",
                                    "groups_per_segment",
                                    (long long) groups_per_segment_82737, '\n');
                        
                        struct memblock_device segred_tmp_mem_82742;
                        
                        segred_tmp_mem_82742.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_82742,
                                                  (int64_t) 4 *
                                                  virt_num_groups_82739,
                                                  "segred_tmp_mem_82742")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mainzicounter_mem_82744 =
                                               ctx->mainzicounter_mem_82744;
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                1, (size_t) 1,
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                2,
                                                                (size_t) ((int64_t) 4 *
                                                                          segred_group_sizze_73014),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                3,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                4,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                5,
                                                                sizeof(q_70235),
                                                                &q_70235));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                6,
                                                                sizeof(jump_70237),
                                                                &jump_70237));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                7,
                                                                sizeof(n_m_70241),
                                                                &n_m_70241));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                8,
                                                                sizeof(i_70247),
                                                                &i_70247));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                9,
                                                                sizeof(num_groups_73015),
                                                                &num_groups_73015));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                10,
                                                                sizeof(groups_per_segment_82737),
                                                                &groups_per_segment_82737));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                11,
                                                                sizeof(elements_per_thread_82738),
                                                                &elements_per_thread_82738));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                12,
                                                                sizeof(virt_num_groups_82739),
                                                                &virt_num_groups_82739));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                13,
                                                                sizeof(threads_per_segment_82741),
                                                                &threads_per_segment_82741));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                14,
                                                                sizeof(mem_81323.mem),
                                                                &mem_81323.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                15,
                                                                sizeof(mem_81331.mem),
                                                                &mem_81331.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                16,
                                                                sizeof(mem_81355.mem),
                                                                &mem_81355.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                17,
                                                                sizeof(mem_81411.mem),
                                                                &mem_81411.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                18,
                                                                sizeof(mem_81415.mem),
                                                                &mem_81415.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                19,
                                                                sizeof(mem_81420.mem),
                                                                &mem_81420.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                20,
                                                                sizeof(segred_tmp_mem_82742.mem),
                                                                &segred_tmp_mem_82742.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72183,
                                                                21,
                                                                sizeof(mainzicounter_mem_82744.mem),
                                                                &mainzicounter_mem_82744.mem));
                        if (1 * ((size_t) num_groups_73015 *
                                 (size_t) segred_group_sizze_73014) != 0) {
                            const size_t global_work_sizze_84139[1] =
                                         {(size_t) num_groups_73015 *
                                         (size_t) segred_group_sizze_73014};
                            const size_t local_work_sizze_84143[1] =
                                         {(size_t) segred_group_sizze_73014};
                            int64_t time_start_84140 = 0, time_end_84141 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segred_large_72183",
                                        global_work_sizze_84139[0],
                                        local_work_sizze_84143[0], (int) (0 +
                                                                          1 +
                                                                          (int64_t) 4 *
                                                                          segred_group_sizze_73014));
                                time_start_84140 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegred_large_72183,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84139,
                                                                            local_work_sizze_84143,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegred_large_72183_runs,
                                                                                                                      &ctx->mainzisegred_large_72183_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84141 = get_wall_time();
                                
                                long time_diff_84142 = time_end_84141 -
                                     time_start_84140;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segred_large_72183",
                                        time_diff_84142);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &segred_tmp_mem_82742,
                                                  "segred_tmp_mem_82742") != 0)
                            return 1;
                    }
                    
                    int64_t segmap_usable_groups_73050 =
                            sdiv_up64(binop_x_81218, segmap_group_sizze_73049);
                    struct memblock_device mem_81425;
                    
                    mem_81425.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81425, bytes_81220,
                                              "mem_81425")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72164,
                                                            1, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72164,
                                                            2,
                                                            sizeof(n_m_70241),
                                                            &n_m_70241));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72164,
                                                            3,
                                                            sizeof(mem_81420.mem),
                                                            &mem_81420.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_72164,
                                                            4,
                                                            sizeof(mem_81425.mem),
                                                            &mem_81425.mem));
                    if (1 * ((size_t) segmap_usable_groups_73050 *
                             (size_t) segmap_group_sizze_73049) != 0) {
                        const size_t global_work_sizze_84144[1] =
                                     {(size_t) segmap_usable_groups_73050 *
                                     (size_t) segmap_group_sizze_73049};
                        const size_t local_work_sizze_84148[1] =
                                     {(size_t) segmap_group_sizze_73049};
                        int64_t time_start_84145 = 0, time_end_84146 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_72164",
                                    global_work_sizze_84144[0],
                                    local_work_sizze_84148[0], (int) 0);
                            time_start_84145 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_72164,
                                                                        1, NULL,
                                                                        global_work_sizze_84144,
                                                                        local_work_sizze_84148,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_72164_runs,
                                                                                                                  &ctx->mainzisegmap_72164_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84146 = get_wall_time();
                            
                            long time_diff_84147 = time_end_84146 -
                                 time_start_84145;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_72164", time_diff_84147);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_81420, "mem_81420") !=
                        0)
                        return 1;
                    
                    struct memblock_device mem_81430;
                    
                    mem_81430.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81430, bytes_81220,
                                              "mem_81430")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64(q_70235 * (int64_t) 2,
                              segred_group_sizze_73057)) {
                        int64_t segment_sizze_nonzzero_82790 =
                                smax64((int64_t) 1, q_70235);
                        int64_t num_threads_82791 = num_groups_73058 *
                                segred_group_sizze_73057;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                    (long long) (m_70232 * n_m_70241), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                    (long long) q_70235, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c",
                                    "segments_per_group",
                                    (long long) squot64(segred_group_sizze_73057,
                                                        segment_sizze_nonzzero_82790),
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "required_groups",
                                    (long long) sext_i64_i32(sdiv_up64(m_70232 *
                                                                       n_m_70241,
                                                                       squot64(segred_group_sizze_73057,
                                                                               segment_sizze_nonzzero_82790))),
                                    '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                1,
                                                                (size_t) ((int64_t) 4 *
                                                                          segred_group_sizze_73057),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                2,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                3,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                4,
                                                                sizeof(q_70235),
                                                                &q_70235));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                5,
                                                                sizeof(jump_70237),
                                                                &jump_70237));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                6,
                                                                sizeof(n_m_70241),
                                                                &n_m_70241));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                7,
                                                                sizeof(i_70247),
                                                                &i_70247));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                8,
                                                                sizeof(num_groups_73058),
                                                                &num_groups_73058));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                9,
                                                                sizeof(segment_sizze_nonzzero_82790),
                                                                &segment_sizze_nonzzero_82790));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                10,
                                                                sizeof(mem_81323.mem),
                                                                &mem_81323.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                11,
                                                                sizeof(mem_81327.mem),
                                                                &mem_81327.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                12,
                                                                sizeof(mem_81331.mem),
                                                                &mem_81331.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                13,
                                                                sizeof(mem_81355.mem),
                                                                &mem_81355.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                14,
                                                                sizeof(mem_81411.mem),
                                                                &mem_81411.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                15,
                                                                sizeof(mem_81415.mem),
                                                                &mem_81415.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                16,
                                                                sizeof(mem_81425.mem),
                                                                &mem_81425.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_72122,
                                                                17,
                                                                sizeof(mem_81430.mem),
                                                                &mem_81430.mem));
                        if (1 * ((size_t) num_groups_73058 *
                                 (size_t) segred_group_sizze_73057) != 0) {
                            const size_t global_work_sizze_84149[1] =
                                         {(size_t) num_groups_73058 *
                                         (size_t) segred_group_sizze_73057};
                            const size_t local_work_sizze_84153[1] =
                                         {(size_t) segred_group_sizze_73057};
                            int64_t time_start_84150 = 0, time_end_84151 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segred_small_72122",
                                        global_work_sizze_84149[0],
                                        local_work_sizze_84153[0], (int) (0 +
                                                                          (int64_t) 4 *
                                                                          segred_group_sizze_73057));
                                time_start_84150 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegred_small_72122,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84149,
                                                                            local_work_sizze_84153,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegred_small_72122_runs,
                                                                                                                      &ctx->mainzisegred_small_72122_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84151 = get_wall_time();
                                
                                long time_diff_84152 = time_end_84151 -
                                     time_start_84150;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segred_small_72122",
                                        time_diff_84152);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                    } else {
                        int64_t groups_per_segment_82815 =
                                sdiv_up64(num_groups_73058, smax64((int64_t) 1,
                                                                   m_70232 *
                                                                   n_m_70241));
                        int64_t elements_per_thread_82816 = sdiv_up64(q_70235,
                                                                      segred_group_sizze_73057 *
                                                                      groups_per_segment_82815);
                        int64_t virt_num_groups_82817 =
                                groups_per_segment_82815 * (m_70232 *
                                                            n_m_70241);
                        int64_t num_threads_82818 = num_groups_73058 *
                                segred_group_sizze_73057;
                        int64_t threads_per_segment_82819 =
                                groups_per_segment_82815 *
                                segred_group_sizze_73057;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                    (long long) (m_70232 * n_m_70241), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                    (long long) q_70235, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "virt_num_groups",
                                    (long long) virt_num_groups_82817, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_groups",
                                    (long long) num_groups_73058, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "group_size",
                                    (long long) segred_group_sizze_73057, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_thread",
                                    (long long) elements_per_thread_82816,
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c",
                                    "groups_per_segment",
                                    (long long) groups_per_segment_82815, '\n');
                        
                        struct memblock_device segred_tmp_mem_82820;
                        
                        segred_tmp_mem_82820.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_82820,
                                                  (int64_t) 4 *
                                                  virt_num_groups_82817,
                                                  "segred_tmp_mem_82820")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mainzicounter_mem_82822 =
                                               ctx->mainzicounter_mem_82822;
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                1, (size_t) 1,
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                2,
                                                                (size_t) ((int64_t) 4 *
                                                                          segred_group_sizze_73057),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                3,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                4,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                5,
                                                                sizeof(q_70235),
                                                                &q_70235));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                6,
                                                                sizeof(jump_70237),
                                                                &jump_70237));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                7,
                                                                sizeof(n_m_70241),
                                                                &n_m_70241));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                8,
                                                                sizeof(i_70247),
                                                                &i_70247));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                9,
                                                                sizeof(num_groups_73058),
                                                                &num_groups_73058));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                10,
                                                                sizeof(groups_per_segment_82815),
                                                                &groups_per_segment_82815));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                11,
                                                                sizeof(elements_per_thread_82816),
                                                                &elements_per_thread_82816));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                12,
                                                                sizeof(virt_num_groups_82817),
                                                                &virt_num_groups_82817));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                13,
                                                                sizeof(threads_per_segment_82819),
                                                                &threads_per_segment_82819));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                14,
                                                                sizeof(mem_81323.mem),
                                                                &mem_81323.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                15,
                                                                sizeof(mem_81327.mem),
                                                                &mem_81327.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                16,
                                                                sizeof(mem_81331.mem),
                                                                &mem_81331.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                17,
                                                                sizeof(mem_81355.mem),
                                                                &mem_81355.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                18,
                                                                sizeof(mem_81411.mem),
                                                                &mem_81411.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                19,
                                                                sizeof(mem_81415.mem),
                                                                &mem_81415.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                20,
                                                                sizeof(mem_81425.mem),
                                                                &mem_81425.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                21,
                                                                sizeof(mem_81430.mem),
                                                                &mem_81430.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                22,
                                                                sizeof(segred_tmp_mem_82820.mem),
                                                                &segred_tmp_mem_82820.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_72122,
                                                                23,
                                                                sizeof(mainzicounter_mem_82822.mem),
                                                                &mainzicounter_mem_82822.mem));
                        if (1 * ((size_t) num_groups_73058 *
                                 (size_t) segred_group_sizze_73057) != 0) {
                            const size_t global_work_sizze_84155[1] =
                                         {(size_t) num_groups_73058 *
                                         (size_t) segred_group_sizze_73057};
                            const size_t local_work_sizze_84159[1] =
                                         {(size_t) segred_group_sizze_73057};
                            int64_t time_start_84156 = 0, time_end_84157 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segred_large_72122",
                                        global_work_sizze_84155[0],
                                        local_work_sizze_84159[0], (int) (0 +
                                                                          1 +
                                                                          (int64_t) 4 *
                                                                          segred_group_sizze_73057));
                                time_start_84156 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegred_large_72122,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84155,
                                                                            local_work_sizze_84159,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegred_large_72122_runs,
                                                                                                                      &ctx->mainzisegred_large_72122_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84157 = get_wall_time();
                                
                                long time_diff_84158 = time_end_84157 -
                                     time_start_84156;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segred_large_72122",
                                        time_diff_84158);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &segred_tmp_mem_82820,
                                                  "segred_tmp_mem_82820") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_81411, "mem_81411") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81415, "mem_81415") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81425, "mem_81425") !=
                        0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_81431, &mem_81430,
                                            "mem_81430") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81430, "mem_81430") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81425, "mem_81425") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81420, "mem_81420") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81415, "mem_81415") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81411, "mem_81411") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81407, "mem_81407") !=
                        0)
                        return 1;
                }
                if (memblock_unref_device(ctx, &mem_81323, "mem_81323") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81327, "mem_81327") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81331, "mem_81331") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81337, "mem_81337") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81341, "mem_81341") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81344, "mem_81344") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81347, "mem_81347") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81350, "mem_81350") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81355, "mem_81355") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_81437, &ext_mem_81431,
                                        "ext_mem_81431") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_81431,
                                          "ext_mem_81431") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81355, "mem_81355") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81350, "mem_81350") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81347, "mem_81347") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81344, "mem_81344") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81341, "mem_81341") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81337, "mem_81337") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81331, "mem_81331") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81327, "mem_81327") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_81323, "mem_81323") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_82065, &ext_mem_81437,
                                    "ext_mem_81437") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_82064, &mem_81221,
                                    "mem_81221") != 0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_81437, "ext_mem_81437") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &mem_81221, "mem_81221") != 0)
                return 1;
        } else {
            bool match_lit_70446 = (int64_t) 1 == degree_70236;
            struct memblock_device ext_mem_82063;
            
            ext_mem_82063.references = NULL;
            
            struct memblock_device ext_mem_82062;
            
            ext_mem_82062.references = NULL;
            if (match_lit_70446) {
                bool suff_outer_par_73101;
                
                suff_outer_par_73101 = ctx->sizes.mainzisuff_outer_par_2 <=
                    m_70232;
                if (ctx->logging)
                    fprintf(ctx->log, "Compared %s <= %ld: %s.\n",
                            "main.suff_outer_par_2", (long) m_70232,
                            suff_outer_par_73101 ? "true" : "false");
                
                int64_t segmap_group_sizze_73311;
                
                segmap_group_sizze_73311 =
                    ctx->sizes.mainzisegmap_group_sizze_73105;
                
                int64_t num_groups_73312;
                int32_t max_num_groups_82860;
                
                max_num_groups_82860 = ctx->sizes.mainzisegmap_num_groups_73107;
                num_groups_73312 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(m_70232,
                                                                        segmap_group_sizze_73311),
                                                              sext_i32_i64(max_num_groups_82860))));
                
                int64_t nest_sizze_74346 = m_70232 * n_70233;
                int64_t segscan_group_sizze_74347;
                
                segscan_group_sizze_74347 =
                    ctx->sizes.mainzisegscan_group_sizze_74330;
                
                int64_t num_groups_74348;
                int32_t max_num_groups_82861;
                
                max_num_groups_82861 =
                    ctx->sizes.mainzisegscan_num_groups_74332;
                num_groups_74348 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(nest_sizze_74346,
                                                                        segscan_group_sizze_74347),
                                                              sext_i32_i64(max_num_groups_82861))));
                
                int64_t segmap_group_sizze_74389;
                
                segmap_group_sizze_74389 =
                    ctx->sizes.mainzisegmap_group_sizze_74261;
                
                int64_t segmap_group_sizze_74406;
                
                segmap_group_sizze_74406 =
                    ctx->sizes.mainzisegmap_group_sizze_74241;
                
                int64_t segmap_group_sizze_74413;
                
                segmap_group_sizze_74413 =
                    ctx->sizes.mainzisegmap_group_sizze_74217;
                
                int64_t nest_sizze_74432 = m_70232 * q_70235;
                int64_t segmap_group_sizze_74433;
                
                segmap_group_sizze_74433 =
                    ctx->sizes.mainzisegmap_group_sizze_74198;
                
                bool suff_outer_par_74447;
                
                suff_outer_par_74447 = ctx->sizes.mainzisuff_outer_par_3 <=
                    binop_x_81218;
                if (ctx->logging)
                    fprintf(ctx->log, "Compared %s <= %ld: %s.\n",
                            "main.suff_outer_par_3", (long) binop_x_81218,
                            suff_outer_par_74447 ? "true" : "false");
                
                int64_t segmap_group_sizze_74626;
                
                segmap_group_sizze_74626 =
                    ctx->sizes.mainzisegmap_group_sizze_73864;
                
                int64_t nest_sizze_74726 = q_70235 * binop_x_81218;
                int64_t segred_group_sizze_74727;
                
                segred_group_sizze_74727 =
                    ctx->sizes.mainzisegred_group_sizze_73815;
                
                int64_t num_groups_74728;
                int32_t max_num_groups_82862;
                
                max_num_groups_82862 = ctx->sizes.mainzisegred_num_groups_73817;
                num_groups_74728 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(nest_sizze_74726,
                                                                        segred_group_sizze_74727),
                                                              sext_i32_i64(max_num_groups_82862))));
                
                int64_t segmap_group_sizze_74772;
                
                segmap_group_sizze_74772 =
                    ctx->sizes.mainzisegmap_group_sizze_73796;
                
                int64_t segred_group_sizze_74791;
                
                segred_group_sizze_74791 =
                    ctx->sizes.mainzisegred_group_sizze_73727;
                
                int64_t num_groups_74792;
                int32_t max_num_groups_82863;
                
                max_num_groups_82863 = ctx->sizes.mainzisegred_num_groups_73729;
                num_groups_74792 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(nest_sizze_74726,
                                                                        segred_group_sizze_74791),
                                                              sext_i32_i64(max_num_groups_82863))));
                
                int64_t tile_sizze_79614;
                
                tile_sizze_79614 = ctx->sizes.mainzitile_sizze_79613;
                
                int64_t group_sizze_79615 = tile_sizze_79614 * tile_sizze_79614;
                int64_t bytes_81439 = (int64_t) 4 * nest_sizze_74346;
                int64_t binop_y_81442 = (int64_t) 8 * n_70233;
                int64_t bytes_81443 = smax64((int64_t) 0, binop_y_81442);
                int64_t binop_y_81457 = (int64_t) 4 * n_70233;
                int64_t bytes_81458 = smax64((int64_t) 0, binop_y_81457);
                int64_t binop_y_81502 = (int64_t) 4 * q_70235;
                int64_t bytes_81503 = smax64((int64_t) 0, binop_y_81502);
                int64_t binop_y_81517 = (int64_t) 4 * n_m_70241;
                int64_t bytes_81518 = smax64((int64_t) 0, binop_y_81517);
                int64_t binop_y_81555 = (int64_t) 8 * nest_sizze_74346;
                int64_t bytes_81556 = smax64((int64_t) 0, binop_y_81555);
                int64_t bytes_81560 = smax64((int64_t) 0, bytes_81439);
                int64_t binop_y_81573 = (int64_t) 8 * m_70232;
                int64_t bytes_81574 = smax64((int64_t) 0, binop_y_81573);
                int64_t binop_y_81582 = (int64_t) 4 * m_70232;
                int64_t bytes_81583 = smax64((int64_t) 0, binop_y_81582);
                int64_t binop_y_81587 = (int64_t) 4 * nest_sizze_74432;
                int64_t bytes_81588 = smax64((int64_t) 0, binop_y_81587);
                int64_t bytes_81593 = (int64_t) 8 * group_sizze_79615;
                int64_t bytes_81602 = (int64_t) 4 * group_sizze_79615;
                int64_t bytes_81620 = smax64((int64_t) 0, bytes_81602);
                int64_t binop_x_82267 = (int64_t) 4 * tile_sizze_79614;
                int64_t sizze_82268 = tile_sizze_79614 * binop_x_82267;
                int64_t binop_y_81670 = (int64_t) 8 * binop_x_81218;
                int64_t bytes_81671 = smax64((int64_t) 0, binop_y_81670);
                int64_t binop_x_82322 = (int64_t) 4 * tile_sizze_79614;
                int64_t num_bytes_82323 = tile_sizze_79614 * binop_x_82322;
                int64_t binop_x_82327 = (int64_t) 4 * tile_sizze_79614;
                int64_t num_bytes_82328 = tile_sizze_79614 * binop_x_82327;
                int64_t binop_x_82332 = (int64_t) 4 * tile_sizze_79614;
                int64_t num_bytes_82333 = tile_sizze_79614 * binop_x_82332;
                int64_t maxSubHelper_82389 = umax64(bytes_81602, sizze_82268);
                int64_t maxSubHelper_82390 = umax64(num_bytes_82333,
                                                    maxSubHelper_82389);
                int64_t maxSubHelper_82391 = umax64(bytes_81602, sizze_82268);
                int64_t maxSubHelper_82392 = umax64(num_bytes_82328,
                                                    maxSubHelper_82391);
                int64_t maxSubHelper_82393 = umax64(sizze_82268,
                                                    num_bytes_82323);
                int64_t num_threads_82458 = segmap_group_sizze_73311 *
                        num_groups_73312;
                int64_t total_sizze_82459 = bytes_81518 * num_threads_82458;
                int64_t total_sizze_82460 = bytes_81518 * num_threads_82458;
                int64_t total_sizze_82461 = bytes_81503 * num_threads_82458;
                int64_t total_sizze_82462 = bytes_81443 * num_threads_82458;
                int64_t total_sizze_82463 = bytes_81443 * num_threads_82458;
                int64_t total_sizze_82464 = bytes_81458 * num_threads_82458;
                struct memblock_device ext_mem_81729;
                
                ext_mem_81729.references = NULL;
                
                struct memblock_device ext_mem_81728;
                
                ext_mem_81728.references = NULL;
                
                int32_t local_memory_capacity_83240;
                
                local_memory_capacity_83240 = ctx->opencl.max_local_memory;
                if (sle64((int64_t) 0,
                          sext_i32_i64(local_memory_capacity_83240)) &&
                    suff_outer_par_73101) {
                    struct memblock_device mem_81440;
                    
                    mem_81440.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81440, bytes_81439,
                                              "mem_81440")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhgpu_map_transpose_f32(ctx, mem_81440,
                                                              (int64_t) 0,
                                                              Y_mem_81217,
                                                              (int64_t) 0,
                                                              (int64_t) 1,
                                                              n_70233,
                                                              m_70232) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81549;
                    
                    mem_81549.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81549, binop_y_81219,
                                              "mem_81549")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81552;
                    
                    mem_81552.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81552, binop_y_81219,
                                              "mem_81552")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device color_82383;
                    
                    color_82383.references = NULL;
                    if (memblock_alloc_device(ctx, &color_82383,
                                              total_sizze_82459,
                                              "color_82383")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device color_82384;
                    
                    color_82384.references = NULL;
                    if (memblock_alloc_device(ctx, &color_82384,
                                              total_sizze_82460,
                                              "color_82384")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device color_82385;
                    
                    color_82385.references = NULL;
                    if (memblock_alloc_device(ctx, &color_82385,
                                              total_sizze_82461,
                                              "color_82385")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device color_82386;
                    
                    color_82386.references = NULL;
                    if (memblock_alloc_device(ctx, &color_82386,
                                              total_sizze_82462,
                                              "color_82386")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device color_82387;
                    
                    color_82387.references = NULL;
                    if (memblock_alloc_device(ctx, &color_82387,
                                              total_sizze_82463,
                                              "color_82387")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device color_82388;
                    
                    color_82388.references = NULL;
                    if (memblock_alloc_device(ctx, &color_82388,
                                              total_sizze_82464,
                                              "color_82388")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            1,
                                                            sizeof(ctx->failure_is_an_option),
                                                            &ctx->failure_is_an_option));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            3, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            4, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            5, sizeof(q_70235),
                                                            &q_70235));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            6,
                                                            sizeof(jump_70237),
                                                            &jump_70237));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            7,
                                                            sizeof(n_m_70241),
                                                            &n_m_70241));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            8, sizeof(i_70247),
                                                            &i_70247));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            9, sizeof(x_70248),
                                                            &x_70248));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            10,
                                                            sizeof(min_res_70253),
                                                            &min_res_70253));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            11,
                                                            sizeof(loop_cond_70258),
                                                            &loop_cond_70258));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            12,
                                                            sizeof(i64_res_70259),
                                                            &i64_res_70259));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            13,
                                                            sizeof(num_groups_73312),
                                                            &num_groups_73312));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            14,
                                                            sizeof(num_threads_82458),
                                                            &num_threads_82458));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            15,
                                                            sizeof(mem_81440.mem),
                                                            &mem_81440.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            16,
                                                            sizeof(mem_81549.mem),
                                                            &mem_81549.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            17,
                                                            sizeof(mem_81552.mem),
                                                            &mem_81552.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            18,
                                                            sizeof(color_82383.mem),
                                                            &color_82383.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            19,
                                                            sizeof(color_82384.mem),
                                                            &color_82384.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            20,
                                                            sizeof(color_82385.mem),
                                                            &color_82385.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            21,
                                                            sizeof(color_82386.mem),
                                                            &color_82386.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            22,
                                                            sizeof(color_82387.mem),
                                                            &color_82387.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73103,
                                                            23,
                                                            sizeof(color_82388.mem),
                                                            &color_82388.mem));
                    if (1 * ((size_t) num_groups_73312 *
                             (size_t) segmap_group_sizze_73311) != 0) {
                        const size_t global_work_sizze_84160[1] =
                                     {(size_t) num_groups_73312 *
                                     (size_t) segmap_group_sizze_73311};
                        const size_t local_work_sizze_84164[1] =
                                     {(size_t) segmap_group_sizze_73311};
                        int64_t time_start_84161 = 0, time_end_84162 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_73103",
                                    global_work_sizze_84160[0],
                                    local_work_sizze_84164[0], (int) 0);
                            time_start_84161 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_73103,
                                                                        1, NULL,
                                                                        global_work_sizze_84160,
                                                                        local_work_sizze_84164,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_73103_runs,
                                                                                                                  &ctx->mainzisegmap_73103_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84162 = get_wall_time();
                            
                            long time_diff_84163 = time_end_84162 -
                                 time_start_84161;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_73103", time_diff_84163);
                        }
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_81440, "mem_81440") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82383,
                                              "color_82383") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82384,
                                              "color_82384") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82385,
                                              "color_82385") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82386,
                                              "color_82386") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82387,
                                              "color_82387") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82388,
                                              "color_82388") != 0)
                        return 1;
                    
                    struct memblock_device mem_81721;
                    
                    mem_81721.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81721, bytes_81220,
                                              "mem_81721")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhgpu_map_transpose_f32(ctx, mem_81721,
                                                              (int64_t) 0,
                                                              mem_81549,
                                                              (int64_t) 0,
                                                              (int64_t) 1,
                                                              m_70232,
                                                              n_m_70241) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_81549, "mem_81549") !=
                        0)
                        return 1;
                    
                    struct memblock_device mem_81726;
                    
                    mem_81726.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81726, bytes_81220,
                                              "mem_81726")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhgpu_map_transpose_f32(ctx, mem_81726,
                                                              (int64_t) 0,
                                                              mem_81552,
                                                              (int64_t) 0,
                                                              (int64_t) 1,
                                                              m_70232,
                                                              n_m_70241) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_81552, "mem_81552") !=
                        0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_81729, &mem_81721,
                                            "mem_81721") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_81728, &mem_81726,
                                            "mem_81726") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81726, "mem_81726") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81721, "mem_81721") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82388,
                                              "color_82388") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82387,
                                              "color_82387") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82386,
                                              "color_82386") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82385,
                                              "color_82385") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82384,
                                              "color_82384") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82383,
                                              "color_82383") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81552, "mem_81552") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81549, "mem_81549") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81440, "mem_81440") !=
                        0)
                        return 1;
                } else {
                    struct memblock_device mem_81557;
                    
                    mem_81557.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81557, bytes_81556,
                                              "mem_81557")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64((int64_t) 0, m_70232 * n_70233)) {
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegScan");
                        
                        int64_t stage1_max_num_groups_82900;
                        
                        stage1_max_num_groups_82900 =
                            ctx->opencl.max_group_size;
                        
                        int64_t stage1_num_groups_82901 =
                                smin64(stage1_max_num_groups_82900,
                                       num_groups_74348);
                        int32_t num_threads_82902 =
                                sext_i64_i32(stage1_num_groups_82901 *
                                segscan_group_sizze_74347);
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_74336,
                                                                1,
                                                                (size_t) smax64((int64_t) 1,
                                                                                (int64_t) 8 *
                                                                                segscan_group_sizze_74347),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_74336,
                                                                2,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_74336,
                                                                3,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_74336,
                                                                4,
                                                                sizeof(num_threads_82902),
                                                                &num_threads_82902));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_74336,
                                                                5,
                                                                sizeof(Y_mem_81217.mem),
                                                                &Y_mem_81217.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_74336,
                                                                6,
                                                                sizeof(mem_81557.mem),
                                                                &mem_81557.mem));
                        if (1 * ((size_t) stage1_num_groups_82901 *
                                 (size_t) segscan_group_sizze_74347) != 0) {
                            const size_t global_work_sizze_84165[1] =
                                         {(size_t) stage1_num_groups_82901 *
                                         (size_t) segscan_group_sizze_74347};
                            const size_t local_work_sizze_84169[1] =
                                         {(size_t) segscan_group_sizze_74347};
                            int64_t time_start_84166 = 0, time_end_84167 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage1_74336",
                                        global_work_sizze_84165[0],
                                        local_work_sizze_84169[0], (int) (0 +
                                                                          smax64((int64_t) 1,
                                                                                 (int64_t) 8 *
                                                                                 segscan_group_sizze_74347)));
                                time_start_84166 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage1_74336,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84165,
                                                                            local_work_sizze_84169,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage1_74336_runs,
                                                                                                                      &ctx->mainziscan_stage1_74336_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84167 = get_wall_time();
                                
                                long time_diff_84168 = time_end_84167 -
                                     time_start_84166;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage1_74336",
                                        time_diff_84168);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                                    (long long) (segscan_group_sizze_74347 *
                                                 sdiv_up64(m_70232 * n_70233,
                                                           sext_i32_i64(num_threads_82902))),
                                    '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_74336,
                                                                1,
                                                                (size_t) smax64((int64_t) 1,
                                                                                (int64_t) 8 *
                                                                                stage1_num_groups_82901),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_74336,
                                                                2,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_74336,
                                                                3,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_74336,
                                                                4,
                                                                sizeof(stage1_num_groups_82901),
                                                                &stage1_num_groups_82901));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_74336,
                                                                5,
                                                                sizeof(num_threads_82902),
                                                                &num_threads_82902));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_74336,
                                                                6,
                                                                sizeof(mem_81557.mem),
                                                                &mem_81557.mem));
                        if (1 * ((size_t) (int64_t) 1 *
                                 (size_t) stage1_num_groups_82901) != 0) {
                            const size_t global_work_sizze_84170[1] =
                                         {(size_t) (int64_t) 1 *
                                         (size_t) stage1_num_groups_82901};
                            const size_t local_work_sizze_84174[1] =
                                         {(size_t) stage1_num_groups_82901};
                            int64_t time_start_84171 = 0, time_end_84172 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage2_74336",
                                        global_work_sizze_84170[0],
                                        local_work_sizze_84174[0], (int) (0 +
                                                                          smax64((int64_t) 1,
                                                                                 (int64_t) 8 *
                                                                                 stage1_num_groups_82901)));
                                time_start_84171 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage2_74336,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84170,
                                                                            local_work_sizze_84174,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage2_74336_runs,
                                                                                                                      &ctx->mainziscan_stage2_74336_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84172 = get_wall_time();
                                
                                long time_diff_84173 = time_end_84172 -
                                     time_start_84171;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage2_74336",
                                        time_diff_84173);
                            }
                        }
                        
                        int32_t required_groups_82944 =
                                sext_i64_i32(sdiv_up64(m_70232 * n_70233,
                                                       segscan_group_sizze_74347));
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_74336,
                                                                1,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_74336,
                                                                2,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_74336,
                                                                3,
                                                                sizeof(num_groups_74348),
                                                                &num_groups_74348));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_74336,
                                                                4,
                                                                sizeof(num_threads_82902),
                                                                &num_threads_82902));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_74336,
                                                                5,
                                                                sizeof(required_groups_82944),
                                                                &required_groups_82944));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_74336,
                                                                6,
                                                                sizeof(mem_81557.mem),
                                                                &mem_81557.mem));
                        if (1 * ((size_t) num_groups_74348 *
                                 (size_t) segscan_group_sizze_74347) != 0) {
                            const size_t global_work_sizze_84175[1] =
                                         {(size_t) num_groups_74348 *
                                         (size_t) segscan_group_sizze_74347};
                            const size_t local_work_sizze_84179[1] =
                                         {(size_t) segscan_group_sizze_74347};
                            int64_t time_start_84176 = 0, time_end_84177 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage3_74336",
                                        global_work_sizze_84175[0],
                                        local_work_sizze_84179[0], (int) 0);
                                time_start_84176 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage3_74336,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84175,
                                                                            local_work_sizze_84179,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage3_74336_runs,
                                                                                                                      &ctx->mainziscan_stage3_74336_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84177 = get_wall_time();
                                
                                long time_diff_84178 = time_end_84177 -
                                     time_start_84176;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage3_74336",
                                        time_diff_84178);
                            }
                        }
                    }
                    
                    struct memblock_device mem_81561;
                    
                    mem_81561.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81561, bytes_81560,
                                              "mem_81561")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhreplicate_f32(ctx, mem_81561, m_70232 *
                                                      n_70233, 0.0F) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81565;
                    
                    mem_81565.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81565, bytes_81556,
                                              "mem_81565")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhreplicate_i64(ctx, mem_81565, m_70232 *
                                                      n_70233, (int64_t) -1) !=
                        0) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t segmap_usable_groups_74390 =
                            sdiv_up64(nest_sizze_74346,
                                      segmap_group_sizze_74389);
                    
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74258,
                                                            1, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74258,
                                                            2, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74258,
                                                            3,
                                                            sizeof(Y_mem_81217.mem),
                                                            &Y_mem_81217.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74258,
                                                            4,
                                                            sizeof(mem_81557.mem),
                                                            &mem_81557.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74258,
                                                            5,
                                                            sizeof(mem_81561.mem),
                                                            &mem_81561.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74258,
                                                            6,
                                                            sizeof(mem_81565.mem),
                                                            &mem_81565.mem));
                    if (1 * ((size_t) segmap_usable_groups_74390 *
                             (size_t) segmap_group_sizze_74389) != 0) {
                        const size_t global_work_sizze_84180[1] =
                                     {(size_t) segmap_usable_groups_74390 *
                                     (size_t) segmap_group_sizze_74389};
                        const size_t local_work_sizze_84184[1] =
                                     {(size_t) segmap_group_sizze_74389};
                        int64_t time_start_84181 = 0, time_end_84182 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_74258",
                                    global_work_sizze_84180[0],
                                    local_work_sizze_84184[0], (int) 0);
                            time_start_84181 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_74258,
                                                                        1, NULL,
                                                                        global_work_sizze_84180,
                                                                        local_work_sizze_84184,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_74258_runs,
                                                                                                                  &ctx->mainzisegmap_74258_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84182 = get_wall_time();
                            
                            long time_diff_84183 = time_end_84182 -
                                 time_start_84181;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_74258", time_diff_84183);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_usable_groups_74407 =
                            sdiv_up64(nest_sizze_74346,
                                      segmap_group_sizze_74406);
                    struct memblock_device mem_81571;
                    
                    mem_81571.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81571, bytes_81556,
                                              "mem_81571")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74238,
                                                            1, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74238,
                                                            2, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74238,
                                                            3,
                                                            sizeof(mem_81565.mem),
                                                            &mem_81565.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74238,
                                                            4,
                                                            sizeof(mem_81571.mem),
                                                            &mem_81571.mem));
                    if (1 * ((size_t) segmap_usable_groups_74407 *
                             (size_t) segmap_group_sizze_74406) != 0) {
                        const size_t global_work_sizze_84185[1] =
                                     {(size_t) segmap_usable_groups_74407 *
                                     (size_t) segmap_group_sizze_74406};
                        const size_t local_work_sizze_84189[1] =
                                     {(size_t) segmap_group_sizze_74406};
                        int64_t time_start_84186 = 0, time_end_84187 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_74238",
                                    global_work_sizze_84185[0],
                                    local_work_sizze_84189[0], (int) 0);
                            time_start_84186 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_74238,
                                                                        1, NULL,
                                                                        global_work_sizze_84185,
                                                                        local_work_sizze_84189,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_74238_runs,
                                                                                                                  &ctx->mainzisegmap_74238_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84187 = get_wall_time();
                            
                            long time_diff_84188 = time_end_84187 -
                                 time_start_84186;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_74238", time_diff_84188);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_usable_groups_74414 = sdiv_up64(m_70232,
                                                                   segmap_group_sizze_74413);
                    struct memblock_device mem_81575;
                    
                    mem_81575.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81575, bytes_81574,
                                              "mem_81575")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81578;
                    
                    mem_81578.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81578, bytes_81574,
                                              "mem_81578")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81581;
                    
                    mem_81581.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81581, bytes_81574,
                                              "mem_81581")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81584;
                    
                    mem_81584.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81584, bytes_81583,
                                              "mem_81584")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74215,
                                                            1, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74215,
                                                            2, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74215,
                                                            3, sizeof(q_70235),
                                                            &q_70235));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74215,
                                                            4, sizeof(i_70247),
                                                            &i_70247));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74215,
                                                            5,
                                                            sizeof(min_res_70253),
                                                            &min_res_70253));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74215,
                                                            6,
                                                            sizeof(i64_res_70259),
                                                            &i64_res_70259));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74215,
                                                            7,
                                                            sizeof(mem_81557.mem),
                                                            &mem_81557.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74215,
                                                            8,
                                                            sizeof(mem_81575.mem),
                                                            &mem_81575.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74215,
                                                            9,
                                                            sizeof(mem_81578.mem),
                                                            &mem_81578.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74215,
                                                            10,
                                                            sizeof(mem_81581.mem),
                                                            &mem_81581.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74215,
                                                            11,
                                                            sizeof(mem_81584.mem),
                                                            &mem_81584.mem));
                    if (1 * ((size_t) segmap_usable_groups_74414 *
                             (size_t) segmap_group_sizze_74413) != 0) {
                        const size_t global_work_sizze_84190[1] =
                                     {(size_t) segmap_usable_groups_74414 *
                                     (size_t) segmap_group_sizze_74413};
                        const size_t local_work_sizze_84194[1] =
                                     {(size_t) segmap_group_sizze_74413};
                        int64_t time_start_84191 = 0, time_end_84192 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_74215",
                                    global_work_sizze_84190[0],
                                    local_work_sizze_84194[0], (int) 0);
                            time_start_84191 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_74215,
                                                                        1, NULL,
                                                                        global_work_sizze_84190,
                                                                        local_work_sizze_84194,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_74215_runs,
                                                                                                                  &ctx->mainzisegmap_74215_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84192 = get_wall_time();
                            
                            long time_diff_84193 = time_end_84192 -
                                 time_start_84191;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_74215", time_diff_84193);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_usable_groups_74434 =
                            sdiv_up64(nest_sizze_74432,
                                      segmap_group_sizze_74433);
                    struct memblock_device mem_81589;
                    
                    mem_81589.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81589, bytes_81588,
                                              "mem_81589")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74195,
                                                            1, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74195,
                                                            2, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74195,
                                                            3, sizeof(q_70235),
                                                            &q_70235));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74195,
                                                            4, sizeof(i_70247),
                                                            &i_70247));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74195,
                                                            5,
                                                            sizeof(mem_81557.mem),
                                                            &mem_81557.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74195,
                                                            6,
                                                            sizeof(mem_81589.mem),
                                                            &mem_81589.mem));
                    if (1 * ((size_t) segmap_usable_groups_74434 *
                             (size_t) segmap_group_sizze_74433) != 0) {
                        const size_t global_work_sizze_84195[1] =
                                     {(size_t) segmap_usable_groups_74434 *
                                     (size_t) segmap_group_sizze_74433};
                        const size_t local_work_sizze_84199[1] =
                                     {(size_t) segmap_group_sizze_74433};
                        int64_t time_start_84196 = 0, time_end_84197 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_74195",
                                    global_work_sizze_84195[0],
                                    local_work_sizze_84199[0], (int) 0);
                            time_start_84196 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_74195,
                                                                        1, NULL,
                                                                        global_work_sizze_84195,
                                                                        local_work_sizze_84199,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_74195_runs,
                                                                                                                  &ctx->mainzisegmap_74195_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84197 = get_wall_time();
                            
                            long time_diff_84198 = time_end_84197 -
                                 time_start_84196;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_74195", time_diff_84198);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    struct memblock_device ext_mem_81717;
                    
                    ext_mem_81717.references = NULL;
                    
                    struct memblock_device ext_mem_81716;
                    
                    ext_mem_81716.references = NULL;
                    
                    int32_t local_memory_capacity_83239;
                    
                    local_memory_capacity_83239 = ctx->opencl.max_local_memory;
                    if (sle64(bytes_81620 + srem64((int64_t) 8 -
                                                   srem64(bytes_81620,
                                                          (int64_t) 8),
                                                   (int64_t) 8),
                              sext_i32_i64(local_memory_capacity_83239)) &&
                        suff_outer_par_74447) {
                        int64_t num_groups_x_79616 = sdiv_up64(m_70232,
                                                               tile_sizze_79614);
                        int64_t num_groups_y_79617 = sdiv_up64(n_m_70241,
                                                               tile_sizze_79614);
                        int64_t num_groups_top_79618 = num_groups_x_79616 *
                                num_groups_y_79617;
                        int64_t num_whole_tiles_79746 = squot64(q_70235,
                                                                tile_sizze_79614);
                        int64_t residual_input_79979 = srem64(q_70235,
                                                              tile_sizze_79614);
                        bool cond_79980 = residual_input_79979 == (int64_t) 0;
                        struct memblock_device mem_81663;
                        
                        mem_81663.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81663, bytes_81220,
                                                  "mem_81663")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_81667;
                        
                        mem_81667.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81667, bytes_81220,
                                                  "mem_81667")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                1,
                                                                sizeof(ctx->failure_is_an_option),
                                                                &ctx->failure_is_an_option));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                3,
                                                                (size_t) bytes_81620,
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                4,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                5,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                6,
                                                                sizeof(q_70235),
                                                                &q_70235));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                7,
                                                                sizeof(jump_70237),
                                                                &jump_70237));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                8,
                                                                sizeof(n_m_70241),
                                                                &n_m_70241));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                9,
                                                                sizeof(i_70247),
                                                                &i_70247));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                10,
                                                                sizeof(x_70248),
                                                                &x_70248));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                11,
                                                                sizeof(min_res_70253),
                                                                &min_res_70253));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                12,
                                                                sizeof(loop_cond_70258),
                                                                &loop_cond_70258));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                13,
                                                                sizeof(num_groups_x_79616),
                                                                &num_groups_x_79616));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                14,
                                                                sizeof(num_groups_y_79617),
                                                                &num_groups_y_79617));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                15,
                                                                sizeof(num_whole_tiles_79746),
                                                                &num_whole_tiles_79746));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                16,
                                                                sizeof(residual_input_79979),
                                                                &residual_input_79979));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                17,
                                                                sizeof(cond_79980),
                                                                &cond_79980));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                18,
                                                                sizeof(mem_81557.mem),
                                                                &mem_81557.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                19,
                                                                sizeof(mem_81561.mem),
                                                                &mem_81561.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                20,
                                                                sizeof(mem_81565.mem),
                                                                &mem_81565.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                21,
                                                                sizeof(mem_81571.mem),
                                                                &mem_81571.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                22,
                                                                sizeof(mem_81575.mem),
                                                                &mem_81575.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                23,
                                                                sizeof(mem_81578.mem),
                                                                &mem_81578.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                24,
                                                                sizeof(mem_81581.mem),
                                                                &mem_81581.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                25,
                                                                sizeof(mem_81584.mem),
                                                                &mem_81584.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                26,
                                                                sizeof(mem_81589.mem),
                                                                &mem_81589.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                27,
                                                                sizeof(mem_81663.mem),
                                                                &mem_81663.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_79619,
                                                                28,
                                                                sizeof(mem_81667.mem),
                                                                &mem_81667.mem));
                        if (1 * ((size_t) num_groups_top_79618 *
                                 (size_t) group_sizze_79615) != 0) {
                            const size_t global_work_sizze_84200[1] =
                                         {(size_t) num_groups_top_79618 *
                                         (size_t) group_sizze_79615};
                            const size_t local_work_sizze_84204[1] =
                                         {(size_t) group_sizze_79615};
                            int64_t time_start_84201 = 0, time_end_84202 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segmap_intragroup_79619",
                                        global_work_sizze_84200[0],
                                        local_work_sizze_84204[0], (int) (0 +
                                                                          bytes_81620));
                                time_start_84201 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegmap_intragroup_79619,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84200,
                                                                            local_work_sizze_84204,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegmap_intragroup_79619_runs,
                                                                                                                      &ctx->mainzisegmap_intragroup_79619_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84202 = get_wall_time();
                                
                                long time_diff_84203 = time_end_84202 -
                                     time_start_84201;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segmap_intragroup_79619",
                                        time_diff_84203);
                            }
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_set_device(ctx, &ext_mem_81717, &mem_81663,
                                                "mem_81663") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_81716, &mem_81667,
                                                "mem_81667") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81667,
                                                  "mem_81667") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81663,
                                                  "mem_81663") != 0)
                            return 1;
                    } else {
                        int64_t segmap_usable_groups_74627 =
                                sdiv_up64(binop_x_81218,
                                          segmap_group_sizze_74626);
                        struct memblock_device mem_81672;
                        
                        mem_81672.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81672, bytes_81671,
                                                  "mem_81672")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_81676;
                        
                        mem_81676.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81676, bytes_81671,
                                                  "mem_81676")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_81680;
                        
                        mem_81680.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81680, bytes_81220,
                                                  "mem_81680")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                1,
                                                                sizeof(ctx->failure_is_an_option),
                                                                &ctx->failure_is_an_option));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                3,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                4,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                5,
                                                                sizeof(jump_70237),
                                                                &jump_70237));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                6,
                                                                sizeof(n_m_70241),
                                                                &n_m_70241));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                7,
                                                                sizeof(i_70247),
                                                                &i_70247));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                8,
                                                                sizeof(x_70248),
                                                                &x_70248));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                9,
                                                                sizeof(min_res_70253),
                                                                &min_res_70253));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                10,
                                                                sizeof(loop_cond_70258),
                                                                &loop_cond_70258));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                11,
                                                                sizeof(mem_81565.mem),
                                                                &mem_81565.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                12,
                                                                sizeof(mem_81571.mem),
                                                                &mem_81571.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                13,
                                                                sizeof(mem_81575.mem),
                                                                &mem_81575.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                14,
                                                                sizeof(mem_81578.mem),
                                                                &mem_81578.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                15,
                                                                sizeof(mem_81581.mem),
                                                                &mem_81581.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                16,
                                                                sizeof(mem_81584.mem),
                                                                &mem_81584.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                17,
                                                                sizeof(mem_81672.mem),
                                                                &mem_81672.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                18,
                                                                sizeof(mem_81676.mem),
                                                                &mem_81676.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73861,
                                                                19,
                                                                sizeof(mem_81680.mem),
                                                                &mem_81680.mem));
                        if (1 * ((size_t) segmap_usable_groups_74627 *
                                 (size_t) segmap_group_sizze_74626) != 0) {
                            const size_t global_work_sizze_84205[1] =
                                         {(size_t) segmap_usable_groups_74627 *
                                         (size_t) segmap_group_sizze_74626};
                            const size_t local_work_sizze_84209[1] =
                                         {(size_t) segmap_group_sizze_74626};
                            int64_t time_start_84206 = 0, time_end_84207 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segmap_73861",
                                        global_work_sizze_84205[0],
                                        local_work_sizze_84209[0], (int) 0);
                                time_start_84206 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegmap_73861,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84205,
                                                                            local_work_sizze_84209,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegmap_73861_runs,
                                                                                                                      &ctx->mainzisegmap_73861_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84207 = get_wall_time();
                                
                                long time_diff_84208 = time_end_84207 -
                                     time_start_84206;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segmap_73861", time_diff_84208);
                            }
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_81672,
                                                  "mem_81672") != 0)
                            return 1;
                        
                        struct memblock_device mem_81685;
                        
                        mem_81685.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81685, bytes_81220,
                                                  "mem_81685")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_81689;
                        
                        mem_81689.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81689, bytes_81220,
                                                  "mem_81689")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_81693;
                        
                        mem_81693.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81693, bytes_81220,
                                                  "mem_81693")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (slt64(q_70235 * (int64_t) 2,
                                  segred_group_sizze_74727)) {
                            int64_t segment_sizze_nonzzero_83054 =
                                    smax64((int64_t) 1, q_70235);
                            int64_t num_threads_83055 = num_groups_74728 *
                                    segred_group_sizze_74727;
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                        (long long) (m_70232 * n_m_70241),
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                        (long long) q_70235, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "segments_per_group",
                                        (long long) squot64(segred_group_sizze_74727,
                                                            segment_sizze_nonzzero_83054),
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "required_groups",
                                        (long long) sext_i64_i32(sdiv_up64(m_70232 *
                                                                           n_m_70241,
                                                                           squot64(segred_group_sizze_74727,
                                                                                   segment_sizze_nonzzero_83054))),
                                        '\n');
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    1,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_74727),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    2,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_74727),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    3,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_74727),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    4,
                                                                    sizeof(m_70232),
                                                                    &m_70232));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    5,
                                                                    sizeof(n_70233),
                                                                    &n_70233));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    6,
                                                                    sizeof(q_70235),
                                                                    &q_70235));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    7,
                                                                    sizeof(jump_70237),
                                                                    &jump_70237));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    8,
                                                                    sizeof(n_m_70241),
                                                                    &n_m_70241));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    9,
                                                                    sizeof(i_70247),
                                                                    &i_70247));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    10,
                                                                    sizeof(num_groups_74728),
                                                                    &num_groups_74728));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    11,
                                                                    sizeof(segment_sizze_nonzzero_83054),
                                                                    &segment_sizze_nonzzero_83054));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    12,
                                                                    sizeof(mem_81557.mem),
                                                                    &mem_81557.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    13,
                                                                    sizeof(mem_81565.mem),
                                                                    &mem_81565.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    14,
                                                                    sizeof(mem_81589.mem),
                                                                    &mem_81589.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    15,
                                                                    sizeof(mem_81676.mem),
                                                                    &mem_81676.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    16,
                                                                    sizeof(mem_81680.mem),
                                                                    &mem_81680.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    17,
                                                                    sizeof(mem_81685.mem),
                                                                    &mem_81685.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    18,
                                                                    sizeof(mem_81689.mem),
                                                                    &mem_81689.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73821,
                                                                    19,
                                                                    sizeof(mem_81693.mem),
                                                                    &mem_81693.mem));
                            if (1 * ((size_t) num_groups_74728 *
                                     (size_t) segred_group_sizze_74727) != 0) {
                                const size_t global_work_sizze_84210[1] =
                                             {(size_t) num_groups_74728 *
                                             (size_t) segred_group_sizze_74727};
                                const size_t local_work_sizze_84214[1] =
                                             {(size_t) segred_group_sizze_74727};
                                int64_t time_start_84211 = 0, time_end_84212 =
                                        0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log,
                                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                            "main.segred_small_73821",
                                            global_work_sizze_84210[0],
                                            local_work_sizze_84214[0],
                                            (int) (0 + (int64_t) 4 *
                                                   segred_group_sizze_74727 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_74727 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_74727));
                                    time_start_84211 = get_wall_time();
                                }
                                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                                ctx->mainzisegred_small_73821,
                                                                                1,
                                                                                NULL,
                                                                                global_work_sizze_84210,
                                                                                local_work_sizze_84214,
                                                                                0,
                                                                                NULL,
                                                                                ctx->profiling_paused ||
                                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                          &ctx->mainzisegred_small_73821_runs,
                                                                                                                          &ctx->mainzisegred_small_73821_total_runtime)));
                                if (ctx->debugging) {
                                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                    time_end_84212 = get_wall_time();
                                    
                                    long time_diff_84213 = time_end_84212 -
                                         time_start_84211;
                                    
                                    fprintf(ctx->log,
                                            "kernel %s runtime: %ldus\n",
                                            "main.segred_small_73821",
                                            time_diff_84213);
                                }
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                        } else {
                            int64_t groups_per_segment_83089 =
                                    sdiv_up64(num_groups_74728,
                                              smax64((int64_t) 1, m_70232 *
                                                     n_m_70241));
                            int64_t elements_per_thread_83090 =
                                    sdiv_up64(q_70235,
                                              segred_group_sizze_74727 *
                                              groups_per_segment_83089);
                            int64_t virt_num_groups_83091 =
                                    groups_per_segment_83089 * (m_70232 *
                                                                n_m_70241);
                            int64_t num_threads_83092 = num_groups_74728 *
                                    segred_group_sizze_74727;
                            int64_t threads_per_segment_83093 =
                                    groups_per_segment_83089 *
                                    segred_group_sizze_74727;
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                        (long long) (m_70232 * n_m_70241),
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                        (long long) q_70235, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "virt_num_groups",
                                        (long long) virt_num_groups_83091,
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_groups",
                                        (long long) num_groups_74728, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "group_size",
                                        (long long) segred_group_sizze_74727,
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "elems_per_thread",
                                        (long long) elements_per_thread_83090,
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "groups_per_segment",
                                        (long long) groups_per_segment_83089,
                                        '\n');
                            
                            struct memblock_device segred_tmp_mem_83094;
                            
                            segred_tmp_mem_83094.references = NULL;
                            if (memblock_alloc_device(ctx,
                                                      &segred_tmp_mem_83094,
                                                      (int64_t) 4 *
                                                      virt_num_groups_83091,
                                                      "segred_tmp_mem_83094")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device segred_tmp_mem_83096;
                            
                            segred_tmp_mem_83096.references = NULL;
                            if (memblock_alloc_device(ctx,
                                                      &segred_tmp_mem_83096,
                                                      (int64_t) 4 *
                                                      virt_num_groups_83091,
                                                      "segred_tmp_mem_83096")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device segred_tmp_mem_83098;
                            
                            segred_tmp_mem_83098.references = NULL;
                            if (memblock_alloc_device(ctx,
                                                      &segred_tmp_mem_83098,
                                                      (int64_t) 4 *
                                                      virt_num_groups_83091,
                                                      "segred_tmp_mem_83098")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device mainzicounter_mem_83100 =
                                                   ctx->mainzicounter_mem_83100;
                            
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    1,
                                                                    (size_t) 1,
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    2,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_74727),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    3,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_74727),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    4,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_74727),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    5,
                                                                    sizeof(m_70232),
                                                                    &m_70232));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    6,
                                                                    sizeof(n_70233),
                                                                    &n_70233));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    7,
                                                                    sizeof(q_70235),
                                                                    &q_70235));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    8,
                                                                    sizeof(jump_70237),
                                                                    &jump_70237));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    9,
                                                                    sizeof(n_m_70241),
                                                                    &n_m_70241));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    10,
                                                                    sizeof(i_70247),
                                                                    &i_70247));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    11,
                                                                    sizeof(num_groups_74728),
                                                                    &num_groups_74728));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    12,
                                                                    sizeof(groups_per_segment_83089),
                                                                    &groups_per_segment_83089));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    13,
                                                                    sizeof(elements_per_thread_83090),
                                                                    &elements_per_thread_83090));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    14,
                                                                    sizeof(virt_num_groups_83091),
                                                                    &virt_num_groups_83091));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    15,
                                                                    sizeof(threads_per_segment_83093),
                                                                    &threads_per_segment_83093));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    16,
                                                                    sizeof(mem_81557.mem),
                                                                    &mem_81557.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    17,
                                                                    sizeof(mem_81565.mem),
                                                                    &mem_81565.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    18,
                                                                    sizeof(mem_81589.mem),
                                                                    &mem_81589.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    19,
                                                                    sizeof(mem_81676.mem),
                                                                    &mem_81676.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    20,
                                                                    sizeof(mem_81680.mem),
                                                                    &mem_81680.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    21,
                                                                    sizeof(mem_81685.mem),
                                                                    &mem_81685.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    22,
                                                                    sizeof(mem_81689.mem),
                                                                    &mem_81689.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    23,
                                                                    sizeof(mem_81693.mem),
                                                                    &mem_81693.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    24,
                                                                    sizeof(segred_tmp_mem_83094.mem),
                                                                    &segred_tmp_mem_83094.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    25,
                                                                    sizeof(segred_tmp_mem_83096.mem),
                                                                    &segred_tmp_mem_83096.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    26,
                                                                    sizeof(segred_tmp_mem_83098.mem),
                                                                    &segred_tmp_mem_83098.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73821,
                                                                    27,
                                                                    sizeof(mainzicounter_mem_83100.mem),
                                                                    &mainzicounter_mem_83100.mem));
                            if (1 * ((size_t) num_groups_74728 *
                                     (size_t) segred_group_sizze_74727) != 0) {
                                const size_t global_work_sizze_84216[1] =
                                             {(size_t) num_groups_74728 *
                                             (size_t) segred_group_sizze_74727};
                                const size_t local_work_sizze_84220[1] =
                                             {(size_t) segred_group_sizze_74727};
                                int64_t time_start_84217 = 0, time_end_84218 =
                                        0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log,
                                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                            "main.segred_large_73821",
                                            global_work_sizze_84216[0],
                                            local_work_sizze_84220[0],
                                            (int) (0 + 1 + (int64_t) 4 *
                                                   segred_group_sizze_74727 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_74727 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_74727));
                                    time_start_84217 = get_wall_time();
                                }
                                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                                ctx->mainzisegred_large_73821,
                                                                                1,
                                                                                NULL,
                                                                                global_work_sizze_84216,
                                                                                local_work_sizze_84220,
                                                                                0,
                                                                                NULL,
                                                                                ctx->profiling_paused ||
                                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                          &ctx->mainzisegred_large_73821_runs,
                                                                                                                          &ctx->mainzisegred_large_73821_total_runtime)));
                                if (ctx->debugging) {
                                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                    time_end_84218 = get_wall_time();
                                    
                                    long time_diff_84219 = time_end_84218 -
                                         time_start_84217;
                                    
                                    fprintf(ctx->log,
                                            "kernel %s runtime: %ldus\n",
                                            "main.segred_large_73821",
                                            time_diff_84219);
                                }
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx,
                                                      &segred_tmp_mem_83098,
                                                      "segred_tmp_mem_83098") !=
                                0)
                                return 1;
                            if (memblock_unref_device(ctx,
                                                      &segred_tmp_mem_83096,
                                                      "segred_tmp_mem_83096") !=
                                0)
                                return 1;
                            if (memblock_unref_device(ctx,
                                                      &segred_tmp_mem_83094,
                                                      "segred_tmp_mem_83094") !=
                                0)
                                return 1;
                        }
                        
                        int64_t segmap_usable_groups_74773 =
                                sdiv_up64(binop_x_81218,
                                          segmap_group_sizze_74772);
                        struct memblock_device mem_81698;
                        
                        mem_81698.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81698, bytes_81220,
                                                  "mem_81698")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_81702;
                        
                        mem_81702.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81702, bytes_81220,
                                                  "mem_81702")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_81706;
                        
                        mem_81706.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81706, bytes_81220,
                                                  "mem_81706")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73793,
                                                                1,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73793,
                                                                2,
                                                                sizeof(n_m_70241),
                                                                &n_m_70241));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73793,
                                                                3,
                                                                sizeof(mem_81685.mem),
                                                                &mem_81685.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73793,
                                                                4,
                                                                sizeof(mem_81689.mem),
                                                                &mem_81689.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73793,
                                                                5,
                                                                sizeof(mem_81693.mem),
                                                                &mem_81693.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73793,
                                                                6,
                                                                sizeof(mem_81698.mem),
                                                                &mem_81698.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73793,
                                                                7,
                                                                sizeof(mem_81702.mem),
                                                                &mem_81702.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_73793,
                                                                8,
                                                                sizeof(mem_81706.mem),
                                                                &mem_81706.mem));
                        if (1 * ((size_t) segmap_usable_groups_74773 *
                                 (size_t) segmap_group_sizze_74772) != 0) {
                            const size_t global_work_sizze_84221[1] =
                                         {(size_t) segmap_usable_groups_74773 *
                                         (size_t) segmap_group_sizze_74772};
                            const size_t local_work_sizze_84225[1] =
                                         {(size_t) segmap_group_sizze_74772};
                            int64_t time_start_84222 = 0, time_end_84223 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segmap_73793",
                                        global_work_sizze_84221[0],
                                        local_work_sizze_84225[0], (int) 0);
                                time_start_84222 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegmap_73793,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84221,
                                                                            local_work_sizze_84225,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegmap_73793_runs,
                                                                                                                      &ctx->mainzisegmap_73793_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84223 = get_wall_time();
                                
                                long time_diff_84224 = time_end_84223 -
                                     time_start_84222;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segmap_73793", time_diff_84224);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_81685,
                                                  "mem_81685") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81689,
                                                  "mem_81689") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81693,
                                                  "mem_81693") != 0)
                            return 1;
                        
                        struct memblock_device mem_81711;
                        
                        mem_81711.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81711, bytes_81220,
                                                  "mem_81711")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_81715;
                        
                        mem_81715.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81715, bytes_81220,
                                                  "mem_81715")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (slt64(q_70235 * (int64_t) 2,
                                  segred_group_sizze_74791)) {
                            int64_t segment_sizze_nonzzero_83158 =
                                    smax64((int64_t) 1, q_70235);
                            int64_t num_threads_83159 = num_groups_74792 *
                                    segred_group_sizze_74791;
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                        (long long) (m_70232 * n_m_70241),
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                        (long long) q_70235, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "segments_per_group",
                                        (long long) squot64(segred_group_sizze_74791,
                                                            segment_sizze_nonzzero_83158),
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "required_groups",
                                        (long long) sext_i64_i32(sdiv_up64(m_70232 *
                                                                           n_m_70241,
                                                                           squot64(segred_group_sizze_74791,
                                                                                   segment_sizze_nonzzero_83158))),
                                        '\n');
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    1,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_74791),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    2,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_74791),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    3,
                                                                    sizeof(m_70232),
                                                                    &m_70232));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    4,
                                                                    sizeof(n_70233),
                                                                    &n_70233));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    5,
                                                                    sizeof(q_70235),
                                                                    &q_70235));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    6,
                                                                    sizeof(jump_70237),
                                                                    &jump_70237));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    7,
                                                                    sizeof(n_m_70241),
                                                                    &n_m_70241));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    8,
                                                                    sizeof(i_70247),
                                                                    &i_70247));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    9,
                                                                    sizeof(num_groups_74792),
                                                                    &num_groups_74792));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    10,
                                                                    sizeof(segment_sizze_nonzzero_83158),
                                                                    &segment_sizze_nonzzero_83158));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    11,
                                                                    sizeof(mem_81557.mem),
                                                                    &mem_81557.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    12,
                                                                    sizeof(mem_81561.mem),
                                                                    &mem_81561.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    13,
                                                                    sizeof(mem_81565.mem),
                                                                    &mem_81565.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    14,
                                                                    sizeof(mem_81589.mem),
                                                                    &mem_81589.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    15,
                                                                    sizeof(mem_81676.mem),
                                                                    &mem_81676.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    16,
                                                                    sizeof(mem_81680.mem),
                                                                    &mem_81680.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    17,
                                                                    sizeof(mem_81698.mem),
                                                                    &mem_81698.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    18,
                                                                    sizeof(mem_81702.mem),
                                                                    &mem_81702.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    19,
                                                                    sizeof(mem_81706.mem),
                                                                    &mem_81706.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    20,
                                                                    sizeof(mem_81711.mem),
                                                                    &mem_81711.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_73733,
                                                                    21,
                                                                    sizeof(mem_81715.mem),
                                                                    &mem_81715.mem));
                            if (1 * ((size_t) num_groups_74792 *
                                     (size_t) segred_group_sizze_74791) != 0) {
                                const size_t global_work_sizze_84226[1] =
                                             {(size_t) num_groups_74792 *
                                             (size_t) segred_group_sizze_74791};
                                const size_t local_work_sizze_84230[1] =
                                             {(size_t) segred_group_sizze_74791};
                                int64_t time_start_84227 = 0, time_end_84228 =
                                        0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log,
                                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                            "main.segred_small_73733",
                                            global_work_sizze_84226[0],
                                            local_work_sizze_84230[0],
                                            (int) (0 + (int64_t) 4 *
                                                   segred_group_sizze_74791 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_74791));
                                    time_start_84227 = get_wall_time();
                                }
                                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                                ctx->mainzisegred_small_73733,
                                                                                1,
                                                                                NULL,
                                                                                global_work_sizze_84226,
                                                                                local_work_sizze_84230,
                                                                                0,
                                                                                NULL,
                                                                                ctx->profiling_paused ||
                                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                          &ctx->mainzisegred_small_73733_runs,
                                                                                                                          &ctx->mainzisegred_small_73733_total_runtime)));
                                if (ctx->debugging) {
                                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                    time_end_84228 = get_wall_time();
                                    
                                    long time_diff_84229 = time_end_84228 -
                                         time_start_84227;
                                    
                                    fprintf(ctx->log,
                                            "kernel %s runtime: %ldus\n",
                                            "main.segred_small_73733",
                                            time_diff_84229);
                                }
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                        } else {
                            int64_t groups_per_segment_83188 =
                                    sdiv_up64(num_groups_74792,
                                              smax64((int64_t) 1, m_70232 *
                                                     n_m_70241));
                            int64_t elements_per_thread_83189 =
                                    sdiv_up64(q_70235,
                                              segred_group_sizze_74791 *
                                              groups_per_segment_83188);
                            int64_t virt_num_groups_83190 =
                                    groups_per_segment_83188 * (m_70232 *
                                                                n_m_70241);
                            int64_t num_threads_83191 = num_groups_74792 *
                                    segred_group_sizze_74791;
                            int64_t threads_per_segment_83192 =
                                    groups_per_segment_83188 *
                                    segred_group_sizze_74791;
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                        (long long) (m_70232 * n_m_70241),
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                        (long long) q_70235, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "virt_num_groups",
                                        (long long) virt_num_groups_83190,
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_groups",
                                        (long long) num_groups_74792, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "group_size",
                                        (long long) segred_group_sizze_74791,
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "elems_per_thread",
                                        (long long) elements_per_thread_83189,
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "groups_per_segment",
                                        (long long) groups_per_segment_83188,
                                        '\n');
                            
                            struct memblock_device segred_tmp_mem_83193;
                            
                            segred_tmp_mem_83193.references = NULL;
                            if (memblock_alloc_device(ctx,
                                                      &segred_tmp_mem_83193,
                                                      (int64_t) 4 *
                                                      virt_num_groups_83190,
                                                      "segred_tmp_mem_83193")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device segred_tmp_mem_83195;
                            
                            segred_tmp_mem_83195.references = NULL;
                            if (memblock_alloc_device(ctx,
                                                      &segred_tmp_mem_83195,
                                                      (int64_t) 4 *
                                                      virt_num_groups_83190,
                                                      "segred_tmp_mem_83195")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device mainzicounter_mem_83197 =
                                                   ctx->mainzicounter_mem_83197;
                            
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    1,
                                                                    (size_t) 1,
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    2,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_74791),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    3,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_74791),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    4,
                                                                    sizeof(m_70232),
                                                                    &m_70232));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    5,
                                                                    sizeof(n_70233),
                                                                    &n_70233));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    6,
                                                                    sizeof(q_70235),
                                                                    &q_70235));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    7,
                                                                    sizeof(jump_70237),
                                                                    &jump_70237));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    8,
                                                                    sizeof(n_m_70241),
                                                                    &n_m_70241));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    9,
                                                                    sizeof(i_70247),
                                                                    &i_70247));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    10,
                                                                    sizeof(num_groups_74792),
                                                                    &num_groups_74792));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    11,
                                                                    sizeof(groups_per_segment_83188),
                                                                    &groups_per_segment_83188));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    12,
                                                                    sizeof(elements_per_thread_83189),
                                                                    &elements_per_thread_83189));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    13,
                                                                    sizeof(virt_num_groups_83190),
                                                                    &virt_num_groups_83190));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    14,
                                                                    sizeof(threads_per_segment_83192),
                                                                    &threads_per_segment_83192));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    15,
                                                                    sizeof(mem_81557.mem),
                                                                    &mem_81557.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    16,
                                                                    sizeof(mem_81561.mem),
                                                                    &mem_81561.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    17,
                                                                    sizeof(mem_81565.mem),
                                                                    &mem_81565.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    18,
                                                                    sizeof(mem_81589.mem),
                                                                    &mem_81589.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    19,
                                                                    sizeof(mem_81676.mem),
                                                                    &mem_81676.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    20,
                                                                    sizeof(mem_81680.mem),
                                                                    &mem_81680.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    21,
                                                                    sizeof(mem_81698.mem),
                                                                    &mem_81698.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    22,
                                                                    sizeof(mem_81702.mem),
                                                                    &mem_81702.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    23,
                                                                    sizeof(mem_81706.mem),
                                                                    &mem_81706.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    24,
                                                                    sizeof(mem_81711.mem),
                                                                    &mem_81711.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    25,
                                                                    sizeof(mem_81715.mem),
                                                                    &mem_81715.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    26,
                                                                    sizeof(segred_tmp_mem_83193.mem),
                                                                    &segred_tmp_mem_83193.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    27,
                                                                    sizeof(segred_tmp_mem_83195.mem),
                                                                    &segred_tmp_mem_83195.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_73733,
                                                                    28,
                                                                    sizeof(mainzicounter_mem_83197.mem),
                                                                    &mainzicounter_mem_83197.mem));
                            if (1 * ((size_t) num_groups_74792 *
                                     (size_t) segred_group_sizze_74791) != 0) {
                                const size_t global_work_sizze_84232[1] =
                                             {(size_t) num_groups_74792 *
                                             (size_t) segred_group_sizze_74791};
                                const size_t local_work_sizze_84236[1] =
                                             {(size_t) segred_group_sizze_74791};
                                int64_t time_start_84233 = 0, time_end_84234 =
                                        0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log,
                                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                            "main.segred_large_73733",
                                            global_work_sizze_84232[0],
                                            local_work_sizze_84236[0],
                                            (int) (0 + 1 + (int64_t) 4 *
                                                   segred_group_sizze_74791 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_74791));
                                    time_start_84233 = get_wall_time();
                                }
                                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                                ctx->mainzisegred_large_73733,
                                                                                1,
                                                                                NULL,
                                                                                global_work_sizze_84232,
                                                                                local_work_sizze_84236,
                                                                                0,
                                                                                NULL,
                                                                                ctx->profiling_paused ||
                                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                          &ctx->mainzisegred_large_73733_runs,
                                                                                                                          &ctx->mainzisegred_large_73733_total_runtime)));
                                if (ctx->debugging) {
                                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                    time_end_84234 = get_wall_time();
                                    
                                    long time_diff_84235 = time_end_84234 -
                                         time_start_84233;
                                    
                                    fprintf(ctx->log,
                                            "kernel %s runtime: %ldus\n",
                                            "main.segred_large_73733",
                                            time_diff_84235);
                                }
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx,
                                                      &segred_tmp_mem_83195,
                                                      "segred_tmp_mem_83195") !=
                                0)
                                return 1;
                            if (memblock_unref_device(ctx,
                                                      &segred_tmp_mem_83193,
                                                      "segred_tmp_mem_83193") !=
                                0)
                                return 1;
                        }
                        if (memblock_unref_device(ctx, &mem_81676,
                                                  "mem_81676") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81680,
                                                  "mem_81680") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81698,
                                                  "mem_81698") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81702,
                                                  "mem_81702") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81706,
                                                  "mem_81706") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_81717, &mem_81711,
                                                "mem_81711") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_81716, &mem_81715,
                                                "mem_81715") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81715,
                                                  "mem_81715") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81711,
                                                  "mem_81711") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81706,
                                                  "mem_81706") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81702,
                                                  "mem_81702") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81698,
                                                  "mem_81698") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81693,
                                                  "mem_81693") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81689,
                                                  "mem_81689") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81685,
                                                  "mem_81685") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81680,
                                                  "mem_81680") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81676,
                                                  "mem_81676") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81672,
                                                  "mem_81672") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_81557, "mem_81557") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81561, "mem_81561") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81565, "mem_81565") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81571, "mem_81571") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81575, "mem_81575") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81578, "mem_81578") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81581, "mem_81581") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81584, "mem_81584") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81589, "mem_81589") !=
                        0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_81729, &ext_mem_81717,
                                            "ext_mem_81717") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_81728, &ext_mem_81716,
                                            "ext_mem_81716") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_81716,
                                              "ext_mem_81716") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_81717,
                                              "ext_mem_81717") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81589, "mem_81589") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81584, "mem_81584") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81581, "mem_81581") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81578, "mem_81578") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81575, "mem_81575") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81571, "mem_81571") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81565, "mem_81565") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81561, "mem_81561") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81557, "mem_81557") !=
                        0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_82063, &ext_mem_81729,
                                        "ext_mem_81729") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_82062, &ext_mem_81728,
                                        "ext_mem_81728") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_81728,
                                          "ext_mem_81728") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_81729,
                                          "ext_mem_81729") != 0)
                    return 1;
            } else {
                bool suff_outer_par_74852;
                
                suff_outer_par_74852 = ctx->sizes.mainzisuff_outer_par_4 <=
                    m_70232;
                if (ctx->logging)
                    fprintf(ctx->log, "Compared %s <= %ld: %s.\n",
                            "main.suff_outer_par_4", (long) m_70232,
                            suff_outer_par_74852 ? "true" : "false");
                
                int64_t segmap_group_sizze_75094;
                
                segmap_group_sizze_75094 =
                    ctx->sizes.mainzisegmap_group_sizze_74856;
                
                int64_t num_groups_75095;
                int32_t max_num_groups_83241;
                
                max_num_groups_83241 = ctx->sizes.mainzisegmap_num_groups_74858;
                num_groups_75095 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(m_70232,
                                                                        segmap_group_sizze_75094),
                                                              sext_i32_i64(max_num_groups_83241))));
                
                int64_t nest_sizze_76277 = m_70232 * n_70233;
                int64_t segscan_group_sizze_76278;
                
                segscan_group_sizze_76278 =
                    ctx->sizes.mainzisegscan_group_sizze_76261;
                
                int64_t num_groups_76279;
                int32_t max_num_groups_83242;
                
                max_num_groups_83242 =
                    ctx->sizes.mainzisegscan_num_groups_76263;
                num_groups_76279 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(nest_sizze_76277,
                                                                        segscan_group_sizze_76278),
                                                              sext_i32_i64(max_num_groups_83242))));
                
                int64_t segmap_group_sizze_76320;
                
                segmap_group_sizze_76320 =
                    ctx->sizes.mainzisegmap_group_sizze_76192;
                
                int64_t segmap_group_sizze_76337;
                
                segmap_group_sizze_76337 =
                    ctx->sizes.mainzisegmap_group_sizze_76172;
                
                int64_t segmap_group_sizze_76344;
                
                segmap_group_sizze_76344 =
                    ctx->sizes.mainzisegmap_group_sizze_76148;
                
                int64_t nest_sizze_76363 = m_70232 * q_70235;
                int64_t segmap_group_sizze_76364;
                
                segmap_group_sizze_76364 =
                    ctx->sizes.mainzisegmap_group_sizze_76129;
                
                bool suff_outer_par_76378;
                
                suff_outer_par_76378 = ctx->sizes.mainzisuff_outer_par_5 <=
                    binop_x_81218;
                if (ctx->logging)
                    fprintf(ctx->log, "Compared %s <= %ld: %s.\n",
                            "main.suff_outer_par_5", (long) binop_x_81218,
                            suff_outer_par_76378 ? "true" : "false");
                
                int64_t segmap_group_sizze_76589;
                
                segmap_group_sizze_76589 =
                    ctx->sizes.mainzisegmap_group_sizze_75755;
                
                int64_t nest_sizze_76689 = q_70235 * binop_x_81218;
                int64_t segred_group_sizze_76690;
                
                segred_group_sizze_76690 =
                    ctx->sizes.mainzisegred_group_sizze_75698;
                
                int64_t num_groups_76691;
                int32_t max_num_groups_83243;
                
                max_num_groups_83243 = ctx->sizes.mainzisegred_num_groups_75700;
                num_groups_76691 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(nest_sizze_76689,
                                                                        segred_group_sizze_76690),
                                                              sext_i32_i64(max_num_groups_83243))));
                
                int64_t segmap_group_sizze_76745;
                
                segmap_group_sizze_76745 =
                    ctx->sizes.mainzisegmap_group_sizze_75660;
                
                int64_t segred_group_sizze_76785;
                
                segred_group_sizze_76785 =
                    ctx->sizes.mainzisegred_group_sizze_75578;
                
                int64_t num_groups_76786;
                int32_t max_num_groups_83244;
                
                max_num_groups_83244 = ctx->sizes.mainzisegred_num_groups_75580;
                num_groups_76786 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(nest_sizze_76689,
                                                                        segred_group_sizze_76785),
                                                              sext_i32_i64(max_num_groups_83244))));
                
                int64_t tile_sizze_80252;
                
                tile_sizze_80252 = ctx->sizes.mainzitile_sizze_80251;
                
                int64_t group_sizze_80253 = tile_sizze_80252 * tile_sizze_80252;
                int64_t bytes_81731 = (int64_t) 4 * nest_sizze_76277;
                int64_t binop_y_81734 = (int64_t) 8 * n_70233;
                int64_t bytes_81735 = smax64((int64_t) 0, binop_y_81734);
                int64_t binop_y_81749 = (int64_t) 4 * n_70233;
                int64_t bytes_81750 = smax64((int64_t) 0, binop_y_81749);
                int64_t binop_y_81794 = (int64_t) 4 * q_70235;
                int64_t bytes_81795 = smax64((int64_t) 0, binop_y_81794);
                int64_t binop_y_81809 = (int64_t) 4 * n_m_70241;
                int64_t bytes_81810 = smax64((int64_t) 0, binop_y_81809);
                int64_t binop_y_81847 = (int64_t) 8 * nest_sizze_76277;
                int64_t bytes_81848 = smax64((int64_t) 0, binop_y_81847);
                int64_t bytes_81852 = smax64((int64_t) 0, bytes_81731);
                int64_t binop_y_81865 = (int64_t) 8 * m_70232;
                int64_t bytes_81866 = smax64((int64_t) 0, binop_y_81865);
                int64_t binop_y_81874 = (int64_t) 4 * m_70232;
                int64_t bytes_81875 = smax64((int64_t) 0, binop_y_81874);
                int64_t binop_y_81879 = (int64_t) 4 * nest_sizze_76363;
                int64_t bytes_81880 = smax64((int64_t) 0, binop_y_81879);
                int64_t bytes_81885 = (int64_t) 8 * group_sizze_80253;
                int64_t bytes_81894 = (int64_t) 4 * group_sizze_80253;
                int64_t bytes_81920 = smax64((int64_t) 0, bytes_81894);
                int64_t binop_x_82291 = (int64_t) 4 * tile_sizze_80252;
                int64_t sizze_82292 = tile_sizze_80252 * binop_x_82291;
                int64_t binop_y_81986 = (int64_t) 8 * binop_x_81218;
                int64_t bytes_81987 = smax64((int64_t) 0, binop_y_81986);
                int64_t binop_x_82340 = (int64_t) 4 * tile_sizze_80252;
                int64_t num_bytes_82341 = tile_sizze_80252 * binop_x_82340;
                int64_t binop_x_82345 = (int64_t) 4 * tile_sizze_80252;
                int64_t num_bytes_82346 = tile_sizze_80252 * binop_x_82345;
                int64_t binop_x_82350 = (int64_t) 4 * tile_sizze_80252;
                int64_t num_bytes_82351 = tile_sizze_80252 * binop_x_82350;
                int64_t binop_x_82355 = (int64_t) 4 * tile_sizze_80252;
                int64_t num_bytes_82356 = tile_sizze_80252 * binop_x_82355;
                int64_t binop_x_82360 = (int64_t) 4 * tile_sizze_80252;
                int64_t num_bytes_82361 = tile_sizze_80252 * binop_x_82360;
                int64_t maxSubHelper_82411 = umax64(bytes_81894, sizze_82292);
                int64_t maxSubHelper_82412 = umax64(num_bytes_82361,
                                                    maxSubHelper_82411);
                int64_t maxSubHelper_82413 = umax64(bytes_81894, sizze_82292);
                int64_t maxSubHelper_82414 = umax64(num_bytes_82356,
                                                    maxSubHelper_82413);
                int64_t maxSubHelper_82415 = umax64(bytes_81894, sizze_82292);
                int64_t maxSubHelper_82416 = umax64(num_bytes_82351,
                                                    maxSubHelper_82415);
                int64_t maxSubHelper_82417 = umax64(bytes_81894, sizze_82292);
                int64_t maxSubHelper_82418 = umax64(num_bytes_82346,
                                                    maxSubHelper_82417);
                int64_t maxSubHelper_82419 = umax64(sizze_82292,
                                                    num_bytes_82341);
                int64_t num_threads_82475 = segmap_group_sizze_75094 *
                        num_groups_75095;
                int64_t total_sizze_82476 = bytes_81810 * num_threads_82475;
                int64_t total_sizze_82477 = bytes_81810 * num_threads_82475;
                int64_t total_sizze_82478 = bytes_81795 * num_threads_82475;
                int64_t total_sizze_82479 = bytes_81735 * num_threads_82475;
                int64_t total_sizze_82480 = bytes_81735 * num_threads_82475;
                int64_t total_sizze_82481 = bytes_81750 * num_threads_82475;
                struct memblock_device ext_mem_82061;
                
                ext_mem_82061.references = NULL;
                
                struct memblock_device ext_mem_82060;
                
                ext_mem_82060.references = NULL;
                
                int32_t local_memory_capacity_83659;
                
                local_memory_capacity_83659 = ctx->opencl.max_local_memory;
                if (sle64((int64_t) 0,
                          sext_i32_i64(local_memory_capacity_83659)) &&
                    suff_outer_par_74852) {
                    struct memblock_device mem_81732;
                    
                    mem_81732.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81732, bytes_81731,
                                              "mem_81732")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhgpu_map_transpose_f32(ctx, mem_81732,
                                                              (int64_t) 0,
                                                              Y_mem_81217,
                                                              (int64_t) 0,
                                                              (int64_t) 1,
                                                              n_70233,
                                                              m_70232) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81841;
                    
                    mem_81841.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81841, binop_y_81219,
                                              "mem_81841")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81844;
                    
                    mem_81844.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81844, binop_y_81219,
                                              "mem_81844")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device color_82405;
                    
                    color_82405.references = NULL;
                    if (memblock_alloc_device(ctx, &color_82405,
                                              total_sizze_82476,
                                              "color_82405")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device color_82406;
                    
                    color_82406.references = NULL;
                    if (memblock_alloc_device(ctx, &color_82406,
                                              total_sizze_82477,
                                              "color_82406")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device color_82407;
                    
                    color_82407.references = NULL;
                    if (memblock_alloc_device(ctx, &color_82407,
                                              total_sizze_82478,
                                              "color_82407")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device color_82408;
                    
                    color_82408.references = NULL;
                    if (memblock_alloc_device(ctx, &color_82408,
                                              total_sizze_82479,
                                              "color_82408")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device color_82409;
                    
                    color_82409.references = NULL;
                    if (memblock_alloc_device(ctx, &color_82409,
                                              total_sizze_82480,
                                              "color_82409")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device color_82410;
                    
                    color_82410.references = NULL;
                    if (memblock_alloc_device(ctx, &color_82410,
                                              total_sizze_82481,
                                              "color_82410")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            1,
                                                            sizeof(ctx->failure_is_an_option),
                                                            &ctx->failure_is_an_option));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            3, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            4, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            5, sizeof(q_70235),
                                                            &q_70235));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            6,
                                                            sizeof(jump_70237),
                                                            &jump_70237));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            7,
                                                            sizeof(n_m_70241),
                                                            &n_m_70241));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            8, sizeof(i_70247),
                                                            &i_70247));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            9, sizeof(x_70248),
                                                            &x_70248));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            10,
                                                            sizeof(min_res_70253),
                                                            &min_res_70253));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            11,
                                                            sizeof(loop_cond_70258),
                                                            &loop_cond_70258));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            12,
                                                            sizeof(i64_res_70259),
                                                            &i64_res_70259));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            13,
                                                            sizeof(num_groups_75095),
                                                            &num_groups_75095));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            14,
                                                            sizeof(num_threads_82475),
                                                            &num_threads_82475));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            15,
                                                            sizeof(mem_81732.mem),
                                                            &mem_81732.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            16,
                                                            sizeof(mem_81841.mem),
                                                            &mem_81841.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            17,
                                                            sizeof(mem_81844.mem),
                                                            &mem_81844.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            18,
                                                            sizeof(color_82405.mem),
                                                            &color_82405.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            19,
                                                            sizeof(color_82406.mem),
                                                            &color_82406.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            20,
                                                            sizeof(color_82407.mem),
                                                            &color_82407.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            21,
                                                            sizeof(color_82408.mem),
                                                            &color_82408.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            22,
                                                            sizeof(color_82409.mem),
                                                            &color_82409.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_74854,
                                                            23,
                                                            sizeof(color_82410.mem),
                                                            &color_82410.mem));
                    if (1 * ((size_t) num_groups_75095 *
                             (size_t) segmap_group_sizze_75094) != 0) {
                        const size_t global_work_sizze_84237[1] =
                                     {(size_t) num_groups_75095 *
                                     (size_t) segmap_group_sizze_75094};
                        const size_t local_work_sizze_84241[1] =
                                     {(size_t) segmap_group_sizze_75094};
                        int64_t time_start_84238 = 0, time_end_84239 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_74854",
                                    global_work_sizze_84237[0],
                                    local_work_sizze_84241[0], (int) 0);
                            time_start_84238 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_74854,
                                                                        1, NULL,
                                                                        global_work_sizze_84237,
                                                                        local_work_sizze_84241,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_74854_runs,
                                                                                                                  &ctx->mainzisegmap_74854_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84239 = get_wall_time();
                            
                            long time_diff_84240 = time_end_84239 -
                                 time_start_84238;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_74854", time_diff_84240);
                        }
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_81732, "mem_81732") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82405,
                                              "color_82405") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82406,
                                              "color_82406") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82407,
                                              "color_82407") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82408,
                                              "color_82408") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82409,
                                              "color_82409") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82410,
                                              "color_82410") != 0)
                        return 1;
                    
                    struct memblock_device mem_82053;
                    
                    mem_82053.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_82053, bytes_81220,
                                              "mem_82053")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhgpu_map_transpose_f32(ctx, mem_82053,
                                                              (int64_t) 0,
                                                              mem_81841,
                                                              (int64_t) 0,
                                                              (int64_t) 1,
                                                              m_70232,
                                                              n_m_70241) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_81841, "mem_81841") !=
                        0)
                        return 1;
                    
                    struct memblock_device mem_82058;
                    
                    mem_82058.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_82058, bytes_81220,
                                              "mem_82058")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhgpu_map_transpose_f32(ctx, mem_82058,
                                                              (int64_t) 0,
                                                              mem_81844,
                                                              (int64_t) 0,
                                                              (int64_t) 1,
                                                              m_70232,
                                                              n_m_70241) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_81844, "mem_81844") !=
                        0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_82061, &mem_82053,
                                            "mem_82053") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_82060, &mem_82058,
                                            "mem_82058") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_82058, "mem_82058") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_82053, "mem_82053") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82410,
                                              "color_82410") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82409,
                                              "color_82409") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82408,
                                              "color_82408") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82407,
                                              "color_82407") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82406,
                                              "color_82406") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &color_82405,
                                              "color_82405") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81844, "mem_81844") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81841, "mem_81841") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81732, "mem_81732") !=
                        0)
                        return 1;
                } else {
                    struct memblock_device mem_81849;
                    
                    mem_81849.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81849, bytes_81848,
                                              "mem_81849")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64((int64_t) 0, m_70232 * n_70233)) {
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegScan");
                        
                        int64_t stage1_max_num_groups_83283;
                        
                        stage1_max_num_groups_83283 =
                            ctx->opencl.max_group_size;
                        
                        int64_t stage1_num_groups_83284 =
                                smin64(stage1_max_num_groups_83283,
                                       num_groups_76279);
                        int32_t num_threads_83285 =
                                sext_i64_i32(stage1_num_groups_83284 *
                                segscan_group_sizze_76278);
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_76267,
                                                                1,
                                                                (size_t) smax64((int64_t) 1,
                                                                                (int64_t) 8 *
                                                                                segscan_group_sizze_76278),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_76267,
                                                                2,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_76267,
                                                                3,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_76267,
                                                                4,
                                                                sizeof(num_threads_83285),
                                                                &num_threads_83285));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_76267,
                                                                5,
                                                                sizeof(Y_mem_81217.mem),
                                                                &Y_mem_81217.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_76267,
                                                                6,
                                                                sizeof(mem_81849.mem),
                                                                &mem_81849.mem));
                        if (1 * ((size_t) stage1_num_groups_83284 *
                                 (size_t) segscan_group_sizze_76278) != 0) {
                            const size_t global_work_sizze_84242[1] =
                                         {(size_t) stage1_num_groups_83284 *
                                         (size_t) segscan_group_sizze_76278};
                            const size_t local_work_sizze_84246[1] =
                                         {(size_t) segscan_group_sizze_76278};
                            int64_t time_start_84243 = 0, time_end_84244 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage1_76267",
                                        global_work_sizze_84242[0],
                                        local_work_sizze_84246[0], (int) (0 +
                                                                          smax64((int64_t) 1,
                                                                                 (int64_t) 8 *
                                                                                 segscan_group_sizze_76278)));
                                time_start_84243 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage1_76267,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84242,
                                                                            local_work_sizze_84246,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage1_76267_runs,
                                                                                                                      &ctx->mainziscan_stage1_76267_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84244 = get_wall_time();
                                
                                long time_diff_84245 = time_end_84244 -
                                     time_start_84243;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage1_76267",
                                        time_diff_84245);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                                    (long long) (segscan_group_sizze_76278 *
                                                 sdiv_up64(m_70232 * n_70233,
                                                           sext_i32_i64(num_threads_83285))),
                                    '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_76267,
                                                                1,
                                                                (size_t) smax64((int64_t) 1,
                                                                                (int64_t) 8 *
                                                                                stage1_num_groups_83284),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_76267,
                                                                2,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_76267,
                                                                3,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_76267,
                                                                4,
                                                                sizeof(stage1_num_groups_83284),
                                                                &stage1_num_groups_83284));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_76267,
                                                                5,
                                                                sizeof(num_threads_83285),
                                                                &num_threads_83285));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_76267,
                                                                6,
                                                                sizeof(mem_81849.mem),
                                                                &mem_81849.mem));
                        if (1 * ((size_t) (int64_t) 1 *
                                 (size_t) stage1_num_groups_83284) != 0) {
                            const size_t global_work_sizze_84247[1] =
                                         {(size_t) (int64_t) 1 *
                                         (size_t) stage1_num_groups_83284};
                            const size_t local_work_sizze_84251[1] =
                                         {(size_t) stage1_num_groups_83284};
                            int64_t time_start_84248 = 0, time_end_84249 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage2_76267",
                                        global_work_sizze_84247[0],
                                        local_work_sizze_84251[0], (int) (0 +
                                                                          smax64((int64_t) 1,
                                                                                 (int64_t) 8 *
                                                                                 stage1_num_groups_83284)));
                                time_start_84248 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage2_76267,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84247,
                                                                            local_work_sizze_84251,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage2_76267_runs,
                                                                                                                      &ctx->mainziscan_stage2_76267_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84249 = get_wall_time();
                                
                                long time_diff_84250 = time_end_84249 -
                                     time_start_84248;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage2_76267",
                                        time_diff_84250);
                            }
                        }
                        
                        int32_t required_groups_83327 =
                                sext_i64_i32(sdiv_up64(m_70232 * n_70233,
                                                       segscan_group_sizze_76278));
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_76267,
                                                                1,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_76267,
                                                                2,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_76267,
                                                                3,
                                                                sizeof(num_groups_76279),
                                                                &num_groups_76279));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_76267,
                                                                4,
                                                                sizeof(num_threads_83285),
                                                                &num_threads_83285));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_76267,
                                                                5,
                                                                sizeof(required_groups_83327),
                                                                &required_groups_83327));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_76267,
                                                                6,
                                                                sizeof(mem_81849.mem),
                                                                &mem_81849.mem));
                        if (1 * ((size_t) num_groups_76279 *
                                 (size_t) segscan_group_sizze_76278) != 0) {
                            const size_t global_work_sizze_84252[1] =
                                         {(size_t) num_groups_76279 *
                                         (size_t) segscan_group_sizze_76278};
                            const size_t local_work_sizze_84256[1] =
                                         {(size_t) segscan_group_sizze_76278};
                            int64_t time_start_84253 = 0, time_end_84254 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage3_76267",
                                        global_work_sizze_84252[0],
                                        local_work_sizze_84256[0], (int) 0);
                                time_start_84253 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage3_76267,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84252,
                                                                            local_work_sizze_84256,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage3_76267_runs,
                                                                                                                      &ctx->mainziscan_stage3_76267_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84254 = get_wall_time();
                                
                                long time_diff_84255 = time_end_84254 -
                                     time_start_84253;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage3_76267",
                                        time_diff_84255);
                            }
                        }
                    }
                    
                    struct memblock_device mem_81853;
                    
                    mem_81853.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81853, bytes_81852,
                                              "mem_81853")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhreplicate_f32(ctx, mem_81853, m_70232 *
                                                      n_70233, 0.0F) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81857;
                    
                    mem_81857.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81857, bytes_81848,
                                              "mem_81857")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhreplicate_i64(ctx, mem_81857, m_70232 *
                                                      n_70233, (int64_t) -1) !=
                        0) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t segmap_usable_groups_76321 =
                            sdiv_up64(nest_sizze_76277,
                                      segmap_group_sizze_76320);
                    
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76189,
                                                            1, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76189,
                                                            2, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76189,
                                                            3,
                                                            sizeof(Y_mem_81217.mem),
                                                            &Y_mem_81217.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76189,
                                                            4,
                                                            sizeof(mem_81849.mem),
                                                            &mem_81849.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76189,
                                                            5,
                                                            sizeof(mem_81853.mem),
                                                            &mem_81853.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76189,
                                                            6,
                                                            sizeof(mem_81857.mem),
                                                            &mem_81857.mem));
                    if (1 * ((size_t) segmap_usable_groups_76321 *
                             (size_t) segmap_group_sizze_76320) != 0) {
                        const size_t global_work_sizze_84257[1] =
                                     {(size_t) segmap_usable_groups_76321 *
                                     (size_t) segmap_group_sizze_76320};
                        const size_t local_work_sizze_84261[1] =
                                     {(size_t) segmap_group_sizze_76320};
                        int64_t time_start_84258 = 0, time_end_84259 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_76189",
                                    global_work_sizze_84257[0],
                                    local_work_sizze_84261[0], (int) 0);
                            time_start_84258 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_76189,
                                                                        1, NULL,
                                                                        global_work_sizze_84257,
                                                                        local_work_sizze_84261,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_76189_runs,
                                                                                                                  &ctx->mainzisegmap_76189_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84259 = get_wall_time();
                            
                            long time_diff_84260 = time_end_84259 -
                                 time_start_84258;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_76189", time_diff_84260);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_usable_groups_76338 =
                            sdiv_up64(nest_sizze_76277,
                                      segmap_group_sizze_76337);
                    struct memblock_device mem_81863;
                    
                    mem_81863.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81863, bytes_81848,
                                              "mem_81863")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76169,
                                                            1, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76169,
                                                            2, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76169,
                                                            3,
                                                            sizeof(mem_81857.mem),
                                                            &mem_81857.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76169,
                                                            4,
                                                            sizeof(mem_81863.mem),
                                                            &mem_81863.mem));
                    if (1 * ((size_t) segmap_usable_groups_76338 *
                             (size_t) segmap_group_sizze_76337) != 0) {
                        const size_t global_work_sizze_84262[1] =
                                     {(size_t) segmap_usable_groups_76338 *
                                     (size_t) segmap_group_sizze_76337};
                        const size_t local_work_sizze_84266[1] =
                                     {(size_t) segmap_group_sizze_76337};
                        int64_t time_start_84263 = 0, time_end_84264 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_76169",
                                    global_work_sizze_84262[0],
                                    local_work_sizze_84266[0], (int) 0);
                            time_start_84263 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_76169,
                                                                        1, NULL,
                                                                        global_work_sizze_84262,
                                                                        local_work_sizze_84266,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_76169_runs,
                                                                                                                  &ctx->mainzisegmap_76169_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84264 = get_wall_time();
                            
                            long time_diff_84265 = time_end_84264 -
                                 time_start_84263;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_76169", time_diff_84265);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_usable_groups_76345 = sdiv_up64(m_70232,
                                                                   segmap_group_sizze_76344);
                    struct memblock_device mem_81867;
                    
                    mem_81867.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81867, bytes_81866,
                                              "mem_81867")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81870;
                    
                    mem_81870.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81870, bytes_81866,
                                              "mem_81870")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81873;
                    
                    mem_81873.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81873, bytes_81866,
                                              "mem_81873")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_81876;
                    
                    mem_81876.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81876, bytes_81875,
                                              "mem_81876")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76146,
                                                            1, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76146,
                                                            2, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76146,
                                                            3, sizeof(q_70235),
                                                            &q_70235));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76146,
                                                            4, sizeof(i_70247),
                                                            &i_70247));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76146,
                                                            5,
                                                            sizeof(min_res_70253),
                                                            &min_res_70253));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76146,
                                                            6,
                                                            sizeof(i64_res_70259),
                                                            &i64_res_70259));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76146,
                                                            7,
                                                            sizeof(mem_81849.mem),
                                                            &mem_81849.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76146,
                                                            8,
                                                            sizeof(mem_81867.mem),
                                                            &mem_81867.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76146,
                                                            9,
                                                            sizeof(mem_81870.mem),
                                                            &mem_81870.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76146,
                                                            10,
                                                            sizeof(mem_81873.mem),
                                                            &mem_81873.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76146,
                                                            11,
                                                            sizeof(mem_81876.mem),
                                                            &mem_81876.mem));
                    if (1 * ((size_t) segmap_usable_groups_76345 *
                             (size_t) segmap_group_sizze_76344) != 0) {
                        const size_t global_work_sizze_84267[1] =
                                     {(size_t) segmap_usable_groups_76345 *
                                     (size_t) segmap_group_sizze_76344};
                        const size_t local_work_sizze_84271[1] =
                                     {(size_t) segmap_group_sizze_76344};
                        int64_t time_start_84268 = 0, time_end_84269 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_76146",
                                    global_work_sizze_84267[0],
                                    local_work_sizze_84271[0], (int) 0);
                            time_start_84268 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_76146,
                                                                        1, NULL,
                                                                        global_work_sizze_84267,
                                                                        local_work_sizze_84271,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_76146_runs,
                                                                                                                  &ctx->mainzisegmap_76146_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84269 = get_wall_time();
                            
                            long time_diff_84270 = time_end_84269 -
                                 time_start_84268;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_76146", time_diff_84270);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_usable_groups_76365 =
                            sdiv_up64(nest_sizze_76363,
                                      segmap_group_sizze_76364);
                    struct memblock_device mem_81881;
                    
                    mem_81881.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_81881, bytes_81880,
                                              "mem_81881")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76126,
                                                            1, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76126,
                                                            2, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76126,
                                                            3, sizeof(q_70235),
                                                            &q_70235));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76126,
                                                            4, sizeof(i_70247),
                                                            &i_70247));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76126,
                                                            5,
                                                            sizeof(mem_81849.mem),
                                                            &mem_81849.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_76126,
                                                            6,
                                                            sizeof(mem_81881.mem),
                                                            &mem_81881.mem));
                    if (1 * ((size_t) segmap_usable_groups_76365 *
                             (size_t) segmap_group_sizze_76364) != 0) {
                        const size_t global_work_sizze_84272[1] =
                                     {(size_t) segmap_usable_groups_76365 *
                                     (size_t) segmap_group_sizze_76364};
                        const size_t local_work_sizze_84276[1] =
                                     {(size_t) segmap_group_sizze_76364};
                        int64_t time_start_84273 = 0, time_end_84274 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_76126",
                                    global_work_sizze_84272[0],
                                    local_work_sizze_84276[0], (int) 0);
                            time_start_84273 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_76126,
                                                                        1, NULL,
                                                                        global_work_sizze_84272,
                                                                        local_work_sizze_84276,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_76126_runs,
                                                                                                                  &ctx->mainzisegmap_76126_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84274 = get_wall_time();
                            
                            long time_diff_84275 = time_end_84274 -
                                 time_start_84273;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_76126", time_diff_84275);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    struct memblock_device ext_mem_82049;
                    
                    ext_mem_82049.references = NULL;
                    
                    struct memblock_device ext_mem_82048;
                    
                    ext_mem_82048.references = NULL;
                    
                    int32_t local_memory_capacity_83658;
                    
                    local_memory_capacity_83658 = ctx->opencl.max_local_memory;
                    if (sle64(bytes_81920 + srem64((int64_t) 8 -
                                                   srem64(bytes_81920,
                                                          (int64_t) 8),
                                                   (int64_t) 8),
                              sext_i32_i64(local_memory_capacity_83658)) &&
                        suff_outer_par_76378) {
                        int64_t num_groups_x_80254 = sdiv_up64(m_70232,
                                                               tile_sizze_80252);
                        int64_t num_groups_y_80255 = sdiv_up64(n_m_70241,
                                                               tile_sizze_80252);
                        int64_t num_groups_top_80256 = num_groups_x_80254 *
                                num_groups_y_80255;
                        int64_t num_whole_tiles_80384 = squot64(q_70235,
                                                                tile_sizze_80252);
                        int64_t residual_input_80669 = srem64(q_70235,
                                                              tile_sizze_80252);
                        bool cond_80670 = residual_input_80669 == (int64_t) 0;
                        struct memblock_device mem_81979;
                        
                        mem_81979.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81979, bytes_81220,
                                                  "mem_81979")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_81983;
                        
                        mem_81983.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81983, bytes_81220,
                                                  "mem_81983")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                1,
                                                                sizeof(ctx->failure_is_an_option),
                                                                &ctx->failure_is_an_option));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                3,
                                                                (size_t) bytes_81920,
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                4,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                5,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                6,
                                                                sizeof(q_70235),
                                                                &q_70235));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                7,
                                                                sizeof(jump_70237),
                                                                &jump_70237));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                8,
                                                                sizeof(n_m_70241),
                                                                &n_m_70241));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                9,
                                                                sizeof(i_70247),
                                                                &i_70247));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                10,
                                                                sizeof(x_70248),
                                                                &x_70248));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                11,
                                                                sizeof(min_res_70253),
                                                                &min_res_70253));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                12,
                                                                sizeof(loop_cond_70258),
                                                                &loop_cond_70258));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                13,
                                                                sizeof(num_groups_x_80254),
                                                                &num_groups_x_80254));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                14,
                                                                sizeof(num_groups_y_80255),
                                                                &num_groups_y_80255));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                15,
                                                                sizeof(num_whole_tiles_80384),
                                                                &num_whole_tiles_80384));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                16,
                                                                sizeof(residual_input_80669),
                                                                &residual_input_80669));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                17,
                                                                sizeof(cond_80670),
                                                                &cond_80670));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                18,
                                                                sizeof(mem_81849.mem),
                                                                &mem_81849.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                19,
                                                                sizeof(mem_81853.mem),
                                                                &mem_81853.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                20,
                                                                sizeof(mem_81857.mem),
                                                                &mem_81857.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                21,
                                                                sizeof(mem_81863.mem),
                                                                &mem_81863.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                22,
                                                                sizeof(mem_81867.mem),
                                                                &mem_81867.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                23,
                                                                sizeof(mem_81870.mem),
                                                                &mem_81870.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                24,
                                                                sizeof(mem_81873.mem),
                                                                &mem_81873.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                25,
                                                                sizeof(mem_81876.mem),
                                                                &mem_81876.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                26,
                                                                sizeof(mem_81881.mem),
                                                                &mem_81881.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                27,
                                                                sizeof(mem_81979.mem),
                                                                &mem_81979.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_80257,
                                                                28,
                                                                sizeof(mem_81983.mem),
                                                                &mem_81983.mem));
                        if (1 * ((size_t) num_groups_top_80256 *
                                 (size_t) group_sizze_80253) != 0) {
                            const size_t global_work_sizze_84277[1] =
                                         {(size_t) num_groups_top_80256 *
                                         (size_t) group_sizze_80253};
                            const size_t local_work_sizze_84281[1] =
                                         {(size_t) group_sizze_80253};
                            int64_t time_start_84278 = 0, time_end_84279 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segmap_intragroup_80257",
                                        global_work_sizze_84277[0],
                                        local_work_sizze_84281[0], (int) (0 +
                                                                          bytes_81920));
                                time_start_84278 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegmap_intragroup_80257,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84277,
                                                                            local_work_sizze_84281,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegmap_intragroup_80257_runs,
                                                                                                                      &ctx->mainzisegmap_intragroup_80257_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84279 = get_wall_time();
                                
                                long time_diff_84280 = time_end_84279 -
                                     time_start_84278;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segmap_intragroup_80257",
                                        time_diff_84280);
                            }
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_set_device(ctx, &ext_mem_82049, &mem_81979,
                                                "mem_81979") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_82048, &mem_81983,
                                                "mem_81983") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81983,
                                                  "mem_81983") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81979,
                                                  "mem_81979") != 0)
                            return 1;
                    } else {
                        int64_t segmap_usable_groups_76590 =
                                sdiv_up64(binop_x_81218,
                                          segmap_group_sizze_76589);
                        struct memblock_device mem_81988;
                        
                        mem_81988.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81988, bytes_81987,
                                                  "mem_81988")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_81992;
                        
                        mem_81992.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81992, bytes_81987,
                                                  "mem_81992")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_81996;
                        
                        mem_81996.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_81996, bytes_81220,
                                                  "mem_81996")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                1,
                                                                sizeof(ctx->failure_is_an_option),
                                                                &ctx->failure_is_an_option));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                3,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                4,
                                                                sizeof(n_70233),
                                                                &n_70233));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                5,
                                                                sizeof(jump_70237),
                                                                &jump_70237));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                6,
                                                                sizeof(n_m_70241),
                                                                &n_m_70241));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                7,
                                                                sizeof(i_70247),
                                                                &i_70247));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                8,
                                                                sizeof(x_70248),
                                                                &x_70248));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                9,
                                                                sizeof(min_res_70253),
                                                                &min_res_70253));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                10,
                                                                sizeof(loop_cond_70258),
                                                                &loop_cond_70258));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                11,
                                                                sizeof(mem_81857.mem),
                                                                &mem_81857.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                12,
                                                                sizeof(mem_81863.mem),
                                                                &mem_81863.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                13,
                                                                sizeof(mem_81867.mem),
                                                                &mem_81867.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                14,
                                                                sizeof(mem_81870.mem),
                                                                &mem_81870.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                15,
                                                                sizeof(mem_81873.mem),
                                                                &mem_81873.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                16,
                                                                sizeof(mem_81876.mem),
                                                                &mem_81876.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                17,
                                                                sizeof(mem_81988.mem),
                                                                &mem_81988.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                18,
                                                                sizeof(mem_81992.mem),
                                                                &mem_81992.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75752,
                                                                19,
                                                                sizeof(mem_81996.mem),
                                                                &mem_81996.mem));
                        if (1 * ((size_t) segmap_usable_groups_76590 *
                                 (size_t) segmap_group_sizze_76589) != 0) {
                            const size_t global_work_sizze_84282[1] =
                                         {(size_t) segmap_usable_groups_76590 *
                                         (size_t) segmap_group_sizze_76589};
                            const size_t local_work_sizze_84286[1] =
                                         {(size_t) segmap_group_sizze_76589};
                            int64_t time_start_84283 = 0, time_end_84284 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segmap_75752",
                                        global_work_sizze_84282[0],
                                        local_work_sizze_84286[0], (int) 0);
                                time_start_84283 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegmap_75752,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84282,
                                                                            local_work_sizze_84286,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegmap_75752_runs,
                                                                                                                      &ctx->mainzisegmap_75752_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84284 = get_wall_time();
                                
                                long time_diff_84285 = time_end_84284 -
                                     time_start_84283;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segmap_75752", time_diff_84285);
                            }
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_81988,
                                                  "mem_81988") != 0)
                            return 1;
                        
                        struct memblock_device mem_82001;
                        
                        mem_82001.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_82001, bytes_81220,
                                                  "mem_82001")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_82005;
                        
                        mem_82005.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_82005, bytes_81220,
                                                  "mem_82005")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_82009;
                        
                        mem_82009.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_82009, bytes_81220,
                                                  "mem_82009")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_82013;
                        
                        mem_82013.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_82013, bytes_81220,
                                                  "mem_82013")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_82017;
                        
                        mem_82017.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_82017, bytes_81220,
                                                  "mem_82017")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (slt64(q_70235 * (int64_t) 2,
                                  segred_group_sizze_76690)) {
                            int64_t segment_sizze_nonzzero_83447 =
                                    smax64((int64_t) 1, q_70235);
                            int64_t num_threads_83448 = num_groups_76691 *
                                    segred_group_sizze_76690;
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                        (long long) (m_70232 * n_m_70241),
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                        (long long) q_70235, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "segments_per_group",
                                        (long long) squot64(segred_group_sizze_76690,
                                                            segment_sizze_nonzzero_83447),
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "required_groups",
                                        (long long) sext_i64_i32(sdiv_up64(m_70232 *
                                                                           n_m_70241,
                                                                           squot64(segred_group_sizze_76690,
                                                                                   segment_sizze_nonzzero_83447))),
                                        '\n');
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    1,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76690),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    2,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76690),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    3,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76690),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    4,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76690),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    5,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76690),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    6,
                                                                    sizeof(m_70232),
                                                                    &m_70232));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    7,
                                                                    sizeof(n_70233),
                                                                    &n_70233));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    8,
                                                                    sizeof(q_70235),
                                                                    &q_70235));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    9,
                                                                    sizeof(jump_70237),
                                                                    &jump_70237));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    10,
                                                                    sizeof(n_m_70241),
                                                                    &n_m_70241));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    11,
                                                                    sizeof(i_70247),
                                                                    &i_70247));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    12,
                                                                    sizeof(num_groups_76691),
                                                                    &num_groups_76691));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    13,
                                                                    sizeof(segment_sizze_nonzzero_83447),
                                                                    &segment_sizze_nonzzero_83447));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    14,
                                                                    sizeof(mem_81849.mem),
                                                                    &mem_81849.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    15,
                                                                    sizeof(mem_81857.mem),
                                                                    &mem_81857.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    16,
                                                                    sizeof(mem_81881.mem),
                                                                    &mem_81881.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    17,
                                                                    sizeof(mem_81992.mem),
                                                                    &mem_81992.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    18,
                                                                    sizeof(mem_81996.mem),
                                                                    &mem_81996.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    19,
                                                                    sizeof(mem_82001.mem),
                                                                    &mem_82001.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    20,
                                                                    sizeof(mem_82005.mem),
                                                                    &mem_82005.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    21,
                                                                    sizeof(mem_82009.mem),
                                                                    &mem_82009.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    22,
                                                                    sizeof(mem_82013.mem),
                                                                    &mem_82013.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75704,
                                                                    23,
                                                                    sizeof(mem_82017.mem),
                                                                    &mem_82017.mem));
                            if (1 * ((size_t) num_groups_76691 *
                                     (size_t) segred_group_sizze_76690) != 0) {
                                const size_t global_work_sizze_84287[1] =
                                             {(size_t) num_groups_76691 *
                                             (size_t) segred_group_sizze_76690};
                                const size_t local_work_sizze_84291[1] =
                                             {(size_t) segred_group_sizze_76690};
                                int64_t time_start_84288 = 0, time_end_84289 =
                                        0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log,
                                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                            "main.segred_small_75704",
                                            global_work_sizze_84287[0],
                                            local_work_sizze_84291[0],
                                            (int) (0 + (int64_t) 4 *
                                                   segred_group_sizze_76690 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_76690 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_76690 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_76690 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_76690));
                                    time_start_84288 = get_wall_time();
                                }
                                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                                ctx->mainzisegred_small_75704,
                                                                                1,
                                                                                NULL,
                                                                                global_work_sizze_84287,
                                                                                local_work_sizze_84291,
                                                                                0,
                                                                                NULL,
                                                                                ctx->profiling_paused ||
                                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                          &ctx->mainzisegred_small_75704_runs,
                                                                                                                          &ctx->mainzisegred_small_75704_total_runtime)));
                                if (ctx->debugging) {
                                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                    time_end_84289 = get_wall_time();
                                    
                                    long time_diff_84290 = time_end_84289 -
                                         time_start_84288;
                                    
                                    fprintf(ctx->log,
                                            "kernel %s runtime: %ldus\n",
                                            "main.segred_small_75704",
                                            time_diff_84290);
                                }
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                        } else {
                            int64_t groups_per_segment_83492 =
                                    sdiv_up64(num_groups_76691,
                                              smax64((int64_t) 1, m_70232 *
                                                     n_m_70241));
                            int64_t elements_per_thread_83493 =
                                    sdiv_up64(q_70235,
                                              segred_group_sizze_76690 *
                                              groups_per_segment_83492);
                            int64_t virt_num_groups_83494 =
                                    groups_per_segment_83492 * (m_70232 *
                                                                n_m_70241);
                            int64_t num_threads_83495 = num_groups_76691 *
                                    segred_group_sizze_76690;
                            int64_t threads_per_segment_83496 =
                                    groups_per_segment_83492 *
                                    segred_group_sizze_76690;
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                        (long long) (m_70232 * n_m_70241),
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                        (long long) q_70235, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "virt_num_groups",
                                        (long long) virt_num_groups_83494,
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_groups",
                                        (long long) num_groups_76691, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "group_size",
                                        (long long) segred_group_sizze_76690,
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "elems_per_thread",
                                        (long long) elements_per_thread_83493,
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "groups_per_segment",
                                        (long long) groups_per_segment_83492,
                                        '\n');
                            
                            struct memblock_device segred_tmp_mem_83497;
                            
                            segred_tmp_mem_83497.references = NULL;
                            if (memblock_alloc_device(ctx,
                                                      &segred_tmp_mem_83497,
                                                      (int64_t) 4 *
                                                      virt_num_groups_83494,
                                                      "segred_tmp_mem_83497")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device segred_tmp_mem_83499;
                            
                            segred_tmp_mem_83499.references = NULL;
                            if (memblock_alloc_device(ctx,
                                                      &segred_tmp_mem_83499,
                                                      (int64_t) 4 *
                                                      virt_num_groups_83494,
                                                      "segred_tmp_mem_83499")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device segred_tmp_mem_83501;
                            
                            segred_tmp_mem_83501.references = NULL;
                            if (memblock_alloc_device(ctx,
                                                      &segred_tmp_mem_83501,
                                                      (int64_t) 4 *
                                                      virt_num_groups_83494,
                                                      "segred_tmp_mem_83501")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device segred_tmp_mem_83503;
                            
                            segred_tmp_mem_83503.references = NULL;
                            if (memblock_alloc_device(ctx,
                                                      &segred_tmp_mem_83503,
                                                      (int64_t) 4 *
                                                      virt_num_groups_83494,
                                                      "segred_tmp_mem_83503")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device segred_tmp_mem_83505;
                            
                            segred_tmp_mem_83505.references = NULL;
                            if (memblock_alloc_device(ctx,
                                                      &segred_tmp_mem_83505,
                                                      (int64_t) 4 *
                                                      virt_num_groups_83494,
                                                      "segred_tmp_mem_83505")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device mainzicounter_mem_83507 =
                                                   ctx->mainzicounter_mem_83507;
                            
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    1,
                                                                    (size_t) 1,
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    2,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76690),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    3,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76690),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    4,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76690),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    5,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76690),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    6,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76690),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    7,
                                                                    sizeof(m_70232),
                                                                    &m_70232));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    8,
                                                                    sizeof(n_70233),
                                                                    &n_70233));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    9,
                                                                    sizeof(q_70235),
                                                                    &q_70235));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    10,
                                                                    sizeof(jump_70237),
                                                                    &jump_70237));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    11,
                                                                    sizeof(n_m_70241),
                                                                    &n_m_70241));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    12,
                                                                    sizeof(i_70247),
                                                                    &i_70247));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    13,
                                                                    sizeof(num_groups_76691),
                                                                    &num_groups_76691));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    14,
                                                                    sizeof(groups_per_segment_83492),
                                                                    &groups_per_segment_83492));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    15,
                                                                    sizeof(elements_per_thread_83493),
                                                                    &elements_per_thread_83493));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    16,
                                                                    sizeof(virt_num_groups_83494),
                                                                    &virt_num_groups_83494));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    17,
                                                                    sizeof(threads_per_segment_83496),
                                                                    &threads_per_segment_83496));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    18,
                                                                    sizeof(mem_81849.mem),
                                                                    &mem_81849.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    19,
                                                                    sizeof(mem_81857.mem),
                                                                    &mem_81857.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    20,
                                                                    sizeof(mem_81881.mem),
                                                                    &mem_81881.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    21,
                                                                    sizeof(mem_81992.mem),
                                                                    &mem_81992.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    22,
                                                                    sizeof(mem_81996.mem),
                                                                    &mem_81996.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    23,
                                                                    sizeof(mem_82001.mem),
                                                                    &mem_82001.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    24,
                                                                    sizeof(mem_82005.mem),
                                                                    &mem_82005.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    25,
                                                                    sizeof(mem_82009.mem),
                                                                    &mem_82009.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    26,
                                                                    sizeof(mem_82013.mem),
                                                                    &mem_82013.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    27,
                                                                    sizeof(mem_82017.mem),
                                                                    &mem_82017.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    28,
                                                                    sizeof(segred_tmp_mem_83497.mem),
                                                                    &segred_tmp_mem_83497.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    29,
                                                                    sizeof(segred_tmp_mem_83499.mem),
                                                                    &segred_tmp_mem_83499.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    30,
                                                                    sizeof(segred_tmp_mem_83501.mem),
                                                                    &segred_tmp_mem_83501.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    31,
                                                                    sizeof(segred_tmp_mem_83503.mem),
                                                                    &segred_tmp_mem_83503.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    32,
                                                                    sizeof(segred_tmp_mem_83505.mem),
                                                                    &segred_tmp_mem_83505.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75704,
                                                                    33,
                                                                    sizeof(mainzicounter_mem_83507.mem),
                                                                    &mainzicounter_mem_83507.mem));
                            if (1 * ((size_t) num_groups_76691 *
                                     (size_t) segred_group_sizze_76690) != 0) {
                                const size_t global_work_sizze_84293[1] =
                                             {(size_t) num_groups_76691 *
                                             (size_t) segred_group_sizze_76690};
                                const size_t local_work_sizze_84297[1] =
                                             {(size_t) segred_group_sizze_76690};
                                int64_t time_start_84294 = 0, time_end_84295 =
                                        0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log,
                                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                            "main.segred_large_75704",
                                            global_work_sizze_84293[0],
                                            local_work_sizze_84297[0],
                                            (int) (0 + 1 + (int64_t) 4 *
                                                   segred_group_sizze_76690 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_76690 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_76690 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_76690 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_76690));
                                    time_start_84294 = get_wall_time();
                                }
                                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                                ctx->mainzisegred_large_75704,
                                                                                1,
                                                                                NULL,
                                                                                global_work_sizze_84293,
                                                                                local_work_sizze_84297,
                                                                                0,
                                                                                NULL,
                                                                                ctx->profiling_paused ||
                                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                          &ctx->mainzisegred_large_75704_runs,
                                                                                                                          &ctx->mainzisegred_large_75704_total_runtime)));
                                if (ctx->debugging) {
                                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                    time_end_84295 = get_wall_time();
                                    
                                    long time_diff_84296 = time_end_84295 -
                                         time_start_84294;
                                    
                                    fprintf(ctx->log,
                                            "kernel %s runtime: %ldus\n",
                                            "main.segred_large_75704",
                                            time_diff_84296);
                                }
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx,
                                                      &segred_tmp_mem_83505,
                                                      "segred_tmp_mem_83505") !=
                                0)
                                return 1;
                            if (memblock_unref_device(ctx,
                                                      &segred_tmp_mem_83503,
                                                      "segred_tmp_mem_83503") !=
                                0)
                                return 1;
                            if (memblock_unref_device(ctx,
                                                      &segred_tmp_mem_83501,
                                                      "segred_tmp_mem_83501") !=
                                0)
                                return 1;
                            if (memblock_unref_device(ctx,
                                                      &segred_tmp_mem_83499,
                                                      "segred_tmp_mem_83499") !=
                                0)
                                return 1;
                            if (memblock_unref_device(ctx,
                                                      &segred_tmp_mem_83497,
                                                      "segred_tmp_mem_83497") !=
                                0)
                                return 1;
                        }
                        
                        int64_t segmap_usable_groups_76746 =
                                sdiv_up64(binop_x_81218,
                                          segmap_group_sizze_76745);
                        struct memblock_device mem_82022;
                        
                        mem_82022.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_82022, bytes_81220,
                                                  "mem_82022")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_82026;
                        
                        mem_82026.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_82026, bytes_81220,
                                                  "mem_82026")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_82030;
                        
                        mem_82030.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_82030, bytes_81220,
                                                  "mem_82030")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_82034;
                        
                        mem_82034.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_82034, bytes_81220,
                                                  "mem_82034")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_82038;
                        
                        mem_82038.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_82038, bytes_81220,
                                                  "mem_82038")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75657,
                                                                1,
                                                                sizeof(m_70232),
                                                                &m_70232));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75657,
                                                                2,
                                                                sizeof(n_m_70241),
                                                                &n_m_70241));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75657,
                                                                3,
                                                                sizeof(mem_82001.mem),
                                                                &mem_82001.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75657,
                                                                4,
                                                                sizeof(mem_82005.mem),
                                                                &mem_82005.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75657,
                                                                5,
                                                                sizeof(mem_82009.mem),
                                                                &mem_82009.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75657,
                                                                6,
                                                                sizeof(mem_82013.mem),
                                                                &mem_82013.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75657,
                                                                7,
                                                                sizeof(mem_82017.mem),
                                                                &mem_82017.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75657,
                                                                8,
                                                                sizeof(mem_82022.mem),
                                                                &mem_82022.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75657,
                                                                9,
                                                                sizeof(mem_82026.mem),
                                                                &mem_82026.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75657,
                                                                10,
                                                                sizeof(mem_82030.mem),
                                                                &mem_82030.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75657,
                                                                11,
                                                                sizeof(mem_82034.mem),
                                                                &mem_82034.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_75657,
                                                                12,
                                                                sizeof(mem_82038.mem),
                                                                &mem_82038.mem));
                        if (1 * ((size_t) segmap_usable_groups_76746 *
                                 (size_t) segmap_group_sizze_76745) != 0) {
                            const size_t global_work_sizze_84298[1] =
                                         {(size_t) segmap_usable_groups_76746 *
                                         (size_t) segmap_group_sizze_76745};
                            const size_t local_work_sizze_84302[1] =
                                         {(size_t) segmap_group_sizze_76745};
                            int64_t time_start_84299 = 0, time_end_84300 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segmap_75657",
                                        global_work_sizze_84298[0],
                                        local_work_sizze_84302[0], (int) 0);
                                time_start_84299 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegmap_75657,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_84298,
                                                                            local_work_sizze_84302,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegmap_75657_runs,
                                                                                                                      &ctx->mainzisegmap_75657_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_84300 = get_wall_time();
                                
                                long time_diff_84301 = time_end_84300 -
                                     time_start_84299;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segmap_75657", time_diff_84301);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_82001,
                                                  "mem_82001") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82005,
                                                  "mem_82005") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82009,
                                                  "mem_82009") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82013,
                                                  "mem_82013") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82017,
                                                  "mem_82017") != 0)
                            return 1;
                        
                        struct memblock_device mem_82043;
                        
                        mem_82043.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_82043, bytes_81220,
                                                  "mem_82043")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mem_82047;
                        
                        mem_82047.references = NULL;
                        if (memblock_alloc_device(ctx, &mem_82047, bytes_81220,
                                                  "mem_82047")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (slt64(q_70235 * (int64_t) 2,
                                  segred_group_sizze_76785)) {
                            int64_t segment_sizze_nonzzero_83577 =
                                    smax64((int64_t) 1, q_70235);
                            int64_t num_threads_83578 = num_groups_76786 *
                                    segred_group_sizze_76785;
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                        (long long) (m_70232 * n_m_70241),
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                        (long long) q_70235, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "segments_per_group",
                                        (long long) squot64(segred_group_sizze_76785,
                                                            segment_sizze_nonzzero_83577),
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "required_groups",
                                        (long long) sext_i64_i32(sdiv_up64(m_70232 *
                                                                           n_m_70241,
                                                                           squot64(segred_group_sizze_76785,
                                                                                   segment_sizze_nonzzero_83577))),
                                        '\n');
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    1,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76785),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    2,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76785),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    3,
                                                                    sizeof(m_70232),
                                                                    &m_70232));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    4,
                                                                    sizeof(n_70233),
                                                                    &n_70233));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    5,
                                                                    sizeof(q_70235),
                                                                    &q_70235));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    6,
                                                                    sizeof(jump_70237),
                                                                    &jump_70237));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    7,
                                                                    sizeof(n_m_70241),
                                                                    &n_m_70241));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    8,
                                                                    sizeof(i_70247),
                                                                    &i_70247));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    9,
                                                                    sizeof(num_groups_76786),
                                                                    &num_groups_76786));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    10,
                                                                    sizeof(segment_sizze_nonzzero_83577),
                                                                    &segment_sizze_nonzzero_83577));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    11,
                                                                    sizeof(mem_81849.mem),
                                                                    &mem_81849.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    12,
                                                                    sizeof(mem_81853.mem),
                                                                    &mem_81853.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    13,
                                                                    sizeof(mem_81857.mem),
                                                                    &mem_81857.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    14,
                                                                    sizeof(mem_81881.mem),
                                                                    &mem_81881.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    15,
                                                                    sizeof(mem_81992.mem),
                                                                    &mem_81992.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    16,
                                                                    sizeof(mem_81996.mem),
                                                                    &mem_81996.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    17,
                                                                    sizeof(mem_82022.mem),
                                                                    &mem_82022.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    18,
                                                                    sizeof(mem_82026.mem),
                                                                    &mem_82026.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    19,
                                                                    sizeof(mem_82030.mem),
                                                                    &mem_82030.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    20,
                                                                    sizeof(mem_82034.mem),
                                                                    &mem_82034.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    21,
                                                                    sizeof(mem_82038.mem),
                                                                    &mem_82038.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    22,
                                                                    sizeof(mem_82043.mem),
                                                                    &mem_82043.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_75584,
                                                                    23,
                                                                    sizeof(mem_82047.mem),
                                                                    &mem_82047.mem));
                            if (1 * ((size_t) num_groups_76786 *
                                     (size_t) segred_group_sizze_76785) != 0) {
                                const size_t global_work_sizze_84303[1] =
                                             {(size_t) num_groups_76786 *
                                             (size_t) segred_group_sizze_76785};
                                const size_t local_work_sizze_84307[1] =
                                             {(size_t) segred_group_sizze_76785};
                                int64_t time_start_84304 = 0, time_end_84305 =
                                        0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log,
                                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                            "main.segred_small_75584",
                                            global_work_sizze_84303[0],
                                            local_work_sizze_84307[0],
                                            (int) (0 + (int64_t) 4 *
                                                   segred_group_sizze_76785 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_76785));
                                    time_start_84304 = get_wall_time();
                                }
                                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                                ctx->mainzisegred_small_75584,
                                                                                1,
                                                                                NULL,
                                                                                global_work_sizze_84303,
                                                                                local_work_sizze_84307,
                                                                                0,
                                                                                NULL,
                                                                                ctx->profiling_paused ||
                                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                          &ctx->mainzisegred_small_75584_runs,
                                                                                                                          &ctx->mainzisegred_small_75584_total_runtime)));
                                if (ctx->debugging) {
                                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                    time_end_84305 = get_wall_time();
                                    
                                    long time_diff_84306 = time_end_84305 -
                                         time_start_84304;
                                    
                                    fprintf(ctx->log,
                                            "kernel %s runtime: %ldus\n",
                                            "main.segred_small_75584",
                                            time_diff_84306);
                                }
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                        } else {
                            int64_t groups_per_segment_83607 =
                                    sdiv_up64(num_groups_76786,
                                              smax64((int64_t) 1, m_70232 *
                                                     n_m_70241));
                            int64_t elements_per_thread_83608 =
                                    sdiv_up64(q_70235,
                                              segred_group_sizze_76785 *
                                              groups_per_segment_83607);
                            int64_t virt_num_groups_83609 =
                                    groups_per_segment_83607 * (m_70232 *
                                                                n_m_70241);
                            int64_t num_threads_83610 = num_groups_76786 *
                                    segred_group_sizze_76785;
                            int64_t threads_per_segment_83611 =
                                    groups_per_segment_83607 *
                                    segred_group_sizze_76785;
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                        (long long) (m_70232 * n_m_70241),
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                        (long long) q_70235, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "virt_num_groups",
                                        (long long) virt_num_groups_83609,
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_groups",
                                        (long long) num_groups_76786, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "group_size",
                                        (long long) segred_group_sizze_76785,
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "elems_per_thread",
                                        (long long) elements_per_thread_83608,
                                        '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c",
                                        "groups_per_segment",
                                        (long long) groups_per_segment_83607,
                                        '\n');
                            
                            struct memblock_device segred_tmp_mem_83612;
                            
                            segred_tmp_mem_83612.references = NULL;
                            if (memblock_alloc_device(ctx,
                                                      &segred_tmp_mem_83612,
                                                      (int64_t) 4 *
                                                      virt_num_groups_83609,
                                                      "segred_tmp_mem_83612")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device segred_tmp_mem_83614;
                            
                            segred_tmp_mem_83614.references = NULL;
                            if (memblock_alloc_device(ctx,
                                                      &segred_tmp_mem_83614,
                                                      (int64_t) 4 *
                                                      virt_num_groups_83609,
                                                      "segred_tmp_mem_83614")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device mainzicounter_mem_83616 =
                                                   ctx->mainzicounter_mem_83616;
                            
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    1,
                                                                    (size_t) 1,
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    2,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76785),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    3,
                                                                    (size_t) ((int64_t) 4 *
                                                                              segred_group_sizze_76785),
                                                                    NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    4,
                                                                    sizeof(m_70232),
                                                                    &m_70232));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    5,
                                                                    sizeof(n_70233),
                                                                    &n_70233));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    6,
                                                                    sizeof(q_70235),
                                                                    &q_70235));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    7,
                                                                    sizeof(jump_70237),
                                                                    &jump_70237));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    8,
                                                                    sizeof(n_m_70241),
                                                                    &n_m_70241));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    9,
                                                                    sizeof(i_70247),
                                                                    &i_70247));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    10,
                                                                    sizeof(num_groups_76786),
                                                                    &num_groups_76786));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    11,
                                                                    sizeof(groups_per_segment_83607),
                                                                    &groups_per_segment_83607));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    12,
                                                                    sizeof(elements_per_thread_83608),
                                                                    &elements_per_thread_83608));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    13,
                                                                    sizeof(virt_num_groups_83609),
                                                                    &virt_num_groups_83609));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    14,
                                                                    sizeof(threads_per_segment_83611),
                                                                    &threads_per_segment_83611));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    15,
                                                                    sizeof(mem_81849.mem),
                                                                    &mem_81849.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    16,
                                                                    sizeof(mem_81853.mem),
                                                                    &mem_81853.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    17,
                                                                    sizeof(mem_81857.mem),
                                                                    &mem_81857.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    18,
                                                                    sizeof(mem_81881.mem),
                                                                    &mem_81881.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    19,
                                                                    sizeof(mem_81992.mem),
                                                                    &mem_81992.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    20,
                                                                    sizeof(mem_81996.mem),
                                                                    &mem_81996.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    21,
                                                                    sizeof(mem_82022.mem),
                                                                    &mem_82022.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    22,
                                                                    sizeof(mem_82026.mem),
                                                                    &mem_82026.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    23,
                                                                    sizeof(mem_82030.mem),
                                                                    &mem_82030.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    24,
                                                                    sizeof(mem_82034.mem),
                                                                    &mem_82034.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    25,
                                                                    sizeof(mem_82038.mem),
                                                                    &mem_82038.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    26,
                                                                    sizeof(mem_82043.mem),
                                                                    &mem_82043.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    27,
                                                                    sizeof(mem_82047.mem),
                                                                    &mem_82047.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    28,
                                                                    sizeof(segred_tmp_mem_83612.mem),
                                                                    &segred_tmp_mem_83612.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    29,
                                                                    sizeof(segred_tmp_mem_83614.mem),
                                                                    &segred_tmp_mem_83614.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_75584,
                                                                    30,
                                                                    sizeof(mainzicounter_mem_83616.mem),
                                                                    &mainzicounter_mem_83616.mem));
                            if (1 * ((size_t) num_groups_76786 *
                                     (size_t) segred_group_sizze_76785) != 0) {
                                const size_t global_work_sizze_84309[1] =
                                             {(size_t) num_groups_76786 *
                                             (size_t) segred_group_sizze_76785};
                                const size_t local_work_sizze_84313[1] =
                                             {(size_t) segred_group_sizze_76785};
                                int64_t time_start_84310 = 0, time_end_84311 =
                                        0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log,
                                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                            "main.segred_large_75584",
                                            global_work_sizze_84309[0],
                                            local_work_sizze_84313[0],
                                            (int) (0 + 1 + (int64_t) 4 *
                                                   segred_group_sizze_76785 +
                                                   (int64_t) 4 *
                                                   segred_group_sizze_76785));
                                    time_start_84310 = get_wall_time();
                                }
                                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                                ctx->mainzisegred_large_75584,
                                                                                1,
                                                                                NULL,
                                                                                global_work_sizze_84309,
                                                                                local_work_sizze_84313,
                                                                                0,
                                                                                NULL,
                                                                                ctx->profiling_paused ||
                                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                          &ctx->mainzisegred_large_75584_runs,
                                                                                                                          &ctx->mainzisegred_large_75584_total_runtime)));
                                if (ctx->debugging) {
                                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                    time_end_84311 = get_wall_time();
                                    
                                    long time_diff_84312 = time_end_84311 -
                                         time_start_84310;
                                    
                                    fprintf(ctx->log,
                                            "kernel %s runtime: %ldus\n",
                                            "main.segred_large_75584",
                                            time_diff_84312);
                                }
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx,
                                                      &segred_tmp_mem_83614,
                                                      "segred_tmp_mem_83614") !=
                                0)
                                return 1;
                            if (memblock_unref_device(ctx,
                                                      &segred_tmp_mem_83612,
                                                      "segred_tmp_mem_83612") !=
                                0)
                                return 1;
                        }
                        if (memblock_unref_device(ctx, &mem_81992,
                                                  "mem_81992") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81996,
                                                  "mem_81996") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82022,
                                                  "mem_82022") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82026,
                                                  "mem_82026") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82030,
                                                  "mem_82030") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82034,
                                                  "mem_82034") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82038,
                                                  "mem_82038") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_82049, &mem_82043,
                                                "mem_82043") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_82048, &mem_82047,
                                                "mem_82047") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82047,
                                                  "mem_82047") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82043,
                                                  "mem_82043") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82038,
                                                  "mem_82038") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82034,
                                                  "mem_82034") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82030,
                                                  "mem_82030") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82026,
                                                  "mem_82026") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82022,
                                                  "mem_82022") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82017,
                                                  "mem_82017") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82013,
                                                  "mem_82013") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82009,
                                                  "mem_82009") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82005,
                                                  "mem_82005") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_82001,
                                                  "mem_82001") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81996,
                                                  "mem_81996") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81992,
                                                  "mem_81992") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_81988,
                                                  "mem_81988") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_81849, "mem_81849") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81853, "mem_81853") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81857, "mem_81857") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81863, "mem_81863") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81867, "mem_81867") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81870, "mem_81870") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81873, "mem_81873") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81876, "mem_81876") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81881, "mem_81881") !=
                        0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_82061, &ext_mem_82049,
                                            "ext_mem_82049") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_82060, &ext_mem_82048,
                                            "ext_mem_82048") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_82048,
                                              "ext_mem_82048") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_82049,
                                              "ext_mem_82049") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81881, "mem_81881") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81876, "mem_81876") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81873, "mem_81873") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81870, "mem_81870") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81867, "mem_81867") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81863, "mem_81863") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81857, "mem_81857") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81853, "mem_81853") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_81849, "mem_81849") !=
                        0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_82063, &ext_mem_82061,
                                        "ext_mem_82061") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_82062, &ext_mem_82060,
                                        "ext_mem_82060") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_82060,
                                          "ext_mem_82060") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_82061,
                                          "ext_mem_82061") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_82065, &ext_mem_82063,
                                    "ext_mem_82063") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_82064, &ext_mem_82062,
                                    "ext_mem_82062") != 0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_82062, "ext_mem_82062") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_82063, "ext_mem_82063") !=
                0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_82237, &ext_mem_82065,
                                "ext_mem_82065") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_82236, &ext_mem_82064,
                                "ext_mem_82064") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_82064, "ext_mem_82064") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_82065, "ext_mem_82065") != 0)
            return 1;
    } else {
        bool match_lit_70891 = (int64_t) 0 == degree_70236;
        int64_t binop_x_82066 = m_70232 * n_m_70241;
        int64_t binop_y_82067 = (int64_t) 4 * binop_x_82066;
        int64_t bytes_82068 = smax64((int64_t) 0, binop_y_82067);
        int64_t binop_x_82071 = m_70232 * n_70233;
        int64_t binop_y_82072 = (int64_t) 8 * binop_x_82071;
        int64_t bytes_82073 = smax64((int64_t) 0, binop_y_82072);
        int64_t binop_y_82076 = (int64_t) 4 * binop_x_82071;
        int64_t bytes_82077 = smax64((int64_t) 0, binop_y_82076);
        int64_t binop_y_82090 = (int64_t) 8 * m_70232;
        int64_t bytes_82091 = smax64((int64_t) 0, binop_y_82090);
        int64_t binop_y_82099 = (int64_t) 4 * m_70232;
        int64_t bytes_82100 = smax64((int64_t) 0, binop_y_82099);
        int64_t binop_x_82103 = m_70232 * q_70235;
        int64_t binop_y_82104 = (int64_t) 4 * binop_x_82103;
        int64_t bytes_82105 = smax64((int64_t) 0, binop_y_82104);
        int64_t binop_y_82109 = (int64_t) 4 * q_70235;
        int64_t bytes_82110 = smax64((int64_t) 0, binop_y_82109);
        struct memblock_device ext_mem_82235;
        
        ext_mem_82235.references = NULL;
        
        struct memblock_device ext_mem_82234;
        
        ext_mem_82234.references = NULL;
        if (match_lit_70891) {
            struct memblock_device mem_82069;
            
            mem_82069.references = NULL;
            if (memblock_alloc_device(ctx, &mem_82069, bytes_82068,
                                      "mem_82069")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f32(ctx, mem_82069, m_70232 *
                                              n_m_70241, 0.0F) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t segscan_group_sizze_77183;
            
            segscan_group_sizze_77183 =
                ctx->sizes.mainzisegscan_group_sizze_77166;
            
            int64_t num_groups_77184;
            int32_t max_num_groups_83660;
            
            max_num_groups_83660 = ctx->sizes.mainzisegscan_num_groups_77168;
            num_groups_77184 = sext_i64_i32(smax64((int64_t) 1,
                                                   smin64(sdiv_up64(binop_x_82071,
                                                                    segscan_group_sizze_77183),
                                                          sext_i32_i64(max_num_groups_83660))));
            
            struct memblock_device mem_82074;
            
            mem_82074.references = NULL;
            if (memblock_alloc_device(ctx, &mem_82074, bytes_82073,
                                      "mem_82074")) {
                err = 1;
                goto cleanup;
            }
            if (slt64((int64_t) 0, m_70232 * n_70233)) {
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegScan");
                
                int64_t stage1_max_num_groups_83661;
                
                stage1_max_num_groups_83661 = ctx->opencl.max_group_size;
                
                int64_t stage1_num_groups_83662 =
                        smin64(stage1_max_num_groups_83661, num_groups_77184);
                int32_t num_threads_83663 =
                        sext_i64_i32(stage1_num_groups_83662 *
                        segscan_group_sizze_77183);
                
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_77172,
                                                        1,
                                                        (size_t) smax64((int64_t) 1,
                                                                        (int64_t) 8 *
                                                                        segscan_group_sizze_77183),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_77172,
                                                        2, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_77172,
                                                        3, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_77172,
                                                        4,
                                                        sizeof(num_threads_83663),
                                                        &num_threads_83663));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_77172,
                                                        5,
                                                        sizeof(Y_mem_81217.mem),
                                                        &Y_mem_81217.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_77172,
                                                        6,
                                                        sizeof(mem_82074.mem),
                                                        &mem_82074.mem));
                if (1 * ((size_t) stage1_num_groups_83662 *
                         (size_t) segscan_group_sizze_77183) != 0) {
                    const size_t global_work_sizze_84314[1] =
                                 {(size_t) stage1_num_groups_83662 *
                                 (size_t) segscan_group_sizze_77183};
                    const size_t local_work_sizze_84318[1] =
                                 {(size_t) segscan_group_sizze_77183};
                    int64_t time_start_84315 = 0, time_end_84316 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.scan_stage1_77172",
                                global_work_sizze_84314[0],
                                local_work_sizze_84318[0], (int) (0 +
                                                                  smax64((int64_t) 1,
                                                                         (int64_t) 8 *
                                                                         segscan_group_sizze_77183)));
                        time_start_84315 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainziscan_stage1_77172,
                                                                    1, NULL,
                                                                    global_work_sizze_84314,
                                                                    local_work_sizze_84318,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainziscan_stage1_77172_runs,
                                                                                                              &ctx->mainziscan_stage1_77172_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84316 = get_wall_time();
                        
                        long time_diff_84317 = time_end_84316 -
                             time_start_84315;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.scan_stage1_77172", time_diff_84317);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                            (long long) (segscan_group_sizze_77183 *
                                         sdiv_up64(m_70232 * n_70233,
                                                   sext_i32_i64(num_threads_83663))),
                            '\n');
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_77172,
                                                        1,
                                                        (size_t) smax64((int64_t) 1,
                                                                        (int64_t) 8 *
                                                                        stage1_num_groups_83662),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_77172,
                                                        2, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_77172,
                                                        3, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_77172,
                                                        4,
                                                        sizeof(stage1_num_groups_83662),
                                                        &stage1_num_groups_83662));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_77172,
                                                        5,
                                                        sizeof(num_threads_83663),
                                                        &num_threads_83663));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_77172,
                                                        6,
                                                        sizeof(mem_82074.mem),
                                                        &mem_82074.mem));
                if (1 * ((size_t) (int64_t) 1 *
                         (size_t) stage1_num_groups_83662) != 0) {
                    const size_t global_work_sizze_84319[1] =
                                 {(size_t) (int64_t) 1 *
                                 (size_t) stage1_num_groups_83662};
                    const size_t local_work_sizze_84323[1] =
                                 {(size_t) stage1_num_groups_83662};
                    int64_t time_start_84320 = 0, time_end_84321 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.scan_stage2_77172",
                                global_work_sizze_84319[0],
                                local_work_sizze_84323[0], (int) (0 +
                                                                  smax64((int64_t) 1,
                                                                         (int64_t) 8 *
                                                                         stage1_num_groups_83662)));
                        time_start_84320 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainziscan_stage2_77172,
                                                                    1, NULL,
                                                                    global_work_sizze_84319,
                                                                    local_work_sizze_84323,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainziscan_stage2_77172_runs,
                                                                                                              &ctx->mainziscan_stage2_77172_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84321 = get_wall_time();
                        
                        long time_diff_84322 = time_end_84321 -
                             time_start_84320;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.scan_stage2_77172", time_diff_84322);
                    }
                }
                
                int32_t required_groups_83705 = sext_i64_i32(sdiv_up64(m_70232 *
                                                                       n_70233,
                                                                       segscan_group_sizze_77183));
                
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_77172,
                                                        1, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_77172,
                                                        2, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_77172,
                                                        3,
                                                        sizeof(num_groups_77184),
                                                        &num_groups_77184));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_77172,
                                                        4,
                                                        sizeof(num_threads_83663),
                                                        &num_threads_83663));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_77172,
                                                        5,
                                                        sizeof(required_groups_83705),
                                                        &required_groups_83705));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_77172,
                                                        6,
                                                        sizeof(mem_82074.mem),
                                                        &mem_82074.mem));
                if (1 * ((size_t) num_groups_77184 *
                         (size_t) segscan_group_sizze_77183) != 0) {
                    const size_t global_work_sizze_84324[1] =
                                 {(size_t) num_groups_77184 *
                                 (size_t) segscan_group_sizze_77183};
                    const size_t local_work_sizze_84328[1] =
                                 {(size_t) segscan_group_sizze_77183};
                    int64_t time_start_84325 = 0, time_end_84326 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.scan_stage3_77172",
                                global_work_sizze_84324[0],
                                local_work_sizze_84328[0], (int) 0);
                        time_start_84325 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainziscan_stage3_77172,
                                                                    1, NULL,
                                                                    global_work_sizze_84324,
                                                                    local_work_sizze_84328,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainziscan_stage3_77172_runs,
                                                                                                              &ctx->mainziscan_stage3_77172_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84326 = get_wall_time();
                        
                        long time_diff_84327 = time_end_84326 -
                             time_start_84325;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.scan_stage3_77172", time_diff_84327);
                    }
                }
            }
            
            struct memblock_device mem_82078;
            
            mem_82078.references = NULL;
            if (memblock_alloc_device(ctx, &mem_82078, bytes_82077,
                                      "mem_82078")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f32(ctx, mem_82078, m_70232 * n_70233,
                                              0.0F) != 0) {
                err = 1;
                goto cleanup;
            }
            
            struct memblock_device mem_82082;
            
            mem_82082.references = NULL;
            if (memblock_alloc_device(ctx, &mem_82082, bytes_82073,
                                      "mem_82082")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_i64(ctx, mem_82082, m_70232 * n_70233,
                                              (int64_t) -1) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t segmap_group_sizze_77225;
            
            segmap_group_sizze_77225 =
                ctx->sizes.mainzisegmap_group_sizze_77097;
            
            int64_t segmap_usable_groups_77226 = sdiv_up64(binop_x_82071,
                                                           segmap_group_sizze_77225);
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77094, 1,
                                                    sizeof(m_70232), &m_70232));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77094, 2,
                                                    sizeof(n_70233), &n_70233));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77094, 3,
                                                    sizeof(Y_mem_81217.mem),
                                                    &Y_mem_81217.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77094, 4,
                                                    sizeof(mem_82074.mem),
                                                    &mem_82074.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77094, 5,
                                                    sizeof(mem_82078.mem),
                                                    &mem_82078.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77094, 6,
                                                    sizeof(mem_82082.mem),
                                                    &mem_82082.mem));
            if (1 * ((size_t) segmap_usable_groups_77226 *
                     (size_t) segmap_group_sizze_77225) != 0) {
                const size_t global_work_sizze_84329[1] =
                             {(size_t) segmap_usable_groups_77226 *
                             (size_t) segmap_group_sizze_77225};
                const size_t local_work_sizze_84333[1] =
                             {(size_t) segmap_group_sizze_77225};
                int64_t time_start_84330 = 0, time_end_84331 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log,
                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                            "main.segmap_77094", global_work_sizze_84329[0],
                            local_work_sizze_84333[0], (int) 0);
                    time_start_84330 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                ctx->mainzisegmap_77094,
                                                                1, NULL,
                                                                global_work_sizze_84329,
                                                                local_work_sizze_84333,
                                                                0, NULL,
                                                                ctx->profiling_paused ||
                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                          &ctx->mainzisegmap_77094_runs,
                                                                                                          &ctx->mainzisegmap_77094_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_84331 = get_wall_time();
                    
                    long time_diff_84332 = time_end_84331 - time_start_84330;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                            "main.segmap_77094", time_diff_84332);
                }
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            
            int64_t segmap_group_sizze_77242;
            
            segmap_group_sizze_77242 =
                ctx->sizes.mainzisegmap_group_sizze_77077;
            
            int64_t segmap_usable_groups_77243 = sdiv_up64(binop_x_82071,
                                                           segmap_group_sizze_77242);
            struct memblock_device mem_82088;
            
            mem_82088.references = NULL;
            if (memblock_alloc_device(ctx, &mem_82088, bytes_82073,
                                      "mem_82088")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77074, 1,
                                                    sizeof(m_70232), &m_70232));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77074, 2,
                                                    sizeof(n_70233), &n_70233));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77074, 3,
                                                    sizeof(mem_82082.mem),
                                                    &mem_82082.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77074, 4,
                                                    sizeof(mem_82088.mem),
                                                    &mem_82088.mem));
            if (1 * ((size_t) segmap_usable_groups_77243 *
                     (size_t) segmap_group_sizze_77242) != 0) {
                const size_t global_work_sizze_84334[1] =
                             {(size_t) segmap_usable_groups_77243 *
                             (size_t) segmap_group_sizze_77242};
                const size_t local_work_sizze_84338[1] =
                             {(size_t) segmap_group_sizze_77242};
                int64_t time_start_84335 = 0, time_end_84336 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log,
                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                            "main.segmap_77074", global_work_sizze_84334[0],
                            local_work_sizze_84338[0], (int) 0);
                    time_start_84335 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                ctx->mainzisegmap_77074,
                                                                1, NULL,
                                                                global_work_sizze_84334,
                                                                local_work_sizze_84338,
                                                                0, NULL,
                                                                ctx->profiling_paused ||
                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                          &ctx->mainzisegmap_77074_runs,
                                                                                                          &ctx->mainzisegmap_77074_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_84336 = get_wall_time();
                    
                    long time_diff_84337 = time_end_84336 - time_start_84335;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                            "main.segmap_77074", time_diff_84337);
                }
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            
            int64_t segmap_group_sizze_77249;
            
            segmap_group_sizze_77249 =
                ctx->sizes.mainzisegmap_group_sizze_77053;
            
            int64_t segmap_usable_groups_77250 = sdiv_up64(m_70232,
                                                           segmap_group_sizze_77249);
            struct memblock_device mem_82092;
            
            mem_82092.references = NULL;
            if (memblock_alloc_device(ctx, &mem_82092, bytes_82091,
                                      "mem_82092")) {
                err = 1;
                goto cleanup;
            }
            
            struct memblock_device mem_82095;
            
            mem_82095.references = NULL;
            if (memblock_alloc_device(ctx, &mem_82095, bytes_82091,
                                      "mem_82095")) {
                err = 1;
                goto cleanup;
            }
            
            struct memblock_device mem_82098;
            
            mem_82098.references = NULL;
            if (memblock_alloc_device(ctx, &mem_82098, bytes_82091,
                                      "mem_82098")) {
                err = 1;
                goto cleanup;
            }
            
            struct memblock_device mem_82101;
            
            mem_82101.references = NULL;
            if (memblock_alloc_device(ctx, &mem_82101, bytes_82100,
                                      "mem_82101")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77051, 1,
                                                    sizeof(m_70232), &m_70232));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77051, 2,
                                                    sizeof(n_70233), &n_70233));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77051, 3,
                                                    sizeof(q_70235), &q_70235));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77051, 4,
                                                    sizeof(i_70247), &i_70247));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77051, 5,
                                                    sizeof(min_res_70253),
                                                    &min_res_70253));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77051, 6,
                                                    sizeof(i64_res_70259),
                                                    &i64_res_70259));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77051, 7,
                                                    sizeof(mem_82074.mem),
                                                    &mem_82074.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77051, 8,
                                                    sizeof(mem_82092.mem),
                                                    &mem_82092.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77051, 9,
                                                    sizeof(mem_82095.mem),
                                                    &mem_82095.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77051, 10,
                                                    sizeof(mem_82098.mem),
                                                    &mem_82098.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77051, 11,
                                                    sizeof(mem_82101.mem),
                                                    &mem_82101.mem));
            if (1 * ((size_t) segmap_usable_groups_77250 *
                     (size_t) segmap_group_sizze_77249) != 0) {
                const size_t global_work_sizze_84339[1] =
                             {(size_t) segmap_usable_groups_77250 *
                             (size_t) segmap_group_sizze_77249};
                const size_t local_work_sizze_84343[1] =
                             {(size_t) segmap_group_sizze_77249};
                int64_t time_start_84340 = 0, time_end_84341 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log,
                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                            "main.segmap_77051", global_work_sizze_84339[0],
                            local_work_sizze_84343[0], (int) 0);
                    time_start_84340 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                ctx->mainzisegmap_77051,
                                                                1, NULL,
                                                                global_work_sizze_84339,
                                                                local_work_sizze_84343,
                                                                0, NULL,
                                                                ctx->profiling_paused ||
                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                          &ctx->mainzisegmap_77051_runs,
                                                                                                          &ctx->mainzisegmap_77051_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_84341 = get_wall_time();
                    
                    long time_diff_84342 = time_end_84341 - time_start_84340;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                            "main.segmap_77051", time_diff_84342);
                }
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            
            int64_t segmap_group_sizze_77269;
            
            segmap_group_sizze_77269 =
                ctx->sizes.mainzisegmap_group_sizze_77034;
            
            int64_t segmap_usable_groups_77270 = sdiv_up64(binop_x_82103,
                                                           segmap_group_sizze_77269);
            struct memblock_device mem_82106;
            
            mem_82106.references = NULL;
            if (memblock_alloc_device(ctx, &mem_82106, bytes_82105,
                                      "mem_82106")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77031, 1,
                                                    sizeof(m_70232), &m_70232));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77031, 2,
                                                    sizeof(n_70233), &n_70233));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77031, 3,
                                                    sizeof(q_70235), &q_70235));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77031, 4,
                                                    sizeof(i_70247), &i_70247));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77031, 5,
                                                    sizeof(mem_82074.mem),
                                                    &mem_82074.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77031, 6,
                                                    sizeof(mem_82106.mem),
                                                    &mem_82106.mem));
            if (1 * ((size_t) segmap_usable_groups_77270 *
                     (size_t) segmap_group_sizze_77269) != 0) {
                const size_t global_work_sizze_84344[1] =
                             {(size_t) segmap_usable_groups_77270 *
                             (size_t) segmap_group_sizze_77269};
                const size_t local_work_sizze_84348[1] =
                             {(size_t) segmap_group_sizze_77269};
                int64_t time_start_84345 = 0, time_end_84346 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log,
                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                            "main.segmap_77031", global_work_sizze_84344[0],
                            local_work_sizze_84348[0], (int) 0);
                    time_start_84345 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                ctx->mainzisegmap_77031,
                                                                1, NULL,
                                                                global_work_sizze_84344,
                                                                local_work_sizze_84348,
                                                                0, NULL,
                                                                ctx->profiling_paused ||
                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                          &ctx->mainzisegmap_77031_runs,
                                                                                                          &ctx->mainzisegmap_77031_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_84346 = get_wall_time();
                    
                    long time_diff_84347 = time_end_84346 - time_start_84345;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                            "main.segmap_77031", time_diff_84347);
                }
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            
            struct memblock_device mem_82116;
            
            mem_82116.references = NULL;
            if (memblock_alloc_device(ctx, &mem_82116, bytes_82068,
                                      "mem_82116")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    1,
                                                    sizeof(ctx->failure_is_an_option),
                                                    &ctx->failure_is_an_option));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    3, (size_t) ((int64_t) 4 *
                                                                 q_70235),
                                                    NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    4, (size_t) ((int64_t) 4 *
                                                                 q_70235),
                                                    NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    5, (size_t) bytes_82110,
                                                    NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    6, sizeof(m_70232),
                                                    &m_70232));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    7, sizeof(n_70233),
                                                    &n_70233));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    8, sizeof(q_70235),
                                                    &q_70235));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    9, sizeof(jump_70237),
                                                    &jump_70237));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    10, sizeof(n_m_70241),
                                                    &n_m_70241));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    11, sizeof(i_70247),
                                                    &i_70247));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    12, sizeof(x_70248),
                                                    &x_70248));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    13, sizeof(min_res_70253),
                                                    &min_res_70253));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    14, sizeof(loop_cond_70258),
                                                    &loop_cond_70258));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    15, sizeof(mem_82074.mem),
                                                    &mem_82074.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    16, sizeof(mem_82078.mem),
                                                    &mem_82078.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    17, sizeof(mem_82082.mem),
                                                    &mem_82082.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    18, sizeof(mem_82088.mem),
                                                    &mem_82088.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    19, sizeof(mem_82092.mem),
                                                    &mem_82092.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    20, sizeof(mem_82095.mem),
                                                    &mem_82095.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    21, sizeof(mem_82098.mem),
                                                    &mem_82098.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    22, sizeof(mem_82101.mem),
                                                    &mem_82101.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    23, sizeof(mem_82106.mem),
                                                    &mem_82106.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_76884,
                                                    24, sizeof(mem_82116.mem),
                                                    &mem_82116.mem));
            if (1 * ((size_t) binop_x_82066 * (size_t) q_70235) != 0) {
                const size_t global_work_sizze_84349[1] =
                             {(size_t) binop_x_82066 * (size_t) q_70235};
                const size_t local_work_sizze_84353[1] = {(size_t) q_70235};
                int64_t time_start_84350 = 0, time_end_84351 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log,
                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                            "main.segmap_intragroup_76884",
                            global_work_sizze_84349[0],
                            local_work_sizze_84353[0], (int) (0 + (int64_t) 4 *
                                                              q_70235 +
                                                              (int64_t) 4 *
                                                              q_70235 +
                                                              bytes_82110));
                    time_start_84350 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                ctx->mainzisegmap_intragroup_76884,
                                                                1, NULL,
                                                                global_work_sizze_84349,
                                                                local_work_sizze_84353,
                                                                0, NULL,
                                                                ctx->profiling_paused ||
                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                          &ctx->mainzisegmap_intragroup_76884_runs,
                                                                                                          &ctx->mainzisegmap_intragroup_76884_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_84351 = get_wall_time();
                    
                    long time_diff_84352 = time_end_84351 - time_start_84350;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                            "main.segmap_intragroup_76884", time_diff_84352);
                }
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_82074, "mem_82074") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82078, "mem_82078") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82082, "mem_82082") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82088, "mem_82088") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82092, "mem_82092") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82095, "mem_82095") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82098, "mem_82098") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82101, "mem_82101") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82106, "mem_82106") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_82235, &mem_82116,
                                    "mem_82116") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_82234, &mem_82069,
                                    "mem_82069") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82116, "mem_82116") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82106, "mem_82106") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82101, "mem_82101") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82098, "mem_82098") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82095, "mem_82095") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82092, "mem_82092") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82088, "mem_82088") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82082, "mem_82082") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82078, "mem_82078") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82074, "mem_82074") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_82069, "mem_82069") != 0)
                return 1;
        } else {
            bool match_lit_71057 = (int64_t) 1 == degree_70236;
            struct memblock_device ext_mem_82233;
            
            ext_mem_82233.references = NULL;
            
            struct memblock_device ext_mem_82232;
            
            ext_mem_82232.references = NULL;
            if (match_lit_71057) {
                int64_t segscan_group_sizze_77780;
                
                segscan_group_sizze_77780 =
                    ctx->sizes.mainzisegscan_group_sizze_77763;
                
                int64_t num_groups_77781;
                int32_t max_num_groups_83782;
                
                max_num_groups_83782 =
                    ctx->sizes.mainzisegscan_num_groups_77765;
                num_groups_77781 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(binop_x_82071,
                                                                        segscan_group_sizze_77780),
                                                              sext_i32_i64(max_num_groups_83782))));
                
                struct memblock_device mem_82121;
                
                mem_82121.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82121, bytes_82073,
                                          "mem_82121")) {
                    err = 1;
                    goto cleanup;
                }
                if (slt64((int64_t) 0, m_70232 * n_70233)) {
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegScan");
                    
                    int64_t stage1_max_num_groups_83783;
                    
                    stage1_max_num_groups_83783 = ctx->opencl.max_group_size;
                    
                    int64_t stage1_num_groups_83784 =
                            smin64(stage1_max_num_groups_83783,
                                   num_groups_77781);
                    int32_t num_threads_83785 =
                            sext_i64_i32(stage1_num_groups_83784 *
                            segscan_group_sizze_77780);
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_77769,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            segscan_group_sizze_77780),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_77769,
                                                            2, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_77769,
                                                            3, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_77769,
                                                            4,
                                                            sizeof(num_threads_83785),
                                                            &num_threads_83785));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_77769,
                                                            5,
                                                            sizeof(Y_mem_81217.mem),
                                                            &Y_mem_81217.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_77769,
                                                            6,
                                                            sizeof(mem_82121.mem),
                                                            &mem_82121.mem));
                    if (1 * ((size_t) stage1_num_groups_83784 *
                             (size_t) segscan_group_sizze_77780) != 0) {
                        const size_t global_work_sizze_84354[1] =
                                     {(size_t) stage1_num_groups_83784 *
                                     (size_t) segscan_group_sizze_77780};
                        const size_t local_work_sizze_84358[1] =
                                     {(size_t) segscan_group_sizze_77780};
                        int64_t time_start_84355 = 0, time_end_84356 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage1_77769",
                                    global_work_sizze_84354[0],
                                    local_work_sizze_84358[0], (int) (0 +
                                                                      smax64((int64_t) 1,
                                                                             (int64_t) 8 *
                                                                             segscan_group_sizze_77780)));
                            time_start_84355 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage1_77769,
                                                                        1, NULL,
                                                                        global_work_sizze_84354,
                                                                        local_work_sizze_84358,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage1_77769_runs,
                                                                                                                  &ctx->mainziscan_stage1_77769_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84356 = get_wall_time();
                            
                            long time_diff_84357 = time_end_84356 -
                                 time_start_84355;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage1_77769", time_diff_84357);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                                (long long) (segscan_group_sizze_77780 *
                                             sdiv_up64(m_70232 * n_70233,
                                                       sext_i32_i64(num_threads_83785))),
                                '\n');
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_77769,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            stage1_num_groups_83784),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_77769,
                                                            2, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_77769,
                                                            3, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_77769,
                                                            4,
                                                            sizeof(stage1_num_groups_83784),
                                                            &stage1_num_groups_83784));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_77769,
                                                            5,
                                                            sizeof(num_threads_83785),
                                                            &num_threads_83785));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_77769,
                                                            6,
                                                            sizeof(mem_82121.mem),
                                                            &mem_82121.mem));
                    if (1 * ((size_t) (int64_t) 1 *
                             (size_t) stage1_num_groups_83784) != 0) {
                        const size_t global_work_sizze_84359[1] =
                                     {(size_t) (int64_t) 1 *
                                     (size_t) stage1_num_groups_83784};
                        const size_t local_work_sizze_84363[1] =
                                     {(size_t) stage1_num_groups_83784};
                        int64_t time_start_84360 = 0, time_end_84361 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage2_77769",
                                    global_work_sizze_84359[0],
                                    local_work_sizze_84363[0], (int) (0 +
                                                                      smax64((int64_t) 1,
                                                                             (int64_t) 8 *
                                                                             stage1_num_groups_83784)));
                            time_start_84360 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage2_77769,
                                                                        1, NULL,
                                                                        global_work_sizze_84359,
                                                                        local_work_sizze_84363,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage2_77769_runs,
                                                                                                                  &ctx->mainziscan_stage2_77769_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84361 = get_wall_time();
                            
                            long time_diff_84362 = time_end_84361 -
                                 time_start_84360;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage2_77769", time_diff_84362);
                        }
                    }
                    
                    int32_t required_groups_83827 =
                            sext_i64_i32(sdiv_up64(m_70232 * n_70233,
                                                   segscan_group_sizze_77780));
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_77769,
                                                            1, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_77769,
                                                            2, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_77769,
                                                            3,
                                                            sizeof(num_groups_77781),
                                                            &num_groups_77781));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_77769,
                                                            4,
                                                            sizeof(num_threads_83785),
                                                            &num_threads_83785));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_77769,
                                                            5,
                                                            sizeof(required_groups_83827),
                                                            &required_groups_83827));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_77769,
                                                            6,
                                                            sizeof(mem_82121.mem),
                                                            &mem_82121.mem));
                    if (1 * ((size_t) num_groups_77781 *
                             (size_t) segscan_group_sizze_77780) != 0) {
                        const size_t global_work_sizze_84364[1] =
                                     {(size_t) num_groups_77781 *
                                     (size_t) segscan_group_sizze_77780};
                        const size_t local_work_sizze_84368[1] =
                                     {(size_t) segscan_group_sizze_77780};
                        int64_t time_start_84365 = 0, time_end_84366 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage3_77769",
                                    global_work_sizze_84364[0],
                                    local_work_sizze_84368[0], (int) 0);
                            time_start_84365 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage3_77769,
                                                                        1, NULL,
                                                                        global_work_sizze_84364,
                                                                        local_work_sizze_84368,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage3_77769_runs,
                                                                                                                  &ctx->mainziscan_stage3_77769_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84366 = get_wall_time();
                            
                            long time_diff_84367 = time_end_84366 -
                                 time_start_84365;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage3_77769", time_diff_84367);
                        }
                    }
                }
                
                struct memblock_device mem_82125;
                
                mem_82125.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82125, bytes_82077,
                                          "mem_82125")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_f32(ctx, mem_82125, m_70232 *
                                                  n_70233, 0.0F) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_82129;
                
                mem_82129.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82129, bytes_82073,
                                          "mem_82129")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, mem_82129, m_70232 *
                                                  n_70233, (int64_t) -1) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t segmap_group_sizze_77822;
                
                segmap_group_sizze_77822 =
                    ctx->sizes.mainzisegmap_group_sizze_77694;
                
                int64_t segmap_usable_groups_77823 = sdiv_up64(binop_x_82071,
                                                               segmap_group_sizze_77822);
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77691,
                                                        1, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77691,
                                                        2, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77691,
                                                        3,
                                                        sizeof(Y_mem_81217.mem),
                                                        &Y_mem_81217.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77691,
                                                        4,
                                                        sizeof(mem_82121.mem),
                                                        &mem_82121.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77691,
                                                        5,
                                                        sizeof(mem_82125.mem),
                                                        &mem_82125.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77691,
                                                        6,
                                                        sizeof(mem_82129.mem),
                                                        &mem_82129.mem));
                if (1 * ((size_t) segmap_usable_groups_77823 *
                         (size_t) segmap_group_sizze_77822) != 0) {
                    const size_t global_work_sizze_84369[1] =
                                 {(size_t) segmap_usable_groups_77823 *
                                 (size_t) segmap_group_sizze_77822};
                    const size_t local_work_sizze_84373[1] =
                                 {(size_t) segmap_group_sizze_77822};
                    int64_t time_start_84370 = 0, time_end_84371 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_77691", global_work_sizze_84369[0],
                                local_work_sizze_84373[0], (int) 0);
                        time_start_84370 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_77691,
                                                                    1, NULL,
                                                                    global_work_sizze_84369,
                                                                    local_work_sizze_84373,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_77691_runs,
                                                                                                              &ctx->mainzisegmap_77691_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84371 = get_wall_time();
                        
                        long time_diff_84372 = time_end_84371 -
                             time_start_84370;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_77691", time_diff_84372);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_77839;
                
                segmap_group_sizze_77839 =
                    ctx->sizes.mainzisegmap_group_sizze_77674;
                
                int64_t segmap_usable_groups_77840 = sdiv_up64(binop_x_82071,
                                                               segmap_group_sizze_77839);
                struct memblock_device mem_82135;
                
                mem_82135.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82135, bytes_82073,
                                          "mem_82135")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77671,
                                                        1, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77671,
                                                        2, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77671,
                                                        3,
                                                        sizeof(mem_82129.mem),
                                                        &mem_82129.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77671,
                                                        4,
                                                        sizeof(mem_82135.mem),
                                                        &mem_82135.mem));
                if (1 * ((size_t) segmap_usable_groups_77840 *
                         (size_t) segmap_group_sizze_77839) != 0) {
                    const size_t global_work_sizze_84374[1] =
                                 {(size_t) segmap_usable_groups_77840 *
                                 (size_t) segmap_group_sizze_77839};
                    const size_t local_work_sizze_84378[1] =
                                 {(size_t) segmap_group_sizze_77839};
                    int64_t time_start_84375 = 0, time_end_84376 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_77671", global_work_sizze_84374[0],
                                local_work_sizze_84378[0], (int) 0);
                        time_start_84375 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_77671,
                                                                    1, NULL,
                                                                    global_work_sizze_84374,
                                                                    local_work_sizze_84378,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_77671_runs,
                                                                                                              &ctx->mainzisegmap_77671_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84376 = get_wall_time();
                        
                        long time_diff_84377 = time_end_84376 -
                             time_start_84375;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_77671", time_diff_84377);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_77846;
                
                segmap_group_sizze_77846 =
                    ctx->sizes.mainzisegmap_group_sizze_77650;
                
                int64_t segmap_usable_groups_77847 = sdiv_up64(m_70232,
                                                               segmap_group_sizze_77846);
                struct memblock_device mem_82139;
                
                mem_82139.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82139, bytes_82091,
                                          "mem_82139")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_82142;
                
                mem_82142.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82142, bytes_82091,
                                          "mem_82142")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_82145;
                
                mem_82145.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82145, bytes_82091,
                                          "mem_82145")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_82148;
                
                mem_82148.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82148, bytes_82100,
                                          "mem_82148")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77648,
                                                        1, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77648,
                                                        2, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77648,
                                                        3, sizeof(q_70235),
                                                        &q_70235));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77648,
                                                        4, sizeof(i_70247),
                                                        &i_70247));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77648,
                                                        5,
                                                        sizeof(min_res_70253),
                                                        &min_res_70253));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77648,
                                                        6,
                                                        sizeof(i64_res_70259),
                                                        &i64_res_70259));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77648,
                                                        7,
                                                        sizeof(mem_82121.mem),
                                                        &mem_82121.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77648,
                                                        8,
                                                        sizeof(mem_82139.mem),
                                                        &mem_82139.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77648,
                                                        9,
                                                        sizeof(mem_82142.mem),
                                                        &mem_82142.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77648,
                                                        10,
                                                        sizeof(mem_82145.mem),
                                                        &mem_82145.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77648,
                                                        11,
                                                        sizeof(mem_82148.mem),
                                                        &mem_82148.mem));
                if (1 * ((size_t) segmap_usable_groups_77847 *
                         (size_t) segmap_group_sizze_77846) != 0) {
                    const size_t global_work_sizze_84379[1] =
                                 {(size_t) segmap_usable_groups_77847 *
                                 (size_t) segmap_group_sizze_77846};
                    const size_t local_work_sizze_84383[1] =
                                 {(size_t) segmap_group_sizze_77846};
                    int64_t time_start_84380 = 0, time_end_84381 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_77648", global_work_sizze_84379[0],
                                local_work_sizze_84383[0], (int) 0);
                        time_start_84380 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_77648,
                                                                    1, NULL,
                                                                    global_work_sizze_84379,
                                                                    local_work_sizze_84383,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_77648_runs,
                                                                                                              &ctx->mainzisegmap_77648_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84381 = get_wall_time();
                        
                        long time_diff_84382 = time_end_84381 -
                             time_start_84380;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_77648", time_diff_84382);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_77866;
                
                segmap_group_sizze_77866 =
                    ctx->sizes.mainzisegmap_group_sizze_77631;
                
                int64_t segmap_usable_groups_77867 = sdiv_up64(binop_x_82103,
                                                               segmap_group_sizze_77866);
                struct memblock_device mem_82153;
                
                mem_82153.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82153, bytes_82105,
                                          "mem_82153")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77628,
                                                        1, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77628,
                                                        2, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77628,
                                                        3, sizeof(q_70235),
                                                        &q_70235));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77628,
                                                        4, sizeof(i_70247),
                                                        &i_70247));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77628,
                                                        5,
                                                        sizeof(mem_82121.mem),
                                                        &mem_82121.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_77628,
                                                        6,
                                                        sizeof(mem_82153.mem),
                                                        &mem_82153.mem));
                if (1 * ((size_t) segmap_usable_groups_77867 *
                         (size_t) segmap_group_sizze_77866) != 0) {
                    const size_t global_work_sizze_84384[1] =
                                 {(size_t) segmap_usable_groups_77867 *
                                 (size_t) segmap_group_sizze_77866};
                    const size_t local_work_sizze_84388[1] =
                                 {(size_t) segmap_group_sizze_77866};
                    int64_t time_start_84385 = 0, time_end_84386 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_77628", global_work_sizze_84384[0],
                                local_work_sizze_84388[0], (int) 0);
                        time_start_84385 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_77628,
                                                                    1, NULL,
                                                                    global_work_sizze_84384,
                                                                    local_work_sizze_84388,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_77628_runs,
                                                                                                              &ctx->mainzisegmap_77628_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84386 = get_wall_time();
                        
                        long time_diff_84387 = time_end_84386 -
                             time_start_84385;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_77628", time_diff_84387);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                struct memblock_device mem_82166;
                
                mem_82166.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82166, bytes_82068,
                                          "mem_82166")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_82170;
                
                mem_82170.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82170, bytes_82068,
                                          "mem_82170")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        1,
                                                        sizeof(ctx->failure_is_an_option),
                                                        &ctx->failure_is_an_option));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        3,
                                                        (size_t) ((int64_t) 4 *
                                                                  q_70235),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        4,
                                                        (size_t) ((int64_t) 4 *
                                                                  q_70235),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        5,
                                                        (size_t) ((int64_t) 4 *
                                                                  q_70235),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        6,
                                                        (size_t) ((int64_t) 4 *
                                                                  q_70235),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        7,
                                                        (size_t) ((int64_t) 4 *
                                                                  q_70235),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        8, (size_t) bytes_82110,
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        9, (size_t) bytes_82110,
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        10, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        11, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        12, sizeof(q_70235),
                                                        &q_70235));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        13, sizeof(jump_70237),
                                                        &jump_70237));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        14, sizeof(n_m_70241),
                                                        &n_m_70241));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        15, sizeof(i_70247),
                                                        &i_70247));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        16, sizeof(x_70248),
                                                        &x_70248));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        17,
                                                        sizeof(min_res_70253),
                                                        &min_res_70253));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        18,
                                                        sizeof(loop_cond_70258),
                                                        &loop_cond_70258));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        19,
                                                        sizeof(mem_82121.mem),
                                                        &mem_82121.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        20,
                                                        sizeof(mem_82125.mem),
                                                        &mem_82125.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        21,
                                                        sizeof(mem_82129.mem),
                                                        &mem_82129.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        22,
                                                        sizeof(mem_82135.mem),
                                                        &mem_82135.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        23,
                                                        sizeof(mem_82139.mem),
                                                        &mem_82139.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        24,
                                                        sizeof(mem_82142.mem),
                                                        &mem_82142.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        25,
                                                        sizeof(mem_82145.mem),
                                                        &mem_82145.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        26,
                                                        sizeof(mem_82148.mem),
                                                        &mem_82148.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        27,
                                                        sizeof(mem_82153.mem),
                                                        &mem_82153.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        28,
                                                        sizeof(mem_82166.mem),
                                                        &mem_82166.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_77451,
                                                        29,
                                                        sizeof(mem_82170.mem),
                                                        &mem_82170.mem));
                if (1 * ((size_t) binop_x_82066 * (size_t) q_70235) != 0) {
                    const size_t global_work_sizze_84389[1] =
                                 {(size_t) binop_x_82066 * (size_t) q_70235};
                    const size_t local_work_sizze_84393[1] = {(size_t) q_70235};
                    int64_t time_start_84390 = 0, time_end_84391 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_intragroup_77451",
                                global_work_sizze_84389[0],
                                local_work_sizze_84393[0], (int) (0 +
                                                                  (int64_t) 4 *
                                                                  q_70235 +
                                                                  (int64_t) 4 *
                                                                  q_70235 +
                                                                  (int64_t) 4 *
                                                                  q_70235 +
                                                                  (int64_t) 4 *
                                                                  q_70235 +
                                                                  (int64_t) 4 *
                                                                  q_70235 +
                                                                  bytes_82110 +
                                                                  bytes_82110));
                        time_start_84390 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_intragroup_77451,
                                                                    1, NULL,
                                                                    global_work_sizze_84389,
                                                                    local_work_sizze_84393,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_intragroup_77451_runs,
                                                                                                              &ctx->mainzisegmap_intragroup_77451_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84391 = get_wall_time();
                        
                        long time_diff_84392 = time_end_84391 -
                             time_start_84390;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_intragroup_77451",
                                time_diff_84392);
                    }
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_82121, "mem_82121") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82125, "mem_82125") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82129, "mem_82129") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82135, "mem_82135") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82139, "mem_82139") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82142, "mem_82142") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82145, "mem_82145") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82148, "mem_82148") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82153, "mem_82153") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_82233, &mem_82166,
                                        "mem_82166") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_82232, &mem_82170,
                                        "mem_82170") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82170, "mem_82170") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82166, "mem_82166") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82153, "mem_82153") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82148, "mem_82148") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82145, "mem_82145") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82142, "mem_82142") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82139, "mem_82139") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82135, "mem_82135") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82129, "mem_82129") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82125, "mem_82125") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82121, "mem_82121") != 0)
                    return 1;
            } else {
                int64_t segscan_group_sizze_78463;
                
                segscan_group_sizze_78463 =
                    ctx->sizes.mainzisegscan_group_sizze_78446;
                
                int64_t num_groups_78464;
                int32_t max_num_groups_83910;
                
                max_num_groups_83910 =
                    ctx->sizes.mainzisegscan_num_groups_78448;
                num_groups_78464 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(binop_x_82071,
                                                                        segscan_group_sizze_78463),
                                                              sext_i32_i64(max_num_groups_83910))));
                
                struct memblock_device mem_82175;
                
                mem_82175.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82175, bytes_82073,
                                          "mem_82175")) {
                    err = 1;
                    goto cleanup;
                }
                if (slt64((int64_t) 0, m_70232 * n_70233)) {
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegScan");
                    
                    int64_t stage1_max_num_groups_83911;
                    
                    stage1_max_num_groups_83911 = ctx->opencl.max_group_size;
                    
                    int64_t stage1_num_groups_83912 =
                            smin64(stage1_max_num_groups_83911,
                                   num_groups_78464);
                    int32_t num_threads_83913 =
                            sext_i64_i32(stage1_num_groups_83912 *
                            segscan_group_sizze_78463);
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_78452,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            segscan_group_sizze_78463),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_78452,
                                                            2, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_78452,
                                                            3, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_78452,
                                                            4,
                                                            sizeof(num_threads_83913),
                                                            &num_threads_83913));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_78452,
                                                            5,
                                                            sizeof(Y_mem_81217.mem),
                                                            &Y_mem_81217.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_78452,
                                                            6,
                                                            sizeof(mem_82175.mem),
                                                            &mem_82175.mem));
                    if (1 * ((size_t) stage1_num_groups_83912 *
                             (size_t) segscan_group_sizze_78463) != 0) {
                        const size_t global_work_sizze_84394[1] =
                                     {(size_t) stage1_num_groups_83912 *
                                     (size_t) segscan_group_sizze_78463};
                        const size_t local_work_sizze_84398[1] =
                                     {(size_t) segscan_group_sizze_78463};
                        int64_t time_start_84395 = 0, time_end_84396 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage1_78452",
                                    global_work_sizze_84394[0],
                                    local_work_sizze_84398[0], (int) (0 +
                                                                      smax64((int64_t) 1,
                                                                             (int64_t) 8 *
                                                                             segscan_group_sizze_78463)));
                            time_start_84395 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage1_78452,
                                                                        1, NULL,
                                                                        global_work_sizze_84394,
                                                                        local_work_sizze_84398,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage1_78452_runs,
                                                                                                                  &ctx->mainziscan_stage1_78452_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84396 = get_wall_time();
                            
                            long time_diff_84397 = time_end_84396 -
                                 time_start_84395;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage1_78452", time_diff_84397);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                                (long long) (segscan_group_sizze_78463 *
                                             sdiv_up64(m_70232 * n_70233,
                                                       sext_i32_i64(num_threads_83913))),
                                '\n');
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_78452,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            stage1_num_groups_83912),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_78452,
                                                            2, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_78452,
                                                            3, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_78452,
                                                            4,
                                                            sizeof(stage1_num_groups_83912),
                                                            &stage1_num_groups_83912));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_78452,
                                                            5,
                                                            sizeof(num_threads_83913),
                                                            &num_threads_83913));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_78452,
                                                            6,
                                                            sizeof(mem_82175.mem),
                                                            &mem_82175.mem));
                    if (1 * ((size_t) (int64_t) 1 *
                             (size_t) stage1_num_groups_83912) != 0) {
                        const size_t global_work_sizze_84399[1] =
                                     {(size_t) (int64_t) 1 *
                                     (size_t) stage1_num_groups_83912};
                        const size_t local_work_sizze_84403[1] =
                                     {(size_t) stage1_num_groups_83912};
                        int64_t time_start_84400 = 0, time_end_84401 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage2_78452",
                                    global_work_sizze_84399[0],
                                    local_work_sizze_84403[0], (int) (0 +
                                                                      smax64((int64_t) 1,
                                                                             (int64_t) 8 *
                                                                             stage1_num_groups_83912)));
                            time_start_84400 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage2_78452,
                                                                        1, NULL,
                                                                        global_work_sizze_84399,
                                                                        local_work_sizze_84403,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage2_78452_runs,
                                                                                                                  &ctx->mainziscan_stage2_78452_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84401 = get_wall_time();
                            
                            long time_diff_84402 = time_end_84401 -
                                 time_start_84400;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage2_78452", time_diff_84402);
                        }
                    }
                    
                    int32_t required_groups_83955 =
                            sext_i64_i32(sdiv_up64(m_70232 * n_70233,
                                                   segscan_group_sizze_78463));
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_78452,
                                                            1, sizeof(m_70232),
                                                            &m_70232));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_78452,
                                                            2, sizeof(n_70233),
                                                            &n_70233));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_78452,
                                                            3,
                                                            sizeof(num_groups_78464),
                                                            &num_groups_78464));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_78452,
                                                            4,
                                                            sizeof(num_threads_83913),
                                                            &num_threads_83913));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_78452,
                                                            5,
                                                            sizeof(required_groups_83955),
                                                            &required_groups_83955));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_78452,
                                                            6,
                                                            sizeof(mem_82175.mem),
                                                            &mem_82175.mem));
                    if (1 * ((size_t) num_groups_78464 *
                             (size_t) segscan_group_sizze_78463) != 0) {
                        const size_t global_work_sizze_84404[1] =
                                     {(size_t) num_groups_78464 *
                                     (size_t) segscan_group_sizze_78463};
                        const size_t local_work_sizze_84408[1] =
                                     {(size_t) segscan_group_sizze_78463};
                        int64_t time_start_84405 = 0, time_end_84406 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage3_78452",
                                    global_work_sizze_84404[0],
                                    local_work_sizze_84408[0], (int) 0);
                            time_start_84405 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage3_78452,
                                                                        1, NULL,
                                                                        global_work_sizze_84404,
                                                                        local_work_sizze_84408,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage3_78452_runs,
                                                                                                                  &ctx->mainziscan_stage3_78452_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_84406 = get_wall_time();
                            
                            long time_diff_84407 = time_end_84406 -
                                 time_start_84405;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage3_78452", time_diff_84407);
                        }
                    }
                }
                
                struct memblock_device mem_82179;
                
                mem_82179.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82179, bytes_82077,
                                          "mem_82179")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_f32(ctx, mem_82179, m_70232 *
                                                  n_70233, 0.0F) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_82183;
                
                mem_82183.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82183, bytes_82073,
                                          "mem_82183")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, mem_82183, m_70232 *
                                                  n_70233, (int64_t) -1) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t segmap_group_sizze_78505;
                
                segmap_group_sizze_78505 =
                    ctx->sizes.mainzisegmap_group_sizze_78377;
                
                int64_t segmap_usable_groups_78506 = sdiv_up64(binop_x_82071,
                                                               segmap_group_sizze_78505);
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78374,
                                                        1, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78374,
                                                        2, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78374,
                                                        3,
                                                        sizeof(Y_mem_81217.mem),
                                                        &Y_mem_81217.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78374,
                                                        4,
                                                        sizeof(mem_82175.mem),
                                                        &mem_82175.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78374,
                                                        5,
                                                        sizeof(mem_82179.mem),
                                                        &mem_82179.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78374,
                                                        6,
                                                        sizeof(mem_82183.mem),
                                                        &mem_82183.mem));
                if (1 * ((size_t) segmap_usable_groups_78506 *
                         (size_t) segmap_group_sizze_78505) != 0) {
                    const size_t global_work_sizze_84409[1] =
                                 {(size_t) segmap_usable_groups_78506 *
                                 (size_t) segmap_group_sizze_78505};
                    const size_t local_work_sizze_84413[1] =
                                 {(size_t) segmap_group_sizze_78505};
                    int64_t time_start_84410 = 0, time_end_84411 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_78374", global_work_sizze_84409[0],
                                local_work_sizze_84413[0], (int) 0);
                        time_start_84410 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_78374,
                                                                    1, NULL,
                                                                    global_work_sizze_84409,
                                                                    local_work_sizze_84413,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_78374_runs,
                                                                                                              &ctx->mainzisegmap_78374_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84411 = get_wall_time();
                        
                        long time_diff_84412 = time_end_84411 -
                             time_start_84410;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_78374", time_diff_84412);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_78522;
                
                segmap_group_sizze_78522 =
                    ctx->sizes.mainzisegmap_group_sizze_78357;
                
                int64_t segmap_usable_groups_78523 = sdiv_up64(binop_x_82071,
                                                               segmap_group_sizze_78522);
                struct memblock_device mem_82189;
                
                mem_82189.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82189, bytes_82073,
                                          "mem_82189")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78354,
                                                        1, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78354,
                                                        2, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78354,
                                                        3,
                                                        sizeof(mem_82183.mem),
                                                        &mem_82183.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78354,
                                                        4,
                                                        sizeof(mem_82189.mem),
                                                        &mem_82189.mem));
                if (1 * ((size_t) segmap_usable_groups_78523 *
                         (size_t) segmap_group_sizze_78522) != 0) {
                    const size_t global_work_sizze_84414[1] =
                                 {(size_t) segmap_usable_groups_78523 *
                                 (size_t) segmap_group_sizze_78522};
                    const size_t local_work_sizze_84418[1] =
                                 {(size_t) segmap_group_sizze_78522};
                    int64_t time_start_84415 = 0, time_end_84416 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_78354", global_work_sizze_84414[0],
                                local_work_sizze_84418[0], (int) 0);
                        time_start_84415 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_78354,
                                                                    1, NULL,
                                                                    global_work_sizze_84414,
                                                                    local_work_sizze_84418,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_78354_runs,
                                                                                                              &ctx->mainzisegmap_78354_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84416 = get_wall_time();
                        
                        long time_diff_84417 = time_end_84416 -
                             time_start_84415;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_78354", time_diff_84417);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_78529;
                
                segmap_group_sizze_78529 =
                    ctx->sizes.mainzisegmap_group_sizze_78333;
                
                int64_t segmap_usable_groups_78530 = sdiv_up64(m_70232,
                                                               segmap_group_sizze_78529);
                struct memblock_device mem_82193;
                
                mem_82193.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82193, bytes_82091,
                                          "mem_82193")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_82196;
                
                mem_82196.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82196, bytes_82091,
                                          "mem_82196")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_82199;
                
                mem_82199.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82199, bytes_82091,
                                          "mem_82199")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_82202;
                
                mem_82202.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82202, bytes_82100,
                                          "mem_82202")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78331,
                                                        1, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78331,
                                                        2, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78331,
                                                        3, sizeof(q_70235),
                                                        &q_70235));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78331,
                                                        4, sizeof(i_70247),
                                                        &i_70247));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78331,
                                                        5,
                                                        sizeof(min_res_70253),
                                                        &min_res_70253));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78331,
                                                        6,
                                                        sizeof(i64_res_70259),
                                                        &i64_res_70259));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78331,
                                                        7,
                                                        sizeof(mem_82175.mem),
                                                        &mem_82175.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78331,
                                                        8,
                                                        sizeof(mem_82193.mem),
                                                        &mem_82193.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78331,
                                                        9,
                                                        sizeof(mem_82196.mem),
                                                        &mem_82196.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78331,
                                                        10,
                                                        sizeof(mem_82199.mem),
                                                        &mem_82199.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78331,
                                                        11,
                                                        sizeof(mem_82202.mem),
                                                        &mem_82202.mem));
                if (1 * ((size_t) segmap_usable_groups_78530 *
                         (size_t) segmap_group_sizze_78529) != 0) {
                    const size_t global_work_sizze_84419[1] =
                                 {(size_t) segmap_usable_groups_78530 *
                                 (size_t) segmap_group_sizze_78529};
                    const size_t local_work_sizze_84423[1] =
                                 {(size_t) segmap_group_sizze_78529};
                    int64_t time_start_84420 = 0, time_end_84421 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_78331", global_work_sizze_84419[0],
                                local_work_sizze_84423[0], (int) 0);
                        time_start_84420 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_78331,
                                                                    1, NULL,
                                                                    global_work_sizze_84419,
                                                                    local_work_sizze_84423,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_78331_runs,
                                                                                                              &ctx->mainzisegmap_78331_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84421 = get_wall_time();
                        
                        long time_diff_84422 = time_end_84421 -
                             time_start_84420;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_78331", time_diff_84422);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_78549;
                
                segmap_group_sizze_78549 =
                    ctx->sizes.mainzisegmap_group_sizze_78314;
                
                int64_t segmap_usable_groups_78550 = sdiv_up64(binop_x_82103,
                                                               segmap_group_sizze_78549);
                struct memblock_device mem_82207;
                
                mem_82207.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82207, bytes_82105,
                                          "mem_82207")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78311,
                                                        1, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78311,
                                                        2, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78311,
                                                        3, sizeof(q_70235),
                                                        &q_70235));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78311,
                                                        4, sizeof(i_70247),
                                                        &i_70247));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78311,
                                                        5,
                                                        sizeof(mem_82175.mem),
                                                        &mem_82175.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78311,
                                                        6,
                                                        sizeof(mem_82207.mem),
                                                        &mem_82207.mem));
                if (1 * ((size_t) segmap_usable_groups_78550 *
                         (size_t) segmap_group_sizze_78549) != 0) {
                    const size_t global_work_sizze_84424[1] =
                                 {(size_t) segmap_usable_groups_78550 *
                                 (size_t) segmap_group_sizze_78549};
                    const size_t local_work_sizze_84428[1] =
                                 {(size_t) segmap_group_sizze_78549};
                    int64_t time_start_84425 = 0, time_end_84426 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_78311", global_work_sizze_84424[0],
                                local_work_sizze_84428[0], (int) 0);
                        time_start_84425 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_78311,
                                                                    1, NULL,
                                                                    global_work_sizze_84424,
                                                                    local_work_sizze_84428,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_78311_runs,
                                                                                                              &ctx->mainzisegmap_78311_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84426 = get_wall_time();
                        
                        long time_diff_84427 = time_end_84426 -
                             time_start_84425;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_78311", time_diff_84427);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                struct memblock_device mem_82227;
                
                mem_82227.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82227, bytes_82068,
                                          "mem_82227")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_82231;
                
                mem_82231.references = NULL;
                if (memblock_alloc_device(ctx, &mem_82231, bytes_82068,
                                          "mem_82231")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        1,
                                                        sizeof(ctx->failure_is_an_option),
                                                        &ctx->failure_is_an_option));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        3,
                                                        (size_t) ((int64_t) 4 *
                                                                  q_70235),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        4,
                                                        (size_t) ((int64_t) 4 *
                                                                  q_70235),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        5,
                                                        (size_t) ((int64_t) 4 *
                                                                  q_70235),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        6,
                                                        (size_t) ((int64_t) 4 *
                                                                  q_70235),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        7,
                                                        (size_t) ((int64_t) 4 *
                                                                  q_70235),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        8,
                                                        (size_t) ((int64_t) 4 *
                                                                  q_70235),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        9,
                                                        (size_t) ((int64_t) 4 *
                                                                  q_70235),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        10,
                                                        (size_t) bytes_82110,
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        11,
                                                        (size_t) bytes_82110,
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        12,
                                                        (size_t) bytes_82110,
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        13,
                                                        (size_t) bytes_82110,
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        14, sizeof(m_70232),
                                                        &m_70232));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        15, sizeof(n_70233),
                                                        &n_70233));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        16, sizeof(q_70235),
                                                        &q_70235));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        17, sizeof(jump_70237),
                                                        &jump_70237));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        18, sizeof(n_m_70241),
                                                        &n_m_70241));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        19, sizeof(i_70247),
                                                        &i_70247));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        20, sizeof(x_70248),
                                                        &x_70248));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        21,
                                                        sizeof(min_res_70253),
                                                        &min_res_70253));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        22,
                                                        sizeof(loop_cond_70258),
                                                        &loop_cond_70258));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        23,
                                                        sizeof(mem_82175.mem),
                                                        &mem_82175.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        24,
                                                        sizeof(mem_82179.mem),
                                                        &mem_82179.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        25,
                                                        sizeof(mem_82183.mem),
                                                        &mem_82183.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        26,
                                                        sizeof(mem_82189.mem),
                                                        &mem_82189.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        27,
                                                        sizeof(mem_82193.mem),
                                                        &mem_82193.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        28,
                                                        sizeof(mem_82196.mem),
                                                        &mem_82196.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        29,
                                                        sizeof(mem_82199.mem),
                                                        &mem_82199.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        30,
                                                        sizeof(mem_82202.mem),
                                                        &mem_82202.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        31,
                                                        sizeof(mem_82207.mem),
                                                        &mem_82207.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        32,
                                                        sizeof(mem_82227.mem),
                                                        &mem_82227.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_78098,
                                                        33,
                                                        sizeof(mem_82231.mem),
                                                        &mem_82231.mem));
                if (1 * ((size_t) binop_x_82066 * (size_t) q_70235) != 0) {
                    const size_t global_work_sizze_84429[1] =
                                 {(size_t) binop_x_82066 * (size_t) q_70235};
                    const size_t local_work_sizze_84433[1] = {(size_t) q_70235};
                    int64_t time_start_84430 = 0, time_end_84431 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_intragroup_78098",
                                global_work_sizze_84429[0],
                                local_work_sizze_84433[0], (int) (0 +
                                                                  (int64_t) 4 *
                                                                  q_70235 +
                                                                  (int64_t) 4 *
                                                                  q_70235 +
                                                                  (int64_t) 4 *
                                                                  q_70235 +
                                                                  (int64_t) 4 *
                                                                  q_70235 +
                                                                  (int64_t) 4 *
                                                                  q_70235 +
                                                                  (int64_t) 4 *
                                                                  q_70235 +
                                                                  (int64_t) 4 *
                                                                  q_70235 +
                                                                  bytes_82110 +
                                                                  bytes_82110 +
                                                                  bytes_82110 +
                                                                  bytes_82110));
                        time_start_84430 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_intragroup_78098,
                                                                    1, NULL,
                                                                    global_work_sizze_84429,
                                                                    local_work_sizze_84433,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_intragroup_78098_runs,
                                                                                                              &ctx->mainzisegmap_intragroup_78098_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_84431 = get_wall_time();
                        
                        long time_diff_84432 = time_end_84431 -
                             time_start_84430;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_intragroup_78098",
                                time_diff_84432);
                    }
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_82175, "mem_82175") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82179, "mem_82179") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82183, "mem_82183") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82189, "mem_82189") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82193, "mem_82193") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82196, "mem_82196") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82199, "mem_82199") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82202, "mem_82202") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82207, "mem_82207") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_82233, &mem_82227,
                                        "mem_82227") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_82232, &mem_82231,
                                        "mem_82231") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82231, "mem_82231") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82227, "mem_82227") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82207, "mem_82207") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82202, "mem_82202") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82199, "mem_82199") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82196, "mem_82196") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82193, "mem_82193") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82189, "mem_82189") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82183, "mem_82183") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82179, "mem_82179") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_82175, "mem_82175") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_82235, &ext_mem_82233,
                                    "ext_mem_82233") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_82234, &ext_mem_82232,
                                    "ext_mem_82232") != 0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_82232, "ext_mem_82232") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_82233, "ext_mem_82233") !=
                0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_82237, &ext_mem_82235,
                                "ext_mem_82235") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_82236, &ext_mem_82234,
                                "ext_mem_82234") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_82234, "ext_mem_82234") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_82235, "ext_mem_82235") != 0)
            return 1;
    }
    
    bool cond_71521 = slt64((int64_t) 1, jump_70237);
    int64_t binop_x_82239 = m_70232 * n_70233;
    int64_t binop_y_82240 = (int64_t) 4 * binop_x_82239;
    int64_t bytes_82241 = smax64((int64_t) 0, binop_y_82240);
    int64_t ext_82244;
    
    if (cond_71521) {
        ext_82244 = n_70233;
    } else {
        ext_82244 = n_m_70241;
    }
    
    struct memblock_device ext_mem_82243;
    
    ext_mem_82243.references = NULL;
    if (cond_71521) {
        bool zzero_71523 = jump_70237 == (int64_t) 0;
        bool nonzzero_71524 = !zzero_71523;
        bool nonzzero_cert_71525;
        
        if (!nonzzero_71524) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  loess.fut:530:20-27\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:529:3-542:9\n   #5  loess.fut:607:13-59\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:606:5-608:29\n   #9  loess.fut:571:1-610:26\n");
            if (memblock_unref_device(ctx, &ext_mem_82243, "ext_mem_82243") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_82236, "ext_mem_82236") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_82237, "ext_mem_82237") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &mem_out_82511, "mem_out_82511") !=
                0)
                return 1;
            return 1;
        }
        
        int64_t y_71526 = sub64(n_m_70241, (int64_t) 1);
        int64_t segmap_group_sizze_78893;
        
        segmap_group_sizze_78893 = ctx->sizes.mainzisegmap_group_sizze_78781;
        
        int64_t segmap_usable_groups_78894 = sdiv_up64(binop_x_82239,
                                                       segmap_group_sizze_78893);
        struct memblock_device mem_82242;
        
        mem_82242.references = NULL;
        if (memblock_alloc_device(ctx, &mem_82242, bytes_82241, "mem_82242")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78778, 1,
                                                sizeof(ctx->failure_is_an_option),
                                                &ctx->failure_is_an_option));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78778, 3,
                                                sizeof(m_70232), &m_70232));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78778, 4,
                                                sizeof(n_70233), &n_70233));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78778, 5,
                                                sizeof(jump_70237),
                                                &jump_70237));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78778, 6,
                                                sizeof(n_m_70241), &n_m_70241));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78778, 7,
                                                sizeof(i_70247), &i_70247));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78778, 8,
                                                sizeof(y_71526), &y_71526));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78778, 9,
                                                sizeof(ext_mem_82236.mem),
                                                &ext_mem_82236.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78778, 10,
                                                sizeof(ext_mem_82237.mem),
                                                &ext_mem_82237.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_78778, 11,
                                                sizeof(mem_82242.mem),
                                                &mem_82242.mem));
        if (1 * ((size_t) segmap_usable_groups_78894 *
                 (size_t) segmap_group_sizze_78893) != 0) {
            const size_t global_work_sizze_84434[1] =
                         {(size_t) segmap_usable_groups_78894 *
                         (size_t) segmap_group_sizze_78893};
            const size_t local_work_sizze_84438[1] =
                         {(size_t) segmap_group_sizze_78893};
            int64_t time_start_84435 = 0, time_end_84436 = 0;
            
            if (ctx->debugging) {
                fprintf(ctx->log,
                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                        "main.segmap_78778", global_work_sizze_84434[0],
                        local_work_sizze_84438[0], (int) 0);
                time_start_84435 = get_wall_time();
            }
            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                            ctx->mainzisegmap_78778,
                                                            1, NULL,
                                                            global_work_sizze_84434,
                                                            local_work_sizze_84438,
                                                            0, NULL,
                                                            ctx->profiling_paused ||
                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                      &ctx->mainzisegmap_78778_runs,
                                                                                                      &ctx->mainzisegmap_78778_total_runtime)));
            if (ctx->debugging) {
                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                time_end_84436 = get_wall_time();
                
                long time_diff_84437 = time_end_84436 - time_start_84435;
                
                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                        "main.segmap_78778", time_diff_84437);
            }
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_set_device(ctx, &ext_mem_82243, &mem_82242, "mem_82242") !=
            0)
            return 1;
        if (memblock_unref_device(ctx, &mem_82242, "mem_82242") != 0)
            return 1;
    } else {
        bool dim_match_71578 = n_70233 == n_m_70241;
        bool empty_or_match_cert_71579;
        
        if (!dim_match_71578) {
            ctx->error =
                msgprintf("Error: %s%lld%s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                          "Value of (core language) shape (",
                          (long long) m_70232, ", ", (long long) n_m_70241,
                          ") cannot match shape of type `[",
                          (long long) m_70232, "][", (long long) n_70233,
                          "]f32`.",
                          "-> #0  loess.fut:610:5-26\n   #1  loess.fut:571:1-610:26\n");
            if (memblock_unref_device(ctx, &ext_mem_82243, "ext_mem_82243") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_82236, "ext_mem_82236") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_82237, "ext_mem_82237") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &mem_out_82511, "mem_out_82511") !=
                0)
                return 1;
            return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_82243, &ext_mem_82237,
                                "ext_mem_82237") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &ext_mem_82236, "ext_mem_82236") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_82237, "ext_mem_82237") != 0)
        return 1;
    
    struct memblock_device mem_82248;
    
    mem_82248.references = NULL;
    if (memblock_alloc_device(ctx, &mem_82248, bytes_82241, "mem_82248")) {
        err = 1;
        goto cleanup;
    }
    if (m_70232 * n_70233 * (int64_t) 4 > 0) {
        OPENCL_SUCCEED_OR_RETURN(clEnqueueCopyBuffer(ctx->opencl.queue,
                                                     ext_mem_82243.mem,
                                                     mem_82248.mem,
                                                     (size_t) (int64_t) 0,
                                                     (size_t) (int64_t) 0,
                                                     (size_t) (m_70232 *
                                                               n_70233 *
                                                               (int64_t) 4), 0,
                                                     NULL,
                                                     ctx->profiling_paused ||
                                                     !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                               &ctx->copy_dev_to_dev_runs,
                                                                                               &ctx->copy_dev_to_dev_total_runtime)));
        if (ctx->debugging)
            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
    }
    if (memblock_unref_device(ctx, &ext_mem_82243, "ext_mem_82243") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_82511, &mem_82248, "mem_82248") != 0)
        return 1;
    (*mem_out_p_84082).references = NULL;
    if (memblock_set_device(ctx, &*mem_out_p_84082, &mem_out_82511,
                            "mem_out_82511") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_82248, "mem_82248") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_82243, "ext_mem_82243") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_82236, "ext_mem_82236") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_82237, "ext_mem_82237") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_out_82511, "mem_out_82511") != 0)
        return 1;
    
  cleanup:
    { }
    return err;
}

int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5)
{
    struct memblock_device Y_mem_81217;
    
    Y_mem_81217.references = NULL;
    
    int64_t m_70232;
    int64_t n_70233;
    int64_t q_70235;
    int64_t degree_70236;
    int64_t jump_70237;
    int64_t jump_threshold_70238;
    int64_t q_threshold_70239;
    struct memblock_device mem_out_82511;
    
    mem_out_82511.references = NULL;
    
    int ret = 0;
    
    lock_lock(&ctx->lock);
    Y_mem_81217 = in0->mem;
    m_70232 = in0->shape[0];
    n_70233 = in0->shape[1];
    q_70235 = in1;
    degree_70236 = in2;
    jump_70237 = in3;
    jump_threshold_70238 = in4;
    q_threshold_70239 = in5;
    if (!(m_70232 == in0->shape[0] && n_70233 == in0->shape[1])) {
        ret = 1;
        if (!ctx->error)
            ctx->error =
                msgprintf("Error: entry point arguments have invalid sizes.\n");
    }
    if (ret == 0) {
        ret = futrts_entry_main(ctx, &mem_out_82511, Y_mem_81217, m_70232,
                                n_70233, q_70235, degree_70236, jump_70237,
                                jump_threshold_70238, q_threshold_70239);
        if (ret == 0) {
            assert((*out0 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out0)->mem = mem_out_82511;
            (*out0)->shape[0] = m_70232;
            (*out0)->shape[1] = n_70233;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  
