// Generated by Futhark 0.22.0
// git: ed22762 (Sat Jan 15 01:09:59 2022 +0100)

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers\n")
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#define CL_TARGET_OPENCL_VERSION 120
#define CL_USE_DEPRECATED_OPENCL_1_2_APIS
#ifdef __APPLE__
#define CL_SILENCE_DEPRECATION
#include <OpenCL/cl.h>
#else
#include <CL/cl.h>
#endif

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
void futhark_context_config_add_build_option(struct futhark_context_config *cfg,
                                             const char *opt);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int flag);
void futhark_context_config_set_device(struct futhark_context_config *cfg, const
                                       char *s);
void futhark_context_config_set_platform(struct futhark_context_config *cfg,
                                         const char *s);
void
futhark_context_config_select_device_interactively(struct futhark_context_config *cfg);
void futhark_context_config_list_devices(struct futhark_context_config *cfg);
void futhark_context_config_dump_program_to(struct futhark_context_config *cfg,
                                            const char *path);
void
futhark_context_config_load_program_from(struct futhark_context_config *cfg,
                                         const char *path);
void futhark_context_config_dump_binary_to(struct futhark_context_config *cfg,
                                           const char *path);
void futhark_context_config_load_binary_from(struct futhark_context_config *cfg,
                                             const char *path);
void
futhark_context_config_set_default_group_size(struct futhark_context_config *cfg,
                                              int size);
void
futhark_context_config_set_default_num_groups(struct futhark_context_config *cfg,
                                              int num);
void
futhark_context_config_set_default_tile_size(struct futhark_context_config *cfg,
                                             int num);
void
futhark_context_config_set_default_reg_tile_size(struct futhark_context_config *cfg,
                                                 int num);
void
futhark_context_config_set_default_threshold(struct futhark_context_config *cfg,
                                             int num);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg,
                                            const char *param_name,
                                            size_t new_value);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
struct futhark_context
*futhark_context_new_with_command_queue(struct futhark_context_config *cfg,
                                        cl_command_queue queue);
void futhark_context_free(struct futhark_context *ctx);
cl_command_queue futhark_context_get_command_queue(struct futhark_context *ctx);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_f64_2d;
struct futhark_f64_2d *futhark_new_f64_2d(struct futhark_context *ctx, const
                                          double *data, int64_t dim0,
                                          int64_t dim1);
struct futhark_f64_2d *futhark_new_raw_f64_2d(struct futhark_context *ctx, const
                                              cl_mem data, int64_t offset,
                                              int64_t dim0, int64_t dim1);
int futhark_free_f64_2d(struct futhark_context *ctx,
                        struct futhark_f64_2d *arr);
int futhark_values_f64_2d(struct futhark_context *ctx,
                          struct futhark_f64_2d *arr, double *data);
cl_mem futhark_values_raw_f64_2d(struct futhark_context *ctx,
                                 struct futhark_f64_2d *arr);
const int64_t *futhark_shape_f64_2d(struct futhark_context *ctx,
                                    struct futhark_f64_2d *arr);

// Opaque values


// Entry points
int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f64_2d **out0, const
                       struct futhark_f64_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5, const int64_t in6, const int64_t in7);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_opencl

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                            const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

// End of util.h.
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

static uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

static float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>


#define CL_TARGET_OPENCL_VERSION 120
#define CL_USE_DEPRECATED_OPENCL_1_2_APIS
#ifdef __APPLE__
#define CL_SILENCE_DEPRECATION
#include <OpenCL/cl.h>
#else
#include <CL/cl.h>
#endif


// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.

#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

static inline uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

static inline uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

static inline uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

static inline uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

static inline uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

static inline uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

static inline uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

static inline uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

static inline uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

static inline uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

static inline uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

static inline uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

static inline uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

static inline uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

static inline uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

static inline uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

static inline uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

static inline uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

static inline uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

static inline uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

static inline uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

static inline uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

static inline uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

static inline uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

static inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

static inline int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

static inline int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

static inline int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

static inline int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

static inline int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

static inline int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

static inline int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

static inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

static inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

static inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

static inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

static inline int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

static inline int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

static inline int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

static inline int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

static inline int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

static inline int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

static inline int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

static inline int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

static inline int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

static inline int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

static inline int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

static inline int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

static inline int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

static inline int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

static inline int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

static inline int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

static inline uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

static inline uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

static inline uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

static inline uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

static inline int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

static inline int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

static inline int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

static inline int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

static inline uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

static inline uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

static inline uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

static inline uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

static inline uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

static inline uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

static inline uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

static inline uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

static inline uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

static inline uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

static inline uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

static inline uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

static inline int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

static inline int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

static inline int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

static inline int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

static inline uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

static inline uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

static inline uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

static inline uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

static inline uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

static inline uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

static inline uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

static inline uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

static inline uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

static inline uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

static inline uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

static inline uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

static inline bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

static inline bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

static inline bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

static inline bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

static inline bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

static inline bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

static inline bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

static inline bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

static inline bool slt8(int8_t x, int8_t y) {
  return x < y;
}

static inline bool slt16(int16_t x, int16_t y) {
  return x < y;
}

static inline bool slt32(int32_t x, int32_t y) {
  return x < y;
}

static inline bool slt64(int64_t x, int64_t y) {
  return x < y;
}

static inline bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

static inline bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

static inline bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

static inline bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

static inline uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline bool itob_i8_bool(int8_t x) {
  return x;
}

static inline bool itob_i16_bool(int16_t x) {
  return x;
}

static inline bool itob_i32_bool(int32_t x) {
  return x;
}

static inline bool itob_i64_bool(int64_t x) {
  return x;
}

static inline int8_t btoi_bool_i8(bool x) {
  return x;
}

static inline int16_t btoi_bool_i16(bool x) {
  return x;
}

static inline int32_t btoi_bool_i32(bool x) {
  return x;
}

static inline int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

static int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

static int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

static int32_t abs32(int32_t x) {
  return abs(x);
}

static int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
static int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

static int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

static int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

static int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

static int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

static int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

static int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

static int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  return mul_hi(a, b);
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  return mul_hi(a, b);
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mul_hi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul_hi(a, b);
}

#elif defined(__CUDA_ARCH__)

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mulhi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul64hi(a, b);
}

#else // Not OpenCL or CUDA, but plain C.

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  uint64_t aa = a;
  uint64_t bb = b;

  return aa * bb >> 32;
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  __uint128_t aa = a;
  __uint128_t bb = b;

  return aa * bb >> 64;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return mad_hi(a, b, c);
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return mad_hi(a, b, c);
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return mad_hi(a, b, c);
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return mad_hi(a, b, c);
}

#else // Not OpenCL

static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return futrts_mul_hi8(a, b) + c;
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return futrts_mul_hi16(a, b) + c;
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return futrts_mul_hi32(a, b) + c;
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return futrts_mul_hi64(a, b) + c;
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

static int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

static int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

static int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

static int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

static int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

static int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

static inline float fdiv32(float x, float y) {
  return x / y;
}

static inline float fadd32(float x, float y) {
  return x + y;
}

static inline float fsub32(float x, float y) {
  return x - y;
}

static inline float fmul32(float x, float y) {
  return x * y;
}

static inline bool cmplt32(float x, float y) {
  return x < y;
}

static inline bool cmple32(float x, float y) {
  return x <= y;
}

static inline float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

static inline float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

static inline float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

static inline float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

static inline float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

static inline float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

static inline float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

static inline float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

static inline int8_t fptosi_f32_i8(float x) {
  return (int8_t) x;
}

static inline int16_t fptosi_f32_i16(float x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f32_i32(float x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f32_i64(float x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f32_i8(float x) {
  return (uint8_t) x;
}

static inline uint16_t fptoui_f32_i16(float x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f32_i32(float x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f32_i64(float x) {
  return (uint64_t) x;
}

#ifdef __OPENCL_VERSION__
static inline float fabs32(float x) {
  return fabs(x);
}

static inline float fmax32(float x, float y) {
  return fmax(x, y);
}

static inline float fmin32(float x, float y) {
  return fmin(x, y);
}

static inline float fpow32(float x, float y) {
  return pow(x, y);
}

#else // Not OpenCL, but CUDA or plain C.

static inline float fabs32(float x) {
  return fabsf(x);
}

static inline float fmax32(float x, float y) {
  return fmaxf(x, y);
}

static inline float fmin32(float x, float y) {
  return fminf(x, y);
}

static inline float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

static inline bool futrts_isnan32(float x) {
  return isnan(x);
}

static inline bool futrts_isinf32(float x) {
  return isinf(x);
}

#ifdef __OPENCL_VERSION__
static inline float futrts_log32(float x) {
  return log(x);
}

static inline float futrts_log2_32(float x) {
  return log2(x);
}

static inline float futrts_log10_32(float x) {
  return log10(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrt(x);
}

static inline float futrts_exp32(float x) {
  return exp(x);
}

static inline float futrts_cos32(float x) {
  return cos(x);
}

static inline float futrts_sin32(float x) {
  return sin(x);
}

static inline float futrts_tan32(float x) {
  return tan(x);
}

static inline float futrts_acos32(float x) {
  return acos(x);
}

static inline float futrts_asin32(float x) {
  return asin(x);
}

static inline float futrts_atan32(float x) {
  return atan(x);
}

static inline float futrts_cosh32(float x) {
  return cosh(x);
}

static inline float futrts_sinh32(float x) {
  return sinh(x);
}

static inline float futrts_tanh32(float x) {
  return tanh(x);
}

static inline float futrts_acosh32(float x) {
  return acosh(x);
}

static inline float futrts_asinh32(float x) {
  return asinh(x);
}

static inline float futrts_atanh32(float x) {
  return atanh(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgamma(x);
}

static inline float futrts_lgamma32(float x) {
  return lgamma(x);
}

static inline float fmod32(float x, float y) {
  return fmod(x, y);
}

static inline float futrts_round32(float x) {
  return rint(x);
}

static inline float futrts_floor32(float x) {
  return floor(x);
}

static inline float futrts_ceil32(float x) {
  return ceil(x);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

static inline float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

static inline float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#else // Not OpenCL, but CUDA or plain C.

static inline float futrts_log32(float x) {
  return logf(x);
}

static inline float futrts_log2_32(float x) {
  return log2f(x);
}

static inline float futrts_log10_32(float x) {
  return log10f(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrtf(x);
}

static inline float futrts_exp32(float x) {
  return expf(x);
}

static inline float futrts_cos32(float x) {
  return cosf(x);
}

static inline float futrts_sin32(float x) {
  return sinf(x);
}

static inline float futrts_tan32(float x) {
  return tanf(x);
}

static inline float futrts_acos32(float x) {
  return acosf(x);
}

static inline float futrts_asin32(float x) {
  return asinf(x);
}

static inline float futrts_atan32(float x) {
  return atanf(x);
}

static inline float futrts_cosh32(float x) {
  return coshf(x);
}

static inline float futrts_sinh32(float x) {
  return sinhf(x);
}

static inline float futrts_tanh32(float x) {
  return tanhf(x);
}

static inline float futrts_acosh32(float x) {
  return acoshf(x);
}

static inline float futrts_asinh32(float x) {
  return asinhf(x);
}

static inline float futrts_atanh32(float x) {
  return atanhf(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgammaf(x);
}

static inline float futrts_lgamma32(float x) {
  return lgammaf(x);
}

static inline float fmod32(float x, float y) {
  return fmodf(x, y);
}

static inline float futrts_round32(float x) {
  return rintf(x);
}

static inline float futrts_floor32(float x) {
  return floorf(x);
}

static inline float futrts_ceil32(float x) {
  return ceilf(x);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

static inline float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

static inline float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

static inline int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}

static inline float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0) - (x < 0);
}

#ifdef FUTHARK_F64_ENABLED

static inline double fdiv64(double x, double y) {
  return x / y;
}

static inline double fadd64(double x, double y) {
  return x + y;
}

static inline double fsub64(double x, double y) {
  return x - y;
}

static inline double fmul64(double x, double y) {
  return x * y;
}

static inline bool cmplt64(double x, double y) {
  return x < y;
}

static inline bool cmple64(double x, double y) {
  return x <= y;
}

static inline double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

static inline double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

static inline double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

static inline double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

static inline double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

static inline double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

static inline double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

static inline double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

static inline int8_t fptosi_f64_i8(double x) {
  return (int8_t) x;
}

static inline int16_t fptosi_f64_i16(double x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f64_i32(double x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f64_i64(double x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f64_i8(double x) {
  return (uint8_t) x;
}

static inline uint16_t fptoui_f64_i16(double x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f64_i32(double x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f64_i64(double x) {
  return (uint64_t) x;
}

static inline double fabs64(double x) {
  return fabs(x);
}

static inline double fmax64(double x, double y) {
  return fmax(x, y);
}

static inline double fmin64(double x, double y) {
  return fmin(x, y);
}

static inline double fpow64(double x, double y) {
  return pow(x, y);
}

static inline double futrts_log64(double x) {
  return log(x);
}

static inline double futrts_log2_64(double x) {
  return log2(x);
}

static inline double futrts_log10_64(double x) {
  return log10(x);
}

static inline double futrts_sqrt64(double x) {
  return sqrt(x);
}

static inline double futrts_exp64(double x) {
  return exp(x);
}

static inline double futrts_cos64(double x) {
  return cos(x);
}

static inline double futrts_sin64(double x) {
  return sin(x);
}

static inline double futrts_tan64(double x) {
  return tan(x);
}

static inline double futrts_acos64(double x) {
  return acos(x);
}

static inline double futrts_asin64(double x) {
  return asin(x);
}

static inline double futrts_atan64(double x) {
  return atan(x);
}

static inline double futrts_cosh64(double x) {
  return cosh(x);
}

static inline double futrts_sinh64(double x) {
  return sinh(x);
}

static inline double futrts_tanh64(double x) {
  return tanh(x);
}

static inline double futrts_acosh64(double x) {
  return acosh(x);
}

static inline double futrts_asinh64(double x) {
  return asinh(x);
}

static inline double futrts_atanh64(double x) {
  return atanh(x);
}

static inline double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

static inline double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

static inline double futrts_gamma64(double x) {
  return tgamma(x);
}

static inline double futrts_lgamma64(double x) {
  return lgamma(x);
}

static inline double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

static inline double futrts_round64(double x) {
  return rint(x);
}

static inline double futrts_ceil64(double x) {
  return ceil(x);
}

static inline double futrts_floor64(double x) {
  return floor(x);
}

static inline bool futrts_isnan64(double x) {
  return isnan(x);
}

static inline bool futrts_isinf64(double x) {
  return isinf(x);
}

static inline int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

static inline double fmod64(double x, double y) {
  return fmod(x, y);
}

static inline double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

static inline double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

static inline double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

static inline float fpconv_f32_f32(float x) {
  return (float) x;
}

static inline double fpconv_f32_f64(float x) {
  return (double) x;
}

static inline float fpconv_f64_f32(double x) {
  return (float) x;
}

static inline double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600)
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

static inline f16 fadd16(f16 x, f16 y) {
  return x + y;
}

static inline f16 fsub16(f16 x, f16 y) {
  return x - y;
}

static inline f16 fmul16(f16 x, f16 y) {
  return x * y;
}

static inline bool cmplt16(f16 x, f16 y) {
  return x < y;
}

static inline bool cmple16(f16 x, f16 y) {
  return x <= y;
}

static inline f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

static inline f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

static inline f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

static inline f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

static inline f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

static inline f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

static inline f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

static inline f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

static inline int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

static inline int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

static inline uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

#ifndef EMULATE_F16

#ifdef __OPENCL_VERSION__
static inline f16 fabs16(f16 x) {
  return fabs(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

static inline f16 fabs16(f16 x) {
  return fabsf(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

static inline bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

static inline bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}

#ifdef __OPENCL_VERSION__
static inline f16 futrts_log16(f16 x) {
  return log(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return log2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return log10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

static inline f16 futrts_exp16(f16 x) {
  return exp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return cos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return sin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tan(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acos(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asin(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atan(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rint(x);
}

static inline f16 futrts_floor16(f16 x) {
  return floor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}

#else // Assume CUDA.

static inline f16 futrts_log16(f16 x) {
  return hlog(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

static inline f16 futrts_exp16(f16 x) {
  return hexp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return hcos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return hsin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tanf(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acosf(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asinf(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atanf(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rintf(x);
}

static inline f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
static inline int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
static inline f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#else
static inline int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

static inline f16 fabs16(f16 x) {
  return fabs32(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

static inline bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

static inline bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

static inline f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

static inline f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

static inline f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

static inline f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

static inline f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

static inline f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

static inline f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

static inline f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

static inline f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

static inline int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

static inline f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

static inline int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

static inline f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

static inline f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0) - (x < 0);
}

#endif

#endif

static inline float fpconv_f16_f16(f16 x) {
  return x;
}

static inline float fpconv_f16_f32(f16 x) {
  return x;
}

static inline f16 fpconv_f32_f16(float x) {
  return x;
}

#ifdef FUTHARK_F64_ENABLED

static inline double fpconv_f16_f64(f16 x) {
  return (double) x;
}

static inline f16 fpconv_f64_f16(double x) {
  return (f16) x;
}

#endif


// End of scalar_f16.h.

static int init_constants(struct futhark_context *);
static int free_constants(struct futhark_context *);
static int32_t mainzicounter_mem_realtype_107477[10240];
static int32_t mainzicounter_mem_realtype_107493[10240];
static int32_t mainzicounter_mem_realtype_107544[10240];
static int32_t mainzicounter_mem_realtype_107560[10240];
static int32_t mainzicounter_mem_realtype_107611[10240];
static int32_t mainzicounter_mem_realtype_107627[10240];
struct memblock_device {
    int *references;
    cl_mem mem;
    int64_t size;
    const char *desc;
};
struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
typedef cl_mem fl_mem_t;
// Start of free_list.h.

// An entry in the free list.  May be invalid, to avoid having to
// deallocate entries as soon as they are removed.  There is also a
// tag, to help with memory reuse.
struct free_list_entry {
  size_t size;
  fl_mem_t mem;
  const char *tag;
  unsigned char valid;
};

struct free_list {
  struct free_list_entry *entries;        // Pointer to entries.
  int capacity;                           // Number of entries.
  int used;                               // Number of valid entries.
};

static void free_list_init(struct free_list *l) {
  l->capacity = 30; // Picked arbitrarily.
  l->used = 0;
  l->entries = (struct free_list_entry*) malloc(sizeof(struct free_list_entry) * l->capacity);
  for (int i = 0; i < l->capacity; i++) {
    l->entries[i].valid = 0;
  }
}

// Remove invalid entries from the free list.
static void free_list_pack(struct free_list *l) {
  int p = 0;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[p] = l->entries[i];
      if (i > p) {
        l->entries[i].valid = 0;
      }
      p++;
    }
  }

  // Now p is the number of used elements.  We don't want it to go
  // less than the default capacity (although in practice it's OK as
  // long as it doesn't become 1).
  if (p < 30) {
    p = 30;
  }
  l->entries = realloc(l->entries, p * sizeof(struct free_list_entry));
  l->capacity = p;
}

static void free_list_destroy(struct free_list *l) {
  assert(l->used == 0);
  free(l->entries);
}

static int free_list_find_invalid(struct free_list *l) {
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (!l->entries[i].valid) {
      break;
    }
  }
  return i;
}

static void free_list_insert(struct free_list *l, size_t size, fl_mem_t mem, const char *tag) {
  int i = free_list_find_invalid(l);

  if (i == l->capacity) {
    // List is full; so we have to grow it.
    int new_capacity = l->capacity * 2 * sizeof(struct free_list_entry);
    l->entries = realloc(l->entries, new_capacity);
    for (int j = 0; j < l->capacity; j++) {
      l->entries[j+l->capacity].valid = 0;
    }
    l->capacity *= 2;
  }

  // Now 'i' points to the first invalid entry.
  l->entries[i].valid = 1;
  l->entries[i].size = size;
  l->entries[i].mem = mem;
  l->entries[i].tag = tag;

  l->used++;
}

// Find and remove a memory block of the indicated tag, or if that
// does not exist, another memory block with exactly the desired size.
// Returns 0 on success.
static int free_list_find(struct free_list *l, size_t size,
                          size_t *size_out, fl_mem_t *mem_out) {
  int size_match = -1;
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid &&
        size <= l->entries[i].size &&
        (size_match < 0 || l->entries[i].size < l->entries[size_match].size)) {
      // If this entry is valid, has sufficient size, and is smaller than the
      // best entry found so far, use this entry.
      size_match = i;
    }
  }

  if (size_match >= 0) {
    l->entries[size_match].valid = 0;
    *size_out = l->entries[size_match].size;
    *mem_out = l->entries[size_match].mem;
    l->used--;
    return 0;
  } else {
    return 1;
  }
}

// Remove the first block in the free list.  Returns 0 if a block was
// removed, and nonzero if the free list was already empty.
static int free_list_first(struct free_list *l, fl_mem_t *mem_out) {
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[i].valid = 0;
      *mem_out = l->entries[i].mem;
      l->used--;
      return 0;
    }
  }

  return 1;
}

// End of free_list.h.

// Start of opencl.h.

#define OPENCL_SUCCEED_FATAL(e) opencl_succeed_fatal(e, #e, __FILE__, __LINE__)
#define OPENCL_SUCCEED_NONFATAL(e) opencl_succeed_nonfatal(e, #e, __FILE__, __LINE__)
// Take care not to override an existing error.
#define OPENCL_SUCCEED_OR_RETURN(e) {             \
    char *serror = OPENCL_SUCCEED_NONFATAL(e);    \
    if (serror) {                                 \
      if (!ctx->error) {                          \
        ctx->error = serror;                      \
        return bad;                               \
      } else {                                    \
        free(serror);                             \
      }                                           \
    }                                             \
  }

// OPENCL_SUCCEED_OR_RETURN returns the value of the variable 'bad' in
// scope.  By default, it will be this one.  Create a local variable
// of some other type if needed.  This is a bit of a hack, but it
// saves effort in the code generator.
static const int bad = 1;

struct opencl_config {
  int debugging;
  int profiling;
  int logging;
  int preferred_device_num;
  const char *preferred_platform;
  const char *preferred_device;
  int ignore_blacklist;

  const char* dump_program_to;
  const char* load_program_from;
  const char* dump_binary_to;
  const char* load_binary_from;

  size_t default_group_size;
  size_t default_num_groups;
  size_t default_tile_size;
  size_t default_reg_tile_size;
  size_t default_threshold;

  int default_group_size_changed;
  int default_tile_size_changed;

  int num_sizes;
  const char **size_names;
  const char **size_vars;
  int64_t *size_values;
  const char **size_classes;
};

static void opencl_config_init(struct opencl_config *cfg,
                               int num_sizes,
                               const char *size_names[],
                               const char *size_vars[],
                               int64_t *size_values,
                               const char *size_classes[]) {
  cfg->debugging = 0;
  cfg->logging = 0;
  cfg->profiling = 0;
  cfg->preferred_device_num = 0;
  cfg->preferred_platform = "";
  cfg->preferred_device = "";
  cfg->ignore_blacklist = 0;
  cfg->dump_program_to = NULL;
  cfg->load_program_from = NULL;
  cfg->dump_binary_to = NULL;
  cfg->load_binary_from = NULL;

  // The following are dummy sizes that mean the concrete defaults
  // will be set during initialisation via hardware-inspection-based
  // heuristics.
  cfg->default_group_size = 0;
  cfg->default_num_groups = 0;
  cfg->default_tile_size = 0;
  cfg->default_reg_tile_size = 0;
  cfg->default_threshold = 0;

  cfg->default_group_size_changed = 0;
  cfg->default_tile_size_changed = 0;

  cfg->num_sizes = num_sizes;
  cfg->size_names = size_names;
  cfg->size_vars = size_vars;
  cfg->size_values = size_values;
  cfg->size_classes = size_classes;
}

// A record of something that happened.
struct profiling_record {
  cl_event *event;
  int *runs;
  int64_t *runtime;
};

struct opencl_context {
  cl_device_id device;
  cl_context ctx;
  cl_command_queue queue;

  struct opencl_config cfg;

  struct free_list free_list;

  size_t max_group_size;
  size_t max_num_groups;
  size_t max_tile_size;
  size_t max_threshold;
  size_t max_local_memory;

  size_t lockstep_width;

  struct profiling_record *profiling_records;
  int profiling_records_capacity;
  int profiling_records_used;
};

struct opencl_device_option {
  cl_platform_id platform;
  cl_device_id device;
  cl_device_type device_type;
  char *platform_name;
  char *device_name;
};

// This function must be defined by the user.  It is invoked by
// setup_opencl() after the platform and device has been found, but
// before the program is loaded.  Its intended use is to tune
// constants based on the selected platform and device.
static void post_opencl_setup(struct opencl_context*, struct opencl_device_option*);

static char *strclone(const char *str) {
  size_t size = strlen(str) + 1;
  char *copy = (char*) malloc(size);
  if (copy == NULL) {
    return NULL;
  }

  memcpy(copy, str, size);
  return copy;
}

static const char* opencl_error_string(cl_int err)
{
    switch (err) {
        case CL_SUCCESS:                            return "Success!";
        case CL_DEVICE_NOT_FOUND:                   return "Device not found.";
        case CL_DEVICE_NOT_AVAILABLE:               return "Device not available";
        case CL_COMPILER_NOT_AVAILABLE:             return "Compiler not available";
        case CL_MEM_OBJECT_ALLOCATION_FAILURE:      return "Memory object allocation failure";
        case CL_OUT_OF_RESOURCES:                   return "Out of resources";
        case CL_OUT_OF_HOST_MEMORY:                 return "Out of host memory";
        case CL_PROFILING_INFO_NOT_AVAILABLE:       return "Profiling information not available";
        case CL_MEM_COPY_OVERLAP:                   return "Memory copy overlap";
        case CL_IMAGE_FORMAT_MISMATCH:              return "Image format mismatch";
        case CL_IMAGE_FORMAT_NOT_SUPPORTED:         return "Image format not supported";
        case CL_BUILD_PROGRAM_FAILURE:              return "Program build failure";
        case CL_MAP_FAILURE:                        return "Map failure";
        case CL_INVALID_VALUE:                      return "Invalid value";
        case CL_INVALID_DEVICE_TYPE:                return "Invalid device type";
        case CL_INVALID_PLATFORM:                   return "Invalid platform";
        case CL_INVALID_DEVICE:                     return "Invalid device";
        case CL_INVALID_CONTEXT:                    return "Invalid context";
        case CL_INVALID_QUEUE_PROPERTIES:           return "Invalid queue properties";
        case CL_INVALID_COMMAND_QUEUE:              return "Invalid command queue";
        case CL_INVALID_HOST_PTR:                   return "Invalid host pointer";
        case CL_INVALID_MEM_OBJECT:                 return "Invalid memory object";
        case CL_INVALID_IMAGE_FORMAT_DESCRIPTOR:    return "Invalid image format descriptor";
        case CL_INVALID_IMAGE_SIZE:                 return "Invalid image size";
        case CL_INVALID_SAMPLER:                    return "Invalid sampler";
        case CL_INVALID_BINARY:                     return "Invalid binary";
        case CL_INVALID_BUILD_OPTIONS:              return "Invalid build options";
        case CL_INVALID_PROGRAM:                    return "Invalid program";
        case CL_INVALID_PROGRAM_EXECUTABLE:         return "Invalid program executable";
        case CL_INVALID_KERNEL_NAME:                return "Invalid kernel name";
        case CL_INVALID_KERNEL_DEFINITION:          return "Invalid kernel definition";
        case CL_INVALID_KERNEL:                     return "Invalid kernel";
        case CL_INVALID_ARG_INDEX:                  return "Invalid argument index";
        case CL_INVALID_ARG_VALUE:                  return "Invalid argument value";
        case CL_INVALID_ARG_SIZE:                   return "Invalid argument size";
        case CL_INVALID_KERNEL_ARGS:                return "Invalid kernel arguments";
        case CL_INVALID_WORK_DIMENSION:             return "Invalid work dimension";
        case CL_INVALID_WORK_GROUP_SIZE:            return "Invalid work group size";
        case CL_INVALID_WORK_ITEM_SIZE:             return "Invalid work item size";
        case CL_INVALID_GLOBAL_OFFSET:              return "Invalid global offset";
        case CL_INVALID_EVENT_WAIT_LIST:            return "Invalid event wait list";
        case CL_INVALID_EVENT:                      return "Invalid event";
        case CL_INVALID_OPERATION:                  return "Invalid operation";
        case CL_INVALID_GL_OBJECT:                  return "Invalid OpenGL object";
        case CL_INVALID_BUFFER_SIZE:                return "Invalid buffer size";
        case CL_INVALID_MIP_LEVEL:                  return "Invalid mip-map level";
        default:                                    return "Unknown";
    }
}

static void opencl_succeed_fatal(cl_int ret,
                                 const char *call,
                                 const char *file,
                                 int line) {
  if (ret != CL_SUCCESS) {
    futhark_panic(-1, "%s:%d: OpenCL call\n  %s\nfailed with error code %d (%s)\n",
          file, line, call, ret, opencl_error_string(ret));
  }
}

static char* opencl_succeed_nonfatal(cl_int ret,
                                     const char *call,
                                     const char *file,
                                     int line) {
  if (ret != CL_SUCCESS) {
    return msgprintf("%s:%d: OpenCL call\n  %s\nfailed with error code %d (%s)\n",
                     file, line, call, ret, opencl_error_string(ret));
  } else {
    return NULL;
  }
}

static void set_preferred_platform(struct opencl_config *cfg, const char *s) {
  cfg->preferred_platform = s;
  cfg->ignore_blacklist = 1;
}

static void set_preferred_device(struct opencl_config *cfg, const char *s) {
  int x = 0;
  if (*s == '#') {
    s++;
    while (isdigit(*s)) {
      x = x * 10 + (*s++)-'0';
    }
    // Skip trailing spaces.
    while (isspace(*s)) {
      s++;
    }
  }
  cfg->preferred_device = s;
  cfg->preferred_device_num = x;
  cfg->ignore_blacklist = 1;
}

static char* opencl_platform_info(cl_platform_id platform,
                                  cl_platform_info param) {
  size_t req_bytes;
  char *info;

  OPENCL_SUCCEED_FATAL(clGetPlatformInfo(platform, param, 0, NULL, &req_bytes));

  info = (char*) malloc(req_bytes);

  OPENCL_SUCCEED_FATAL(clGetPlatformInfo(platform, param, req_bytes, info, NULL));

  return info;
}

static char* opencl_device_info(cl_device_id device,
                                cl_device_info param) {
  size_t req_bytes;
  char *info;

  OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device, param, 0, NULL, &req_bytes));

  info = (char*) malloc(req_bytes);

  OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device, param, req_bytes, info, NULL));

  return info;
}

static void opencl_all_device_options(struct opencl_device_option **devices_out,
                                      size_t *num_devices_out) {
  size_t num_devices = 0, num_devices_added = 0;

  cl_platform_id *all_platforms;
  cl_uint *platform_num_devices;

  cl_uint num_platforms;

  // Find the number of platforms.
  OPENCL_SUCCEED_FATAL(clGetPlatformIDs(0, NULL, &num_platforms));

  // Make room for them.
  all_platforms = calloc(num_platforms, sizeof(cl_platform_id));
  platform_num_devices = calloc(num_platforms, sizeof(cl_uint));

  // Fetch all the platforms.
  OPENCL_SUCCEED_FATAL(clGetPlatformIDs(num_platforms, all_platforms, NULL));

  // Count the number of devices for each platform, as well as the
  // total number of devices.
  for (cl_uint i = 0; i < num_platforms; i++) {
    if (clGetDeviceIDs(all_platforms[i], CL_DEVICE_TYPE_ALL,
                       0, NULL, &platform_num_devices[i]) == CL_SUCCESS) {
      num_devices += platform_num_devices[i];
    } else {
      platform_num_devices[i] = 0;
    }
  }

  // Make room for all the device options.
  struct opencl_device_option *devices =
    calloc(num_devices, sizeof(struct opencl_device_option));

  // Loop through the platforms, getting information about their devices.
  for (cl_uint i = 0; i < num_platforms; i++) {
    cl_platform_id platform = all_platforms[i];
    cl_uint num_platform_devices = platform_num_devices[i];

    if (num_platform_devices == 0) {
      continue;
    }

    char *platform_name = opencl_platform_info(platform, CL_PLATFORM_NAME);
    cl_device_id *platform_devices =
      calloc(num_platform_devices, sizeof(cl_device_id));

    // Fetch all the devices.
    OPENCL_SUCCEED_FATAL(clGetDeviceIDs(platform, CL_DEVICE_TYPE_ALL,
                                  num_platform_devices, platform_devices, NULL));

    // Loop through the devices, adding them to the devices array.
    for (cl_uint i = 0; i < num_platform_devices; i++) {
      char *device_name = opencl_device_info(platform_devices[i], CL_DEVICE_NAME);
      devices[num_devices_added].platform = platform;
      devices[num_devices_added].device = platform_devices[i];
      OPENCL_SUCCEED_FATAL(clGetDeviceInfo(platform_devices[i], CL_DEVICE_TYPE,
                                     sizeof(cl_device_type),
                                     &devices[num_devices_added].device_type,
                                     NULL));
      // We don't want the structs to share memory, so copy the platform name.
      // Each device name is already unique.
      devices[num_devices_added].platform_name = strclone(platform_name);
      devices[num_devices_added].device_name = device_name;
      num_devices_added++;
    }
    free(platform_devices);
    free(platform_name);
  }
  free(all_platforms);
  free(platform_num_devices);

  *devices_out = devices;
  *num_devices_out = num_devices;
}

// Returns 0 on success.
static int list_devices(void) {
  struct opencl_device_option *devices;
  size_t num_devices;

  opencl_all_device_options(&devices, &num_devices);

  const char *cur_platform = "";
  for (size_t i = 0; i < num_devices; i++) {
    struct opencl_device_option device = devices[i];
    if (strcmp(cur_platform, device.platform_name) != 0) {
      printf("Platform: %s\n", device.platform_name);
      cur_platform = device.platform_name;
    }
    printf("[%d]: %s\n", (int)i, device.device_name);
  }

  // Free all the platform and device names.
  for (size_t j = 0; j < num_devices; j++) {
    free(devices[j].platform_name);
    free(devices[j].device_name);
  }
  free(devices);

  return 0;
}

// Returns 0 on success.
static int select_device_interactively(struct opencl_config *cfg) {
  struct opencl_device_option *devices;
  size_t num_devices;
  int ret = 1;

  opencl_all_device_options(&devices, &num_devices);

  printf("Choose OpenCL device:\n");
  const char *cur_platform = "";
  for (size_t i = 0; i < num_devices; i++) {
    struct opencl_device_option device = devices[i];
    if (strcmp(cur_platform, device.platform_name) != 0) {
      printf("Platform: %s\n", device.platform_name);
      cur_platform = device.platform_name;
    }
    printf("[%d] %s\n", (int)i, device.device_name);
  }

  int selection;
  printf("Choice: ");
  if (scanf("%d", &selection) == 1) {
    ret = 0;
    cfg->preferred_platform = "";
    cfg->preferred_device = "";
    cfg->preferred_device_num = selection;
    cfg->ignore_blacklist = 1;
  }

  // Free all the platform and device names.
  for (size_t j = 0; j < num_devices; j++) {
    free(devices[j].platform_name);
    free(devices[j].device_name);
  }
  free(devices);

  return ret;
}

static int is_blacklisted(const char *platform_name, const char *device_name,
                          const struct opencl_config *cfg) {
  if (strcmp(cfg->preferred_platform, "") != 0 ||
      strcmp(cfg->preferred_device, "") != 0) {
    return 0;
  } else if (strstr(platform_name, "Apple") != NULL &&
             strstr(device_name, "Intel(R) Core(TM)") != NULL) {
    return 1;
  } else {
    return 0;
  }
}

static struct opencl_device_option get_preferred_device(const struct opencl_config *cfg) {
  struct opencl_device_option *devices;
  size_t num_devices;

  opencl_all_device_options(&devices, &num_devices);

  int num_device_matches = 0;

  for (size_t i = 0; i < num_devices; i++) {
    struct opencl_device_option device = devices[i];
    if (strstr(device.platform_name, cfg->preferred_platform) != NULL &&
        strstr(device.device_name, cfg->preferred_device) != NULL &&
        (cfg->ignore_blacklist ||
         !is_blacklisted(device.platform_name, device.device_name, cfg)) &&
        num_device_matches++ == cfg->preferred_device_num) {
      // Free all the platform and device names, except the ones we have chosen.
      for (size_t j = 0; j < num_devices; j++) {
        if (j != i) {
          free(devices[j].platform_name);
          free(devices[j].device_name);
        }
      }
      free(devices);
      return device;
    }
  }

  futhark_panic(1, "Could not find acceptable OpenCL device.\n");
  exit(1); // Never reached
}

static void describe_device_option(struct opencl_device_option device) {
  fprintf(stderr, "Using platform: %s\n", device.platform_name);
  fprintf(stderr, "Using device: %s\n", device.device_name);
}

static cl_build_status build_opencl_program(cl_program program, cl_device_id device, const char* options) {
  cl_int clBuildProgram_error = clBuildProgram(program, 1, &device, options, NULL, NULL);

  // Avoid termination due to CL_BUILD_PROGRAM_FAILURE
  if (clBuildProgram_error != CL_SUCCESS &&
      clBuildProgram_error != CL_BUILD_PROGRAM_FAILURE) {
    OPENCL_SUCCEED_FATAL(clBuildProgram_error);
  }

  cl_build_status build_status;
  OPENCL_SUCCEED_FATAL(clGetProgramBuildInfo(program,
                                             device,
                                             CL_PROGRAM_BUILD_STATUS,
                                             sizeof(cl_build_status),
                                             &build_status,
                                             NULL));

  if (build_status != CL_SUCCESS) {
    char *build_log;
    size_t ret_val_size;
    OPENCL_SUCCEED_FATAL(clGetProgramBuildInfo(program, device, CL_PROGRAM_BUILD_LOG, 0, NULL, &ret_val_size));

    build_log = (char*) malloc(ret_val_size+1);
    OPENCL_SUCCEED_FATAL(clGetProgramBuildInfo(program, device, CL_PROGRAM_BUILD_LOG, ret_val_size, build_log, NULL));

    // The spec technically does not say whether the build log is zero-terminated, so let's be careful.
    build_log[ret_val_size] = '\0';

    fprintf(stderr, "Build log:\n%s\n", build_log);

    free(build_log);
  }

  return build_status;
}

// Fields in a bitmask indicating which types we must be sure are
// available.
enum opencl_required_type { OPENCL_F64 = 1 };

// We take as input several strings representing the program, because
// C does not guarantee that the compiler supports particularly large
// literals.  Notably, Visual C has a limit of 2048 characters.  The
// array must be NULL-terminated.
static cl_program setup_opencl_with_command_queue(struct opencl_context *ctx,
                                                  cl_command_queue queue,
                                                  const char *srcs[],
                                                  int required_types,
                                                  const char *extra_build_opts[]) {
  int error;

  free_list_init(&ctx->free_list);
  ctx->queue = queue;

  OPENCL_SUCCEED_FATAL(clGetCommandQueueInfo(ctx->queue, CL_QUEUE_CONTEXT, sizeof(cl_context), &ctx->ctx, NULL));

  // Fill out the device info.  This is redundant work if we are
  // called from setup_opencl() (which is the common case), but I
  // doubt it matters much.
  struct opencl_device_option device_option;
  OPENCL_SUCCEED_FATAL(clGetCommandQueueInfo(ctx->queue, CL_QUEUE_DEVICE,
                                       sizeof(cl_device_id),
                                       &device_option.device,
                                       NULL));
  OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device_option.device, CL_DEVICE_PLATFORM,
                                 sizeof(cl_platform_id),
                                 &device_option.platform,
                                 NULL));
  OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device_option.device, CL_DEVICE_TYPE,
                                 sizeof(cl_device_type),
                                 &device_option.device_type,
                                 NULL));
  device_option.platform_name = opencl_platform_info(device_option.platform, CL_PLATFORM_NAME);
  device_option.device_name = opencl_device_info(device_option.device, CL_DEVICE_NAME);

  ctx->device = device_option.device;

  if (required_types & OPENCL_F64) {
    cl_uint supported;
    OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device_option.device, CL_DEVICE_PREFERRED_VECTOR_WIDTH_DOUBLE,
                                   sizeof(cl_uint), &supported, NULL));
    if (!supported) {
      futhark_panic(1, "Program uses double-precision floats, but this is not supported on the chosen device: %s\n",
            device_option.device_name);
    }
  }

  size_t max_group_size;
  OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device_option.device, CL_DEVICE_MAX_WORK_GROUP_SIZE,
                                 sizeof(size_t), &max_group_size, NULL));

  size_t max_tile_size = sqrt(max_group_size);

  cl_ulong max_local_memory;
  OPENCL_SUCCEED_FATAL(clGetDeviceInfo(device_option.device, CL_DEVICE_LOCAL_MEM_SIZE,
                                       sizeof(size_t), &max_local_memory, NULL));

  // Futhark reserves 4 bytes for bookkeeping information.
  max_local_memory -= 4;

  // The OpenCL implementation may reserve some local memory bytes for
  // various purposes.  In principle, we should use
  // clGetKernelWorkGroupInfo() to figure out for each kernel how much
  // is actually available, but our current code generator design
  // makes this infeasible.  Instead, we have this nasty hack where we
  // arbitrarily subtract some bytes, based on empirical measurements
  // (but which might be arbitrarily wrong).  Fortunately, we rarely
  // try to really push the local memory usage.
  if (strstr(device_option.platform_name, "NVIDIA CUDA") != NULL) {
    max_local_memory -= 12;
  } else if (strstr(device_option.platform_name, "AMD") != NULL) {
    max_local_memory -= 16;
  }

  // Make sure this function is defined.
  post_opencl_setup(ctx, &device_option);

  if (max_group_size < ctx->cfg.default_group_size) {
    if (ctx->cfg.default_group_size_changed) {
      fprintf(stderr, "Note: Device limits default group size to %zu (down from %zu).\n",
              max_group_size, ctx->cfg.default_group_size);
    }
    ctx->cfg.default_group_size = max_group_size;
  }

  if (max_tile_size < ctx->cfg.default_tile_size) {
    if (ctx->cfg.default_tile_size_changed) {
      fprintf(stderr, "Note: Device limits default tile size to %zu (down from %zu).\n",
              max_tile_size, ctx->cfg.default_tile_size);
    }
    ctx->cfg.default_tile_size = max_tile_size;
  }

  ctx->max_group_size = max_group_size;
  ctx->max_tile_size = max_tile_size; // No limit.
  ctx->max_threshold = ctx->max_num_groups = 0; // No limit.
  ctx->max_local_memory = max_local_memory;

  // Now we go through all the sizes, clamp them to the valid range,
  // or set them to the default.
  for (int i = 0; i < ctx->cfg.num_sizes; i++) {
    const char *size_class = ctx->cfg.size_classes[i];
    int64_t *size_value = &ctx->cfg.size_values[i];
    const char* size_name = ctx->cfg.size_names[i];
    int64_t max_value = 0, default_value = 0;

    if (strstr(size_class, "group_size") == size_class) {
      max_value = max_group_size;
      default_value = ctx->cfg.default_group_size;
    } else if (strstr(size_class, "num_groups") == size_class) {
      max_value = max_group_size; // Futhark assumes this constraint.
      default_value = ctx->cfg.default_num_groups;
      // XXX: as a quick and dirty hack, use twice as many threads for
      // histograms by default.  We really should just be smarter
      // about sizes somehow.
      if (strstr(size_name, ".seghist_") != NULL) {
        default_value *= 2;
      }
    } else if (strstr(size_class, "tile_size") == size_class) {
      max_value = sqrt(max_group_size);
      default_value = ctx->cfg.default_tile_size;
    } else if (strstr(size_class, "reg_tile_size") == size_class) {
      max_value = 0; // No limit.
      default_value = ctx->cfg.default_reg_tile_size;
    } else if (strstr(size_class, "threshold") == size_class) {
      // Threshold can be as large as it takes.
      default_value = ctx->cfg.default_threshold;
    } else {
      // Bespoke sizes have no limit or default.
    }
    if (*size_value == 0) {
      *size_value = default_value;
    } else if (max_value > 0 && *size_value > max_value) {
      fprintf(stderr, "Note: Device limits %s to %d (down from %d)\n",
              size_name, (int)max_value, (int)*size_value);
      *size_value = max_value;
    }
  }

  if (ctx->lockstep_width == 0) {
    ctx->lockstep_width = 1;
  }

  if (ctx->cfg.logging) {
    fprintf(stderr, "Lockstep width: %d\n", (int)ctx->lockstep_width);
    fprintf(stderr, "Default group size: %d\n", (int)ctx->cfg.default_group_size);
    fprintf(stderr, "Default number of groups: %d\n", (int)ctx->cfg.default_num_groups);
  }

  char *fut_opencl_src = NULL;
  cl_program prog;
  error = CL_SUCCESS;

  if (ctx->cfg.load_binary_from == NULL) {
    size_t src_size = 0;

    // Maybe we have to read OpenCL source from somewhere else (used for debugging).
    if (ctx->cfg.load_program_from != NULL) {
      fut_opencl_src = slurp_file(ctx->cfg.load_program_from, NULL);
      assert(fut_opencl_src != NULL);
    } else {
      // Construct the OpenCL source concatenating all the fragments.
      for (const char **src = srcs; src && *src; src++) {
        src_size += strlen(*src);
      }

      fut_opencl_src = (char*) malloc(src_size + 1);

      size_t n, i;
      for (i = 0, n = 0; srcs && srcs[i]; i++) {
        strncpy(fut_opencl_src+n, srcs[i], src_size-n);
        n += strlen(srcs[i]);
      }
      fut_opencl_src[src_size] = 0;
    }

    if (ctx->cfg.dump_program_to != NULL) {
      if (ctx->cfg.debugging) {
        fprintf(stderr, "Dumping OpenCL source to %s...\n", ctx->cfg.dump_program_to);
      }

      dump_file(ctx->cfg.dump_program_to, fut_opencl_src, strlen(fut_opencl_src));
    }

    if (ctx->cfg.debugging) {
      fprintf(stderr, "Creating OpenCL program...\n");
    }

    const char* src_ptr[] = {fut_opencl_src};
    prog = clCreateProgramWithSource(ctx->ctx, 1, src_ptr, &src_size, &error);
    OPENCL_SUCCEED_FATAL(error);
  } else {
    if (ctx->cfg.debugging) {
      fprintf(stderr, "Loading OpenCL binary from %s...\n", ctx->cfg.load_binary_from);
    }
    size_t binary_size;
    unsigned char *fut_opencl_bin =
      (unsigned char*) slurp_file(ctx->cfg.load_binary_from, &binary_size);
    assert(fut_opencl_bin != NULL);
    const unsigned char *binaries[1] = { fut_opencl_bin };
    cl_int status = 0;

    prog = clCreateProgramWithBinary(ctx->ctx, 1, &device_option.device,
                                     &binary_size, binaries,
                                     &status, &error);

    OPENCL_SUCCEED_FATAL(status);
    OPENCL_SUCCEED_FATAL(error);
  }

  int compile_opts_size = 1024;

  for (int i = 0; i < ctx->cfg.num_sizes; i++) {
    compile_opts_size += strlen(ctx->cfg.size_names[i]) + 20;
  }

  for (int i = 0; extra_build_opts[i] != NULL; i++) {
    compile_opts_size += strlen(extra_build_opts[i] + 1);
  }

  char *compile_opts = (char*) malloc(compile_opts_size);

  int w = snprintf(compile_opts, compile_opts_size,
                   "-DLOCKSTEP_WIDTH=%d ",
                   (int)ctx->lockstep_width);

  for (int i = 0; i < ctx->cfg.num_sizes; i++) {
    w += snprintf(compile_opts+w, compile_opts_size-w,
                  "-D%s=%d ",
                  ctx->cfg.size_vars[i],
                  (int)ctx->cfg.size_values[i]);
  }

  for (int i = 0; extra_build_opts[i] != NULL; i++) {
    w += snprintf(compile_opts+w, compile_opts_size-w,
                  "%s ", extra_build_opts[i]);
  }

  // Oclgrind claims to support cl_khr_fp16, but this is not actually
  // the case.
  if (strcmp(device_option.platform_name, "Oclgrind") == 0) {
    w += snprintf(compile_opts+w, compile_opts_size-w, "-DEMULATE_F16 ");
  }

  if (ctx->cfg.debugging) {
    fprintf(stderr, "OpenCL compiler options: %s\n", compile_opts);
    fprintf(stderr, "Building OpenCL program...\n");
  }
  OPENCL_SUCCEED_FATAL(build_opencl_program(prog, device_option.device, compile_opts));

  free(compile_opts);
  free(fut_opencl_src);

  if (ctx->cfg.dump_binary_to != NULL) {
    if (ctx->cfg.debugging) {
      fprintf(stderr, "Dumping OpenCL binary to %s...\n", ctx->cfg.dump_binary_to);
    }

    size_t binary_size;
    OPENCL_SUCCEED_FATAL(clGetProgramInfo(prog, CL_PROGRAM_BINARY_SIZES,
                                          sizeof(size_t), &binary_size, NULL));
    unsigned char *binary = (unsigned char*) malloc(binary_size);
    unsigned char *binaries[1] = { binary };
    OPENCL_SUCCEED_FATAL(clGetProgramInfo(prog, CL_PROGRAM_BINARIES,
                                          sizeof(unsigned char*), binaries, NULL));

    dump_file(ctx->cfg.dump_binary_to, binary, binary_size);
  }

  return prog;
}

static cl_program setup_opencl(struct opencl_context *ctx,
                               const char *srcs[],
                               int required_types,
                               const char *extra_build_opts[]) {

  ctx->lockstep_width = 0; // Real value set later.

  struct opencl_device_option device_option = get_preferred_device(&ctx->cfg);

  if (ctx->cfg.logging) {
    describe_device_option(device_option);
  }

  // Note that NVIDIA's OpenCL requires the platform property
  cl_context_properties properties[] = {
    CL_CONTEXT_PLATFORM,
    (cl_context_properties)device_option.platform,
    0
  };

  cl_int clCreateContext_error;
  ctx->ctx = clCreateContext(properties, 1, &device_option.device, NULL, NULL, &clCreateContext_error);
  OPENCL_SUCCEED_FATAL(clCreateContext_error);

  cl_int clCreateCommandQueue_error;
  cl_command_queue queue =
    clCreateCommandQueue(ctx->ctx,
                         device_option.device,
                         ctx->cfg.profiling ? CL_QUEUE_PROFILING_ENABLE : 0,
                         &clCreateCommandQueue_error);
  OPENCL_SUCCEED_FATAL(clCreateCommandQueue_error);

  return setup_opencl_with_command_queue(ctx, queue, srcs, required_types, extra_build_opts);
}

// Count up the runtime all the profiling_records that occured during execution.
// Also clears the buffer of profiling_records.
static cl_int opencl_tally_profiling_records(struct opencl_context *ctx) {
  cl_int err;
  for (int i = 0; i < ctx->profiling_records_used; i++) {
    struct profiling_record record = ctx->profiling_records[i];

    cl_ulong start_t, end_t;

    if ((err = clGetEventProfilingInfo(*record.event,
                                       CL_PROFILING_COMMAND_START,
                                       sizeof(start_t),
                                       &start_t,
                                       NULL)) != CL_SUCCESS) {
      return err;
    }

    if ((err = clGetEventProfilingInfo(*record.event,
                                       CL_PROFILING_COMMAND_END,
                                       sizeof(end_t),
                                       &end_t,
                                       NULL)) != CL_SUCCESS) {
      return err;
    }

    // OpenCL provides nanosecond resolution, but we want
    // microseconds.
    *record.runs += 1;
    *record.runtime += (end_t - start_t)/1000;

    if ((err = clReleaseEvent(*record.event)) != CL_SUCCESS) {
      return err;
    }
    free(record.event);
  }

  ctx->profiling_records_used = 0;

  return CL_SUCCESS;
}

// If profiling, produce an event associated with a profiling record.
static cl_event* opencl_get_event(struct opencl_context *ctx, int *runs, int64_t *runtime) {
    if (ctx->profiling_records_used == ctx->profiling_records_capacity) {
      ctx->profiling_records_capacity *= 2;
      ctx->profiling_records =
        realloc(ctx->profiling_records,
                ctx->profiling_records_capacity *
                sizeof(struct profiling_record));
    }
    cl_event *event = malloc(sizeof(cl_event));
    ctx->profiling_records[ctx->profiling_records_used].event = event;
    ctx->profiling_records[ctx->profiling_records_used].runs = runs;
    ctx->profiling_records[ctx->profiling_records_used].runtime = runtime;
    ctx->profiling_records_used++;
    return event;
}

// Allocate memory from driver. The problem is that OpenCL may perform
// lazy allocation, so we cannot know whether an allocation succeeded
// until the first time we try to use it.  Hence we immediately
// perform a write to see if the allocation succeeded.  This is slow,
// but the assumption is that this operation will be rare (most things
// will go through the free list).
static int opencl_alloc_actual(struct opencl_context *ctx, size_t size, cl_mem *mem_out) {
  int error;
  *mem_out = clCreateBuffer(ctx->ctx, CL_MEM_READ_WRITE, size, NULL, &error);

  if (error != CL_SUCCESS) {
    return error;
  }

  int x = 2;
  error = clEnqueueWriteBuffer(ctx->queue, *mem_out,
                               CL_TRUE,
                               0, sizeof(x), &x,
                               0, NULL, NULL);

  // No need to wait for completion here. clWaitForEvents() cannot
  // return mem object allocation failures. This implies that the
  // buffer is faulted onto the device on enqueue. (Observation by
  // Andreas Kloeckner.)

  return error;
}

static int opencl_alloc(struct opencl_context *ctx, size_t min_size, const char *tag, cl_mem *mem_out) {
  (void)tag;
  if (min_size < sizeof(int)) {
    min_size = sizeof(int);
  }

  size_t size;

  if (free_list_find(&ctx->free_list, min_size, &size, mem_out) == 0) {
    // Successfully found a free block.  Is it big enough?
    //
    // FIXME: we might also want to check whether the block is *too
    // big*, to avoid internal fragmentation.  However, this can
    // sharply impact performance on programs where arrays change size
    // frequently.  Fortunately, such allocations are usually fairly
    // short-lived, as they are necessarily within a loop, so the risk
    // of internal fragmentation resulting in an OOM situation is
    // limited.  However, it would be preferable if we could go back
    // and *shrink* oversize allocations when we encounter an OOM
    // condition.  That is technically feasible, since we do not
    // expose OpenCL pointer values directly to the application, but
    // instead rely on a level of indirection.
    if (size >= min_size) {
      if (ctx->cfg.debugging) {
        fprintf(stderr, "No need to allocate: Found a block in the free list.\n");
      }

      return CL_SUCCESS;
    } else {
      if (ctx->cfg.debugging) {
        fprintf(stderr, "Found a free block, but it was too small.\n");
      }

      // Not just right - free it.
      int error = clReleaseMemObject(*mem_out);
      if (error != CL_SUCCESS) {
        return error;
      }
    }
  }

  // We have to allocate a new block from the driver.  If the
  // allocation does not succeed, then we might be in an out-of-memory
  // situation.  We now start freeing things from the free list until
  // we think we have freed enough that the allocation will succeed.
  // Since we don't know how far the allocation is from fitting, we
  // have to check after every deallocation.  This might be pretty
  // expensive.  Let's hope that this case is hit rarely.

  if (ctx->cfg.debugging) {
    fprintf(stderr, "Actually allocating the desired block.\n");
  }

  int error = opencl_alloc_actual(ctx, min_size, mem_out);

  while (error == CL_MEM_OBJECT_ALLOCATION_FAILURE) {
    if (ctx->cfg.debugging) {
      fprintf(stderr, "Out of OpenCL memory: releasing entry from the free list...\n");
    }
    cl_mem mem;
    if (free_list_first(&ctx->free_list, &mem) == 0) {
      error = clReleaseMemObject(mem);
      if (error != CL_SUCCESS) {
        return error;
      }
    } else {
      break;
    }
    error = opencl_alloc_actual(ctx, min_size, mem_out);
  }

  return error;
}

static int opencl_free(struct opencl_context *ctx, cl_mem mem, const char *tag) {
  size_t size;
  cl_mem existing_mem;

  // If there is already a block with this tag, then remove it.
  if (free_list_find(&ctx->free_list, -1, &size, &existing_mem) == 0) {
    int error = clReleaseMemObject(existing_mem);
    if (error != CL_SUCCESS) {
      return error;
    }
  }

  int error = clGetMemObjectInfo(mem, CL_MEM_SIZE, sizeof(size_t), &size, NULL);

  if (error == CL_SUCCESS) {
    free_list_insert(&ctx->free_list, size, mem, tag);
  }

  return error;
}

static int opencl_free_all(struct opencl_context *ctx) {
  cl_mem mem;
  free_list_pack(&ctx->free_list);
  while (free_list_first(&ctx->free_list, &mem) == 0) {
    int error = clReleaseMemObject(mem);
    if (error != CL_SUCCESS) {
      return error;
    }
  }

  return CL_SUCCESS;
}

// Free everything that belongs to 'ctx', but do not free 'ctx'
// itself.
static void teardown_opencl(struct opencl_context *ctx) {
  (void)opencl_tally_profiling_records(ctx);
  free(ctx->profiling_records);
  (void)opencl_free_all(ctx);
  (void)clReleaseCommandQueue(ctx->queue);
  (void)clReleaseContext(ctx->ctx);
}

// End of opencl.h.

static const char *opencl_program[] =
                  {"\n// Clang-based OpenCL implementations need this for 'static' to work.\n#ifdef cl_clang_storage_class_specifiers\n#pragma OPENCL EXTENSION cl_clang_storage_class_specifiers : enable\n#endif\n#pragma OPENCL EXTENSION cl_khr_byte_addressable_store : enable\n\n#pragma OPENCL EXTENSION cl_khr_fp64 : enable\n#define FUTHARK_F64_ENABLED\n\n// Some OpenCL programs dislike empty progams, or programs with no kernels.\n// Declare a dummy kernel to ensure they remain our friends.\n__kernel void dummy_kernel(__global unsigned char *dummy, int n)\n{\n    const int thread_gid = get_global_id(0);\n    if (thread_gid >= n) return;\n}\n\n#pragma OPENCL EXTENSION cl_khr_int64_base_atomics : enable\n#pragma OPENCL EXTENSION cl_khr_int64_extended_atomics : enable\n\ntypedef char int8_t;\ntypedef short int16_t;\ntypedef int int32_t;\ntypedef long int64_t;\n\ntypedef uchar uint8_t;\ntypedef ushort uint16_t;\ntypedef uint uint32_t;\ntypedef ulong uint64_t;\n\n// NVIDIAs OpenCL does not create device-wide memory fences (see #734), so we\n// use inline assembly if we detect we are on an NVIDIA GPU.\n#ifdef cl_nv_pragma_unroll\nstatic inline void mem_fence_global() {\n  asm(\"membar.gl;\");\n}\n#else\nstatic inline void mem_fence_global() {\n  mem_fence(CLK_LOCAL_MEM_FENCE | CLK_GLOBAL_MEM_FENCE);\n}\n#endif\nstatic inline void mem_fence_local() {\n  mem_fence(CLK_LOCAL_MEM_FENCE);\n}\n// Start of half.h.\n\n// Conversion functions are from http://half.sourceforge.net/, but\n// translated to C.\n//\n// Copyright (c) 2012-2021 Christian Rau\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission noti",
                   "ce shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n#ifndef __OPENCL_VERSION__\n#define __constant\n#endif\n\n__constant static const uint16_t base_table[512] = {\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,\n  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,\n  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x",
                   "7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,\n  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,\n  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC",
                   "00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };\n\n__constant static const unsigned char shift_table[512] = {\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, ",
                   "24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };\n\n__constant static const uint32_t mantissa_table[2048] = {\n  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,\n  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,\n  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,\n  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,\n  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0",
                   "000,\n  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,\n  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,\n  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,\n  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,\n  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,\n  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,\n  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,\n  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,\n  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,\n  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,\n  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x377",
                   "40000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,\n  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,\n  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,\n  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,\n  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,\n  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,\n  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,\n  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,\n  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,\n  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,\n  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37C",
                   "C8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,\n  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,\n  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,\n  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,\n  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,\n  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,\n  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,\n  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,\n  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,\n  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,\n  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380",
                   "F8000, 0x380FC000,\n  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,\n  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,\n  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,\n  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,\n  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,\n  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,\n  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,\n  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,\n  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,\n  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,\n  0x38380000, 0x38384000, 0x38388000, 0x3",
                   "838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,\n  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,\n  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,\n  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,\n  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,\n  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,\n  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,\n  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,\n  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,\n  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,\n  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x3",
                   "8620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,\n  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,\n  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,\n  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,\n  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,\n  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,\n  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,\n  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,\n  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,\n  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,\n  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3",
                   "805A000, 0x3805C000, 0x3805E000,\n  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,\n  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,\n  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,\n  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,\n  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,\n  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,\n  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,\n  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,\n  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,\n  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,\n  0x381A0000, 0x381A2000, 0",
                   "x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,\n  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,\n  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,\n  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,\n  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,\n  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,\n  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,\n  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,\n  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,\n  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,\n  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0",
                   "x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,\n  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,\n  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,\n  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,\n  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,\n  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,\n  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,\n  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,\n  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,\n  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,\n  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0",
                   "x38438000, 0x3843A000, 0x3843C000, 0x3843E000,\n  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,\n  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,\n  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,\n  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,\n  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,\n  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,\n  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,\n  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,\n  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,\n  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,\n  0x38580000,",
                   " 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,\n  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,\n  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,\n  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,\n  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,\n  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,\n  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,\n  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,\n  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,\n  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,\n  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000,",
                   " 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,\n  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,\n  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,\n  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,\n  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,\n  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,\n  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,\n  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,\n  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,\n  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };\n__constant static const uint32_t exponent_table[64] = {\n  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0",
                   "x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,\n  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,\n  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,\n  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };\n__constant static const unsigned short offset_table[64] = {\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };\n\nstatic uint16_t float2halfbits(float value) {\n  union { float x; uint32_t y; } u;\n  u.x = value;\n  uint32_t bits = u.y;\n\n  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;\n\n  return hbits;\n}\n\nstatic float halfbits2float(uint16_t value) {\n  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];\n\n  union { uint32_t x; float y; } u;\n  u.x = bits;\n  return u.y;\n}\n\n// End of half.h.\n// Start of scalar.h.\n\n// Implementation of the primitive scalar operations.  Very\n// repetitive.  This code is inserted directly into both CUDA and\n// OpenCL programs, as well as the CPU code, so it has some #ifdefs to\n// work everywhere.  Some operations are defined as macros because\n// this allows us to use them as constant expressions in things like\n// array sizes and static i",
                   "nitialisers.\n\n// Some of the #ifdefs are because OpenCL uses type-generic functions\n// for some operations (e.g. sqrt), while C and CUDA sensibly use\n// distinct functions for different precisions (e.g. sqrtf() and\n// sqrt()).  This is quite annoying.  Due to C's unfortunate casting\n// rules, it is also really easy to accidentally implement\n// floating-point functions in the wrong precision, so be careful.\n\n// Double-precision definitions are only included if the preprocessor\n// macro FUTHARK_F64_ENABLED is set.\n\nstatic inline uint8_t add8(uint8_t x, uint8_t y) {\n  return x + y;\n}\n\nstatic inline uint16_t add16(uint16_t x, uint16_t y) {\n  return x + y;\n}\n\nstatic inline uint32_t add32(uint32_t x, uint32_t y) {\n  return x + y;\n}\n\nstatic inline uint64_t add64(uint64_t x, uint64_t y) {\n  return x + y;\n}\n\nstatic inline uint8_t sub8(uint8_t x, uint8_t y) {\n  return x - y;\n}\n\nstatic inline uint16_t sub16(uint16_t x, uint16_t y) {\n  return x - y;\n}\n\nstatic inline uint32_t sub32(uint32_t x, uint32_t y) {\n  return x - y;\n}\n\nstatic inline uint64_t sub64(uint64_t x, uint64_t y) {\n  return x - y;\n}\n\nstatic inline uint8_t mul8(uint8_t x, uint8_t y) {\n  return x * y;\n}\n\nstatic inline uint16_t mul16(uint16_t x, uint16_t y) {\n  return x * y;\n}\n\nstatic inline uint32_t mul32(uint32_t x, uint32_t y) {\n  return x * y;\n}\n\nstatic inline uint64_t mul64(uint64_t x, uint64_t y) {\n  return x * y;\n}\n\nstatic inline uint8_t udiv8(uint8_t x, uint8_t y) {\n  return x / y;\n}\n\nstatic inline uint16_t udiv16(uint16_t x, uint16_t y) {\n  return x / y;\n}\n\nstatic inline uint32_t udiv32(uint32_t x, uint32_t y) {\n  return x / y;\n}\n\nstatic inline uint64_t udiv64(uint64_t x, uint64_t y) {\n  return x / y;\n}\n\nstatic inline uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint64_t udiv_up64(uint64_t x, uint",
                   "64_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint8_t umod8(uint8_t x, uint8_t y) {\n  return x % y;\n}\n\nstatic inline uint16_t umod16(uint16_t x, uint16_t y) {\n  return x % y;\n}\n\nstatic inline uint32_t umod32(uint32_t x, uint32_t y) {\n  return x % y;\n}\n\nstatic inline uint64_t umod64(uint64_t x, uint64_t y) {\n  return x % y;\n}\n\nstatic inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t q = x / y;\n  int8_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t q = x / y;\n  int16_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t q = x / y;\n  int32_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t q ",
                   "= x / y;\n  int64_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up32(int32_t x, int32_t y) {\n  return sdiv32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nstatic inline int8_t smod8(int8_t x, int8_t y) {\n  int8_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int16_t smod16(int16_t x, int16_t y) {\n  int16_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int32_t smod32(int32_t x, int32_t y) {\n  int32_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int64_t smod64(int64_t x, int64_t y) {\n  int64_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nstatic inline int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nstatic inline int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nstatic inline int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdiv64(x, y);\n}\n\nstatic inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nstatic inline int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nstatic inline int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nst",
                   "atic inline int32_t smod_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : smod32(x, y);\n}\n\nstatic inline int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nstatic inline int8_t squot8(int8_t x, int8_t y) {\n  return x / y;\n}\n\nstatic inline int16_t squot16(int16_t x, int16_t y) {\n  return x / y;\n}\n\nstatic inline int32_t squot32(int32_t x, int32_t y) {\n  return x / y;\n}\n\nstatic inline int64_t squot64(int64_t x, int64_t y) {\n  return x / y;\n}\n\nstatic inline int8_t srem8(int8_t x, int8_t y) {\n  return x % y;\n}\n\nstatic inline int16_t srem16(int16_t x, int16_t y) {\n  return x % y;\n}\n\nstatic inline int32_t srem32(int32_t x, int32_t y) {\n  return x % y;\n}\n\nstatic inline int64_t srem64(int64_t x, int64_t y) {\n  return x % y;\n}\n\nstatic inline int8_t squot_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int16_t squot_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int32_t squot_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int64_t squot_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int8_t srem_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int16_t srem_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int32_t srem_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int64_t srem_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int8_t smin8(int8_t x, int8_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int16_t smin16(int16_t x, int16_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int32_t smin32(int32_t x, int32_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int64_t smin64(int64_t x, int64_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint8_t umin8(uint8_t x, uint8_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint16_t umin16(uint16_t x, uint16_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint32_t umin32(uint32_t x, ",
                   "uint32_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint64_t umin64(uint64_t x, uint64_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int8_t smax8(int8_t x, int8_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline int16_t smax16(int16_t x, int16_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline int32_t smax32(int32_t x, int32_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline int64_t smax64(int64_t x, int64_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint8_t umax8(uint8_t x, uint8_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint16_t umax16(uint16_t x, uint16_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint32_t umax32(uint32_t x, uint32_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint64_t umax64(uint64_t x, uint64_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint8_t shl8(uint8_t x, uint8_t y) {\n  return (uint8_t)(x << y);\n}\n\nstatic inline uint16_t shl16(uint16_t x, uint16_t y) {\n  return (uint16_t)(x << y);\n}\n\nstatic inline uint32_t shl32(uint32_t x, uint32_t y) {\n  return x << y;\n}\n\nstatic inline uint64_t shl64(uint64_t x, uint64_t y) {\n  return x << y;\n}\n\nstatic inline uint8_t lshr8(uint8_t x, uint8_t y) {\n  return x >> y;\n}\n\nstatic inline uint16_t lshr16(uint16_t x, uint16_t y) {\n  return x >> y;\n}\n\nstatic inline uint32_t lshr32(uint32_t x, uint32_t y) {\n  return x >> y;\n}\n\nstatic inline uint64_t lshr64(uint64_t x, uint64_t y) {\n  return x >> y;\n}\n\nstatic inline int8_t ashr8(int8_t x, int8_t y) {\n  return x >> y;\n}\n\nstatic inline int16_t ashr16(int16_t x, int16_t y) {\n  return x >> y;\n}\n\nstatic inline int32_t ashr32(int32_t x, int32_t y) {\n  return x >> y;\n}\n\nstatic inline int64_t ashr64(int64_t x, int64_t y) {\n  return x >> y;\n}\n\nstatic inline uint8_t and8(uint8_t x, uint8_t y) {\n  return x & y;\n}\n\nstatic inline uint16_t and16(uint16_t x, uint16_t y) {\n  return x & y;\n}\n\nstatic inline uint32_t and32(uint32_t x, uint32_t y) {\n  return x & y;\n}\n\nstatic inline uint64_t and64(uint64_t x, uint64_t y) {\n  return x & y;\n}\n\nstatic inline uint8_t or8(uint8_t",
                   " x, uint8_t y) {\n  return x | y;\n}\n\nstatic inline uint16_t or16(uint16_t x, uint16_t y) {\n  return x | y;\n}\n\nstatic inline uint32_t or32(uint32_t x, uint32_t y) {\n  return x | y;\n}\n\nstatic inline uint64_t or64(uint64_t x, uint64_t y) {\n  return x | y;\n}\n\nstatic inline uint8_t xor8(uint8_t x, uint8_t y) {\n  return x ^ y;\n}\n\nstatic inline uint16_t xor16(uint16_t x, uint16_t y) {\n  return x ^ y;\n}\n\nstatic inline uint32_t xor32(uint32_t x, uint32_t y) {\n  return x ^ y;\n}\n\nstatic inline uint64_t xor64(uint64_t x, uint64_t y) {\n  return x ^ y;\n}\n\nstatic inline bool ult8(uint8_t x, uint8_t y) {\n  return x < y;\n}\n\nstatic inline bool ult16(uint16_t x, uint16_t y) {\n  return x < y;\n}\n\nstatic inline bool ult32(uint32_t x, uint32_t y) {\n  return x < y;\n}\n\nstatic inline bool ult64(uint64_t x, uint64_t y) {\n  return x < y;\n}\n\nstatic inline bool ule8(uint8_t x, uint8_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule16(uint16_t x, uint16_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule32(uint32_t x, uint32_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule64(uint64_t x, uint64_t y) {\n  return x <= y;\n}\n\nstatic inline bool slt8(int8_t x, int8_t y) {\n  return x < y;\n}\n\nstatic inline bool slt16(int16_t x, int16_t y) {\n  return x < y;\n}\n\nstatic inline bool slt32(int32_t x, int32_t y) {\n  return x < y;\n}\n\nstatic inline bool slt64(int64_t x, int64_t y) {\n  return x < y;\n}\n\nstatic inline bool sle8(int8_t x, int8_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle16(int16_t x, int16_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle32(int32_t x, int32_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle64(int64_t x, int64_t y) {\n  return x <= y;\n}\n\nstatic inline uint8_t pow8(uint8_t x, uint8_t y) {\n  uint8_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint16_t pow16(uint16_t x, uint16_t y) {\n  uint16_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n ",
                   " return res;\n}\n\nstatic inline uint32_t pow32(uint32_t x, uint32_t y) {\n  uint32_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint64_t pow64(uint64_t x, uint64_t y) {\n  uint64_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline bool itob_i8_bool(int8_t x) {\n  return x;\n}\n\nstatic inline bool itob_i16_bool(int16_t x) {\n  return x;\n}\n\nstatic inline bool itob_i32_bool(int32_t x) {\n  return x;\n}\n\nstatic inline bool itob_i64_bool(int64_t x) {\n  return x;\n}\n\nstatic inline int8_t btoi_bool_i8(bool x) {\n  return x;\n}\n\nstatic inline int16_t btoi_bool_i16(bool x) {\n  return x;\n}\n\nstatic inline int32_t btoi_bool_i32(bool x) {\n  return x;\n}\n\nstatic inline int64_t btoi_bool_i64(bool x) {\n  return x;\n}\n\n#define sext_i8_i8(x) ((int8_t) (int8_t) (x))\n#define sext_i8_i16(x) ((int16_t) (int8_t) (x))\n#define sext_i8_i32(x) ((int32_t) (int8_t) (x))\n#define sext_i8_i64(x) ((int64_t) (int8_t) (x))\n#define sext_i16_i8(x) ((int8_t) (int16_t) (x))\n#define sext_i16_i16(x) ((int16_t) (int16_t) (x))\n#define sext_i16_i32(x) ((int32_t) (int16_t) (x))\n#define sext_i16_i64(x) ((int64_t) (int16_t) (x))\n#define sext_i32_i8(x) ((int8_t) (int32_t) (x))\n#define sext_i32_i16(x) ((int16_t) (int32_t) (x))\n#define sext_i32_i32(x) ((int32_t) (int32_t) (x))\n#define sext_i32_i64(x) ((int64_t) (int32_t) (x))\n#define sext_i64_i8(x) ((int8_t) (int64_t) (x))\n#define sext_i64_i16(x) ((int16_t) (int64_t) (x))\n#define sext_i64_i32(x) ((int32_t) (int64_t) (x))\n#define sext_i64_i64(x) ((int64_t) (int64_t) (x))\n#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))\n#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))\n#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))\n#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))\n#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))\n#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))\n#define zext_i16_i32(x) ((int32_t) (uint16_t) (x",
                   "))\n#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))\n#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))\n#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))\n#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))\n#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))\n#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))\n#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))\n#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))\n#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))\n\nstatic int8_t abs8(int8_t x) {\n  return (int8_t)abs(x);\n}\n\nstatic int16_t abs16(int16_t x) {\n  return (int16_t)abs(x);\n}\n\nstatic int32_t abs32(int32_t x) {\n  return abs(x);\n}\n\nstatic int64_t abs64(int64_t x) {\n#if defined(__OPENCL_VERSION__)\n  return abs(x);\n#else\n  return llabs(x);\n#endif\n}\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_popc8(int8_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc16(int16_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc32(int32_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc64(int64_t x) {\n  return popcount(x);\n}\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_popc8(int8_t x) {\n  return __popc(zext_i8_i32(x));\n}\n\nstatic int32_t futrts_popc16(int16_t x) {\n  return __popc(zext_i16_i32(x));\n}\n\nstatic int32_t futrts_popc32(int32_t x) {\n  return __popc(x);\n}\n\nstatic int32_t futrts_popc64(int64_t x) {\n  return __popcll(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nstatic int32_t futrts_popc8(uint8_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc16(uint16_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc32(uint32_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc64(uint64_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  return mul_hi(a, b);\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {",
                   "\n  return mul_hi(a, b);\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {\n  return mul_hi(a, b);\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  return mul_hi(a, b);\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  uint16_t aa = a;\n  uint16_t bb = b;\n\n  return aa * bb >> 8;\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {\n  uint32_t aa = a;\n  uint32_t bb = b;\n\n  return aa * bb >> 16;\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {\n  return mulhi(a, b);\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  return mul64hi(a, b);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  uint16_t aa = a;\n  uint16_t bb = b;\n\n  return aa * bb >> 8;\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {\n  uint32_t aa = a;\n  uint32_t bb = b;\n\n  return aa * bb >> 16;\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {\n  uint64_t aa = a;\n  uint64_t bb = b;\n\n  return aa * bb >> 32;\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  __uint128_t aa = a;\n  __uint128_t bb = b;\n\n  return aa * bb >> 64;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {\n  return mad_hi(a, b, c);\n}\n\nstatic uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {\n  return mad_hi(a, b, c);\n}\n\nstatic uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {\n  return mad_hi(a, b, c);\n}\n\nstatic uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {\n  return mad_hi(a, b, c);\n}\n\n#else // Not OpenCL\n\nstatic uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {\n  return futrts_mul_hi8(a, b) + c;\n}\n\nstatic uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {\n  return futrts_mul_hi16(a, b) + c;\n}\n\nstatic uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {\n  return futrts_mul_hi32(a, b) + c;\n}\n\nstatic uint64_t futrts_mad_hi64(uint64_t a, uint64_t",
                   " b, uint64_t c) {\n  return futrts_mul_hi64(a, b) + c;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_clzz8(int8_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return clz(x);\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_clzz8(int8_t x) {\n  return __clz(zext_i8_i32(x)) - 24;\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return __clz(zext_i16_i32(x)) - 16;\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return __clz(x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return __clzll(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nstatic int32_t futrts_clzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_clz((uint32_t)x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_ctzz8(int8_t x) {\n  int i = 0;\n  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  int i = 0;\n  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  int i = 0;\n  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  int i = 0;\n  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_ctzz8(int8_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 8 : y - 1;\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 16 : y - 1;\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 32 : y - 1;\n}\n\nstatic int32_t futrts_ctzz64(int",
                   "64_t x) {\n  int y = __ffsll(x);\n  return y == 0 ? 64 : y - 1;\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nstatic int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);\n}\n#endif\n\nstatic inline float fdiv32(float x, float y) {\n  return x / y;\n}\n\nstatic inline float fadd32(float x, float y) {\n  return x + y;\n}\n\nstatic inline float fsub32(float x, float y) {\n  return x - y;\n}\n\nstatic inline float fmul32(float x, float y) {\n  return x * y;\n}\n\nstatic inline bool cmplt32(float x, float y) {\n  return x < y;\n}\n\nstatic inline bool cmple32(float x, float y) {\n  return x <= y;\n}\n\nstatic inline float sitofp_i8_f32(int8_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i16_f32(int16_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i32_f32(int32_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i64_f32(int64_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i8_f32(uint8_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i16_f32(uint16_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i32_f32(uint32_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i64_f32(uint64_t x) {\n  return (float) x;\n}\n\nstatic inline int8_t fptosi_f32_i8(float x) {\n  return (int8_t) x;\n}\n\nstatic inline int16_t fptosi_f32_i16(float x) {\n  return (int16_t) x;\n}\n\nstatic inline int32_t fptosi_f32_i32(float x) {\n  return (int32_t) x;\n}\n\nstatic inline int64_t fptosi_f32_i64(float x) {\n  return (int64_t) x;\n}\n\nstatic inline uint8_t fptoui_f32_i8(float x) {\n  return (uint8_t) x;\n}\n\nstatic inline uint16_t fptoui_f32_i16(float x) {\n  return (uint16_t) x;\n}\n\nstatic inline uint32_t fptoui_f32_i32(float x) {\n  return (uint32_t) x;\n}\n\nstatic inline uint64_t fpt",
                   "oui_f32_i64(float x) {\n  return (uint64_t) x;\n}\n\n#ifdef __OPENCL_VERSION__\nstatic inline float fabs32(float x) {\n  return fabs(x);\n}\n\nstatic inline float fmax32(float x, float y) {\n  return fmax(x, y);\n}\n\nstatic inline float fmin32(float x, float y) {\n  return fmin(x, y);\n}\n\nstatic inline float fpow32(float x, float y) {\n  return pow(x, y);\n}\n\n#else // Not OpenCL, but CUDA or plain C.\n\nstatic inline float fabs32(float x) {\n  return fabsf(x);\n}\n\nstatic inline float fmax32(float x, float y) {\n  return fmaxf(x, y);\n}\n\nstatic inline float fmin32(float x, float y) {\n  return fminf(x, y);\n}\n\nstatic inline float fpow32(float x, float y) {\n  return powf(x, y);\n}\n#endif\n\nstatic inline bool futrts_isnan32(float x) {\n  return isnan(x);\n}\n\nstatic inline bool futrts_isinf32(float x) {\n  return isinf(x);\n}\n\n#ifdef __OPENCL_VERSION__\nstatic inline float futrts_log32(float x) {\n  return log(x);\n}\n\nstatic inline float futrts_log2_32(float x) {\n  return log2(x);\n}\n\nstatic inline float futrts_log10_32(float x) {\n  return log10(x);\n}\n\nstatic inline float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nstatic inline float futrts_exp32(float x) {\n  return exp(x);\n}\n\nstatic inline float futrts_cos32(float x) {\n  return cos(x);\n}\n\nstatic inline float futrts_sin32(float x) {\n  return sin(x);\n}\n\nstatic inline float futrts_tan32(float x) {\n  return tan(x);\n}\n\nstatic inline float futrts_acos32(float x) {\n  return acos(x);\n}\n\nstatic inline float futrts_asin32(float x) {\n  return asin(x);\n}\n\nstatic inline float futrts_atan32(float x) {\n  return atan(x);\n}\n\nstatic inline float futrts_cosh32(float x) {\n  return cosh(x);\n}\n\nstatic inline float futrts_sinh32(float x) {\n  return sinh(x);\n}\n\nstatic inline float futrts_tanh32(float x) {\n  return tanh(x);\n}\n\nstatic inline float futrts_acosh32(float x) {\n  return acosh(x);\n}\n\nstatic inline float futrts_asinh32(float x) {\n  return asinh(x);\n}\n\nstatic inline float futrts_atanh32(float x) {\n  return atanh(x);\n}\n\nstatic inline float futrts_atan2_32(float x, fl",
                   "oat y) {\n  return atan2(x, y);\n}\n\nstatic inline float futrts_hypot32(float x, float y) {\n  return hypot(x, y);\n}\n\nstatic inline float futrts_gamma32(float x) {\n  return tgamma(x);\n}\n\nstatic inline float futrts_lgamma32(float x) {\n  return lgamma(x);\n}\n\nstatic inline float fmod32(float x, float y) {\n  return fmod(x, y);\n}\n\nstatic inline float futrts_round32(float x) {\n  return rint(x);\n}\n\nstatic inline float futrts_floor32(float x) {\n  return floor(x);\n}\n\nstatic inline float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nstatic inline float futrts_lerp32(float v0, float v1, float t) {\n  return mix(v0, v1, t);\n}\n\nstatic inline float futrts_mad32(float a, float b, float c) {\n  return mad(a, b, c);\n}\n\nstatic inline float futrts_fma32(float a, float b, float c) {\n  return fma(a, b, c);\n}\n\n#else // Not OpenCL, but CUDA or plain C.\n\nstatic inline float futrts_log32(float x) {\n  return logf(x);\n}\n\nstatic inline float futrts_log2_32(float x) {\n  return log2f(x);\n}\n\nstatic inline float futrts_log10_32(float x) {\n  return log10f(x);\n}\n\nstatic inline float futrts_sqrt32(float x) {\n  return sqrtf(x);\n}\n\nstatic inline float futrts_exp32(float x) {\n  return expf(x);\n}\n\nstatic inline float futrts_cos32(float x) {\n  return cosf(x);\n}\n\nstatic inline float futrts_sin32(float x) {\n  return sinf(x);\n}\n\nstatic inline float futrts_tan32(float x) {\n  return tanf(x);\n}\n\nstatic inline float futrts_acos32(float x) {\n  return acosf(x);\n}\n\nstatic inline float futrts_asin32(float x) {\n  return asinf(x);\n}\n\nstatic inline float futrts_atan32(float x) {\n  return atanf(x);\n}\n\nstatic inline float futrts_cosh32(float x) {\n  return coshf(x);\n}\n\nstatic inline float futrts_sinh32(float x) {\n  return sinhf(x);\n}\n\nstatic inline float futrts_tanh32(float x) {\n  return tanhf(x);\n}\n\nstatic inline float futrts_acosh32(float x) {\n  return acoshf(x);\n}\n\nstatic inline float futrts_asinh32(float x) {\n  return asinhf(x);\n}\n\nstatic inline float futrts_atanh32(float x) {\n  return atanhf(x);\n}\n\nstatic inline float futr",
                   "ts_atan2_32(float x, float y) {\n  return atan2f(x, y);\n}\n\nstatic inline float futrts_hypot32(float x, float y) {\n  return hypotf(x, y);\n}\n\nstatic inline float futrts_gamma32(float x) {\n  return tgammaf(x);\n}\n\nstatic inline float futrts_lgamma32(float x) {\n  return lgammaf(x);\n}\n\nstatic inline float fmod32(float x, float y) {\n  return fmodf(x, y);\n}\n\nstatic inline float futrts_round32(float x) {\n  return rintf(x);\n}\n\nstatic inline float futrts_floor32(float x) {\n  return floorf(x);\n}\n\nstatic inline float futrts_ceil32(float x) {\n  return ceilf(x);\n}\n\nstatic inline float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\nstatic inline float futrts_fma32(float a, float b, float c) {\n  return fmaf(a, b, c);\n}\n#endif\n\nstatic inline int32_t futrts_to_bits32(float x) {\n  union {\n    float f;\n    int32_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline float futrts_from_bits32(int32_t x) {\n  union {\n    int32_t f;\n    float t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline float fsignum32(float x) {\n  return futrts_isnan32(x) ? x : (x > 0) - (x < 0);\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nstatic inline double fdiv64(double x, double y) {\n  return x / y;\n}\n\nstatic inline double fadd64(double x, double y) {\n  return x + y;\n}\n\nstatic inline double fsub64(double x, double y) {\n  return x - y;\n}\n\nstatic inline double fmul64(double x, double y) {\n  return x * y;\n}\n\nstatic inline bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nstatic inline bool cmple64(double x, double y) {\n  return x <= y;\n}\n\nstatic inline double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nstatic inline dou",
                   "ble uitofp_i16_f64(uint16_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nstatic inline int8_t fptosi_f64_i8(double x) {\n  return (int8_t) x;\n}\n\nstatic inline int16_t fptosi_f64_i16(double x) {\n  return (int16_t) x;\n}\n\nstatic inline int32_t fptosi_f64_i32(double x) {\n  return (int32_t) x;\n}\n\nstatic inline int64_t fptosi_f64_i64(double x) {\n  return (int64_t) x;\n}\n\nstatic inline uint8_t fptoui_f64_i8(double x) {\n  return (uint8_t) x;\n}\n\nstatic inline uint16_t fptoui_f64_i16(double x) {\n  return (uint16_t) x;\n}\n\nstatic inline uint32_t fptoui_f64_i32(double x) {\n  return (uint32_t) x;\n}\n\nstatic inline uint64_t fptoui_f64_i64(double x) {\n  return (uint64_t) x;\n}\n\nstatic inline double fabs64(double x) {\n  return fabs(x);\n}\n\nstatic inline double fmax64(double x, double y) {\n  return fmax(x, y);\n}\n\nstatic inline double fmin64(double x, double y) {\n  return fmin(x, y);\n}\n\nstatic inline double fpow64(double x, double y) {\n  return pow(x, y);\n}\n\nstatic inline double futrts_log64(double x) {\n  return log(x);\n}\n\nstatic inline double futrts_log2_64(double x) {\n  return log2(x);\n}\n\nstatic inline double futrts_log10_64(double x) {\n  return log10(x);\n}\n\nstatic inline double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nstatic inline double futrts_exp64(double x) {\n  return exp(x);\n}\n\nstatic inline double futrts_cos64(double x) {\n  return cos(x);\n}\n\nstatic inline double futrts_sin64(double x) {\n  return sin(x);\n}\n\nstatic inline double futrts_tan64(double x) {\n  return tan(x);\n}\n\nstatic inline double futrts_acos64(double x) {\n  return acos(x);\n}\n\nstatic inline double futrts_asin64(double x) {\n  return asin(x);\n}\n\nstatic inline double futrts_atan64(double x) {\n  return atan(x);\n}\n\nstatic inline double futrts_cosh64(double x) {\n  return cosh(x);\n}\n\nstatic inline double futrts_sinh64(double x) {\n  return sinh(x);\n}\n\nstatic inline double futrts_tanh64(double",
                   " x) {\n  return tanh(x);\n}\n\nstatic inline double futrts_acosh64(double x) {\n  return acosh(x);\n}\n\nstatic inline double futrts_asinh64(double x) {\n  return asinh(x);\n}\n\nstatic inline double futrts_atanh64(double x) {\n  return atanh(x);\n}\n\nstatic inline double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nstatic inline double futrts_hypot64(double x, double y) {\n  return hypot(x, y);\n}\n\nstatic inline double futrts_gamma64(double x) {\n  return tgamma(x);\n}\n\nstatic inline double futrts_lgamma64(double x) {\n  return lgamma(x);\n}\n\nstatic inline double futrts_fma64(double a, double b, double c) {\n  return fma(a, b, c);\n}\n\nstatic inline double futrts_round64(double x) {\n  return rint(x);\n}\n\nstatic inline double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nstatic inline double futrts_floor64(double x) {\n  return floor(x);\n}\n\nstatic inline bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nstatic inline bool futrts_isinf64(double x) {\n  return isinf(x);\n}\n\nstatic inline int64_t futrts_to_bits64(double x) {\n  union {\n    double f;\n    int64_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline double futrts_from_bits64(int64_t x) {\n  union {\n    int64_t f;\n    double t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline double fmod64(double x, double y) {\n  return fmod(x, y);\n}\n\nstatic inline double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);\n}\n\nstatic inline double futrts_lerp64(double v0, double v1, double t) {\n#ifdef __OPENCL_VERSION__\n  return mix(v0, v1, t);\n#else\n  return v0 + (v1 - v0) * t;\n#endif\n}\n\nstatic inline double futrts_mad64(double a, double b, double c) {\n#ifdef __OPENCL_VERSION__\n  return mad(a, b, c);\n#else\n  return a * b + c;\n#endif\n}\n\nstatic inline float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nstatic inline float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f64_f64(double x) {\n  return (double) ",
                   "x;\n}\n\n#endif\n\n// End of scalar.h.\n// Start of scalar_f16.h.\n\n// Half-precision is emulated if needed (e.g. in straight C) with the\n// native type used if possible.  The emulation works by typedef'ing\n// 'float' to 'f16', and then implementing all operations on single\n// precision.  To cut down on duplication, we use the same code for\n// those Futhark functions that require just operators or casts.  The\n// in-memory representation for arrays will still be 16 bits even\n// under emulation, so the compiler will have to be careful when\n// generating reads or writes.\n\n#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600)\n#define EMULATE_F16\n#endif\n\n#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)\n#pragma OPENCL EXTENSION cl_khr_fp16 : enable\n#endif\n\n#ifdef EMULATE_F16\n\n// Note that the half-precision storage format is still 16 bits - the\n// compiler will have to be real careful!\ntypedef float f16;\n\n#else\n\n#ifdef __CUDA_ARCH__\n#include <cuda_fp16.h>\n#endif\n\ntypedef half f16;\n\n#endif\n\n// Some of these functions convert to single precision because half\n// precision versions are not available.\n\nstatic inline f16 fadd16(f16 x, f16 y) {\n  return x + y;\n}\n\nstatic inline f16 fsub16(f16 x, f16 y) {\n  return x - y;\n}\n\nstatic inline f16 fmul16(f16 x, f16 y) {\n  return x * y;\n}\n\nstatic inline bool cmplt16(f16 x, f16 y) {\n  return x < y;\n}\n\nstatic inline bool cmple16(f16 x, f16 y) {\n  return x <= y;\n}\n\nstatic inline f16 sitofp_i8_f16(int8_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i16_f16(int16_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i32_f16(int32_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i64_f16(int64_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i8_f16(uint8_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i16_f16(uint16_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i32_f16(uint32_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i64_f16(uint64_t x) {\n  return (f16) x;\n}\n\nstatic inline int8_t fpt",
                   "osi_f16_i8(f16 x) {\n  return (int8_t) (float) x;\n}\n\nstatic inline int16_t fptosi_f16_i16(f16 x) {\n  return (int16_t) x;\n}\n\nstatic inline int32_t fptosi_f16_i32(f16 x) {\n  return (int32_t) x;\n}\n\nstatic inline int64_t fptosi_f16_i64(f16 x) {\n  return (int64_t) x;\n}\n\nstatic inline uint8_t fptoui_f16_i8(f16 x) {\n  return (uint8_t) (float) x;\n}\n\nstatic inline uint16_t fptoui_f16_i16(f16 x) {\n  return (uint16_t) x;\n}\n\nstatic inline uint32_t fptoui_f16_i32(f16 x) {\n  return (uint32_t) x;\n}\n\nstatic inline uint64_t fptoui_f16_i64(f16 x) {\n  return (uint64_t) x;\n}\n\n#ifndef EMULATE_F16\n\n#ifdef __OPENCL_VERSION__\nstatic inline f16 fabs16(f16 x) {\n  return fabs(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmax(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fmin(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n\n#else // Assuming CUDA.\n\nstatic inline f16 fabs16(f16 x) {\n  return fabsf(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmaxf(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fminf(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return powf(x, y);\n}\n#endif\n\nstatic inline bool futrts_isnan16(f16 x) {\n  return isnan((float)x);\n}\n\nstatic inline bool futrts_isinf16(f16 x) {\n  return isinf((float)x);\n}\n\n#ifdef __OPENCL_VERSION__\nstatic inline f16 futrts_log16(f16 x) {\n  return log(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return log2(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return log10(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return sqrt(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return cos(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return sin(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return tan(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return acos(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return asin(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return atan(x);\n}\n\nstatic inli",
                   "ne f16 futrts_cosh16(f16 x) {\n  return cosh(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return sinh(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return tanh(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return acosh(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return asinh(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  return atanh(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return hypot(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return tgamma(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return lgamma(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmod(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return rint(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return floor(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return ceil(x);\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return mix(v0, v1, t);\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return mad(a, b, c);\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fma(a, b, c);\n}\n\n#else // Assume CUDA.\n\nstatic inline f16 futrts_log16(f16 x) {\n  return hlog(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return hlog2(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return hlog10(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return hsqrt(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return hexp(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return hcos(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return hsin(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return tanf(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return acosf(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return asinf(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return atanf(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return coshf(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return sinhf(x);\n}\n\nstatic inline f16 ",
                   "futrts_tanh16(f16 x) {\n  return tanhf(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return acoshf(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return asinhf(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  return atanhf(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2f(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return hypotf(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return tgammaf(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return lgammaf(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmodf(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return rintf(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return hfloor(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return hceil(x);\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fmaf(a, b, c);\n}\n\n#endif\n\n// The CUDA __half type cannot be put in unions for some reason, so we\n// use bespoke conversion functions instead.\n#ifdef __CUDA_ARCH__\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  return __half_as_ushort(x);\n}\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return __ushort_as_half(x);\n}\n#else\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  union {\n    f16 f;\n    int16_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  union {\n    int16_t f;\n    f16 t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\n#else // No native f16 - emulate.\n\nstatic inline f16 fabs16(f16 x) {\n  return fabs32(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmax32(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fmin32(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return fpow32(x, y);\n}\n\nstatic inline bool futrts_isnan16(f16 x) {\n  return futrts_isnan32(x);\n}\n\nstatic inline bool futrts_isinf16(f16 x) {",
                   "\n  return futrts_isinf32(x);\n}\n\nstatic inline f16 futrts_log16(f16 x) {\n  return futrts_log32(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return futrts_log2_32(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return futrts_log10_32(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return futrts_sqrt32(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return futrts_exp32(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return futrts_cos32(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return futrts_sin32(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return futrts_tan32(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return futrts_acos32(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return futrts_asin32(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return futrts_atan32(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return futrts_cosh32(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return futrts_sinh32(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return futrts_tanh32(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return futrts_acosh32(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return futrts_asinh32(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  return futrts_atanh32(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return futrts_atan2_32(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return futrts_hypot32(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return futrts_gamma32(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return futrts_lgamma32(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmod32(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return futrts_round32(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return futrts_floor32(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return futrts_ceil32(x);\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return futrts_lerp32(v0, v1, t);\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return f",
                   "utrts_mad32(a, b, c);\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return futrts_fma32(a, b, c);\n}\n\n// Even when we are using an OpenCL that does not support cl_khr_fp16,\n// it must still support vload_half for actually creating a\n// half-precision number, which can then be efficiently converted to a\n// float.  Similarly for vstore_half.\n#ifdef __OPENCL_VERSION__\n\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  int16_t y;\n  // Violating strict aliasing here.\n  vstore_half((float)x, 0, (half*)&y);\n  return y;\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return (f16)vload_half(0, (half*)&x);\n}\n\n#else\n\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  return (int16_t)float2halfbits(x);\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return halfbits2float((uint16_t)x);\n}\n\nstatic inline f16 fsignum16(f16 x) {\n  return futrts_isnan16(x) ? x : (x > 0) - (x < 0);\n}\n\n#endif\n\n#endif\n\nstatic inline float fpconv_f16_f16(f16 x) {\n  return x;\n}\n\nstatic inline float fpconv_f16_f32(f16 x) {\n  return x;\n}\n\nstatic inline f16 fpconv_f32_f16(float x) {\n  return x;\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nstatic inline double fpconv_f16_f64(f16 x) {\n  return (double) x;\n}\n\nstatic inline f16 fpconv_f64_f16(double x) {\n  return (f16) x;\n}\n\n#endif\n\n\n// End of scalar_f16.h.\n// Start of atomics.h\n\ninline int32_t atomic_xchg_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_xchg_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_cmpxchg_i32_global(volatile __global int32_t *p,\n                                         int32_t cmp, int32_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int32_t atomic_cmpxchg_i32_local(volatile __local int32_t *p",
                   ",\n                                        int32_t cmp, int32_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int32_t atomic_add_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((int32_t*)p, x);\n#else\n  return atomic_add(p, x);\n#endif\n}\n\ninline int32_t atomic_add_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((int32_t*)p, x);\n#else\n  return atomic_add(p, x);\n#endif\n}\n\ninline float atomic_fadd_f32_global(volatile __global float *p, float x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((float*)p, x);\n#else\n  union { int32_t i; float f; } old;\n  union { int32_t i; float f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i32_global((volatile __global int32_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline float atomic_fadd_f32_local(volatile __local float *p, float x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((float*)p, x);\n#else\n  union { int32_t i; float f; } old;\n  union { int32_t i; float f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i32_local((volatile __local int32_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline int32_t atomic_smax_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline int32_t atomic_smax_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline int32_t atomic_smin_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline int32_t atomic_smin_i32_local(volatile __local int32_t *p, int32",
                   "_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline uint32_t atomic_umax_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline uint32_t atomic_umax_i32_local(volatile __local uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline uint32_t atomic_umin_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline uint32_t atomic_umin_i32_local(volatile __local uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline int32_t atomic_and_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\ninline int32_t atomic_and_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\ninline int32_t atomic_or_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\ninline int32_t atomic_or_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\ninline int32_t atomic_xor_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_xor_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\n// Start of 64 bit atomics\n\ninline int64_t atomic_xchg_i64_global(volatile __global int64_t *p, int",
                   "64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_xchg_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_cmpxchg_i64_global(volatile __global int64_t *p,\n                                         int64_t cmp, int64_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int64_t atomic_cmpxchg_i64_local(volatile __local int64_t *p,\n                                        int64_t cmp, int64_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int64_t atomic_add_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\ninline int64_t atomic_add_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\ninline double atomic_fadd_f64_global(volatile __global double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600\n  return atomicAdd((double*)p, x);\n#else\n  union { int64_t i; double f; } old;\n  union { int64_t i; double f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i64_global((volatile __global int64_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline double atomic_fadd_f64_local(volatile __local double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600\n  return atomicAdd((double*)p, x);\n#else\n  union { int64_t i; double f; } old;\n  union { int64_t i; double f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i64_local((volatile",
                   " __local int64_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\n#endif\n\ninline int64_t atomic_smax_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline int64_t atomic_smax_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline int64_t atomic_smin_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline int64_t atomic_smin_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline uint64_t atomic_umax_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline uint64_t atomic_umax_i64_local(volatile __local uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline uint64_t atomic_umin_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline uint64_t atomic_umin_i64_local(volatile __local uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline int64_t atomic_and_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\ninline int64_t atomic_and_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\ninline int64_t atomic_or_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return at",
                   "omicOr((int64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\ninline int64_t atomic_or_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\ninline int64_t atomic_xor_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_xor_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\n// End of atomics.h\n\n\n\n__kernel void builtinzhreplicate_f64zireplicate_105329(int32_t num_elems_105326,\n                                                       double val_105327,\n                                                       __global\n                                                       unsigned char *mem_105325)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    int32_t replicate_gtid_105329;\n    int32_t replicate_ltid_105330;\n    int32_t replicate_gid_105331;\n    \n    replicate_gtid_105329 = get_global_id(0);\n    replicate_ltid_105330 = get_local_id(0);\n    replicate_gid_105331 = get_group_id(0);\n    \n    int64_t slice_105335 = num_elems_105326;\n    int64_t rep_i_105334 = sext_i32_i64(replicate_gtid_105329);\n    int64_t remnant_105336 = sext_i32_i64(replicate_gtid_105329) - rep_i_105334;\n    \n    if (slt64(replicate_gtid_105329, num_elems_105326)) {\n        ((__global double *) mem_105325)[rep_i_105334] = val_105327;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void builtinzhreplicate_i64zireplicate_105407(int32_t num_elems_105404,\n                                                       int64_t val_105405,\n                                                       __global\n                                                       unsigned char *mem_105403)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 ",
                   "= 2;\n    int32_t replicate_gtid_105407;\n    int32_t replicate_ltid_105408;\n    int32_t replicate_gid_105409;\n    \n    replicate_gtid_105407 = get_global_id(0);\n    replicate_ltid_105408 = get_local_id(0);\n    replicate_gid_105409 = get_group_id(0);\n    \n    int64_t slice_105413 = num_elems_105404;\n    int64_t rep_i_105412 = sext_i32_i64(replicate_gtid_105407);\n    int64_t remnant_105414 = sext_i32_i64(replicate_gtid_105407) - rep_i_105412;\n    \n    if (slt64(replicate_gtid_105407, num_elems_105404)) {\n        ((__global int64_t *) mem_105403)[rep_i_105412] = val_105405;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void mainziscan_stage1_100305(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *scan_arr_mem_106514_backing_aligned_0,\n                                       int64_t m_92398, int64_t n_92399,\n                                       int32_t num_threads_106508, __global\n                                       unsigned char *Y_mem_104293, __global\n                                       unsigned char *mem_104883)\n{\n    #define segscan_group_sizze_100299 (mainzisegscan_group_sizze_100279)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_106514_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_106514_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106509;\n    int32_t local_tid_106510;\n    int64_t group_sizze_106513;\n    int32_t wave_sizze_106512;\n    int32_t group_tid_106511;\n    \n    global_tid_106509 = get_global_id(0);\n    local_tid_106510 = get_local_id(0);\n    group_sizze_106513 = get_local_size(0);\n    wave_sizze_106512 = LOCKSTEP_WIDTH;\n    group_tid_106511 = get_group_id(0);\n    \n    int32_t phys_tid_100305 = global_tid_106509;\n    __local uns",
                   "igned char *scan_arr_mem_106514;\n    \n    scan_arr_mem_106514 = (__local\n                           unsigned char *) scan_arr_mem_106514_backing_0;\n    \n    int64_t x_100306;\n    int64_t x_100307;\n    \n    x_100306 = (int64_t) 0;\n    for (int64_t j_106516 = 0; j_106516 < sdiv_up64(m_92398 * n_92399,\n                                                    sext_i32_i64(num_threads_106508));\n         j_106516++) {\n        int64_t chunk_offset_106517 = segscan_group_sizze_100299 * j_106516 +\n                sext_i32_i64(group_tid_106511) * (segscan_group_sizze_100299 *\n                                                  sdiv_up64(m_92398 * n_92399,\n                                                            sext_i32_i64(num_threads_106508)));\n        int64_t flat_idx_106518 = chunk_offset_106517 +\n                sext_i32_i64(local_tid_106510);\n        int64_t gtid_100303 = squot64(flat_idx_106518, n_92399);\n        int64_t gtid_100304 = flat_idx_106518 - squot64(flat_idx_106518,\n                                                        n_92399) * n_92399;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_100303, m_92398) && slt64(gtid_100304, n_92399)) {\n                double x_100310;\n                \n                x_100310 = ((__global double *) Y_mem_104293)[gtid_100303 *\n                                                              n_92399 +\n                                                              gtid_100304];\n                \n                bool isnan_res_100311;\n                \n                isnan_res_100311 = futrts_isnan64(x_100310);\n                \n                bool defunc_0_p_res_100312 = !isnan_res_100311;\n                int64_t defunc_0_f_res_100313 =\n                        btoi_bool_i64(defunc_0_p_res_100312);\n                \n                // write to-scan values to parameters\n                {\n                    x_100307 = defunc_0_f_res_100313;\n                }\n                // write mapped values res",
                   "ults to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_100303, m_92398) && slt64(gtid_100304,\n                                                           n_92399))) {\n                    x_100307 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_100308 = add64(x_100306, x_100307);\n                \n                ((__local\n                  int64_t *) scan_arr_mem_106514)[sext_i32_i64(local_tid_106510)] =\n                    defunc_1_op_res_100308;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_106519;\n            int64_t x_106520;\n            int64_t x_106522;\n            int64_t x_106523;\n            bool ltid_in_bounds_106525 = slt64(sext_i32_i64(local_tid_106510),\n                                               segscan_group_sizze_100299);\n            int32_t skip_threads_106526;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_106525) {\n                    x_106520 = ((volatile __local\n                                 int64_t *) scan_arr_mem_106514)[sext_i32_i64(local_tid_106510)];\n                    if ((local_tid_106510 - squot32(local_tid_106510, 32) *\n                         32) == 0) {\n                        x_106519 = x_106520;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_106526 = 1;\n                while (slt32(skip_threads_106526, 32)) {\n                    bool thread_active_106527 = sle32(skip_threads_106526,\n                                                      local_tid_106510 -\n                                                      squot32(l",
                   "ocal_tid_106510,\n                                                              32) * 32) &&\n                         ltid_in_bounds_106525;\n                    \n                    if (thread_active_106527) {\n                        // read operands\n                        {\n                            x_106519 = ((volatile __local\n                                         int64_t *) scan_arr_mem_106514)[sext_i32_i64(local_tid_106510) -\n                                                                         sext_i32_i64(skip_threads_106526)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_106528 =\n                             slt64(srem64(sext_i32_i64(local_tid_106510) +\n                                          chunk_offset_106517, n_92399),\n                                   sext_i32_i64(local_tid_106510) +\n                                   chunk_offset_106517 -\n                                   (sext_i32_i64(local_tid_106510 -\n                                    skip_threads_106526) +\n                                    chunk_offset_106517));\n                        \n                        if (thread_active_106527 && inactive_106528) {\n                            x_106519 = x_106520;\n                        }\n                        if (thread_active_106527) {\n                            if (!inactive_106528) {\n                                int64_t defunc_1_op_res_106521 = add64(x_106519,\n                                                                       x_106520);\n                                \n                                x_106519 = defunc_1_op_res_106521;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_106512, skip_threads_106526)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_106527) {\n                     ",
                   "   // write result\n                        {\n                            ((volatile __local\n                              int64_t *) scan_arr_mem_106514)[sext_i32_i64(local_tid_106510)] =\n                                x_106519;\n                            x_106520 = x_106519;\n                        }\n                    }\n                    if (sle32(wave_sizze_106512, skip_threads_106526)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_106526 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_106510 - squot32(local_tid_106510, 32) * 32) ==\n                    31 && ltid_in_bounds_106525) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_106514)[sext_i32_i64(squot32(local_tid_106510,\n                                                                           32))] =\n                        x_106519;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_106529;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_106510, 32) == 0 &&\n                        ltid_in_bounds_106525) {\n                        x_106523 = ((volatile __local\n                                     int64_t *) scan_arr_mem_106514)[sext_i32_i64(local_tid_106510)];\n                        if ((local_tid_106510 - squot32(local_tid_106510, 32) *\n                             32) == 0) {\n                            x_106522 = x_106523;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_106529 = 1;",
                   "\n                    while (slt32(skip_threads_106529, 32)) {\n                        bool thread_active_106530 = sle32(skip_threads_106529,\n                                                          local_tid_106510 -\n                                                          squot32(local_tid_106510,\n                                                                  32) * 32) &&\n                             (squot32(local_tid_106510, 32) == 0 &&\n                              ltid_in_bounds_106525);\n                        \n                        if (thread_active_106530) {\n                            // read operands\n                            {\n                                x_106522 = ((volatile __local\n                                             int64_t *) scan_arr_mem_106514)[sext_i32_i64(local_tid_106510) -\n                                                                             sext_i32_i64(skip_threads_106529)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_106531 =\n                                 slt64(srem64(sext_i32_i64(local_tid_106510 *\n                                              32 + 32 - 1) +\n                                              chunk_offset_106517, n_92399),\n                                       sext_i32_i64(local_tid_106510 * 32 + 32 -\n                                       1) + chunk_offset_106517 -\n                                       (sext_i32_i64((local_tid_106510 -\n                                                      skip_threads_106529) *\n                                        32 + 32 - 1) + chunk_offset_106517));\n                            \n                            if (thread_active_106530 && inactive_106531) {\n                                x_106522 = x_106523;\n                            }\n                            if (thread_active_106530) {\n                                if (!inactive_10",
                   "6531) {\n                                    int64_t defunc_1_op_res_106524 =\n                                            add64(x_106522, x_106523);\n                                    \n                                    x_106522 = defunc_1_op_res_106524;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_106512, skip_threads_106529)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_106530) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem_106514)[sext_i32_i64(local_tid_106510)] =\n                                    x_106522;\n                                x_106523 = x_106522;\n                            }\n                        }\n                        if (sle32(wave_sizze_106512, skip_threads_106529)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_106529 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_106532 = squot32(local_tid_106510, 32) == 0 ||\n                 !ltid_in_bounds_106525;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_106532) {\n                        x_106520 = x_106519;\n                        x_106519 = ((__local\n                                     int64_t *) scan_arr_mem_106514)[sext_i32_i64(squot32(local_tid_106510,\n                                                                                          32)) -\n                                                                     (int64_t) 1];\n                    }\n                }\n                // perfo",
                   "rm operation\n                {\n                    bool inactive_106533 =\n                         slt64(srem64(sext_i32_i64(local_tid_106510) +\n                                      chunk_offset_106517, n_92399),\n                               sext_i32_i64(local_tid_106510) +\n                               chunk_offset_106517 -\n                               (sext_i32_i64(squot32(local_tid_106510, 32) *\n                                32 - 1) + chunk_offset_106517));\n                    \n                    if (!no_carry_in_106532) {\n                        if (inactive_106533) {\n                            x_106519 = x_106520;\n                        }\n                    }\n                    if (!no_carry_in_106532) {\n                        if (!inactive_106533) {\n                            int64_t defunc_1_op_res_106521 = add64(x_106519,\n                                                                   x_106520);\n                            \n                            x_106519 = defunc_1_op_res_106521;\n                        }\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_106532) {\n                        ((__local\n                          int64_t *) scan_arr_mem_106514)[sext_i32_i64(local_tid_106510)] =\n                            x_106519;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_106510, 32) == 0 &&\n                    ltid_in_bounds_106525) {\n                    ((__local\n                      int64_t *) scan_arr_mem_106514)[sext_i32_i64(local_tid_106510)] =\n                        x_106520;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_100303, m_92398) && slt64(gtid_100304,\n    ",
                   "                                                     n_92399)) {\n                    int64_t tmp_106534;\n                    \n                    tmp_106534 = ((__local\n                                   int64_t *) scan_arr_mem_106514)[sext_i32_i64(local_tid_106510)];\n                    ((__global int64_t *) mem_104883)[gtid_100303 * n_92399 +\n                                                      gtid_100304] = tmp_106534;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_106535 = slt64(srem64(chunk_offset_106517 +\n                                                           segscan_group_sizze_100299,\n                                                           n_92399),\n                                                    chunk_offset_106517 +\n                                                    segscan_group_sizze_100299 -\n                                                    (chunk_offset_106517 +\n                                                     segscan_group_sizze_100299 -\n                                                     (int64_t) 1));\n                bool should_load_carry_106536 = local_tid_106510 == 0 &&\n                     !crosses_segment_106535;\n                \n                if (should_load_carry_106536) {\n                    x_100306 = ((__local\n                                 int64_t *) scan_arr_mem_106514)[segscan_group_sizze_100299 -\n                                                                 (int64_t) 1];\n                }\n                if (!should_load_carry_106536) {\n                    x_100306 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_100299\n}\n__kernel void mainziscan_stage1_101462(__global int *global_failure,\n                                       __local volati",
                   "le\n                                       int64_t *scan_arr_mem_106833_backing_aligned_0,\n                                       int64_t m_92398, int64_t n_92399,\n                                       int32_t num_threads_106827, __global\n                                       unsigned char *Y_mem_104293, __global\n                                       unsigned char *mem_104968)\n{\n    #define segscan_group_sizze_101456 (mainzisegscan_group_sizze_101436)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_106833_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_106833_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106828;\n    int32_t local_tid_106829;\n    int64_t group_sizze_106832;\n    int32_t wave_sizze_106831;\n    int32_t group_tid_106830;\n    \n    global_tid_106828 = get_global_id(0);\n    local_tid_106829 = get_local_id(0);\n    group_sizze_106832 = get_local_size(0);\n    wave_sizze_106831 = LOCKSTEP_WIDTH;\n    group_tid_106830 = get_group_id(0);\n    \n    int32_t phys_tid_101462 = global_tid_106828;\n    __local unsigned char *scan_arr_mem_106833;\n    \n    scan_arr_mem_106833 = (__local\n                           unsigned char *) scan_arr_mem_106833_backing_0;\n    \n    int64_t x_101463;\n    int64_t x_101464;\n    \n    x_101463 = (int64_t) 0;\n    for (int64_t j_106835 = 0; j_106835 < sdiv_up64(m_92398 * n_92399,\n                                                    sext_i32_i64(num_threads_106827));\n         j_106835++) {\n        int64_t chunk_offset_106836 = segscan_group_sizze_101456 * j_106835 +\n                sext_i32_i64(group_tid_106830) * (segscan_group_sizze_101456 *\n                                                  sdiv_up64(m_92398 * n_92399,\n                                                            sext_i32_i64(num_threads_106",
                   "827)));\n        int64_t flat_idx_106837 = chunk_offset_106836 +\n                sext_i32_i64(local_tid_106829);\n        int64_t gtid_101460 = squot64(flat_idx_106837, n_92399);\n        int64_t gtid_101461 = flat_idx_106837 - squot64(flat_idx_106837,\n                                                        n_92399) * n_92399;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_101460, m_92398) && slt64(gtid_101461, n_92399)) {\n                double x_101467;\n                \n                x_101467 = ((__global double *) Y_mem_104293)[gtid_101460 *\n                                                              n_92399 +\n                                                              gtid_101461];\n                \n                bool isnan_res_101468;\n                \n                isnan_res_101468 = futrts_isnan64(x_101467);\n                \n                bool defunc_0_p_res_101469 = !isnan_res_101468;\n                int64_t defunc_0_f_res_101470 =\n                        btoi_bool_i64(defunc_0_p_res_101469);\n                \n                // write to-scan values to parameters\n                {\n                    x_101464 = defunc_0_f_res_101470;\n                }\n                // write mapped values results to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_101460, m_92398) && slt64(gtid_101461,\n                                                           n_92399))) {\n                    x_101464 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_101465 = add64(x_101463, x_101464);\n                \n                ((__local\n                  int64_t *) scan_arr_mem_106833)[sext_i32_i64(local_tid_106829)] =\n                    def",
                   "unc_1_op_res_101465;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_106838;\n            int64_t x_106839;\n            int64_t x_106841;\n            int64_t x_106842;\n            bool ltid_in_bounds_106844 = slt64(sext_i32_i64(local_tid_106829),\n                                               segscan_group_sizze_101456);\n            int32_t skip_threads_106845;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_106844) {\n                    x_106839 = ((volatile __local\n                                 int64_t *) scan_arr_mem_106833)[sext_i32_i64(local_tid_106829)];\n                    if ((local_tid_106829 - squot32(local_tid_106829, 32) *\n                         32) == 0) {\n                        x_106838 = x_106839;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_106845 = 1;\n                while (slt32(skip_threads_106845, 32)) {\n                    bool thread_active_106846 = sle32(skip_threads_106845,\n                                                      local_tid_106829 -\n                                                      squot32(local_tid_106829,\n                                                              32) * 32) &&\n                         ltid_in_bounds_106844;\n                    \n                    if (thread_active_106846) {\n                        // read operands\n                        {\n                            x_106838 = ((volatile __local\n                                         int64_t *) scan_arr_mem_106833)[sext_i32_i64(local_tid_106829) -\n                                                                         sext_i32_i64(skip_threads_106845)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_106847 =\n                            ",
                   " slt64(srem64(sext_i32_i64(local_tid_106829) +\n                                          chunk_offset_106836, n_92399),\n                                   sext_i32_i64(local_tid_106829) +\n                                   chunk_offset_106836 -\n                                   (sext_i32_i64(local_tid_106829 -\n                                    skip_threads_106845) +\n                                    chunk_offset_106836));\n                        \n                        if (thread_active_106846 && inactive_106847) {\n                            x_106838 = x_106839;\n                        }\n                        if (thread_active_106846) {\n                            if (!inactive_106847) {\n                                int64_t defunc_1_op_res_106840 = add64(x_106838,\n                                                                       x_106839);\n                                \n                                x_106838 = defunc_1_op_res_106840;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_106831, skip_threads_106845)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_106846) {\n                        // write result\n                        {\n                            ((volatile __local\n                              int64_t *) scan_arr_mem_106833)[sext_i32_i64(local_tid_106829)] =\n                                x_106838;\n                            x_106839 = x_106838;\n                        }\n                    }\n                    if (sle32(wave_sizze_106831, skip_threads_106845)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_106845 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_106829 - squot32(local",
                   "_tid_106829, 32) * 32) ==\n                    31 && ltid_in_bounds_106844) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_106833)[sext_i32_i64(squot32(local_tid_106829,\n                                                                           32))] =\n                        x_106838;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_106848;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_106829, 32) == 0 &&\n                        ltid_in_bounds_106844) {\n                        x_106842 = ((volatile __local\n                                     int64_t *) scan_arr_mem_106833)[sext_i32_i64(local_tid_106829)];\n                        if ((local_tid_106829 - squot32(local_tid_106829, 32) *\n                             32) == 0) {\n                            x_106841 = x_106842;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_106848 = 1;\n                    while (slt32(skip_threads_106848, 32)) {\n                        bool thread_active_106849 = sle32(skip_threads_106848,\n                                                          local_tid_106829 -\n                                                          squot32(local_tid_106829,\n                                                                  32) * 32) &&\n                             (squot32(local_tid_106829, 32) == 0 &&\n                              ltid_in_bounds_106844);\n                        \n                        if (thread_active_106849) {\n                            // read operands\n                            {\n                                x_106841 = ((volatile __local\n                  ",
                   "                           int64_t *) scan_arr_mem_106833)[sext_i32_i64(local_tid_106829) -\n                                                                             sext_i32_i64(skip_threads_106848)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_106850 =\n                                 slt64(srem64(sext_i32_i64(local_tid_106829 *\n                                              32 + 32 - 1) +\n                                              chunk_offset_106836, n_92399),\n                                       sext_i32_i64(local_tid_106829 * 32 + 32 -\n                                       1) + chunk_offset_106836 -\n                                       (sext_i32_i64((local_tid_106829 -\n                                                      skip_threads_106848) *\n                                        32 + 32 - 1) + chunk_offset_106836));\n                            \n                            if (thread_active_106849 && inactive_106850) {\n                                x_106841 = x_106842;\n                            }\n                            if (thread_active_106849) {\n                                if (!inactive_106850) {\n                                    int64_t defunc_1_op_res_106843 =\n                                            add64(x_106841, x_106842);\n                                    \n                                    x_106841 = defunc_1_op_res_106843;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_106831, skip_threads_106848)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_106849) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_a",
                   "rr_mem_106833)[sext_i32_i64(local_tid_106829)] =\n                                    x_106841;\n                                x_106842 = x_106841;\n                            }\n                        }\n                        if (sle32(wave_sizze_106831, skip_threads_106848)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_106848 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_106851 = squot32(local_tid_106829, 32) == 0 ||\n                 !ltid_in_bounds_106844;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_106851) {\n                        x_106839 = x_106838;\n                        x_106838 = ((__local\n                                     int64_t *) scan_arr_mem_106833)[sext_i32_i64(squot32(local_tid_106829,\n                                                                                          32)) -\n                                                                     (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_106852 =\n                         slt64(srem64(sext_i32_i64(local_tid_106829) +\n                                      chunk_offset_106836, n_92399),\n                               sext_i32_i64(local_tid_106829) +\n                               chunk_offset_106836 -\n                               (sext_i32_i64(squot32(local_tid_106829, 32) *\n                                32 - 1) + chunk_offset_106836));\n                    \n                    if (!no_carry_in_106851) {\n                        if (inactive_106852) {\n                            x_106838 = x_106839;\n                        }\n                    }\n                    if (!no_carry_in_106851) {\n   ",
                   "                     if (!inactive_106852) {\n                            int64_t defunc_1_op_res_106840 = add64(x_106838,\n                                                                   x_106839);\n                            \n                            x_106838 = defunc_1_op_res_106840;\n                        }\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_106851) {\n                        ((__local\n                          int64_t *) scan_arr_mem_106833)[sext_i32_i64(local_tid_106829)] =\n                            x_106838;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_106829, 32) == 0 &&\n                    ltid_in_bounds_106844) {\n                    ((__local\n                      int64_t *) scan_arr_mem_106833)[sext_i32_i64(local_tid_106829)] =\n                        x_106839;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_101460, m_92398) && slt64(gtid_101461,\n                                                         n_92399)) {\n                    int64_t tmp_106853;\n                    \n                    tmp_106853 = ((__local\n                                   int64_t *) scan_arr_mem_106833)[sext_i32_i64(local_tid_106829)];\n                    ((__global int64_t *) mem_104968)[gtid_101460 * n_92399 +\n                                                      gtid_101461] = tmp_106853;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_106854 = slt64(srem64(chunk_offset_106836 +\n                                                           s",
                   "egscan_group_sizze_101456,\n                                                           n_92399),\n                                                    chunk_offset_106836 +\n                                                    segscan_group_sizze_101456 -\n                                                    (chunk_offset_106836 +\n                                                     segscan_group_sizze_101456 -\n                                                     (int64_t) 1));\n                bool should_load_carry_106855 = local_tid_106829 == 0 &&\n                     !crosses_segment_106854;\n                \n                if (should_load_carry_106855) {\n                    x_101463 = ((__local\n                                 int64_t *) scan_arr_mem_106833)[segscan_group_sizze_101456 -\n                                                                 (int64_t) 1];\n                }\n                if (!should_load_carry_106855) {\n                    x_101463 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_101456\n}\n__kernel void mainziscan_stage1_94761(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_105346_backing_aligned_0,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int32_t num_threads_105340, __global\n                                      unsigned char *Y_mem_104293, __global\n                                      unsigned char *mem_104302)\n{\n    #define segscan_group_sizze_94755 (mainzisegscan_group_sizze_94735)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_105346_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr",
                   "_mem_105346_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105341;\n    int32_t local_tid_105342;\n    int64_t group_sizze_105345;\n    int32_t wave_sizze_105344;\n    int32_t group_tid_105343;\n    \n    global_tid_105341 = get_global_id(0);\n    local_tid_105342 = get_local_id(0);\n    group_sizze_105345 = get_local_size(0);\n    wave_sizze_105344 = LOCKSTEP_WIDTH;\n    group_tid_105343 = get_group_id(0);\n    \n    int32_t phys_tid_94761 = global_tid_105341;\n    __local unsigned char *scan_arr_mem_105346;\n    \n    scan_arr_mem_105346 = (__local\n                           unsigned char *) scan_arr_mem_105346_backing_0;\n    \n    int64_t x_94762;\n    int64_t x_94763;\n    \n    x_94762 = (int64_t) 0;\n    for (int64_t j_105348 = 0; j_105348 < sdiv_up64(m_92398 * n_92399,\n                                                    sext_i32_i64(num_threads_105340));\n         j_105348++) {\n        int64_t chunk_offset_105349 = segscan_group_sizze_94755 * j_105348 +\n                sext_i32_i64(group_tid_105343) * (segscan_group_sizze_94755 *\n                                                  sdiv_up64(m_92398 * n_92399,\n                                                            sext_i32_i64(num_threads_105340)));\n        int64_t flat_idx_105350 = chunk_offset_105349 +\n                sext_i32_i64(local_tid_105342);\n        int64_t gtid_94759 = squot64(flat_idx_105350, n_92399);\n        int64_t gtid_94760 = flat_idx_105350 - squot64(flat_idx_105350,\n                                                       n_92399) * n_92399;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_94759, m_92398) && slt64(gtid_94760, n_92399)) {\n                double x_94766;\n                \n                x_94766 = ((__global double *) Y_mem_104293)[gtid_94759 *\n                                                             n_92399 +\n                                                             gtid_94760];\n                \n       ",
                   "         bool isnan_res_94767;\n                \n                isnan_res_94767 = futrts_isnan64(x_94766);\n                \n                bool defunc_0_p_res_94768 = !isnan_res_94767;\n                int64_t defunc_0_f_res_94769 =\n                        btoi_bool_i64(defunc_0_p_res_94768);\n                \n                // write to-scan values to parameters\n                {\n                    x_94763 = defunc_0_f_res_94769;\n                }\n                // write mapped values results to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_94759, m_92398) && slt64(gtid_94760,\n                                                          n_92399))) {\n                    x_94763 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_94764 = add64(x_94762, x_94763);\n                \n                ((__local\n                  int64_t *) scan_arr_mem_105346)[sext_i32_i64(local_tid_105342)] =\n                    defunc_1_op_res_94764;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_105351;\n            int64_t x_105352;\n            int64_t x_105354;\n            int64_t x_105355;\n            bool ltid_in_bounds_105357 = slt64(sext_i32_i64(local_tid_105342),\n                                               segscan_group_sizze_94755);\n            int32_t skip_threads_105358;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_105357) {\n                    x_105352 = ((volatile __local\n                                 int64_t *) scan_arr_mem_105346)[sext_i32_i64(local_tid_105342)];\n                    if ((local_tid_105342 - squot32(local_tid_105342, 32) *\n                         32) == 0",
                   ") {\n                        x_105351 = x_105352;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_105358 = 1;\n                while (slt32(skip_threads_105358, 32)) {\n                    bool thread_active_105359 = sle32(skip_threads_105358,\n                                                      local_tid_105342 -\n                                                      squot32(local_tid_105342,\n                                                              32) * 32) &&\n                         ltid_in_bounds_105357;\n                    \n                    if (thread_active_105359) {\n                        // read operands\n                        {\n                            x_105351 = ((volatile __local\n                                         int64_t *) scan_arr_mem_105346)[sext_i32_i64(local_tid_105342) -\n                                                                         sext_i32_i64(skip_threads_105358)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_105360 =\n                             slt64(srem64(sext_i32_i64(local_tid_105342) +\n                                          chunk_offset_105349, n_92399),\n                                   sext_i32_i64(local_tid_105342) +\n                                   chunk_offset_105349 -\n                                   (sext_i32_i64(local_tid_105342 -\n                                    skip_threads_105358) +\n                                    chunk_offset_105349));\n                        \n                        if (thread_active_105359 && inactive_105360) {\n                            x_105351 = x_105352;\n                        }\n                        if (thread_active_105359) {\n                            if (!inactive_105360) {\n                                int64_t defunc_1_op_res_105353 = add64(x_",
                   "105351,\n                                                                       x_105352);\n                                \n                                x_105351 = defunc_1_op_res_105353;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_105344, skip_threads_105358)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_105359) {\n                        // write result\n                        {\n                            ((volatile __local\n                              int64_t *) scan_arr_mem_105346)[sext_i32_i64(local_tid_105342)] =\n                                x_105351;\n                            x_105352 = x_105351;\n                        }\n                    }\n                    if (sle32(wave_sizze_105344, skip_threads_105358)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_105358 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_105342 - squot32(local_tid_105342, 32) * 32) ==\n                    31 && ltid_in_bounds_105357) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_105346)[sext_i32_i64(squot32(local_tid_105342,\n                                                                           32))] =\n                        x_105351;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_105361;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_105342, 32) == 0 &&\n                        ltid_in_bounds_105357) {\n                        x_105355",
                   " = ((volatile __local\n                                     int64_t *) scan_arr_mem_105346)[sext_i32_i64(local_tid_105342)];\n                        if ((local_tid_105342 - squot32(local_tid_105342, 32) *\n                             32) == 0) {\n                            x_105354 = x_105355;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_105361 = 1;\n                    while (slt32(skip_threads_105361, 32)) {\n                        bool thread_active_105362 = sle32(skip_threads_105361,\n                                                          local_tid_105342 -\n                                                          squot32(local_tid_105342,\n                                                                  32) * 32) &&\n                             (squot32(local_tid_105342, 32) == 0 &&\n                              ltid_in_bounds_105357);\n                        \n                        if (thread_active_105362) {\n                            // read operands\n                            {\n                                x_105354 = ((volatile __local\n                                             int64_t *) scan_arr_mem_105346)[sext_i32_i64(local_tid_105342) -\n                                                                             sext_i32_i64(skip_threads_105361)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_105363 =\n                                 slt64(srem64(sext_i32_i64(local_tid_105342 *\n                                              32 + 32 - 1) +\n                                              chunk_offset_105349, n_92399),\n                                       sext_i32_i64(local_tid_105342 * 32 + 32 -\n                                       1) + chunk_offset_105349 -\n                                 ",
                   "      (sext_i32_i64((local_tid_105342 -\n                                                      skip_threads_105361) *\n                                        32 + 32 - 1) + chunk_offset_105349));\n                            \n                            if (thread_active_105362 && inactive_105363) {\n                                x_105354 = x_105355;\n                            }\n                            if (thread_active_105362) {\n                                if (!inactive_105363) {\n                                    int64_t defunc_1_op_res_105356 =\n                                            add64(x_105354, x_105355);\n                                    \n                                    x_105354 = defunc_1_op_res_105356;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_105344, skip_threads_105361)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_105362) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem_105346)[sext_i32_i64(local_tid_105342)] =\n                                    x_105354;\n                                x_105355 = x_105354;\n                            }\n                        }\n                        if (sle32(wave_sizze_105344, skip_threads_105361)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_105361 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_105364 = squot32(local_tid_105342, 32) == 0 ||\n                 !ltid_in_bounds_105357;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n   ",
                   "                 if (!no_carry_in_105364) {\n                        x_105352 = x_105351;\n                        x_105351 = ((__local\n                                     int64_t *) scan_arr_mem_105346)[sext_i32_i64(squot32(local_tid_105342,\n                                                                                          32)) -\n                                                                     (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_105365 =\n                         slt64(srem64(sext_i32_i64(local_tid_105342) +\n                                      chunk_offset_105349, n_92399),\n                               sext_i32_i64(local_tid_105342) +\n                               chunk_offset_105349 -\n                               (sext_i32_i64(squot32(local_tid_105342, 32) *\n                                32 - 1) + chunk_offset_105349));\n                    \n                    if (!no_carry_in_105364) {\n                        if (inactive_105365) {\n                            x_105351 = x_105352;\n                        }\n                    }\n                    if (!no_carry_in_105364) {\n                        if (!inactive_105365) {\n                            int64_t defunc_1_op_res_105353 = add64(x_105351,\n                                                                   x_105352);\n                            \n                            x_105351 = defunc_1_op_res_105353;\n                        }\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_105364) {\n                        ((__local\n                          int64_t *) scan_arr_mem_105346)[sext_i32_i64(local_tid_105342)] =\n                            x_105351;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n    ",
                   "        {\n                if (squot32(local_tid_105342, 32) == 0 &&\n                    ltid_in_bounds_105357) {\n                    ((__local\n                      int64_t *) scan_arr_mem_105346)[sext_i32_i64(local_tid_105342)] =\n                        x_105352;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_94759, m_92398) && slt64(gtid_94760, n_92399)) {\n                    int64_t tmp_105366;\n                    \n                    tmp_105366 = ((__local\n                                   int64_t *) scan_arr_mem_105346)[sext_i32_i64(local_tid_105342)];\n                    ((__global int64_t *) mem_104302)[gtid_94759 * n_92399 +\n                                                      gtid_94760] = tmp_105366;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_105367 = slt64(srem64(chunk_offset_105349 +\n                                                           segscan_group_sizze_94755,\n                                                           n_92399),\n                                                    chunk_offset_105349 +\n                                                    segscan_group_sizze_94755 -\n                                                    (chunk_offset_105349 +\n                                                     segscan_group_sizze_94755 -\n                                                     (int64_t) 1));\n                bool should_load_carry_105368 = local_tid_105342 == 0 &&\n                     !crosses_segment_105367;\n                \n                if (should_load_carry_105368) {\n                    x_94762 = ((__local\n                                int64_t *) scan_arr_mem_105346)[segscan_group_sizze_94755 -\n                                                   ",
                   "             (int64_t) 1];\n                }\n                if (!should_load_carry_105368) {\n                    x_94762 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_94755\n}\n__kernel void mainziscan_stage1_95434(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_105496_backing_aligned_0,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int32_t num_threads_105490, __global\n                                      unsigned char *Y_mem_104293, __global\n                                      unsigned char *mem_104386)\n{\n    #define segscan_group_sizze_95428 (mainzisegscan_group_sizze_95408)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_105496_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_105496_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105491;\n    int32_t local_tid_105492;\n    int64_t group_sizze_105495;\n    int32_t wave_sizze_105494;\n    int32_t group_tid_105493;\n    \n    global_tid_105491 = get_global_id(0);\n    local_tid_105492 = get_local_id(0);\n    group_sizze_105495 = get_local_size(0);\n    wave_sizze_105494 = LOCKSTEP_WIDTH;\n    group_tid_105493 = get_group_id(0);\n    \n    int32_t phys_tid_95434 = global_tid_105491;\n    __local unsigned char *scan_arr_mem_105496;\n    \n    scan_arr_mem_105496 = (__local\n                           unsigned char *) scan_arr_mem_105496_backing_0;\n    \n    int64_t x_95435;\n    int64_t x_95436;\n    \n    x_95435 = (int64_t) 0;\n    for (int64_t j_105498 = 0; j_105498 < sdiv_up64(m_92398 * n_92399,\n                               ",
                   "                     sext_i32_i64(num_threads_105490));\n         j_105498++) {\n        int64_t chunk_offset_105499 = segscan_group_sizze_95428 * j_105498 +\n                sext_i32_i64(group_tid_105493) * (segscan_group_sizze_95428 *\n                                                  sdiv_up64(m_92398 * n_92399,\n                                                            sext_i32_i64(num_threads_105490)));\n        int64_t flat_idx_105500 = chunk_offset_105499 +\n                sext_i32_i64(local_tid_105492);\n        int64_t gtid_95432 = squot64(flat_idx_105500, n_92399);\n        int64_t gtid_95433 = flat_idx_105500 - squot64(flat_idx_105500,\n                                                       n_92399) * n_92399;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_95432, m_92398) && slt64(gtid_95433, n_92399)) {\n                double x_95439;\n                \n                x_95439 = ((__global double *) Y_mem_104293)[gtid_95432 *\n                                                             n_92399 +\n                                                             gtid_95433];\n                \n                bool isnan_res_95440;\n                \n                isnan_res_95440 = futrts_isnan64(x_95439);\n                \n                bool defunc_0_p_res_95441 = !isnan_res_95440;\n                int64_t defunc_0_f_res_95442 =\n                        btoi_bool_i64(defunc_0_p_res_95441);\n                \n                // write to-scan values to parameters\n                {\n                    x_95436 = defunc_0_f_res_95442;\n                }\n                // write mapped values results to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_95432, m_92398) && slt64(gtid_95433,\n                                                          n_92399))) ",
                   "{\n                    x_95436 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_95437 = add64(x_95435, x_95436);\n                \n                ((__local\n                  int64_t *) scan_arr_mem_105496)[sext_i32_i64(local_tid_105492)] =\n                    defunc_1_op_res_95437;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_105501;\n            int64_t x_105502;\n            int64_t x_105504;\n            int64_t x_105505;\n            bool ltid_in_bounds_105507 = slt64(sext_i32_i64(local_tid_105492),\n                                               segscan_group_sizze_95428);\n            int32_t skip_threads_105508;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_105507) {\n                    x_105502 = ((volatile __local\n                                 int64_t *) scan_arr_mem_105496)[sext_i32_i64(local_tid_105492)];\n                    if ((local_tid_105492 - squot32(local_tid_105492, 32) *\n                         32) == 0) {\n                        x_105501 = x_105502;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_105508 = 1;\n                while (slt32(skip_threads_105508, 32)) {\n                    bool thread_active_105509 = sle32(skip_threads_105508,\n                                                      local_tid_105492 -\n                                                      squot32(local_tid_105492,\n                                                              32) * 32) &&\n                         ltid_in_bounds_105507;\n                    \n                    if (thread_active_105509) {\n                        // read operands\n                        {\n                            x_105501 = ((volatile __local\n                             ",
                   "            int64_t *) scan_arr_mem_105496)[sext_i32_i64(local_tid_105492) -\n                                                                         sext_i32_i64(skip_threads_105508)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_105510 =\n                             slt64(srem64(sext_i32_i64(local_tid_105492) +\n                                          chunk_offset_105499, n_92399),\n                                   sext_i32_i64(local_tid_105492) +\n                                   chunk_offset_105499 -\n                                   (sext_i32_i64(local_tid_105492 -\n                                    skip_threads_105508) +\n                                    chunk_offset_105499));\n                        \n                        if (thread_active_105509 && inactive_105510) {\n                            x_105501 = x_105502;\n                        }\n                        if (thread_active_105509) {\n                            if (!inactive_105510) {\n                                int64_t defunc_1_op_res_105503 = add64(x_105501,\n                                                                       x_105502);\n                                \n                                x_105501 = defunc_1_op_res_105503;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_105494, skip_threads_105508)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_105509) {\n                        // write result\n                        {\n                            ((volatile __local\n                              int64_t *) scan_arr_mem_105496)[sext_i32_i64(local_tid_105492)] =\n                                x_105501;\n                            x_105502 = x_105501;\n                        }\n                    }\n                    if (sle32(wave_s",
                   "izze_105494, skip_threads_105508)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_105508 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_105492 - squot32(local_tid_105492, 32) * 32) ==\n                    31 && ltid_in_bounds_105507) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_105496)[sext_i32_i64(squot32(local_tid_105492,\n                                                                           32))] =\n                        x_105501;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_105511;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_105492, 32) == 0 &&\n                        ltid_in_bounds_105507) {\n                        x_105505 = ((volatile __local\n                                     int64_t *) scan_arr_mem_105496)[sext_i32_i64(local_tid_105492)];\n                        if ((local_tid_105492 - squot32(local_tid_105492, 32) *\n                             32) == 0) {\n                            x_105504 = x_105505;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_105511 = 1;\n                    while (slt32(skip_threads_105511, 32)) {\n                        bool thread_active_105512 = sle32(skip_threads_105511,\n                                                          local_tid_105492 -\n                                                          squot32(local_tid_105492,\n                                                             ",
                   "     32) * 32) &&\n                             (squot32(local_tid_105492, 32) == 0 &&\n                              ltid_in_bounds_105507);\n                        \n                        if (thread_active_105512) {\n                            // read operands\n                            {\n                                x_105504 = ((volatile __local\n                                             int64_t *) scan_arr_mem_105496)[sext_i32_i64(local_tid_105492) -\n                                                                             sext_i32_i64(skip_threads_105511)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_105513 =\n                                 slt64(srem64(sext_i32_i64(local_tid_105492 *\n                                              32 + 32 - 1) +\n                                              chunk_offset_105499, n_92399),\n                                       sext_i32_i64(local_tid_105492 * 32 + 32 -\n                                       1) + chunk_offset_105499 -\n                                       (sext_i32_i64((local_tid_105492 -\n                                                      skip_threads_105511) *\n                                        32 + 32 - 1) + chunk_offset_105499));\n                            \n                            if (thread_active_105512 && inactive_105513) {\n                                x_105504 = x_105505;\n                            }\n                            if (thread_active_105512) {\n                                if (!inactive_105513) {\n                                    int64_t defunc_1_op_res_105506 =\n                                            add64(x_105504, x_105505);\n                                    \n                                    x_105504 = defunc_1_op_res_105506;\n                                }\n                            }\n                        }\n                 ",
                   "       if (sle32(wave_sizze_105494, skip_threads_105511)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_105512) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem_105496)[sext_i32_i64(local_tid_105492)] =\n                                    x_105504;\n                                x_105505 = x_105504;\n                            }\n                        }\n                        if (sle32(wave_sizze_105494, skip_threads_105511)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_105511 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_105514 = squot32(local_tid_105492, 32) == 0 ||\n                 !ltid_in_bounds_105507;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_105514) {\n                        x_105502 = x_105501;\n                        x_105501 = ((__local\n                                     int64_t *) scan_arr_mem_105496)[sext_i32_i64(squot32(local_tid_105492,\n                                                                                          32)) -\n                                                                     (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_105515 =\n                         slt64(srem64(sext_i32_i64(local_tid_105492) +\n                                      chunk_offset_105499, n_92399),\n                               sext_i32_i64(local_tid_105492) +\n                               chunk_offset_105499 -\n                               (",
                   "sext_i32_i64(squot32(local_tid_105492, 32) *\n                                32 - 1) + chunk_offset_105499));\n                    \n                    if (!no_carry_in_105514) {\n                        if (inactive_105515) {\n                            x_105501 = x_105502;\n                        }\n                    }\n                    if (!no_carry_in_105514) {\n                        if (!inactive_105515) {\n                            int64_t defunc_1_op_res_105503 = add64(x_105501,\n                                                                   x_105502);\n                            \n                            x_105501 = defunc_1_op_res_105503;\n                        }\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_105514) {\n                        ((__local\n                          int64_t *) scan_arr_mem_105496)[sext_i32_i64(local_tid_105492)] =\n                            x_105501;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_105492, 32) == 0 &&\n                    ltid_in_bounds_105507) {\n                    ((__local\n                      int64_t *) scan_arr_mem_105496)[sext_i32_i64(local_tid_105492)] =\n                        x_105502;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_95432, m_92398) && slt64(gtid_95433, n_92399)) {\n                    int64_t tmp_105516;\n                    \n                    tmp_105516 = ((__local\n                                   int64_t *) scan_arr_mem_105496)[sext_i32_i64(local_tid_105492)];\n                    ((__global int64_t *) mem_104386)[gtid_95432 * n_92399 +\n                                                      gtid_95433] = tmp_1055",
                   "16;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_105517 = slt64(srem64(chunk_offset_105499 +\n                                                           segscan_group_sizze_95428,\n                                                           n_92399),\n                                                    chunk_offset_105499 +\n                                                    segscan_group_sizze_95428 -\n                                                    (chunk_offset_105499 +\n                                                     segscan_group_sizze_95428 -\n                                                     (int64_t) 1));\n                bool should_load_carry_105518 = local_tid_105492 == 0 &&\n                     !crosses_segment_105517;\n                \n                if (should_load_carry_105518) {\n                    x_95435 = ((__local\n                                int64_t *) scan_arr_mem_105496)[segscan_group_sizze_95428 -\n                                                                (int64_t) 1];\n                }\n                if (!should_load_carry_105518) {\n                    x_95435 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_95428\n}\n__kernel void mainziscan_stage1_96169(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_105654_backing_aligned_0,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int32_t num_threads_105648, __global\n                                      unsigned char *Y_mem_104293, __global\n                                      unsigned char *mem_104501)\n{\n    #define segscan_group_sizze_96163 (mainzisegscan_gro",
                   "up_sizze_96143)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_105654_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_105654_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105649;\n    int32_t local_tid_105650;\n    int64_t group_sizze_105653;\n    int32_t wave_sizze_105652;\n    int32_t group_tid_105651;\n    \n    global_tid_105649 = get_global_id(0);\n    local_tid_105650 = get_local_id(0);\n    group_sizze_105653 = get_local_size(0);\n    wave_sizze_105652 = LOCKSTEP_WIDTH;\n    group_tid_105651 = get_group_id(0);\n    \n    int32_t phys_tid_96169 = global_tid_105649;\n    __local unsigned char *scan_arr_mem_105654;\n    \n    scan_arr_mem_105654 = (__local\n                           unsigned char *) scan_arr_mem_105654_backing_0;\n    \n    int64_t x_96170;\n    int64_t x_96171;\n    \n    x_96170 = (int64_t) 0;\n    for (int64_t j_105656 = 0; j_105656 < sdiv_up64(m_92398 * n_92399,\n                                                    sext_i32_i64(num_threads_105648));\n         j_105656++) {\n        int64_t chunk_offset_105657 = segscan_group_sizze_96163 * j_105656 +\n                sext_i32_i64(group_tid_105651) * (segscan_group_sizze_96163 *\n                                                  sdiv_up64(m_92398 * n_92399,\n                                                            sext_i32_i64(num_threads_105648)));\n        int64_t flat_idx_105658 = chunk_offset_105657 +\n                sext_i32_i64(local_tid_105650);\n        int64_t gtid_96167 = squot64(flat_idx_105658, n_92399);\n        int64_t gtid_96168 = flat_idx_105658 - squot64(flat_idx_105658,\n                                                       n_92399) * n_92399;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_96167, m_92398) && slt64(gtid_96168, n_",
                   "92399)) {\n                double x_96174;\n                \n                x_96174 = ((__global double *) Y_mem_104293)[gtid_96167 *\n                                                             n_92399 +\n                                                             gtid_96168];\n                \n                bool isnan_res_96175;\n                \n                isnan_res_96175 = futrts_isnan64(x_96174);\n                \n                bool defunc_0_p_res_96176 = !isnan_res_96175;\n                int64_t defunc_0_f_res_96177 =\n                        btoi_bool_i64(defunc_0_p_res_96176);\n                \n                // write to-scan values to parameters\n                {\n                    x_96171 = defunc_0_f_res_96177;\n                }\n                // write mapped values results to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_96167, m_92398) && slt64(gtid_96168,\n                                                          n_92399))) {\n                    x_96171 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_96172 = add64(x_96170, x_96171);\n                \n                ((__local\n                  int64_t *) scan_arr_mem_105654)[sext_i32_i64(local_tid_105650)] =\n                    defunc_1_op_res_96172;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_105659;\n            int64_t x_105660;\n            int64_t x_105662;\n            int64_t x_105663;\n            bool ltid_in_bounds_105665 = slt64(sext_i32_i64(local_tid_105650),\n                                               segscan_group_sizze_96163);\n            int32_t skip_threads_105666;\n            \n            // read input for in-block scan\n            {\n",
                   "                if (ltid_in_bounds_105665) {\n                    x_105660 = ((volatile __local\n                                 int64_t *) scan_arr_mem_105654)[sext_i32_i64(local_tid_105650)];\n                    if ((local_tid_105650 - squot32(local_tid_105650, 32) *\n                         32) == 0) {\n                        x_105659 = x_105660;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_105666 = 1;\n                while (slt32(skip_threads_105666, 32)) {\n                    bool thread_active_105667 = sle32(skip_threads_105666,\n                                                      local_tid_105650 -\n                                                      squot32(local_tid_105650,\n                                                              32) * 32) &&\n                         ltid_in_bounds_105665;\n                    \n                    if (thread_active_105667) {\n                        // read operands\n                        {\n                            x_105659 = ((volatile __local\n                                         int64_t *) scan_arr_mem_105654)[sext_i32_i64(local_tid_105650) -\n                                                                         sext_i32_i64(skip_threads_105666)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_105668 =\n                             slt64(srem64(sext_i32_i64(local_tid_105650) +\n                                          chunk_offset_105657, n_92399),\n                                   sext_i32_i64(local_tid_105650) +\n                                   chunk_offset_105657 -\n                                   (sext_i32_i64(local_tid_105650 -\n                                    skip_threads_105666) +\n                                    chunk_offset_105657));\n                        \n                     ",
                   "   if (thread_active_105667 && inactive_105668) {\n                            x_105659 = x_105660;\n                        }\n                        if (thread_active_105667) {\n                            if (!inactive_105668) {\n                                int64_t defunc_1_op_res_105661 = add64(x_105659,\n                                                                       x_105660);\n                                \n                                x_105659 = defunc_1_op_res_105661;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_105652, skip_threads_105666)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_105667) {\n                        // write result\n                        {\n                            ((volatile __local\n                              int64_t *) scan_arr_mem_105654)[sext_i32_i64(local_tid_105650)] =\n                                x_105659;\n                            x_105660 = x_105659;\n                        }\n                    }\n                    if (sle32(wave_sizze_105652, skip_threads_105666)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_105666 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_105650 - squot32(local_tid_105650, 32) * 32) ==\n                    31 && ltid_in_bounds_105665) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_105654)[sext_i32_i64(squot32(local_tid_105650,\n                                                                           32))] =\n                        x_105659;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in",
                   " for block 'i+1'\n            {\n                int32_t skip_threads_105669;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_105650, 32) == 0 &&\n                        ltid_in_bounds_105665) {\n                        x_105663 = ((volatile __local\n                                     int64_t *) scan_arr_mem_105654)[sext_i32_i64(local_tid_105650)];\n                        if ((local_tid_105650 - squot32(local_tid_105650, 32) *\n                             32) == 0) {\n                            x_105662 = x_105663;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_105669 = 1;\n                    while (slt32(skip_threads_105669, 32)) {\n                        bool thread_active_105670 = sle32(skip_threads_105669,\n                                                          local_tid_105650 -\n                                                          squot32(local_tid_105650,\n                                                                  32) * 32) &&\n                             (squot32(local_tid_105650, 32) == 0 &&\n                              ltid_in_bounds_105665);\n                        \n                        if (thread_active_105670) {\n                            // read operands\n                            {\n                                x_105662 = ((volatile __local\n                                             int64_t *) scan_arr_mem_105654)[sext_i32_i64(local_tid_105650) -\n                                                                             sext_i32_i64(skip_threads_105669)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_105671 =\n                                 slt64(srem64(sext_i32_i64(local_tid_105650 *\n                ",
                   "                              32 + 32 - 1) +\n                                              chunk_offset_105657, n_92399),\n                                       sext_i32_i64(local_tid_105650 * 32 + 32 -\n                                       1) + chunk_offset_105657 -\n                                       (sext_i32_i64((local_tid_105650 -\n                                                      skip_threads_105669) *\n                                        32 + 32 - 1) + chunk_offset_105657));\n                            \n                            if (thread_active_105670 && inactive_105671) {\n                                x_105662 = x_105663;\n                            }\n                            if (thread_active_105670) {\n                                if (!inactive_105671) {\n                                    int64_t defunc_1_op_res_105664 =\n                                            add64(x_105662, x_105663);\n                                    \n                                    x_105662 = defunc_1_op_res_105664;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_105652, skip_threads_105669)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_105670) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem_105654)[sext_i32_i64(local_tid_105650)] =\n                                    x_105662;\n                                x_105663 = x_105662;\n                            }\n                        }\n                        if (sle32(wave_sizze_105652, skip_threads_105669)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_105669 *= 2;\n                    }\n                }\n            }\n        ",
                   "    barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_105672 = squot32(local_tid_105650, 32) == 0 ||\n                 !ltid_in_bounds_105665;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_105672) {\n                        x_105660 = x_105659;\n                        x_105659 = ((__local\n                                     int64_t *) scan_arr_mem_105654)[sext_i32_i64(squot32(local_tid_105650,\n                                                                                          32)) -\n                                                                     (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_105673 =\n                         slt64(srem64(sext_i32_i64(local_tid_105650) +\n                                      chunk_offset_105657, n_92399),\n                               sext_i32_i64(local_tid_105650) +\n                               chunk_offset_105657 -\n                               (sext_i32_i64(squot32(local_tid_105650, 32) *\n                                32 - 1) + chunk_offset_105657));\n                    \n                    if (!no_carry_in_105672) {\n                        if (inactive_105673) {\n                            x_105659 = x_105660;\n                        }\n                    }\n                    if (!no_carry_in_105672) {\n                        if (!inactive_105673) {\n                            int64_t defunc_1_op_res_105661 = add64(x_105659,\n                                                                   x_105660);\n                            \n                            x_105659 = defunc_1_op_res_105661;\n                        }\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_105672) {\n                ",
                   "        ((__local\n                          int64_t *) scan_arr_mem_105654)[sext_i32_i64(local_tid_105650)] =\n                            x_105659;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_105650, 32) == 0 &&\n                    ltid_in_bounds_105665) {\n                    ((__local\n                      int64_t *) scan_arr_mem_105654)[sext_i32_i64(local_tid_105650)] =\n                        x_105660;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_96167, m_92398) && slt64(gtid_96168, n_92399)) {\n                    int64_t tmp_105674;\n                    \n                    tmp_105674 = ((__local\n                                   int64_t *) scan_arr_mem_105654)[sext_i32_i64(local_tid_105650)];\n                    ((__global int64_t *) mem_104501)[gtid_96167 * n_92399 +\n                                                      gtid_96168] = tmp_105674;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_105675 = slt64(srem64(chunk_offset_105657 +\n                                                           segscan_group_sizze_96163,\n                                                           n_92399),\n                                                    chunk_offset_105657 +\n                                                    segscan_group_sizze_96163 -\n                                                    (chunk_offset_105657 +\n                                                     segscan_group_sizze_96163 -\n                                                     (int64_t) 1));\n                bool should_load_carry_105676 = local_tid_105650 ",
                   "== 0 &&\n                     !crosses_segment_105675;\n                \n                if (should_load_carry_105676) {\n                    x_96170 = ((__local\n                                int64_t *) scan_arr_mem_105654)[segscan_group_sizze_96163 -\n                                                                (int64_t) 1];\n                }\n                if (!should_load_carry_105676) {\n                    x_96170 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_96163\n}\n__kernel void mainziscan_stage1_96870(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_105828_backing_aligned_0,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int32_t num_threads_105822, __global\n                                      unsigned char *Y_mem_104293, __global\n                                      unsigned char *mem_104648)\n{\n    #define segscan_group_sizze_96864 (mainzisegscan_group_sizze_96844)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_105828_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_105828_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105823;\n    int32_t local_tid_105824;\n    int64_t group_sizze_105827;\n    int32_t wave_sizze_105826;\n    int32_t group_tid_105825;\n    \n    global_tid_105823 = get_global_id(0);\n    local_tid_105824 = get_local_id(0);\n    group_sizze_105827 = get_local_size(0);\n    wave_sizze_105826 = LOCKSTEP_WIDTH;\n    group_tid_105825 = get_group_id(0);\n    \n    int32_t phys_tid_96870 = global_tid_105823;\n    __local unsigned char *scan_arr_mem_10",
                   "5828;\n    \n    scan_arr_mem_105828 = (__local\n                           unsigned char *) scan_arr_mem_105828_backing_0;\n    \n    int64_t x_96871;\n    int64_t x_96872;\n    \n    x_96871 = (int64_t) 0;\n    for (int64_t j_105830 = 0; j_105830 < sdiv_up64(m_92398 * n_92399,\n                                                    sext_i32_i64(num_threads_105822));\n         j_105830++) {\n        int64_t chunk_offset_105831 = segscan_group_sizze_96864 * j_105830 +\n                sext_i32_i64(group_tid_105825) * (segscan_group_sizze_96864 *\n                                                  sdiv_up64(m_92398 * n_92399,\n                                                            sext_i32_i64(num_threads_105822)));\n        int64_t flat_idx_105832 = chunk_offset_105831 +\n                sext_i32_i64(local_tid_105824);\n        int64_t gtid_96868 = squot64(flat_idx_105832, n_92399);\n        int64_t gtid_96869 = flat_idx_105832 - squot64(flat_idx_105832,\n                                                       n_92399) * n_92399;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_96868, m_92398) && slt64(gtid_96869, n_92399)) {\n                double x_96875;\n                \n                x_96875 = ((__global double *) Y_mem_104293)[gtid_96868 *\n                                                             n_92399 +\n                                                             gtid_96869];\n                \n                bool isnan_res_96876;\n                \n                isnan_res_96876 = futrts_isnan64(x_96875);\n                \n                bool defunc_0_p_res_96877 = !isnan_res_96876;\n                int64_t defunc_0_f_res_96878 =\n                        btoi_bool_i64(defunc_0_p_res_96877);\n                \n                // write to-scan values to parameters\n                {\n                    x_96872 = defunc_0_f_res_96878;\n                }\n                // write mapped values results to global memory\n                { }\n          ",
                   "  }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_96868, m_92398) && slt64(gtid_96869,\n                                                          n_92399))) {\n                    x_96872 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_96873 = add64(x_96871, x_96872);\n                \n                ((__local\n                  int64_t *) scan_arr_mem_105828)[sext_i32_i64(local_tid_105824)] =\n                    defunc_1_op_res_96873;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_105833;\n            int64_t x_105834;\n            int64_t x_105836;\n            int64_t x_105837;\n            bool ltid_in_bounds_105839 = slt64(sext_i32_i64(local_tid_105824),\n                                               segscan_group_sizze_96864);\n            int32_t skip_threads_105840;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_105839) {\n                    x_105834 = ((volatile __local\n                                 int64_t *) scan_arr_mem_105828)[sext_i32_i64(local_tid_105824)];\n                    if ((local_tid_105824 - squot32(local_tid_105824, 32) *\n                         32) == 0) {\n                        x_105833 = x_105834;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_105840 = 1;\n                while (slt32(skip_threads_105840, 32)) {\n                    bool thread_active_105841 = sle32(skip_threads_105840,\n                                                      local_tid_105824 -\n                                                      squot32(local_tid_105824,\n                                            ",
                   "                  32) * 32) &&\n                         ltid_in_bounds_105839;\n                    \n                    if (thread_active_105841) {\n                        // read operands\n                        {\n                            x_105833 = ((volatile __local\n                                         int64_t *) scan_arr_mem_105828)[sext_i32_i64(local_tid_105824) -\n                                                                         sext_i32_i64(skip_threads_105840)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_105842 =\n                             slt64(srem64(sext_i32_i64(local_tid_105824) +\n                                          chunk_offset_105831, n_92399),\n                                   sext_i32_i64(local_tid_105824) +\n                                   chunk_offset_105831 -\n                                   (sext_i32_i64(local_tid_105824 -\n                                    skip_threads_105840) +\n                                    chunk_offset_105831));\n                        \n                        if (thread_active_105841 && inactive_105842) {\n                            x_105833 = x_105834;\n                        }\n                        if (thread_active_105841) {\n                            if (!inactive_105842) {\n                                int64_t defunc_1_op_res_105835 = add64(x_105833,\n                                                                       x_105834);\n                                \n                                x_105833 = defunc_1_op_res_105835;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_105826, skip_threads_105840)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_105841) {\n                        // write result\n                        {\n                ",
                   "            ((volatile __local\n                              int64_t *) scan_arr_mem_105828)[sext_i32_i64(local_tid_105824)] =\n                                x_105833;\n                            x_105834 = x_105833;\n                        }\n                    }\n                    if (sle32(wave_sizze_105826, skip_threads_105840)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_105840 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_105824 - squot32(local_tid_105824, 32) * 32) ==\n                    31 && ltid_in_bounds_105839) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_105828)[sext_i32_i64(squot32(local_tid_105824,\n                                                                           32))] =\n                        x_105833;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_105843;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_105824, 32) == 0 &&\n                        ltid_in_bounds_105839) {\n                        x_105837 = ((volatile __local\n                                     int64_t *) scan_arr_mem_105828)[sext_i32_i64(local_tid_105824)];\n                        if ((local_tid_105824 - squot32(local_tid_105824, 32) *\n                             32) == 0) {\n                            x_105836 = x_105837;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_105843 = 1;\n                    while (slt32(skip_threads_105843, 32)) {",
                   "\n                        bool thread_active_105844 = sle32(skip_threads_105843,\n                                                          local_tid_105824 -\n                                                          squot32(local_tid_105824,\n                                                                  32) * 32) &&\n                             (squot32(local_tid_105824, 32) == 0 &&\n                              ltid_in_bounds_105839);\n                        \n                        if (thread_active_105844) {\n                            // read operands\n                            {\n                                x_105836 = ((volatile __local\n                                             int64_t *) scan_arr_mem_105828)[sext_i32_i64(local_tid_105824) -\n                                                                             sext_i32_i64(skip_threads_105843)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_105845 =\n                                 slt64(srem64(sext_i32_i64(local_tid_105824 *\n                                              32 + 32 - 1) +\n                                              chunk_offset_105831, n_92399),\n                                       sext_i32_i64(local_tid_105824 * 32 + 32 -\n                                       1) + chunk_offset_105831 -\n                                       (sext_i32_i64((local_tid_105824 -\n                                                      skip_threads_105843) *\n                                        32 + 32 - 1) + chunk_offset_105831));\n                            \n                            if (thread_active_105844 && inactive_105845) {\n                                x_105836 = x_105837;\n                            }\n                            if (thread_active_105844) {\n                                if (!inactive_105845) {\n                                    int64_t defunc_1_",
                   "op_res_105838 =\n                                            add64(x_105836, x_105837);\n                                    \n                                    x_105836 = defunc_1_op_res_105838;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_105826, skip_threads_105843)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_105844) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem_105828)[sext_i32_i64(local_tid_105824)] =\n                                    x_105836;\n                                x_105837 = x_105836;\n                            }\n                        }\n                        if (sle32(wave_sizze_105826, skip_threads_105843)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_105843 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_105846 = squot32(local_tid_105824, 32) == 0 ||\n                 !ltid_in_bounds_105839;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_105846) {\n                        x_105834 = x_105833;\n                        x_105833 = ((__local\n                                     int64_t *) scan_arr_mem_105828)[sext_i32_i64(squot32(local_tid_105824,\n                                                                                          32)) -\n                                                                     (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    bool inact",
                   "ive_105847 =\n                         slt64(srem64(sext_i32_i64(local_tid_105824) +\n                                      chunk_offset_105831, n_92399),\n                               sext_i32_i64(local_tid_105824) +\n                               chunk_offset_105831 -\n                               (sext_i32_i64(squot32(local_tid_105824, 32) *\n                                32 - 1) + chunk_offset_105831));\n                    \n                    if (!no_carry_in_105846) {\n                        if (inactive_105847) {\n                            x_105833 = x_105834;\n                        }\n                    }\n                    if (!no_carry_in_105846) {\n                        if (!inactive_105847) {\n                            int64_t defunc_1_op_res_105835 = add64(x_105833,\n                                                                   x_105834);\n                            \n                            x_105833 = defunc_1_op_res_105835;\n                        }\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_105846) {\n                        ((__local\n                          int64_t *) scan_arr_mem_105828)[sext_i32_i64(local_tid_105824)] =\n                            x_105833;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_105824, 32) == 0 &&\n                    ltid_in_bounds_105839) {\n                    ((__local\n                      int64_t *) scan_arr_mem_105828)[sext_i32_i64(local_tid_105824)] =\n                        x_105834;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_96868, m_92398) && slt64(gtid_96869, n_92399)) {\n                    int64_t tmp_105848;\n               ",
                   "     \n                    tmp_105848 = ((__local\n                                   int64_t *) scan_arr_mem_105828)[sext_i32_i64(local_tid_105824)];\n                    ((__global int64_t *) mem_104648)[gtid_96868 * n_92399 +\n                                                      gtid_96869] = tmp_105848;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_105849 = slt64(srem64(chunk_offset_105831 +\n                                                           segscan_group_sizze_96864,\n                                                           n_92399),\n                                                    chunk_offset_105831 +\n                                                    segscan_group_sizze_96864 -\n                                                    (chunk_offset_105831 +\n                                                     segscan_group_sizze_96864 -\n                                                     (int64_t) 1));\n                bool should_load_carry_105850 = local_tid_105824 == 0 &&\n                     !crosses_segment_105849;\n                \n                if (should_load_carry_105850) {\n                    x_96871 = ((__local\n                                int64_t *) scan_arr_mem_105828)[segscan_group_sizze_96864 -\n                                                                (int64_t) 1];\n                }\n                if (!should_load_carry_105850) {\n                    x_96871 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_96864\n}\n__kernel void mainziscan_stage1_97537(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_105959_backing_aligned_0,\n                                      int64_",
                   "t m_92398, int64_t n_92399,\n                                      int32_t num_threads_105953, __global\n                                      unsigned char *Y_mem_104293, __global\n                                      unsigned char *mem_104695)\n{\n    #define segscan_group_sizze_97531 (mainzisegscan_group_sizze_97511)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_105959_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_105959_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105954;\n    int32_t local_tid_105955;\n    int64_t group_sizze_105958;\n    int32_t wave_sizze_105957;\n    int32_t group_tid_105956;\n    \n    global_tid_105954 = get_global_id(0);\n    local_tid_105955 = get_local_id(0);\n    group_sizze_105958 = get_local_size(0);\n    wave_sizze_105957 = LOCKSTEP_WIDTH;\n    group_tid_105956 = get_group_id(0);\n    \n    int32_t phys_tid_97537 = global_tid_105954;\n    __local unsigned char *scan_arr_mem_105959;\n    \n    scan_arr_mem_105959 = (__local\n                           unsigned char *) scan_arr_mem_105959_backing_0;\n    \n    int64_t x_97538;\n    int64_t x_97539;\n    \n    x_97538 = (int64_t) 0;\n    for (int64_t j_105961 = 0; j_105961 < sdiv_up64(m_92398 * n_92399,\n                                                    sext_i32_i64(num_threads_105953));\n         j_105961++) {\n        int64_t chunk_offset_105962 = segscan_group_sizze_97531 * j_105961 +\n                sext_i32_i64(group_tid_105956) * (segscan_group_sizze_97531 *\n                                                  sdiv_up64(m_92398 * n_92399,\n                                                            sext_i32_i64(num_threads_105953)));\n        int64_t flat_idx_105963 = chunk_offset_105962 +\n                sext_i32_i64(local_tid_105955);\n        int64_t gtid_97535 = squot",
                   "64(flat_idx_105963, n_92399);\n        int64_t gtid_97536 = flat_idx_105963 - squot64(flat_idx_105963,\n                                                       n_92399) * n_92399;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_97535, m_92398) && slt64(gtid_97536, n_92399)) {\n                double x_97542;\n                \n                x_97542 = ((__global double *) Y_mem_104293)[gtid_97535 *\n                                                             n_92399 +\n                                                             gtid_97536];\n                \n                bool isnan_res_97543;\n                \n                isnan_res_97543 = futrts_isnan64(x_97542);\n                \n                bool defunc_0_p_res_97544 = !isnan_res_97543;\n                int64_t defunc_0_f_res_97545 =\n                        btoi_bool_i64(defunc_0_p_res_97544);\n                \n                // write to-scan values to parameters\n                {\n                    x_97539 = defunc_0_f_res_97545;\n                }\n                // write mapped values results to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_97535, m_92398) && slt64(gtid_97536,\n                                                          n_92399))) {\n                    x_97539 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_97540 = add64(x_97538, x_97539);\n                \n                ((__local\n                  int64_t *) scan_arr_mem_105959)[sext_i32_i64(local_tid_105955)] =\n                    defunc_1_op_res_97540;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_105964;\n            int64_t x_105965;\n            int64_t x_10",
                   "5967;\n            int64_t x_105968;\n            bool ltid_in_bounds_105970 = slt64(sext_i32_i64(local_tid_105955),\n                                               segscan_group_sizze_97531);\n            int32_t skip_threads_105971;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_105970) {\n                    x_105965 = ((volatile __local\n                                 int64_t *) scan_arr_mem_105959)[sext_i32_i64(local_tid_105955)];\n                    if ((local_tid_105955 - squot32(local_tid_105955, 32) *\n                         32) == 0) {\n                        x_105964 = x_105965;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_105971 = 1;\n                while (slt32(skip_threads_105971, 32)) {\n                    bool thread_active_105972 = sle32(skip_threads_105971,\n                                                      local_tid_105955 -\n                                                      squot32(local_tid_105955,\n                                                              32) * 32) &&\n                         ltid_in_bounds_105970;\n                    \n                    if (thread_active_105972) {\n                        // read operands\n                        {\n                            x_105964 = ((volatile __local\n                                         int64_t *) scan_arr_mem_105959)[sext_i32_i64(local_tid_105955) -\n                                                                         sext_i32_i64(skip_threads_105971)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_105973 =\n                             slt64(srem64(sext_i32_i64(local_tid_105955) +\n                                          chunk_offset_105962, n_92399),\n                                   sext_i32_i64(local_t",
                   "id_105955) +\n                                   chunk_offset_105962 -\n                                   (sext_i32_i64(local_tid_105955 -\n                                    skip_threads_105971) +\n                                    chunk_offset_105962));\n                        \n                        if (thread_active_105972 && inactive_105973) {\n                            x_105964 = x_105965;\n                        }\n                        if (thread_active_105972) {\n                            if (!inactive_105973) {\n                                int64_t defunc_1_op_res_105966 = add64(x_105964,\n                                                                       x_105965);\n                                \n                                x_105964 = defunc_1_op_res_105966;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_105957, skip_threads_105971)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_105972) {\n                        // write result\n                        {\n                            ((volatile __local\n                              int64_t *) scan_arr_mem_105959)[sext_i32_i64(local_tid_105955)] =\n                                x_105964;\n                            x_105965 = x_105964;\n                        }\n                    }\n                    if (sle32(wave_sizze_105957, skip_threads_105971)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_105971 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_105955 - squot32(local_tid_105955, 32) * 32) ==\n                    31 && ltid_in_bounds_105970) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_105959)[sext_",
                   "i32_i64(squot32(local_tid_105955,\n                                                                           32))] =\n                        x_105964;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_105974;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_105955, 32) == 0 &&\n                        ltid_in_bounds_105970) {\n                        x_105968 = ((volatile __local\n                                     int64_t *) scan_arr_mem_105959)[sext_i32_i64(local_tid_105955)];\n                        if ((local_tid_105955 - squot32(local_tid_105955, 32) *\n                             32) == 0) {\n                            x_105967 = x_105968;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_105974 = 1;\n                    while (slt32(skip_threads_105974, 32)) {\n                        bool thread_active_105975 = sle32(skip_threads_105974,\n                                                          local_tid_105955 -\n                                                          squot32(local_tid_105955,\n                                                                  32) * 32) &&\n                             (squot32(local_tid_105955, 32) == 0 &&\n                              ltid_in_bounds_105970);\n                        \n                        if (thread_active_105975) {\n                            // read operands\n                            {\n                                x_105967 = ((volatile __local\n                                             int64_t *) scan_arr_mem_105959)[sext_i32_i64(local_tid_105955) -\n                                                                             sext_i",
                   "32_i64(skip_threads_105974)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_105976 =\n                                 slt64(srem64(sext_i32_i64(local_tid_105955 *\n                                              32 + 32 - 1) +\n                                              chunk_offset_105962, n_92399),\n                                       sext_i32_i64(local_tid_105955 * 32 + 32 -\n                                       1) + chunk_offset_105962 -\n                                       (sext_i32_i64((local_tid_105955 -\n                                                      skip_threads_105974) *\n                                        32 + 32 - 1) + chunk_offset_105962));\n                            \n                            if (thread_active_105975 && inactive_105976) {\n                                x_105967 = x_105968;\n                            }\n                            if (thread_active_105975) {\n                                if (!inactive_105976) {\n                                    int64_t defunc_1_op_res_105969 =\n                                            add64(x_105967, x_105968);\n                                    \n                                    x_105967 = defunc_1_op_res_105969;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_105957, skip_threads_105974)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_105975) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem_105959)[sext_i32_i64(local_tid_105955)] =\n                                    x_105967;\n                                x_105968 = x_105967;\n                           ",
                   " }\n                        }\n                        if (sle32(wave_sizze_105957, skip_threads_105974)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_105974 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_105977 = squot32(local_tid_105955, 32) == 0 ||\n                 !ltid_in_bounds_105970;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_105977) {\n                        x_105965 = x_105964;\n                        x_105964 = ((__local\n                                     int64_t *) scan_arr_mem_105959)[sext_i32_i64(squot32(local_tid_105955,\n                                                                                          32)) -\n                                                                     (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_105978 =\n                         slt64(srem64(sext_i32_i64(local_tid_105955) +\n                                      chunk_offset_105962, n_92399),\n                               sext_i32_i64(local_tid_105955) +\n                               chunk_offset_105962 -\n                               (sext_i32_i64(squot32(local_tid_105955, 32) *\n                                32 - 1) + chunk_offset_105962));\n                    \n                    if (!no_carry_in_105977) {\n                        if (inactive_105978) {\n                            x_105964 = x_105965;\n                        }\n                    }\n                    if (!no_carry_in_105977) {\n                        if (!inactive_105978) {\n                            int64_t defunc_1_op_res_105966 = add64(x_105964,\n                                                     ",
                   "              x_105965);\n                            \n                            x_105964 = defunc_1_op_res_105966;\n                        }\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_105977) {\n                        ((__local\n                          int64_t *) scan_arr_mem_105959)[sext_i32_i64(local_tid_105955)] =\n                            x_105964;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_105955, 32) == 0 &&\n                    ltid_in_bounds_105970) {\n                    ((__local\n                      int64_t *) scan_arr_mem_105959)[sext_i32_i64(local_tid_105955)] =\n                        x_105965;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_97535, m_92398) && slt64(gtid_97536, n_92399)) {\n                    int64_t tmp_105979;\n                    \n                    tmp_105979 = ((__local\n                                   int64_t *) scan_arr_mem_105959)[sext_i32_i64(local_tid_105955)];\n                    ((__global int64_t *) mem_104695)[gtid_97535 * n_92399 +\n                                                      gtid_97536] = tmp_105979;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_105980 = slt64(srem64(chunk_offset_105962 +\n                                                           segscan_group_sizze_97531,\n                                                           n_92399),\n                                                    chunk_offset_105962 +\n                                                    segscan_group_s",
                   "izze_97531 -\n                                                    (chunk_offset_105962 +\n                                                     segscan_group_sizze_97531 -\n                                                     (int64_t) 1));\n                bool should_load_carry_105981 = local_tid_105955 == 0 &&\n                     !crosses_segment_105980;\n                \n                if (should_load_carry_105981) {\n                    x_97538 = ((__local\n                                int64_t *) scan_arr_mem_105959)[segscan_group_sizze_97531 -\n                                                                (int64_t) 1];\n                }\n                if (!should_load_carry_105981) {\n                    x_97538 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_97531\n}\n__kernel void mainziscan_stage1_98294(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_106096_backing_aligned_0,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int32_t num_threads_106090, __global\n                                      unsigned char *Y_mem_104293, __global\n                                      unsigned char *mem_104749)\n{\n    #define segscan_group_sizze_98288 (mainzisegscan_group_sizze_98268)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_106096_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_106096_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106091;\n    int32_t local_tid_106092;\n    int64_t group_sizze_106095;\n    int32_t wave_sizze_106094;\n    int32_t group_tid_106093;\n    ",
                   "\n    global_tid_106091 = get_global_id(0);\n    local_tid_106092 = get_local_id(0);\n    group_sizze_106095 = get_local_size(0);\n    wave_sizze_106094 = LOCKSTEP_WIDTH;\n    group_tid_106093 = get_group_id(0);\n    \n    int32_t phys_tid_98294 = global_tid_106091;\n    __local unsigned char *scan_arr_mem_106096;\n    \n    scan_arr_mem_106096 = (__local\n                           unsigned char *) scan_arr_mem_106096_backing_0;\n    \n    int64_t x_98295;\n    int64_t x_98296;\n    \n    x_98295 = (int64_t) 0;\n    for (int64_t j_106098 = 0; j_106098 < sdiv_up64(m_92398 * n_92399,\n                                                    sext_i32_i64(num_threads_106090));\n         j_106098++) {\n        int64_t chunk_offset_106099 = segscan_group_sizze_98288 * j_106098 +\n                sext_i32_i64(group_tid_106093) * (segscan_group_sizze_98288 *\n                                                  sdiv_up64(m_92398 * n_92399,\n                                                            sext_i32_i64(num_threads_106090)));\n        int64_t flat_idx_106100 = chunk_offset_106099 +\n                sext_i32_i64(local_tid_106092);\n        int64_t gtid_98292 = squot64(flat_idx_106100, n_92399);\n        int64_t gtid_98293 = flat_idx_106100 - squot64(flat_idx_106100,\n                                                       n_92399) * n_92399;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_98292, m_92398) && slt64(gtid_98293, n_92399)) {\n                double x_98299;\n                \n                x_98299 = ((__global double *) Y_mem_104293)[gtid_98292 *\n                                                             n_92399 +\n                                                             gtid_98293];\n                \n                bool isnan_res_98300;\n                \n                isnan_res_98300 = futrts_isnan64(x_98299);\n                \n                bool defunc_0_p_res_98301 = !isnan_res_98300;\n                int64_t defunc_0_f_res_98302 =\n            ",
                   "            btoi_bool_i64(defunc_0_p_res_98301);\n                \n                // write to-scan values to parameters\n                {\n                    x_98296 = defunc_0_f_res_98302;\n                }\n                // write mapped values results to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_98292, m_92398) && slt64(gtid_98293,\n                                                          n_92399))) {\n                    x_98296 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_98297 = add64(x_98295, x_98296);\n                \n                ((__local\n                  int64_t *) scan_arr_mem_106096)[sext_i32_i64(local_tid_106092)] =\n                    defunc_1_op_res_98297;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_106101;\n            int64_t x_106102;\n            int64_t x_106104;\n            int64_t x_106105;\n            bool ltid_in_bounds_106107 = slt64(sext_i32_i64(local_tid_106092),\n                                               segscan_group_sizze_98288);\n            int32_t skip_threads_106108;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_106107) {\n                    x_106102 = ((volatile __local\n                                 int64_t *) scan_arr_mem_106096)[sext_i32_i64(local_tid_106092)];\n                    if ((local_tid_106092 - squot32(local_tid_106092, 32) *\n                         32) == 0) {\n                        x_106101 = x_106102;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_106108 = 1;\n                while (slt3",
                   "2(skip_threads_106108, 32)) {\n                    bool thread_active_106109 = sle32(skip_threads_106108,\n                                                      local_tid_106092 -\n                                                      squot32(local_tid_106092,\n                                                              32) * 32) &&\n                         ltid_in_bounds_106107;\n                    \n                    if (thread_active_106109) {\n                        // read operands\n                        {\n                            x_106101 = ((volatile __local\n                                         int64_t *) scan_arr_mem_106096)[sext_i32_i64(local_tid_106092) -\n                                                                         sext_i32_i64(skip_threads_106108)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_106110 =\n                             slt64(srem64(sext_i32_i64(local_tid_106092) +\n                                          chunk_offset_106099, n_92399),\n                                   sext_i32_i64(local_tid_106092) +\n                                   chunk_offset_106099 -\n                                   (sext_i32_i64(local_tid_106092 -\n                                    skip_threads_106108) +\n                                    chunk_offset_106099));\n                        \n                        if (thread_active_106109 && inactive_106110) {\n                            x_106101 = x_106102;\n                        }\n                        if (thread_active_106109) {\n                            if (!inactive_106110) {\n                                int64_t defunc_1_op_res_106103 = add64(x_106101,\n                                                                       x_106102);\n                                \n                                x_106101 = defunc_1_op_res_106103;\n                            }\n                        }",
                   "\n                    }\n                    if (sle32(wave_sizze_106094, skip_threads_106108)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_106109) {\n                        // write result\n                        {\n                            ((volatile __local\n                              int64_t *) scan_arr_mem_106096)[sext_i32_i64(local_tid_106092)] =\n                                x_106101;\n                            x_106102 = x_106101;\n                        }\n                    }\n                    if (sle32(wave_sizze_106094, skip_threads_106108)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_106108 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_106092 - squot32(local_tid_106092, 32) * 32) ==\n                    31 && ltid_in_bounds_106107) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_106096)[sext_i32_i64(squot32(local_tid_106092,\n                                                                           32))] =\n                        x_106101;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_106111;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_106092, 32) == 0 &&\n                        ltid_in_bounds_106107) {\n                        x_106105 = ((volatile __local\n                                     int64_t *) scan_arr_mem_106096)[sext_i32_i64(local_tid_106092)];\n                        if ((local_tid_106092 - squot32(local_tid_106092, 32) *\n                             32) == 0) {\n",
                   "                            x_106104 = x_106105;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_106111 = 1;\n                    while (slt32(skip_threads_106111, 32)) {\n                        bool thread_active_106112 = sle32(skip_threads_106111,\n                                                          local_tid_106092 -\n                                                          squot32(local_tid_106092,\n                                                                  32) * 32) &&\n                             (squot32(local_tid_106092, 32) == 0 &&\n                              ltid_in_bounds_106107);\n                        \n                        if (thread_active_106112) {\n                            // read operands\n                            {\n                                x_106104 = ((volatile __local\n                                             int64_t *) scan_arr_mem_106096)[sext_i32_i64(local_tid_106092) -\n                                                                             sext_i32_i64(skip_threads_106111)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_106113 =\n                                 slt64(srem64(sext_i32_i64(local_tid_106092 *\n                                              32 + 32 - 1) +\n                                              chunk_offset_106099, n_92399),\n                                       sext_i32_i64(local_tid_106092 * 32 + 32 -\n                                       1) + chunk_offset_106099 -\n                                       (sext_i32_i64((local_tid_106092 -\n                                                      skip_threads_106111) *\n                                        32 + 32 - 1) + chunk_offset_106099));\n                            \n                     ",
                   "       if (thread_active_106112 && inactive_106113) {\n                                x_106104 = x_106105;\n                            }\n                            if (thread_active_106112) {\n                                if (!inactive_106113) {\n                                    int64_t defunc_1_op_res_106106 =\n                                            add64(x_106104, x_106105);\n                                    \n                                    x_106104 = defunc_1_op_res_106106;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_106094, skip_threads_106111)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_106112) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem_106096)[sext_i32_i64(local_tid_106092)] =\n                                    x_106104;\n                                x_106105 = x_106104;\n                            }\n                        }\n                        if (sle32(wave_sizze_106094, skip_threads_106111)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_106111 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_106114 = squot32(local_tid_106092, 32) == 0 ||\n                 !ltid_in_bounds_106107;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_106114) {\n                        x_106102 = x_106101;\n                        x_106101 = ((__local\n                                     int64_t *) scan_arr_mem_106096)[sext_i32_i64(squot32(local_tid_106092,\n   ",
                   "                                                                                       32)) -\n                                                                     (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_106115 =\n                         slt64(srem64(sext_i32_i64(local_tid_106092) +\n                                      chunk_offset_106099, n_92399),\n                               sext_i32_i64(local_tid_106092) +\n                               chunk_offset_106099 -\n                               (sext_i32_i64(squot32(local_tid_106092, 32) *\n                                32 - 1) + chunk_offset_106099));\n                    \n                    if (!no_carry_in_106114) {\n                        if (inactive_106115) {\n                            x_106101 = x_106102;\n                        }\n                    }\n                    if (!no_carry_in_106114) {\n                        if (!inactive_106115) {\n                            int64_t defunc_1_op_res_106103 = add64(x_106101,\n                                                                   x_106102);\n                            \n                            x_106101 = defunc_1_op_res_106103;\n                        }\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_106114) {\n                        ((__local\n                          int64_t *) scan_arr_mem_106096)[sext_i32_i64(local_tid_106092)] =\n                            x_106101;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_106092, 32) == 0 &&\n                    ltid_in_bounds_106107) {\n                    ((__local\n                      int64_t *) scan_arr_mem_106096)[sext_i32_i64(local_tid_106092)] =\n              ",
                   "          x_106102;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_98292, m_92398) && slt64(gtid_98293, n_92399)) {\n                    int64_t tmp_106116;\n                    \n                    tmp_106116 = ((__local\n                                   int64_t *) scan_arr_mem_106096)[sext_i32_i64(local_tid_106092)];\n                    ((__global int64_t *) mem_104749)[gtid_98292 * n_92399 +\n                                                      gtid_98293] = tmp_106116;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_106117 = slt64(srem64(chunk_offset_106099 +\n                                                           segscan_group_sizze_98288,\n                                                           n_92399),\n                                                    chunk_offset_106099 +\n                                                    segscan_group_sizze_98288 -\n                                                    (chunk_offset_106099 +\n                                                     segscan_group_sizze_98288 -\n                                                     (int64_t) 1));\n                bool should_load_carry_106118 = local_tid_106092 == 0 &&\n                     !crosses_segment_106117;\n                \n                if (should_load_carry_106118) {\n                    x_98295 = ((__local\n                                int64_t *) scan_arr_mem_106096)[segscan_group_sizze_98288 -\n                                                                (int64_t) 1];\n                }\n                if (!should_load_carry_106118) {\n                    x_98295 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n  ",
                   "  return;\n    #undef segscan_group_sizze_98288\n}\n__kernel void mainziscan_stage1_99269(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_106237_backing_aligned_0,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int32_t num_threads_106231, __global\n                                      unsigned char *Y_mem_104293, __global\n                                      unsigned char *mem_104818)\n{\n    #define segscan_group_sizze_99263 (mainzisegscan_group_sizze_99243)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_106237_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_106237_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106232;\n    int32_t local_tid_106233;\n    int64_t group_sizze_106236;\n    int32_t wave_sizze_106235;\n    int32_t group_tid_106234;\n    \n    global_tid_106232 = get_global_id(0);\n    local_tid_106233 = get_local_id(0);\n    group_sizze_106236 = get_local_size(0);\n    wave_sizze_106235 = LOCKSTEP_WIDTH;\n    group_tid_106234 = get_group_id(0);\n    \n    int32_t phys_tid_99269 = global_tid_106232;\n    __local unsigned char *scan_arr_mem_106237;\n    \n    scan_arr_mem_106237 = (__local\n                           unsigned char *) scan_arr_mem_106237_backing_0;\n    \n    int64_t x_99270;\n    int64_t x_99271;\n    \n    x_99270 = (int64_t) 0;\n    for (int64_t j_106239 = 0; j_106239 < sdiv_up64(m_92398 * n_92399,\n                                                    sext_i32_i64(num_threads_106231));\n         j_106239++) {\n        int64_t chunk_offset_106240 = segscan_group_sizze_99263 * j_106239 +\n                sext_i32_i64(group_tid_106234) * (segscan_group_sizze_99263 *\n           ",
                   "                                       sdiv_up64(m_92398 * n_92399,\n                                                            sext_i32_i64(num_threads_106231)));\n        int64_t flat_idx_106241 = chunk_offset_106240 +\n                sext_i32_i64(local_tid_106233);\n        int64_t gtid_99267 = squot64(flat_idx_106241, n_92399);\n        int64_t gtid_99268 = flat_idx_106241 - squot64(flat_idx_106241,\n                                                       n_92399) * n_92399;\n        \n        // threads in bounds read input\n        {\n            if (slt64(gtid_99267, m_92398) && slt64(gtid_99268, n_92399)) {\n                double x_99274;\n                \n                x_99274 = ((__global double *) Y_mem_104293)[gtid_99267 *\n                                                             n_92399 +\n                                                             gtid_99268];\n                \n                bool isnan_res_99275;\n                \n                isnan_res_99275 = futrts_isnan64(x_99274);\n                \n                bool defunc_0_p_res_99276 = !isnan_res_99275;\n                int64_t defunc_0_f_res_99277 =\n                        btoi_bool_i64(defunc_0_p_res_99276);\n                \n                // write to-scan values to parameters\n                {\n                    x_99271 = defunc_0_f_res_99277;\n                }\n                // write mapped values results to global memory\n                { }\n            }\n        }\n        // do one intra-group scan operation\n        {\n            // maybe restore some to-scan values to parameters, or read neutral\n            {\n                if (!(slt64(gtid_99267, m_92398) && slt64(gtid_99268,\n                                                          n_92399))) {\n                    x_99271 = (int64_t) 0;\n                }\n            }\n            // combine with carry and write to local memory\n            {\n                int64_t defunc_1_op_res_99272 = add64(x_99270, x_99271);\n                \n    ",
                   "            ((__local\n                  int64_t *) scan_arr_mem_106237)[sext_i32_i64(local_tid_106233)] =\n                    defunc_1_op_res_99272;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int64_t x_106242;\n            int64_t x_106243;\n            int64_t x_106245;\n            int64_t x_106246;\n            bool ltid_in_bounds_106248 = slt64(sext_i32_i64(local_tid_106233),\n                                               segscan_group_sizze_99263);\n            int32_t skip_threads_106249;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_106248) {\n                    x_106243 = ((volatile __local\n                                 int64_t *) scan_arr_mem_106237)[sext_i32_i64(local_tid_106233)];\n                    if ((local_tid_106233 - squot32(local_tid_106233, 32) *\n                         32) == 0) {\n                        x_106242 = x_106243;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_106249 = 1;\n                while (slt32(skip_threads_106249, 32)) {\n                    bool thread_active_106250 = sle32(skip_threads_106249,\n                                                      local_tid_106233 -\n                                                      squot32(local_tid_106233,\n                                                              32) * 32) &&\n                         ltid_in_bounds_106248;\n                    \n                    if (thread_active_106250) {\n                        // read operands\n                        {\n                            x_106242 = ((volatile __local\n                                         int64_t *) scan_arr_mem_106237)[sext_i32_i64(local_tid_106233) -\n                                                                         sext_i32_i64(skip_threads_106249)];\n                        }\n                    }\n           ",
                   "         // perform operation\n                    {\n                        bool inactive_106251 =\n                             slt64(srem64(sext_i32_i64(local_tid_106233) +\n                                          chunk_offset_106240, n_92399),\n                                   sext_i32_i64(local_tid_106233) +\n                                   chunk_offset_106240 -\n                                   (sext_i32_i64(local_tid_106233 -\n                                    skip_threads_106249) +\n                                    chunk_offset_106240));\n                        \n                        if (thread_active_106250 && inactive_106251) {\n                            x_106242 = x_106243;\n                        }\n                        if (thread_active_106250) {\n                            if (!inactive_106251) {\n                                int64_t defunc_1_op_res_106244 = add64(x_106242,\n                                                                       x_106243);\n                                \n                                x_106242 = defunc_1_op_res_106244;\n                            }\n                        }\n                    }\n                    if (sle32(wave_sizze_106235, skip_threads_106249)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_106250) {\n                        // write result\n                        {\n                            ((volatile __local\n                              int64_t *) scan_arr_mem_106237)[sext_i32_i64(local_tid_106233)] =\n                                x_106242;\n                            x_106243 = x_106242;\n                        }\n                    }\n                    if (sle32(wave_sizze_106235, skip_threads_106249)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_106249 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            ",
                   "// last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_106233 - squot32(local_tid_106233, 32) * 32) ==\n                    31 && ltid_in_bounds_106248) {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_106237)[sext_i32_i64(squot32(local_tid_106233,\n                                                                           32))] =\n                        x_106242;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_106252;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_106233, 32) == 0 &&\n                        ltid_in_bounds_106248) {\n                        x_106246 = ((volatile __local\n                                     int64_t *) scan_arr_mem_106237)[sext_i32_i64(local_tid_106233)];\n                        if ((local_tid_106233 - squot32(local_tid_106233, 32) *\n                             32) == 0) {\n                            x_106245 = x_106246;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_106252 = 1;\n                    while (slt32(skip_threads_106252, 32)) {\n                        bool thread_active_106253 = sle32(skip_threads_106252,\n                                                          local_tid_106233 -\n                                                          squot32(local_tid_106233,\n                                                                  32) * 32) &&\n                             (squot32(local_tid_106233, 32) == 0 &&\n                              ltid_in_bounds_106248);\n                        \n                        if (thread_active_106253) {\n                            ",
                   "// read operands\n                            {\n                                x_106245 = ((volatile __local\n                                             int64_t *) scan_arr_mem_106237)[sext_i32_i64(local_tid_106233) -\n                                                                             sext_i32_i64(skip_threads_106252)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_106254 =\n                                 slt64(srem64(sext_i32_i64(local_tid_106233 *\n                                              32 + 32 - 1) +\n                                              chunk_offset_106240, n_92399),\n                                       sext_i32_i64(local_tid_106233 * 32 + 32 -\n                                       1) + chunk_offset_106240 -\n                                       (sext_i32_i64((local_tid_106233 -\n                                                      skip_threads_106252) *\n                                        32 + 32 - 1) + chunk_offset_106240));\n                            \n                            if (thread_active_106253 && inactive_106254) {\n                                x_106245 = x_106246;\n                            }\n                            if (thread_active_106253) {\n                                if (!inactive_106254) {\n                                    int64_t defunc_1_op_res_106247 =\n                                            add64(x_106245, x_106246);\n                                    \n                                    x_106245 = defunc_1_op_res_106247;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_106235, skip_threads_106252)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_106253) {\n                            // write result\n     ",
                   "                       {\n                                ((volatile __local\n                                  int64_t *) scan_arr_mem_106237)[sext_i32_i64(local_tid_106233)] =\n                                    x_106245;\n                                x_106246 = x_106245;\n                            }\n                        }\n                        if (sle32(wave_sizze_106235, skip_threads_106252)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_106252 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_106255 = squot32(local_tid_106233, 32) == 0 ||\n                 !ltid_in_bounds_106248;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_106255) {\n                        x_106243 = x_106242;\n                        x_106242 = ((__local\n                                     int64_t *) scan_arr_mem_106237)[sext_i32_i64(squot32(local_tid_106233,\n                                                                                          32)) -\n                                                                     (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_106256 =\n                         slt64(srem64(sext_i32_i64(local_tid_106233) +\n                                      chunk_offset_106240, n_92399),\n                               sext_i32_i64(local_tid_106233) +\n                               chunk_offset_106240 -\n                               (sext_i32_i64(squot32(local_tid_106233, 32) *\n                                32 - 1) + chunk_offset_106240));\n                    \n                    if (!no_carry_in_106255) {\n                        if (inactive_106256) {\n                    ",
                   "        x_106242 = x_106243;\n                        }\n                    }\n                    if (!no_carry_in_106255) {\n                        if (!inactive_106256) {\n                            int64_t defunc_1_op_res_106244 = add64(x_106242,\n                                                                   x_106243);\n                            \n                            x_106242 = defunc_1_op_res_106244;\n                        }\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_106255) {\n                        ((__local\n                          int64_t *) scan_arr_mem_106237)[sext_i32_i64(local_tid_106233)] =\n                            x_106242;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_106233, 32) == 0 &&\n                    ltid_in_bounds_106248) {\n                    ((__local\n                      int64_t *) scan_arr_mem_106237)[sext_i32_i64(local_tid_106233)] =\n                        x_106243;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // threads in bounds write partial scan result\n            {\n                if (slt64(gtid_99267, m_92398) && slt64(gtid_99268, n_92399)) {\n                    int64_t tmp_106257;\n                    \n                    tmp_106257 = ((__local\n                                   int64_t *) scan_arr_mem_106237)[sext_i32_i64(local_tid_106233)];\n                    ((__global int64_t *) mem_104818)[gtid_99267 * n_92399 +\n                                                      gtid_99268] = tmp_106257;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread reads last element as carry-in for next iteration\n            {\n                bool crosses_segment_106258 = slt64(srem64(chunk_offset_106",
                   "240 +\n                                                           segscan_group_sizze_99263,\n                                                           n_92399),\n                                                    chunk_offset_106240 +\n                                                    segscan_group_sizze_99263 -\n                                                    (chunk_offset_106240 +\n                                                     segscan_group_sizze_99263 -\n                                                     (int64_t) 1));\n                bool should_load_carry_106259 = local_tid_106233 == 0 &&\n                     !crosses_segment_106258;\n                \n                if (should_load_carry_106259) {\n                    x_99270 = ((__local\n                                int64_t *) scan_arr_mem_106237)[segscan_group_sizze_99263 -\n                                                                (int64_t) 1];\n                }\n                if (!should_load_carry_106259) {\n                    x_99270 = (int64_t) 0;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segscan_group_sizze_99263\n}\n__kernel void mainziscan_stage2_100305(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *scan_arr_mem_106542_backing_aligned_0,\n                                       int64_t m_92398, int64_t n_92399,\n                                       int64_t stage1_num_groups_106507,\n                                       int32_t num_threads_106508, __global\n                                       unsigned char *mem_104883)\n{\n    #define segscan_group_sizze_100299 (mainzisegscan_group_sizze_100279)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_106542_backing_0 =\n                                   (__local volatile",
                   "\n                                    unsigned char *) scan_arr_mem_106542_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106537;\n    int32_t local_tid_106538;\n    int64_t group_sizze_106541;\n    int32_t wave_sizze_106540;\n    int32_t group_tid_106539;\n    \n    global_tid_106537 = get_global_id(0);\n    local_tid_106538 = get_local_id(0);\n    group_sizze_106541 = get_local_size(0);\n    wave_sizze_106540 = LOCKSTEP_WIDTH;\n    group_tid_106539 = get_group_id(0);\n    \n    int32_t phys_tid_100305 = global_tid_106537;\n    __local unsigned char *scan_arr_mem_106542;\n    \n    scan_arr_mem_106542 = (__local\n                           unsigned char *) scan_arr_mem_106542_backing_0;\n    \n    int64_t flat_idx_106544 = (sext_i32_i64(local_tid_106538) + (int64_t) 1) *\n            (segscan_group_sizze_100299 * sdiv_up64(m_92398 * n_92399,\n                                                    sext_i32_i64(num_threads_106508))) -\n            (int64_t) 1;\n    int64_t gtid_100303 = squot64(flat_idx_106544, n_92399);\n    int64_t gtid_100304 = flat_idx_106544 - squot64(flat_idx_106544, n_92399) *\n            n_92399;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_100303, m_92398) && slt64(gtid_100304, n_92399)) {\n            int64_t tmp_106545;\n            \n            tmp_106545 = ((__global int64_t *) mem_104883)[gtid_100303 *\n                                                           n_92399 +\n                                                           gtid_100304];\n            ((__local\n              int64_t *) scan_arr_mem_106542)[sext_i32_i64(local_tid_106538)] =\n                tmp_106545;\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_106542)[sext_i32_i64(local_tid_106538)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_100306;\n    int64_t x_100307;\n    int64_t x_106546;\n    int64_t x_106547;\n    boo",
                   "l ltid_in_bounds_106549 = slt64(sext_i32_i64(local_tid_106538),\n                                       stage1_num_groups_106507);\n    int32_t skip_threads_106550;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_106549) {\n            x_100307 = ((volatile __local\n                         int64_t *) scan_arr_mem_106542)[sext_i32_i64(local_tid_106538)];\n            if ((local_tid_106538 - squot32(local_tid_106538, 32) * 32) == 0) {\n                x_100306 = x_100307;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_106550 = 1;\n        while (slt32(skip_threads_106550, 32)) {\n            bool thread_active_106551 = sle32(skip_threads_106550,\n                                              local_tid_106538 -\n                                              squot32(local_tid_106538, 32) *\n                                              32) && ltid_in_bounds_106549;\n            \n            if (thread_active_106551) {\n                // read operands\n                {\n                    x_100306 = ((volatile __local\n                                 int64_t *) scan_arr_mem_106542)[sext_i32_i64(local_tid_106538) -\n                                                                 sext_i32_i64(skip_threads_106550)];\n                }\n            }\n            // perform operation\n            {\n                bool inactive_106552 =\n                     slt64(srem64((sext_i32_i64(local_tid_106538) +\n                                   (int64_t) 1) * (segscan_group_sizze_100299 *\n                                                   sdiv_up64(m_92398 * n_92399,\n                                                             sext_i32_i64(num_threads_106508))) -\n                                  (int64_t) 1, n_92399),\n                           (sext_i32_i64(local_tid_106538) + (int64_t) 1) *\n                           (segscan_group_sizze_100299 * sdiv_up64(m_92398 *\n                                         ",
                   "                          n_92399,\n                                                                   sext_i32_i64(num_threads_106508))) -\n                           (int64_t) 1 - ((sext_i32_i64(local_tid_106538 -\n                                           skip_threads_106550) + (int64_t) 1) *\n                                          (segscan_group_sizze_100299 *\n                                           sdiv_up64(m_92398 * n_92399,\n                                                     sext_i32_i64(num_threads_106508))) -\n                                          (int64_t) 1));\n                \n                if (thread_active_106551 && inactive_106552) {\n                    x_100306 = x_100307;\n                }\n                if (thread_active_106551) {\n                    if (!inactive_106552) {\n                        int64_t defunc_1_op_res_100308 = add64(x_100306,\n                                                               x_100307);\n                        \n                        x_100306 = defunc_1_op_res_100308;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_106540, skip_threads_106550)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (thread_active_106551) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_106542)[sext_i32_i64(local_tid_106538)] =\n                        x_100306;\n                    x_100307 = x_100306;\n                }\n            }\n            if (sle32(wave_sizze_106540, skip_threads_106550)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_106550 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_106538 - squot32(local_tid_106538, 32) * 32) == 31 &&\n            ltid_in_bounds_106549) {\n            ((volatile __local\n              int64_t *) ",
                   "scan_arr_mem_106542)[sext_i32_i64(squot32(local_tid_106538,\n                                                                   32))] =\n                x_100306;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_106553;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_106538, 32) == 0 && ltid_in_bounds_106549) {\n                x_106547 = ((volatile __local\n                             int64_t *) scan_arr_mem_106542)[sext_i32_i64(local_tid_106538)];\n                if ((local_tid_106538 - squot32(local_tid_106538, 32) * 32) ==\n                    0) {\n                    x_106546 = x_106547;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_106553 = 1;\n            while (slt32(skip_threads_106553, 32)) {\n                bool thread_active_106554 = sle32(skip_threads_106553,\n                                                  local_tid_106538 -\n                                                  squot32(local_tid_106538,\n                                                          32) * 32) &&\n                     (squot32(local_tid_106538, 32) == 0 &&\n                      ltid_in_bounds_106549);\n                \n                if (thread_active_106554) {\n                    // read operands\n                    {\n                        x_106546 = ((volatile __local\n                                     int64_t *) scan_arr_mem_106542)[sext_i32_i64(local_tid_106538) -\n                                                                     sext_i32_i64(skip_threads_106553)];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_106555 =\n                         slt64(srem64((sext_i32_i64(local_tid_106538 * 32 + 32 -\n                                       1) + (i",
                   "nt64_t) 1) *\n                                      (segscan_group_sizze_100299 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_106508))) -\n                                      (int64_t) 1, n_92399),\n                               (sext_i32_i64(local_tid_106538 * 32 + 32 - 1) +\n                                (int64_t) 1) * (segscan_group_sizze_100299 *\n                                                sdiv_up64(m_92398 * n_92399,\n                                                          sext_i32_i64(num_threads_106508))) -\n                               (int64_t) 1 - ((sext_i32_i64((local_tid_106538 -\n                                                             skip_threads_106553) *\n                                               32 + 32 - 1) + (int64_t) 1) *\n                                              (segscan_group_sizze_100299 *\n                                               sdiv_up64(m_92398 * n_92399,\n                                                         sext_i32_i64(num_threads_106508))) -\n                                              (int64_t) 1));\n                    \n                    if (thread_active_106554 && inactive_106555) {\n                        x_106546 = x_106547;\n                    }\n                    if (thread_active_106554) {\n                        if (!inactive_106555) {\n                            int64_t defunc_1_op_res_106548 = add64(x_106546,\n                                                                   x_106547);\n                            \n                            x_106546 = defunc_1_op_res_106548;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_106540, skip_threads_106553)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (thread_active_106554) {\n                    // write result\n                    {\n                        (",
                   "(volatile __local\n                          int64_t *) scan_arr_mem_106542)[sext_i32_i64(local_tid_106538)] =\n                            x_106546;\n                        x_106547 = x_106546;\n                    }\n                }\n                if (sle32(wave_sizze_106540, skip_threads_106553)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_106553 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool no_carry_in_106556 = squot32(local_tid_106538, 32) == 0 ||\n         !ltid_in_bounds_106549;\n    \n    // carry-in for every block except the first\n    {\n        // read operands\n        {\n            if (!no_carry_in_106556) {\n                x_100307 = x_100306;\n                x_100306 = ((__local\n                             int64_t *) scan_arr_mem_106542)[sext_i32_i64(squot32(local_tid_106538,\n                                                                                  32)) -\n                                                             (int64_t) 1];\n            }\n        }\n        // perform operation\n        {\n            bool inactive_106557 =\n                 slt64(srem64((sext_i32_i64(local_tid_106538) + (int64_t) 1) *\n                              (segscan_group_sizze_100299 * sdiv_up64(m_92398 *\n                                                                      n_92399,\n                                                                      sext_i32_i64(num_threads_106508))) -\n                              (int64_t) 1, n_92399),\n                       (sext_i32_i64(local_tid_106538) + (int64_t) 1) *\n                       (segscan_group_sizze_100299 * sdiv_up64(m_92398 *\n                                                               n_92399,\n                                                               sext_i32_i64(num_threads_106508))) -\n                       (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_106538,\n                                                       ",
                   "     32) * 32 - 1) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_100299 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_106508))) -\n                                      (int64_t) 1));\n            \n            if (!no_carry_in_106556) {\n                if (inactive_106557) {\n                    x_100306 = x_100307;\n                }\n            }\n            if (!no_carry_in_106556) {\n                if (!inactive_106557) {\n                    int64_t defunc_1_op_res_100308 = add64(x_100306, x_100307);\n                    \n                    x_100306 = defunc_1_op_res_100308;\n                }\n            }\n        }\n        // write final result\n        {\n            if (!no_carry_in_106556) {\n                ((__local\n                  int64_t *) scan_arr_mem_106542)[sext_i32_i64(local_tid_106538)] =\n                    x_100306;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_106538, 32) == 0 && ltid_in_bounds_106549) {\n            ((__local\n              int64_t *) scan_arr_mem_106542)[sext_i32_i64(local_tid_106538)] =\n                x_100307;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_100303, m_92398) && slt64(gtid_100304, n_92399)) {\n            int64_t tmp_106558;\n            \n            tmp_106558 = ((__local\n                           int64_t *) scan_arr_mem_106542)[sext_i32_i64(local_tid_106538)];\n            ((__global int64_t *) mem_104883)[gtid_100303 * n_92399 +\n                                              gtid_100304] = tmp_106558;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_100299\n}\n__kernel void mainziscan_stage2_101462(__global int *global_failure,\n                          ",
                   "             __local volatile\n                                       int64_t *scan_arr_mem_106861_backing_aligned_0,\n                                       int64_t m_92398, int64_t n_92399,\n                                       int64_t stage1_num_groups_106826,\n                                       int32_t num_threads_106827, __global\n                                       unsigned char *mem_104968)\n{\n    #define segscan_group_sizze_101456 (mainzisegscan_group_sizze_101436)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_106861_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_106861_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106856;\n    int32_t local_tid_106857;\n    int64_t group_sizze_106860;\n    int32_t wave_sizze_106859;\n    int32_t group_tid_106858;\n    \n    global_tid_106856 = get_global_id(0);\n    local_tid_106857 = get_local_id(0);\n    group_sizze_106860 = get_local_size(0);\n    wave_sizze_106859 = LOCKSTEP_WIDTH;\n    group_tid_106858 = get_group_id(0);\n    \n    int32_t phys_tid_101462 = global_tid_106856;\n    __local unsigned char *scan_arr_mem_106861;\n    \n    scan_arr_mem_106861 = (__local\n                           unsigned char *) scan_arr_mem_106861_backing_0;\n    \n    int64_t flat_idx_106863 = (sext_i32_i64(local_tid_106857) + (int64_t) 1) *\n            (segscan_group_sizze_101456 * sdiv_up64(m_92398 * n_92399,\n                                                    sext_i32_i64(num_threads_106827))) -\n            (int64_t) 1;\n    int64_t gtid_101460 = squot64(flat_idx_106863, n_92399);\n    int64_t gtid_101461 = flat_idx_106863 - squot64(flat_idx_106863, n_92399) *\n            n_92399;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_101460, m_92398) && slt64(gtid_101",
                   "461, n_92399)) {\n            int64_t tmp_106864;\n            \n            tmp_106864 = ((__global int64_t *) mem_104968)[gtid_101460 *\n                                                           n_92399 +\n                                                           gtid_101461];\n            ((__local\n              int64_t *) scan_arr_mem_106861)[sext_i32_i64(local_tid_106857)] =\n                tmp_106864;\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_106861)[sext_i32_i64(local_tid_106857)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_101463;\n    int64_t x_101464;\n    int64_t x_106865;\n    int64_t x_106866;\n    bool ltid_in_bounds_106868 = slt64(sext_i32_i64(local_tid_106857),\n                                       stage1_num_groups_106826);\n    int32_t skip_threads_106869;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_106868) {\n            x_101464 = ((volatile __local\n                         int64_t *) scan_arr_mem_106861)[sext_i32_i64(local_tid_106857)];\n            if ((local_tid_106857 - squot32(local_tid_106857, 32) * 32) == 0) {\n                x_101463 = x_101464;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_106869 = 1;\n        while (slt32(skip_threads_106869, 32)) {\n            bool thread_active_106870 = sle32(skip_threads_106869,\n                                              local_tid_106857 -\n                                              squot32(local_tid_106857, 32) *\n                                              32) && ltid_in_bounds_106868;\n            \n            if (thread_active_106870) {\n                // read operands\n                {\n                    x_101463 = ((volatile __local\n                                 int64_t *) scan_arr_mem_106861)[sext_i32_i64(local_tid_106857) -\n                                                                 sext_i32_i64(skip_threads_",
                   "106869)];\n                }\n            }\n            // perform operation\n            {\n                bool inactive_106871 =\n                     slt64(srem64((sext_i32_i64(local_tid_106857) +\n                                   (int64_t) 1) * (segscan_group_sizze_101456 *\n                                                   sdiv_up64(m_92398 * n_92399,\n                                                             sext_i32_i64(num_threads_106827))) -\n                                  (int64_t) 1, n_92399),\n                           (sext_i32_i64(local_tid_106857) + (int64_t) 1) *\n                           (segscan_group_sizze_101456 * sdiv_up64(m_92398 *\n                                                                   n_92399,\n                                                                   sext_i32_i64(num_threads_106827))) -\n                           (int64_t) 1 - ((sext_i32_i64(local_tid_106857 -\n                                           skip_threads_106869) + (int64_t) 1) *\n                                          (segscan_group_sizze_101456 *\n                                           sdiv_up64(m_92398 * n_92399,\n                                                     sext_i32_i64(num_threads_106827))) -\n                                          (int64_t) 1));\n                \n                if (thread_active_106870 && inactive_106871) {\n                    x_101463 = x_101464;\n                }\n                if (thread_active_106870) {\n                    if (!inactive_106871) {\n                        int64_t defunc_1_op_res_101465 = add64(x_101463,\n                                                               x_101464);\n                        \n                        x_101463 = defunc_1_op_res_101465;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_106859, skip_threads_106869)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (thread_active_106870) {\n                // write result\n",
                   "                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_106861)[sext_i32_i64(local_tid_106857)] =\n                        x_101463;\n                    x_101464 = x_101463;\n                }\n            }\n            if (sle32(wave_sizze_106859, skip_threads_106869)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_106869 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_106857 - squot32(local_tid_106857, 32) * 32) == 31 &&\n            ltid_in_bounds_106868) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_106861)[sext_i32_i64(squot32(local_tid_106857,\n                                                                   32))] =\n                x_101463;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_106872;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_106857, 32) == 0 && ltid_in_bounds_106868) {\n                x_106866 = ((volatile __local\n                             int64_t *) scan_arr_mem_106861)[sext_i32_i64(local_tid_106857)];\n                if ((local_tid_106857 - squot32(local_tid_106857, 32) * 32) ==\n                    0) {\n                    x_106865 = x_106866;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_106872 = 1;\n            while (slt32(skip_threads_106872, 32)) {\n                bool thread_active_106873 = sle32(skip_threads_106872,\n                                                  local_tid_106857 -\n                                                  squot32(local_tid_106857,\n                                                          32) * 32) &&\n                     (squot32(local_tid_106857,",
                   " 32) == 0 &&\n                      ltid_in_bounds_106868);\n                \n                if (thread_active_106873) {\n                    // read operands\n                    {\n                        x_106865 = ((volatile __local\n                                     int64_t *) scan_arr_mem_106861)[sext_i32_i64(local_tid_106857) -\n                                                                     sext_i32_i64(skip_threads_106872)];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_106874 =\n                         slt64(srem64((sext_i32_i64(local_tid_106857 * 32 + 32 -\n                                       1) + (int64_t) 1) *\n                                      (segscan_group_sizze_101456 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_106827))) -\n                                      (int64_t) 1, n_92399),\n                               (sext_i32_i64(local_tid_106857 * 32 + 32 - 1) +\n                                (int64_t) 1) * (segscan_group_sizze_101456 *\n                                                sdiv_up64(m_92398 * n_92399,\n                                                          sext_i32_i64(num_threads_106827))) -\n                               (int64_t) 1 - ((sext_i32_i64((local_tid_106857 -\n                                                             skip_threads_106872) *\n                                               32 + 32 - 1) + (int64_t) 1) *\n                                              (segscan_group_sizze_101456 *\n                                               sdiv_up64(m_92398 * n_92399,\n                                                         sext_i32_i64(num_threads_106827))) -\n                                              (int64_t) 1));\n                    \n                    if (thread_active_106873 && inactive_106874) {\n                        x_106865 = ",
                   "x_106866;\n                    }\n                    if (thread_active_106873) {\n                        if (!inactive_106874) {\n                            int64_t defunc_1_op_res_106867 = add64(x_106865,\n                                                                   x_106866);\n                            \n                            x_106865 = defunc_1_op_res_106867;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_106859, skip_threads_106872)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (thread_active_106873) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_106861)[sext_i32_i64(local_tid_106857)] =\n                            x_106865;\n                        x_106866 = x_106865;\n                    }\n                }\n                if (sle32(wave_sizze_106859, skip_threads_106872)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_106872 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool no_carry_in_106875 = squot32(local_tid_106857, 32) == 0 ||\n         !ltid_in_bounds_106868;\n    \n    // carry-in for every block except the first\n    {\n        // read operands\n        {\n            if (!no_carry_in_106875) {\n                x_101464 = x_101463;\n                x_101463 = ((__local\n                             int64_t *) scan_arr_mem_106861)[sext_i32_i64(squot32(local_tid_106857,\n                                                                                  32)) -\n                                                             (int64_t) 1];\n            }\n        }\n        // perform operation\n        {\n            bool inactive_106876 =\n                 slt64(srem64((sext_i32_i64(local_tid_106857) + (int64_t) 1) *\n                              (segscan_group_sizze_101456 * sdiv",
                   "_up64(m_92398 *\n                                                                      n_92399,\n                                                                      sext_i32_i64(num_threads_106827))) -\n                              (int64_t) 1, n_92399),\n                       (sext_i32_i64(local_tid_106857) + (int64_t) 1) *\n                       (segscan_group_sizze_101456 * sdiv_up64(m_92398 *\n                                                               n_92399,\n                                                               sext_i32_i64(num_threads_106827))) -\n                       (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_106857,\n                                                            32) * 32 - 1) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_101456 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_106827))) -\n                                      (int64_t) 1));\n            \n            if (!no_carry_in_106875) {\n                if (inactive_106876) {\n                    x_101463 = x_101464;\n                }\n            }\n            if (!no_carry_in_106875) {\n                if (!inactive_106876) {\n                    int64_t defunc_1_op_res_101465 = add64(x_101463, x_101464);\n                    \n                    x_101463 = defunc_1_op_res_101465;\n                }\n            }\n        }\n        // write final result\n        {\n            if (!no_carry_in_106875) {\n                ((__local\n                  int64_t *) scan_arr_mem_106861)[sext_i32_i64(local_tid_106857)] =\n                    x_101463;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_106857, 32) == 0 && ltid_in_bounds_106868) {\n            ((__local\n              int64_t *) scan_arr_mem_106861)[sext_i32_i64(local_tid_106",
                   "857)] =\n                x_101464;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_101460, m_92398) && slt64(gtid_101461, n_92399)) {\n            int64_t tmp_106877;\n            \n            tmp_106877 = ((__local\n                           int64_t *) scan_arr_mem_106861)[sext_i32_i64(local_tid_106857)];\n            ((__global int64_t *) mem_104968)[gtid_101460 * n_92399 +\n                                              gtid_101461] = tmp_106877;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_101456\n}\n__kernel void mainziscan_stage2_94761(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_105374_backing_aligned_0,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int64_t stage1_num_groups_105339,\n                                      int32_t num_threads_105340, __global\n                                      unsigned char *mem_104302)\n{\n    #define segscan_group_sizze_94755 (mainzisegscan_group_sizze_94735)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_105374_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_105374_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105369;\n    int32_t local_tid_105370;\n    int64_t group_sizze_105373;\n    int32_t wave_sizze_105372;\n    int32_t group_tid_105371;\n    \n    global_tid_105369 = get_global_id(0);\n    local_tid_105370 = get_local_id(0);\n    group_sizze_105373 = get_local_size(0);\n    wave_sizze_105372 = LOCKSTEP_WIDTH;\n    group_tid_105371 = get_group_id(0);\n    \n    int32_t phys_tid_94761 = global_tid_105369;\n    __local unsigned char *scan_",
                   "arr_mem_105374;\n    \n    scan_arr_mem_105374 = (__local\n                           unsigned char *) scan_arr_mem_105374_backing_0;\n    \n    int64_t flat_idx_105376 = (sext_i32_i64(local_tid_105370) + (int64_t) 1) *\n            (segscan_group_sizze_94755 * sdiv_up64(m_92398 * n_92399,\n                                                   sext_i32_i64(num_threads_105340))) -\n            (int64_t) 1;\n    int64_t gtid_94759 = squot64(flat_idx_105376, n_92399);\n    int64_t gtid_94760 = flat_idx_105376 - squot64(flat_idx_105376, n_92399) *\n            n_92399;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_94759, m_92398) && slt64(gtid_94760, n_92399)) {\n            int64_t tmp_105377;\n            \n            tmp_105377 = ((__global int64_t *) mem_104302)[gtid_94759 *\n                                                           n_92399 +\n                                                           gtid_94760];\n            ((__local\n              int64_t *) scan_arr_mem_105374)[sext_i32_i64(local_tid_105370)] =\n                tmp_105377;\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_105374)[sext_i32_i64(local_tid_105370)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_94762;\n    int64_t x_94763;\n    int64_t x_105378;\n    int64_t x_105379;\n    bool ltid_in_bounds_105381 = slt64(sext_i32_i64(local_tid_105370),\n                                       stage1_num_groups_105339);\n    int32_t skip_threads_105382;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_105381) {\n            x_94763 = ((volatile __local\n                        int64_t *) scan_arr_mem_105374)[sext_i32_i64(local_tid_105370)];\n            if ((local_tid_105370 - squot32(local_tid_105370, 32) * 32) == 0) {\n                x_94762 = x_94763;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_105382 = ",
                   "1;\n        while (slt32(skip_threads_105382, 32)) {\n            bool thread_active_105383 = sle32(skip_threads_105382,\n                                              local_tid_105370 -\n                                              squot32(local_tid_105370, 32) *\n                                              32) && ltid_in_bounds_105381;\n            \n            if (thread_active_105383) {\n                // read operands\n                {\n                    x_94762 = ((volatile __local\n                                int64_t *) scan_arr_mem_105374)[sext_i32_i64(local_tid_105370) -\n                                                                sext_i32_i64(skip_threads_105382)];\n                }\n            }\n            // perform operation\n            {\n                bool inactive_105384 =\n                     slt64(srem64((sext_i32_i64(local_tid_105370) +\n                                   (int64_t) 1) * (segscan_group_sizze_94755 *\n                                                   sdiv_up64(m_92398 * n_92399,\n                                                             sext_i32_i64(num_threads_105340))) -\n                                  (int64_t) 1, n_92399),\n                           (sext_i32_i64(local_tid_105370) + (int64_t) 1) *\n                           (segscan_group_sizze_94755 * sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64(num_threads_105340))) -\n                           (int64_t) 1 - ((sext_i32_i64(local_tid_105370 -\n                                           skip_threads_105382) + (int64_t) 1) *\n                                          (segscan_group_sizze_94755 *\n                                           sdiv_up64(m_92398 * n_92399,\n                                                     sext_i32_i64(num_threads_105340))) -\n                                          (int64_t) 1));\n                \n                if ",
                   "(thread_active_105383 && inactive_105384) {\n                    x_94762 = x_94763;\n                }\n                if (thread_active_105383) {\n                    if (!inactive_105384) {\n                        int64_t defunc_1_op_res_94764 = add64(x_94762, x_94763);\n                        \n                        x_94762 = defunc_1_op_res_94764;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_105372, skip_threads_105382)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (thread_active_105383) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_105374)[sext_i32_i64(local_tid_105370)] =\n                        x_94762;\n                    x_94763 = x_94762;\n                }\n            }\n            if (sle32(wave_sizze_105372, skip_threads_105382)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_105382 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_105370 - squot32(local_tid_105370, 32) * 32) == 31 &&\n            ltid_in_bounds_105381) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_105374)[sext_i32_i64(squot32(local_tid_105370,\n                                                                   32))] =\n                x_94762;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_105385;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_105370, 32) == 0 && ltid_in_bounds_105381) {\n                x_105379 = ((volatile __local\n                             int64_t *) scan_arr_mem_105374)[sext_i32_i64(local_tid_105370)];\n                if ((local_tid_105370 - squot32(local_tid_105370, 32) * 32) ==",
                   "\n                    0) {\n                    x_105378 = x_105379;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_105385 = 1;\n            while (slt32(skip_threads_105385, 32)) {\n                bool thread_active_105386 = sle32(skip_threads_105385,\n                                                  local_tid_105370 -\n                                                  squot32(local_tid_105370,\n                                                          32) * 32) &&\n                     (squot32(local_tid_105370, 32) == 0 &&\n                      ltid_in_bounds_105381);\n                \n                if (thread_active_105386) {\n                    // read operands\n                    {\n                        x_105378 = ((volatile __local\n                                     int64_t *) scan_arr_mem_105374)[sext_i32_i64(local_tid_105370) -\n                                                                     sext_i32_i64(skip_threads_105385)];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_105387 =\n                         slt64(srem64((sext_i32_i64(local_tid_105370 * 32 + 32 -\n                                       1) + (int64_t) 1) *\n                                      (segscan_group_sizze_94755 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_105340))) -\n                                      (int64_t) 1, n_92399),\n                               (sext_i32_i64(local_tid_105370 * 32 + 32 - 1) +\n                                (int64_t) 1) * (segscan_group_sizze_94755 *\n                                                sdiv_up64(m_92398 * n_92399,\n                                                          sext_i32_i64(num_threads_105340))) -\n                               (int64_t) 1 - ((sext_i32_i64((local_tid_105",
                   "370 -\n                                                             skip_threads_105385) *\n                                               32 + 32 - 1) + (int64_t) 1) *\n                                              (segscan_group_sizze_94755 *\n                                               sdiv_up64(m_92398 * n_92399,\n                                                         sext_i32_i64(num_threads_105340))) -\n                                              (int64_t) 1));\n                    \n                    if (thread_active_105386 && inactive_105387) {\n                        x_105378 = x_105379;\n                    }\n                    if (thread_active_105386) {\n                        if (!inactive_105387) {\n                            int64_t defunc_1_op_res_105380 = add64(x_105378,\n                                                                   x_105379);\n                            \n                            x_105378 = defunc_1_op_res_105380;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_105372, skip_threads_105385)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (thread_active_105386) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_105374)[sext_i32_i64(local_tid_105370)] =\n                            x_105378;\n                        x_105379 = x_105378;\n                    }\n                }\n                if (sle32(wave_sizze_105372, skip_threads_105385)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_105385 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool no_carry_in_105388 = squot32(local_tid_105370, 32) == 0 ||\n         !ltid_in_bounds_105381;\n    \n    // carry-in for every block except the first\n    {\n        // read operands\n        {\n            if (!no_ca",
                   "rry_in_105388) {\n                x_94763 = x_94762;\n                x_94762 = ((__local\n                            int64_t *) scan_arr_mem_105374)[sext_i32_i64(squot32(local_tid_105370,\n                                                                                 32)) -\n                                                            (int64_t) 1];\n            }\n        }\n        // perform operation\n        {\n            bool inactive_105389 =\n                 slt64(srem64((sext_i32_i64(local_tid_105370) + (int64_t) 1) *\n                              (segscan_group_sizze_94755 * sdiv_up64(m_92398 *\n                                                                     n_92399,\n                                                                     sext_i32_i64(num_threads_105340))) -\n                              (int64_t) 1, n_92399),\n                       (sext_i32_i64(local_tid_105370) + (int64_t) 1) *\n                       (segscan_group_sizze_94755 * sdiv_up64(m_92398 * n_92399,\n                                                              sext_i32_i64(num_threads_105340))) -\n                       (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_105370,\n                                                            32) * 32 - 1) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_94755 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_105340))) -\n                                      (int64_t) 1));\n            \n            if (!no_carry_in_105388) {\n                if (inactive_105389) {\n                    x_94762 = x_94763;\n                }\n            }\n            if (!no_carry_in_105388) {\n                if (!inactive_105389) {\n                    int64_t defunc_1_op_res_94764 = add64(x_94762, x_94763);\n                    \n                    x_94762 = defunc_1_op_res_94764;\n                }\n            }\n",
                   "        }\n        // write final result\n        {\n            if (!no_carry_in_105388) {\n                ((__local\n                  int64_t *) scan_arr_mem_105374)[sext_i32_i64(local_tid_105370)] =\n                    x_94762;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_105370, 32) == 0 && ltid_in_bounds_105381) {\n            ((__local\n              int64_t *) scan_arr_mem_105374)[sext_i32_i64(local_tid_105370)] =\n                x_94763;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_94759, m_92398) && slt64(gtid_94760, n_92399)) {\n            int64_t tmp_105390;\n            \n            tmp_105390 = ((__local\n                           int64_t *) scan_arr_mem_105374)[sext_i32_i64(local_tid_105370)];\n            ((__global int64_t *) mem_104302)[gtid_94759 * n_92399 +\n                                              gtid_94760] = tmp_105390;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_94755\n}\n__kernel void mainziscan_stage2_95434(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_105524_backing_aligned_0,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int64_t stage1_num_groups_105489,\n                                      int32_t num_threads_105490, __global\n                                      unsigned char *mem_104386)\n{\n    #define segscan_group_sizze_95428 (mainzisegscan_group_sizze_95408)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_105524_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_105524_backing_aligned_0;",
                   "\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105519;\n    int32_t local_tid_105520;\n    int64_t group_sizze_105523;\n    int32_t wave_sizze_105522;\n    int32_t group_tid_105521;\n    \n    global_tid_105519 = get_global_id(0);\n    local_tid_105520 = get_local_id(0);\n    group_sizze_105523 = get_local_size(0);\n    wave_sizze_105522 = LOCKSTEP_WIDTH;\n    group_tid_105521 = get_group_id(0);\n    \n    int32_t phys_tid_95434 = global_tid_105519;\n    __local unsigned char *scan_arr_mem_105524;\n    \n    scan_arr_mem_105524 = (__local\n                           unsigned char *) scan_arr_mem_105524_backing_0;\n    \n    int64_t flat_idx_105526 = (sext_i32_i64(local_tid_105520) + (int64_t) 1) *\n            (segscan_group_sizze_95428 * sdiv_up64(m_92398 * n_92399,\n                                                   sext_i32_i64(num_threads_105490))) -\n            (int64_t) 1;\n    int64_t gtid_95432 = squot64(flat_idx_105526, n_92399);\n    int64_t gtid_95433 = flat_idx_105526 - squot64(flat_idx_105526, n_92399) *\n            n_92399;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_95432, m_92398) && slt64(gtid_95433, n_92399)) {\n            int64_t tmp_105527;\n            \n            tmp_105527 = ((__global int64_t *) mem_104386)[gtid_95432 *\n                                                           n_92399 +\n                                                           gtid_95433];\n            ((__local\n              int64_t *) scan_arr_mem_105524)[sext_i32_i64(local_tid_105520)] =\n                tmp_105527;\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_105524)[sext_i32_i64(local_tid_105520)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_95435;\n    int64_t x_95436;\n    int64_t x_105528;\n    int64_t x_105529;\n    bool ltid_in_bounds_105531 = slt64(sext_i32_i64(local_tid_105520),\n                                       ",
                   "stage1_num_groups_105489);\n    int32_t skip_threads_105532;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_105531) {\n            x_95436 = ((volatile __local\n                        int64_t *) scan_arr_mem_105524)[sext_i32_i64(local_tid_105520)];\n            if ((local_tid_105520 - squot32(local_tid_105520, 32) * 32) == 0) {\n                x_95435 = x_95436;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_105532 = 1;\n        while (slt32(skip_threads_105532, 32)) {\n            bool thread_active_105533 = sle32(skip_threads_105532,\n                                              local_tid_105520 -\n                                              squot32(local_tid_105520, 32) *\n                                              32) && ltid_in_bounds_105531;\n            \n            if (thread_active_105533) {\n                // read operands\n                {\n                    x_95435 = ((volatile __local\n                                int64_t *) scan_arr_mem_105524)[sext_i32_i64(local_tid_105520) -\n                                                                sext_i32_i64(skip_threads_105532)];\n                }\n            }\n            // perform operation\n            {\n                bool inactive_105534 =\n                     slt64(srem64((sext_i32_i64(local_tid_105520) +\n                                   (int64_t) 1) * (segscan_group_sizze_95428 *\n                                                   sdiv_up64(m_92398 * n_92399,\n                                                             sext_i32_i64(num_threads_105490))) -\n                                  (int64_t) 1, n_92399),\n                           (sext_i32_i64(local_tid_105520) + (int64_t) 1) *\n                           (segscan_group_sizze_95428 * sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64",
                   "(num_threads_105490))) -\n                           (int64_t) 1 - ((sext_i32_i64(local_tid_105520 -\n                                           skip_threads_105532) + (int64_t) 1) *\n                                          (segscan_group_sizze_95428 *\n                                           sdiv_up64(m_92398 * n_92399,\n                                                     sext_i32_i64(num_threads_105490))) -\n                                          (int64_t) 1));\n                \n                if (thread_active_105533 && inactive_105534) {\n                    x_95435 = x_95436;\n                }\n                if (thread_active_105533) {\n                    if (!inactive_105534) {\n                        int64_t defunc_1_op_res_95437 = add64(x_95435, x_95436);\n                        \n                        x_95435 = defunc_1_op_res_95437;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_105522, skip_threads_105532)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (thread_active_105533) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_105524)[sext_i32_i64(local_tid_105520)] =\n                        x_95435;\n                    x_95436 = x_95435;\n                }\n            }\n            if (sle32(wave_sizze_105522, skip_threads_105532)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_105532 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_105520 - squot32(local_tid_105520, 32) * 32) == 31 &&\n            ltid_in_bounds_105531) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_105524)[sext_i32_i64(squot32(local_tid_105520,\n                                                                   32))] =\n                x_95435;\n        }\n    }\n    barrier(",
                   "CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_105535;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_105520, 32) == 0 && ltid_in_bounds_105531) {\n                x_105529 = ((volatile __local\n                             int64_t *) scan_arr_mem_105524)[sext_i32_i64(local_tid_105520)];\n                if ((local_tid_105520 - squot32(local_tid_105520, 32) * 32) ==\n                    0) {\n                    x_105528 = x_105529;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_105535 = 1;\n            while (slt32(skip_threads_105535, 32)) {\n                bool thread_active_105536 = sle32(skip_threads_105535,\n                                                  local_tid_105520 -\n                                                  squot32(local_tid_105520,\n                                                          32) * 32) &&\n                     (squot32(local_tid_105520, 32) == 0 &&\n                      ltid_in_bounds_105531);\n                \n                if (thread_active_105536) {\n                    // read operands\n                    {\n                        x_105528 = ((volatile __local\n                                     int64_t *) scan_arr_mem_105524)[sext_i32_i64(local_tid_105520) -\n                                                                     sext_i32_i64(skip_threads_105535)];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_105537 =\n                         slt64(srem64((sext_i32_i64(local_tid_105520 * 32 + 32 -\n                                       1) + (int64_t) 1) *\n                                      (segscan_group_sizze_95428 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                         ",
                   "        sext_i32_i64(num_threads_105490))) -\n                                      (int64_t) 1, n_92399),\n                               (sext_i32_i64(local_tid_105520 * 32 + 32 - 1) +\n                                (int64_t) 1) * (segscan_group_sizze_95428 *\n                                                sdiv_up64(m_92398 * n_92399,\n                                                          sext_i32_i64(num_threads_105490))) -\n                               (int64_t) 1 - ((sext_i32_i64((local_tid_105520 -\n                                                             skip_threads_105535) *\n                                               32 + 32 - 1) + (int64_t) 1) *\n                                              (segscan_group_sizze_95428 *\n                                               sdiv_up64(m_92398 * n_92399,\n                                                         sext_i32_i64(num_threads_105490))) -\n                                              (int64_t) 1));\n                    \n                    if (thread_active_105536 && inactive_105537) {\n                        x_105528 = x_105529;\n                    }\n                    if (thread_active_105536) {\n                        if (!inactive_105537) {\n                            int64_t defunc_1_op_res_105530 = add64(x_105528,\n                                                                   x_105529);\n                            \n                            x_105528 = defunc_1_op_res_105530;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_105522, skip_threads_105535)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (thread_active_105536) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_105524)[sext_i32_i64(local_tid_105520)] =\n                            x_105528;\n                        x_105529 = x_105528;",
                   "\n                    }\n                }\n                if (sle32(wave_sizze_105522, skip_threads_105535)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_105535 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool no_carry_in_105538 = squot32(local_tid_105520, 32) == 0 ||\n         !ltid_in_bounds_105531;\n    \n    // carry-in for every block except the first\n    {\n        // read operands\n        {\n            if (!no_carry_in_105538) {\n                x_95436 = x_95435;\n                x_95435 = ((__local\n                            int64_t *) scan_arr_mem_105524)[sext_i32_i64(squot32(local_tid_105520,\n                                                                                 32)) -\n                                                            (int64_t) 1];\n            }\n        }\n        // perform operation\n        {\n            bool inactive_105539 =\n                 slt64(srem64((sext_i32_i64(local_tid_105520) + (int64_t) 1) *\n                              (segscan_group_sizze_95428 * sdiv_up64(m_92398 *\n                                                                     n_92399,\n                                                                     sext_i32_i64(num_threads_105490))) -\n                              (int64_t) 1, n_92399),\n                       (sext_i32_i64(local_tid_105520) + (int64_t) 1) *\n                       (segscan_group_sizze_95428 * sdiv_up64(m_92398 * n_92399,\n                                                              sext_i32_i64(num_threads_105490))) -\n                       (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_105520,\n                                                            32) * 32 - 1) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_95428 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i3",
                   "2_i64(num_threads_105490))) -\n                                      (int64_t) 1));\n            \n            if (!no_carry_in_105538) {\n                if (inactive_105539) {\n                    x_95435 = x_95436;\n                }\n            }\n            if (!no_carry_in_105538) {\n                if (!inactive_105539) {\n                    int64_t defunc_1_op_res_95437 = add64(x_95435, x_95436);\n                    \n                    x_95435 = defunc_1_op_res_95437;\n                }\n            }\n        }\n        // write final result\n        {\n            if (!no_carry_in_105538) {\n                ((__local\n                  int64_t *) scan_arr_mem_105524)[sext_i32_i64(local_tid_105520)] =\n                    x_95435;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_105520, 32) == 0 && ltid_in_bounds_105531) {\n            ((__local\n              int64_t *) scan_arr_mem_105524)[sext_i32_i64(local_tid_105520)] =\n                x_95436;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_95432, m_92398) && slt64(gtid_95433, n_92399)) {\n            int64_t tmp_105540;\n            \n            tmp_105540 = ((__local\n                           int64_t *) scan_arr_mem_105524)[sext_i32_i64(local_tid_105520)];\n            ((__global int64_t *) mem_104386)[gtid_95432 * n_92399 +\n                                              gtid_95433] = tmp_105540;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_95428\n}\n__kernel void mainziscan_stage2_96169(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_105682_backing_aligned_0,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int64_t stage1_num_groups_105647,\n                       ",
                   "               int32_t num_threads_105648, __global\n                                      unsigned char *mem_104501)\n{\n    #define segscan_group_sizze_96163 (mainzisegscan_group_sizze_96143)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_105682_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_105682_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105677;\n    int32_t local_tid_105678;\n    int64_t group_sizze_105681;\n    int32_t wave_sizze_105680;\n    int32_t group_tid_105679;\n    \n    global_tid_105677 = get_global_id(0);\n    local_tid_105678 = get_local_id(0);\n    group_sizze_105681 = get_local_size(0);\n    wave_sizze_105680 = LOCKSTEP_WIDTH;\n    group_tid_105679 = get_group_id(0);\n    \n    int32_t phys_tid_96169 = global_tid_105677;\n    __local unsigned char *scan_arr_mem_105682;\n    \n    scan_arr_mem_105682 = (__local\n                           unsigned char *) scan_arr_mem_105682_backing_0;\n    \n    int64_t flat_idx_105684 = (sext_i32_i64(local_tid_105678) + (int64_t) 1) *\n            (segscan_group_sizze_96163 * sdiv_up64(m_92398 * n_92399,\n                                                   sext_i32_i64(num_threads_105648))) -\n            (int64_t) 1;\n    int64_t gtid_96167 = squot64(flat_idx_105684, n_92399);\n    int64_t gtid_96168 = flat_idx_105684 - squot64(flat_idx_105684, n_92399) *\n            n_92399;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_96167, m_92398) && slt64(gtid_96168, n_92399)) {\n            int64_t tmp_105685;\n            \n            tmp_105685 = ((__global int64_t *) mem_104501)[gtid_96167 *\n                                                           n_92399 +\n                                                           gtid_96168];\n            ((__local\n",
                   "              int64_t *) scan_arr_mem_105682)[sext_i32_i64(local_tid_105678)] =\n                tmp_105685;\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_105682)[sext_i32_i64(local_tid_105678)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_96170;\n    int64_t x_96171;\n    int64_t x_105686;\n    int64_t x_105687;\n    bool ltid_in_bounds_105689 = slt64(sext_i32_i64(local_tid_105678),\n                                       stage1_num_groups_105647);\n    int32_t skip_threads_105690;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_105689) {\n            x_96171 = ((volatile __local\n                        int64_t *) scan_arr_mem_105682)[sext_i32_i64(local_tid_105678)];\n            if ((local_tid_105678 - squot32(local_tid_105678, 32) * 32) == 0) {\n                x_96170 = x_96171;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_105690 = 1;\n        while (slt32(skip_threads_105690, 32)) {\n            bool thread_active_105691 = sle32(skip_threads_105690,\n                                              local_tid_105678 -\n                                              squot32(local_tid_105678, 32) *\n                                              32) && ltid_in_bounds_105689;\n            \n            if (thread_active_105691) {\n                // read operands\n                {\n                    x_96170 = ((volatile __local\n                                int64_t *) scan_arr_mem_105682)[sext_i32_i64(local_tid_105678) -\n                                                                sext_i32_i64(skip_threads_105690)];\n                }\n            }\n            // perform operation\n            {\n                bool inactive_105692 =\n                     slt64(srem64((sext_i32_i64(local_tid_105678) +\n                                   (int64_t) 1) * (segscan_group_sizze_96163 *\n                                 ",
                   "                  sdiv_up64(m_92398 * n_92399,\n                                                             sext_i32_i64(num_threads_105648))) -\n                                  (int64_t) 1, n_92399),\n                           (sext_i32_i64(local_tid_105678) + (int64_t) 1) *\n                           (segscan_group_sizze_96163 * sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64(num_threads_105648))) -\n                           (int64_t) 1 - ((sext_i32_i64(local_tid_105678 -\n                                           skip_threads_105690) + (int64_t) 1) *\n                                          (segscan_group_sizze_96163 *\n                                           sdiv_up64(m_92398 * n_92399,\n                                                     sext_i32_i64(num_threads_105648))) -\n                                          (int64_t) 1));\n                \n                if (thread_active_105691 && inactive_105692) {\n                    x_96170 = x_96171;\n                }\n                if (thread_active_105691) {\n                    if (!inactive_105692) {\n                        int64_t defunc_1_op_res_96172 = add64(x_96170, x_96171);\n                        \n                        x_96170 = defunc_1_op_res_96172;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_105680, skip_threads_105690)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (thread_active_105691) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_105682)[sext_i32_i64(local_tid_105678)] =\n                        x_96170;\n                    x_96171 = x_96170;\n                }\n            }\n            if (sle32(wave_sizze_105680, skip_threads_105690)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n         ",
                   "   skip_threads_105690 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_105678 - squot32(local_tid_105678, 32) * 32) == 31 &&\n            ltid_in_bounds_105689) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_105682)[sext_i32_i64(squot32(local_tid_105678,\n                                                                   32))] =\n                x_96170;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_105693;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_105678, 32) == 0 && ltid_in_bounds_105689) {\n                x_105687 = ((volatile __local\n                             int64_t *) scan_arr_mem_105682)[sext_i32_i64(local_tid_105678)];\n                if ((local_tid_105678 - squot32(local_tid_105678, 32) * 32) ==\n                    0) {\n                    x_105686 = x_105687;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_105693 = 1;\n            while (slt32(skip_threads_105693, 32)) {\n                bool thread_active_105694 = sle32(skip_threads_105693,\n                                                  local_tid_105678 -\n                                                  squot32(local_tid_105678,\n                                                          32) * 32) &&\n                     (squot32(local_tid_105678, 32) == 0 &&\n                      ltid_in_bounds_105689);\n                \n                if (thread_active_105694) {\n                    // read operands\n                    {\n                        x_105686 = ((volatile __local\n                                     int64_t *) scan_arr_mem_105682)[sext_i32_i64(local_tid_105678) -\n                                                    ",
                   "                 sext_i32_i64(skip_threads_105693)];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_105695 =\n                         slt64(srem64((sext_i32_i64(local_tid_105678 * 32 + 32 -\n                                       1) + (int64_t) 1) *\n                                      (segscan_group_sizze_96163 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_105648))) -\n                                      (int64_t) 1, n_92399),\n                               (sext_i32_i64(local_tid_105678 * 32 + 32 - 1) +\n                                (int64_t) 1) * (segscan_group_sizze_96163 *\n                                                sdiv_up64(m_92398 * n_92399,\n                                                          sext_i32_i64(num_threads_105648))) -\n                               (int64_t) 1 - ((sext_i32_i64((local_tid_105678 -\n                                                             skip_threads_105693) *\n                                               32 + 32 - 1) + (int64_t) 1) *\n                                              (segscan_group_sizze_96163 *\n                                               sdiv_up64(m_92398 * n_92399,\n                                                         sext_i32_i64(num_threads_105648))) -\n                                              (int64_t) 1));\n                    \n                    if (thread_active_105694 && inactive_105695) {\n                        x_105686 = x_105687;\n                    }\n                    if (thread_active_105694) {\n                        if (!inactive_105695) {\n                            int64_t defunc_1_op_res_105688 = add64(x_105686,\n                                                                   x_105687);\n                            \n                            x_105686 = defunc_1_op_res_105688;\n               ",
                   "         }\n                    }\n                }\n                if (sle32(wave_sizze_105680, skip_threads_105693)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (thread_active_105694) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_105682)[sext_i32_i64(local_tid_105678)] =\n                            x_105686;\n                        x_105687 = x_105686;\n                    }\n                }\n                if (sle32(wave_sizze_105680, skip_threads_105693)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_105693 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool no_carry_in_105696 = squot32(local_tid_105678, 32) == 0 ||\n         !ltid_in_bounds_105689;\n    \n    // carry-in for every block except the first\n    {\n        // read operands\n        {\n            if (!no_carry_in_105696) {\n                x_96171 = x_96170;\n                x_96170 = ((__local\n                            int64_t *) scan_arr_mem_105682)[sext_i32_i64(squot32(local_tid_105678,\n                                                                                 32)) -\n                                                            (int64_t) 1];\n            }\n        }\n        // perform operation\n        {\n            bool inactive_105697 =\n                 slt64(srem64((sext_i32_i64(local_tid_105678) + (int64_t) 1) *\n                              (segscan_group_sizze_96163 * sdiv_up64(m_92398 *\n                                                                     n_92399,\n                                                                     sext_i32_i64(num_threads_105648))) -\n                              (int64_t) 1, n_92399),\n                       (sext_i32_i64(local_tid_105678) + (int64_t) 1) *\n                       (segscan_group_sizze_96163 * sdiv_up64(m_92398 * ",
                   "n_92399,\n                                                              sext_i32_i64(num_threads_105648))) -\n                       (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_105678,\n                                                            32) * 32 - 1) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_96163 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_105648))) -\n                                      (int64_t) 1));\n            \n            if (!no_carry_in_105696) {\n                if (inactive_105697) {\n                    x_96170 = x_96171;\n                }\n            }\n            if (!no_carry_in_105696) {\n                if (!inactive_105697) {\n                    int64_t defunc_1_op_res_96172 = add64(x_96170, x_96171);\n                    \n                    x_96170 = defunc_1_op_res_96172;\n                }\n            }\n        }\n        // write final result\n        {\n            if (!no_carry_in_105696) {\n                ((__local\n                  int64_t *) scan_arr_mem_105682)[sext_i32_i64(local_tid_105678)] =\n                    x_96170;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_105678, 32) == 0 && ltid_in_bounds_105689) {\n            ((__local\n              int64_t *) scan_arr_mem_105682)[sext_i32_i64(local_tid_105678)] =\n                x_96171;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_96167, m_92398) && slt64(gtid_96168, n_92399)) {\n            int64_t tmp_105698;\n            \n            tmp_105698 = ((__local\n                           int64_t *) scan_arr_mem_105682)[sext_i32_i64(local_tid_105678)];\n            ((__global int64_t *) mem_104501)[gtid_96167 * n_92399 +\n                        ",
                   "                      gtid_96168] = tmp_105698;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_96163\n}\n__kernel void mainziscan_stage2_96870(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_105856_backing_aligned_0,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int64_t stage1_num_groups_105821,\n                                      int32_t num_threads_105822, __global\n                                      unsigned char *mem_104648)\n{\n    #define segscan_group_sizze_96864 (mainzisegscan_group_sizze_96844)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_105856_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_105856_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105851;\n    int32_t local_tid_105852;\n    int64_t group_sizze_105855;\n    int32_t wave_sizze_105854;\n    int32_t group_tid_105853;\n    \n    global_tid_105851 = get_global_id(0);\n    local_tid_105852 = get_local_id(0);\n    group_sizze_105855 = get_local_size(0);\n    wave_sizze_105854 = LOCKSTEP_WIDTH;\n    group_tid_105853 = get_group_id(0);\n    \n    int32_t phys_tid_96870 = global_tid_105851;\n    __local unsigned char *scan_arr_mem_105856;\n    \n    scan_arr_mem_105856 = (__local\n                           unsigned char *) scan_arr_mem_105856_backing_0;\n    \n    int64_t flat_idx_105858 = (sext_i32_i64(local_tid_105852) + (int64_t) 1) *\n            (segscan_group_sizze_96864 * sdiv_up64(m_92398 * n_92399,\n                                                   sext_i32_i64(num_threads_105822))) -\n            (int64_t) 1;\n    int64_t gtid_96868 = squot64(flat_idx_105858, n_92399);\n    int64_t gtid_9686",
                   "9 = flat_idx_105858 - squot64(flat_idx_105858, n_92399) *\n            n_92399;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_96868, m_92398) && slt64(gtid_96869, n_92399)) {\n            int64_t tmp_105859;\n            \n            tmp_105859 = ((__global int64_t *) mem_104648)[gtid_96868 *\n                                                           n_92399 +\n                                                           gtid_96869];\n            ((__local\n              int64_t *) scan_arr_mem_105856)[sext_i32_i64(local_tid_105852)] =\n                tmp_105859;\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_105856)[sext_i32_i64(local_tid_105852)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_96871;\n    int64_t x_96872;\n    int64_t x_105860;\n    int64_t x_105861;\n    bool ltid_in_bounds_105863 = slt64(sext_i32_i64(local_tid_105852),\n                                       stage1_num_groups_105821);\n    int32_t skip_threads_105864;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_105863) {\n            x_96872 = ((volatile __local\n                        int64_t *) scan_arr_mem_105856)[sext_i32_i64(local_tid_105852)];\n            if ((local_tid_105852 - squot32(local_tid_105852, 32) * 32) == 0) {\n                x_96871 = x_96872;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_105864 = 1;\n        while (slt32(skip_threads_105864, 32)) {\n            bool thread_active_105865 = sle32(skip_threads_105864,\n                                              local_tid_105852 -\n                                              squot32(local_tid_105852, 32) *\n                                              32) && ltid_in_bounds_105863;\n            \n            if (thread_active_105865) {\n                // read operands\n                {\n                    x_96871 = ((volat",
                   "ile __local\n                                int64_t *) scan_arr_mem_105856)[sext_i32_i64(local_tid_105852) -\n                                                                sext_i32_i64(skip_threads_105864)];\n                }\n            }\n            // perform operation\n            {\n                bool inactive_105866 =\n                     slt64(srem64((sext_i32_i64(local_tid_105852) +\n                                   (int64_t) 1) * (segscan_group_sizze_96864 *\n                                                   sdiv_up64(m_92398 * n_92399,\n                                                             sext_i32_i64(num_threads_105822))) -\n                                  (int64_t) 1, n_92399),\n                           (sext_i32_i64(local_tid_105852) + (int64_t) 1) *\n                           (segscan_group_sizze_96864 * sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64(num_threads_105822))) -\n                           (int64_t) 1 - ((sext_i32_i64(local_tid_105852 -\n                                           skip_threads_105864) + (int64_t) 1) *\n                                          (segscan_group_sizze_96864 *\n                                           sdiv_up64(m_92398 * n_92399,\n                                                     sext_i32_i64(num_threads_105822))) -\n                                          (int64_t) 1));\n                \n                if (thread_active_105865 && inactive_105866) {\n                    x_96871 = x_96872;\n                }\n                if (thread_active_105865) {\n                    if (!inactive_105866) {\n                        int64_t defunc_1_op_res_96873 = add64(x_96871, x_96872);\n                        \n                        x_96871 = defunc_1_op_res_96873;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_105854, skip_threads_105864)) {\n        ",
                   "        barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (thread_active_105865) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_105856)[sext_i32_i64(local_tid_105852)] =\n                        x_96871;\n                    x_96872 = x_96871;\n                }\n            }\n            if (sle32(wave_sizze_105854, skip_threads_105864)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_105864 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_105852 - squot32(local_tid_105852, 32) * 32) == 31 &&\n            ltid_in_bounds_105863) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_105856)[sext_i32_i64(squot32(local_tid_105852,\n                                                                   32))] =\n                x_96871;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_105867;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_105852, 32) == 0 && ltid_in_bounds_105863) {\n                x_105861 = ((volatile __local\n                             int64_t *) scan_arr_mem_105856)[sext_i32_i64(local_tid_105852)];\n                if ((local_tid_105852 - squot32(local_tid_105852, 32) * 32) ==\n                    0) {\n                    x_105860 = x_105861;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_105867 = 1;\n            while (slt32(skip_threads_105867, 32)) {\n                bool thread_active_105868 = sle32(skip_threads_105867,\n                                                  local_tid_105852 -\n                                                  squot32(local_tid_105852",
                   ",\n                                                          32) * 32) &&\n                     (squot32(local_tid_105852, 32) == 0 &&\n                      ltid_in_bounds_105863);\n                \n                if (thread_active_105868) {\n                    // read operands\n                    {\n                        x_105860 = ((volatile __local\n                                     int64_t *) scan_arr_mem_105856)[sext_i32_i64(local_tid_105852) -\n                                                                     sext_i32_i64(skip_threads_105867)];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_105869 =\n                         slt64(srem64((sext_i32_i64(local_tid_105852 * 32 + 32 -\n                                       1) + (int64_t) 1) *\n                                      (segscan_group_sizze_96864 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_105822))) -\n                                      (int64_t) 1, n_92399),\n                               (sext_i32_i64(local_tid_105852 * 32 + 32 - 1) +\n                                (int64_t) 1) * (segscan_group_sizze_96864 *\n                                                sdiv_up64(m_92398 * n_92399,\n                                                          sext_i32_i64(num_threads_105822))) -\n                               (int64_t) 1 - ((sext_i32_i64((local_tid_105852 -\n                                                             skip_threads_105867) *\n                                               32 + 32 - 1) + (int64_t) 1) *\n                                              (segscan_group_sizze_96864 *\n                                               sdiv_up64(m_92398 * n_92399,\n                                                         sext_i32_i64(num_threads_105822))) -\n                                              (int64_t) 1));\n      ",
                   "              \n                    if (thread_active_105868 && inactive_105869) {\n                        x_105860 = x_105861;\n                    }\n                    if (thread_active_105868) {\n                        if (!inactive_105869) {\n                            int64_t defunc_1_op_res_105862 = add64(x_105860,\n                                                                   x_105861);\n                            \n                            x_105860 = defunc_1_op_res_105862;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_105854, skip_threads_105867)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (thread_active_105868) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_105856)[sext_i32_i64(local_tid_105852)] =\n                            x_105860;\n                        x_105861 = x_105860;\n                    }\n                }\n                if (sle32(wave_sizze_105854, skip_threads_105867)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_105867 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool no_carry_in_105870 = squot32(local_tid_105852, 32) == 0 ||\n         !ltid_in_bounds_105863;\n    \n    // carry-in for every block except the first\n    {\n        // read operands\n        {\n            if (!no_carry_in_105870) {\n                x_96872 = x_96871;\n                x_96871 = ((__local\n                            int64_t *) scan_arr_mem_105856)[sext_i32_i64(squot32(local_tid_105852,\n                                                                                 32)) -\n                                                            (int64_t) 1];\n            }\n        }\n        // perform operation\n        {\n            bool inactive_105871 =\n                 slt64(srem64((s",
                   "ext_i32_i64(local_tid_105852) + (int64_t) 1) *\n                              (segscan_group_sizze_96864 * sdiv_up64(m_92398 *\n                                                                     n_92399,\n                                                                     sext_i32_i64(num_threads_105822))) -\n                              (int64_t) 1, n_92399),\n                       (sext_i32_i64(local_tid_105852) + (int64_t) 1) *\n                       (segscan_group_sizze_96864 * sdiv_up64(m_92398 * n_92399,\n                                                              sext_i32_i64(num_threads_105822))) -\n                       (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_105852,\n                                                            32) * 32 - 1) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_96864 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_105822))) -\n                                      (int64_t) 1));\n            \n            if (!no_carry_in_105870) {\n                if (inactive_105871) {\n                    x_96871 = x_96872;\n                }\n            }\n            if (!no_carry_in_105870) {\n                if (!inactive_105871) {\n                    int64_t defunc_1_op_res_96873 = add64(x_96871, x_96872);\n                    \n                    x_96871 = defunc_1_op_res_96873;\n                }\n            }\n        }\n        // write final result\n        {\n            if (!no_carry_in_105870) {\n                ((__local\n                  int64_t *) scan_arr_mem_105856)[sext_i32_i64(local_tid_105852)] =\n                    x_96871;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_105852, 32) == 0 && ltid_in_bounds_105863) {\n            ((__local\n              int64_t *) scan_arr_mem_",
                   "105856)[sext_i32_i64(local_tid_105852)] =\n                x_96872;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_96868, m_92398) && slt64(gtid_96869, n_92399)) {\n            int64_t tmp_105872;\n            \n            tmp_105872 = ((__local\n                           int64_t *) scan_arr_mem_105856)[sext_i32_i64(local_tid_105852)];\n            ((__global int64_t *) mem_104648)[gtid_96868 * n_92399 +\n                                              gtid_96869] = tmp_105872;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_96864\n}\n__kernel void mainziscan_stage2_97537(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_105987_backing_aligned_0,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int64_t stage1_num_groups_105952,\n                                      int32_t num_threads_105953, __global\n                                      unsigned char *mem_104695)\n{\n    #define segscan_group_sizze_97531 (mainzisegscan_group_sizze_97511)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_105987_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_105987_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105982;\n    int32_t local_tid_105983;\n    int64_t group_sizze_105986;\n    int32_t wave_sizze_105985;\n    int32_t group_tid_105984;\n    \n    global_tid_105982 = get_global_id(0);\n    local_tid_105983 = get_local_id(0);\n    group_sizze_105986 = get_local_size(0);\n    wave_sizze_105985 = LOCKSTEP_WIDTH;\n    group_tid_105984 = get_group_id(0);\n    \n    int32_t phys_tid_97537 = global_tid_105982;\n    ",
                   "__local unsigned char *scan_arr_mem_105987;\n    \n    scan_arr_mem_105987 = (__local\n                           unsigned char *) scan_arr_mem_105987_backing_0;\n    \n    int64_t flat_idx_105989 = (sext_i32_i64(local_tid_105983) + (int64_t) 1) *\n            (segscan_group_sizze_97531 * sdiv_up64(m_92398 * n_92399,\n                                                   sext_i32_i64(num_threads_105953))) -\n            (int64_t) 1;\n    int64_t gtid_97535 = squot64(flat_idx_105989, n_92399);\n    int64_t gtid_97536 = flat_idx_105989 - squot64(flat_idx_105989, n_92399) *\n            n_92399;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_97535, m_92398) && slt64(gtid_97536, n_92399)) {\n            int64_t tmp_105990;\n            \n            tmp_105990 = ((__global int64_t *) mem_104695)[gtid_97535 *\n                                                           n_92399 +\n                                                           gtid_97536];\n            ((__local\n              int64_t *) scan_arr_mem_105987)[sext_i32_i64(local_tid_105983)] =\n                tmp_105990;\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_105987)[sext_i32_i64(local_tid_105983)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_97538;\n    int64_t x_97539;\n    int64_t x_105991;\n    int64_t x_105992;\n    bool ltid_in_bounds_105994 = slt64(sext_i32_i64(local_tid_105983),\n                                       stage1_num_groups_105952);\n    int32_t skip_threads_105995;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_105994) {\n            x_97539 = ((volatile __local\n                        int64_t *) scan_arr_mem_105987)[sext_i32_i64(local_tid_105983)];\n            if ((local_tid_105983 - squot32(local_tid_105983, 32) * 32) == 0) {\n                x_97538 = x_97539;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n  ",
                   "      skip_threads_105995 = 1;\n        while (slt32(skip_threads_105995, 32)) {\n            bool thread_active_105996 = sle32(skip_threads_105995,\n                                              local_tid_105983 -\n                                              squot32(local_tid_105983, 32) *\n                                              32) && ltid_in_bounds_105994;\n            \n            if (thread_active_105996) {\n                // read operands\n                {\n                    x_97538 = ((volatile __local\n                                int64_t *) scan_arr_mem_105987)[sext_i32_i64(local_tid_105983) -\n                                                                sext_i32_i64(skip_threads_105995)];\n                }\n            }\n            // perform operation\n            {\n                bool inactive_105997 =\n                     slt64(srem64((sext_i32_i64(local_tid_105983) +\n                                   (int64_t) 1) * (segscan_group_sizze_97531 *\n                                                   sdiv_up64(m_92398 * n_92399,\n                                                             sext_i32_i64(num_threads_105953))) -\n                                  (int64_t) 1, n_92399),\n                           (sext_i32_i64(local_tid_105983) + (int64_t) 1) *\n                           (segscan_group_sizze_97531 * sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64(num_threads_105953))) -\n                           (int64_t) 1 - ((sext_i32_i64(local_tid_105983 -\n                                           skip_threads_105995) + (int64_t) 1) *\n                                          (segscan_group_sizze_97531 *\n                                           sdiv_up64(m_92398 * n_92399,\n                                                     sext_i32_i64(num_threads_105953))) -\n                                          (int64_t) 1));\n        ",
                   "        \n                if (thread_active_105996 && inactive_105997) {\n                    x_97538 = x_97539;\n                }\n                if (thread_active_105996) {\n                    if (!inactive_105997) {\n                        int64_t defunc_1_op_res_97540 = add64(x_97538, x_97539);\n                        \n                        x_97538 = defunc_1_op_res_97540;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_105985, skip_threads_105995)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (thread_active_105996) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_105987)[sext_i32_i64(local_tid_105983)] =\n                        x_97538;\n                    x_97539 = x_97538;\n                }\n            }\n            if (sle32(wave_sizze_105985, skip_threads_105995)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_105995 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_105983 - squot32(local_tid_105983, 32) * 32) == 31 &&\n            ltid_in_bounds_105994) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_105987)[sext_i32_i64(squot32(local_tid_105983,\n                                                                   32))] =\n                x_97538;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_105998;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_105983, 32) == 0 && ltid_in_bounds_105994) {\n                x_105992 = ((volatile __local\n                             int64_t *) scan_arr_mem_105987)[sext_i32_i64(local_tid_105983)];\n                if ((local_tid_105983 - squot32(lo",
                   "cal_tid_105983, 32) * 32) ==\n                    0) {\n                    x_105991 = x_105992;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_105998 = 1;\n            while (slt32(skip_threads_105998, 32)) {\n                bool thread_active_105999 = sle32(skip_threads_105998,\n                                                  local_tid_105983 -\n                                                  squot32(local_tid_105983,\n                                                          32) * 32) &&\n                     (squot32(local_tid_105983, 32) == 0 &&\n                      ltid_in_bounds_105994);\n                \n                if (thread_active_105999) {\n                    // read operands\n                    {\n                        x_105991 = ((volatile __local\n                                     int64_t *) scan_arr_mem_105987)[sext_i32_i64(local_tid_105983) -\n                                                                     sext_i32_i64(skip_threads_105998)];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_106000 =\n                         slt64(srem64((sext_i32_i64(local_tid_105983 * 32 + 32 -\n                                       1) + (int64_t) 1) *\n                                      (segscan_group_sizze_97531 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_105953))) -\n                                      (int64_t) 1, n_92399),\n                               (sext_i32_i64(local_tid_105983 * 32 + 32 - 1) +\n                                (int64_t) 1) * (segscan_group_sizze_97531 *\n                                                sdiv_up64(m_92398 * n_92399,\n                                                          sext_i32_i64(num_threads_105953))) -\n                               (int64_t) 1 - (",
                   "(sext_i32_i64((local_tid_105983 -\n                                                             skip_threads_105998) *\n                                               32 + 32 - 1) + (int64_t) 1) *\n                                              (segscan_group_sizze_97531 *\n                                               sdiv_up64(m_92398 * n_92399,\n                                                         sext_i32_i64(num_threads_105953))) -\n                                              (int64_t) 1));\n                    \n                    if (thread_active_105999 && inactive_106000) {\n                        x_105991 = x_105992;\n                    }\n                    if (thread_active_105999) {\n                        if (!inactive_106000) {\n                            int64_t defunc_1_op_res_105993 = add64(x_105991,\n                                                                   x_105992);\n                            \n                            x_105991 = defunc_1_op_res_105993;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_105985, skip_threads_105998)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (thread_active_105999) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_105987)[sext_i32_i64(local_tid_105983)] =\n                            x_105991;\n                        x_105992 = x_105991;\n                    }\n                }\n                if (sle32(wave_sizze_105985, skip_threads_105998)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_105998 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool no_carry_in_106001 = squot32(local_tid_105983, 32) == 0 ||\n         !ltid_in_bounds_105994;\n    \n    // carry-in for every block except the first\n    {\n        // read operands\n    ",
                   "    {\n            if (!no_carry_in_106001) {\n                x_97539 = x_97538;\n                x_97538 = ((__local\n                            int64_t *) scan_arr_mem_105987)[sext_i32_i64(squot32(local_tid_105983,\n                                                                                 32)) -\n                                                            (int64_t) 1];\n            }\n        }\n        // perform operation\n        {\n            bool inactive_106002 =\n                 slt64(srem64((sext_i32_i64(local_tid_105983) + (int64_t) 1) *\n                              (segscan_group_sizze_97531 * sdiv_up64(m_92398 *\n                                                                     n_92399,\n                                                                     sext_i32_i64(num_threads_105953))) -\n                              (int64_t) 1, n_92399),\n                       (sext_i32_i64(local_tid_105983) + (int64_t) 1) *\n                       (segscan_group_sizze_97531 * sdiv_up64(m_92398 * n_92399,\n                                                              sext_i32_i64(num_threads_105953))) -\n                       (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_105983,\n                                                            32) * 32 - 1) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_97531 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_105953))) -\n                                      (int64_t) 1));\n            \n            if (!no_carry_in_106001) {\n                if (inactive_106002) {\n                    x_97538 = x_97539;\n                }\n            }\n            if (!no_carry_in_106001) {\n                if (!inactive_106002) {\n                    int64_t defunc_1_op_res_97540 = add64(x_97538, x_97539);\n                    \n                    x_97538 = defunc_1_op_res_97540;\n    ",
                   "            }\n            }\n        }\n        // write final result\n        {\n            if (!no_carry_in_106001) {\n                ((__local\n                  int64_t *) scan_arr_mem_105987)[sext_i32_i64(local_tid_105983)] =\n                    x_97538;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_105983, 32) == 0 && ltid_in_bounds_105994) {\n            ((__local\n              int64_t *) scan_arr_mem_105987)[sext_i32_i64(local_tid_105983)] =\n                x_97539;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_97535, m_92398) && slt64(gtid_97536, n_92399)) {\n            int64_t tmp_106003;\n            \n            tmp_106003 = ((__local\n                           int64_t *) scan_arr_mem_105987)[sext_i32_i64(local_tid_105983)];\n            ((__global int64_t *) mem_104695)[gtid_97535 * n_92399 +\n                                              gtid_97536] = tmp_106003;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_97531\n}\n__kernel void mainziscan_stage2_98294(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_106124_backing_aligned_0,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int64_t stage1_num_groups_106089,\n                                      int32_t num_threads_106090, __global\n                                      unsigned char *mem_104749)\n{\n    #define segscan_group_sizze_98288 (mainzisegscan_group_sizze_98268)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_106124_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_m",
                   "em_106124_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106119;\n    int32_t local_tid_106120;\n    int64_t group_sizze_106123;\n    int32_t wave_sizze_106122;\n    int32_t group_tid_106121;\n    \n    global_tid_106119 = get_global_id(0);\n    local_tid_106120 = get_local_id(0);\n    group_sizze_106123 = get_local_size(0);\n    wave_sizze_106122 = LOCKSTEP_WIDTH;\n    group_tid_106121 = get_group_id(0);\n    \n    int32_t phys_tid_98294 = global_tid_106119;\n    __local unsigned char *scan_arr_mem_106124;\n    \n    scan_arr_mem_106124 = (__local\n                           unsigned char *) scan_arr_mem_106124_backing_0;\n    \n    int64_t flat_idx_106126 = (sext_i32_i64(local_tid_106120) + (int64_t) 1) *\n            (segscan_group_sizze_98288 * sdiv_up64(m_92398 * n_92399,\n                                                   sext_i32_i64(num_threads_106090))) -\n            (int64_t) 1;\n    int64_t gtid_98292 = squot64(flat_idx_106126, n_92399);\n    int64_t gtid_98293 = flat_idx_106126 - squot64(flat_idx_106126, n_92399) *\n            n_92399;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_98292, m_92398) && slt64(gtid_98293, n_92399)) {\n            int64_t tmp_106127;\n            \n            tmp_106127 = ((__global int64_t *) mem_104749)[gtid_98292 *\n                                                           n_92399 +\n                                                           gtid_98293];\n            ((__local\n              int64_t *) scan_arr_mem_106124)[sext_i32_i64(local_tid_106120)] =\n                tmp_106127;\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_106124)[sext_i32_i64(local_tid_106120)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_98295;\n    int64_t x_98296;\n    int64_t x_106128;\n    int64_t x_106129;\n    bool ltid_in_bounds_106131 = slt64(sext_i32_i64(local_tid_106120),\n           ",
                   "                            stage1_num_groups_106089);\n    int32_t skip_threads_106132;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_106131) {\n            x_98296 = ((volatile __local\n                        int64_t *) scan_arr_mem_106124)[sext_i32_i64(local_tid_106120)];\n            if ((local_tid_106120 - squot32(local_tid_106120, 32) * 32) == 0) {\n                x_98295 = x_98296;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_106132 = 1;\n        while (slt32(skip_threads_106132, 32)) {\n            bool thread_active_106133 = sle32(skip_threads_106132,\n                                              local_tid_106120 -\n                                              squot32(local_tid_106120, 32) *\n                                              32) && ltid_in_bounds_106131;\n            \n            if (thread_active_106133) {\n                // read operands\n                {\n                    x_98295 = ((volatile __local\n                                int64_t *) scan_arr_mem_106124)[sext_i32_i64(local_tid_106120) -\n                                                                sext_i32_i64(skip_threads_106132)];\n                }\n            }\n            // perform operation\n            {\n                bool inactive_106134 =\n                     slt64(srem64((sext_i32_i64(local_tid_106120) +\n                                   (int64_t) 1) * (segscan_group_sizze_98288 *\n                                                   sdiv_up64(m_92398 * n_92399,\n                                                             sext_i32_i64(num_threads_106090))) -\n                                  (int64_t) 1, n_92399),\n                           (sext_i32_i64(local_tid_106120) + (int64_t) 1) *\n                           (segscan_group_sizze_98288 * sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                  ",
                   "                sext_i32_i64(num_threads_106090))) -\n                           (int64_t) 1 - ((sext_i32_i64(local_tid_106120 -\n                                           skip_threads_106132) + (int64_t) 1) *\n                                          (segscan_group_sizze_98288 *\n                                           sdiv_up64(m_92398 * n_92399,\n                                                     sext_i32_i64(num_threads_106090))) -\n                                          (int64_t) 1));\n                \n                if (thread_active_106133 && inactive_106134) {\n                    x_98295 = x_98296;\n                }\n                if (thread_active_106133) {\n                    if (!inactive_106134) {\n                        int64_t defunc_1_op_res_98297 = add64(x_98295, x_98296);\n                        \n                        x_98295 = defunc_1_op_res_98297;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_106122, skip_threads_106132)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (thread_active_106133) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_106124)[sext_i32_i64(local_tid_106120)] =\n                        x_98295;\n                    x_98296 = x_98295;\n                }\n            }\n            if (sle32(wave_sizze_106122, skip_threads_106132)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_106132 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_106120 - squot32(local_tid_106120, 32) * 32) == 31 &&\n            ltid_in_bounds_106131) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_106124)[sext_i32_i64(squot32(local_tid_106120,\n                                                                   32))] =\n                x_98295;\n",
                   "        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_106135;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_106120, 32) == 0 && ltid_in_bounds_106131) {\n                x_106129 = ((volatile __local\n                             int64_t *) scan_arr_mem_106124)[sext_i32_i64(local_tid_106120)];\n                if ((local_tid_106120 - squot32(local_tid_106120, 32) * 32) ==\n                    0) {\n                    x_106128 = x_106129;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_106135 = 1;\n            while (slt32(skip_threads_106135, 32)) {\n                bool thread_active_106136 = sle32(skip_threads_106135,\n                                                  local_tid_106120 -\n                                                  squot32(local_tid_106120,\n                                                          32) * 32) &&\n                     (squot32(local_tid_106120, 32) == 0 &&\n                      ltid_in_bounds_106131);\n                \n                if (thread_active_106136) {\n                    // read operands\n                    {\n                        x_106128 = ((volatile __local\n                                     int64_t *) scan_arr_mem_106124)[sext_i32_i64(local_tid_106120) -\n                                                                     sext_i32_i64(skip_threads_106135)];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_106137 =\n                         slt64(srem64((sext_i32_i64(local_tid_106120 * 32 + 32 -\n                                       1) + (int64_t) 1) *\n                                      (segscan_group_sizze_98288 *\n                                       sdiv_up64(m_92398 * n_92399,\n             ",
                   "                                    sext_i32_i64(num_threads_106090))) -\n                                      (int64_t) 1, n_92399),\n                               (sext_i32_i64(local_tid_106120 * 32 + 32 - 1) +\n                                (int64_t) 1) * (segscan_group_sizze_98288 *\n                                                sdiv_up64(m_92398 * n_92399,\n                                                          sext_i32_i64(num_threads_106090))) -\n                               (int64_t) 1 - ((sext_i32_i64((local_tid_106120 -\n                                                             skip_threads_106135) *\n                                               32 + 32 - 1) + (int64_t) 1) *\n                                              (segscan_group_sizze_98288 *\n                                               sdiv_up64(m_92398 * n_92399,\n                                                         sext_i32_i64(num_threads_106090))) -\n                                              (int64_t) 1));\n                    \n                    if (thread_active_106136 && inactive_106137) {\n                        x_106128 = x_106129;\n                    }\n                    if (thread_active_106136) {\n                        if (!inactive_106137) {\n                            int64_t defunc_1_op_res_106130 = add64(x_106128,\n                                                                   x_106129);\n                            \n                            x_106128 = defunc_1_op_res_106130;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_106122, skip_threads_106135)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (thread_active_106136) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_106124)[sext_i32_i64(local_tid_106120)] =\n                            x_106128;\n                ",
                   "        x_106129 = x_106128;\n                    }\n                }\n                if (sle32(wave_sizze_106122, skip_threads_106135)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_106135 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool no_carry_in_106138 = squot32(local_tid_106120, 32) == 0 ||\n         !ltid_in_bounds_106131;\n    \n    // carry-in for every block except the first\n    {\n        // read operands\n        {\n            if (!no_carry_in_106138) {\n                x_98296 = x_98295;\n                x_98295 = ((__local\n                            int64_t *) scan_arr_mem_106124)[sext_i32_i64(squot32(local_tid_106120,\n                                                                                 32)) -\n                                                            (int64_t) 1];\n            }\n        }\n        // perform operation\n        {\n            bool inactive_106139 =\n                 slt64(srem64((sext_i32_i64(local_tid_106120) + (int64_t) 1) *\n                              (segscan_group_sizze_98288 * sdiv_up64(m_92398 *\n                                                                     n_92399,\n                                                                     sext_i32_i64(num_threads_106090))) -\n                              (int64_t) 1, n_92399),\n                       (sext_i32_i64(local_tid_106120) + (int64_t) 1) *\n                       (segscan_group_sizze_98288 * sdiv_up64(m_92398 * n_92399,\n                                                              sext_i32_i64(num_threads_106090))) -\n                       (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_106120,\n                                                            32) * 32 - 1) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_98288 *\n                                       sdiv_up64(m_92398 * n_92399,\n                            ",
                   "                     sext_i32_i64(num_threads_106090))) -\n                                      (int64_t) 1));\n            \n            if (!no_carry_in_106138) {\n                if (inactive_106139) {\n                    x_98295 = x_98296;\n                }\n            }\n            if (!no_carry_in_106138) {\n                if (!inactive_106139) {\n                    int64_t defunc_1_op_res_98297 = add64(x_98295, x_98296);\n                    \n                    x_98295 = defunc_1_op_res_98297;\n                }\n            }\n        }\n        // write final result\n        {\n            if (!no_carry_in_106138) {\n                ((__local\n                  int64_t *) scan_arr_mem_106124)[sext_i32_i64(local_tid_106120)] =\n                    x_98295;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_106120, 32) == 0 && ltid_in_bounds_106131) {\n            ((__local\n              int64_t *) scan_arr_mem_106124)[sext_i32_i64(local_tid_106120)] =\n                x_98296;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_98292, m_92398) && slt64(gtid_98293, n_92399)) {\n            int64_t tmp_106140;\n            \n            tmp_106140 = ((__local\n                           int64_t *) scan_arr_mem_106124)[sext_i32_i64(local_tid_106120)];\n            ((__global int64_t *) mem_104749)[gtid_98292 * n_92399 +\n                                              gtid_98293] = tmp_106140;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_98288\n}\n__kernel void mainziscan_stage2_99269(__global int *global_failure,\n                                      __local volatile\n                                      int64_t *scan_arr_mem_106265_backing_aligned_0,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int64_t stage1_num_groups_106",
                   "230,\n                                      int32_t num_threads_106231, __global\n                                      unsigned char *mem_104818)\n{\n    #define segscan_group_sizze_99263 (mainzisegscan_group_sizze_99243)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict scan_arr_mem_106265_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) scan_arr_mem_106265_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106260;\n    int32_t local_tid_106261;\n    int64_t group_sizze_106264;\n    int32_t wave_sizze_106263;\n    int32_t group_tid_106262;\n    \n    global_tid_106260 = get_global_id(0);\n    local_tid_106261 = get_local_id(0);\n    group_sizze_106264 = get_local_size(0);\n    wave_sizze_106263 = LOCKSTEP_WIDTH;\n    group_tid_106262 = get_group_id(0);\n    \n    int32_t phys_tid_99269 = global_tid_106260;\n    __local unsigned char *scan_arr_mem_106265;\n    \n    scan_arr_mem_106265 = (__local\n                           unsigned char *) scan_arr_mem_106265_backing_0;\n    \n    int64_t flat_idx_106267 = (sext_i32_i64(local_tid_106261) + (int64_t) 1) *\n            (segscan_group_sizze_99263 * sdiv_up64(m_92398 * n_92399,\n                                                   sext_i32_i64(num_threads_106231))) -\n            (int64_t) 1;\n    int64_t gtid_99267 = squot64(flat_idx_106267, n_92399);\n    int64_t gtid_99268 = flat_idx_106267 - squot64(flat_idx_106267, n_92399) *\n            n_92399;\n    \n    // threads in bound read carries; others get neutral element\n    {\n        if (slt64(gtid_99267, m_92398) && slt64(gtid_99268, n_92399)) {\n            int64_t tmp_106268;\n            \n            tmp_106268 = ((__global int64_t *) mem_104818)[gtid_99267 *\n                                                           n_92399 +\n                                                           gtid_99",
                   "268];\n            ((__local\n              int64_t *) scan_arr_mem_106265)[sext_i32_i64(local_tid_106261)] =\n                tmp_106268;\n        } else {\n            ((__local\n              int64_t *) scan_arr_mem_106265)[sext_i32_i64(local_tid_106261)] =\n                (int64_t) 0;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t x_99270;\n    int64_t x_99271;\n    int64_t x_106269;\n    int64_t x_106270;\n    bool ltid_in_bounds_106272 = slt64(sext_i32_i64(local_tid_106261),\n                                       stage1_num_groups_106230);\n    int32_t skip_threads_106273;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_106272) {\n            x_99271 = ((volatile __local\n                        int64_t *) scan_arr_mem_106265)[sext_i32_i64(local_tid_106261)];\n            if ((local_tid_106261 - squot32(local_tid_106261, 32) * 32) == 0) {\n                x_99270 = x_99271;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_106273 = 1;\n        while (slt32(skip_threads_106273, 32)) {\n            bool thread_active_106274 = sle32(skip_threads_106273,\n                                              local_tid_106261 -\n                                              squot32(local_tid_106261, 32) *\n                                              32) && ltid_in_bounds_106272;\n            \n            if (thread_active_106274) {\n                // read operands\n                {\n                    x_99270 = ((volatile __local\n                                int64_t *) scan_arr_mem_106265)[sext_i32_i64(local_tid_106261) -\n                                                                sext_i32_i64(skip_threads_106273)];\n                }\n            }\n            // perform operation\n            {\n                bool inactive_106275 =\n                     slt64(srem64((sext_i32_i64(local_tid_106261) +\n                                   (int64_t) 1) * (segscan_group_sizze_99263 *\n     ",
                   "                                              sdiv_up64(m_92398 * n_92399,\n                                                             sext_i32_i64(num_threads_106231))) -\n                                  (int64_t) 1, n_92399),\n                           (sext_i32_i64(local_tid_106261) + (int64_t) 1) *\n                           (segscan_group_sizze_99263 * sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64(num_threads_106231))) -\n                           (int64_t) 1 - ((sext_i32_i64(local_tid_106261 -\n                                           skip_threads_106273) + (int64_t) 1) *\n                                          (segscan_group_sizze_99263 *\n                                           sdiv_up64(m_92398 * n_92399,\n                                                     sext_i32_i64(num_threads_106231))) -\n                                          (int64_t) 1));\n                \n                if (thread_active_106274 && inactive_106275) {\n                    x_99270 = x_99271;\n                }\n                if (thread_active_106274) {\n                    if (!inactive_106275) {\n                        int64_t defunc_1_op_res_99272 = add64(x_99270, x_99271);\n                        \n                        x_99270 = defunc_1_op_res_99272;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_106263, skip_threads_106273)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (thread_active_106274) {\n                // write result\n                {\n                    ((volatile __local\n                      int64_t *) scan_arr_mem_106265)[sext_i32_i64(local_tid_106261)] =\n                        x_99270;\n                    x_99271 = x_99270;\n                }\n            }\n            if (sle32(wave_sizze_106263, skip_threads_106273)) {\n                barrier(CLK_LOCAL_MEM_FEN",
                   "CE);\n            }\n            skip_threads_106273 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_106261 - squot32(local_tid_106261, 32) * 32) == 31 &&\n            ltid_in_bounds_106272) {\n            ((volatile __local\n              int64_t *) scan_arr_mem_106265)[sext_i32_i64(squot32(local_tid_106261,\n                                                                   32))] =\n                x_99270;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_106276;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_106261, 32) == 0 && ltid_in_bounds_106272) {\n                x_106270 = ((volatile __local\n                             int64_t *) scan_arr_mem_106265)[sext_i32_i64(local_tid_106261)];\n                if ((local_tid_106261 - squot32(local_tid_106261, 32) * 32) ==\n                    0) {\n                    x_106269 = x_106270;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_106276 = 1;\n            while (slt32(skip_threads_106276, 32)) {\n                bool thread_active_106277 = sle32(skip_threads_106276,\n                                                  local_tid_106261 -\n                                                  squot32(local_tid_106261,\n                                                          32) * 32) &&\n                     (squot32(local_tid_106261, 32) == 0 &&\n                      ltid_in_bounds_106272);\n                \n                if (thread_active_106277) {\n                    // read operands\n                    {\n                        x_106269 = ((volatile __local\n                                     int64_t *) scan_arr_mem_106265)[sext_i32_i64(local_tid_106261) -\n                        ",
                   "                                             sext_i32_i64(skip_threads_106276)];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_106278 =\n                         slt64(srem64((sext_i32_i64(local_tid_106261 * 32 + 32 -\n                                       1) + (int64_t) 1) *\n                                      (segscan_group_sizze_99263 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_106231))) -\n                                      (int64_t) 1, n_92399),\n                               (sext_i32_i64(local_tid_106261 * 32 + 32 - 1) +\n                                (int64_t) 1) * (segscan_group_sizze_99263 *\n                                                sdiv_up64(m_92398 * n_92399,\n                                                          sext_i32_i64(num_threads_106231))) -\n                               (int64_t) 1 - ((sext_i32_i64((local_tid_106261 -\n                                                             skip_threads_106276) *\n                                               32 + 32 - 1) + (int64_t) 1) *\n                                              (segscan_group_sizze_99263 *\n                                               sdiv_up64(m_92398 * n_92399,\n                                                         sext_i32_i64(num_threads_106231))) -\n                                              (int64_t) 1));\n                    \n                    if (thread_active_106277 && inactive_106278) {\n                        x_106269 = x_106270;\n                    }\n                    if (thread_active_106277) {\n                        if (!inactive_106278) {\n                            int64_t defunc_1_op_res_106271 = add64(x_106269,\n                                                                   x_106270);\n                            \n                            x_106269 = defunc_1_op",
                   "_res_106271;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_106263, skip_threads_106276)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (thread_active_106277) {\n                    // write result\n                    {\n                        ((volatile __local\n                          int64_t *) scan_arr_mem_106265)[sext_i32_i64(local_tid_106261)] =\n                            x_106269;\n                        x_106270 = x_106269;\n                    }\n                }\n                if (sle32(wave_sizze_106263, skip_threads_106276)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_106276 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool no_carry_in_106279 = squot32(local_tid_106261, 32) == 0 ||\n         !ltid_in_bounds_106272;\n    \n    // carry-in for every block except the first\n    {\n        // read operands\n        {\n            if (!no_carry_in_106279) {\n                x_99271 = x_99270;\n                x_99270 = ((__local\n                            int64_t *) scan_arr_mem_106265)[sext_i32_i64(squot32(local_tid_106261,\n                                                                                 32)) -\n                                                            (int64_t) 1];\n            }\n        }\n        // perform operation\n        {\n            bool inactive_106280 =\n                 slt64(srem64((sext_i32_i64(local_tid_106261) + (int64_t) 1) *\n                              (segscan_group_sizze_99263 * sdiv_up64(m_92398 *\n                                                                     n_92399,\n                                                                     sext_i32_i64(num_threads_106231))) -\n                              (int64_t) 1, n_92399),\n                       (sext_i32_i64(local_tid_106261) + (int64_t) 1) *\n                       (segscan_group_sizze_",
                   "99263 * sdiv_up64(m_92398 * n_92399,\n                                                              sext_i32_i64(num_threads_106231))) -\n                       (int64_t) 1 - ((sext_i32_i64(squot32(local_tid_106261,\n                                                            32) * 32 - 1) +\n                                       (int64_t) 1) *\n                                      (segscan_group_sizze_99263 *\n                                       sdiv_up64(m_92398 * n_92399,\n                                                 sext_i32_i64(num_threads_106231))) -\n                                      (int64_t) 1));\n            \n            if (!no_carry_in_106279) {\n                if (inactive_106280) {\n                    x_99270 = x_99271;\n                }\n            }\n            if (!no_carry_in_106279) {\n                if (!inactive_106280) {\n                    int64_t defunc_1_op_res_99272 = add64(x_99270, x_99271);\n                    \n                    x_99270 = defunc_1_op_res_99272;\n                }\n            }\n        }\n        // write final result\n        {\n            if (!no_carry_in_106279) {\n                ((__local\n                  int64_t *) scan_arr_mem_106265)[sext_i32_i64(local_tid_106261)] =\n                    x_99270;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_106261, 32) == 0 && ltid_in_bounds_106272) {\n            ((__local\n              int64_t *) scan_arr_mem_106265)[sext_i32_i64(local_tid_106261)] =\n                x_99271;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // threads in bounds write scanned carries\n    {\n        if (slt64(gtid_99267, m_92398) && slt64(gtid_99268, n_92399)) {\n            int64_t tmp_106281;\n            \n            tmp_106281 = ((__local\n                           int64_t *) scan_arr_mem_106265)[sext_i32_i64(local_tid_106261)];\n            ((__global int64_t *) mem_104818)[gtid_99267 * n_9239",
                   "9 +\n                                              gtid_99268] = tmp_106281;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_99263\n}\n__kernel void mainziscan_stage3_100305(__global int *global_failure,\n                                       int64_t m_92398, int64_t n_92399,\n                                       int64_t num_groups_100300,\n                                       int32_t num_threads_106508,\n                                       int32_t required_groups_106559, __global\n                                       unsigned char *mem_104883)\n{\n    #define segscan_group_sizze_100299 (mainzisegscan_group_sizze_100279)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106560;\n    int32_t local_tid_106561;\n    int64_t group_sizze_106564;\n    int32_t wave_sizze_106563;\n    int32_t group_tid_106562;\n    \n    global_tid_106560 = get_global_id(0);\n    local_tid_106561 = get_local_id(0);\n    group_sizze_106564 = get_local_size(0);\n    wave_sizze_106563 = LOCKSTEP_WIDTH;\n    group_tid_106562 = get_group_id(0);\n    \n    int32_t phys_tid_100305 = global_tid_106560;\n    int32_t phys_group_id_106565;\n    \n    phys_group_id_106565 = get_group_id(0);\n    for (int32_t i_106566 = 0; i_106566 < sdiv_up32(required_groups_106559 -\n                                                    phys_group_id_106565,\n                                                    sext_i64_i32(num_groups_100300));\n         i_106566++) {\n        int32_t virt_group_id_106567 = phys_group_id_106565 + i_106566 *\n                sext_i64_i32(num_groups_100300);\n        int64_t flat_idx_106568 = sext_i32_i64(virt_group_id_106567) *\n                segscan_group_sizze_100299 + sext_i32_i64(local_tid_106561);\n        int64_t gtid_100303 = squot64(flat_idx_106568, n_92399);\n        int64_t gtid_100304 = flat_idx_106568 - squot64(flat_idx_106568,\n                       ",
                   "                                 n_92399) * n_92399;\n        int64_t orig_group_106569 = squot64(flat_idx_106568,\n                                            segscan_group_sizze_100299 *\n                                            sdiv_up64(m_92398 * n_92399,\n                                                      sext_i32_i64(num_threads_106508)));\n        int64_t carry_in_flat_idx_106570 = orig_group_106569 *\n                (segscan_group_sizze_100299 * sdiv_up64(m_92398 * n_92399,\n                                                        sext_i32_i64(num_threads_106508))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_100303, m_92398) && slt64(gtid_100304, n_92399)) {\n            if (!(orig_group_106569 == (int64_t) 0 || (flat_idx_106568 ==\n                                                       (orig_group_106569 +\n                                                        (int64_t) 1) *\n                                                       (segscan_group_sizze_100299 *\n                                                        sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64(num_threads_106508))) -\n                                                       (int64_t) 1 ||\n                                                       slt64(srem64(flat_idx_106568,\n                                                                    n_92399),\n                                                             flat_idx_106568 -\n                                                             carry_in_flat_idx_106570)))) {\n                int64_t x_100306;\n                int64_t x_100307;\n                \n                x_100306 = ((__global\n                             int64_t *) mem_104883)[squot64(carry_in_flat_idx_106570,\n                                                            n_92399) * n_92399 +\n                                                    (",
                   "carry_in_flat_idx_106570 -\n                                                     squot64(carry_in_flat_idx_106570,\n                                                             n_92399) *\n                                                     n_92399)];\n                x_100307 = ((__global int64_t *) mem_104883)[gtid_100303 *\n                                                             n_92399 +\n                                                             gtid_100304];\n                \n                int64_t defunc_1_op_res_100308 = add64(x_100306, x_100307);\n                \n                x_100306 = defunc_1_op_res_100308;\n                ((__global int64_t *) mem_104883)[gtid_100303 * n_92399 +\n                                                  gtid_100304] = x_100306;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_100299\n}\n__kernel void mainziscan_stage3_101462(__global int *global_failure,\n                                       int64_t m_92398, int64_t n_92399,\n                                       int64_t num_groups_101457,\n                                       int32_t num_threads_106827,\n                                       int32_t required_groups_106878, __global\n                                       unsigned char *mem_104968)\n{\n    #define segscan_group_sizze_101456 (mainzisegscan_group_sizze_101436)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106879;\n    int32_t local_tid_106880;\n    int64_t group_sizze_106883;\n    int32_t wave_sizze_106882;\n    int32_t group_tid_106881;\n    \n    global_tid_106879 = get_global_id(0);\n    local_tid_106880 = get_local_id(0);\n    group_sizze_106883 = get_local_size(0);\n    wave_sizze_106882 = LOCKSTEP_WIDTH;\n    group_tid_106881 = get_group_id(0);\n    \n    int32_t phys_tid_101462 = global_tid_1",
                   "06879;\n    int32_t phys_group_id_106884;\n    \n    phys_group_id_106884 = get_group_id(0);\n    for (int32_t i_106885 = 0; i_106885 < sdiv_up32(required_groups_106878 -\n                                                    phys_group_id_106884,\n                                                    sext_i64_i32(num_groups_101457));\n         i_106885++) {\n        int32_t virt_group_id_106886 = phys_group_id_106884 + i_106885 *\n                sext_i64_i32(num_groups_101457);\n        int64_t flat_idx_106887 = sext_i32_i64(virt_group_id_106886) *\n                segscan_group_sizze_101456 + sext_i32_i64(local_tid_106880);\n        int64_t gtid_101460 = squot64(flat_idx_106887, n_92399);\n        int64_t gtid_101461 = flat_idx_106887 - squot64(flat_idx_106887,\n                                                        n_92399) * n_92399;\n        int64_t orig_group_106888 = squot64(flat_idx_106887,\n                                            segscan_group_sizze_101456 *\n                                            sdiv_up64(m_92398 * n_92399,\n                                                      sext_i32_i64(num_threads_106827)));\n        int64_t carry_in_flat_idx_106889 = orig_group_106888 *\n                (segscan_group_sizze_101456 * sdiv_up64(m_92398 * n_92399,\n                                                        sext_i32_i64(num_threads_106827))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_101460, m_92398) && slt64(gtid_101461, n_92399)) {\n            if (!(orig_group_106888 == (int64_t) 0 || (flat_idx_106887 ==\n                                                       (orig_group_106888 +\n                                                        (int64_t) 1) *\n                                                       (segscan_group_sizze_101456 *\n                                                        sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sex",
                   "t_i32_i64(num_threads_106827))) -\n                                                       (int64_t) 1 ||\n                                                       slt64(srem64(flat_idx_106887,\n                                                                    n_92399),\n                                                             flat_idx_106887 -\n                                                             carry_in_flat_idx_106889)))) {\n                int64_t x_101463;\n                int64_t x_101464;\n                \n                x_101463 = ((__global\n                             int64_t *) mem_104968)[squot64(carry_in_flat_idx_106889,\n                                                            n_92399) * n_92399 +\n                                                    (carry_in_flat_idx_106889 -\n                                                     squot64(carry_in_flat_idx_106889,\n                                                             n_92399) *\n                                                     n_92399)];\n                x_101464 = ((__global int64_t *) mem_104968)[gtid_101460 *\n                                                             n_92399 +\n                                                             gtid_101461];\n                \n                int64_t defunc_1_op_res_101465 = add64(x_101463, x_101464);\n                \n                x_101463 = defunc_1_op_res_101465;\n                ((__global int64_t *) mem_104968)[gtid_101460 * n_92399 +\n                                                  gtid_101461] = x_101463;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_101456\n}\n__kernel void mainziscan_stage3_94761(__global int *global_failure,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int64_t num_groups_94756,\n                                      int32_t num_threads_105340,\n         ",
                   "                             int32_t required_groups_105391, __global\n                                      unsigned char *mem_104302)\n{\n    #define segscan_group_sizze_94755 (mainzisegscan_group_sizze_94735)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105392;\n    int32_t local_tid_105393;\n    int64_t group_sizze_105396;\n    int32_t wave_sizze_105395;\n    int32_t group_tid_105394;\n    \n    global_tid_105392 = get_global_id(0);\n    local_tid_105393 = get_local_id(0);\n    group_sizze_105396 = get_local_size(0);\n    wave_sizze_105395 = LOCKSTEP_WIDTH;\n    group_tid_105394 = get_group_id(0);\n    \n    int32_t phys_tid_94761 = global_tid_105392;\n    int32_t phys_group_id_105397;\n    \n    phys_group_id_105397 = get_group_id(0);\n    for (int32_t i_105398 = 0; i_105398 < sdiv_up32(required_groups_105391 -\n                                                    phys_group_id_105397,\n                                                    sext_i64_i32(num_groups_94756));\n         i_105398++) {\n        int32_t virt_group_id_105399 = phys_group_id_105397 + i_105398 *\n                sext_i64_i32(num_groups_94756);\n        int64_t flat_idx_105400 = sext_i32_i64(virt_group_id_105399) *\n                segscan_group_sizze_94755 + sext_i32_i64(local_tid_105393);\n        int64_t gtid_94759 = squot64(flat_idx_105400, n_92399);\n        int64_t gtid_94760 = flat_idx_105400 - squot64(flat_idx_105400,\n                                                       n_92399) * n_92399;\n        int64_t orig_group_105401 = squot64(flat_idx_105400,\n                                            segscan_group_sizze_94755 *\n                                            sdiv_up64(m_92398 * n_92399,\n                                                      sext_i32_i64(num_threads_105340)));\n        int64_t carry_in_flat_idx_105402 = orig_group_105401 *\n                (segscan_group_sizze_94755",
                   " * sdiv_up64(m_92398 * n_92399,\n                                                       sext_i32_i64(num_threads_105340))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_94759, m_92398) && slt64(gtid_94760, n_92399)) {\n            if (!(orig_group_105401 == (int64_t) 0 || (flat_idx_105400 ==\n                                                       (orig_group_105401 +\n                                                        (int64_t) 1) *\n                                                       (segscan_group_sizze_94755 *\n                                                        sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64(num_threads_105340))) -\n                                                       (int64_t) 1 ||\n                                                       slt64(srem64(flat_idx_105400,\n                                                                    n_92399),\n                                                             flat_idx_105400 -\n                                                             carry_in_flat_idx_105402)))) {\n                int64_t x_94762;\n                int64_t x_94763;\n                \n                x_94762 = ((__global\n                            int64_t *) mem_104302)[squot64(carry_in_flat_idx_105402,\n                                                           n_92399) * n_92399 +\n                                                   (carry_in_flat_idx_105402 -\n                                                    squot64(carry_in_flat_idx_105402,\n                                                            n_92399) *\n                                                    n_92399)];\n                x_94763 = ((__global int64_t *) mem_104302)[gtid_94759 *\n                                                            n_92399 +\n                                                            gtid_94760];\n   ",
                   "             \n                int64_t defunc_1_op_res_94764 = add64(x_94762, x_94763);\n                \n                x_94762 = defunc_1_op_res_94764;\n                ((__global int64_t *) mem_104302)[gtid_94759 * n_92399 +\n                                                  gtid_94760] = x_94762;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_94755\n}\n__kernel void mainziscan_stage3_95434(__global int *global_failure,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int64_t num_groups_95429,\n                                      int32_t num_threads_105490,\n                                      int32_t required_groups_105541, __global\n                                      unsigned char *mem_104386)\n{\n    #define segscan_group_sizze_95428 (mainzisegscan_group_sizze_95408)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105542;\n    int32_t local_tid_105543;\n    int64_t group_sizze_105546;\n    int32_t wave_sizze_105545;\n    int32_t group_tid_105544;\n    \n    global_tid_105542 = get_global_id(0);\n    local_tid_105543 = get_local_id(0);\n    group_sizze_105546 = get_local_size(0);\n    wave_sizze_105545 = LOCKSTEP_WIDTH;\n    group_tid_105544 = get_group_id(0);\n    \n    int32_t phys_tid_95434 = global_tid_105542;\n    int32_t phys_group_id_105547;\n    \n    phys_group_id_105547 = get_group_id(0);\n    for (int32_t i_105548 = 0; i_105548 < sdiv_up32(required_groups_105541 -\n                                                    phys_group_id_105547,\n                                                    sext_i64_i32(num_groups_95429));\n         i_105548++) {\n        int32_t virt_group_id_105549 = phys_group_id_105547 + i_105548 *\n                sext_i64_i32(num_groups_95429);\n        int64_t flat_id",
                   "x_105550 = sext_i32_i64(virt_group_id_105549) *\n                segscan_group_sizze_95428 + sext_i32_i64(local_tid_105543);\n        int64_t gtid_95432 = squot64(flat_idx_105550, n_92399);\n        int64_t gtid_95433 = flat_idx_105550 - squot64(flat_idx_105550,\n                                                       n_92399) * n_92399;\n        int64_t orig_group_105551 = squot64(flat_idx_105550,\n                                            segscan_group_sizze_95428 *\n                                            sdiv_up64(m_92398 * n_92399,\n                                                      sext_i32_i64(num_threads_105490)));\n        int64_t carry_in_flat_idx_105552 = orig_group_105551 *\n                (segscan_group_sizze_95428 * sdiv_up64(m_92398 * n_92399,\n                                                       sext_i32_i64(num_threads_105490))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_95432, m_92398) && slt64(gtid_95433, n_92399)) {\n            if (!(orig_group_105551 == (int64_t) 0 || (flat_idx_105550 ==\n                                                       (orig_group_105551 +\n                                                        (int64_t) 1) *\n                                                       (segscan_group_sizze_95428 *\n                                                        sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64(num_threads_105490))) -\n                                                       (int64_t) 1 ||\n                                                       slt64(srem64(flat_idx_105550,\n                                                                    n_92399),\n                                                             flat_idx_105550 -\n                                                             carry_in_flat_idx_105552)))) {\n                int64_t x_95435;\n                int64_t x_95436;\n ",
                   "               \n                x_95435 = ((__global\n                            int64_t *) mem_104386)[squot64(carry_in_flat_idx_105552,\n                                                           n_92399) * n_92399 +\n                                                   (carry_in_flat_idx_105552 -\n                                                    squot64(carry_in_flat_idx_105552,\n                                                            n_92399) *\n                                                    n_92399)];\n                x_95436 = ((__global int64_t *) mem_104386)[gtid_95432 *\n                                                            n_92399 +\n                                                            gtid_95433];\n                \n                int64_t defunc_1_op_res_95437 = add64(x_95435, x_95436);\n                \n                x_95435 = defunc_1_op_res_95437;\n                ((__global int64_t *) mem_104386)[gtid_95432 * n_92399 +\n                                                  gtid_95433] = x_95435;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_95428\n}\n__kernel void mainziscan_stage3_96169(__global int *global_failure,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int64_t num_groups_96164,\n                                      int32_t num_threads_105648,\n                                      int32_t required_groups_105699, __global\n                                      unsigned char *mem_104501)\n{\n    #define segscan_group_sizze_96163 (mainzisegscan_group_sizze_96143)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105700;\n    int32_t local_tid_105701;\n    int64_t group_sizze_105704;\n    int32_t wave_sizze_105703;\n    int32_t group_tid_105702;\n    \n    globa",
                   "l_tid_105700 = get_global_id(0);\n    local_tid_105701 = get_local_id(0);\n    group_sizze_105704 = get_local_size(0);\n    wave_sizze_105703 = LOCKSTEP_WIDTH;\n    group_tid_105702 = get_group_id(0);\n    \n    int32_t phys_tid_96169 = global_tid_105700;\n    int32_t phys_group_id_105705;\n    \n    phys_group_id_105705 = get_group_id(0);\n    for (int32_t i_105706 = 0; i_105706 < sdiv_up32(required_groups_105699 -\n                                                    phys_group_id_105705,\n                                                    sext_i64_i32(num_groups_96164));\n         i_105706++) {\n        int32_t virt_group_id_105707 = phys_group_id_105705 + i_105706 *\n                sext_i64_i32(num_groups_96164);\n        int64_t flat_idx_105708 = sext_i32_i64(virt_group_id_105707) *\n                segscan_group_sizze_96163 + sext_i32_i64(local_tid_105701);\n        int64_t gtid_96167 = squot64(flat_idx_105708, n_92399);\n        int64_t gtid_96168 = flat_idx_105708 - squot64(flat_idx_105708,\n                                                       n_92399) * n_92399;\n        int64_t orig_group_105709 = squot64(flat_idx_105708,\n                                            segscan_group_sizze_96163 *\n                                            sdiv_up64(m_92398 * n_92399,\n                                                      sext_i32_i64(num_threads_105648)));\n        int64_t carry_in_flat_idx_105710 = orig_group_105709 *\n                (segscan_group_sizze_96163 * sdiv_up64(m_92398 * n_92399,\n                                                       sext_i32_i64(num_threads_105648))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_96167, m_92398) && slt64(gtid_96168, n_92399)) {\n            if (!(orig_group_105709 == (int64_t) 0 || (flat_idx_105708 ==\n                                                       (orig_group_105709 +\n                                                        (int64_t) 1) *\n                                                       (segscan_group_siz",
                   "ze_96163 *\n                                                        sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64(num_threads_105648))) -\n                                                       (int64_t) 1 ||\n                                                       slt64(srem64(flat_idx_105708,\n                                                                    n_92399),\n                                                             flat_idx_105708 -\n                                                             carry_in_flat_idx_105710)))) {\n                int64_t x_96170;\n                int64_t x_96171;\n                \n                x_96170 = ((__global\n                            int64_t *) mem_104501)[squot64(carry_in_flat_idx_105710,\n                                                           n_92399) * n_92399 +\n                                                   (carry_in_flat_idx_105710 -\n                                                    squot64(carry_in_flat_idx_105710,\n                                                            n_92399) *\n                                                    n_92399)];\n                x_96171 = ((__global int64_t *) mem_104501)[gtid_96167 *\n                                                            n_92399 +\n                                                            gtid_96168];\n                \n                int64_t defunc_1_op_res_96172 = add64(x_96170, x_96171);\n                \n                x_96170 = defunc_1_op_res_96172;\n                ((__global int64_t *) mem_104501)[gtid_96167 * n_92399 +\n                                                  gtid_96168] = x_96170;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_96163\n}\n__kernel void mainziscan_stage3_96870(__global int *global_failure,\n   ",
                   "                                   int64_t m_92398, int64_t n_92399,\n                                      int64_t num_groups_96865,\n                                      int32_t num_threads_105822,\n                                      int32_t required_groups_105873, __global\n                                      unsigned char *mem_104648)\n{\n    #define segscan_group_sizze_96864 (mainzisegscan_group_sizze_96844)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105874;\n    int32_t local_tid_105875;\n    int64_t group_sizze_105878;\n    int32_t wave_sizze_105877;\n    int32_t group_tid_105876;\n    \n    global_tid_105874 = get_global_id(0);\n    local_tid_105875 = get_local_id(0);\n    group_sizze_105878 = get_local_size(0);\n    wave_sizze_105877 = LOCKSTEP_WIDTH;\n    group_tid_105876 = get_group_id(0);\n    \n    int32_t phys_tid_96870 = global_tid_105874;\n    int32_t phys_group_id_105879;\n    \n    phys_group_id_105879 = get_group_id(0);\n    for (int32_t i_105880 = 0; i_105880 < sdiv_up32(required_groups_105873 -\n                                                    phys_group_id_105879,\n                                                    sext_i64_i32(num_groups_96865));\n         i_105880++) {\n        int32_t virt_group_id_105881 = phys_group_id_105879 + i_105880 *\n                sext_i64_i32(num_groups_96865);\n        int64_t flat_idx_105882 = sext_i32_i64(virt_group_id_105881) *\n                segscan_group_sizze_96864 + sext_i32_i64(local_tid_105875);\n        int64_t gtid_96868 = squot64(flat_idx_105882, n_92399);\n        int64_t gtid_96869 = flat_idx_105882 - squot64(flat_idx_105882,\n                                                       n_92399) * n_92399;\n        int64_t orig_group_105883 = squot64(flat_idx_105882,\n                                            segscan_group_sizze_96864 *\n                                            sdiv_up64(m_9239",
                   "8 * n_92399,\n                                                      sext_i32_i64(num_threads_105822)));\n        int64_t carry_in_flat_idx_105884 = orig_group_105883 *\n                (segscan_group_sizze_96864 * sdiv_up64(m_92398 * n_92399,\n                                                       sext_i32_i64(num_threads_105822))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_96868, m_92398) && slt64(gtid_96869, n_92399)) {\n            if (!(orig_group_105883 == (int64_t) 0 || (flat_idx_105882 ==\n                                                       (orig_group_105883 +\n                                                        (int64_t) 1) *\n                                                       (segscan_group_sizze_96864 *\n                                                        sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64(num_threads_105822))) -\n                                                       (int64_t) 1 ||\n                                                       slt64(srem64(flat_idx_105882,\n                                                                    n_92399),\n                                                             flat_idx_105882 -\n                                                             carry_in_flat_idx_105884)))) {\n                int64_t x_96871;\n                int64_t x_96872;\n                \n                x_96871 = ((__global\n                            int64_t *) mem_104648)[squot64(carry_in_flat_idx_105884,\n                                                           n_92399) * n_92399 +\n                                                   (carry_in_flat_idx_105884 -\n                                                    squot64(carry_in_flat_idx_105884,\n                                                            n_92399) *\n                                                    n_92399)];\n           ",
                   "     x_96872 = ((__global int64_t *) mem_104648)[gtid_96868 *\n                                                            n_92399 +\n                                                            gtid_96869];\n                \n                int64_t defunc_1_op_res_96873 = add64(x_96871, x_96872);\n                \n                x_96871 = defunc_1_op_res_96873;\n                ((__global int64_t *) mem_104648)[gtid_96868 * n_92399 +\n                                                  gtid_96869] = x_96871;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_96864\n}\n__kernel void mainziscan_stage3_97537(__global int *global_failure,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int64_t num_groups_97532,\n                                      int32_t num_threads_105953,\n                                      int32_t required_groups_106004, __global\n                                      unsigned char *mem_104695)\n{\n    #define segscan_group_sizze_97531 (mainzisegscan_group_sizze_97511)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106005;\n    int32_t local_tid_106006;\n    int64_t group_sizze_106009;\n    int32_t wave_sizze_106008;\n    int32_t group_tid_106007;\n    \n    global_tid_106005 = get_global_id(0);\n    local_tid_106006 = get_local_id(0);\n    group_sizze_106009 = get_local_size(0);\n    wave_sizze_106008 = LOCKSTEP_WIDTH;\n    group_tid_106007 = get_group_id(0);\n    \n    int32_t phys_tid_97537 = global_tid_106005;\n    int32_t phys_group_id_106010;\n    \n    phys_group_id_106010 = get_group_id(0);\n    for (int32_t i_106011 = 0; i_106011 < sdiv_up32(required_groups_106004 -\n                                                    phys_group_id_106010,\n                                            ",
                   "        sext_i64_i32(num_groups_97532));\n         i_106011++) {\n        int32_t virt_group_id_106012 = phys_group_id_106010 + i_106011 *\n                sext_i64_i32(num_groups_97532);\n        int64_t flat_idx_106013 = sext_i32_i64(virt_group_id_106012) *\n                segscan_group_sizze_97531 + sext_i32_i64(local_tid_106006);\n        int64_t gtid_97535 = squot64(flat_idx_106013, n_92399);\n        int64_t gtid_97536 = flat_idx_106013 - squot64(flat_idx_106013,\n                                                       n_92399) * n_92399;\n        int64_t orig_group_106014 = squot64(flat_idx_106013,\n                                            segscan_group_sizze_97531 *\n                                            sdiv_up64(m_92398 * n_92399,\n                                                      sext_i32_i64(num_threads_105953)));\n        int64_t carry_in_flat_idx_106015 = orig_group_106014 *\n                (segscan_group_sizze_97531 * sdiv_up64(m_92398 * n_92399,\n                                                       sext_i32_i64(num_threads_105953))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_97535, m_92398) && slt64(gtid_97536, n_92399)) {\n            if (!(orig_group_106014 == (int64_t) 0 || (flat_idx_106013 ==\n                                                       (orig_group_106014 +\n                                                        (int64_t) 1) *\n                                                       (segscan_group_sizze_97531 *\n                                                        sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64(num_threads_105953))) -\n                                                       (int64_t) 1 ||\n                                                       slt64(srem64(flat_idx_106013,\n                                                                    n_92399),\n                              ",
                   "                               flat_idx_106013 -\n                                                             carry_in_flat_idx_106015)))) {\n                int64_t x_97538;\n                int64_t x_97539;\n                \n                x_97538 = ((__global\n                            int64_t *) mem_104695)[squot64(carry_in_flat_idx_106015,\n                                                           n_92399) * n_92399 +\n                                                   (carry_in_flat_idx_106015 -\n                                                    squot64(carry_in_flat_idx_106015,\n                                                            n_92399) *\n                                                    n_92399)];\n                x_97539 = ((__global int64_t *) mem_104695)[gtid_97535 *\n                                                            n_92399 +\n                                                            gtid_97536];\n                \n                int64_t defunc_1_op_res_97540 = add64(x_97538, x_97539);\n                \n                x_97538 = defunc_1_op_res_97540;\n                ((__global int64_t *) mem_104695)[gtid_97535 * n_92399 +\n                                                  gtid_97536] = x_97538;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_97531\n}\n__kernel void mainziscan_stage3_98294(__global int *global_failure,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int64_t num_groups_98289,\n                                      int32_t num_threads_106090,\n                                      int32_t required_groups_106141, __global\n                                      unsigned char *mem_104749)\n{\n    #define segscan_group_sizze_98288 (mainzisegscan_group_sizze_98268)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*gl",
                   "obal_failure >= 0)\n        return;\n    \n    int32_t global_tid_106142;\n    int32_t local_tid_106143;\n    int64_t group_sizze_106146;\n    int32_t wave_sizze_106145;\n    int32_t group_tid_106144;\n    \n    global_tid_106142 = get_global_id(0);\n    local_tid_106143 = get_local_id(0);\n    group_sizze_106146 = get_local_size(0);\n    wave_sizze_106145 = LOCKSTEP_WIDTH;\n    group_tid_106144 = get_group_id(0);\n    \n    int32_t phys_tid_98294 = global_tid_106142;\n    int32_t phys_group_id_106147;\n    \n    phys_group_id_106147 = get_group_id(0);\n    for (int32_t i_106148 = 0; i_106148 < sdiv_up32(required_groups_106141 -\n                                                    phys_group_id_106147,\n                                                    sext_i64_i32(num_groups_98289));\n         i_106148++) {\n        int32_t virt_group_id_106149 = phys_group_id_106147 + i_106148 *\n                sext_i64_i32(num_groups_98289);\n        int64_t flat_idx_106150 = sext_i32_i64(virt_group_id_106149) *\n                segscan_group_sizze_98288 + sext_i32_i64(local_tid_106143);\n        int64_t gtid_98292 = squot64(flat_idx_106150, n_92399);\n        int64_t gtid_98293 = flat_idx_106150 - squot64(flat_idx_106150,\n                                                       n_92399) * n_92399;\n        int64_t orig_group_106151 = squot64(flat_idx_106150,\n                                            segscan_group_sizze_98288 *\n                                            sdiv_up64(m_92398 * n_92399,\n                                                      sext_i32_i64(num_threads_106090)));\n        int64_t carry_in_flat_idx_106152 = orig_group_106151 *\n                (segscan_group_sizze_98288 * sdiv_up64(m_92398 * n_92399,\n                                                       sext_i32_i64(num_threads_106090))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_98292, m_92398) && slt64(gtid_98293, n_92399)) {\n            if (!(orig_group_106151 == (int64_t) 0 || (flat_idx_106150 ==\n            ",
                   "                                           (orig_group_106151 +\n                                                        (int64_t) 1) *\n                                                       (segscan_group_sizze_98288 *\n                                                        sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64(num_threads_106090))) -\n                                                       (int64_t) 1 ||\n                                                       slt64(srem64(flat_idx_106150,\n                                                                    n_92399),\n                                                             flat_idx_106150 -\n                                                             carry_in_flat_idx_106152)))) {\n                int64_t x_98295;\n                int64_t x_98296;\n                \n                x_98295 = ((__global\n                            int64_t *) mem_104749)[squot64(carry_in_flat_idx_106152,\n                                                           n_92399) * n_92399 +\n                                                   (carry_in_flat_idx_106152 -\n                                                    squot64(carry_in_flat_idx_106152,\n                                                            n_92399) *\n                                                    n_92399)];\n                x_98296 = ((__global int64_t *) mem_104749)[gtid_98292 *\n                                                            n_92399 +\n                                                            gtid_98293];\n                \n                int64_t defunc_1_op_res_98297 = add64(x_98295, x_98296);\n                \n                x_98295 = defunc_1_op_res_98297;\n                ((__global int64_t *) mem_104749)[gtid_98292 * n_92399 +\n                                                  gtid_98293] = x_98295;\n            }\n       ",
                   " }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_98288\n}\n__kernel void mainziscan_stage3_99269(__global int *global_failure,\n                                      int64_t m_92398, int64_t n_92399,\n                                      int64_t num_groups_99264,\n                                      int32_t num_threads_106231,\n                                      int32_t required_groups_106282, __global\n                                      unsigned char *mem_104818)\n{\n    #define segscan_group_sizze_99263 (mainzisegscan_group_sizze_99243)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106283;\n    int32_t local_tid_106284;\n    int64_t group_sizze_106287;\n    int32_t wave_sizze_106286;\n    int32_t group_tid_106285;\n    \n    global_tid_106283 = get_global_id(0);\n    local_tid_106284 = get_local_id(0);\n    group_sizze_106287 = get_local_size(0);\n    wave_sizze_106286 = LOCKSTEP_WIDTH;\n    group_tid_106285 = get_group_id(0);\n    \n    int32_t phys_tid_99269 = global_tid_106283;\n    int32_t phys_group_id_106288;\n    \n    phys_group_id_106288 = get_group_id(0);\n    for (int32_t i_106289 = 0; i_106289 < sdiv_up32(required_groups_106282 -\n                                                    phys_group_id_106288,\n                                                    sext_i64_i32(num_groups_99264));\n         i_106289++) {\n        int32_t virt_group_id_106290 = phys_group_id_106288 + i_106289 *\n                sext_i64_i32(num_groups_99264);\n        int64_t flat_idx_106291 = sext_i32_i64(virt_group_id_106290) *\n                segscan_group_sizze_99263 + sext_i32_i64(local_tid_106284);\n        int64_t gtid_99267 = squot64(flat_idx_106291, n_92399);\n        int64_t gtid_99268 = flat_idx_106291 - squot64(flat_idx_106291,\n                                                       n_923",
                   "99) * n_92399;\n        int64_t orig_group_106292 = squot64(flat_idx_106291,\n                                            segscan_group_sizze_99263 *\n                                            sdiv_up64(m_92398 * n_92399,\n                                                      sext_i32_i64(num_threads_106231)));\n        int64_t carry_in_flat_idx_106293 = orig_group_106292 *\n                (segscan_group_sizze_99263 * sdiv_up64(m_92398 * n_92399,\n                                                       sext_i32_i64(num_threads_106231))) -\n                (int64_t) 1;\n        \n        if (slt64(gtid_99267, m_92398) && slt64(gtid_99268, n_92399)) {\n            if (!(orig_group_106292 == (int64_t) 0 || (flat_idx_106291 ==\n                                                       (orig_group_106292 +\n                                                        (int64_t) 1) *\n                                                       (segscan_group_sizze_99263 *\n                                                        sdiv_up64(m_92398 *\n                                                                  n_92399,\n                                                                  sext_i32_i64(num_threads_106231))) -\n                                                       (int64_t) 1 ||\n                                                       slt64(srem64(flat_idx_106291,\n                                                                    n_92399),\n                                                             flat_idx_106291 -\n                                                             carry_in_flat_idx_106293)))) {\n                int64_t x_99270;\n                int64_t x_99271;\n                \n                x_99270 = ((__global\n                            int64_t *) mem_104818)[squot64(carry_in_flat_idx_106293,\n                                                           n_92399) * n_92399 +\n                                                   (carry_in_flat_idx_106293 -\n                       ",
                   "                             squot64(carry_in_flat_idx_106293,\n                                                            n_92399) *\n                                                    n_92399)];\n                x_99271 = ((__global int64_t *) mem_104818)[gtid_99267 *\n                                                            n_92399 +\n                                                            gtid_99268];\n                \n                int64_t defunc_1_op_res_99272 = add64(x_99270, x_99271);\n                \n                x_99270 = defunc_1_op_res_99272;\n                ((__global int64_t *) mem_104818)[gtid_99267 * n_92399 +\n                                                  gtid_99268] = x_99270;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segscan_group_sizze_99263\n}\n__kernel void mainzisegmap_100358(__global int *global_failure, int64_t m_92398,\n                                  int64_t n_92399, __global\n                                  unsigned char *Y_mem_104293, __global\n                                  unsigned char *mem_104883, __global\n                                  unsigned char *mem_104887, __global\n                                  unsigned char *mem_104891)\n{\n    #define segmap_group_sizze_100352 (mainzisegmap_group_sizze_100193)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106571;\n    int32_t local_tid_106572;\n    int64_t group_sizze_106575;\n    int32_t wave_sizze_106574;\n    int32_t group_tid_106573;\n    \n    global_tid_106571 = get_global_id(0);\n    local_tid_106572 = get_local_id(0);\n    group_sizze_106575 = get_local_size(0);\n    wave_sizze_106574 = LOCKSTEP_WIDTH;\n    group_tid_106573 = get_group_id(0);\n    \n    int32_t phys_tid_100358 = global_tid_106571;\n    int64_t global_tid_106576 = sext_i32_i64(group_tid_106573) *\n    ",
                   "        segmap_group_sizze_100352 + sext_i32_i64(local_tid_106572);\n    int64_t slice_106577 = n_92399;\n    int64_t slice_106578 = m_92398 * slice_106577;\n    int64_t gtid_100356 = squot64(global_tid_106576, slice_106577);\n    int64_t remnant_106579 = global_tid_106576 - gtid_100356 * slice_106577;\n    int64_t gtid_100357 = remnant_106579;\n    int64_t remnant_106580 = remnant_106579 - gtid_100357;\n    \n    if (slt64(gtid_100356, m_92398) && slt64(gtid_100357, n_92399)) {\n        double x_100359;\n        \n        x_100359 = ((__global double *) Y_mem_104293)[gtid_100356 * n_92399 +\n                                                      gtid_100357];\n        \n        bool isnan_res_100362;\n        \n        isnan_res_100362 = futrts_isnan64(x_100359);\n        \n        bool defunc_0_p_res_100363 = !isnan_res_100362;\n        int64_t defunc_1_f_res_100364;\n        \n        if (defunc_0_p_res_100363) {\n            int64_t x_100360;\n            \n            x_100360 = ((__global int64_t *) mem_104883)[gtid_100356 * n_92399 +\n                                                         gtid_100357];\n            \n            int64_t defunc_1_f_res_t_res_100365 = sub64(x_100360, (int64_t) 1);\n            \n            defunc_1_f_res_100364 = defunc_1_f_res_t_res_100365;\n        } else {\n            defunc_1_f_res_100364 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_100356) && slt64(gtid_100356, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_100364) &&\n             slt64(defunc_1_f_res_100364, n_92399))) {\n            ((__global int64_t *) mem_104891)[gtid_100356 * n_92399 +\n                                              defunc_1_f_res_100364] =\n                gtid_100357;\n        }\n        if ((sle64((int64_t) 0, gtid_100356) && slt64(gtid_100356, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_100364) &&\n             slt64(defunc_1_f_res_100364, n_92399))) {\n            ((__global double *) mem_104887)[gtid_100356 * n_92399 +\n              ",
                   "                               defunc_1_f_res_100364] = x_100359;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_100352\n}\n__kernel void mainzisegmap_100377(__global int *global_failure, int64_t m_92398,\n                                  int64_t n_92399, __global\n                                  unsigned char *mem_104891, __global\n                                  unsigned char *mem_104897)\n{\n    #define segmap_group_sizze_100372 (mainzisegmap_group_sizze_100167)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106581;\n    int32_t local_tid_106582;\n    int64_t group_sizze_106585;\n    int32_t wave_sizze_106584;\n    int32_t group_tid_106583;\n    \n    global_tid_106581 = get_global_id(0);\n    local_tid_106582 = get_local_id(0);\n    group_sizze_106585 = get_local_size(0);\n    wave_sizze_106584 = LOCKSTEP_WIDTH;\n    group_tid_106583 = get_group_id(0);\n    \n    int32_t phys_tid_100377 = global_tid_106581;\n    int64_t global_tid_106586 = sext_i32_i64(group_tid_106583) *\n            segmap_group_sizze_100372 + sext_i32_i64(local_tid_106582);\n    int64_t slice_106587 = n_92399;\n    int64_t slice_106588 = m_92398 * slice_106587;\n    int64_t gtid_100375 = squot64(global_tid_106586, slice_106587);\n    int64_t remnant_106589 = global_tid_106586 - gtid_100375 * slice_106587;\n    int64_t gtid_100376 = remnant_106589;\n    int64_t remnant_106590 = remnant_106589 - gtid_100376;\n    \n    if (slt64(gtid_100375, m_92398) && slt64(gtid_100376, n_92399)) {\n        int64_t x_100378;\n        \n        x_100378 = ((__global int64_t *) mem_104891)[gtid_100375 * n_92399 +\n                                                     gtid_100376];\n        \n        int64_t defunc_0_f_res_100379 = add64((int64_t) 1, x_100378);\n        \n        ((__global int64_t *) mem_104897)[gtid_100375 * n_92399 + gtid_100376] =\n            defunc_0_f_res_100379;\n    }\n ",
                   "   \n  error_0:\n    return;\n    #undef segmap_group_sizze_100372\n}\n__kernel void mainzisegmap_100389(__global int *global_failure, int64_t m_92398,\n                                  int64_t n_92399, int64_t q_92401,\n                                  int64_t i_92415, int64_t min_res_92421,\n                                  double i64_res_92427, __global\n                                  unsigned char *mem_104883, __global\n                                  unsigned char *mem_104901, __global\n                                  unsigned char *mem_104904, __global\n                                  unsigned char *mem_104907, __global\n                                  unsigned char *mem_104910)\n{\n    #define segmap_group_sizze_100382 (mainzisegmap_group_sizze_100141)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106591;\n    int32_t local_tid_106592;\n    int64_t group_sizze_106595;\n    int32_t wave_sizze_106594;\n    int32_t group_tid_106593;\n    \n    global_tid_106591 = get_global_id(0);\n    local_tid_106592 = get_local_id(0);\n    group_sizze_106595 = get_local_size(0);\n    wave_sizze_106594 = LOCKSTEP_WIDTH;\n    group_tid_106593 = get_group_id(0);\n    \n    int32_t phys_tid_100389 = global_tid_106591;\n    int64_t global_tid_106596 = sext_i32_i64(group_tid_106593) *\n            segmap_group_sizze_100382 + sext_i32_i64(local_tid_106592);\n    int64_t slice_106597 = m_92398;\n    int64_t gtid_100388 = global_tid_106596;\n    int64_t remnant_106598 = global_tid_106596 - gtid_100388;\n    \n    if (slt64(gtid_100388, m_92398)) {\n        int64_t last_res_100390;\n        \n        last_res_100390 = ((__global int64_t *) mem_104883)[gtid_100388 *\n                                                            n_92399 + i_92415];\n        \n        int64_t min_arg_100391 = sub64(last_res_100390, (int64_t) 1);\n        int64_t min_arg_100392 = sub64(last_res_100390, min_re",
                   "s_92421);\n        int64_t min_res_100393 = smin64(q_92401, last_res_100390);\n        double i64_res_100394 = sitofp_i64_f64(last_res_100390);\n        double x_100395 = i64_res_92427 - i64_res_100394;\n        double max_arg_100396 = x_100395 / 2.0;\n        double max_res_100397 = fmax64(0.0, max_arg_100396);\n        \n        ((__global int64_t *) mem_104901)[gtid_100388] = min_arg_100391;\n        ((__global int64_t *) mem_104904)[gtid_100388] = min_arg_100392;\n        ((__global int64_t *) mem_104907)[gtid_100388] = min_res_100393;\n        ((__global double *) mem_104910)[gtid_100388] = max_res_100397;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_100382\n}\n__kernel void mainzisegmap_100409(__global int *global_failure, int64_t m_92398,\n                                  int64_t n_92399, int64_t q_92401,\n                                  int64_t i_92415, __global\n                                  unsigned char *mem_104883, __global\n                                  unsigned char *mem_104915)\n{\n    #define segmap_group_sizze_100404 (mainzisegmap_group_sizze_100116)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106599;\n    int32_t local_tid_106600;\n    int64_t group_sizze_106603;\n    int32_t wave_sizze_106602;\n    int32_t group_tid_106601;\n    \n    global_tid_106599 = get_global_id(0);\n    local_tid_106600 = get_local_id(0);\n    group_sizze_106603 = get_local_size(0);\n    wave_sizze_106602 = LOCKSTEP_WIDTH;\n    group_tid_106601 = get_group_id(0);\n    \n    int32_t phys_tid_100409 = global_tid_106599;\n    int64_t global_tid_106604 = sext_i32_i64(group_tid_106601) *\n            segmap_group_sizze_100404 + sext_i32_i64(local_tid_106600);\n    int64_t slice_106605 = q_92401;\n    int64_t slice_106606 = m_92398 * slice_106605;\n    int64_t gtid_100407 = squot64(global_tid_106604, slice_106605);\n    int64_t remnant_106607 = global_tid_10",
                   "6604 - gtid_100407 * slice_106605;\n    int64_t gtid_100408 = remnant_106607;\n    int64_t remnant_106608 = remnant_106607 - gtid_100408;\n    \n    if (slt64(gtid_100407, m_92398) && slt64(gtid_100408, q_92401)) {\n        int64_t last_res_100410;\n        \n        last_res_100410 = ((__global int64_t *) mem_104883)[gtid_100407 *\n                                                            n_92399 + i_92415];\n        \n        bool cond_100412 = sle64(last_res_100410, gtid_100408);\n        double defunc_0_f_res_100413;\n        \n        if (cond_100412) {\n            defunc_0_f_res_100413 = 0.0;\n        } else {\n            defunc_0_f_res_100413 = 1.0;\n        }\n        ((__global double *) mem_104915)[gtid_100407 * q_92401 + gtid_100408] =\n            defunc_0_f_res_100413;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_100404\n}\n__kernel void mainzisegmap_100428(__global int *global_failure,\n                                  int failure_is_an_option, __global\n                                  int64_t *global_failure_args, int64_t m_92398,\n                                  int64_t n_92399, int64_t jump_92403,\n                                  int64_t n_m_92409, int64_t i_92415,\n                                  unsigned char x_92416_bits,\n                                  int64_t min_res_92421,\n                                  unsigned char loop_cond_92426_bits, __global\n                                  unsigned char *mem_104891, __global\n                                  unsigned char *mem_104897, __global\n                                  unsigned char *mem_104901, __global\n                                  unsigned char *mem_104904, __global\n                                  unsigned char *mem_104907, __global\n                                  unsigned char *mem_104910, __global\n                                  unsigned char *mem_104920, __global\n                                  unsigned char *mem_104924, __global\n                                  un",
                   "signed char *mem_104928)\n{\n    bool x_92416 = x_92416_bits;\n    bool loop_cond_92426 = loop_cond_92426_bits;\n    \n    #define segmap_group_sizze_100421 (mainzisegmap_group_sizze_99767)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106609;\n    int32_t local_tid_106610;\n    int64_t group_sizze_106613;\n    int32_t wave_sizze_106612;\n    int32_t group_tid_106611;\n    \n    global_tid_106609 = get_global_id(0);\n    local_tid_106610 = get_local_id(0);\n    group_sizze_106613 = get_local_size(0);\n    wave_sizze_106612 = LOCKSTEP_WIDTH;\n    group_tid_106611 = get_group_id(0);\n    \n    int32_t phys_tid_100428 = global_tid_106609;\n    int64_t global_tid_106614 = sext_i32_i64(group_tid_106611) *\n            segmap_group_sizze_100421 + sext_i32_i64(local_tid_106610);\n    int64_t slice_106615 = n_m_92409;\n    int64_t slice_106616 = m_92398 * slice_106615;\n    int64_t gtid_100426 = squot64(global_tid_106614, slice_106615);\n    int64_t remnant_106617 = global_tid_106614 - gtid_100426 * slice_106615;\n    int64_t gtid_100427 = remnant_106617;\n    int64_t remnant_106618 = remnant_106617 - gtid_100427;\n    \n    if (slt64(gtid_100426, m_92398) && slt64(gtid_100427, n_m_92409)) {\n        int64_t min_arg_100431;\n        \n        min_arg_100431 = ((__global int64_t *) mem_104901)[gtid_100426];\n        \n        int64_t min_arg_100432;\n        \n        min_arg_100432 = ((__global int64_t *) mem_104904)[gtid_100426];\n        \n        int64_t min_res_100433;\n        \n        min_res_100433 = ((__global int64_t *) mem_104907)[gtid_100426];\n        \n        double max_res_100434;\n        \n        max_res_100434 = ((__global double *) mem_104910)[gtid_100426];\n        \n        int64_t min_arg_100436 = mul64(jump_92403, gtid_100427);\n        int64_t min_res_100437 = smin64(i_92415, min_arg_100436);\n        int64_t defunc_0_g_res_100438 = add64((int64_t) 1, min_res_100437);",
                   "\n        bool init_idx_100439;\n        int64_t init_idx_100440;\n        int64_t init_idx_100441;\n        bool loop_while_100442;\n        int64_t low_100443;\n        int64_t high_100444;\n        \n        loop_while_100442 = x_92416;\n        low_100443 = (int64_t) 0;\n        high_100444 = i_92415;\n        while (loop_while_100442) {\n            int64_t x_100445 = add64(low_100443, high_100444);\n            int64_t mid_100446 = sdiv64(x_100445, (int64_t) 2);\n            bool x_100447 = sle64((int64_t) 0, mid_100446);\n            bool y_100448 = slt64(mid_100446, n_92399);\n            bool bounds_check_100449 = x_100447 && y_100448;\n            bool index_certs_100450;\n            \n            if (!bounds_check_100449) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 35) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) mid_100446;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t mid_id_100451;\n            \n            mid_id_100451 = ((__global int64_t *) mem_104897)[gtid_100426 *\n                                                              n_92399 +\n                                                              mid_100446];\n            \n            bool cond_100452 = slt64(mid_id_100451, (int64_t) 0);\n            int64_t mid_idx_100453;\n            \n            if (cond_100452) {\n                mid_idx_100453 = (int64_t) 9223372036854775807;\n            } else {\n                mid_idx_100453 = mid_id_100451;\n            }\n            \n            bool cond_100454 = sle64(defunc_0_g_res_100438, mid_idx_100453);\n            int64_t loopres_100455;\n            int64_t loopres_100456;\n            \n            if (cond_100454) {\n                int64_t loopres_t_res_100457 = sub64(mid_100446, (int64_t) 1);\n                \n         ",
                   "       loopres_100455 = low_100443;\n                loopres_100456 = loopres_t_res_100457;\n            } else {\n                int64_t loopres_f_res_100458 = add64((int64_t) 1, mid_100446);\n                \n                loopres_100455 = loopres_f_res_100458;\n                loopres_100456 = high_100444;\n            }\n            \n            bool loop_cond_100459 = sle64(loopres_100455, loopres_100456);\n            bool loop_while_tmp_106619 = loop_cond_100459;\n            int64_t low_tmp_106620 = loopres_100455;\n            int64_t high_tmp_106621 = loopres_100456;\n            \n            loop_while_100442 = loop_while_tmp_106619;\n            low_100443 = low_tmp_106620;\n            high_100444 = high_tmp_106621;\n        }\n        init_idx_100439 = loop_while_100442;\n        init_idx_100440 = low_100443;\n        init_idx_100441 = high_100444;\n        \n        bool idx_100460;\n        int64_t idx_100461;\n        int64_t idx_100462;\n        int64_t idx_100463;\n        bool loop_while_100464;\n        int64_t l_idx_100465;\n        int64_t r_idx_100466;\n        int64_t span_100467;\n        \n        loop_while_100464 = loop_cond_92426;\n        l_idx_100465 = init_idx_100440;\n        r_idx_100466 = init_idx_100440;\n        span_100467 = (int64_t) 1;\n        while (loop_while_100464) {\n            int64_t max_arg_100468 = sub64(l_idx_100465, (int64_t) 1);\n            int64_t max_res_100469 = smax64((int64_t) 0, max_arg_100468);\n            int64_t min_arg_100470 = add64((int64_t) 1, r_idx_100466);\n            int64_t min_res_100471 = smin64(min_arg_100431, min_arg_100470);\n            bool x_100472 = sle64((int64_t) 0, max_res_100469);\n            bool y_100473 = slt64(max_res_100469, n_92399);\n            bool bounds_check_100474 = x_100472 && y_100473;\n            bool index_certs_100475;\n            \n            if (!bounds_check_100474) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 36) ==\n                        -1) {\n  ",
                   "                      global_failure_args[0] = (int64_t) max_res_100469;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t x_100476;\n            \n            x_100476 = ((__global int64_t *) mem_104897)[gtid_100426 * n_92399 +\n                                                         max_res_100469];\n            \n            int64_t abs_arg_100477 = sub64(x_100476, defunc_0_g_res_100438);\n            int64_t abs_res_100478 = abs64(abs_arg_100477);\n            bool x_100479 = sle64((int64_t) 0, min_res_100471);\n            bool y_100480 = slt64(min_res_100471, n_92399);\n            bool bounds_check_100481 = x_100479 && y_100480;\n            bool index_certs_100482;\n            \n            if (!bounds_check_100481) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 37) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) min_res_100471;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t x_100483;\n            \n            x_100483 = ((__global int64_t *) mem_104897)[gtid_100426 * n_92399 +\n                                                         min_res_100471];\n            \n            int64_t abs_arg_100484 = sub64(x_100483, defunc_0_g_res_100438);\n            int64_t abs_res_100485 = abs64(abs_arg_100484);\n            bool cond_100486 = max_res_100469 == l_idx_100465;\n            int64_t loopres_100487;\n            int64_t loopres_100488;\n            int64_t loopres_100489;\n            \n            if (cond_100486) {\n                loopres_100487 = l_idx_100465;\n                loopres_100488 = r_idx_100466;\n                loopres_100489 = min_res_92421;\n            } else {\n",
                   "                bool cond_100490 = slt64(abs_res_100478, abs_res_100485);\n                bool cond_f_res_100491 = min_res_100471 == r_idx_100466;\n                bool x_100492 = !cond_100490;\n                bool y_100493 = cond_f_res_100491 && x_100492;\n                bool cond_100494 = cond_100490 || y_100493;\n                int64_t loopres_f_res_100495;\n                \n                if (cond_100494) {\n                    loopres_f_res_100495 = max_res_100469;\n                } else {\n                    loopres_f_res_100495 = l_idx_100465;\n                }\n                \n                int64_t loopres_f_res_100496;\n                \n                if (cond_100494) {\n                    loopres_f_res_100496 = r_idx_100466;\n                } else {\n                    loopres_f_res_100496 = min_res_100471;\n                }\n                \n                int64_t loopres_f_res_100497;\n                \n                if (cond_100494) {\n                    int64_t loopres_f_res_t_res_100498 = add64((int64_t) 1,\n                                                               span_100467);\n                    \n                    loopres_f_res_100497 = loopres_f_res_t_res_100498;\n                } else {\n                    int64_t loopres_f_res_f_res_100499 = add64((int64_t) 1,\n                                                               span_100467);\n                    \n                    loopres_f_res_100497 = loopres_f_res_f_res_100499;\n                }\n                loopres_100487 = loopres_f_res_100495;\n                loopres_100488 = loopres_f_res_100496;\n                loopres_100489 = loopres_f_res_100497;\n            }\n            \n            bool loop_cond_100500 = slt64(loopres_100489, min_res_92421);\n            bool loop_while_tmp_106622 = loop_cond_100500;\n            int64_t l_idx_tmp_106623 = loopres_100487;\n            int64_t r_idx_tmp_106624 = loopres_100488;\n            int64_t span_tmp_106625 = loopres_100489;\n            \n   ",
                   "         loop_while_100464 = loop_while_tmp_106622;\n            l_idx_100465 = l_idx_tmp_106623;\n            r_idx_100466 = r_idx_tmp_106624;\n            span_100467 = span_tmp_106625;\n        }\n        idx_100460 = loop_while_100464;\n        idx_100461 = l_idx_100465;\n        idx_100462 = r_idx_100466;\n        idx_100463 = span_100467;\n        \n        int64_t min_res_100501 = smin64(min_arg_100432, idx_100461);\n        int64_t max_res_100502 = smax64((int64_t) 0, min_res_100501);\n        int64_t x_100503 = add64(min_res_100433, max_res_100502);\n        int64_t r_100504 = sub64(x_100503, (int64_t) 1);\n        bool x_100505 = sle64((int64_t) 0, r_100504);\n        bool y_100506 = slt64(r_100504, n_92399);\n        bool bounds_check_100507 = x_100505 && y_100506;\n        bool index_certs_100508;\n        \n        if (!bounds_check_100507) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 38) == -1) {\n                    global_failure_args[0] = (int64_t) r_100504;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n                return;\n            }\n        }\n        \n        int64_t x_100509;\n        \n        x_100509 = ((__global int64_t *) mem_104891)[gtid_100426 * n_92399 +\n                                                     r_100504];\n        \n        int64_t abs_arg_100510 = sub64(x_100509, min_res_100437);\n        int64_t abs_res_100511 = abs64(abs_arg_100510);\n        bool x_100512 = sle64((int64_t) 0, max_res_100502);\n        bool y_100513 = slt64(max_res_100502, n_92399);\n        bool bounds_check_100514 = x_100512 && y_100513;\n        bool index_certs_100515;\n        \n        if (!bounds_check_100514) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 39) == -1) {\n                    global_failure_args[0] = (int64_t) max_res_100502;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n      ",
                   "          return;\n            }\n        }\n        \n        int64_t x_100516;\n        \n        x_100516 = ((__global int64_t *) mem_104891)[gtid_100426 * n_92399 +\n                                                     max_res_100502];\n        \n        int64_t abs_arg_100517 = sub64(x_100516, min_res_100437);\n        int64_t abs_res_100518 = abs64(abs_arg_100517);\n        int64_t max_res_100519 = smax64(abs_res_100511, abs_res_100518);\n        double defunc_0_f_res_100520 = sitofp_i64_f64(max_res_100519);\n        double defunc_1_f_res_100521 = max_res_100434 + defunc_0_f_res_100520;\n        \n        ((__global int64_t *) mem_104920)[gtid_100426 * n_m_92409 +\n                                          gtid_100427] = min_res_100437;\n        ((__global int64_t *) mem_104924)[gtid_100426 * n_m_92409 +\n                                          gtid_100427] = max_res_100502;\n        ((__global double *) mem_104928)[gtid_100426 * n_m_92409 +\n                                         gtid_100427] = defunc_1_f_res_100521;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_100421\n}\n__kernel void mainzisegmap_100581(__global int *global_failure, int64_t m_92398,\n                                  int64_t n_m_92409, __global\n                                  unsigned char *mem_104933, __global\n                                  unsigned char *mem_104937, __global\n                                  unsigned char *mem_104941, __global\n                                  unsigned char *mem_104946, __global\n                                  unsigned char *mem_104950, __global\n                                  unsigned char *mem_104954)\n{\n    #define segmap_group_sizze_100574 (mainzisegmap_group_sizze_99692)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106727;\n    int32_t local_tid_106728;\n    int64_t group_sizze_106731;\n    int32_t wave_sizze_106730;\n ",
                   "   int32_t group_tid_106729;\n    \n    global_tid_106727 = get_global_id(0);\n    local_tid_106728 = get_local_id(0);\n    group_sizze_106731 = get_local_size(0);\n    wave_sizze_106730 = LOCKSTEP_WIDTH;\n    group_tid_106729 = get_group_id(0);\n    \n    int32_t phys_tid_100581 = global_tid_106727;\n    int64_t global_tid_106732 = sext_i32_i64(group_tid_106729) *\n            segmap_group_sizze_100574 + sext_i32_i64(local_tid_106728);\n    int64_t slice_106733 = n_m_92409;\n    int64_t slice_106734 = m_92398 * slice_106733;\n    int64_t gtid_100579 = squot64(global_tid_106732, slice_106733);\n    int64_t remnant_106735 = global_tid_106732 - gtid_100579 * slice_106733;\n    int64_t gtid_100580 = remnant_106735;\n    int64_t remnant_106736 = remnant_106735 - gtid_100580;\n    \n    if (slt64(gtid_100579, m_92398) && slt64(gtid_100580, n_m_92409)) {\n        double defunc_2_reduce_res_100582;\n        \n        defunc_2_reduce_res_100582 = ((__global\n                                       double *) mem_104933)[gtid_100579 *\n                                                             n_m_92409 +\n                                                             gtid_100580];\n        \n        double defunc_2_reduce_res_100583;\n        \n        defunc_2_reduce_res_100583 = ((__global\n                                       double *) mem_104937)[gtid_100579 *\n                                                             n_m_92409 +\n                                                             gtid_100580];\n        \n        double defunc_2_reduce_res_100584;\n        \n        defunc_2_reduce_res_100584 = ((__global\n                                       double *) mem_104941)[gtid_100579 *\n                                                             n_m_92409 +\n                                                             gtid_100580];\n        \n        double x_100585 = defunc_2_reduce_res_100582 *\n               defunc_2_reduce_res_100584;\n        double y_100586 = defunc_2_reduce_res_100583 *\n        ",
                   "       defunc_2_reduce_res_100583;\n        double y_100587 = x_100585 - y_100586;\n        double det1_100588 = 1.0 / y_100587;\n        double a11_100589 = defunc_2_reduce_res_100584 * det1_100588;\n        double x_100590 = 0.0 - defunc_2_reduce_res_100583;\n        double b11_100591 = det1_100588 * x_100590;\n        double c11_100592 = defunc_2_reduce_res_100582 * det1_100588;\n        \n        ((__global double *) mem_104946)[gtid_100579 * n_m_92409 +\n                                         gtid_100580] = a11_100589;\n        ((__global double *) mem_104950)[gtid_100579 * n_m_92409 +\n                                         gtid_100580] = b11_100591;\n        ((__global double *) mem_104954)[gtid_100579 * n_m_92409 +\n                                         gtid_100580] = c11_100592;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_100574\n}\n__kernel void mainzisegmap_101515(__global int *global_failure, int64_t m_92398,\n                                  int64_t n_92399, __global\n                                  unsigned char *Y_mem_104293, __global\n                                  unsigned char *mem_104968, __global\n                                  unsigned char *mem_104972, __global\n                                  unsigned char *mem_104976)\n{\n    #define segmap_group_sizze_101509 (mainzisegmap_group_sizze_101350)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106890;\n    int32_t local_tid_106891;\n    int64_t group_sizze_106894;\n    int32_t wave_sizze_106893;\n    int32_t group_tid_106892;\n    \n    global_tid_106890 = get_global_id(0);\n    local_tid_106891 = get_local_id(0);\n    group_sizze_106894 = get_local_size(0);\n    wave_sizze_106893 = LOCKSTEP_WIDTH;\n    group_tid_106892 = get_group_id(0);\n    \n    int32_t phys_tid_101515 = global_tid_106890;\n    int64_t global_tid_106895 = sext_i32_i64(group_tid_106892) *\n           ",
                   " segmap_group_sizze_101509 + sext_i32_i64(local_tid_106891);\n    int64_t slice_106896 = n_92399;\n    int64_t slice_106897 = m_92398 * slice_106896;\n    int64_t gtid_101513 = squot64(global_tid_106895, slice_106896);\n    int64_t remnant_106898 = global_tid_106895 - gtid_101513 * slice_106896;\n    int64_t gtid_101514 = remnant_106898;\n    int64_t remnant_106899 = remnant_106898 - gtid_101514;\n    \n    if (slt64(gtid_101513, m_92398) && slt64(gtid_101514, n_92399)) {\n        double x_101516;\n        \n        x_101516 = ((__global double *) Y_mem_104293)[gtid_101513 * n_92399 +\n                                                      gtid_101514];\n        \n        bool isnan_res_101519;\n        \n        isnan_res_101519 = futrts_isnan64(x_101516);\n        \n        bool defunc_0_p_res_101520 = !isnan_res_101519;\n        int64_t defunc_1_f_res_101521;\n        \n        if (defunc_0_p_res_101520) {\n            int64_t x_101517;\n            \n            x_101517 = ((__global int64_t *) mem_104968)[gtid_101513 * n_92399 +\n                                                         gtid_101514];\n            \n            int64_t defunc_1_f_res_t_res_101522 = sub64(x_101517, (int64_t) 1);\n            \n            defunc_1_f_res_101521 = defunc_1_f_res_t_res_101522;\n        } else {\n            defunc_1_f_res_101521 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_101513) && slt64(gtid_101513, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_101521) &&\n             slt64(defunc_1_f_res_101521, n_92399))) {\n            ((__global int64_t *) mem_104976)[gtid_101513 * n_92399 +\n                                              defunc_1_f_res_101521] =\n                gtid_101514;\n        }\n        if ((sle64((int64_t) 0, gtid_101513) && slt64(gtid_101513, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_101521) &&\n             slt64(defunc_1_f_res_101521, n_92399))) {\n            ((__global double *) mem_104972)[gtid_101513 * n_92399 +\n                     ",
                   "                        defunc_1_f_res_101521] = x_101516;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_101509\n}\n__kernel void mainzisegmap_101534(__global int *global_failure, int64_t m_92398,\n                                  int64_t n_92399, __global\n                                  unsigned char *mem_104976, __global\n                                  unsigned char *mem_104982)\n{\n    #define segmap_group_sizze_101529 (mainzisegmap_group_sizze_101324)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106900;\n    int32_t local_tid_106901;\n    int64_t group_sizze_106904;\n    int32_t wave_sizze_106903;\n    int32_t group_tid_106902;\n    \n    global_tid_106900 = get_global_id(0);\n    local_tid_106901 = get_local_id(0);\n    group_sizze_106904 = get_local_size(0);\n    wave_sizze_106903 = LOCKSTEP_WIDTH;\n    group_tid_106902 = get_group_id(0);\n    \n    int32_t phys_tid_101534 = global_tid_106900;\n    int64_t global_tid_106905 = sext_i32_i64(group_tid_106902) *\n            segmap_group_sizze_101529 + sext_i32_i64(local_tid_106901);\n    int64_t slice_106906 = n_92399;\n    int64_t slice_106907 = m_92398 * slice_106906;\n    int64_t gtid_101532 = squot64(global_tid_106905, slice_106906);\n    int64_t remnant_106908 = global_tid_106905 - gtid_101532 * slice_106906;\n    int64_t gtid_101533 = remnant_106908;\n    int64_t remnant_106909 = remnant_106908 - gtid_101533;\n    \n    if (slt64(gtid_101532, m_92398) && slt64(gtid_101533, n_92399)) {\n        int64_t x_101535;\n        \n        x_101535 = ((__global int64_t *) mem_104976)[gtid_101532 * n_92399 +\n                                                     gtid_101533];\n        \n        int64_t defunc_0_f_res_101536 = add64((int64_t) 1, x_101535);\n        \n        ((__global int64_t *) mem_104982)[gtid_101532 * n_92399 + gtid_101533] =\n            defunc_0_f_res_101536;\n    }\n    \n  e",
                   "rror_0:\n    return;\n    #undef segmap_group_sizze_101529\n}\n__kernel void mainzisegmap_101546(__global int *global_failure, int64_t m_92398,\n                                  int64_t n_92399, int64_t q_92401,\n                                  int64_t i_92415, int64_t min_res_92421,\n                                  double i64_res_92427, __global\n                                  unsigned char *mem_104968, __global\n                                  unsigned char *mem_104986, __global\n                                  unsigned char *mem_104989, __global\n                                  unsigned char *mem_104992, __global\n                                  unsigned char *mem_104995)\n{\n    #define segmap_group_sizze_101539 (mainzisegmap_group_sizze_101298)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106910;\n    int32_t local_tid_106911;\n    int64_t group_sizze_106914;\n    int32_t wave_sizze_106913;\n    int32_t group_tid_106912;\n    \n    global_tid_106910 = get_global_id(0);\n    local_tid_106911 = get_local_id(0);\n    group_sizze_106914 = get_local_size(0);\n    wave_sizze_106913 = LOCKSTEP_WIDTH;\n    group_tid_106912 = get_group_id(0);\n    \n    int32_t phys_tid_101546 = global_tid_106910;\n    int64_t global_tid_106915 = sext_i32_i64(group_tid_106912) *\n            segmap_group_sizze_101539 + sext_i32_i64(local_tid_106911);\n    int64_t slice_106916 = m_92398;\n    int64_t gtid_101545 = global_tid_106915;\n    int64_t remnant_106917 = global_tid_106915 - gtid_101545;\n    \n    if (slt64(gtid_101545, m_92398)) {\n        int64_t last_res_101547;\n        \n        last_res_101547 = ((__global int64_t *) mem_104968)[gtid_101545 *\n                                                            n_92399 + i_92415];\n        \n        int64_t min_arg_101548 = sub64(last_res_101547, (int64_t) 1);\n        int64_t min_arg_101549 = sub64(last_res_101547, min_res_92421",
                   ");\n        int64_t min_res_101550 = smin64(q_92401, last_res_101547);\n        double i64_res_101551 = sitofp_i64_f64(last_res_101547);\n        double x_101552 = i64_res_92427 - i64_res_101551;\n        double max_arg_101553 = x_101552 / 2.0;\n        double max_res_101554 = fmax64(0.0, max_arg_101553);\n        \n        ((__global int64_t *) mem_104986)[gtid_101545] = min_arg_101548;\n        ((__global int64_t *) mem_104989)[gtid_101545] = min_arg_101549;\n        ((__global int64_t *) mem_104992)[gtid_101545] = min_res_101550;\n        ((__global double *) mem_104995)[gtid_101545] = max_res_101554;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_101539\n}\n__kernel void mainzisegmap_101566(__global int *global_failure, int64_t m_92398,\n                                  int64_t n_92399, int64_t q_92401,\n                                  int64_t i_92415, __global\n                                  unsigned char *mem_104968, __global\n                                  unsigned char *mem_105000)\n{\n    #define segmap_group_sizze_101561 (mainzisegmap_group_sizze_101273)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106918;\n    int32_t local_tid_106919;\n    int64_t group_sizze_106922;\n    int32_t wave_sizze_106921;\n    int32_t group_tid_106920;\n    \n    global_tid_106918 = get_global_id(0);\n    local_tid_106919 = get_local_id(0);\n    group_sizze_106922 = get_local_size(0);\n    wave_sizze_106921 = LOCKSTEP_WIDTH;\n    group_tid_106920 = get_group_id(0);\n    \n    int32_t phys_tid_101566 = global_tid_106918;\n    int64_t global_tid_106923 = sext_i32_i64(group_tid_106920) *\n            segmap_group_sizze_101561 + sext_i32_i64(local_tid_106919);\n    int64_t slice_106924 = q_92401;\n    int64_t slice_106925 = m_92398 * slice_106924;\n    int64_t gtid_101564 = squot64(global_tid_106923, slice_106924);\n    int64_t remnant_106926 = global_tid_106923 - ",
                   "gtid_101564 * slice_106924;\n    int64_t gtid_101565 = remnant_106926;\n    int64_t remnant_106927 = remnant_106926 - gtid_101565;\n    \n    if (slt64(gtid_101564, m_92398) && slt64(gtid_101565, q_92401)) {\n        int64_t last_res_101567;\n        \n        last_res_101567 = ((__global int64_t *) mem_104968)[gtid_101564 *\n                                                            n_92399 + i_92415];\n        \n        bool cond_101569 = sle64(last_res_101567, gtid_101565);\n        double defunc_0_f_res_101570;\n        \n        if (cond_101569) {\n            defunc_0_f_res_101570 = 0.0;\n        } else {\n            defunc_0_f_res_101570 = 1.0;\n        }\n        ((__global double *) mem_105000)[gtid_101564 * q_92401 + gtid_101565] =\n            defunc_0_f_res_101570;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_101561\n}\n__kernel void mainzisegmap_101585(__global int *global_failure,\n                                  int failure_is_an_option, __global\n                                  int64_t *global_failure_args, int64_t m_92398,\n                                  int64_t n_92399, int64_t jump_92403,\n                                  int64_t n_m_92409, int64_t i_92415,\n                                  unsigned char x_92416_bits,\n                                  int64_t min_res_92421,\n                                  unsigned char loop_cond_92426_bits, __global\n                                  unsigned char *mem_104976, __global\n                                  unsigned char *mem_104982, __global\n                                  unsigned char *mem_104986, __global\n                                  unsigned char *mem_104989, __global\n                                  unsigned char *mem_104992, __global\n                                  unsigned char *mem_104995, __global\n                                  unsigned char *mem_105005, __global\n                                  unsigned char *mem_105009, __global\n                                  unsigned ",
                   "char *mem_105013)\n{\n    bool x_92416 = x_92416_bits;\n    bool loop_cond_92426 = loop_cond_92426_bits;\n    \n    #define segmap_group_sizze_101578 (mainzisegmap_group_sizze_100884)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106928;\n    int32_t local_tid_106929;\n    int64_t group_sizze_106932;\n    int32_t wave_sizze_106931;\n    int32_t group_tid_106930;\n    \n    global_tid_106928 = get_global_id(0);\n    local_tid_106929 = get_local_id(0);\n    group_sizze_106932 = get_local_size(0);\n    wave_sizze_106931 = LOCKSTEP_WIDTH;\n    group_tid_106930 = get_group_id(0);\n    \n    int32_t phys_tid_101585 = global_tid_106928;\n    int64_t global_tid_106933 = sext_i32_i64(group_tid_106930) *\n            segmap_group_sizze_101578 + sext_i32_i64(local_tid_106929);\n    int64_t slice_106934 = n_m_92409;\n    int64_t slice_106935 = m_92398 * slice_106934;\n    int64_t gtid_101583 = squot64(global_tid_106933, slice_106934);\n    int64_t remnant_106936 = global_tid_106933 - gtid_101583 * slice_106934;\n    int64_t gtid_101584 = remnant_106936;\n    int64_t remnant_106937 = remnant_106936 - gtid_101584;\n    \n    if (slt64(gtid_101583, m_92398) && slt64(gtid_101584, n_m_92409)) {\n        int64_t min_arg_101588;\n        \n        min_arg_101588 = ((__global int64_t *) mem_104986)[gtid_101583];\n        \n        int64_t min_arg_101589;\n        \n        min_arg_101589 = ((__global int64_t *) mem_104989)[gtid_101583];\n        \n        int64_t min_res_101590;\n        \n        min_res_101590 = ((__global int64_t *) mem_104992)[gtid_101583];\n        \n        double max_res_101591;\n        \n        max_res_101591 = ((__global double *) mem_104995)[gtid_101583];\n        \n        int64_t min_arg_101593 = mul64(jump_92403, gtid_101584);\n        int64_t min_res_101594 = smin64(i_92415, min_arg_101593);\n        int64_t defunc_0_g_res_101595 = add64((int64_t) 1, min_res_101594);\n     ",
                   "   bool init_idx_101596;\n        int64_t init_idx_101597;\n        int64_t init_idx_101598;\n        bool loop_while_101599;\n        int64_t low_101600;\n        int64_t high_101601;\n        \n        loop_while_101599 = x_92416;\n        low_101600 = (int64_t) 0;\n        high_101601 = i_92415;\n        while (loop_while_101599) {\n            int64_t x_101602 = add64(low_101600, high_101601);\n            int64_t mid_101603 = sdiv64(x_101602, (int64_t) 2);\n            bool x_101604 = sle64((int64_t) 0, mid_101603);\n            bool y_101605 = slt64(mid_101603, n_92399);\n            bool bounds_check_101606 = x_101604 && y_101605;\n            bool index_certs_101607;\n            \n            if (!bounds_check_101606) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 40) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) mid_101603;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t mid_id_101608;\n            \n            mid_id_101608 = ((__global int64_t *) mem_104982)[gtid_101583 *\n                                                              n_92399 +\n                                                              mid_101603];\n            \n            bool cond_101609 = slt64(mid_id_101608, (int64_t) 0);\n            int64_t mid_idx_101610;\n            \n            if (cond_101609) {\n                mid_idx_101610 = (int64_t) 9223372036854775807;\n            } else {\n                mid_idx_101610 = mid_id_101608;\n            }\n            \n            bool cond_101611 = sle64(defunc_0_g_res_101595, mid_idx_101610);\n            int64_t loopres_101612;\n            int64_t loopres_101613;\n            \n            if (cond_101611) {\n                int64_t loopres_t_res_101614 = sub64(mid_101603, (int64_t) 1);\n                \n               ",
                   " loopres_101612 = low_101600;\n                loopres_101613 = loopres_t_res_101614;\n            } else {\n                int64_t loopres_f_res_101615 = add64((int64_t) 1, mid_101603);\n                \n                loopres_101612 = loopres_f_res_101615;\n                loopres_101613 = high_101601;\n            }\n            \n            bool loop_cond_101616 = sle64(loopres_101612, loopres_101613);\n            bool loop_while_tmp_106938 = loop_cond_101616;\n            int64_t low_tmp_106939 = loopres_101612;\n            int64_t high_tmp_106940 = loopres_101613;\n            \n            loop_while_101599 = loop_while_tmp_106938;\n            low_101600 = low_tmp_106939;\n            high_101601 = high_tmp_106940;\n        }\n        init_idx_101596 = loop_while_101599;\n        init_idx_101597 = low_101600;\n        init_idx_101598 = high_101601;\n        \n        bool idx_101617;\n        int64_t idx_101618;\n        int64_t idx_101619;\n        int64_t idx_101620;\n        bool loop_while_101621;\n        int64_t l_idx_101622;\n        int64_t r_idx_101623;\n        int64_t span_101624;\n        \n        loop_while_101621 = loop_cond_92426;\n        l_idx_101622 = init_idx_101597;\n        r_idx_101623 = init_idx_101597;\n        span_101624 = (int64_t) 1;\n        while (loop_while_101621) {\n            int64_t max_arg_101625 = sub64(l_idx_101622, (int64_t) 1);\n            int64_t max_res_101626 = smax64((int64_t) 0, max_arg_101625);\n            int64_t min_arg_101627 = add64((int64_t) 1, r_idx_101623);\n            int64_t min_res_101628 = smin64(min_arg_101588, min_arg_101627);\n            bool x_101629 = sle64((int64_t) 0, max_res_101626);\n            bool y_101630 = slt64(max_res_101626, n_92399);\n            bool bounds_check_101631 = x_101629 && y_101630;\n            bool index_certs_101632;\n            \n            if (!bounds_check_101631) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 41) ==\n                        -1) {\n        ",
                   "                global_failure_args[0] = (int64_t) max_res_101626;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t x_101633;\n            \n            x_101633 = ((__global int64_t *) mem_104982)[gtid_101583 * n_92399 +\n                                                         max_res_101626];\n            \n            int64_t abs_arg_101634 = sub64(x_101633, defunc_0_g_res_101595);\n            int64_t abs_res_101635 = abs64(abs_arg_101634);\n            bool x_101636 = sle64((int64_t) 0, min_res_101628);\n            bool y_101637 = slt64(min_res_101628, n_92399);\n            bool bounds_check_101638 = x_101636 && y_101637;\n            bool index_certs_101639;\n            \n            if (!bounds_check_101638) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 42) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) min_res_101628;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t x_101640;\n            \n            x_101640 = ((__global int64_t *) mem_104982)[gtid_101583 * n_92399 +\n                                                         min_res_101628];\n            \n            int64_t abs_arg_101641 = sub64(x_101640, defunc_0_g_res_101595);\n            int64_t abs_res_101642 = abs64(abs_arg_101641);\n            bool cond_101643 = max_res_101626 == l_idx_101622;\n            int64_t loopres_101644;\n            int64_t loopres_101645;\n            int64_t loopres_101646;\n            \n            if (cond_101643) {\n                loopres_101644 = l_idx_101622;\n                loopres_101645 = r_idx_101623;\n                loopres_101646 = min_res_92421;\n            } else {\n      ",
                   "          bool cond_101647 = slt64(abs_res_101635, abs_res_101642);\n                bool cond_f_res_101648 = min_res_101628 == r_idx_101623;\n                bool x_101649 = !cond_101647;\n                bool y_101650 = cond_f_res_101648 && x_101649;\n                bool cond_101651 = cond_101647 || y_101650;\n                int64_t loopres_f_res_101652;\n                \n                if (cond_101651) {\n                    loopres_f_res_101652 = max_res_101626;\n                } else {\n                    loopres_f_res_101652 = l_idx_101622;\n                }\n                \n                int64_t loopres_f_res_101653;\n                \n                if (cond_101651) {\n                    loopres_f_res_101653 = r_idx_101623;\n                } else {\n                    loopres_f_res_101653 = min_res_101628;\n                }\n                \n                int64_t loopres_f_res_101654;\n                \n                if (cond_101651) {\n                    int64_t loopres_f_res_t_res_101655 = add64((int64_t) 1,\n                                                               span_101624);\n                    \n                    loopres_f_res_101654 = loopres_f_res_t_res_101655;\n                } else {\n                    int64_t loopres_f_res_f_res_101656 = add64((int64_t) 1,\n                                                               span_101624);\n                    \n                    loopres_f_res_101654 = loopres_f_res_f_res_101656;\n                }\n                loopres_101644 = loopres_f_res_101652;\n                loopres_101645 = loopres_f_res_101653;\n                loopres_101646 = loopres_f_res_101654;\n            }\n            \n            bool loop_cond_101657 = slt64(loopres_101646, min_res_92421);\n            bool loop_while_tmp_106941 = loop_cond_101657;\n            int64_t l_idx_tmp_106942 = loopres_101644;\n            int64_t r_idx_tmp_106943 = loopres_101645;\n            int64_t span_tmp_106944 = loopres_101646;\n            \n         ",
                   "   loop_while_101621 = loop_while_tmp_106941;\n            l_idx_101622 = l_idx_tmp_106942;\n            r_idx_101623 = r_idx_tmp_106943;\n            span_101624 = span_tmp_106944;\n        }\n        idx_101617 = loop_while_101621;\n        idx_101618 = l_idx_101622;\n        idx_101619 = r_idx_101623;\n        idx_101620 = span_101624;\n        \n        int64_t min_res_101658 = smin64(min_arg_101589, idx_101618);\n        int64_t max_res_101659 = smax64((int64_t) 0, min_res_101658);\n        int64_t x_101660 = add64(min_res_101590, max_res_101659);\n        int64_t r_101661 = sub64(x_101660, (int64_t) 1);\n        bool x_101662 = sle64((int64_t) 0, r_101661);\n        bool y_101663 = slt64(r_101661, n_92399);\n        bool bounds_check_101664 = x_101662 && y_101663;\n        bool index_certs_101665;\n        \n        if (!bounds_check_101664) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 43) == -1) {\n                    global_failure_args[0] = (int64_t) r_101661;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n                return;\n            }\n        }\n        \n        int64_t x_101666;\n        \n        x_101666 = ((__global int64_t *) mem_104976)[gtid_101583 * n_92399 +\n                                                     r_101661];\n        \n        int64_t abs_arg_101667 = sub64(x_101666, min_res_101594);\n        int64_t abs_res_101668 = abs64(abs_arg_101667);\n        bool x_101669 = sle64((int64_t) 0, max_res_101659);\n        bool y_101670 = slt64(max_res_101659, n_92399);\n        bool bounds_check_101671 = x_101669 && y_101670;\n        bool index_certs_101672;\n        \n        if (!bounds_check_101671) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 44) == -1) {\n                    global_failure_args[0] = (int64_t) max_res_101659;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n            ",
                   "    return;\n            }\n        }\n        \n        int64_t x_101673;\n        \n        x_101673 = ((__global int64_t *) mem_104976)[gtid_101583 * n_92399 +\n                                                     max_res_101659];\n        \n        int64_t abs_arg_101674 = sub64(x_101673, min_res_101594);\n        int64_t abs_res_101675 = abs64(abs_arg_101674);\n        int64_t max_res_101676 = smax64(abs_res_101668, abs_res_101675);\n        double defunc_0_f_res_101677 = sitofp_i64_f64(max_res_101676);\n        double defunc_1_f_res_101678 = max_res_101591 + defunc_0_f_res_101677;\n        \n        ((__global int64_t *) mem_105005)[gtid_101583 * n_m_92409 +\n                                          gtid_101584] = min_res_101594;\n        ((__global int64_t *) mem_105009)[gtid_101583 * n_m_92409 +\n                                          gtid_101584] = max_res_101659;\n        ((__global double *) mem_105013)[gtid_101583 * n_m_92409 +\n                                         gtid_101584] = defunc_1_f_res_101678;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_101578\n}\n__kernel void mainzisegmap_101750(__global int *global_failure, int64_t m_92398,\n                                  int64_t n_m_92409, __global\n                                  unsigned char *mem_105018, __global\n                                  unsigned char *mem_105022, __global\n                                  unsigned char *mem_105026, __global\n                                  unsigned char *mem_105030, __global\n                                  unsigned char *mem_105034, __global\n                                  unsigned char *mem_105039, __global\n                                  unsigned char *mem_105043, __global\n                                  unsigned char *mem_105047, __global\n                                  unsigned char *mem_105051, __global\n                                  unsigned char *mem_105055)\n{\n    #define segmap_group_sizze_101741 (mainzisegmap_group_sizze_100782)\n ",
                   "   \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_107074;\n    int32_t local_tid_107075;\n    int64_t group_sizze_107078;\n    int32_t wave_sizze_107077;\n    int32_t group_tid_107076;\n    \n    global_tid_107074 = get_global_id(0);\n    local_tid_107075 = get_local_id(0);\n    group_sizze_107078 = get_local_size(0);\n    wave_sizze_107077 = LOCKSTEP_WIDTH;\n    group_tid_107076 = get_group_id(0);\n    \n    int32_t phys_tid_101750 = global_tid_107074;\n    int64_t global_tid_107079 = sext_i32_i64(group_tid_107076) *\n            segmap_group_sizze_101741 + sext_i32_i64(local_tid_107075);\n    int64_t slice_107080 = n_m_92409;\n    int64_t slice_107081 = m_92398 * slice_107080;\n    int64_t gtid_101748 = squot64(global_tid_107079, slice_107080);\n    int64_t remnant_107082 = global_tid_107079 - gtid_101748 * slice_107080;\n    int64_t gtid_101749 = remnant_107082;\n    int64_t remnant_107083 = remnant_107082 - gtid_101749;\n    \n    if (slt64(gtid_101748, m_92398) && slt64(gtid_101749, n_m_92409)) {\n        double defunc_2_reduce_res_101751;\n        \n        defunc_2_reduce_res_101751 = ((__global\n                                       double *) mem_105018)[gtid_101748 *\n                                                             n_m_92409 +\n                                                             gtid_101749];\n        \n        double defunc_2_reduce_res_101752;\n        \n        defunc_2_reduce_res_101752 = ((__global\n                                       double *) mem_105022)[gtid_101748 *\n                                                             n_m_92409 +\n                                                             gtid_101749];\n        \n        double defunc_2_reduce_res_101753;\n        \n        defunc_2_reduce_res_101753 = ((__global\n                                       double *) mem_105026)[gtid_101748 *\n                                           ",
                   "                  n_m_92409 +\n                                                             gtid_101749];\n        \n        double defunc_2_reduce_res_101754;\n        \n        defunc_2_reduce_res_101754 = ((__global\n                                       double *) mem_105030)[gtid_101748 *\n                                                             n_m_92409 +\n                                                             gtid_101749];\n        \n        double defunc_2_reduce_res_101755;\n        \n        defunc_2_reduce_res_101755 = ((__global\n                                       double *) mem_105034)[gtid_101748 *\n                                                             n_m_92409 +\n                                                             gtid_101749];\n        \n        double x_101756 = defunc_2_reduce_res_101753 *\n               defunc_2_reduce_res_101755;\n        double y_101757 = defunc_2_reduce_res_101754 *\n               defunc_2_reduce_res_101754;\n        double a12_101758 = x_101756 - y_101757;\n        double x_101759 = defunc_2_reduce_res_101753 *\n               defunc_2_reduce_res_101754;\n        double y_101760 = defunc_2_reduce_res_101752 *\n               defunc_2_reduce_res_101755;\n        double b12_101761 = x_101759 - y_101760;\n        double x_101762 = defunc_2_reduce_res_101752 *\n               defunc_2_reduce_res_101754;\n        double y_101763 = defunc_2_reduce_res_101753 *\n               defunc_2_reduce_res_101753;\n        double c12_101764 = x_101762 - y_101763;\n        double x_101765 = defunc_2_reduce_res_101751 *\n               defunc_2_reduce_res_101755;\n        double b2_101766 = x_101765 - y_101763;\n        double x_101767 = defunc_2_reduce_res_101752 *\n               defunc_2_reduce_res_101753;\n        double y_101768 = defunc_2_reduce_res_101751 *\n               defunc_2_reduce_res_101754;\n        double c2_101769 = x_101767 - y_101768;\n        double x_101770 = defunc_2_reduce_res_101751 * a12_101758;\n        double y_101771 = defu",
                   "nc_2_reduce_res_101752 * b12_101761;\n        double x_101772 = x_101770 + y_101771;\n        double y_101773 = defunc_2_reduce_res_101753 * c12_101764;\n        double y_101774 = x_101772 + y_101773;\n        double det_101775 = 1.0 / y_101774;\n        double a12_101776 = a12_101758 * det_101775;\n        double b12_101777 = b12_101761 * det_101775;\n        double c12_101778 = c12_101764 * det_101775;\n        double b2_101779 = b2_101766 * det_101775;\n        double c2_101780 = c2_101769 * det_101775;\n        \n        ((__global double *) mem_105039)[gtid_101748 * n_m_92409 +\n                                         gtid_101749] = a12_101776;\n        ((__global double *) mem_105043)[gtid_101748 * n_m_92409 +\n                                         gtid_101749] = b12_101777;\n        ((__global double *) mem_105047)[gtid_101748 * n_m_92409 +\n                                         gtid_101749] = c12_101778;\n        ((__global double *) mem_105051)[gtid_101748 * n_m_92409 +\n                                         gtid_101749] = b2_101779;\n        ((__global double *) mem_105055)[gtid_101748 * n_m_92409 +\n                                         gtid_101749] = c2_101780;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_101741\n}\n__kernel void mainzisegmap_101991(__global int *global_failure,\n                                  int failure_is_an_option, __global\n                                  int64_t *global_failure_args, int64_t m_92398,\n                                  int64_t n_92399, int64_t jump_92403,\n                                  int64_t n_m_92409, int64_t i_92415,\n                                  int64_t y_94325, __global\n                                  unsigned char *ext_mem_105071, __global\n                                  unsigned char *ext_mem_105072, __global\n                                  unsigned char *mem_105077)\n{\n    #define segmap_group_sizze_101986 (mainzisegmap_group_sizze_101868)\n    \n    const int block_dim0 = 0;\n    const",
                   " int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_107171;\n    int32_t local_tid_107172;\n    int64_t group_sizze_107175;\n    int32_t wave_sizze_107174;\n    int32_t group_tid_107173;\n    \n    global_tid_107171 = get_global_id(0);\n    local_tid_107172 = get_local_id(0);\n    group_sizze_107175 = get_local_size(0);\n    wave_sizze_107174 = LOCKSTEP_WIDTH;\n    group_tid_107173 = get_group_id(0);\n    \n    int32_t phys_tid_101991 = global_tid_107171;\n    int64_t global_tid_107176 = sext_i32_i64(group_tid_107173) *\n            segmap_group_sizze_101986 + sext_i32_i64(local_tid_107172);\n    int64_t slice_107177 = n_92399;\n    int64_t slice_107178 = m_92398 * slice_107177;\n    int64_t gtid_101989 = squot64(global_tid_107176, slice_107177);\n    int64_t remnant_107179 = global_tid_107176 - gtid_101989 * slice_107177;\n    int64_t gtid_101990 = remnant_107179;\n    int64_t remnant_107180 = remnant_107179 - gtid_101990;\n    \n    if (slt64(gtid_101989, m_92398) && slt64(gtid_101990, n_92399)) {\n        int64_t m_v_101995 = sdiv64(gtid_101990, jump_92403);\n        bool cond_101996 = m_v_101995 == y_94325;\n        int64_t j_101997;\n        \n        if (cond_101996) {\n            int64_t j_t_res_101998 = sub64(m_v_101995, (int64_t) 1);\n            \n            j_101997 = j_t_res_101998;\n        } else {\n            j_101997 = m_v_101995;\n        }\n        \n        int64_t min_arg_101999 = mul64(jump_92403, j_101997);\n        int64_t min_res_102000 = smin64(i_92415, min_arg_101999);\n        int64_t defunc_0_m_fun_arg_102001 = add64((int64_t) 1, j_101997);\n        int64_t min_arg_102002 = mul64(jump_92403, defunc_0_m_fun_arg_102001);\n        int64_t min_res_102003 = smin64(i_92415, min_arg_102002);\n        int64_t i64_arg_102004 = sub64(min_res_102003, min_res_102000);\n        double i64_res_102005 = sitofp_i64_f64(i64_arg_102004);\n        int64_t i64_arg_102006 = sub64(gtid_101990, min_res_102000);\n        dou",
                   "ble i64_res_102007 = sitofp_i64_f64(i64_arg_102006);\n        double u_102008 = i64_res_102007 / i64_res_102005;\n        double u2_102009 = u_102008 * u_102008;\n        double u3_102010 = u_102008 * u2_102009;\n        double x_102011 = 2.0 * u3_102010;\n        double y_102012 = 3.0 * u2_102009;\n        double x_102013 = x_102011 - y_102012;\n        double x_102014 = 1.0 + x_102013;\n        bool x_102015 = sle64((int64_t) 0, j_101997);\n        bool y_102016 = slt64(j_101997, n_m_92409);\n        bool bounds_check_102017 = x_102015 && y_102016;\n        bool index_certs_102018;\n        \n        if (!bounds_check_102017) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 45) == -1) {\n                    global_failure_args[0] = (int64_t) j_101997;\n                    global_failure_args[1] = (int64_t) n_m_92409;\n                    ;\n                }\n                return;\n            }\n        }\n        \n        double y_102019;\n        \n        y_102019 = ((__global double *) ext_mem_105072)[gtid_101989 *\n                                                        n_m_92409 + j_101997];\n        \n        double x_102020 = x_102014 * y_102019;\n        double x_102021 = y_102012 - x_102011;\n        bool x_102022 = sle64((int64_t) 0, defunc_0_m_fun_arg_102001);\n        bool y_102023 = slt64(defunc_0_m_fun_arg_102001, n_m_92409);\n        bool bounds_check_102024 = x_102022 && y_102023;\n        bool index_certs_102025;\n        \n        if (!bounds_check_102024) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 46) == -1) {\n                    global_failure_args[0] =\n                        (int64_t) defunc_0_m_fun_arg_102001;\n                    global_failure_args[1] = (int64_t) n_m_92409;\n                    ;\n                }\n                return;\n            }\n        }\n        \n        double y_102026;\n        \n        y_102026 = ((__global double *) ext_mem_105072)[gtid_101989 *\n                           ",
                   "                             n_m_92409 +\n                                                        defunc_0_m_fun_arg_102001];\n        \n        double y_102027 = x_102021 * y_102026;\n        double x_102028 = x_102020 + y_102027;\n        double y_102029 = 2.0 * u2_102009;\n        double x_102030 = u3_102010 - y_102029;\n        double x_102031 = u_102008 + x_102030;\n        double y_102032;\n        \n        y_102032 = ((__global double *) ext_mem_105071)[gtid_101989 *\n                                                        n_m_92409 + j_101997];\n        \n        double x_102033 = x_102031 * y_102032;\n        double y_102034 = i64_res_102005 * x_102033;\n        double x_102035 = x_102028 + y_102034;\n        double x_102036 = u3_102010 - u2_102009;\n        double y_102037;\n        \n        y_102037 = ((__global double *) ext_mem_105071)[gtid_101989 *\n                                                        n_m_92409 +\n                                                        defunc_0_m_fun_arg_102001];\n        \n        double x_102038 = x_102036 * y_102037;\n        double y_102039 = i64_res_102005 * x_102038;\n        double defunc_4_interpolate_proc_res_102040 = x_102035 + y_102039;\n        \n        ((__global double *) mem_105077)[gtid_101989 * n_92399 + gtid_101990] =\n            defunc_4_interpolate_proc_res_102040;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_101986\n}\n__kernel void mainzisegmap_94814(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *Y_mem_104293, __global\n                                 unsigned char *mem_104302, __global\n                                 unsigned char *mem_104306, __global\n                                 unsigned char *mem_104310)\n{\n    #define segmap_group_sizze_94808 (mainzisegmap_group_sizze_94649)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*globa",
                   "l_failure >= 0)\n        return;\n    \n    int32_t global_tid_105415;\n    int32_t local_tid_105416;\n    int64_t group_sizze_105419;\n    int32_t wave_sizze_105418;\n    int32_t group_tid_105417;\n    \n    global_tid_105415 = get_global_id(0);\n    local_tid_105416 = get_local_id(0);\n    group_sizze_105419 = get_local_size(0);\n    wave_sizze_105418 = LOCKSTEP_WIDTH;\n    group_tid_105417 = get_group_id(0);\n    \n    int32_t phys_tid_94814 = global_tid_105415;\n    int64_t global_tid_105420 = sext_i32_i64(group_tid_105417) *\n            segmap_group_sizze_94808 + sext_i32_i64(local_tid_105416);\n    int64_t slice_105421 = n_92399;\n    int64_t slice_105422 = m_92398 * slice_105421;\n    int64_t gtid_94812 = squot64(global_tid_105420, slice_105421);\n    int64_t remnant_105423 = global_tid_105420 - gtid_94812 * slice_105421;\n    int64_t gtid_94813 = remnant_105423;\n    int64_t remnant_105424 = remnant_105423 - gtid_94813;\n    \n    if (slt64(gtid_94812, m_92398) && slt64(gtid_94813, n_92399)) {\n        double x_94815;\n        \n        x_94815 = ((__global double *) Y_mem_104293)[gtid_94812 * n_92399 +\n                                                     gtid_94813];\n        \n        bool isnan_res_94818;\n        \n        isnan_res_94818 = futrts_isnan64(x_94815);\n        \n        bool defunc_0_p_res_94819 = !isnan_res_94818;\n        int64_t defunc_1_f_res_94820;\n        \n        if (defunc_0_p_res_94819) {\n            int64_t x_94816;\n            \n            x_94816 = ((__global int64_t *) mem_104302)[gtid_94812 * n_92399 +\n                                                        gtid_94813];\n            \n            int64_t defunc_1_f_res_t_res_94821 = sub64(x_94816, (int64_t) 1);\n            \n            defunc_1_f_res_94820 = defunc_1_f_res_t_res_94821;\n        } else {\n            defunc_1_f_res_94820 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_94812) && slt64(gtid_94812, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_94820) &&\n             slt64(",
                   "defunc_1_f_res_94820, n_92399))) {\n            ((__global int64_t *) mem_104310)[gtid_94812 * n_92399 +\n                                              defunc_1_f_res_94820] =\n                gtid_94813;\n        }\n        if ((sle64((int64_t) 0, gtid_94812) && slt64(gtid_94812, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_94820) &&\n             slt64(defunc_1_f_res_94820, n_92399))) {\n            ((__global double *) mem_104306)[gtid_94812 * n_92399 +\n                                             defunc_1_f_res_94820] = x_94815;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_94808\n}\n__kernel void mainzisegmap_94833(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *mem_104310, __global\n                                 unsigned char *mem_104316)\n{\n    #define segmap_group_sizze_94828 (mainzisegmap_group_sizze_94623)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105425;\n    int32_t local_tid_105426;\n    int64_t group_sizze_105429;\n    int32_t wave_sizze_105428;\n    int32_t group_tid_105427;\n    \n    global_tid_105425 = get_global_id(0);\n    local_tid_105426 = get_local_id(0);\n    group_sizze_105429 = get_local_size(0);\n    wave_sizze_105428 = LOCKSTEP_WIDTH;\n    group_tid_105427 = get_group_id(0);\n    \n    int32_t phys_tid_94833 = global_tid_105425;\n    int64_t global_tid_105430 = sext_i32_i64(group_tid_105427) *\n            segmap_group_sizze_94828 + sext_i32_i64(local_tid_105426);\n    int64_t slice_105431 = n_92399;\n    int64_t slice_105432 = m_92398 * slice_105431;\n    int64_t gtid_94831 = squot64(global_tid_105430, slice_105431);\n    int64_t remnant_105433 = global_tid_105430 - gtid_94831 * slice_105431;\n    int64_t gtid_94832 = remnant_105433;\n    int64_t remnant_105434 = remnant_105433 - gtid_9483",
                   "2;\n    \n    if (slt64(gtid_94831, m_92398) && slt64(gtid_94832, n_92399)) {\n        int64_t x_94834;\n        \n        x_94834 = ((__global int64_t *) mem_104310)[gtid_94831 * n_92399 +\n                                                    gtid_94832];\n        \n        int64_t defunc_0_f_res_94835 = add64((int64_t) 1, x_94834);\n        \n        ((__global int64_t *) mem_104316)[gtid_94831 * n_92399 + gtid_94832] =\n            defunc_0_f_res_94835;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_94828\n}\n__kernel void mainzisegmap_94845(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                                 int64_t i_92415, int64_t min_res_92421,\n                                 double i64_res_92427, __global\n                                 unsigned char *mem_104302, __global\n                                 unsigned char *mem_104320, __global\n                                 unsigned char *mem_104323, __global\n                                 unsigned char *mem_104326, __global\n                                 unsigned char *mem_104329)\n{\n    #define segmap_group_sizze_94838 (mainzisegmap_group_sizze_94597)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105435;\n    int32_t local_tid_105436;\n    int64_t group_sizze_105439;\n    int32_t wave_sizze_105438;\n    int32_t group_tid_105437;\n    \n    global_tid_105435 = get_global_id(0);\n    local_tid_105436 = get_local_id(0);\n    group_sizze_105439 = get_local_size(0);\n    wave_sizze_105438 = LOCKSTEP_WIDTH;\n    group_tid_105437 = get_group_id(0);\n    \n    int32_t phys_tid_94845 = global_tid_105435;\n    int64_t global_tid_105440 = sext_i32_i64(group_tid_105437) *\n            segmap_group_sizze_94838 + sext_i32_i64(local_tid_105436);\n    int64_t slice_105441 = m_92398;\n    int64_t gtid_94844 = global_tid_105440;\n  ",
                   "  int64_t remnant_105442 = global_tid_105440 - gtid_94844;\n    \n    if (slt64(gtid_94844, m_92398)) {\n        int64_t last_res_94846;\n        \n        last_res_94846 = ((__global int64_t *) mem_104302)[gtid_94844 *\n                                                           n_92399 + i_92415];\n        \n        int64_t min_arg_94847 = sub64(last_res_94846, (int64_t) 1);\n        int64_t min_arg_94848 = sub64(last_res_94846, min_res_92421);\n        int64_t min_res_94849 = smin64(q_92401, last_res_94846);\n        double i64_res_94850 = sitofp_i64_f64(last_res_94846);\n        double x_94851 = i64_res_92427 - i64_res_94850;\n        double max_arg_94852 = x_94851 / 2.0;\n        double max_res_94853 = fmax64(0.0, max_arg_94852);\n        \n        ((__global int64_t *) mem_104320)[gtid_94844] = min_arg_94847;\n        ((__global int64_t *) mem_104323)[gtid_94844] = min_arg_94848;\n        ((__global int64_t *) mem_104326)[gtid_94844] = min_res_94849;\n        ((__global double *) mem_104329)[gtid_94844] = max_res_94853;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_94838\n}\n__kernel void mainzisegmap_94865(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                                 int64_t i_92415, __global\n                                 unsigned char *mem_104302, __global\n                                 unsigned char *mem_104334)\n{\n    #define segmap_group_sizze_94860 (mainzisegmap_group_sizze_94572)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105443;\n    int32_t local_tid_105444;\n    int64_t group_sizze_105447;\n    int32_t wave_sizze_105446;\n    int32_t group_tid_105445;\n    \n    global_tid_105443 = get_global_id(0);\n    local_tid_105444 = get_local_id(0);\n    group_sizze_105447 = get_local_size(0);\n    wave_sizze_105446 = LOCKSTEP_WIDTH;\n    group_tid_105445 = ",
                   "get_group_id(0);\n    \n    int32_t phys_tid_94865 = global_tid_105443;\n    int64_t global_tid_105448 = sext_i32_i64(group_tid_105445) *\n            segmap_group_sizze_94860 + sext_i32_i64(local_tid_105444);\n    int64_t slice_105449 = q_92401;\n    int64_t slice_105450 = m_92398 * slice_105449;\n    int64_t gtid_94863 = squot64(global_tid_105448, slice_105449);\n    int64_t remnant_105451 = global_tid_105448 - gtid_94863 * slice_105449;\n    int64_t gtid_94864 = remnant_105451;\n    int64_t remnant_105452 = remnant_105451 - gtid_94864;\n    \n    if (slt64(gtid_94863, m_92398) && slt64(gtid_94864, q_92401)) {\n        int64_t last_res_94866;\n        \n        last_res_94866 = ((__global int64_t *) mem_104302)[gtid_94863 *\n                                                           n_92399 + i_92415];\n        \n        bool cond_94868 = sle64(last_res_94866, gtid_94864);\n        double defunc_0_f_res_94869;\n        \n        if (cond_94868) {\n            defunc_0_f_res_94869 = 0.0;\n        } else {\n            defunc_0_f_res_94869 = 1.0;\n        }\n        ((__global double *) mem_104334)[gtid_94863 * q_92401 + gtid_94864] =\n            defunc_0_f_res_94869;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_94860\n}\n__kernel void mainzisegmap_95487(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *Y_mem_104293, __global\n                                 unsigned char *mem_104386, __global\n                                 unsigned char *mem_104390, __global\n                                 unsigned char *mem_104394)\n{\n    #define segmap_group_sizze_95481 (mainzisegmap_group_sizze_95322)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105553;\n    int32_t local_tid_105554;\n    int64_t group_sizze_105557;\n    int32_t wave_sizze_105556;\n    int32_t ",
                   "group_tid_105555;\n    \n    global_tid_105553 = get_global_id(0);\n    local_tid_105554 = get_local_id(0);\n    group_sizze_105557 = get_local_size(0);\n    wave_sizze_105556 = LOCKSTEP_WIDTH;\n    group_tid_105555 = get_group_id(0);\n    \n    int32_t phys_tid_95487 = global_tid_105553;\n    int64_t global_tid_105558 = sext_i32_i64(group_tid_105555) *\n            segmap_group_sizze_95481 + sext_i32_i64(local_tid_105554);\n    int64_t slice_105559 = n_92399;\n    int64_t slice_105560 = m_92398 * slice_105559;\n    int64_t gtid_95485 = squot64(global_tid_105558, slice_105559);\n    int64_t remnant_105561 = global_tid_105558 - gtid_95485 * slice_105559;\n    int64_t gtid_95486 = remnant_105561;\n    int64_t remnant_105562 = remnant_105561 - gtid_95486;\n    \n    if (slt64(gtid_95485, m_92398) && slt64(gtid_95486, n_92399)) {\n        double x_95488;\n        \n        x_95488 = ((__global double *) Y_mem_104293)[gtid_95485 * n_92399 +\n                                                     gtid_95486];\n        \n        bool isnan_res_95491;\n        \n        isnan_res_95491 = futrts_isnan64(x_95488);\n        \n        bool defunc_0_p_res_95492 = !isnan_res_95491;\n        int64_t defunc_1_f_res_95493;\n        \n        if (defunc_0_p_res_95492) {\n            int64_t x_95489;\n            \n            x_95489 = ((__global int64_t *) mem_104386)[gtid_95485 * n_92399 +\n                                                        gtid_95486];\n            \n            int64_t defunc_1_f_res_t_res_95494 = sub64(x_95489, (int64_t) 1);\n            \n            defunc_1_f_res_95493 = defunc_1_f_res_t_res_95494;\n        } else {\n            defunc_1_f_res_95493 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_95485) && slt64(gtid_95485, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_95493) &&\n             slt64(defunc_1_f_res_95493, n_92399))) {\n            ((__global int64_t *) mem_104394)[gtid_95485 * n_92399 +\n                                              defunc_1_f_res_95493] =",
                   "\n                gtid_95486;\n        }\n        if ((sle64((int64_t) 0, gtid_95485) && slt64(gtid_95485, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_95493) &&\n             slt64(defunc_1_f_res_95493, n_92399))) {\n            ((__global double *) mem_104390)[gtid_95485 * n_92399 +\n                                             defunc_1_f_res_95493] = x_95488;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_95481\n}\n__kernel void mainzisegmap_95506(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *mem_104394, __global\n                                 unsigned char *mem_104400)\n{\n    #define segmap_group_sizze_95501 (mainzisegmap_group_sizze_95296)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105563;\n    int32_t local_tid_105564;\n    int64_t group_sizze_105567;\n    int32_t wave_sizze_105566;\n    int32_t group_tid_105565;\n    \n    global_tid_105563 = get_global_id(0);\n    local_tid_105564 = get_local_id(0);\n    group_sizze_105567 = get_local_size(0);\n    wave_sizze_105566 = LOCKSTEP_WIDTH;\n    group_tid_105565 = get_group_id(0);\n    \n    int32_t phys_tid_95506 = global_tid_105563;\n    int64_t global_tid_105568 = sext_i32_i64(group_tid_105565) *\n            segmap_group_sizze_95501 + sext_i32_i64(local_tid_105564);\n    int64_t slice_105569 = n_92399;\n    int64_t slice_105570 = m_92398 * slice_105569;\n    int64_t gtid_95504 = squot64(global_tid_105568, slice_105569);\n    int64_t remnant_105571 = global_tid_105568 - gtid_95504 * slice_105569;\n    int64_t gtid_95505 = remnant_105571;\n    int64_t remnant_105572 = remnant_105571 - gtid_95505;\n    \n    if (slt64(gtid_95504, m_92398) && slt64(gtid_95505, n_92399)) {\n        int64_t x_95507;\n        \n        x_95507 = ((__global int64_t *) mem_104394)[gtid_95504 ",
                   "* n_92399 +\n                                                    gtid_95505];\n        \n        int64_t defunc_0_f_res_95508 = add64((int64_t) 1, x_95507);\n        \n        ((__global int64_t *) mem_104400)[gtid_95504 * n_92399 + gtid_95505] =\n            defunc_0_f_res_95508;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_95501\n}\n__kernel void mainzisegmap_95518(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                                 int64_t i_92415, int64_t min_res_92421,\n                                 double i64_res_92427, __global\n                                 unsigned char *mem_104386, __global\n                                 unsigned char *mem_104404, __global\n                                 unsigned char *mem_104407, __global\n                                 unsigned char *mem_104410, __global\n                                 unsigned char *mem_104413)\n{\n    #define segmap_group_sizze_95511 (mainzisegmap_group_sizze_95270)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105573;\n    int32_t local_tid_105574;\n    int64_t group_sizze_105577;\n    int32_t wave_sizze_105576;\n    int32_t group_tid_105575;\n    \n    global_tid_105573 = get_global_id(0);\n    local_tid_105574 = get_local_id(0);\n    group_sizze_105577 = get_local_size(0);\n    wave_sizze_105576 = LOCKSTEP_WIDTH;\n    group_tid_105575 = get_group_id(0);\n    \n    int32_t phys_tid_95518 = global_tid_105573;\n    int64_t global_tid_105578 = sext_i32_i64(group_tid_105575) *\n            segmap_group_sizze_95511 + sext_i32_i64(local_tid_105574);\n    int64_t slice_105579 = m_92398;\n    int64_t gtid_95517 = global_tid_105578;\n    int64_t remnant_105580 = global_tid_105578 - gtid_95517;\n    \n    if (slt64(gtid_95517, m_92398)) {\n        int64_t last_res_95519;\n        \n        last_res_95519 = ((__g",
                   "lobal int64_t *) mem_104386)[gtid_95517 *\n                                                           n_92399 + i_92415];\n        \n        int64_t min_arg_95520 = sub64(last_res_95519, (int64_t) 1);\n        int64_t min_arg_95521 = sub64(last_res_95519, min_res_92421);\n        int64_t min_res_95522 = smin64(q_92401, last_res_95519);\n        double i64_res_95523 = sitofp_i64_f64(last_res_95519);\n        double x_95524 = i64_res_92427 - i64_res_95523;\n        double max_arg_95525 = x_95524 / 2.0;\n        double max_res_95526 = fmax64(0.0, max_arg_95525);\n        \n        ((__global int64_t *) mem_104404)[gtid_95517] = min_arg_95520;\n        ((__global int64_t *) mem_104407)[gtid_95517] = min_arg_95521;\n        ((__global int64_t *) mem_104410)[gtid_95517] = min_res_95522;\n        ((__global double *) mem_104413)[gtid_95517] = max_res_95526;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_95511\n}\n__kernel void mainzisegmap_95538(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                                 int64_t i_92415, __global\n                                 unsigned char *mem_104386, __global\n                                 unsigned char *mem_104418)\n{\n    #define segmap_group_sizze_95533 (mainzisegmap_group_sizze_95245)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105581;\n    int32_t local_tid_105582;\n    int64_t group_sizze_105585;\n    int32_t wave_sizze_105584;\n    int32_t group_tid_105583;\n    \n    global_tid_105581 = get_global_id(0);\n    local_tid_105582 = get_local_id(0);\n    group_sizze_105585 = get_local_size(0);\n    wave_sizze_105584 = LOCKSTEP_WIDTH;\n    group_tid_105583 = get_group_id(0);\n    \n    int32_t phys_tid_95538 = global_tid_105581;\n    int64_t global_tid_105586 = sext_i32_i64(group_tid_105583) *\n            segmap_group_sizze_95533 +",
                   " sext_i32_i64(local_tid_105582);\n    int64_t slice_105587 = q_92401;\n    int64_t slice_105588 = m_92398 * slice_105587;\n    int64_t gtid_95536 = squot64(global_tid_105586, slice_105587);\n    int64_t remnant_105589 = global_tid_105586 - gtid_95536 * slice_105587;\n    int64_t gtid_95537 = remnant_105589;\n    int64_t remnant_105590 = remnant_105589 - gtid_95537;\n    \n    if (slt64(gtid_95536, m_92398) && slt64(gtid_95537, q_92401)) {\n        int64_t last_res_95539;\n        \n        last_res_95539 = ((__global int64_t *) mem_104386)[gtid_95536 *\n                                                           n_92399 + i_92415];\n        \n        bool cond_95541 = sle64(last_res_95539, gtid_95537);\n        double defunc_0_f_res_95542;\n        \n        if (cond_95541) {\n            defunc_0_f_res_95542 = 0.0;\n        } else {\n            defunc_0_f_res_95542 = 1.0;\n        }\n        ((__global double *) mem_104418)[gtid_95536 * q_92401 + gtid_95537] =\n            defunc_0_f_res_95542;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_95533\n}\n__kernel void mainzisegmap_96222(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *Y_mem_104293, __global\n                                 unsigned char *mem_104501, __global\n                                 unsigned char *mem_104505, __global\n                                 unsigned char *mem_104509)\n{\n    #define segmap_group_sizze_96216 (mainzisegmap_group_sizze_96057)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105711;\n    int32_t local_tid_105712;\n    int64_t group_sizze_105715;\n    int32_t wave_sizze_105714;\n    int32_t group_tid_105713;\n    \n    global_tid_105711 = get_global_id(0);\n    local_tid_105712 = get_local_id(0);\n    group_sizze_105715 = get_local_size(0);\n    wave_sizze_105714 = ",
                   "LOCKSTEP_WIDTH;\n    group_tid_105713 = get_group_id(0);\n    \n    int32_t phys_tid_96222 = global_tid_105711;\n    int64_t global_tid_105716 = sext_i32_i64(group_tid_105713) *\n            segmap_group_sizze_96216 + sext_i32_i64(local_tid_105712);\n    int64_t slice_105717 = n_92399;\n    int64_t slice_105718 = m_92398 * slice_105717;\n    int64_t gtid_96220 = squot64(global_tid_105716, slice_105717);\n    int64_t remnant_105719 = global_tid_105716 - gtid_96220 * slice_105717;\n    int64_t gtid_96221 = remnant_105719;\n    int64_t remnant_105720 = remnant_105719 - gtid_96221;\n    \n    if (slt64(gtid_96220, m_92398) && slt64(gtid_96221, n_92399)) {\n        double x_96223;\n        \n        x_96223 = ((__global double *) Y_mem_104293)[gtid_96220 * n_92399 +\n                                                     gtid_96221];\n        \n        bool isnan_res_96226;\n        \n        isnan_res_96226 = futrts_isnan64(x_96223);\n        \n        bool defunc_0_p_res_96227 = !isnan_res_96226;\n        int64_t defunc_1_f_res_96228;\n        \n        if (defunc_0_p_res_96227) {\n            int64_t x_96224;\n            \n            x_96224 = ((__global int64_t *) mem_104501)[gtid_96220 * n_92399 +\n                                                        gtid_96221];\n            \n            int64_t defunc_1_f_res_t_res_96229 = sub64(x_96224, (int64_t) 1);\n            \n            defunc_1_f_res_96228 = defunc_1_f_res_t_res_96229;\n        } else {\n            defunc_1_f_res_96228 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_96220) && slt64(gtid_96220, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_96228) &&\n             slt64(defunc_1_f_res_96228, n_92399))) {\n            ((__global int64_t *) mem_104509)[gtid_96220 * n_92399 +\n                                              defunc_1_f_res_96228] =\n                gtid_96221;\n        }\n        if ((sle64((int64_t) 0, gtid_96220) && slt64(gtid_96220, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_96228) &&",
                   "\n             slt64(defunc_1_f_res_96228, n_92399))) {\n            ((__global double *) mem_104505)[gtid_96220 * n_92399 +\n                                             defunc_1_f_res_96228] = x_96223;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_96216\n}\n__kernel void mainzisegmap_96241(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *mem_104509, __global\n                                 unsigned char *mem_104515)\n{\n    #define segmap_group_sizze_96236 (mainzisegmap_group_sizze_96031)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105721;\n    int32_t local_tid_105722;\n    int64_t group_sizze_105725;\n    int32_t wave_sizze_105724;\n    int32_t group_tid_105723;\n    \n    global_tid_105721 = get_global_id(0);\n    local_tid_105722 = get_local_id(0);\n    group_sizze_105725 = get_local_size(0);\n    wave_sizze_105724 = LOCKSTEP_WIDTH;\n    group_tid_105723 = get_group_id(0);\n    \n    int32_t phys_tid_96241 = global_tid_105721;\n    int64_t global_tid_105726 = sext_i32_i64(group_tid_105723) *\n            segmap_group_sizze_96236 + sext_i32_i64(local_tid_105722);\n    int64_t slice_105727 = n_92399;\n    int64_t slice_105728 = m_92398 * slice_105727;\n    int64_t gtid_96239 = squot64(global_tid_105726, slice_105727);\n    int64_t remnant_105729 = global_tid_105726 - gtid_96239 * slice_105727;\n    int64_t gtid_96240 = remnant_105729;\n    int64_t remnant_105730 = remnant_105729 - gtid_96240;\n    \n    if (slt64(gtid_96239, m_92398) && slt64(gtid_96240, n_92399)) {\n        int64_t x_96242;\n        \n        x_96242 = ((__global int64_t *) mem_104509)[gtid_96239 * n_92399 +\n                                                    gtid_96240];\n        \n        int64_t defunc_0_f_res_96243 = add64((int64_t) 1, x_96242);\n        \n        ((",
                   "__global int64_t *) mem_104515)[gtid_96239 * n_92399 + gtid_96240] =\n            defunc_0_f_res_96243;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_96236\n}\n__kernel void mainzisegmap_96253(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                                 int64_t i_92415, int64_t min_res_92421,\n                                 double i64_res_92427, __global\n                                 unsigned char *mem_104501, __global\n                                 unsigned char *mem_104519, __global\n                                 unsigned char *mem_104522, __global\n                                 unsigned char *mem_104525, __global\n                                 unsigned char *mem_104528)\n{\n    #define segmap_group_sizze_96246 (mainzisegmap_group_sizze_96005)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105731;\n    int32_t local_tid_105732;\n    int64_t group_sizze_105735;\n    int32_t wave_sizze_105734;\n    int32_t group_tid_105733;\n    \n    global_tid_105731 = get_global_id(0);\n    local_tid_105732 = get_local_id(0);\n    group_sizze_105735 = get_local_size(0);\n    wave_sizze_105734 = LOCKSTEP_WIDTH;\n    group_tid_105733 = get_group_id(0);\n    \n    int32_t phys_tid_96253 = global_tid_105731;\n    int64_t global_tid_105736 = sext_i32_i64(group_tid_105733) *\n            segmap_group_sizze_96246 + sext_i32_i64(local_tid_105732);\n    int64_t slice_105737 = m_92398;\n    int64_t gtid_96252 = global_tid_105736;\n    int64_t remnant_105738 = global_tid_105736 - gtid_96252;\n    \n    if (slt64(gtid_96252, m_92398)) {\n        int64_t last_res_96254;\n        \n        last_res_96254 = ((__global int64_t *) mem_104501)[gtid_96252 *\n                                                           n_92399 + i_92415];\n        \n        int64_t min_arg_96255 = sub64(last_",
                   "res_96254, (int64_t) 1);\n        int64_t min_arg_96256 = sub64(last_res_96254, min_res_92421);\n        int64_t min_res_96257 = smin64(q_92401, last_res_96254);\n        double i64_res_96258 = sitofp_i64_f64(last_res_96254);\n        double x_96259 = i64_res_92427 - i64_res_96258;\n        double max_arg_96260 = x_96259 / 2.0;\n        double max_res_96261 = fmax64(0.0, max_arg_96260);\n        \n        ((__global int64_t *) mem_104519)[gtid_96252] = min_arg_96255;\n        ((__global int64_t *) mem_104522)[gtid_96252] = min_arg_96256;\n        ((__global int64_t *) mem_104525)[gtid_96252] = min_res_96257;\n        ((__global double *) mem_104528)[gtid_96252] = max_res_96261;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_96246\n}\n__kernel void mainzisegmap_96273(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                                 int64_t i_92415, __global\n                                 unsigned char *mem_104501, __global\n                                 unsigned char *mem_104533)\n{\n    #define segmap_group_sizze_96268 (mainzisegmap_group_sizze_95980)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105739;\n    int32_t local_tid_105740;\n    int64_t group_sizze_105743;\n    int32_t wave_sizze_105742;\n    int32_t group_tid_105741;\n    \n    global_tid_105739 = get_global_id(0);\n    local_tid_105740 = get_local_id(0);\n    group_sizze_105743 = get_local_size(0);\n    wave_sizze_105742 = LOCKSTEP_WIDTH;\n    group_tid_105741 = get_group_id(0);\n    \n    int32_t phys_tid_96273 = global_tid_105739;\n    int64_t global_tid_105744 = sext_i32_i64(group_tid_105741) *\n            segmap_group_sizze_96268 + sext_i32_i64(local_tid_105740);\n    int64_t slice_105745 = q_92401;\n    int64_t slice_105746 = m_92398 * slice_105745;\n    int64_t gtid_96271 = squot64(global_tid_105744, s",
                   "lice_105745);\n    int64_t remnant_105747 = global_tid_105744 - gtid_96271 * slice_105745;\n    int64_t gtid_96272 = remnant_105747;\n    int64_t remnant_105748 = remnant_105747 - gtid_96272;\n    \n    if (slt64(gtid_96271, m_92398) && slt64(gtid_96272, q_92401)) {\n        int64_t last_res_96274;\n        \n        last_res_96274 = ((__global int64_t *) mem_104501)[gtid_96271 *\n                                                           n_92399 + i_92415];\n        \n        bool cond_96276 = sle64(last_res_96274, gtid_96272);\n        double defunc_0_f_res_96277;\n        \n        if (cond_96276) {\n            defunc_0_f_res_96277 = 0.0;\n        } else {\n            defunc_0_f_res_96277 = 1.0;\n        }\n        ((__global double *) mem_104533)[gtid_96271 * q_92401 + gtid_96272] =\n            defunc_0_f_res_96277;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_96268\n}\n__kernel void mainzisegmap_96923(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *Y_mem_104293, __global\n                                 unsigned char *mem_104648, __global\n                                 unsigned char *mem_104652, __global\n                                 unsigned char *mem_104656)\n{\n    #define segmap_group_sizze_96917 (mainzisegmap_group_sizze_96758)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105885;\n    int32_t local_tid_105886;\n    int64_t group_sizze_105889;\n    int32_t wave_sizze_105888;\n    int32_t group_tid_105887;\n    \n    global_tid_105885 = get_global_id(0);\n    local_tid_105886 = get_local_id(0);\n    group_sizze_105889 = get_local_size(0);\n    wave_sizze_105888 = LOCKSTEP_WIDTH;\n    group_tid_105887 = get_group_id(0);\n    \n    int32_t phys_tid_96923 = global_tid_105885;\n    int64_t global_tid_105890 = sext_i32_i64(group_tid_105887) *",
                   "\n            segmap_group_sizze_96917 + sext_i32_i64(local_tid_105886);\n    int64_t slice_105891 = n_92399;\n    int64_t slice_105892 = m_92398 * slice_105891;\n    int64_t gtid_96921 = squot64(global_tid_105890, slice_105891);\n    int64_t remnant_105893 = global_tid_105890 - gtid_96921 * slice_105891;\n    int64_t gtid_96922 = remnant_105893;\n    int64_t remnant_105894 = remnant_105893 - gtid_96922;\n    \n    if (slt64(gtid_96921, m_92398) && slt64(gtid_96922, n_92399)) {\n        double x_96924;\n        \n        x_96924 = ((__global double *) Y_mem_104293)[gtid_96921 * n_92399 +\n                                                     gtid_96922];\n        \n        bool isnan_res_96927;\n        \n        isnan_res_96927 = futrts_isnan64(x_96924);\n        \n        bool defunc_0_p_res_96928 = !isnan_res_96927;\n        int64_t defunc_1_f_res_96929;\n        \n        if (defunc_0_p_res_96928) {\n            int64_t x_96925;\n            \n            x_96925 = ((__global int64_t *) mem_104648)[gtid_96921 * n_92399 +\n                                                        gtid_96922];\n            \n            int64_t defunc_1_f_res_t_res_96930 = sub64(x_96925, (int64_t) 1);\n            \n            defunc_1_f_res_96929 = defunc_1_f_res_t_res_96930;\n        } else {\n            defunc_1_f_res_96929 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_96921) && slt64(gtid_96921, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_96929) &&\n             slt64(defunc_1_f_res_96929, n_92399))) {\n            ((__global int64_t *) mem_104656)[gtid_96921 * n_92399 +\n                                              defunc_1_f_res_96929] =\n                gtid_96922;\n        }\n        if ((sle64((int64_t) 0, gtid_96921) && slt64(gtid_96921, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_96929) &&\n             slt64(defunc_1_f_res_96929, n_92399))) {\n            ((__global double *) mem_104652)[gtid_96921 * n_92399 +\n                                             defun",
                   "c_1_f_res_96929] = x_96924;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_96917\n}\n__kernel void mainzisegmap_96942(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *mem_104656, __global\n                                 unsigned char *mem_104662)\n{\n    #define segmap_group_sizze_96937 (mainzisegmap_group_sizze_96732)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105895;\n    int32_t local_tid_105896;\n    int64_t group_sizze_105899;\n    int32_t wave_sizze_105898;\n    int32_t group_tid_105897;\n    \n    global_tid_105895 = get_global_id(0);\n    local_tid_105896 = get_local_id(0);\n    group_sizze_105899 = get_local_size(0);\n    wave_sizze_105898 = LOCKSTEP_WIDTH;\n    group_tid_105897 = get_group_id(0);\n    \n    int32_t phys_tid_96942 = global_tid_105895;\n    int64_t global_tid_105900 = sext_i32_i64(group_tid_105897) *\n            segmap_group_sizze_96937 + sext_i32_i64(local_tid_105896);\n    int64_t slice_105901 = n_92399;\n    int64_t slice_105902 = m_92398 * slice_105901;\n    int64_t gtid_96940 = squot64(global_tid_105900, slice_105901);\n    int64_t remnant_105903 = global_tid_105900 - gtid_96940 * slice_105901;\n    int64_t gtid_96941 = remnant_105903;\n    int64_t remnant_105904 = remnant_105903 - gtid_96941;\n    \n    if (slt64(gtid_96940, m_92398) && slt64(gtid_96941, n_92399)) {\n        int64_t x_96943;\n        \n        x_96943 = ((__global int64_t *) mem_104656)[gtid_96940 * n_92399 +\n                                                    gtid_96941];\n        \n        int64_t defunc_0_f_res_96944 = add64((int64_t) 1, x_96943);\n        \n        ((__global int64_t *) mem_104662)[gtid_96940 * n_92399 + gtid_96941] =\n            defunc_0_f_res_96944;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_96937\n",
                   "}\n__kernel void mainzisegmap_96954(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                                 int64_t i_92415, int64_t min_res_92421,\n                                 double i64_res_92427, __global\n                                 unsigned char *mem_104648, __global\n                                 unsigned char *mem_104666, __global\n                                 unsigned char *mem_104669, __global\n                                 unsigned char *mem_104672, __global\n                                 unsigned char *mem_104675)\n{\n    #define segmap_group_sizze_96947 (mainzisegmap_group_sizze_96706)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105905;\n    int32_t local_tid_105906;\n    int64_t group_sizze_105909;\n    int32_t wave_sizze_105908;\n    int32_t group_tid_105907;\n    \n    global_tid_105905 = get_global_id(0);\n    local_tid_105906 = get_local_id(0);\n    group_sizze_105909 = get_local_size(0);\n    wave_sizze_105908 = LOCKSTEP_WIDTH;\n    group_tid_105907 = get_group_id(0);\n    \n    int32_t phys_tid_96954 = global_tid_105905;\n    int64_t global_tid_105910 = sext_i32_i64(group_tid_105907) *\n            segmap_group_sizze_96947 + sext_i32_i64(local_tid_105906);\n    int64_t slice_105911 = m_92398;\n    int64_t gtid_96953 = global_tid_105910;\n    int64_t remnant_105912 = global_tid_105910 - gtid_96953;\n    \n    if (slt64(gtid_96953, m_92398)) {\n        int64_t last_res_96955;\n        \n        last_res_96955 = ((__global int64_t *) mem_104648)[gtid_96953 *\n                                                           n_92399 + i_92415];\n        \n        int64_t min_arg_96956 = sub64(last_res_96955, (int64_t) 1);\n        int64_t min_arg_96957 = sub64(last_res_96955, min_res_92421);\n        int64_t min_res_96958 = smin64(q_92401, last_res_96955);\n        doubl",
                   "e i64_res_96959 = sitofp_i64_f64(last_res_96955);\n        double x_96960 = i64_res_92427 - i64_res_96959;\n        double max_arg_96961 = x_96960 / 2.0;\n        double max_res_96962 = fmax64(0.0, max_arg_96961);\n        \n        ((__global int64_t *) mem_104666)[gtid_96953] = min_arg_96956;\n        ((__global int64_t *) mem_104669)[gtid_96953] = min_arg_96957;\n        ((__global int64_t *) mem_104672)[gtid_96953] = min_res_96958;\n        ((__global double *) mem_104675)[gtid_96953] = max_res_96962;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_96947\n}\n__kernel void mainzisegmap_96974(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                                 int64_t i_92415, __global\n                                 unsigned char *mem_104648, __global\n                                 unsigned char *mem_104680)\n{\n    #define segmap_group_sizze_96969 (mainzisegmap_group_sizze_96681)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_105913;\n    int32_t local_tid_105914;\n    int64_t group_sizze_105917;\n    int32_t wave_sizze_105916;\n    int32_t group_tid_105915;\n    \n    global_tid_105913 = get_global_id(0);\n    local_tid_105914 = get_local_id(0);\n    group_sizze_105917 = get_local_size(0);\n    wave_sizze_105916 = LOCKSTEP_WIDTH;\n    group_tid_105915 = get_group_id(0);\n    \n    int32_t phys_tid_96974 = global_tid_105913;\n    int64_t global_tid_105918 = sext_i32_i64(group_tid_105915) *\n            segmap_group_sizze_96969 + sext_i32_i64(local_tid_105914);\n    int64_t slice_105919 = q_92401;\n    int64_t slice_105920 = m_92398 * slice_105919;\n    int64_t gtid_96972 = squot64(global_tid_105918, slice_105919);\n    int64_t remnant_105921 = global_tid_105918 - gtid_96972 * slice_105919;\n    int64_t gtid_96973 = remnant_105921;\n    int64_t remnant_105922 = remnant_10592",
                   "1 - gtid_96973;\n    \n    if (slt64(gtid_96972, m_92398) && slt64(gtid_96973, q_92401)) {\n        int64_t last_res_96975;\n        \n        last_res_96975 = ((__global int64_t *) mem_104648)[gtid_96972 *\n                                                           n_92399 + i_92415];\n        \n        bool cond_96977 = sle64(last_res_96975, gtid_96973);\n        double defunc_0_f_res_96978;\n        \n        if (cond_96977) {\n            defunc_0_f_res_96978 = 0.0;\n        } else {\n            defunc_0_f_res_96978 = 1.0;\n        }\n        ((__global double *) mem_104680)[gtid_96972 * q_92401 + gtid_96973] =\n            defunc_0_f_res_96978;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_96969\n}\n__kernel void mainzisegmap_97590(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *Y_mem_104293, __global\n                                 unsigned char *mem_104695, __global\n                                 unsigned char *mem_104699, __global\n                                 unsigned char *mem_104703)\n{\n    #define segmap_group_sizze_97584 (mainzisegmap_group_sizze_97425)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106016;\n    int32_t local_tid_106017;\n    int64_t group_sizze_106020;\n    int32_t wave_sizze_106019;\n    int32_t group_tid_106018;\n    \n    global_tid_106016 = get_global_id(0);\n    local_tid_106017 = get_local_id(0);\n    group_sizze_106020 = get_local_size(0);\n    wave_sizze_106019 = LOCKSTEP_WIDTH;\n    group_tid_106018 = get_group_id(0);\n    \n    int32_t phys_tid_97590 = global_tid_106016;\n    int64_t global_tid_106021 = sext_i32_i64(group_tid_106018) *\n            segmap_group_sizze_97584 + sext_i32_i64(local_tid_106017);\n    int64_t slice_106022 = n_92399;\n    int64_t slice_106023 = m_92398 * slice_106022;\n    int64_t gt",
                   "id_97588 = squot64(global_tid_106021, slice_106022);\n    int64_t remnant_106024 = global_tid_106021 - gtid_97588 * slice_106022;\n    int64_t gtid_97589 = remnant_106024;\n    int64_t remnant_106025 = remnant_106024 - gtid_97589;\n    \n    if (slt64(gtid_97588, m_92398) && slt64(gtid_97589, n_92399)) {\n        double x_97591;\n        \n        x_97591 = ((__global double *) Y_mem_104293)[gtid_97588 * n_92399 +\n                                                     gtid_97589];\n        \n        bool isnan_res_97594;\n        \n        isnan_res_97594 = futrts_isnan64(x_97591);\n        \n        bool defunc_0_p_res_97595 = !isnan_res_97594;\n        int64_t defunc_1_f_res_97596;\n        \n        if (defunc_0_p_res_97595) {\n            int64_t x_97592;\n            \n            x_97592 = ((__global int64_t *) mem_104695)[gtid_97588 * n_92399 +\n                                                        gtid_97589];\n            \n            int64_t defunc_1_f_res_t_res_97597 = sub64(x_97592, (int64_t) 1);\n            \n            defunc_1_f_res_97596 = defunc_1_f_res_t_res_97597;\n        } else {\n            defunc_1_f_res_97596 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_97588) && slt64(gtid_97588, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_97596) &&\n             slt64(defunc_1_f_res_97596, n_92399))) {\n            ((__global int64_t *) mem_104703)[gtid_97588 * n_92399 +\n                                              defunc_1_f_res_97596] =\n                gtid_97589;\n        }\n        if ((sle64((int64_t) 0, gtid_97588) && slt64(gtid_97588, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_97596) &&\n             slt64(defunc_1_f_res_97596, n_92399))) {\n            ((__global double *) mem_104699)[gtid_97588 * n_92399 +\n                                             defunc_1_f_res_97596] = x_97591;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_97584\n}\n__kernel void mainzisegmap_97609(__global int *global_failure, ",
                   "int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *mem_104703, __global\n                                 unsigned char *mem_104709)\n{\n    #define segmap_group_sizze_97604 (mainzisegmap_group_sizze_97399)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106026;\n    int32_t local_tid_106027;\n    int64_t group_sizze_106030;\n    int32_t wave_sizze_106029;\n    int32_t group_tid_106028;\n    \n    global_tid_106026 = get_global_id(0);\n    local_tid_106027 = get_local_id(0);\n    group_sizze_106030 = get_local_size(0);\n    wave_sizze_106029 = LOCKSTEP_WIDTH;\n    group_tid_106028 = get_group_id(0);\n    \n    int32_t phys_tid_97609 = global_tid_106026;\n    int64_t global_tid_106031 = sext_i32_i64(group_tid_106028) *\n            segmap_group_sizze_97604 + sext_i32_i64(local_tid_106027);\n    int64_t slice_106032 = n_92399;\n    int64_t slice_106033 = m_92398 * slice_106032;\n    int64_t gtid_97607 = squot64(global_tid_106031, slice_106032);\n    int64_t remnant_106034 = global_tid_106031 - gtid_97607 * slice_106032;\n    int64_t gtid_97608 = remnant_106034;\n    int64_t remnant_106035 = remnant_106034 - gtid_97608;\n    \n    if (slt64(gtid_97607, m_92398) && slt64(gtid_97608, n_92399)) {\n        int64_t x_97610;\n        \n        x_97610 = ((__global int64_t *) mem_104703)[gtid_97607 * n_92399 +\n                                                    gtid_97608];\n        \n        int64_t defunc_0_f_res_97611 = add64((int64_t) 1, x_97610);\n        \n        ((__global int64_t *) mem_104709)[gtid_97607 * n_92399 + gtid_97608] =\n            defunc_0_f_res_97611;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_97604\n}\n__kernel void mainzisegmap_97621(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                        ",
                   "         int64_t i_92415, int64_t min_res_92421,\n                                 double i64_res_92427, __global\n                                 unsigned char *mem_104695, __global\n                                 unsigned char *mem_104713, __global\n                                 unsigned char *mem_104716, __global\n                                 unsigned char *mem_104719, __global\n                                 unsigned char *mem_104722)\n{\n    #define segmap_group_sizze_97614 (mainzisegmap_group_sizze_97373)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106036;\n    int32_t local_tid_106037;\n    int64_t group_sizze_106040;\n    int32_t wave_sizze_106039;\n    int32_t group_tid_106038;\n    \n    global_tid_106036 = get_global_id(0);\n    local_tid_106037 = get_local_id(0);\n    group_sizze_106040 = get_local_size(0);\n    wave_sizze_106039 = LOCKSTEP_WIDTH;\n    group_tid_106038 = get_group_id(0);\n    \n    int32_t phys_tid_97621 = global_tid_106036;\n    int64_t global_tid_106041 = sext_i32_i64(group_tid_106038) *\n            segmap_group_sizze_97614 + sext_i32_i64(local_tid_106037);\n    int64_t slice_106042 = m_92398;\n    int64_t gtid_97620 = global_tid_106041;\n    int64_t remnant_106043 = global_tid_106041 - gtid_97620;\n    \n    if (slt64(gtid_97620, m_92398)) {\n        int64_t last_res_97622;\n        \n        last_res_97622 = ((__global int64_t *) mem_104695)[gtid_97620 *\n                                                           n_92399 + i_92415];\n        \n        int64_t min_arg_97623 = sub64(last_res_97622, (int64_t) 1);\n        int64_t min_arg_97624 = sub64(last_res_97622, min_res_92421);\n        int64_t min_res_97625 = smin64(q_92401, last_res_97622);\n        double i64_res_97626 = sitofp_i64_f64(last_res_97622);\n        double x_97627 = i64_res_92427 - i64_res_97626;\n        double max_arg_97628 = x_97627 / 2.0;\n        double max_re",
                   "s_97629 = fmax64(0.0, max_arg_97628);\n        \n        ((__global int64_t *) mem_104713)[gtid_97620] = min_arg_97623;\n        ((__global int64_t *) mem_104716)[gtid_97620] = min_arg_97624;\n        ((__global int64_t *) mem_104719)[gtid_97620] = min_res_97625;\n        ((__global double *) mem_104722)[gtid_97620] = max_res_97629;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_97614\n}\n__kernel void mainzisegmap_97641(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                                 int64_t i_92415, __global\n                                 unsigned char *mem_104695, __global\n                                 unsigned char *mem_104727)\n{\n    #define segmap_group_sizze_97636 (mainzisegmap_group_sizze_97348)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106044;\n    int32_t local_tid_106045;\n    int64_t group_sizze_106048;\n    int32_t wave_sizze_106047;\n    int32_t group_tid_106046;\n    \n    global_tid_106044 = get_global_id(0);\n    local_tid_106045 = get_local_id(0);\n    group_sizze_106048 = get_local_size(0);\n    wave_sizze_106047 = LOCKSTEP_WIDTH;\n    group_tid_106046 = get_group_id(0);\n    \n    int32_t phys_tid_97641 = global_tid_106044;\n    int64_t global_tid_106049 = sext_i32_i64(group_tid_106046) *\n            segmap_group_sizze_97636 + sext_i32_i64(local_tid_106045);\n    int64_t slice_106050 = q_92401;\n    int64_t slice_106051 = m_92398 * slice_106050;\n    int64_t gtid_97639 = squot64(global_tid_106049, slice_106050);\n    int64_t remnant_106052 = global_tid_106049 - gtid_97639 * slice_106050;\n    int64_t gtid_97640 = remnant_106052;\n    int64_t remnant_106053 = remnant_106052 - gtid_97640;\n    \n    if (slt64(gtid_97639, m_92398) && slt64(gtid_97640, q_92401)) {\n        int64_t last_res_97642;\n        \n        last_res_97642 = ((__global int64_t",
                   " *) mem_104695)[gtid_97639 *\n                                                           n_92399 + i_92415];\n        \n        bool cond_97644 = sle64(last_res_97642, gtid_97640);\n        double defunc_0_f_res_97645;\n        \n        if (cond_97644) {\n            defunc_0_f_res_97645 = 0.0;\n        } else {\n            defunc_0_f_res_97645 = 1.0;\n        }\n        ((__global double *) mem_104727)[gtid_97639 * q_92401 + gtid_97640] =\n            defunc_0_f_res_97645;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_97636\n}\n__kernel void mainzisegmap_98347(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *Y_mem_104293, __global\n                                 unsigned char *mem_104749, __global\n                                 unsigned char *mem_104753, __global\n                                 unsigned char *mem_104757)\n{\n    #define segmap_group_sizze_98341 (mainzisegmap_group_sizze_98182)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106153;\n    int32_t local_tid_106154;\n    int64_t group_sizze_106157;\n    int32_t wave_sizze_106156;\n    int32_t group_tid_106155;\n    \n    global_tid_106153 = get_global_id(0);\n    local_tid_106154 = get_local_id(0);\n    group_sizze_106157 = get_local_size(0);\n    wave_sizze_106156 = LOCKSTEP_WIDTH;\n    group_tid_106155 = get_group_id(0);\n    \n    int32_t phys_tid_98347 = global_tid_106153;\n    int64_t global_tid_106158 = sext_i32_i64(group_tid_106155) *\n            segmap_group_sizze_98341 + sext_i32_i64(local_tid_106154);\n    int64_t slice_106159 = n_92399;\n    int64_t slice_106160 = m_92398 * slice_106159;\n    int64_t gtid_98345 = squot64(global_tid_106158, slice_106159);\n    int64_t remnant_106161 = global_tid_106158 - gtid_98345 * slice_106159;\n    int64_t gtid_98346 = remnant_106161;\n   ",
                   " int64_t remnant_106162 = remnant_106161 - gtid_98346;\n    \n    if (slt64(gtid_98345, m_92398) && slt64(gtid_98346, n_92399)) {\n        double x_98348;\n        \n        x_98348 = ((__global double *) Y_mem_104293)[gtid_98345 * n_92399 +\n                                                     gtid_98346];\n        \n        bool isnan_res_98351;\n        \n        isnan_res_98351 = futrts_isnan64(x_98348);\n        \n        bool defunc_0_p_res_98352 = !isnan_res_98351;\n        int64_t defunc_1_f_res_98353;\n        \n        if (defunc_0_p_res_98352) {\n            int64_t x_98349;\n            \n            x_98349 = ((__global int64_t *) mem_104749)[gtid_98345 * n_92399 +\n                                                        gtid_98346];\n            \n            int64_t defunc_1_f_res_t_res_98354 = sub64(x_98349, (int64_t) 1);\n            \n            defunc_1_f_res_98353 = defunc_1_f_res_t_res_98354;\n        } else {\n            defunc_1_f_res_98353 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_98345) && slt64(gtid_98345, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_98353) &&\n             slt64(defunc_1_f_res_98353, n_92399))) {\n            ((__global int64_t *) mem_104757)[gtid_98345 * n_92399 +\n                                              defunc_1_f_res_98353] =\n                gtid_98346;\n        }\n        if ((sle64((int64_t) 0, gtid_98345) && slt64(gtid_98345, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_98353) &&\n             slt64(defunc_1_f_res_98353, n_92399))) {\n            ((__global double *) mem_104753)[gtid_98345 * n_92399 +\n                                             defunc_1_f_res_98353] = x_98348;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_98341\n}\n__kernel void mainzisegmap_98366(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *mem_104757, __global\n                            ",
                   "     unsigned char *mem_104763)\n{\n    #define segmap_group_sizze_98361 (mainzisegmap_group_sizze_98156)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106163;\n    int32_t local_tid_106164;\n    int64_t group_sizze_106167;\n    int32_t wave_sizze_106166;\n    int32_t group_tid_106165;\n    \n    global_tid_106163 = get_global_id(0);\n    local_tid_106164 = get_local_id(0);\n    group_sizze_106167 = get_local_size(0);\n    wave_sizze_106166 = LOCKSTEP_WIDTH;\n    group_tid_106165 = get_group_id(0);\n    \n    int32_t phys_tid_98366 = global_tid_106163;\n    int64_t global_tid_106168 = sext_i32_i64(group_tid_106165) *\n            segmap_group_sizze_98361 + sext_i32_i64(local_tid_106164);\n    int64_t slice_106169 = n_92399;\n    int64_t slice_106170 = m_92398 * slice_106169;\n    int64_t gtid_98364 = squot64(global_tid_106168, slice_106169);\n    int64_t remnant_106171 = global_tid_106168 - gtid_98364 * slice_106169;\n    int64_t gtid_98365 = remnant_106171;\n    int64_t remnant_106172 = remnant_106171 - gtid_98365;\n    \n    if (slt64(gtid_98364, m_92398) && slt64(gtid_98365, n_92399)) {\n        int64_t x_98367;\n        \n        x_98367 = ((__global int64_t *) mem_104757)[gtid_98364 * n_92399 +\n                                                    gtid_98365];\n        \n        int64_t defunc_0_f_res_98368 = add64((int64_t) 1, x_98367);\n        \n        ((__global int64_t *) mem_104763)[gtid_98364 * n_92399 + gtid_98365] =\n            defunc_0_f_res_98368;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_98361\n}\n__kernel void mainzisegmap_98378(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                                 int64_t i_92415, int64_t min_res_92421,\n                                 double i64_res_92427, __global\n                                 unsigned char *mem_104749, ",
                   "__global\n                                 unsigned char *mem_104767, __global\n                                 unsigned char *mem_104770, __global\n                                 unsigned char *mem_104773, __global\n                                 unsigned char *mem_104776)\n{\n    #define segmap_group_sizze_98371 (mainzisegmap_group_sizze_98130)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106173;\n    int32_t local_tid_106174;\n    int64_t group_sizze_106177;\n    int32_t wave_sizze_106176;\n    int32_t group_tid_106175;\n    \n    global_tid_106173 = get_global_id(0);\n    local_tid_106174 = get_local_id(0);\n    group_sizze_106177 = get_local_size(0);\n    wave_sizze_106176 = LOCKSTEP_WIDTH;\n    group_tid_106175 = get_group_id(0);\n    \n    int32_t phys_tid_98378 = global_tid_106173;\n    int64_t global_tid_106178 = sext_i32_i64(group_tid_106175) *\n            segmap_group_sizze_98371 + sext_i32_i64(local_tid_106174);\n    int64_t slice_106179 = m_92398;\n    int64_t gtid_98377 = global_tid_106178;\n    int64_t remnant_106180 = global_tid_106178 - gtid_98377;\n    \n    if (slt64(gtid_98377, m_92398)) {\n        int64_t last_res_98379;\n        \n        last_res_98379 = ((__global int64_t *) mem_104749)[gtid_98377 *\n                                                           n_92399 + i_92415];\n        \n        int64_t min_arg_98380 = sub64(last_res_98379, (int64_t) 1);\n        int64_t min_arg_98381 = sub64(last_res_98379, min_res_92421);\n        int64_t min_res_98382 = smin64(q_92401, last_res_98379);\n        double i64_res_98383 = sitofp_i64_f64(last_res_98379);\n        double x_98384 = i64_res_92427 - i64_res_98383;\n        double max_arg_98385 = x_98384 / 2.0;\n        double max_res_98386 = fmax64(0.0, max_arg_98385);\n        \n        ((__global int64_t *) mem_104767)[gtid_98377] = min_arg_98380;\n        ((__global int64_t *) mem_104770)[gtid_98377] =",
                   " min_arg_98381;\n        ((__global int64_t *) mem_104773)[gtid_98377] = min_res_98382;\n        ((__global double *) mem_104776)[gtid_98377] = max_res_98386;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_98371\n}\n__kernel void mainzisegmap_98398(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                                 int64_t i_92415, __global\n                                 unsigned char *mem_104749, __global\n                                 unsigned char *mem_104781)\n{\n    #define segmap_group_sizze_98393 (mainzisegmap_group_sizze_98105)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106181;\n    int32_t local_tid_106182;\n    int64_t group_sizze_106185;\n    int32_t wave_sizze_106184;\n    int32_t group_tid_106183;\n    \n    global_tid_106181 = get_global_id(0);\n    local_tid_106182 = get_local_id(0);\n    group_sizze_106185 = get_local_size(0);\n    wave_sizze_106184 = LOCKSTEP_WIDTH;\n    group_tid_106183 = get_group_id(0);\n    \n    int32_t phys_tid_98398 = global_tid_106181;\n    int64_t global_tid_106186 = sext_i32_i64(group_tid_106183) *\n            segmap_group_sizze_98393 + sext_i32_i64(local_tid_106182);\n    int64_t slice_106187 = q_92401;\n    int64_t slice_106188 = m_92398 * slice_106187;\n    int64_t gtid_98396 = squot64(global_tid_106186, slice_106187);\n    int64_t remnant_106189 = global_tid_106186 - gtid_98396 * slice_106187;\n    int64_t gtid_98397 = remnant_106189;\n    int64_t remnant_106190 = remnant_106189 - gtid_98397;\n    \n    if (slt64(gtid_98396, m_92398) && slt64(gtid_98397, q_92401)) {\n        int64_t last_res_98399;\n        \n        last_res_98399 = ((__global int64_t *) mem_104749)[gtid_98396 *\n                                                           n_92399 + i_92415];\n        \n        bool cond_98401 = sle64(last_res_98399, gtid_983",
                   "97);\n        double defunc_0_f_res_98402;\n        \n        if (cond_98401) {\n            defunc_0_f_res_98402 = 0.0;\n        } else {\n            defunc_0_f_res_98402 = 1.0;\n        }\n        ((__global double *) mem_104781)[gtid_98396 * q_92401 + gtid_98397] =\n            defunc_0_f_res_98402;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_98393\n}\n__kernel void mainzisegmap_99322(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *Y_mem_104293, __global\n                                 unsigned char *mem_104818, __global\n                                 unsigned char *mem_104822, __global\n                                 unsigned char *mem_104826)\n{\n    #define segmap_group_sizze_99316 (mainzisegmap_group_sizze_99157)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106294;\n    int32_t local_tid_106295;\n    int64_t group_sizze_106298;\n    int32_t wave_sizze_106297;\n    int32_t group_tid_106296;\n    \n    global_tid_106294 = get_global_id(0);\n    local_tid_106295 = get_local_id(0);\n    group_sizze_106298 = get_local_size(0);\n    wave_sizze_106297 = LOCKSTEP_WIDTH;\n    group_tid_106296 = get_group_id(0);\n    \n    int32_t phys_tid_99322 = global_tid_106294;\n    int64_t global_tid_106299 = sext_i32_i64(group_tid_106296) *\n            segmap_group_sizze_99316 + sext_i32_i64(local_tid_106295);\n    int64_t slice_106300 = n_92399;\n    int64_t slice_106301 = m_92398 * slice_106300;\n    int64_t gtid_99320 = squot64(global_tid_106299, slice_106300);\n    int64_t remnant_106302 = global_tid_106299 - gtid_99320 * slice_106300;\n    int64_t gtid_99321 = remnant_106302;\n    int64_t remnant_106303 = remnant_106302 - gtid_99321;\n    \n    if (slt64(gtid_99320, m_92398) && slt64(gtid_99321, n_92399)) {\n        double x_99323;\n        \n        x_99",
                   "323 = ((__global double *) Y_mem_104293)[gtid_99320 * n_92399 +\n                                                     gtid_99321];\n        \n        bool isnan_res_99326;\n        \n        isnan_res_99326 = futrts_isnan64(x_99323);\n        \n        bool defunc_0_p_res_99327 = !isnan_res_99326;\n        int64_t defunc_1_f_res_99328;\n        \n        if (defunc_0_p_res_99327) {\n            int64_t x_99324;\n            \n            x_99324 = ((__global int64_t *) mem_104818)[gtid_99320 * n_92399 +\n                                                        gtid_99321];\n            \n            int64_t defunc_1_f_res_t_res_99329 = sub64(x_99324, (int64_t) 1);\n            \n            defunc_1_f_res_99328 = defunc_1_f_res_t_res_99329;\n        } else {\n            defunc_1_f_res_99328 = (int64_t) -1;\n        }\n        if ((sle64((int64_t) 0, gtid_99320) && slt64(gtid_99320, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_99328) &&\n             slt64(defunc_1_f_res_99328, n_92399))) {\n            ((__global int64_t *) mem_104826)[gtid_99320 * n_92399 +\n                                              defunc_1_f_res_99328] =\n                gtid_99321;\n        }\n        if ((sle64((int64_t) 0, gtid_99320) && slt64(gtid_99320, m_92398)) &&\n            (sle64((int64_t) 0, defunc_1_f_res_99328) &&\n             slt64(defunc_1_f_res_99328, n_92399))) {\n            ((__global double *) mem_104822)[gtid_99320 * n_92399 +\n                                             defunc_1_f_res_99328] = x_99323;\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_99316\n}\n__kernel void mainzisegmap_99341(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, __global\n                                 unsigned char *mem_104826, __global\n                                 unsigned char *mem_104832)\n{\n    #define segmap_group_sizze_99336 (mainzisegmap_group_sizze_99131)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    ",
                   "const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106304;\n    int32_t local_tid_106305;\n    int64_t group_sizze_106308;\n    int32_t wave_sizze_106307;\n    int32_t group_tid_106306;\n    \n    global_tid_106304 = get_global_id(0);\n    local_tid_106305 = get_local_id(0);\n    group_sizze_106308 = get_local_size(0);\n    wave_sizze_106307 = LOCKSTEP_WIDTH;\n    group_tid_106306 = get_group_id(0);\n    \n    int32_t phys_tid_99341 = global_tid_106304;\n    int64_t global_tid_106309 = sext_i32_i64(group_tid_106306) *\n            segmap_group_sizze_99336 + sext_i32_i64(local_tid_106305);\n    int64_t slice_106310 = n_92399;\n    int64_t slice_106311 = m_92398 * slice_106310;\n    int64_t gtid_99339 = squot64(global_tid_106309, slice_106310);\n    int64_t remnant_106312 = global_tid_106309 - gtid_99339 * slice_106310;\n    int64_t gtid_99340 = remnant_106312;\n    int64_t remnant_106313 = remnant_106312 - gtid_99340;\n    \n    if (slt64(gtid_99339, m_92398) && slt64(gtid_99340, n_92399)) {\n        int64_t x_99342;\n        \n        x_99342 = ((__global int64_t *) mem_104826)[gtid_99339 * n_92399 +\n                                                    gtid_99340];\n        \n        int64_t defunc_0_f_res_99343 = add64((int64_t) 1, x_99342);\n        \n        ((__global int64_t *) mem_104832)[gtid_99339 * n_92399 + gtid_99340] =\n            defunc_0_f_res_99343;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_99336\n}\n__kernel void mainzisegmap_99353(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                                 int64_t i_92415, int64_t min_res_92421,\n                                 double i64_res_92427, __global\n                                 unsigned char *mem_104818, __global\n                                 unsigned char *mem_104836, __global\n                                 unsigned char *mem_104839, __global\n                          ",
                   "       unsigned char *mem_104842, __global\n                                 unsigned char *mem_104845)\n{\n    #define segmap_group_sizze_99346 (mainzisegmap_group_sizze_99105)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106314;\n    int32_t local_tid_106315;\n    int64_t group_sizze_106318;\n    int32_t wave_sizze_106317;\n    int32_t group_tid_106316;\n    \n    global_tid_106314 = get_global_id(0);\n    local_tid_106315 = get_local_id(0);\n    group_sizze_106318 = get_local_size(0);\n    wave_sizze_106317 = LOCKSTEP_WIDTH;\n    group_tid_106316 = get_group_id(0);\n    \n    int32_t phys_tid_99353 = global_tid_106314;\n    int64_t global_tid_106319 = sext_i32_i64(group_tid_106316) *\n            segmap_group_sizze_99346 + sext_i32_i64(local_tid_106315);\n    int64_t slice_106320 = m_92398;\n    int64_t gtid_99352 = global_tid_106319;\n    int64_t remnant_106321 = global_tid_106319 - gtid_99352;\n    \n    if (slt64(gtid_99352, m_92398)) {\n        int64_t last_res_99354;\n        \n        last_res_99354 = ((__global int64_t *) mem_104818)[gtid_99352 *\n                                                           n_92399 + i_92415];\n        \n        int64_t min_arg_99355 = sub64(last_res_99354, (int64_t) 1);\n        int64_t min_arg_99356 = sub64(last_res_99354, min_res_92421);\n        int64_t min_res_99357 = smin64(q_92401, last_res_99354);\n        double i64_res_99358 = sitofp_i64_f64(last_res_99354);\n        double x_99359 = i64_res_92427 - i64_res_99358;\n        double max_arg_99360 = x_99359 / 2.0;\n        double max_res_99361 = fmax64(0.0, max_arg_99360);\n        \n        ((__global int64_t *) mem_104836)[gtid_99352] = min_arg_99355;\n        ((__global int64_t *) mem_104839)[gtid_99352] = min_arg_99356;\n        ((__global int64_t *) mem_104842)[gtid_99352] = min_res_99357;\n        ((__global double *) mem_104845)[gtid_99352] = max_res_99361;\n    }\n    \n  err",
                   "or_0:\n    return;\n    #undef segmap_group_sizze_99346\n}\n__kernel void mainzisegmap_99373(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_92399, int64_t q_92401,\n                                 int64_t i_92415, __global\n                                 unsigned char *mem_104818, __global\n                                 unsigned char *mem_104850)\n{\n    #define segmap_group_sizze_99368 (mainzisegmap_group_sizze_99080)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106322;\n    int32_t local_tid_106323;\n    int64_t group_sizze_106326;\n    int32_t wave_sizze_106325;\n    int32_t group_tid_106324;\n    \n    global_tid_106322 = get_global_id(0);\n    local_tid_106323 = get_local_id(0);\n    group_sizze_106326 = get_local_size(0);\n    wave_sizze_106325 = LOCKSTEP_WIDTH;\n    group_tid_106324 = get_group_id(0);\n    \n    int32_t phys_tid_99373 = global_tid_106322;\n    int64_t global_tid_106327 = sext_i32_i64(group_tid_106324) *\n            segmap_group_sizze_99368 + sext_i32_i64(local_tid_106323);\n    int64_t slice_106328 = q_92401;\n    int64_t slice_106329 = m_92398 * slice_106328;\n    int64_t gtid_99371 = squot64(global_tid_106327, slice_106328);\n    int64_t remnant_106330 = global_tid_106327 - gtid_99371 * slice_106328;\n    int64_t gtid_99372 = remnant_106330;\n    int64_t remnant_106331 = remnant_106330 - gtid_99372;\n    \n    if (slt64(gtid_99371, m_92398) && slt64(gtid_99372, q_92401)) {\n        int64_t last_res_99374;\n        \n        last_res_99374 = ((__global int64_t *) mem_104818)[gtid_99371 *\n                                                           n_92399 + i_92415];\n        \n        bool cond_99376 = sle64(last_res_99374, gtid_99372);\n        double defunc_0_f_res_99377;\n        \n        if (cond_99376) {\n            defunc_0_f_res_99377 = 0.0;\n        } else {\n            defunc_0_f_res_99377 = 1.0;",
                   "\n        }\n        ((__global double *) mem_104850)[gtid_99371 * q_92401 + gtid_99372] =\n            defunc_0_f_res_99377;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_99368\n}\n__kernel void mainzisegmap_99392(__global int *global_failure,\n                                 int failure_is_an_option, __global\n                                 int64_t *global_failure_args, int64_t m_92398,\n                                 int64_t n_92399, int64_t jump_92403,\n                                 int64_t n_m_92409, int64_t i_92415,\n                                 unsigned char x_92416_bits,\n                                 int64_t min_res_92421,\n                                 unsigned char loop_cond_92426_bits, __global\n                                 unsigned char *mem_104826, __global\n                                 unsigned char *mem_104832, __global\n                                 unsigned char *mem_104836, __global\n                                 unsigned char *mem_104839, __global\n                                 unsigned char *mem_104842, __global\n                                 unsigned char *mem_104845, __global\n                                 unsigned char *mem_104855, __global\n                                 unsigned char *mem_104859, __global\n                                 unsigned char *mem_104863)\n{\n    bool x_92416 = x_92416_bits;\n    bool loop_cond_92426 = loop_cond_92426_bits;\n    \n    #define segmap_group_sizze_99385 (mainzisegmap_group_sizze_98767)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106332;\n    int32_t local_tid_106333;\n    int64_t group_sizze_106336;\n    int32_t wave_sizze_106335;\n    int32_t group_tid_106334;\n    \n    global_tid_106332 = get_global_id(0);\n    local_tid_106333 = get_local_id(0);\n    group_sizze_106336 = get_local_size(0);\n    wave_sizze_106335 = LOCKSTEP_WIDTH;\n    group_tid",
                   "_106334 = get_group_id(0);\n    \n    int32_t phys_tid_99392 = global_tid_106332;\n    int64_t global_tid_106337 = sext_i32_i64(group_tid_106334) *\n            segmap_group_sizze_99385 + sext_i32_i64(local_tid_106333);\n    int64_t slice_106338 = n_m_92409;\n    int64_t slice_106339 = m_92398 * slice_106338;\n    int64_t gtid_99390 = squot64(global_tid_106337, slice_106338);\n    int64_t remnant_106340 = global_tid_106337 - gtid_99390 * slice_106338;\n    int64_t gtid_99391 = remnant_106340;\n    int64_t remnant_106341 = remnant_106340 - gtid_99391;\n    \n    if (slt64(gtid_99390, m_92398) && slt64(gtid_99391, n_m_92409)) {\n        int64_t min_arg_99395;\n        \n        min_arg_99395 = ((__global int64_t *) mem_104836)[gtid_99390];\n        \n        int64_t min_arg_99396;\n        \n        min_arg_99396 = ((__global int64_t *) mem_104839)[gtid_99390];\n        \n        int64_t min_res_99397;\n        \n        min_res_99397 = ((__global int64_t *) mem_104842)[gtid_99390];\n        \n        double max_res_99398;\n        \n        max_res_99398 = ((__global double *) mem_104845)[gtid_99390];\n        \n        int64_t min_arg_99400 = mul64(jump_92403, gtid_99391);\n        int64_t min_res_99401 = smin64(i_92415, min_arg_99400);\n        int64_t defunc_0_g_res_99402 = add64((int64_t) 1, min_res_99401);\n        bool init_idx_99403;\n        int64_t init_idx_99404;\n        int64_t init_idx_99405;\n        bool loop_while_99406;\n        int64_t low_99407;\n        int64_t high_99408;\n        \n        loop_while_99406 = x_92416;\n        low_99407 = (int64_t) 0;\n        high_99408 = i_92415;\n        while (loop_while_99406) {\n            int64_t x_99409 = add64(low_99407, high_99408);\n            int64_t mid_99410 = sdiv64(x_99409, (int64_t) 2);\n            bool x_99411 = sle64((int64_t) 0, mid_99410);\n            bool y_99412 = slt64(mid_99410, n_92399);\n            bool bounds_check_99413 = x_99411 && y_99412;\n            bool index_certs_99414;\n            \n            if (!bounds_check_99413)",
                   " {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 30) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) mid_99410;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t mid_id_99415;\n            \n            mid_id_99415 = ((__global int64_t *) mem_104832)[gtid_99390 *\n                                                             n_92399 +\n                                                             mid_99410];\n            \n            bool cond_99416 = slt64(mid_id_99415, (int64_t) 0);\n            int64_t mid_idx_99417;\n            \n            if (cond_99416) {\n                mid_idx_99417 = (int64_t) 9223372036854775807;\n            } else {\n                mid_idx_99417 = mid_id_99415;\n            }\n            \n            bool cond_99418 = sle64(defunc_0_g_res_99402, mid_idx_99417);\n            int64_t loopres_99419;\n            int64_t loopres_99420;\n            \n            if (cond_99418) {\n                int64_t loopres_t_res_99421 = sub64(mid_99410, (int64_t) 1);\n                \n                loopres_99419 = low_99407;\n                loopres_99420 = loopres_t_res_99421;\n            } else {\n                int64_t loopres_f_res_99422 = add64((int64_t) 1, mid_99410);\n                \n                loopres_99419 = loopres_f_res_99422;\n                loopres_99420 = high_99408;\n            }\n            \n            bool loop_cond_99423 = sle64(loopres_99419, loopres_99420);\n            bool loop_while_tmp_106342 = loop_cond_99423;\n            int64_t low_tmp_106343 = loopres_99419;\n            int64_t high_tmp_106344 = loopres_99420;\n            \n            loop_while_99406 = loop_while_tmp_106342;\n            low_99407 = low_tmp_106343;\n            high_99408 = high_tmp_106344;\n        }\n        init_idx_99403 = l",
                   "oop_while_99406;\n        init_idx_99404 = low_99407;\n        init_idx_99405 = high_99408;\n        \n        bool idx_99424;\n        int64_t idx_99425;\n        int64_t idx_99426;\n        int64_t idx_99427;\n        bool loop_while_99428;\n        int64_t l_idx_99429;\n        int64_t r_idx_99430;\n        int64_t span_99431;\n        \n        loop_while_99428 = loop_cond_92426;\n        l_idx_99429 = init_idx_99404;\n        r_idx_99430 = init_idx_99404;\n        span_99431 = (int64_t) 1;\n        while (loop_while_99428) {\n            int64_t max_arg_99432 = sub64(l_idx_99429, (int64_t) 1);\n            int64_t max_res_99433 = smax64((int64_t) 0, max_arg_99432);\n            int64_t min_arg_99434 = add64((int64_t) 1, r_idx_99430);\n            int64_t min_res_99435 = smin64(min_arg_99395, min_arg_99434);\n            bool x_99436 = sle64((int64_t) 0, max_res_99433);\n            bool y_99437 = slt64(max_res_99433, n_92399);\n            bool bounds_check_99438 = x_99436 && y_99437;\n            bool index_certs_99439;\n            \n            if (!bounds_check_99438) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 31) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) max_res_99433;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t x_99440;\n            \n            x_99440 = ((__global int64_t *) mem_104832)[gtid_99390 * n_92399 +\n                                                        max_res_99433];\n            \n            int64_t abs_arg_99441 = sub64(x_99440, defunc_0_g_res_99402);\n            int64_t abs_res_99442 = abs64(abs_arg_99441);\n            bool x_99443 = sle64((int64_t) 0, min_res_99435);\n            bool y_99444 = slt64(min_res_99435, n_92399);\n            bool bounds_check_99445 = x_99443 && y_99444;\n            bool index_cert",
                   "s_99446;\n            \n            if (!bounds_check_99445) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 32) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) min_res_99435;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    return;\n                }\n            }\n            \n            int64_t x_99447;\n            \n            x_99447 = ((__global int64_t *) mem_104832)[gtid_99390 * n_92399 +\n                                                        min_res_99435];\n            \n            int64_t abs_arg_99448 = sub64(x_99447, defunc_0_g_res_99402);\n            int64_t abs_res_99449 = abs64(abs_arg_99448);\n            bool cond_99450 = max_res_99433 == l_idx_99429;\n            int64_t loopres_99451;\n            int64_t loopres_99452;\n            int64_t loopres_99453;\n            \n            if (cond_99450) {\n                loopres_99451 = l_idx_99429;\n                loopres_99452 = r_idx_99430;\n                loopres_99453 = min_res_92421;\n            } else {\n                bool cond_99454 = slt64(abs_res_99442, abs_res_99449);\n                bool cond_f_res_99455 = min_res_99435 == r_idx_99430;\n                bool x_99456 = !cond_99454;\n                bool y_99457 = cond_f_res_99455 && x_99456;\n                bool cond_99458 = cond_99454 || y_99457;\n                int64_t loopres_f_res_99459;\n                \n                if (cond_99458) {\n                    loopres_f_res_99459 = max_res_99433;\n                } else {\n                    loopres_f_res_99459 = l_idx_99429;\n                }\n                \n                int64_t loopres_f_res_99460;\n                \n                if (cond_99458) {\n                    loopres_f_res_99460 = r_idx_99430;\n                } else {\n                    loopres_f_res_99460 = min_res_99435;\n                }\n                \n         ",
                   "       int64_t loopres_f_res_99461;\n                \n                if (cond_99458) {\n                    int64_t loopres_f_res_t_res_99462 = add64((int64_t) 1,\n                                                              span_99431);\n                    \n                    loopres_f_res_99461 = loopres_f_res_t_res_99462;\n                } else {\n                    int64_t loopres_f_res_f_res_99463 = add64((int64_t) 1,\n                                                              span_99431);\n                    \n                    loopres_f_res_99461 = loopres_f_res_f_res_99463;\n                }\n                loopres_99451 = loopres_f_res_99459;\n                loopres_99452 = loopres_f_res_99460;\n                loopres_99453 = loopres_f_res_99461;\n            }\n            \n            bool loop_cond_99464 = slt64(loopres_99453, min_res_92421);\n            bool loop_while_tmp_106345 = loop_cond_99464;\n            int64_t l_idx_tmp_106346 = loopres_99451;\n            int64_t r_idx_tmp_106347 = loopres_99452;\n            int64_t span_tmp_106348 = loopres_99453;\n            \n            loop_while_99428 = loop_while_tmp_106345;\n            l_idx_99429 = l_idx_tmp_106346;\n            r_idx_99430 = r_idx_tmp_106347;\n            span_99431 = span_tmp_106348;\n        }\n        idx_99424 = loop_while_99428;\n        idx_99425 = l_idx_99429;\n        idx_99426 = r_idx_99430;\n        idx_99427 = span_99431;\n        \n        int64_t min_res_99465 = smin64(min_arg_99396, idx_99425);\n        int64_t max_res_99466 = smax64((int64_t) 0, min_res_99465);\n        int64_t x_99467 = add64(min_res_99397, max_res_99466);\n        int64_t r_99468 = sub64(x_99467, (int64_t) 1);\n        bool x_99469 = sle64((int64_t) 0, r_99468);\n        bool y_99470 = slt64(r_99468, n_92399);\n        bool bounds_check_99471 = x_99469 && y_99470;\n        bool index_certs_99472;\n        \n        if (!bounds_check_99471) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1,",
                   " 33) == -1) {\n                    global_failure_args[0] = (int64_t) r_99468;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n                return;\n            }\n        }\n        \n        int64_t x_99473;\n        \n        x_99473 = ((__global int64_t *) mem_104826)[gtid_99390 * n_92399 +\n                                                    r_99468];\n        \n        int64_t abs_arg_99474 = sub64(x_99473, min_res_99401);\n        int64_t abs_res_99475 = abs64(abs_arg_99474);\n        bool x_99476 = sle64((int64_t) 0, max_res_99466);\n        bool y_99477 = slt64(max_res_99466, n_92399);\n        bool bounds_check_99478 = x_99476 && y_99477;\n        bool index_certs_99479;\n        \n        if (!bounds_check_99478) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 34) == -1) {\n                    global_failure_args[0] = (int64_t) max_res_99466;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n                return;\n            }\n        }\n        \n        int64_t x_99480;\n        \n        x_99480 = ((__global int64_t *) mem_104826)[gtid_99390 * n_92399 +\n                                                    max_res_99466];\n        \n        int64_t abs_arg_99481 = sub64(x_99480, min_res_99401);\n        int64_t abs_res_99482 = abs64(abs_arg_99481);\n        int64_t max_res_99483 = smax64(abs_res_99475, abs_res_99482);\n        double defunc_0_f_res_99484 = sitofp_i64_f64(max_res_99483);\n        double defunc_1_f_res_99485 = max_res_99398 + defunc_0_f_res_99484;\n        \n        ((__global int64_t *) mem_104855)[gtid_99390 * n_m_92409 + gtid_99391] =\n            min_res_99401;\n        ((__global int64_t *) mem_104859)[gtid_99390 * n_m_92409 + gtid_99391] =\n            max_res_99466;\n        ((__global double *) mem_104863)[gtid_99390 * n_m_92409 + gtid_99391] =\n            defunc_1_f_res_99485;\n    }\n    \n  error_0:\n    return;\n    #un",
                   "def segmap_group_sizze_99385\n}\n__kernel void mainzisegmap_99533(__global int *global_failure, int64_t m_92398,\n                                 int64_t n_m_92409, __global\n                                 unsigned char *mem_104868, __global\n                                 unsigned char *mem_104873)\n{\n    #define segmap_group_sizze_99528 (mainzisegmap_group_sizze_98709)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106422;\n    int32_t local_tid_106423;\n    int64_t group_sizze_106426;\n    int32_t wave_sizze_106425;\n    int32_t group_tid_106424;\n    \n    global_tid_106422 = get_global_id(0);\n    local_tid_106423 = get_local_id(0);\n    group_sizze_106426 = get_local_size(0);\n    wave_sizze_106425 = LOCKSTEP_WIDTH;\n    group_tid_106424 = get_group_id(0);\n    \n    int32_t phys_tid_99533 = global_tid_106422;\n    int64_t global_tid_106427 = sext_i32_i64(group_tid_106424) *\n            segmap_group_sizze_99528 + sext_i32_i64(local_tid_106423);\n    int64_t slice_106428 = n_m_92409;\n    int64_t slice_106429 = m_92398 * slice_106428;\n    int64_t gtid_99531 = squot64(global_tid_106427, slice_106428);\n    int64_t remnant_106430 = global_tid_106427 - gtid_99531 * slice_106428;\n    int64_t gtid_99532 = remnant_106430;\n    int64_t remnant_106431 = remnant_106430 - gtid_99532;\n    \n    if (slt64(gtid_99531, m_92398) && slt64(gtid_99532, n_m_92409)) {\n        double defunc_2_reduce_res_99534;\n        \n        defunc_2_reduce_res_99534 = ((__global\n                                      double *) mem_104868)[gtid_99531 *\n                                                            n_m_92409 +\n                                                            gtid_99532];\n        \n        double a0_99535 = 1.0 / defunc_2_reduce_res_99534;\n        \n        ((__global double *) mem_104873)[gtid_99531 * n_m_92409 + gtid_99532] =\n            a0_99535;\n    }\n    \n  error_0:",
                   "\n    return;\n    #undef segmap_group_sizze_99528\n}\n__kernel void mainzisegmap_intragroup_102215(__global int *global_failure,\n                                             int failure_is_an_option, __global\n                                             int64_t *global_failure_args,\n                                             __local volatile\n                                             int64_t *color_105208_backing_aligned_0,\n                                             int64_t m_92398, int64_t n_92399,\n                                             int64_t q_92401,\n                                             int64_t jump_92403,\n                                             int64_t n_m_92409, int64_t i_92415,\n                                             unsigned char x_92416_bits,\n                                             int64_t min_res_92421,\n                                             unsigned char loop_cond_92426_bits,\n                                             int64_t num_groups_x_102212,\n                                             int64_t num_groups_y_102213,\n                                             int64_t num_whole_tiles_102345,\n                                             int64_t residual_input_102541,\n                                             unsigned char cond_102542_bits,\n                                             __global unsigned char *mem_104302,\n                                             __global unsigned char *mem_104306,\n                                             __global unsigned char *mem_104310,\n                                             __global unsigned char *mem_104316,\n                                             __global unsigned char *mem_104320,\n                                             __global unsigned char *mem_104323,\n                                             __global unsigned char *mem_104326,\n                                             __global unsigned char *mem_104329,\n                                    ",
                   "         __global unsigned char *mem_104334,\n                                             __global unsigned char *mem_104381)\n{\n    bool x_92416 = x_92416_bits;\n    bool loop_cond_92426 = loop_cond_92426_bits;\n    bool cond_102542 = cond_102542_bits;\n    \n    #define tile_sizze_102210 (mainzitile_sizze_102209)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict color_105208_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) color_105208_backing_aligned_0;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_105453;\n    int32_t local_tid_105454;\n    int64_t group_sizze_105457;\n    int32_t wave_sizze_105456;\n    int32_t group_tid_105455;\n    \n    global_tid_105453 = get_global_id(0);\n    local_tid_105454 = get_local_id(0);\n    group_sizze_105457 = get_local_size(0);\n    wave_sizze_105456 = LOCKSTEP_WIDTH;\n    group_tid_105455 = get_group_id(0);\n    \n    int32_t gid_flat_102215 = group_tid_105455;\n    int64_t slice_105460 = tile_sizze_102210;\n    int64_t slice_105461 = tile_sizze_102210 * slice_105460;\n    int64_t ltid_pre_105458 = squot64(sext_i32_i64(local_tid_105454),\n                                      slice_105460);\n    int64_t remnant_105462 = sext_i32_i64(local_tid_105454) - ltid_pre_105458 *\n            slice_105460;\n    int64_t ltid_pre_105459 = remnant_105462;\n    int64_t remnant_105463 = remnant_105462 - ltid_pre_105459;\n    int64_t slice_105464 = num_groups_y_102213;\n    int64_t slice_105465 = num_groups_x_102212 * slice_105464;\n    int64_t gid_x_102207 = squot64(sext_i32_i64(group_tid_105455),\n                                   slice_105464);\n    int64_t remnant_105466 = sext_i32_i64(group_tid_",
                   "105455) - gid_x_102207 *\n            slice_105464;\n    int64_t gid_y_102208 = remnant_105466;\n    int64_t remnant_105467 = remnant_105466 - gid_y_102208;\n    double color_105206[1];\n    double color_105207[1];\n    __local unsigned char *color_105208;\n    \n    color_105208 = (__local unsigned char *) color_105208_backing_0;\n    \n    double color_105209[1];\n    int64_t color_105210[1];\n    int64_t color_105211[1];\n    int64_t color_105212[1];\n    int64_t binop_x_102235 = gid_x_102207 * tile_sizze_102210;\n    int64_t binop_x_102237 = gid_y_102208 * tile_sizze_102210;\n    int64_t ltid_y_102234 = sext_i32_i64(sext_i64_i32(ltid_pre_105458));\n    int64_t ltid_x_102232 = sext_i32_i64(sext_i64_i32(ltid_pre_105459));\n    int32_t ltid_flat_102233 = local_tid_105454;\n    \n    if (slt64(ltid_y_102234, tile_sizze_102210) && slt64(ltid_x_102232,\n                                                         tile_sizze_102210)) {\n        int64_t gtid_102236 = ltid_y_102234 + binop_x_102235;\n        int64_t gtid_102238 = ltid_x_102232 + binop_x_102237;\n        bool binop_x_102239 = slt64(gtid_102236, m_92398);\n        bool binop_y_102240 = slt64(gtid_102238, n_m_92409);\n        bool cond_102241 = binop_x_102239 && binop_y_102240;\n        int64_t pre_102242;\n        int64_t pre_102243;\n        int64_t pre_102244;\n        double pre_102245;\n        \n        if (cond_102241) {\n            int64_t last_res_102246;\n            \n            last_res_102246 = ((__global int64_t *) mem_104302)[gtid_102236 *\n                                                                n_92399 +\n                                                                i_92415];\n            \n            int64_t min_arg_102247;\n            \n            min_arg_102247 = ((__global int64_t *) mem_104320)[gtid_102236];\n            \n            int64_t min_arg_102248;\n            \n            min_arg_102248 = ((__global int64_t *) mem_104323)[gtid_102236];\n            \n            int64_t min_res_102249;\n            \n          ",
                   "  min_res_102249 = ((__global int64_t *) mem_104326)[gtid_102236];\n            \n            double max_res_102250;\n            \n            max_res_102250 = ((__global double *) mem_104329)[gtid_102236];\n            \n            int64_t min_arg_102251 = mul64(jump_92403, gtid_102238);\n            int64_t min_res_102252 = smin64(i_92415, min_arg_102251);\n            int64_t defunc_0_g_res_102253 = add64((int64_t) 1, min_res_102252);\n            bool init_idx_102254;\n            int64_t init_idx_102255;\n            int64_t init_idx_102256;\n            bool loop_while_102257;\n            int64_t low_102258;\n            int64_t high_102259;\n            \n            loop_while_102257 = x_92416;\n            low_102258 = (int64_t) 0;\n            high_102259 = i_92415;\n            while (loop_while_102257) {\n                int64_t x_102260 = add64(low_102258, high_102259);\n                int64_t mid_102261 = sdiv64(x_102260, (int64_t) 2);\n                bool x_102262 = sle64((int64_t) 0, mid_102261);\n                bool y_102263 = slt64(mid_102261, n_92399);\n                bool bounds_check_102264 = x_102262 && y_102263;\n                bool index_certs_102265;\n                \n                if (!bounds_check_102264) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 0) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) mid_102261;\n                            global_failure_args[1] = (int64_t) n_92399;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t mid_id_102266;\n                \n                mid_id_102266 = ((__global int64_t *) mem_104316)[gtid_102236 *\n                                                                  n_92399 +\n                                                                  mid_",
                   "102261];\n                \n                bool cond_102267 = slt64(mid_id_102266, (int64_t) 0);\n                int64_t mid_idx_102268;\n                \n                if (cond_102267) {\n                    mid_idx_102268 = (int64_t) 9223372036854775807;\n                } else {\n                    mid_idx_102268 = mid_id_102266;\n                }\n                \n                bool cond_102269 = sle64(defunc_0_g_res_102253, mid_idx_102268);\n                int64_t loopres_102270;\n                int64_t loopres_102271;\n                \n                if (cond_102269) {\n                    int64_t loopres_t_res_102272 = sub64(mid_102261,\n                                                         (int64_t) 1);\n                    \n                    loopres_102270 = low_102258;\n                    loopres_102271 = loopres_t_res_102272;\n                } else {\n                    int64_t loopres_f_res_102273 = add64((int64_t) 1,\n                                                         mid_102261);\n                    \n                    loopres_102270 = loopres_f_res_102273;\n                    loopres_102271 = high_102259;\n                }\n                \n                bool loop_cond_102274 = sle64(loopres_102270, loopres_102271);\n                bool loop_while_tmp_105468 = loop_cond_102274;\n                int64_t low_tmp_105469 = loopres_102270;\n                int64_t high_tmp_105470 = loopres_102271;\n                \n                loop_while_102257 = loop_while_tmp_105468;\n                low_102258 = low_tmp_105469;\n                high_102259 = high_tmp_105470;\n            }\n            init_idx_102254 = loop_while_102257;\n            init_idx_102255 = low_102258;\n            init_idx_102256 = high_102259;\n            \n            bool idx_102275;\n            int64_t idx_102276;\n            int64_t idx_102277;\n            int64_t idx_102278;\n            bool loop_while_102279;\n            int64_t l_idx_102280;\n            int64_t r_idx_102281;\n     ",
                   "       int64_t span_102282;\n            \n            loop_while_102279 = loop_cond_92426;\n            l_idx_102280 = init_idx_102255;\n            r_idx_102281 = init_idx_102255;\n            span_102282 = (int64_t) 1;\n            while (loop_while_102279) {\n                int64_t max_arg_102283 = sub64(l_idx_102280, (int64_t) 1);\n                int64_t max_res_102284 = smax64((int64_t) 0, max_arg_102283);\n                int64_t min_arg_102285 = add64((int64_t) 1, r_idx_102281);\n                int64_t min_res_102286 = smin64(min_arg_102247, min_arg_102285);\n                bool x_102287 = sle64((int64_t) 0, max_res_102284);\n                bool y_102288 = slt64(max_res_102284, n_92399);\n                bool bounds_check_102289 = x_102287 && y_102288;\n                bool index_certs_102290;\n                \n                if (!bounds_check_102289) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 1) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) max_res_102284;\n                            global_failure_args[1] = (int64_t) n_92399;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_102291;\n                \n                x_102291 = ((__global int64_t *) mem_104316)[gtid_102236 *\n                                                             n_92399 +\n                                                             max_res_102284];\n                \n                int64_t abs_arg_102292 = sub64(x_102291, defunc_0_g_res_102253);\n                int64_t abs_res_102293 = abs64(abs_arg_102292);\n                bool x_102294 = sle64((int64_t) 0, min_res_102286);\n                bool y_102295 = slt64(min_res_102286, n_92399);\n                bool bounds_check_102296 = x_102294 && y_102295;\n                b",
                   "ool index_certs_102297;\n                \n                if (!bounds_check_102296) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 2) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) min_res_102286;\n                            global_failure_args[1] = (int64_t) n_92399;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_102298;\n                \n                x_102298 = ((__global int64_t *) mem_104316)[gtid_102236 *\n                                                             n_92399 +\n                                                             min_res_102286];\n                \n                int64_t abs_arg_102299 = sub64(x_102298, defunc_0_g_res_102253);\n                int64_t abs_res_102300 = abs64(abs_arg_102299);\n                bool cond_102301 = max_res_102284 == l_idx_102280;\n                int64_t loopres_102302;\n                int64_t loopres_102303;\n                int64_t loopres_102304;\n                \n                if (cond_102301) {\n                    loopres_102302 = l_idx_102280;\n                    loopres_102303 = r_idx_102281;\n                    loopres_102304 = min_res_92421;\n                } else {\n                    bool cond_102305 = slt64(abs_res_102293, abs_res_102300);\n                    bool cond_f_res_102306 = min_res_102286 == r_idx_102281;\n                    bool x_102307 = !cond_102305;\n                    bool y_102308 = cond_f_res_102306 && x_102307;\n                    bool cond_102309 = cond_102305 || y_102308;\n                    int64_t loopres_f_res_102310;\n                    \n                    if (cond_102309) {\n                        loopres_f_res_102310 = max_res_102284;\n                    } else {\n                        loopres_f_res_",
                   "102310 = l_idx_102280;\n                    }\n                    \n                    int64_t loopres_f_res_102311;\n                    \n                    if (cond_102309) {\n                        loopres_f_res_102311 = r_idx_102281;\n                    } else {\n                        loopres_f_res_102311 = min_res_102286;\n                    }\n                    \n                    int64_t loopres_f_res_102312;\n                    \n                    if (cond_102309) {\n                        int64_t loopres_f_res_t_res_102313 = add64((int64_t) 1,\n                                                                   span_102282);\n                        \n                        loopres_f_res_102312 = loopres_f_res_t_res_102313;\n                    } else {\n                        int64_t loopres_f_res_f_res_102314 = add64((int64_t) 1,\n                                                                   span_102282);\n                        \n                        loopres_f_res_102312 = loopres_f_res_f_res_102314;\n                    }\n                    loopres_102302 = loopres_f_res_102310;\n                    loopres_102303 = loopres_f_res_102311;\n                    loopres_102304 = loopres_f_res_102312;\n                }\n                \n                bool loop_cond_102315 = slt64(loopres_102304, min_res_92421);\n                bool loop_while_tmp_105471 = loop_cond_102315;\n                int64_t l_idx_tmp_105472 = loopres_102302;\n                int64_t r_idx_tmp_105473 = loopres_102303;\n                int64_t span_tmp_105474 = loopres_102304;\n                \n                loop_while_102279 = loop_while_tmp_105471;\n                l_idx_102280 = l_idx_tmp_105472;\n                r_idx_102281 = r_idx_tmp_105473;\n                span_102282 = span_tmp_105474;\n            }\n            idx_102275 = loop_while_102279;\n            idx_102276 = l_idx_102280;\n            idx_102277 = r_idx_102281;\n            idx_102278 = span_102282;\n            \n        ",
                   "    int64_t min_res_102316 = smin64(min_arg_102248, idx_102276);\n            int64_t max_res_102317 = smax64((int64_t) 0, min_res_102316);\n            int64_t x_102318 = add64(min_res_102249, max_res_102317);\n            int64_t r_102319 = sub64(x_102318, (int64_t) 1);\n            bool x_102320 = sle64((int64_t) 0, r_102319);\n            bool y_102321 = slt64(r_102319, n_92399);\n            bool bounds_check_102322 = x_102320 && y_102321;\n            bool index_certs_102323;\n            \n            if (!bounds_check_102322) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 3) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) r_102319;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    local_failure = true;\n                    goto error_0;\n                }\n            }\n            \n            int64_t x_102324;\n            \n            x_102324 = ((__global int64_t *) mem_104310)[gtid_102236 * n_92399 +\n                                                         r_102319];\n            \n            int64_t abs_arg_102325 = sub64(x_102324, min_res_102252);\n            int64_t abs_res_102326 = abs64(abs_arg_102325);\n            bool x_102327 = sle64((int64_t) 0, max_res_102317);\n            bool y_102328 = slt64(max_res_102317, n_92399);\n            bool bounds_check_102329 = x_102327 && y_102328;\n            bool index_certs_102330;\n            \n            if (!bounds_check_102329) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 4) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) max_res_102317;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    local_failure = true;\n                    goto error_0;\n                }\n            }\n    ",
                   "        \n            int64_t x_102331;\n            \n            x_102331 = ((__global int64_t *) mem_104310)[gtid_102236 * n_92399 +\n                                                         max_res_102317];\n            \n            int64_t abs_arg_102332 = sub64(x_102331, min_res_102252);\n            int64_t abs_res_102333 = abs64(abs_arg_102332);\n            int64_t max_res_102334 = smax64(abs_res_102326, abs_res_102333);\n            double defunc_0_f_res_102335 = sitofp_i64_f64(max_res_102334);\n            double defunc_1_f_res_102336 = max_res_102250 +\n                   defunc_0_f_res_102335;\n            \n            pre_102242 = last_res_102246;\n            pre_102243 = min_res_102252;\n            pre_102244 = max_res_102317;\n            pre_102245 = defunc_1_f_res_102336;\n        } else {\n            pre_102242 = (int64_t) 0;\n            pre_102243 = (int64_t) 0;\n            pre_102244 = (int64_t) 0;\n            pre_102245 = 0.0;\n        }\n        color_105212[(int64_t) 0] = pre_102242;\n        color_105211[(int64_t) 0] = pre_102243;\n        color_105210[(int64_t) 0] = pre_102244;\n        color_105209[(int64_t) 0] = pre_102245;\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t ltid_y_102353 = sext_i32_i64(sext_i64_i32(ltid_pre_105458));\n    int64_t ltid_x_102351 = sext_i32_i64(sext_i64_i32(ltid_pre_105459));\n    int32_t ltid_flat_102352 = local_tid_105454;\n    \n    if (slt64(ltid_y_102353, tile_sizze_102210) && slt64(ltid_x_102351,\n                                                         tile_sizze_102210)) {\n        color_105207[(int64_t) 0] = 0.0;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    double tmp_105475;\n    \n    tmp_105475 = color_105207[(int64_t) 0];\n    color_105206[(int64_t) 0] = tmp_105475;\n    \n    double ext_mem_104363[1];\n    double ext_mem_unused_105154[1];\n    double mem_param_104353[1];\n    double mem_param_out_105155[1];\n    \n    for (int32_t",
                   " i_1 = 0; i_1 < 1; i_1++)\n        mem_param_104353[i_1] = color_105206[i_1];\n    for (int32_t i_2 = 0; i_2 < 1; i_2++)\n        mem_param_out_105155[i_2] = color_105207[i_2];\n    for (int64_t tile_id_102360 = 0; tile_id_102360 < num_whole_tiles_102345;\n         tile_id_102360++) {\n        int64_t binop_x_102461 = tile_sizze_102210 * tile_id_102360;\n        int64_t ltid_y_102458 = sext_i32_i64(sext_i64_i32(ltid_pre_105458));\n        int64_t ltid_x_102456 = sext_i32_i64(sext_i64_i32(ltid_pre_105459));\n        int32_t ltid_flat_102457 = local_tid_105454;\n        int64_t j_102462 = ltid_x_102456 + binop_x_102461;\n        int64_t gtid_102464 = binop_x_102235 + ltid_y_102458;\n        bool binop_x_102472 = slt64(j_102462, q_92401);\n        bool binop_y_102473 = slt64(gtid_102464, m_92398);\n        bool cond_102474 = binop_x_102472 && binop_y_102473;\n        double pre2d_102475;\n        \n        if (cond_102474) {\n            double x_102476;\n            \n            x_102476 = ((__global double *) mem_104334)[gtid_102464 * q_92401 +\n                                                        j_102462];\n            pre2d_102475 = x_102476;\n        } else {\n            pre2d_102475 = 0.0;\n        }\n        ((__local double *) color_105208)[ltid_y_102458 * tile_sizze_102210 +\n                                          ltid_x_102456] = pre2d_102475;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t ltid_y_102481 = sext_i32_i64(sext_i64_i32(ltid_pre_105458));\n        int64_t ltid_x_102479 = sext_i32_i64(sext_i64_i32(ltid_pre_105459));\n        int32_t ltid_flat_102480 = local_tid_105454;\n        int64_t gtid_102483 = binop_x_102235 + ltid_y_102481;\n        int64_t gtid_102485 = binop_x_102237 + ltid_x_102479;\n        double acc_102491;\n        \n        acc_102491 = mem_param_104353[(int64_t) 0];\n        \n        bool binop_x_102495 = slt64(gtid_102483, m_92398);\n        bool binop_y_102496 = slt64(gtid_102485, n_m_92409);\n        bool cond_102497 = binop_x_102495 && binop",
                   "_y_102496;\n        double acc_102498;\n        \n        if (cond_102497) {\n            int64_t last_res_102486;\n            \n            last_res_102486 = color_105212[(int64_t) 0];\n            \n            int64_t min_res_102487;\n            \n            min_res_102487 = color_105211[(int64_t) 0];\n            \n            int64_t max_res_102488;\n            \n            max_res_102488 = color_105210[(int64_t) 0];\n            \n            double defunc_1_f_res_102489;\n            \n            defunc_1_f_res_102489 = color_105209[(int64_t) 0];\n            \n            double x_102499;\n            double redout_104243 = acc_102491;\n            \n            for (int64_t i_104244 = 0; i_104244 < tile_sizze_102210;\n                 i_104244++) {\n                int64_t index_primexp_104280 = add64(binop_x_102461, i_104244);\n                double x_102504;\n                \n                x_102504 = ((__local double *) color_105208)[ltid_y_102481 *\n                                                             tile_sizze_102210 +\n                                                             i_104244];\n                \n                bool cond_102505 = sle64(last_res_102486, index_primexp_104280);\n                int64_t defunc_0_f_res_102506;\n                \n                if (cond_102505) {\n                    defunc_0_f_res_102506 = (int64_t) 0;\n                } else {\n                    int64_t i_102507 = add64(max_res_102488,\n                                             index_primexp_104280);\n                    int64_t defunc_0_add_arg_102508;\n                    \n                    defunc_0_add_arg_102508 = ((__global\n                                                int64_t *) mem_104310)[gtid_102483 *\n                                                                       n_92399 +\n                                                                       i_102507];\n                    \n                    int64_t defunc_1_add_res_102509 = add64((int64_t) 1,\n         ",
                   "                                                   defunc_0_add_arg_102508);\n                    \n                    defunc_0_f_res_102506 = defunc_1_add_res_102509;\n                }\n                \n                int64_t binop_p_102510 = sub64(defunc_0_f_res_102506,\n                                               min_res_102487);\n                double defunc_0_f_res_102511 = sitofp_i64_f64(binop_p_102510);\n                double abs_res_102512 = fabs(defunc_0_f_res_102511);\n                double tmp1_102513 = abs_res_102512 / defunc_1_f_res_102489;\n                double x_102514 = tmp1_102513 * tmp1_102513;\n                double y_102515 = tmp1_102513 * x_102514;\n                double tmp2_102516 = 1.0 - y_102515;\n                double x_102517 = tmp2_102516 * tmp2_102516;\n                double tmp3_102518 = tmp2_102516 * x_102517;\n                double w_j_102519 = x_102504 * tmp3_102518;\n                double defunc_1_op_res_102502 = w_j_102519 + redout_104243;\n                double redout_tmp_105479 = defunc_1_op_res_102502;\n                \n                redout_104243 = redout_tmp_105479;\n            }\n            x_102499 = redout_104243;\n            acc_102498 = x_102499;\n        } else {\n            acc_102498 = acc_102491;\n        }\n        mem_param_out_105155[(int64_t) 0] = acc_102498;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        double mem_param_tmp_105476[1];\n        \n        for (int32_t i_3 = 0; i_3 < 1; i_3++)\n            mem_param_tmp_105476[i_3] = mem_param_out_105155[i_3];\n        \n        double mem_param_out_tmp_105477[1];\n        \n        for (int32_t i_4 = 0; i_4 < 1; i_4++)\n            mem_param_out_tmp_105477[i_4] = mem_param_104353[i_4];\n        for (int32_t i_5 = 0; i_5 < 1; i_5++)\n            mem_param_104353[i_5] = mem_param_tmp_105476[i_5];\n        for (int32_t i_6 = 0; i_6 < 1; i_6++)\n            mem_param_out_105155[i_6] = mem_param_out_tmp_105477[i_6];\n    }\n    for (int32_t i_7 = 0; i_7 < 1; i_7++)\n        e",
                   "xt_mem_104363[i_7] = mem_param_104353[i_7];\n    for (int32_t i_8 = 0; i_8 < 1; i_8++)\n        ext_mem_unused_105154[i_8] = mem_param_out_105155[i_8];\n    if (cond_102542) {\n        double tmp_105480;\n        \n        tmp_105480 = ext_mem_104363[(int64_t) 0];\n        color_105206[(int64_t) 0] = tmp_105480;\n    } else {\n        int64_t binop_x_102644 = tile_sizze_102210 * num_whole_tiles_102345;\n        int64_t ltid_y_102641 = sext_i32_i64(sext_i64_i32(ltid_pre_105458));\n        int64_t ltid_x_102639 = sext_i32_i64(sext_i64_i32(ltid_pre_105459));\n        int32_t ltid_flat_102640 = local_tid_105454;\n        int64_t j_102645 = ltid_x_102639 + binop_x_102644;\n        int64_t gtid_102647 = binop_x_102235 + ltid_y_102641;\n        bool binop_x_102655 = slt64(j_102645, q_92401);\n        bool binop_y_102656 = slt64(gtid_102647, m_92398);\n        bool cond_102657 = binop_x_102655 && binop_y_102656;\n        double pre2d_102658;\n        \n        if (cond_102657) {\n            double x_102659;\n            \n            x_102659 = ((__global double *) mem_104334)[gtid_102647 * q_92401 +\n                                                        j_102645];\n            pre2d_102658 = x_102659;\n        } else {\n            pre2d_102658 = 0.0;\n        }\n        ((__local double *) color_105208)[ltid_y_102641 * tile_sizze_102210 +\n                                          ltid_x_102639] = pre2d_102658;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t ltid_y_102665 = sext_i32_i64(sext_i64_i32(ltid_pre_105458));\n        int64_t ltid_x_102663 = sext_i32_i64(sext_i64_i32(ltid_pre_105459));\n        int32_t ltid_flat_102664 = local_tid_105454;\n        int64_t gtid_102667 = binop_x_102235 + ltid_y_102665;\n        int64_t gtid_102669 = binop_x_102237 + ltid_x_102663;\n        double acc_102675;\n        \n        acc_102675 = ext_mem_104363[(int64_t) 0];\n        \n        bool binop_x_102679 = slt64(gtid_102667, m_92398);\n        bool binop_y_102680 = slt64(gtid_102669, n_m_92409);\n     ",
                   "   bool cond_102681 = binop_x_102679 && binop_y_102680;\n        double acc_102682;\n        \n        if (cond_102681) {\n            int64_t last_res_102670;\n            \n            last_res_102670 = color_105212[(int64_t) 0];\n            \n            int64_t min_res_102671;\n            \n            min_res_102671 = color_105211[(int64_t) 0];\n            \n            int64_t max_res_102672;\n            \n            max_res_102672 = color_105210[(int64_t) 0];\n            \n            double defunc_1_f_res_102673;\n            \n            defunc_1_f_res_102673 = color_105209[(int64_t) 0];\n            \n            double x_102683;\n            double redout_104245 = acc_102675;\n            \n            for (int64_t i_104246 = 0; i_104246 < residual_input_102541;\n                 i_104246++) {\n                int64_t index_primexp_104278 = add64(binop_x_102644, i_104246);\n                double x_102688;\n                \n                x_102688 = ((__local double *) color_105208)[ltid_y_102665 *\n                                                             tile_sizze_102210 +\n                                                             i_104246];\n                \n                bool cond_102689 = sle64(last_res_102670, index_primexp_104278);\n                int64_t defunc_0_f_res_102690;\n                \n                if (cond_102689) {\n                    defunc_0_f_res_102690 = (int64_t) 0;\n                } else {\n                    int64_t i_102691 = add64(max_res_102672,\n                                             index_primexp_104278);\n                    int64_t defunc_0_add_arg_102692;\n                    \n                    defunc_0_add_arg_102692 = ((__global\n                                                int64_t *) mem_104310)[gtid_102667 *\n                                                                       n_92399 +\n                                                                       i_102691];\n                    \n                    int64_t defun",
                   "c_1_add_res_102693 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_102692);\n                    \n                    defunc_0_f_res_102690 = defunc_1_add_res_102693;\n                }\n                \n                int64_t binop_p_102694 = sub64(defunc_0_f_res_102690,\n                                               min_res_102671);\n                double defunc_0_f_res_102695 = sitofp_i64_f64(binop_p_102694);\n                double abs_res_102696 = fabs(defunc_0_f_res_102695);\n                double tmp1_102697 = abs_res_102696 / defunc_1_f_res_102673;\n                double x_102698 = tmp1_102697 * tmp1_102697;\n                double y_102699 = tmp1_102697 * x_102698;\n                double tmp2_102700 = 1.0 - y_102699;\n                double x_102701 = tmp2_102700 * tmp2_102700;\n                double tmp3_102702 = tmp2_102700 * x_102701;\n                double w_j_102703 = x_102688 * tmp3_102702;\n                double defunc_1_op_res_102686 = w_j_102703 + redout_104245;\n                double redout_tmp_105481 = defunc_1_op_res_102686;\n                \n                redout_104245 = redout_tmp_105481;\n            }\n            x_102683 = redout_104245;\n            acc_102682 = x_102683;\n        } else {\n            acc_102682 = acc_102675;\n        }\n        color_105207[(int64_t) 0] = acc_102682;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        double tmp_105482;\n        \n        tmp_105482 = color_105207[(int64_t) 0];\n        color_105206[(int64_t) 0] = tmp_105482;\n    }\n    \n    int64_t ltid_y_102717 = sext_i32_i64(sext_i64_i32(ltid_pre_105458));\n    int64_t ltid_x_102715 = sext_i32_i64(sext_i64_i32(ltid_pre_105459));\n    int32_t ltid_flat_102716 = local_tid_105454;\n    \n    if (slt64(ltid_y_102717, tile_sizze_102210) && slt64(ltid_x_102715,\n                                                         tile_sizze_102210)) {\n        int64_t gtid_102719 = binop_x_102235 + ltid_y_102717;\n        int64_t gtid_10",
                   "2721 = binop_x_102237 + ltid_x_102715;\n        bool binop_x_102723 = slt64(gtid_102719, m_92398);\n        bool binop_y_102724 = slt64(gtid_102721, n_m_92409);\n        bool cond_102725 = binop_x_102723 && binop_y_102724;\n        double postlude_102726;\n        \n        if (cond_102725) {\n            double defunc_2_reduce_res_102722;\n            \n            defunc_2_reduce_res_102722 = color_105206[(int64_t) 0];\n            \n            int64_t last_res_102727;\n            \n            last_res_102727 = color_105212[(int64_t) 0];\n            \n            int64_t min_res_102728;\n            \n            min_res_102728 = color_105211[(int64_t) 0];\n            \n            int64_t max_res_102729;\n            \n            max_res_102729 = color_105210[(int64_t) 0];\n            \n            double defunc_1_f_res_102730;\n            \n            defunc_1_f_res_102730 = color_105209[(int64_t) 0];\n            \n            double a0_102732 = 1.0 / defunc_2_reduce_res_102722;\n            double defunc_2_reduce_res_102733;\n            double redout_104247 = 0.0;\n            \n            for (int64_t i_104248 = 0; i_104248 < q_92401; i_104248++) {\n                double x_102738;\n                \n                x_102738 = ((__global double *) mem_104334)[gtid_102719 *\n                                                            q_92401 + i_104248];\n                \n                bool cond_102739 = sle64(last_res_102727, i_104248);\n                int64_t defunc_0_f_res_102740;\n                \n                if (cond_102739) {\n                    defunc_0_f_res_102740 = (int64_t) 0;\n                } else {\n                    int64_t i_102741 = add64(max_res_102729, i_104248);\n                    int64_t defunc_0_add_arg_102742;\n                    \n                    defunc_0_add_arg_102742 = ((__global\n                                                int64_t *) mem_104310)[gtid_102719 *\n                                                                       n_92399 +\n     ",
                   "                                                                  i_102741];\n                    \n                    int64_t defunc_1_add_res_102743 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_102742);\n                    \n                    defunc_0_f_res_102740 = defunc_1_add_res_102743;\n                }\n                \n                int64_t binop_p_102744 = sub64(defunc_0_f_res_102740,\n                                               min_res_102728);\n                double defunc_0_f_res_102745 = sitofp_i64_f64(binop_p_102744);\n                double abs_res_102746 = fabs(defunc_0_f_res_102745);\n                double tmp1_102747 = abs_res_102746 / defunc_1_f_res_102730;\n                double x_102748 = tmp1_102747 * tmp1_102747;\n                double y_102749 = tmp1_102747 * x_102748;\n                double tmp2_102750 = 1.0 - y_102749;\n                double x_102751 = tmp2_102750 * tmp2_102750;\n                double tmp3_102752 = tmp2_102750 * x_102751;\n                double tmp4_102753 = x_102738 * tmp3_102752;\n                double defunc_0_f_res_102754;\n                \n                if (cond_102739) {\n                    defunc_0_f_res_102754 = 0.0;\n                } else {\n                    int64_t i_102755 = add64(max_res_102729, i_104248);\n                    double defunc_0_add_arg_102756;\n                    \n                    defunc_0_add_arg_102756 = ((__global\n                                                double *) mem_104306)[gtid_102719 *\n                                                                      n_92399 +\n                                                                      i_102755];\n                    defunc_0_f_res_102754 = defunc_0_add_arg_102756;\n                }\n                \n                double x_102757 = a0_102732 * tmp4_102753;\n                double defunc_9_fit_fun_res_102758 = defunc_0_f_res_102754 *\n                       x_102757;\n            ",
                   "    double defunc_1_op_res_102736 = defunc_9_fit_fun_res_102758 +\n                       redout_104247;\n                double redout_tmp_105483 = defunc_1_op_res_102736;\n                \n                redout_104247 = redout_tmp_105483;\n            }\n            defunc_2_reduce_res_102733 = redout_104247;\n            postlude_102726 = defunc_2_reduce_res_102733;\n        } else {\n            postlude_102726 = 0.0;\n        }\n        color_105207[(int64_t) 0] = postlude_102726;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t thread_out_index_105484 = gid_x_102207 * tile_sizze_102210 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_105458));\n    int64_t thread_out_index_105485 = gid_y_102208 * tile_sizze_102210 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_105459));\n    \n    if (slt64(thread_out_index_105484, m_92398) &&\n        slt64(thread_out_index_105485, n_m_92409)) {\n        double tmp_105486;\n        \n        tmp_105486 = color_105207[(int64_t) 0];\n        ((__global double *) mem_104381)[thread_out_index_105484 * n_m_92409 +\n                                         thread_out_index_105485] = tmp_105486;\n    }\n    \n  error_7:\n    return;\n    #undef tile_sizze_102210\n}\n__kernel void mainzisegmap_intragroup_102769(__global int *global_failure,\n                                             int failure_is_an_option, __global\n                                             int64_t *global_failure_args,\n                                             __local volatile\n                                             int64_t *color_105224_backing_aligned_0,\n                                             int64_t m_92398, int64_t n_92399,\n                                             int64_t q_92401,\n                                             int64_t jump_92403,\n                                             int64_t n_m_92409, int64_t i_92415,\n                                             unsigned char x_92416_bits,\n                                             int64_t min_r",
                   "es_92421,\n                                             unsigned char loop_cond_92426_bits,\n                                             int64_t num_groups_x_102766,\n                                             int64_t num_groups_y_102767,\n                                             int64_t num_whole_tiles_102899,\n                                             int64_t residual_input_103147,\n                                             unsigned char cond_103148_bits,\n                                             __global unsigned char *mem_104386,\n                                             __global unsigned char *mem_104390,\n                                             __global unsigned char *mem_104394,\n                                             __global unsigned char *mem_104400,\n                                             __global unsigned char *mem_104404,\n                                             __global unsigned char *mem_104407,\n                                             __global unsigned char *mem_104410,\n                                             __global unsigned char *mem_104413,\n                                             __global unsigned char *mem_104418,\n                                             __global unsigned char *mem_104492,\n                                             __global unsigned char *mem_104496)\n{\n    bool x_92416 = x_92416_bits;\n    bool loop_cond_92426 = loop_cond_92426_bits;\n    bool cond_103148 = cond_103148_bits;\n    \n    #define tile_sizze_102764 (mainzitile_sizze_102763)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict color_105224_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) color_105224_backing_aligned_0;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n ",
                   "           return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_105591;\n    int32_t local_tid_105592;\n    int64_t group_sizze_105595;\n    int32_t wave_sizze_105594;\n    int32_t group_tid_105593;\n    \n    global_tid_105591 = get_global_id(0);\n    local_tid_105592 = get_local_id(0);\n    group_sizze_105595 = get_local_size(0);\n    wave_sizze_105594 = LOCKSTEP_WIDTH;\n    group_tid_105593 = get_group_id(0);\n    \n    int32_t gid_flat_102769 = group_tid_105593;\n    int64_t slice_105598 = tile_sizze_102764;\n    int64_t slice_105599 = tile_sizze_102764 * slice_105598;\n    int64_t ltid_pre_105596 = squot64(sext_i32_i64(local_tid_105592),\n                                      slice_105598);\n    int64_t remnant_105600 = sext_i32_i64(local_tid_105592) - ltid_pre_105596 *\n            slice_105598;\n    int64_t ltid_pre_105597 = remnant_105600;\n    int64_t remnant_105601 = remnant_105600 - ltid_pre_105597;\n    int64_t slice_105602 = num_groups_y_102767;\n    int64_t slice_105603 = num_groups_x_102766 * slice_105602;\n    int64_t gid_x_102761 = squot64(sext_i32_i64(group_tid_105593),\n                                   slice_105602);\n    int64_t remnant_105604 = sext_i32_i64(group_tid_105593) - gid_x_102761 *\n            slice_105602;\n    int64_t gid_y_102762 = remnant_105604;\n    int64_t remnant_105605 = remnant_105604 - gid_y_102762;\n    double color_105218[1];\n    double color_105219[1];\n    double color_105220[1];\n    double color_105221[1];\n    double color_105222[1];\n    double color_105223[1];\n    __local unsigned char *color_105224;\n    \n    color_105224 = (__local unsigned char *) color_105224_backing_0;\n    \n    double color_105225[1];\n    int64_t color_105226[1];\n    int64_t color_105227[1];\n    int64_t color_105228[1];\n    int64_t binop_x_102789 = gid_x_102761 * tile_sizze_102764;\n    int64_t binop_x_102791 = gid_y_102762 * tile_sizze_102764;\n    int64_t ltid_y_102788 = sext_i32_i64(sext_i64_i32(ltid_pre_105596));\n    int64_",
                   "t ltid_x_102786 = sext_i32_i64(sext_i64_i32(ltid_pre_105597));\n    int32_t ltid_flat_102787 = local_tid_105592;\n    \n    if (slt64(ltid_y_102788, tile_sizze_102764) && slt64(ltid_x_102786,\n                                                         tile_sizze_102764)) {\n        int64_t gtid_102790 = ltid_y_102788 + binop_x_102789;\n        int64_t gtid_102792 = ltid_x_102786 + binop_x_102791;\n        bool binop_x_102793 = slt64(gtid_102790, m_92398);\n        bool binop_y_102794 = slt64(gtid_102792, n_m_92409);\n        bool cond_102795 = binop_x_102793 && binop_y_102794;\n        int64_t pre_102796;\n        int64_t pre_102797;\n        int64_t pre_102798;\n        double pre_102799;\n        \n        if (cond_102795) {\n            int64_t last_res_102800;\n            \n            last_res_102800 = ((__global int64_t *) mem_104386)[gtid_102790 *\n                                                                n_92399 +\n                                                                i_92415];\n            \n            int64_t min_arg_102801;\n            \n            min_arg_102801 = ((__global int64_t *) mem_104404)[gtid_102790];\n            \n            int64_t min_arg_102802;\n            \n            min_arg_102802 = ((__global int64_t *) mem_104407)[gtid_102790];\n            \n            int64_t min_res_102803;\n            \n            min_res_102803 = ((__global int64_t *) mem_104410)[gtid_102790];\n            \n            double max_res_102804;\n            \n            max_res_102804 = ((__global double *) mem_104413)[gtid_102790];\n            \n            int64_t min_arg_102805 = mul64(jump_92403, gtid_102792);\n            int64_t min_res_102806 = smin64(i_92415, min_arg_102805);\n            int64_t defunc_0_g_res_102807 = add64((int64_t) 1, min_res_102806);\n            bool init_idx_102808;\n            int64_t init_idx_102809;\n            int64_t init_idx_102810;\n            bool loop_while_102811;\n            int64_t low_102812;\n            int64_t high_102813;\n         ",
                   "   \n            loop_while_102811 = x_92416;\n            low_102812 = (int64_t) 0;\n            high_102813 = i_92415;\n            while (loop_while_102811) {\n                int64_t x_102814 = add64(low_102812, high_102813);\n                int64_t mid_102815 = sdiv64(x_102814, (int64_t) 2);\n                bool x_102816 = sle64((int64_t) 0, mid_102815);\n                bool y_102817 = slt64(mid_102815, n_92399);\n                bool bounds_check_102818 = x_102816 && y_102817;\n                bool index_certs_102819;\n                \n                if (!bounds_check_102818) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 5) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) mid_102815;\n                            global_failure_args[1] = (int64_t) n_92399;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t mid_id_102820;\n                \n                mid_id_102820 = ((__global int64_t *) mem_104400)[gtid_102790 *\n                                                                  n_92399 +\n                                                                  mid_102815];\n                \n                bool cond_102821 = slt64(mid_id_102820, (int64_t) 0);\n                int64_t mid_idx_102822;\n                \n                if (cond_102821) {\n                    mid_idx_102822 = (int64_t) 9223372036854775807;\n                } else {\n                    mid_idx_102822 = mid_id_102820;\n                }\n                \n                bool cond_102823 = sle64(defunc_0_g_res_102807, mid_idx_102822);\n                int64_t loopres_102824;\n                int64_t loopres_102825;\n                \n                if (cond_102823) {\n                    int64_t loopres_t_res_102826 = sub64(mid_102815,\n    ",
                   "                                                     (int64_t) 1);\n                    \n                    loopres_102824 = low_102812;\n                    loopres_102825 = loopres_t_res_102826;\n                } else {\n                    int64_t loopres_f_res_102827 = add64((int64_t) 1,\n                                                         mid_102815);\n                    \n                    loopres_102824 = loopres_f_res_102827;\n                    loopres_102825 = high_102813;\n                }\n                \n                bool loop_cond_102828 = sle64(loopres_102824, loopres_102825);\n                bool loop_while_tmp_105606 = loop_cond_102828;\n                int64_t low_tmp_105607 = loopres_102824;\n                int64_t high_tmp_105608 = loopres_102825;\n                \n                loop_while_102811 = loop_while_tmp_105606;\n                low_102812 = low_tmp_105607;\n                high_102813 = high_tmp_105608;\n            }\n            init_idx_102808 = loop_while_102811;\n            init_idx_102809 = low_102812;\n            init_idx_102810 = high_102813;\n            \n            bool idx_102829;\n            int64_t idx_102830;\n            int64_t idx_102831;\n            int64_t idx_102832;\n            bool loop_while_102833;\n            int64_t l_idx_102834;\n            int64_t r_idx_102835;\n            int64_t span_102836;\n            \n            loop_while_102833 = loop_cond_92426;\n            l_idx_102834 = init_idx_102809;\n            r_idx_102835 = init_idx_102809;\n            span_102836 = (int64_t) 1;\n            while (loop_while_102833) {\n                int64_t max_arg_102837 = sub64(l_idx_102834, (int64_t) 1);\n                int64_t max_res_102838 = smax64((int64_t) 0, max_arg_102837);\n                int64_t min_arg_102839 = add64((int64_t) 1, r_idx_102835);\n                int64_t min_res_102840 = smin64(min_arg_102801, min_arg_102839);\n                bool x_102841 = sle64((int64_t) 0, max_res_102838);\n                bool",
                   " y_102842 = slt64(max_res_102838, n_92399);\n                bool bounds_check_102843 = x_102841 && y_102842;\n                bool index_certs_102844;\n                \n                if (!bounds_check_102843) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 6) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) max_res_102838;\n                            global_failure_args[1] = (int64_t) n_92399;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_102845;\n                \n                x_102845 = ((__global int64_t *) mem_104400)[gtid_102790 *\n                                                             n_92399 +\n                                                             max_res_102838];\n                \n                int64_t abs_arg_102846 = sub64(x_102845, defunc_0_g_res_102807);\n                int64_t abs_res_102847 = abs64(abs_arg_102846);\n                bool x_102848 = sle64((int64_t) 0, min_res_102840);\n                bool y_102849 = slt64(min_res_102840, n_92399);\n                bool bounds_check_102850 = x_102848 && y_102849;\n                bool index_certs_102851;\n                \n                if (!bounds_check_102850) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 7) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) min_res_102840;\n                            global_failure_args[1] = (int64_t) n_92399;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_102852;\n                \n                x_102852 = ((__glo",
                   "bal int64_t *) mem_104400)[gtid_102790 *\n                                                             n_92399 +\n                                                             min_res_102840];\n                \n                int64_t abs_arg_102853 = sub64(x_102852, defunc_0_g_res_102807);\n                int64_t abs_res_102854 = abs64(abs_arg_102853);\n                bool cond_102855 = max_res_102838 == l_idx_102834;\n                int64_t loopres_102856;\n                int64_t loopres_102857;\n                int64_t loopres_102858;\n                \n                if (cond_102855) {\n                    loopres_102856 = l_idx_102834;\n                    loopres_102857 = r_idx_102835;\n                    loopres_102858 = min_res_92421;\n                } else {\n                    bool cond_102859 = slt64(abs_res_102847, abs_res_102854);\n                    bool cond_f_res_102860 = min_res_102840 == r_idx_102835;\n                    bool x_102861 = !cond_102859;\n                    bool y_102862 = cond_f_res_102860 && x_102861;\n                    bool cond_102863 = cond_102859 || y_102862;\n                    int64_t loopres_f_res_102864;\n                    \n                    if (cond_102863) {\n                        loopres_f_res_102864 = max_res_102838;\n                    } else {\n                        loopres_f_res_102864 = l_idx_102834;\n                    }\n                    \n                    int64_t loopres_f_res_102865;\n                    \n                    if (cond_102863) {\n                        loopres_f_res_102865 = r_idx_102835;\n                    } else {\n                        loopres_f_res_102865 = min_res_102840;\n                    }\n                    \n                    int64_t loopres_f_res_102866;\n                    \n                    if (cond_102863) {\n                        int64_t loopres_f_res_t_res_102867 = add64((int64_t) 1,\n                                                                   span_102836);\n           ",
                   "             \n                        loopres_f_res_102866 = loopres_f_res_t_res_102867;\n                    } else {\n                        int64_t loopres_f_res_f_res_102868 = add64((int64_t) 1,\n                                                                   span_102836);\n                        \n                        loopres_f_res_102866 = loopres_f_res_f_res_102868;\n                    }\n                    loopres_102856 = loopres_f_res_102864;\n                    loopres_102857 = loopres_f_res_102865;\n                    loopres_102858 = loopres_f_res_102866;\n                }\n                \n                bool loop_cond_102869 = slt64(loopres_102858, min_res_92421);\n                bool loop_while_tmp_105609 = loop_cond_102869;\n                int64_t l_idx_tmp_105610 = loopres_102856;\n                int64_t r_idx_tmp_105611 = loopres_102857;\n                int64_t span_tmp_105612 = loopres_102858;\n                \n                loop_while_102833 = loop_while_tmp_105609;\n                l_idx_102834 = l_idx_tmp_105610;\n                r_idx_102835 = r_idx_tmp_105611;\n                span_102836 = span_tmp_105612;\n            }\n            idx_102829 = loop_while_102833;\n            idx_102830 = l_idx_102834;\n            idx_102831 = r_idx_102835;\n            idx_102832 = span_102836;\n            \n            int64_t min_res_102870 = smin64(min_arg_102802, idx_102830);\n            int64_t max_res_102871 = smax64((int64_t) 0, min_res_102870);\n            int64_t x_102872 = add64(min_res_102803, max_res_102871);\n            int64_t r_102873 = sub64(x_102872, (int64_t) 1);\n            bool x_102874 = sle64((int64_t) 0, r_102873);\n            bool y_102875 = slt64(r_102873, n_92399);\n            bool bounds_check_102876 = x_102874 && y_102875;\n            bool index_certs_102877;\n            \n            if (!bounds_check_102876) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 8) ==\n                        -1)",
                   " {\n                        global_failure_args[0] = (int64_t) r_102873;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    local_failure = true;\n                    goto error_0;\n                }\n            }\n            \n            int64_t x_102878;\n            \n            x_102878 = ((__global int64_t *) mem_104394)[gtid_102790 * n_92399 +\n                                                         r_102873];\n            \n            int64_t abs_arg_102879 = sub64(x_102878, min_res_102806);\n            int64_t abs_res_102880 = abs64(abs_arg_102879);\n            bool x_102881 = sle64((int64_t) 0, max_res_102871);\n            bool y_102882 = slt64(max_res_102871, n_92399);\n            bool bounds_check_102883 = x_102881 && y_102882;\n            bool index_certs_102884;\n            \n            if (!bounds_check_102883) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 9) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) max_res_102871;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    local_failure = true;\n                    goto error_0;\n                }\n            }\n            \n            int64_t x_102885;\n            \n            x_102885 = ((__global int64_t *) mem_104394)[gtid_102790 * n_92399 +\n                                                         max_res_102871];\n            \n            int64_t abs_arg_102886 = sub64(x_102885, min_res_102806);\n            int64_t abs_res_102887 = abs64(abs_arg_102886);\n            int64_t max_res_102888 = smax64(abs_res_102880, abs_res_102887);\n            double defunc_0_f_res_102889 = sitofp_i64_f64(max_res_102888);\n            double defunc_1_f_res_102890 = max_res_102804 +\n                   defunc_0_f_res_102889;\n            \n            pre_102796 = last_res_102",
                   "800;\n            pre_102797 = min_res_102806;\n            pre_102798 = max_res_102871;\n            pre_102799 = defunc_1_f_res_102890;\n        } else {\n            pre_102796 = (int64_t) 0;\n            pre_102797 = (int64_t) 0;\n            pre_102798 = (int64_t) 0;\n            pre_102799 = 0.0;\n        }\n        color_105228[(int64_t) 0] = pre_102796;\n        color_105227[(int64_t) 0] = pre_102797;\n        color_105226[(int64_t) 0] = pre_102798;\n        color_105225[(int64_t) 0] = pre_102799;\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t ltid_y_102907 = sext_i32_i64(sext_i64_i32(ltid_pre_105596));\n    int64_t ltid_x_102905 = sext_i32_i64(sext_i64_i32(ltid_pre_105597));\n    int32_t ltid_flat_102906 = local_tid_105592;\n    \n    if (slt64(ltid_y_102907, tile_sizze_102764) && slt64(ltid_x_102905,\n                                                         tile_sizze_102764)) {\n        color_105219[(int64_t) 0] = 0.0;\n        color_105218[(int64_t) 0] = 0.0;\n        color_105221[(int64_t) 0] = 0.0;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    double tmp_105613;\n    \n    tmp_105613 = color_105219[(int64_t) 0];\n    color_105220[(int64_t) 0] = tmp_105613;\n    \n    double tmp_105614;\n    \n    tmp_105614 = color_105218[(int64_t) 0];\n    color_105219[(int64_t) 0] = tmp_105614;\n    \n    double tmp_105615;\n    \n    tmp_105615 = color_105221[(int64_t) 0];\n    color_105218[(int64_t) 0] = tmp_105615;\n    \n    double ext_mem_104463[1];\n    double ext_mem_unused_105160[1];\n    double ext_mem_104462[1];\n    double ext_mem_unused_105165[1];\n    double ext_mem_104461[1];\n    double ext_mem_unused_105170[1];\n    double mem_param_104443[1];\n    double mem_param_104444[1];\n    double mem_param_104445[1];\n    double mem_param_out_105161[1];\n    double mem_param_out_105166[1];\n    double mem_param_out_105171[1];\n    \n    for (int32_t i_1 = 0; i_1 < 1; i_1++)\n        mem_param_104443[i_1] = co",
                   "lor_105220[i_1];\n    for (int32_t i_2 = 0; i_2 < 1; i_2++)\n        mem_param_out_105161[i_2] = color_105223[i_2];\n    for (int32_t i_3 = 0; i_3 < 1; i_3++)\n        mem_param_104444[i_3] = color_105219[i_3];\n    for (int32_t i_4 = 0; i_4 < 1; i_4++)\n        mem_param_out_105166[i_4] = color_105222[i_4];\n    for (int32_t i_5 = 0; i_5 < 1; i_5++)\n        mem_param_104445[i_5] = color_105218[i_5];\n    for (int32_t i_6 = 0; i_6 < 1; i_6++)\n        mem_param_out_105171[i_6] = color_105221[i_6];\n    for (int64_t tile_id_102918 = 0; tile_id_102918 < num_whole_tiles_102899;\n         tile_id_102918++) {\n        int64_t binop_x_103041 = tile_sizze_102764 * tile_id_102918;\n        int64_t ltid_y_103038 = sext_i32_i64(sext_i64_i32(ltid_pre_105596));\n        int64_t ltid_x_103036 = sext_i32_i64(sext_i64_i32(ltid_pre_105597));\n        int32_t ltid_flat_103037 = local_tid_105592;\n        int64_t j_103042 = ltid_x_103036 + binop_x_103041;\n        int64_t gtid_103044 = binop_x_102789 + ltid_y_103038;\n        bool binop_x_103052 = slt64(j_103042, q_92401);\n        bool binop_y_103053 = slt64(gtid_103044, m_92398);\n        bool cond_103054 = binop_x_103052 && binop_y_103053;\n        double pre2d_103055;\n        \n        if (cond_103054) {\n            double x_103056;\n            \n            x_103056 = ((__global double *) mem_104418)[gtid_103044 * q_92401 +\n                                                        j_103042];\n            pre2d_103055 = x_103056;\n        } else {\n            pre2d_103055 = 0.0;\n        }\n        ((__local double *) color_105224)[ltid_y_103038 * tile_sizze_102764 +\n                                          ltid_x_103036] = pre2d_103055;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t ltid_y_103063 = sext_i32_i64(sext_i64_i32(ltid_pre_105596));\n        int64_t ltid_x_103061 = sext_i32_i64(sext_i64_i32(ltid_pre_105597));\n        int32_t ltid_flat_103062 = local_tid_105592;\n        int64_t gtid_103065 = binop_x_102789 + ltid_y_103063;\n        i",
                   "nt64_t gtid_103067 = binop_x_102791 + ltid_x_103061;\n        double acc_103073;\n        \n        acc_103073 = mem_param_104443[(int64_t) 0];\n        \n        double acc_103074;\n        \n        acc_103074 = mem_param_104444[(int64_t) 0];\n        \n        double acc_103075;\n        \n        acc_103075 = mem_param_104445[(int64_t) 0];\n        \n        bool binop_x_103079 = slt64(gtid_103065, m_92398);\n        bool binop_y_103080 = slt64(gtid_103067, n_m_92409);\n        bool cond_103081 = binop_x_103079 && binop_y_103080;\n        double acc_103082;\n        double acc_103083;\n        double acc_103084;\n        \n        if (cond_103081) {\n            int64_t last_res_103068;\n            \n            last_res_103068 = color_105228[(int64_t) 0];\n            \n            int64_t min_res_103069;\n            \n            min_res_103069 = color_105227[(int64_t) 0];\n            \n            int64_t max_res_103070;\n            \n            max_res_103070 = color_105226[(int64_t) 0];\n            \n            double defunc_1_f_res_103071;\n            \n            defunc_1_f_res_103071 = color_105225[(int64_t) 0];\n            \n            double x_103085;\n            double x_103086;\n            double x_103087;\n            double redout_104249;\n            double redout_104250;\n            double redout_104251;\n            \n            redout_104249 = acc_103073;\n            redout_104250 = acc_103074;\n            redout_104251 = acc_103075;\n            for (int64_t i_104252 = 0; i_104252 < tile_sizze_102764;\n                 i_104252++) {\n                int64_t index_primexp_104286 = add64(binop_x_103041, i_104252);\n                double x_103098;\n                \n                x_103098 = ((__local double *) color_105224)[ltid_y_103063 *\n                                                             tile_sizze_102764 +\n                                                             i_104252];\n                \n                bool cond_103099 = sle64(last_res_103068, index_primexp_",
                   "104286);\n                int64_t defunc_0_f_res_103100;\n                \n                if (cond_103099) {\n                    defunc_0_f_res_103100 = (int64_t) 0;\n                } else {\n                    int64_t i_103101 = add64(max_res_103070,\n                                             index_primexp_104286);\n                    int64_t defunc_0_add_arg_103102;\n                    \n                    defunc_0_add_arg_103102 = ((__global\n                                                int64_t *) mem_104394)[gtid_103065 *\n                                                                       n_92399 +\n                                                                       i_103101];\n                    \n                    int64_t defunc_1_add_res_103103 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_103102);\n                    \n                    defunc_0_f_res_103100 = defunc_1_add_res_103103;\n                }\n                \n                int64_t binop_p_103104 = sub64(defunc_0_f_res_103100,\n                                               min_res_103069);\n                double defunc_0_f_res_103105 = sitofp_i64_f64(binop_p_103104);\n                double abs_res_103106 = fabs(defunc_0_f_res_103105);\n                double tmp1_103107 = abs_res_103106 / defunc_1_f_res_103071;\n                double x_103108 = tmp1_103107 * tmp1_103107;\n                double y_103109 = tmp1_103107 * x_103108;\n                double tmp2_103110 = 1.0 - y_103109;\n                double x_103111 = tmp2_103110 * tmp2_103110;\n                double tmp3_103112 = tmp2_103110 * x_103111;\n                double w_j_103113 = x_103098 * tmp3_103112;\n                double xw_j_103114 = defunc_0_f_res_103105 * w_j_103113;\n                double x2w_j_103115 = defunc_0_f_res_103105 * xw_j_103114;\n                double defunc_1_op_res_103094 = w_j_103113 + redout_104249;\n                double defunc_1_op_res_103095 = xw_j_103114 ",
                   "+ redout_104250;\n                double defunc_1_op_res_103096 = x2w_j_103115 + redout_104251;\n                double redout_tmp_105625 = defunc_1_op_res_103094;\n                double redout_tmp_105626 = defunc_1_op_res_103095;\n                double redout_tmp_105627 = defunc_1_op_res_103096;\n                \n                redout_104249 = redout_tmp_105625;\n                redout_104250 = redout_tmp_105626;\n                redout_104251 = redout_tmp_105627;\n            }\n            x_103085 = redout_104249;\n            x_103086 = redout_104250;\n            x_103087 = redout_104251;\n            acc_103082 = x_103085;\n            acc_103083 = x_103086;\n            acc_103084 = x_103087;\n        } else {\n            acc_103082 = acc_103073;\n            acc_103083 = acc_103074;\n            acc_103084 = acc_103075;\n        }\n        mem_param_out_105161[(int64_t) 0] = acc_103082;\n        mem_param_out_105166[(int64_t) 0] = acc_103083;\n        mem_param_out_105171[(int64_t) 0] = acc_103084;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        double mem_param_tmp_105616[1];\n        \n        for (int32_t i_7 = 0; i_7 < 1; i_7++)\n            mem_param_tmp_105616[i_7] = mem_param_out_105161[i_7];\n        \n        double mem_param_out_tmp_105617[1];\n        \n        for (int32_t i_8 = 0; i_8 < 1; i_8++)\n            mem_param_out_tmp_105617[i_8] = mem_param_104443[i_8];\n        \n        double mem_param_tmp_105618[1];\n        \n        for (int32_t i_9 = 0; i_9 < 1; i_9++)\n            mem_param_tmp_105618[i_9] = mem_param_out_105166[i_9];\n        \n        double mem_param_out_tmp_105619[1];\n        \n        for (int32_t i_10 = 0; i_10 < 1; i_10++)\n            mem_param_out_tmp_105619[i_10] = mem_param_104444[i_10];\n        \n        double mem_param_tmp_105620[1];\n        \n        for (int32_t i_11 = 0; i_11 < 1; i_11++)\n            mem_param_tmp_105620[i_11] = mem_param_out_105171[i_11];\n        \n        double mem_param_out_tmp_105621[1];\n        \n        for (int32_t i",
                   "_12 = 0; i_12 < 1; i_12++)\n            mem_param_out_tmp_105621[i_12] = mem_param_104445[i_12];\n        for (int32_t i_13 = 0; i_13 < 1; i_13++)\n            mem_param_104443[i_13] = mem_param_tmp_105616[i_13];\n        for (int32_t i_14 = 0; i_14 < 1; i_14++)\n            mem_param_out_105161[i_14] = mem_param_out_tmp_105617[i_14];\n        for (int32_t i_15 = 0; i_15 < 1; i_15++)\n            mem_param_104444[i_15] = mem_param_tmp_105618[i_15];\n        for (int32_t i_16 = 0; i_16 < 1; i_16++)\n            mem_param_out_105166[i_16] = mem_param_out_tmp_105619[i_16];\n        for (int32_t i_17 = 0; i_17 < 1; i_17++)\n            mem_param_104445[i_17] = mem_param_tmp_105620[i_17];\n        for (int32_t i_18 = 0; i_18 < 1; i_18++)\n            mem_param_out_105171[i_18] = mem_param_out_tmp_105621[i_18];\n    }\n    for (int32_t i_19 = 0; i_19 < 1; i_19++)\n        ext_mem_104463[i_19] = mem_param_104443[i_19];\n    for (int32_t i_20 = 0; i_20 < 1; i_20++)\n        ext_mem_unused_105160[i_20] = mem_param_out_105161[i_20];\n    for (int32_t i_21 = 0; i_21 < 1; i_21++)\n        ext_mem_104462[i_21] = mem_param_104444[i_21];\n    for (int32_t i_22 = 0; i_22 < 1; i_22++)\n        ext_mem_unused_105165[i_22] = mem_param_out_105166[i_22];\n    for (int32_t i_23 = 0; i_23 < 1; i_23++)\n        ext_mem_104461[i_23] = mem_param_104445[i_23];\n    for (int32_t i_24 = 0; i_24 < 1; i_24++)\n        ext_mem_unused_105170[i_24] = mem_param_out_105171[i_24];\n    if (cond_103148) {\n        double tmp_105628;\n        \n        tmp_105628 = ext_mem_104463[(int64_t) 0];\n        color_105218[(int64_t) 0] = tmp_105628;\n        \n        double tmp_105629;\n        \n        tmp_105629 = ext_mem_104462[(int64_t) 0];\n        color_105219[(int64_t) 0] = tmp_105629;\n        \n        double tmp_105630;\n        \n        tmp_105630 = ext_mem_104461[(int64_t) 0];\n        color_105220[(int64_t) 0] = tmp_105630;\n    } else {\n        int64_t binop_x_103272 = tile_sizze_102764 * num_whole_tiles_102899;\n        int64_t ltid_y_1",
                   "03269 = sext_i32_i64(sext_i64_i32(ltid_pre_105596));\n        int64_t ltid_x_103267 = sext_i32_i64(sext_i64_i32(ltid_pre_105597));\n        int32_t ltid_flat_103268 = local_tid_105592;\n        int64_t j_103273 = ltid_x_103267 + binop_x_103272;\n        int64_t gtid_103275 = binop_x_102789 + ltid_y_103269;\n        bool binop_x_103283 = slt64(j_103273, q_92401);\n        bool binop_y_103284 = slt64(gtid_103275, m_92398);\n        bool cond_103285 = binop_x_103283 && binop_y_103284;\n        double pre2d_103286;\n        \n        if (cond_103285) {\n            double x_103287;\n            \n            x_103287 = ((__global double *) mem_104418)[gtid_103275 * q_92401 +\n                                                        j_103273];\n            pre2d_103286 = x_103287;\n        } else {\n            pre2d_103286 = 0.0;\n        }\n        ((__local double *) color_105224)[ltid_y_103269 * tile_sizze_102764 +\n                                          ltid_x_103267] = pre2d_103286;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t ltid_y_103295 = sext_i32_i64(sext_i64_i32(ltid_pre_105596));\n        int64_t ltid_x_103293 = sext_i32_i64(sext_i64_i32(ltid_pre_105597));\n        int32_t ltid_flat_103294 = local_tid_105592;\n        int64_t gtid_103297 = binop_x_102789 + ltid_y_103295;\n        int64_t gtid_103299 = binop_x_102791 + ltid_x_103293;\n        double acc_103305;\n        \n        acc_103305 = ext_mem_104463[(int64_t) 0];\n        \n        double acc_103306;\n        \n        acc_103306 = ext_mem_104462[(int64_t) 0];\n        \n        double acc_103307;\n        \n        acc_103307 = ext_mem_104461[(int64_t) 0];\n        \n        bool binop_x_103311 = slt64(gtid_103297, m_92398);\n        bool binop_y_103312 = slt64(gtid_103299, n_m_92409);\n        bool cond_103313 = binop_x_103311 && binop_y_103312;\n        double acc_103314;\n        double acc_103315;\n        double acc_103316;\n        \n        if (cond_103313) {\n            int64_t last_res_103300;\n            \n        ",
                   "    last_res_103300 = color_105228[(int64_t) 0];\n            \n            int64_t min_res_103301;\n            \n            min_res_103301 = color_105227[(int64_t) 0];\n            \n            int64_t max_res_103302;\n            \n            max_res_103302 = color_105226[(int64_t) 0];\n            \n            double defunc_1_f_res_103303;\n            \n            defunc_1_f_res_103303 = color_105225[(int64_t) 0];\n            \n            double x_103317;\n            double x_103318;\n            double x_103319;\n            double redout_104253;\n            double redout_104254;\n            double redout_104255;\n            \n            redout_104253 = acc_103305;\n            redout_104254 = acc_103306;\n            redout_104255 = acc_103307;\n            for (int64_t i_104256 = 0; i_104256 < residual_input_103147;\n                 i_104256++) {\n                int64_t index_primexp_104284 = add64(binop_x_103272, i_104256);\n                double x_103330;\n                \n                x_103330 = ((__local double *) color_105224)[ltid_y_103295 *\n                                                             tile_sizze_102764 +\n                                                             i_104256];\n                \n                bool cond_103331 = sle64(last_res_103300, index_primexp_104284);\n                int64_t defunc_0_f_res_103332;\n                \n                if (cond_103331) {\n                    defunc_0_f_res_103332 = (int64_t) 0;\n                } else {\n                    int64_t i_103333 = add64(max_res_103302,\n                                             index_primexp_104284);\n                    int64_t defunc_0_add_arg_103334;\n                    \n                    defunc_0_add_arg_103334 = ((__global\n                                                int64_t *) mem_104394)[gtid_103297 *\n                                                                       n_92399 +\n                                                                       i_103333]",
                   ";\n                    \n                    int64_t defunc_1_add_res_103335 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_103334);\n                    \n                    defunc_0_f_res_103332 = defunc_1_add_res_103335;\n                }\n                \n                int64_t binop_p_103336 = sub64(defunc_0_f_res_103332,\n                                               min_res_103301);\n                double defunc_0_f_res_103337 = sitofp_i64_f64(binop_p_103336);\n                double abs_res_103338 = fabs(defunc_0_f_res_103337);\n                double tmp1_103339 = abs_res_103338 / defunc_1_f_res_103303;\n                double x_103340 = tmp1_103339 * tmp1_103339;\n                double y_103341 = tmp1_103339 * x_103340;\n                double tmp2_103342 = 1.0 - y_103341;\n                double x_103343 = tmp2_103342 * tmp2_103342;\n                double tmp3_103344 = tmp2_103342 * x_103343;\n                double w_j_103345 = x_103330 * tmp3_103344;\n                double xw_j_103346 = defunc_0_f_res_103337 * w_j_103345;\n                double x2w_j_103347 = defunc_0_f_res_103337 * xw_j_103346;\n                double defunc_1_op_res_103326 = w_j_103345 + redout_104253;\n                double defunc_1_op_res_103327 = xw_j_103346 + redout_104254;\n                double defunc_1_op_res_103328 = x2w_j_103347 + redout_104255;\n                double redout_tmp_105631 = defunc_1_op_res_103326;\n                double redout_tmp_105632 = defunc_1_op_res_103327;\n                double redout_tmp_105633 = defunc_1_op_res_103328;\n                \n                redout_104253 = redout_tmp_105631;\n                redout_104254 = redout_tmp_105632;\n                redout_104255 = redout_tmp_105633;\n            }\n            x_103317 = redout_104253;\n            x_103318 = redout_104254;\n            x_103319 = redout_104255;\n            acc_103314 = x_103317;\n            acc_103315 = x_103318;\n            acc_103316 = x_10331",
                   "9;\n        } else {\n            acc_103314 = acc_103305;\n            acc_103315 = acc_103306;\n            acc_103316 = acc_103307;\n        }\n        color_105223[(int64_t) 0] = acc_103314;\n        color_105222[(int64_t) 0] = acc_103315;\n        color_105221[(int64_t) 0] = acc_103316;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        double tmp_105634;\n        \n        tmp_105634 = color_105223[(int64_t) 0];\n        color_105218[(int64_t) 0] = tmp_105634;\n        \n        double tmp_105635;\n        \n        tmp_105635 = color_105222[(int64_t) 0];\n        color_105219[(int64_t) 0] = tmp_105635;\n        \n        double tmp_105636;\n        \n        tmp_105636 = color_105221[(int64_t) 0];\n        color_105220[(int64_t) 0] = tmp_105636;\n    }\n    \n    int64_t ltid_y_103365 = sext_i32_i64(sext_i64_i32(ltid_pre_105596));\n    int64_t ltid_x_103363 = sext_i32_i64(sext_i64_i32(ltid_pre_105597));\n    int32_t ltid_flat_103364 = local_tid_105592;\n    \n    if (slt64(ltid_y_103365, tile_sizze_102764) && slt64(ltid_x_103363,\n                                                         tile_sizze_102764)) {\n        int64_t gtid_103367 = binop_x_102789 + ltid_y_103365;\n        int64_t gtid_103369 = binop_x_102791 + ltid_x_103363;\n        bool binop_x_103373 = slt64(gtid_103367, m_92398);\n        bool binop_y_103374 = slt64(gtid_103369, n_m_92409);\n        bool cond_103375 = binop_x_103373 && binop_y_103374;\n        double postlude_103376;\n        double postlude_103377;\n        \n        if (cond_103375) {\n            double defunc_2_reduce_res_103370;\n            \n            defunc_2_reduce_res_103370 = color_105218[(int64_t) 0];\n            \n            double defunc_2_reduce_res_103371;\n            \n            defunc_2_reduce_res_103371 = color_105219[(int64_t) 0];\n            \n            double defunc_2_reduce_res_103372;\n            \n            defunc_2_reduce_res_103372 = color_105220[(int64_t) 0];\n            \n            int64_t last_res_103378;\n            \n            la",
                   "st_res_103378 = color_105228[(int64_t) 0];\n            \n            int64_t min_res_103379;\n            \n            min_res_103379 = color_105227[(int64_t) 0];\n            \n            int64_t max_res_103380;\n            \n            max_res_103380 = color_105226[(int64_t) 0];\n            \n            double defunc_1_f_res_103381;\n            \n            defunc_1_f_res_103381 = color_105225[(int64_t) 0];\n            \n            double x_103383 = defunc_2_reduce_res_103370 *\n                   defunc_2_reduce_res_103372;\n            double y_103384 = defunc_2_reduce_res_103371 *\n                   defunc_2_reduce_res_103371;\n            double y_103385 = x_103383 - y_103384;\n            double det1_103386 = 1.0 / y_103385;\n            double a11_103387 = defunc_2_reduce_res_103372 * det1_103386;\n            double x_103388 = 0.0 - defunc_2_reduce_res_103371;\n            double b11_103389 = det1_103386 * x_103388;\n            double c11_103390 = defunc_2_reduce_res_103370 * det1_103386;\n            double defunc_2_reduce_res_103391;\n            double defunc_2_reduce_res_103392;\n            double redout_104257;\n            double redout_104258;\n            \n            redout_104257 = 0.0;\n            redout_104258 = 0.0;\n            for (int64_t i_104259 = 0; i_104259 < q_92401; i_104259++) {\n                double x_103400;\n                \n                x_103400 = ((__global double *) mem_104418)[gtid_103367 *\n                                                            q_92401 + i_104259];\n                \n                bool cond_103401 = sle64(last_res_103378, i_104259);\n                int64_t defunc_0_f_res_103402;\n                \n                if (cond_103401) {\n                    defunc_0_f_res_103402 = (int64_t) 0;\n                } else {\n                    int64_t i_103403 = add64(max_res_103380, i_104259);\n                    int64_t defunc_0_add_arg_103404;\n                    \n                    defunc_0_add_arg_103404 = ((__global\n        ",
                   "                                        int64_t *) mem_104394)[gtid_103367 *\n                                                                       n_92399 +\n                                                                       i_103403];\n                    \n                    int64_t defunc_1_add_res_103405 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_103404);\n                    \n                    defunc_0_f_res_103402 = defunc_1_add_res_103405;\n                }\n                \n                int64_t binop_p_103406 = sub64(defunc_0_f_res_103402,\n                                               min_res_103379);\n                double defunc_0_f_res_103407 = sitofp_i64_f64(binop_p_103406);\n                double abs_res_103408 = fabs(defunc_0_f_res_103407);\n                double tmp1_103409 = abs_res_103408 / defunc_1_f_res_103381;\n                double x_103410 = tmp1_103409 * tmp1_103409;\n                double y_103411 = tmp1_103409 * x_103410;\n                double tmp2_103412 = 1.0 - y_103411;\n                double x_103413 = tmp2_103412 * tmp2_103412;\n                double tmp3_103414 = tmp2_103412 * x_103413;\n                double tmp4_103415 = x_103400 * tmp3_103414;\n                double defunc_1_f_res_103416 = defunc_0_f_res_103407 *\n                       tmp4_103415;\n                double defunc_0_f_res_103417;\n                \n                if (cond_103401) {\n                    defunc_0_f_res_103417 = 0.0;\n                } else {\n                    int64_t i_103418 = add64(max_res_103380, i_104259);\n                    double defunc_0_add_arg_103419;\n                    \n                    defunc_0_add_arg_103419 = ((__global\n                                                double *) mem_104390)[gtid_103367 *\n                                                                      n_92399 +\n                                                                      i_103418];\n               ",
                   "     defunc_0_f_res_103417 = defunc_0_add_arg_103419;\n                }\n                \n                double x_103420 = a11_103387 * tmp4_103415;\n                double y_103421 = b11_103389 * defunc_1_f_res_103416;\n                double x_103422 = x_103420 + y_103421;\n                double defunc_9_fit_fun_res_103423 = defunc_0_f_res_103417 *\n                       x_103422;\n                double x_103424 = b11_103389 * tmp4_103415;\n                double y_103425 = c11_103390 * defunc_1_f_res_103416;\n                double x_103426 = x_103424 + y_103425;\n                double defunc_9_slope_fun_res_103427 = defunc_0_f_res_103417 *\n                       x_103426;\n                double defunc_1_op_res_103395 = defunc_9_fit_fun_res_103423 +\n                       redout_104257;\n                double defunc_1_op_res_103398 = defunc_9_slope_fun_res_103427 +\n                       redout_104258;\n                double redout_tmp_105637 = defunc_1_op_res_103395;\n                double redout_tmp_105638 = defunc_1_op_res_103398;\n                \n                redout_104257 = redout_tmp_105637;\n                redout_104258 = redout_tmp_105638;\n            }\n            defunc_2_reduce_res_103391 = redout_104257;\n            defunc_2_reduce_res_103392 = redout_104258;\n            postlude_103376 = defunc_2_reduce_res_103391;\n            postlude_103377 = defunc_2_reduce_res_103392;\n        } else {\n            postlude_103376 = 0.0;\n            postlude_103377 = 0.0;\n        }\n        color_105222[(int64_t) 0] = postlude_103376;\n        color_105221[(int64_t) 0] = postlude_103377;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t thread_out_index_105639 = gid_x_102761 * tile_sizze_102764 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_105596));\n    int64_t thread_out_index_105640 = gid_y_102762 * tile_sizze_102764 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_105597));\n    \n    if (slt64(thread_out_index_105639, m_92398) &&\n        slt64(thread_out_i",
                   "ndex_105640, n_m_92409)) {\n        double tmp_105641;\n        \n        tmp_105641 = color_105222[(int64_t) 0];\n        ((__global double *) mem_104492)[thread_out_index_105639 * n_m_92409 +\n                                         thread_out_index_105640] = tmp_105641;\n    }\n    \n    int64_t thread_out_index_105642 = gid_x_102761 * tile_sizze_102764 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_105596));\n    int64_t thread_out_index_105643 = gid_y_102762 * tile_sizze_102764 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_105597));\n    \n    if (slt64(thread_out_index_105642, m_92398) &&\n        slt64(thread_out_index_105643, n_m_92409)) {\n        double tmp_105644;\n        \n        tmp_105644 = color_105221[(int64_t) 0];\n        ((__global double *) mem_104496)[thread_out_index_105642 * n_m_92409 +\n                                         thread_out_index_105643] = tmp_105644;\n    }\n    \n  error_7:\n    return;\n    #undef tile_sizze_102764\n}\n__kernel void mainzisegmap_intragroup_103440(__global int *global_failure,\n                                             int failure_is_an_option, __global\n                                             int64_t *global_failure_args,\n                                             __local volatile\n                                             int64_t *color_105248_backing_aligned_0,\n                                             int64_t m_92398, int64_t n_92399,\n                                             int64_t q_92401,\n                                             int64_t jump_92403,\n                                             int64_t n_m_92409, int64_t i_92415,\n                                             unsigned char x_92416_bits,\n                                             int64_t min_res_92421,\n                                             unsigned char loop_cond_92426_bits,\n                                             int64_t num_groups_x_103437,\n                                             int64_t num_groups_y_103438,\n       ",
                   "                                      int64_t num_whole_tiles_103570,\n                                             int64_t residual_input_103870,\n                                             unsigned char cond_103871_bits,\n                                             __global unsigned char *mem_104501,\n                                             __global unsigned char *mem_104505,\n                                             __global unsigned char *mem_104509,\n                                             __global unsigned char *mem_104515,\n                                             __global unsigned char *mem_104519,\n                                             __global unsigned char *mem_104522,\n                                             __global unsigned char *mem_104525,\n                                             __global unsigned char *mem_104528,\n                                             __global unsigned char *mem_104533,\n                                             __global unsigned char *mem_104631,\n                                             __global unsigned char *mem_104635)\n{\n    bool x_92416 = x_92416_bits;\n    bool loop_cond_92426 = loop_cond_92426_bits;\n    bool cond_103871 = cond_103871_bits;\n    \n    #define tile_sizze_103435 (mainzitile_sizze_103434)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict color_105248_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) color_105248_backing_aligned_0;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_105749;\n    int32_t local_tid_105750;\n    int64_t group_sizze_105753;\n    int32_t wave_sizze_105752;\n    int32_t group_tid_105751;\n ",
                   "   \n    global_tid_105749 = get_global_id(0);\n    local_tid_105750 = get_local_id(0);\n    group_sizze_105753 = get_local_size(0);\n    wave_sizze_105752 = LOCKSTEP_WIDTH;\n    group_tid_105751 = get_group_id(0);\n    \n    int32_t gid_flat_103440 = group_tid_105751;\n    int64_t slice_105756 = tile_sizze_103435;\n    int64_t slice_105757 = tile_sizze_103435 * slice_105756;\n    int64_t ltid_pre_105754 = squot64(sext_i32_i64(local_tid_105750),\n                                      slice_105756);\n    int64_t remnant_105758 = sext_i32_i64(local_tid_105750) - ltid_pre_105754 *\n            slice_105756;\n    int64_t ltid_pre_105755 = remnant_105758;\n    int64_t remnant_105759 = remnant_105758 - ltid_pre_105755;\n    int64_t slice_105760 = num_groups_y_103438;\n    int64_t slice_105761 = num_groups_x_103437 * slice_105760;\n    int64_t gid_x_103432 = squot64(sext_i32_i64(group_tid_105751),\n                                   slice_105760);\n    int64_t remnant_105762 = sext_i32_i64(group_tid_105751) - gid_x_103432 *\n            slice_105760;\n    int64_t gid_y_103433 = remnant_105762;\n    int64_t remnant_105763 = remnant_105762 - gid_y_103433;\n    double color_105238[1];\n    double color_105239[1];\n    double color_105240[1];\n    double color_105241[1];\n    double color_105242[1];\n    double color_105243[1];\n    double color_105244[1];\n    double color_105245[1];\n    double color_105246[1];\n    double color_105247[1];\n    __local unsigned char *color_105248;\n    \n    color_105248 = (__local unsigned char *) color_105248_backing_0;\n    \n    double color_105249[1];\n    int64_t color_105250[1];\n    int64_t color_105251[1];\n    int64_t color_105252[1];\n    int64_t binop_x_103460 = gid_x_103432 * tile_sizze_103435;\n    int64_t binop_x_103462 = gid_y_103433 * tile_sizze_103435;\n    int64_t ltid_y_103459 = sext_i32_i64(sext_i64_i32(ltid_pre_105754));\n    int64_t ltid_x_103457 = sext_i32_i64(sext_i64_i32(ltid_pre_105755));\n    int32_t ltid_flat_103458 = local_tid_105750;\n    \n    if (slt64(lti",
                   "d_y_103459, tile_sizze_103435) && slt64(ltid_x_103457,\n                                                         tile_sizze_103435)) {\n        int64_t gtid_103461 = ltid_y_103459 + binop_x_103460;\n        int64_t gtid_103463 = ltid_x_103457 + binop_x_103462;\n        bool binop_x_103464 = slt64(gtid_103461, m_92398);\n        bool binop_y_103465 = slt64(gtid_103463, n_m_92409);\n        bool cond_103466 = binop_x_103464 && binop_y_103465;\n        int64_t pre_103467;\n        int64_t pre_103468;\n        int64_t pre_103469;\n        double pre_103470;\n        \n        if (cond_103466) {\n            int64_t last_res_103471;\n            \n            last_res_103471 = ((__global int64_t *) mem_104501)[gtid_103461 *\n                                                                n_92399 +\n                                                                i_92415];\n            \n            int64_t min_arg_103472;\n            \n            min_arg_103472 = ((__global int64_t *) mem_104519)[gtid_103461];\n            \n            int64_t min_arg_103473;\n            \n            min_arg_103473 = ((__global int64_t *) mem_104522)[gtid_103461];\n            \n            int64_t min_res_103474;\n            \n            min_res_103474 = ((__global int64_t *) mem_104525)[gtid_103461];\n            \n            double max_res_103475;\n            \n            max_res_103475 = ((__global double *) mem_104528)[gtid_103461];\n            \n            int64_t min_arg_103476 = mul64(jump_92403, gtid_103463);\n            int64_t min_res_103477 = smin64(i_92415, min_arg_103476);\n            int64_t defunc_0_g_res_103478 = add64((int64_t) 1, min_res_103477);\n            bool init_idx_103479;\n            int64_t init_idx_103480;\n            int64_t init_idx_103481;\n            bool loop_while_103482;\n            int64_t low_103483;\n            int64_t high_103484;\n            \n            loop_while_103482 = x_92416;\n            low_103483 = (int64_t) 0;\n            high_103484 = i_92415;\n            whil",
                   "e (loop_while_103482) {\n                int64_t x_103485 = add64(low_103483, high_103484);\n                int64_t mid_103486 = sdiv64(x_103485, (int64_t) 2);\n                bool x_103487 = sle64((int64_t) 0, mid_103486);\n                bool y_103488 = slt64(mid_103486, n_92399);\n                bool bounds_check_103489 = x_103487 && y_103488;\n                bool index_certs_103490;\n                \n                if (!bounds_check_103489) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 10) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) mid_103486;\n                            global_failure_args[1] = (int64_t) n_92399;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t mid_id_103491;\n                \n                mid_id_103491 = ((__global int64_t *) mem_104515)[gtid_103461 *\n                                                                  n_92399 +\n                                                                  mid_103486];\n                \n                bool cond_103492 = slt64(mid_id_103491, (int64_t) 0);\n                int64_t mid_idx_103493;\n                \n                if (cond_103492) {\n                    mid_idx_103493 = (int64_t) 9223372036854775807;\n                } else {\n                    mid_idx_103493 = mid_id_103491;\n                }\n                \n                bool cond_103494 = sle64(defunc_0_g_res_103478, mid_idx_103493);\n                int64_t loopres_103495;\n                int64_t loopres_103496;\n                \n                if (cond_103494) {\n                    int64_t loopres_t_res_103497 = sub64(mid_103486,\n                                                         (int64_t) 1);\n                    \n                    loopres_103495 = low_1034",
                   "83;\n                    loopres_103496 = loopres_t_res_103497;\n                } else {\n                    int64_t loopres_f_res_103498 = add64((int64_t) 1,\n                                                         mid_103486);\n                    \n                    loopres_103495 = loopres_f_res_103498;\n                    loopres_103496 = high_103484;\n                }\n                \n                bool loop_cond_103499 = sle64(loopres_103495, loopres_103496);\n                bool loop_while_tmp_105764 = loop_cond_103499;\n                int64_t low_tmp_105765 = loopres_103495;\n                int64_t high_tmp_105766 = loopres_103496;\n                \n                loop_while_103482 = loop_while_tmp_105764;\n                low_103483 = low_tmp_105765;\n                high_103484 = high_tmp_105766;\n            }\n            init_idx_103479 = loop_while_103482;\n            init_idx_103480 = low_103483;\n            init_idx_103481 = high_103484;\n            \n            bool idx_103500;\n            int64_t idx_103501;\n            int64_t idx_103502;\n            int64_t idx_103503;\n            bool loop_while_103504;\n            int64_t l_idx_103505;\n            int64_t r_idx_103506;\n            int64_t span_103507;\n            \n            loop_while_103504 = loop_cond_92426;\n            l_idx_103505 = init_idx_103480;\n            r_idx_103506 = init_idx_103480;\n            span_103507 = (int64_t) 1;\n            while (loop_while_103504) {\n                int64_t max_arg_103508 = sub64(l_idx_103505, (int64_t) 1);\n                int64_t max_res_103509 = smax64((int64_t) 0, max_arg_103508);\n                int64_t min_arg_103510 = add64((int64_t) 1, r_idx_103506);\n                int64_t min_res_103511 = smin64(min_arg_103472, min_arg_103510);\n                bool x_103512 = sle64((int64_t) 0, max_res_103509);\n                bool y_103513 = slt64(max_res_103509, n_92399);\n                bool bounds_check_103514 = x_103512 && y_103513;\n                bool ind",
                   "ex_certs_103515;\n                \n                if (!bounds_check_103514) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 11) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) max_res_103509;\n                            global_failure_args[1] = (int64_t) n_92399;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_103516;\n                \n                x_103516 = ((__global int64_t *) mem_104515)[gtid_103461 *\n                                                             n_92399 +\n                                                             max_res_103509];\n                \n                int64_t abs_arg_103517 = sub64(x_103516, defunc_0_g_res_103478);\n                int64_t abs_res_103518 = abs64(abs_arg_103517);\n                bool x_103519 = sle64((int64_t) 0, min_res_103511);\n                bool y_103520 = slt64(min_res_103511, n_92399);\n                bool bounds_check_103521 = x_103519 && y_103520;\n                bool index_certs_103522;\n                \n                if (!bounds_check_103521) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 12) ==\n                            -1) {\n                            global_failure_args[0] = (int64_t) min_res_103511;\n                            global_failure_args[1] = (int64_t) n_92399;\n                            ;\n                        }\n                        local_failure = true;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t x_103523;\n                \n                x_103523 = ((__global int64_t *) mem_104515)[gtid_103461 *\n                                                             n_92399 +\n                   ",
                   "                                          min_res_103511];\n                \n                int64_t abs_arg_103524 = sub64(x_103523, defunc_0_g_res_103478);\n                int64_t abs_res_103525 = abs64(abs_arg_103524);\n                bool cond_103526 = max_res_103509 == l_idx_103505;\n                int64_t loopres_103527;\n                int64_t loopres_103528;\n                int64_t loopres_103529;\n                \n                if (cond_103526) {\n                    loopres_103527 = l_idx_103505;\n                    loopres_103528 = r_idx_103506;\n                    loopres_103529 = min_res_92421;\n                } else {\n                    bool cond_103530 = slt64(abs_res_103518, abs_res_103525);\n                    bool cond_f_res_103531 = min_res_103511 == r_idx_103506;\n                    bool x_103532 = !cond_103530;\n                    bool y_103533 = cond_f_res_103531 && x_103532;\n                    bool cond_103534 = cond_103530 || y_103533;\n                    int64_t loopres_f_res_103535;\n                    \n                    if (cond_103534) {\n                        loopres_f_res_103535 = max_res_103509;\n                    } else {\n                        loopres_f_res_103535 = l_idx_103505;\n                    }\n                    \n                    int64_t loopres_f_res_103536;\n                    \n                    if (cond_103534) {\n                        loopres_f_res_103536 = r_idx_103506;\n                    } else {\n                        loopres_f_res_103536 = min_res_103511;\n                    }\n                    \n                    int64_t loopres_f_res_103537;\n                    \n                    if (cond_103534) {\n                        int64_t loopres_f_res_t_res_103538 = add64((int64_t) 1,\n                                                                   span_103507);\n                        \n                        loopres_f_res_103537 = loopres_f_res_t_res_103538;\n                    } else {\n             ",
                   "           int64_t loopres_f_res_f_res_103539 = add64((int64_t) 1,\n                                                                   span_103507);\n                        \n                        loopres_f_res_103537 = loopres_f_res_f_res_103539;\n                    }\n                    loopres_103527 = loopres_f_res_103535;\n                    loopres_103528 = loopres_f_res_103536;\n                    loopres_103529 = loopres_f_res_103537;\n                }\n                \n                bool loop_cond_103540 = slt64(loopres_103529, min_res_92421);\n                bool loop_while_tmp_105767 = loop_cond_103540;\n                int64_t l_idx_tmp_105768 = loopres_103527;\n                int64_t r_idx_tmp_105769 = loopres_103528;\n                int64_t span_tmp_105770 = loopres_103529;\n                \n                loop_while_103504 = loop_while_tmp_105767;\n                l_idx_103505 = l_idx_tmp_105768;\n                r_idx_103506 = r_idx_tmp_105769;\n                span_103507 = span_tmp_105770;\n            }\n            idx_103500 = loop_while_103504;\n            idx_103501 = l_idx_103505;\n            idx_103502 = r_idx_103506;\n            idx_103503 = span_103507;\n            \n            int64_t min_res_103541 = smin64(min_arg_103473, idx_103501);\n            int64_t max_res_103542 = smax64((int64_t) 0, min_res_103541);\n            int64_t x_103543 = add64(min_res_103474, max_res_103542);\n            int64_t r_103544 = sub64(x_103543, (int64_t) 1);\n            bool x_103545 = sle64((int64_t) 0, r_103544);\n            bool y_103546 = slt64(r_103544, n_92399);\n            bool bounds_check_103547 = x_103545 && y_103546;\n            bool index_certs_103548;\n            \n            if (!bounds_check_103547) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 13) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) r_103544;\n                        global_failure_args[1] = (int64_t)",
                   " n_92399;\n                        ;\n                    }\n                    local_failure = true;\n                    goto error_0;\n                }\n            }\n            \n            int64_t x_103549;\n            \n            x_103549 = ((__global int64_t *) mem_104509)[gtid_103461 * n_92399 +\n                                                         r_103544];\n            \n            int64_t abs_arg_103550 = sub64(x_103549, min_res_103477);\n            int64_t abs_res_103551 = abs64(abs_arg_103550);\n            bool x_103552 = sle64((int64_t) 0, max_res_103542);\n            bool y_103553 = slt64(max_res_103542, n_92399);\n            bool bounds_check_103554 = x_103552 && y_103553;\n            bool index_certs_103555;\n            \n            if (!bounds_check_103554) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 14) ==\n                        -1) {\n                        global_failure_args[0] = (int64_t) max_res_103542;\n                        global_failure_args[1] = (int64_t) n_92399;\n                        ;\n                    }\n                    local_failure = true;\n                    goto error_0;\n                }\n            }\n            \n            int64_t x_103556;\n            \n            x_103556 = ((__global int64_t *) mem_104509)[gtid_103461 * n_92399 +\n                                                         max_res_103542];\n            \n            int64_t abs_arg_103557 = sub64(x_103556, min_res_103477);\n            int64_t abs_res_103558 = abs64(abs_arg_103557);\n            int64_t max_res_103559 = smax64(abs_res_103551, abs_res_103558);\n            double defunc_0_f_res_103560 = sitofp_i64_f64(max_res_103559);\n            double defunc_1_f_res_103561 = max_res_103475 +\n                   defunc_0_f_res_103560;\n            \n            pre_103467 = last_res_103471;\n            pre_103468 = min_res_103477;\n            pre_103469 = max_res_103542;\n            pre_103470 = defunc_1_f_res_10",
                   "3561;\n        } else {\n            pre_103467 = (int64_t) 0;\n            pre_103468 = (int64_t) 0;\n            pre_103469 = (int64_t) 0;\n            pre_103470 = 0.0;\n        }\n        color_105252[(int64_t) 0] = pre_103467;\n        color_105251[(int64_t) 0] = pre_103468;\n        color_105250[(int64_t) 0] = pre_103469;\n        color_105249[(int64_t) 0] = pre_103470;\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t ltid_y_103578 = sext_i32_i64(sext_i64_i32(ltid_pre_105754));\n    int64_t ltid_x_103576 = sext_i32_i64(sext_i64_i32(ltid_pre_105755));\n    int32_t ltid_flat_103577 = local_tid_105750;\n    \n    if (slt64(ltid_y_103578, tile_sizze_103435) && slt64(ltid_x_103576,\n                                                         tile_sizze_103435)) {\n        color_105241[(int64_t) 0] = 0.0;\n        color_105240[(int64_t) 0] = 0.0;\n        color_105239[(int64_t) 0] = 0.0;\n        color_105238[(int64_t) 0] = 0.0;\n        color_105243[(int64_t) 0] = 0.0;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    double tmp_105771;\n    \n    tmp_105771 = color_105241[(int64_t) 0];\n    color_105242[(int64_t) 0] = tmp_105771;\n    \n    double tmp_105772;\n    \n    tmp_105772 = color_105240[(int64_t) 0];\n    color_105241[(int64_t) 0] = tmp_105772;\n    \n    double tmp_105773;\n    \n    tmp_105773 = color_105239[(int64_t) 0];\n    color_105240[(int64_t) 0] = tmp_105773;\n    \n    double tmp_105774;\n    \n    tmp_105774 = color_105238[(int64_t) 0];\n    color_105239[(int64_t) 0] = tmp_105774;\n    \n    double tmp_105775;\n    \n    tmp_105775 = color_105243[(int64_t) 0];\n    color_105238[(int64_t) 0] = tmp_105775;\n    \n    double ext_mem_104594[1];\n    double ext_mem_unused_105178[1];\n    double ext_mem_104593[1];\n    double ext_mem_unused_105183[1];\n    double ext_mem_104592[1];\n    double ext_mem_unused_105188[1];\n    double ext_mem_104591[1];\n    double ext_mem_unused_105193[1];\n    double ext_mem_1045",
                   "90[1];\n    double ext_mem_unused_105198[1];\n    double mem_param_104564[1];\n    double mem_param_104565[1];\n    double mem_param_104566[1];\n    double mem_param_104567[1];\n    double mem_param_104568[1];\n    double mem_param_out_105179[1];\n    double mem_param_out_105184[1];\n    double mem_param_out_105189[1];\n    double mem_param_out_105194[1];\n    double mem_param_out_105199[1];\n    \n    for (int32_t i_1 = 0; i_1 < 1; i_1++)\n        mem_param_104564[i_1] = color_105242[i_1];\n    for (int32_t i_2 = 0; i_2 < 1; i_2++)\n        mem_param_out_105179[i_2] = color_105247[i_2];\n    for (int32_t i_3 = 0; i_3 < 1; i_3++)\n        mem_param_104565[i_3] = color_105241[i_3];\n    for (int32_t i_4 = 0; i_4 < 1; i_4++)\n        mem_param_out_105184[i_4] = color_105246[i_4];\n    for (int32_t i_5 = 0; i_5 < 1; i_5++)\n        mem_param_104566[i_5] = color_105240[i_5];\n    for (int32_t i_6 = 0; i_6 < 1; i_6++)\n        mem_param_out_105189[i_6] = color_105245[i_6];\n    for (int32_t i_7 = 0; i_7 < 1; i_7++)\n        mem_param_104567[i_7] = color_105239[i_7];\n    for (int32_t i_8 = 0; i_8 < 1; i_8++)\n        mem_param_out_105194[i_8] = color_105244[i_8];\n    for (int32_t i_9 = 0; i_9 < 1; i_9++)\n        mem_param_104568[i_9] = color_105238[i_9];\n    for (int32_t i_10 = 0; i_10 < 1; i_10++)\n        mem_param_out_105199[i_10] = color_105243[i_10];\n    for (int64_t tile_id_103593 = 0; tile_id_103593 < num_whole_tiles_103570;\n         tile_id_103593++) {\n        int64_t binop_x_103738 = tile_sizze_103435 * tile_id_103593;\n        int64_t ltid_y_103735 = sext_i32_i64(sext_i64_i32(ltid_pre_105754));\n        int64_t ltid_x_103733 = sext_i32_i64(sext_i64_i32(ltid_pre_105755));\n        int32_t ltid_flat_103734 = local_tid_105750;\n        int64_t j_103739 = ltid_x_103733 + binop_x_103738;\n        int64_t gtid_103741 = binop_x_103460 + ltid_y_103735;\n        bool binop_x_103749 = slt64(j_103739, q_92401);\n        bool binop_y_103750 = slt64(gtid_103741, m_92398);\n        bool cond_103751 = binop_x_10",
                   "3749 && binop_y_103750;\n        double pre2d_103752;\n        \n        if (cond_103751) {\n            double x_103753;\n            \n            x_103753 = ((__global double *) mem_104533)[gtid_103741 * q_92401 +\n                                                        j_103739];\n            pre2d_103752 = x_103753;\n        } else {\n            pre2d_103752 = 0.0;\n        }\n        ((__local double *) color_105248)[ltid_y_103735 * tile_sizze_103435 +\n                                          ltid_x_103733] = pre2d_103752;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t ltid_y_103762 = sext_i32_i64(sext_i64_i32(ltid_pre_105754));\n        int64_t ltid_x_103760 = sext_i32_i64(sext_i64_i32(ltid_pre_105755));\n        int32_t ltid_flat_103761 = local_tid_105750;\n        int64_t gtid_103764 = binop_x_103460 + ltid_y_103762;\n        int64_t gtid_103766 = binop_x_103462 + ltid_x_103760;\n        double acc_103772;\n        \n        acc_103772 = mem_param_104564[(int64_t) 0];\n        \n        double acc_103773;\n        \n        acc_103773 = mem_param_104565[(int64_t) 0];\n        \n        double acc_103774;\n        \n        acc_103774 = mem_param_104566[(int64_t) 0];\n        \n        double acc_103775;\n        \n        acc_103775 = mem_param_104567[(int64_t) 0];\n        \n        double acc_103776;\n        \n        acc_103776 = mem_param_104568[(int64_t) 0];\n        \n        bool binop_x_103780 = slt64(gtid_103764, m_92398);\n        bool binop_y_103781 = slt64(gtid_103766, n_m_92409);\n        bool cond_103782 = binop_x_103780 && binop_y_103781;\n        double acc_103783;\n        double acc_103784;\n        double acc_103785;\n        double acc_103786;\n        double acc_103787;\n        \n        if (cond_103782) {\n            int64_t last_res_103767;\n            \n            last_res_103767 = color_105252[(int64_t) 0];\n            \n            int64_t min_res_103768;\n            \n            min_res_103768 = color_105251[(int64_t) 0];\n            \n            int64_t ma",
                   "x_res_103769;\n            \n            max_res_103769 = color_105250[(int64_t) 0];\n            \n            double defunc_1_f_res_103770;\n            \n            defunc_1_f_res_103770 = color_105249[(int64_t) 0];\n            \n            double x_103788;\n            double x_103789;\n            double x_103790;\n            double x_103791;\n            double x_103792;\n            double redout_104260;\n            double redout_104261;\n            double redout_104262;\n            double redout_104263;\n            double redout_104264;\n            \n            redout_104260 = acc_103772;\n            redout_104261 = acc_103773;\n            redout_104262 = acc_103774;\n            redout_104263 = acc_103775;\n            redout_104264 = acc_103776;\n            for (int64_t i_104265 = 0; i_104265 < tile_sizze_103435;\n                 i_104265++) {\n                int64_t index_primexp_104292 = add64(binop_x_103738, i_104265);\n                double x_103809;\n                \n                x_103809 = ((__local double *) color_105248)[ltid_y_103762 *\n                                                             tile_sizze_103435 +\n                                                             i_104265];\n                \n                bool cond_103810 = sle64(last_res_103767, index_primexp_104292);\n                int64_t defunc_0_f_res_103811;\n                \n                if (cond_103810) {\n                    defunc_0_f_res_103811 = (int64_t) 0;\n                } else {\n                    int64_t i_103812 = add64(max_res_103769,\n                                             index_primexp_104292);\n                    int64_t defunc_0_add_arg_103813;\n                    \n                    defunc_0_add_arg_103813 = ((__global\n                                                int64_t *) mem_104509)[gtid_103764 *\n                                                                       n_92399 +\n                                                                       i_103812]",
                   ";\n                    \n                    int64_t defunc_1_add_res_103814 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_103813);\n                    \n                    defunc_0_f_res_103811 = defunc_1_add_res_103814;\n                }\n                \n                int64_t binop_p_103815 = sub64(defunc_0_f_res_103811,\n                                               min_res_103768);\n                double defunc_0_f_res_103816 = sitofp_i64_f64(binop_p_103815);\n                double abs_res_103817 = fabs(defunc_0_f_res_103816);\n                double tmp1_103818 = abs_res_103817 / defunc_1_f_res_103770;\n                double x_103819 = tmp1_103818 * tmp1_103818;\n                double y_103820 = tmp1_103818 * x_103819;\n                double tmp2_103821 = 1.0 - y_103820;\n                double x_103822 = tmp2_103821 * tmp2_103821;\n                double tmp3_103823 = tmp2_103821 * x_103822;\n                double w_j_103824 = x_103809 * tmp3_103823;\n                double xw_j_103825 = defunc_0_f_res_103816 * w_j_103824;\n                double x2w_j_103826 = defunc_0_f_res_103816 * xw_j_103825;\n                double x3w_j_103827 = defunc_0_f_res_103816 * x2w_j_103826;\n                double x4w_j_103828 = defunc_0_f_res_103816 * x3w_j_103827;\n                double defunc_1_op_res_103803 = w_j_103824 + redout_104260;\n                double defunc_1_op_res_103804 = xw_j_103825 + redout_104261;\n                double defunc_1_op_res_103805 = x2w_j_103826 + redout_104262;\n                double defunc_1_op_res_103806 = x3w_j_103827 + redout_104263;\n                double defunc_1_op_res_103807 = x4w_j_103828 + redout_104264;\n                double redout_tmp_105791 = defunc_1_op_res_103803;\n                double redout_tmp_105792 = defunc_1_op_res_103804;\n                double redout_tmp_105793 = defunc_1_op_res_103805;\n                double redout_tmp_105794 = defunc_1_op_res_103806;\n                double re",
                   "dout_tmp_105795 = defunc_1_op_res_103807;\n                \n                redout_104260 = redout_tmp_105791;\n                redout_104261 = redout_tmp_105792;\n                redout_104262 = redout_tmp_105793;\n                redout_104263 = redout_tmp_105794;\n                redout_104264 = redout_tmp_105795;\n            }\n            x_103788 = redout_104260;\n            x_103789 = redout_104261;\n            x_103790 = redout_104262;\n            x_103791 = redout_104263;\n            x_103792 = redout_104264;\n            acc_103783 = x_103788;\n            acc_103784 = x_103789;\n            acc_103785 = x_103790;\n            acc_103786 = x_103791;\n            acc_103787 = x_103792;\n        } else {\n            acc_103783 = acc_103772;\n            acc_103784 = acc_103773;\n            acc_103785 = acc_103774;\n            acc_103786 = acc_103775;\n            acc_103787 = acc_103776;\n        }\n        mem_param_out_105179[(int64_t) 0] = acc_103783;\n        mem_param_out_105184[(int64_t) 0] = acc_103784;\n        mem_param_out_105189[(int64_t) 0] = acc_103785;\n        mem_param_out_105194[(int64_t) 0] = acc_103786;\n        mem_param_out_105199[(int64_t) 0] = acc_103787;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        double mem_param_tmp_105776[1];\n        \n        for (int32_t i_11 = 0; i_11 < 1; i_11++)\n            mem_param_tmp_105776[i_11] = mem_param_out_105179[i_11];\n        \n        double mem_param_out_tmp_105777[1];\n        \n        for (int32_t i_12 = 0; i_12 < 1; i_12++)\n            mem_param_out_tmp_105777[i_12] = mem_param_104564[i_12];\n        \n        double mem_param_tmp_105778[1];\n        \n        for (int32_t i_13 = 0; i_13 < 1; i_13++)\n            mem_param_tmp_105778[i_13] = mem_param_out_105184[i_13];\n        \n        double mem_param_out_tmp_105779[1];\n        \n        for (int32_t i_14 = 0; i_14 < 1; i_14++)\n            mem_param_out_tmp_105779[i_14] = mem_param_104565[i_14];\n        \n        double mem_param_tmp_105780[1];\n        \n       ",
                   " for (int32_t i_15 = 0; i_15 < 1; i_15++)\n            mem_param_tmp_105780[i_15] = mem_param_out_105189[i_15];\n        \n        double mem_param_out_tmp_105781[1];\n        \n        for (int32_t i_16 = 0; i_16 < 1; i_16++)\n            mem_param_out_tmp_105781[i_16] = mem_param_104566[i_16];\n        \n        double mem_param_tmp_105782[1];\n        \n        for (int32_t i_17 = 0; i_17 < 1; i_17++)\n            mem_param_tmp_105782[i_17] = mem_param_out_105194[i_17];\n        \n        double mem_param_out_tmp_105783[1];\n        \n        for (int32_t i_18 = 0; i_18 < 1; i_18++)\n            mem_param_out_tmp_105783[i_18] = mem_param_104567[i_18];\n        \n        double mem_param_tmp_105784[1];\n        \n        for (int32_t i_19 = 0; i_19 < 1; i_19++)\n            mem_param_tmp_105784[i_19] = mem_param_out_105199[i_19];\n        \n        double mem_param_out_tmp_105785[1];\n        \n        for (int32_t i_20 = 0; i_20 < 1; i_20++)\n            mem_param_out_tmp_105785[i_20] = mem_param_104568[i_20];\n        for (int32_t i_21 = 0; i_21 < 1; i_21++)\n            mem_param_104564[i_21] = mem_param_tmp_105776[i_21];\n        for (int32_t i_22 = 0; i_22 < 1; i_22++)\n            mem_param_out_105179[i_22] = mem_param_out_tmp_105777[i_22];\n        for (int32_t i_23 = 0; i_23 < 1; i_23++)\n            mem_param_104565[i_23] = mem_param_tmp_105778[i_23];\n        for (int32_t i_24 = 0; i_24 < 1; i_24++)\n            mem_param_out_105184[i_24] = mem_param_out_tmp_105779[i_24];\n        for (int32_t i_25 = 0; i_25 < 1; i_25++)\n            mem_param_104566[i_25] = mem_param_tmp_105780[i_25];\n        for (int32_t i_26 = 0; i_26 < 1; i_26++)\n            mem_param_out_105189[i_26] = mem_param_out_tmp_105781[i_26];\n        for (int32_t i_27 = 0; i_27 < 1; i_27++)\n            mem_param_104567[i_27] = mem_param_tmp_105782[i_27];\n        for (int32_t i_28 = 0; i_28 < 1; i_28++)\n            mem_param_out_105194[i_28] = mem_param_out_tmp_105783[i_28];\n        for (int32_t i_29 = 0; i_29 < 1; i_29++)\n    ",
                   "        mem_param_104568[i_29] = mem_param_tmp_105784[i_29];\n        for (int32_t i_30 = 0; i_30 < 1; i_30++)\n            mem_param_out_105199[i_30] = mem_param_out_tmp_105785[i_30];\n    }\n    for (int32_t i_31 = 0; i_31 < 1; i_31++)\n        ext_mem_104594[i_31] = mem_param_104564[i_31];\n    for (int32_t i_32 = 0; i_32 < 1; i_32++)\n        ext_mem_unused_105178[i_32] = mem_param_out_105179[i_32];\n    for (int32_t i_33 = 0; i_33 < 1; i_33++)\n        ext_mem_104593[i_33] = mem_param_104565[i_33];\n    for (int32_t i_34 = 0; i_34 < 1; i_34++)\n        ext_mem_unused_105183[i_34] = mem_param_out_105184[i_34];\n    for (int32_t i_35 = 0; i_35 < 1; i_35++)\n        ext_mem_104592[i_35] = mem_param_104566[i_35];\n    for (int32_t i_36 = 0; i_36 < 1; i_36++)\n        ext_mem_unused_105188[i_36] = mem_param_out_105189[i_36];\n    for (int32_t i_37 = 0; i_37 < 1; i_37++)\n        ext_mem_104591[i_37] = mem_param_104567[i_37];\n    for (int32_t i_38 = 0; i_38 < 1; i_38++)\n        ext_mem_unused_105193[i_38] = mem_param_out_105194[i_38];\n    for (int32_t i_39 = 0; i_39 < 1; i_39++)\n        ext_mem_104590[i_39] = mem_param_104568[i_39];\n    for (int32_t i_40 = 0; i_40 < 1; i_40++)\n        ext_mem_unused_105198[i_40] = mem_param_out_105199[i_40];\n    if (cond_103871) {\n        double tmp_105796;\n        \n        tmp_105796 = ext_mem_104594[(int64_t) 0];\n        color_105238[(int64_t) 0] = tmp_105796;\n        \n        double tmp_105797;\n        \n        tmp_105797 = ext_mem_104593[(int64_t) 0];\n        color_105239[(int64_t) 0] = tmp_105797;\n        \n        double tmp_105798;\n        \n        tmp_105798 = ext_mem_104592[(int64_t) 0];\n        color_105240[(int64_t) 0] = tmp_105798;\n        \n        double tmp_105799;\n        \n        tmp_105799 = ext_mem_104591[(int64_t) 0];\n        color_105241[(int64_t) 0] = tmp_105799;\n        \n        double tmp_105800;\n        \n        tmp_105800 = ext_mem_104590[(int64_t) 0];\n        color_105242[(int64_t) 0] = tmp_105800;\n    } else {\n        int64_",
                   "t binop_x_104017 = tile_sizze_103435 * num_whole_tiles_103570;\n        int64_t ltid_y_104014 = sext_i32_i64(sext_i64_i32(ltid_pre_105754));\n        int64_t ltid_x_104012 = sext_i32_i64(sext_i64_i32(ltid_pre_105755));\n        int32_t ltid_flat_104013 = local_tid_105750;\n        int64_t j_104018 = ltid_x_104012 + binop_x_104017;\n        int64_t gtid_104020 = binop_x_103460 + ltid_y_104014;\n        bool binop_x_104028 = slt64(j_104018, q_92401);\n        bool binop_y_104029 = slt64(gtid_104020, m_92398);\n        bool cond_104030 = binop_x_104028 && binop_y_104029;\n        double pre2d_104031;\n        \n        if (cond_104030) {\n            double x_104032;\n            \n            x_104032 = ((__global double *) mem_104533)[gtid_104020 * q_92401 +\n                                                        j_104018];\n            pre2d_104031 = x_104032;\n        } else {\n            pre2d_104031 = 0.0;\n        }\n        ((__local double *) color_105248)[ltid_y_104014 * tile_sizze_103435 +\n                                          ltid_x_104012] = pre2d_104031;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t ltid_y_104042 = sext_i32_i64(sext_i64_i32(ltid_pre_105754));\n        int64_t ltid_x_104040 = sext_i32_i64(sext_i64_i32(ltid_pre_105755));\n        int32_t ltid_flat_104041 = local_tid_105750;\n        int64_t gtid_104044 = binop_x_103460 + ltid_y_104042;\n        int64_t gtid_104046 = binop_x_103462 + ltid_x_104040;\n        double acc_104052;\n        \n        acc_104052 = ext_mem_104594[(int64_t) 0];\n        \n        double acc_104053;\n        \n        acc_104053 = ext_mem_104593[(int64_t) 0];\n        \n        double acc_104054;\n        \n        acc_104054 = ext_mem_104592[(int64_t) 0];\n        \n        double acc_104055;\n        \n        acc_104055 = ext_mem_104591[(int64_t) 0];\n        \n        double acc_104056;\n        \n        acc_104056 = ext_mem_104590[(int64_t) 0];\n        \n        bool binop_x_104060 = slt64(gtid_104044, m_92398);\n        bool binop_y",
                   "_104061 = slt64(gtid_104046, n_m_92409);\n        bool cond_104062 = binop_x_104060 && binop_y_104061;\n        double acc_104063;\n        double acc_104064;\n        double acc_104065;\n        double acc_104066;\n        double acc_104067;\n        \n        if (cond_104062) {\n            int64_t last_res_104047;\n            \n            last_res_104047 = color_105252[(int64_t) 0];\n            \n            int64_t min_res_104048;\n            \n            min_res_104048 = color_105251[(int64_t) 0];\n            \n            int64_t max_res_104049;\n            \n            max_res_104049 = color_105250[(int64_t) 0];\n            \n            double defunc_1_f_res_104050;\n            \n            defunc_1_f_res_104050 = color_105249[(int64_t) 0];\n            \n            double x_104068;\n            double x_104069;\n            double x_104070;\n            double x_104071;\n            double x_104072;\n            double redout_104266;\n            double redout_104267;\n            double redout_104268;\n            double redout_104269;\n            double redout_104270;\n            \n            redout_104266 = acc_104052;\n            redout_104267 = acc_104053;\n            redout_104268 = acc_104054;\n            redout_104269 = acc_104055;\n            redout_104270 = acc_104056;\n            for (int64_t i_104271 = 0; i_104271 < residual_input_103870;\n                 i_104271++) {\n                int64_t index_primexp_104290 = add64(binop_x_104017, i_104271);\n                double x_104089;\n                \n                x_104089 = ((__local double *) color_105248)[ltid_y_104042 *\n                                                             tile_sizze_103435 +\n                                                             i_104271];\n                \n                bool cond_104090 = sle64(last_res_104047, index_primexp_104290);\n                int64_t defunc_0_f_res_104091;\n                \n                if (cond_104090) {\n                    defunc_0_f_res_104091 = (int64_",
                   "t) 0;\n                } else {\n                    int64_t i_104092 = add64(max_res_104049,\n                                             index_primexp_104290);\n                    int64_t defunc_0_add_arg_104093;\n                    \n                    defunc_0_add_arg_104093 = ((__global\n                                                int64_t *) mem_104509)[gtid_104044 *\n                                                                       n_92399 +\n                                                                       i_104092];\n                    \n                    int64_t defunc_1_add_res_104094 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_104093);\n                    \n                    defunc_0_f_res_104091 = defunc_1_add_res_104094;\n                }\n                \n                int64_t binop_p_104095 = sub64(defunc_0_f_res_104091,\n                                               min_res_104048);\n                double defunc_0_f_res_104096 = sitofp_i64_f64(binop_p_104095);\n                double abs_res_104097 = fabs(defunc_0_f_res_104096);\n                double tmp1_104098 = abs_res_104097 / defunc_1_f_res_104050;\n                double x_104099 = tmp1_104098 * tmp1_104098;\n                double y_104100 = tmp1_104098 * x_104099;\n                double tmp2_104101 = 1.0 - y_104100;\n                double x_104102 = tmp2_104101 * tmp2_104101;\n                double tmp3_104103 = tmp2_104101 * x_104102;\n                double w_j_104104 = x_104089 * tmp3_104103;\n                double xw_j_104105 = defunc_0_f_res_104096 * w_j_104104;\n                double x2w_j_104106 = defunc_0_f_res_104096 * xw_j_104105;\n                double x3w_j_104107 = defunc_0_f_res_104096 * x2w_j_104106;\n                double x4w_j_104108 = defunc_0_f_res_104096 * x3w_j_104107;\n                double defunc_1_op_res_104083 = w_j_104104 + redout_104266;\n                double defunc_1_op_res_104084 = xw_j_104105 + redou",
                   "t_104267;\n                double defunc_1_op_res_104085 = x2w_j_104106 + redout_104268;\n                double defunc_1_op_res_104086 = x3w_j_104107 + redout_104269;\n                double defunc_1_op_res_104087 = x4w_j_104108 + redout_104270;\n                double redout_tmp_105801 = defunc_1_op_res_104083;\n                double redout_tmp_105802 = defunc_1_op_res_104084;\n                double redout_tmp_105803 = defunc_1_op_res_104085;\n                double redout_tmp_105804 = defunc_1_op_res_104086;\n                double redout_tmp_105805 = defunc_1_op_res_104087;\n                \n                redout_104266 = redout_tmp_105801;\n                redout_104267 = redout_tmp_105802;\n                redout_104268 = redout_tmp_105803;\n                redout_104269 = redout_tmp_105804;\n                redout_104270 = redout_tmp_105805;\n            }\n            x_104068 = redout_104266;\n            x_104069 = redout_104267;\n            x_104070 = redout_104268;\n            x_104071 = redout_104269;\n            x_104072 = redout_104270;\n            acc_104063 = x_104068;\n            acc_104064 = x_104069;\n            acc_104065 = x_104070;\n            acc_104066 = x_104071;\n            acc_104067 = x_104072;\n        } else {\n            acc_104063 = acc_104052;\n            acc_104064 = acc_104053;\n            acc_104065 = acc_104054;\n            acc_104066 = acc_104055;\n            acc_104067 = acc_104056;\n        }\n        color_105247[(int64_t) 0] = acc_104063;\n        color_105246[(int64_t) 0] = acc_104064;\n        color_105245[(int64_t) 0] = acc_104065;\n        color_105244[(int64_t) 0] = acc_104066;\n        color_105243[(int64_t) 0] = acc_104067;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        double tmp_105806;\n        \n        tmp_105806 = color_105247[(int64_t) 0];\n        color_105238[(int64_t) 0] = tmp_105806;\n        \n        double tmp_105807;\n        \n        tmp_105807 = color_105246[(int64_t) 0];\n        color_105239[(int64_t) 0] = tmp_105807",
                   ";\n        \n        double tmp_105808;\n        \n        tmp_105808 = color_105245[(int64_t) 0];\n        color_105240[(int64_t) 0] = tmp_105808;\n        \n        double tmp_105809;\n        \n        tmp_105809 = color_105244[(int64_t) 0];\n        color_105241[(int64_t) 0] = tmp_105809;\n        \n        double tmp_105810;\n        \n        tmp_105810 = color_105243[(int64_t) 0];\n        color_105242[(int64_t) 0] = tmp_105810;\n    }\n    \n    int64_t ltid_y_104128 = sext_i32_i64(sext_i64_i32(ltid_pre_105754));\n    int64_t ltid_x_104126 = sext_i32_i64(sext_i64_i32(ltid_pre_105755));\n    int32_t ltid_flat_104127 = local_tid_105750;\n    \n    if (slt64(ltid_y_104128, tile_sizze_103435) && slt64(ltid_x_104126,\n                                                         tile_sizze_103435)) {\n        int64_t gtid_104130 = binop_x_103460 + ltid_y_104128;\n        int64_t gtid_104132 = binop_x_103462 + ltid_x_104126;\n        bool binop_x_104138 = slt64(gtid_104130, m_92398);\n        bool binop_y_104139 = slt64(gtid_104132, n_m_92409);\n        bool cond_104140 = binop_x_104138 && binop_y_104139;\n        double postlude_104141;\n        double postlude_104142;\n        \n        if (cond_104140) {\n            double defunc_2_reduce_res_104133;\n            \n            defunc_2_reduce_res_104133 = color_105238[(int64_t) 0];\n            \n            double defunc_2_reduce_res_104134;\n            \n            defunc_2_reduce_res_104134 = color_105239[(int64_t) 0];\n            \n            double defunc_2_reduce_res_104135;\n            \n            defunc_2_reduce_res_104135 = color_105240[(int64_t) 0];\n            \n            double defunc_2_reduce_res_104136;\n            \n            defunc_2_reduce_res_104136 = color_105241[(int64_t) 0];\n            \n            double defunc_2_reduce_res_104137;\n            \n            defunc_2_reduce_res_104137 = color_105242[(int64_t) 0];\n            \n            int64_t last_res_104143;\n            \n            last_res_104143 = color_105252[(int64_t) ",
                   "0];\n            \n            int64_t min_res_104144;\n            \n            min_res_104144 = color_105251[(int64_t) 0];\n            \n            int64_t max_res_104145;\n            \n            max_res_104145 = color_105250[(int64_t) 0];\n            \n            double defunc_1_f_res_104146;\n            \n            defunc_1_f_res_104146 = color_105249[(int64_t) 0];\n            \n            double x_104148 = defunc_2_reduce_res_104135 *\n                   defunc_2_reduce_res_104137;\n            double y_104149 = defunc_2_reduce_res_104136 *\n                   defunc_2_reduce_res_104136;\n            double a12_104150 = x_104148 - y_104149;\n            double x_104151 = defunc_2_reduce_res_104135 *\n                   defunc_2_reduce_res_104136;\n            double y_104152 = defunc_2_reduce_res_104134 *\n                   defunc_2_reduce_res_104137;\n            double b12_104153 = x_104151 - y_104152;\n            double x_104154 = defunc_2_reduce_res_104134 *\n                   defunc_2_reduce_res_104136;\n            double y_104155 = defunc_2_reduce_res_104135 *\n                   defunc_2_reduce_res_104135;\n            double c12_104156 = x_104154 - y_104155;\n            double x_104157 = defunc_2_reduce_res_104133 *\n                   defunc_2_reduce_res_104137;\n            double b2_104158 = x_104157 - y_104155;\n            double x_104159 = defunc_2_reduce_res_104134 *\n                   defunc_2_reduce_res_104135;\n            double y_104160 = defunc_2_reduce_res_104133 *\n                   defunc_2_reduce_res_104136;\n            double c2_104161 = x_104159 - y_104160;\n            double x_104162 = defunc_2_reduce_res_104133 * a12_104150;\n            double y_104163 = defunc_2_reduce_res_104134 * b12_104153;\n            double x_104164 = x_104162 + y_104163;\n            double y_104165 = defunc_2_reduce_res_104135 * c12_104156;\n            double y_104166 = x_104164 + y_104165;\n            double det_104167 = 1.0 / y_104166;\n            double a12_104168 = a12_",
                   "104150 * det_104167;\n            double b12_104169 = b12_104153 * det_104167;\n            double c12_104170 = c12_104156 * det_104167;\n            double b2_104171 = b2_104158 * det_104167;\n            double c2_104172 = c2_104161 * det_104167;\n            double defunc_2_reduce_res_104173;\n            double defunc_2_reduce_res_104174;\n            double redout_104272;\n            double redout_104273;\n            \n            redout_104272 = 0.0;\n            redout_104273 = 0.0;\n            for (int64_t i_104274 = 0; i_104274 < q_92401; i_104274++) {\n                double x_104182;\n                \n                x_104182 = ((__global double *) mem_104533)[gtid_104130 *\n                                                            q_92401 + i_104274];\n                \n                bool cond_104183 = sle64(last_res_104143, i_104274);\n                int64_t defunc_0_f_res_104184;\n                \n                if (cond_104183) {\n                    defunc_0_f_res_104184 = (int64_t) 0;\n                } else {\n                    int64_t i_104185 = add64(max_res_104145, i_104274);\n                    int64_t defunc_0_add_arg_104186;\n                    \n                    defunc_0_add_arg_104186 = ((__global\n                                                int64_t *) mem_104509)[gtid_104130 *\n                                                                       n_92399 +\n                                                                       i_104185];\n                    \n                    int64_t defunc_1_add_res_104187 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_104186);\n                    \n                    defunc_0_f_res_104184 = defunc_1_add_res_104187;\n                }\n                \n                int64_t binop_p_104188 = sub64(defunc_0_f_res_104184,\n                                               min_res_104144);\n                double defunc_0_f_res_104189 = sitofp_i64_f64(binop_p_104188);\n",
                   "                double abs_res_104190 = fabs(defunc_0_f_res_104189);\n                double tmp1_104191 = abs_res_104190 / defunc_1_f_res_104146;\n                double x_104192 = tmp1_104191 * tmp1_104191;\n                double y_104193 = tmp1_104191 * x_104192;\n                double tmp2_104194 = 1.0 - y_104193;\n                double x_104195 = tmp2_104194 * tmp2_104194;\n                double tmp3_104196 = tmp2_104194 * x_104195;\n                double tmp4_104197 = x_104182 * tmp3_104196;\n                double defunc_1_f_res_104198 = defunc_0_f_res_104189 *\n                       tmp4_104197;\n                double defunc_1_f_res_104199 = defunc_0_f_res_104189 *\n                       defunc_1_f_res_104198;\n                double defunc_0_f_res_104200;\n                \n                if (cond_104183) {\n                    defunc_0_f_res_104200 = 0.0;\n                } else {\n                    int64_t i_104201 = add64(max_res_104145, i_104274);\n                    double defunc_0_add_arg_104202;\n                    \n                    defunc_0_add_arg_104202 = ((__global\n                                                double *) mem_104505)[gtid_104130 *\n                                                                      n_92399 +\n                                                                      i_104201];\n                    defunc_0_f_res_104200 = defunc_0_add_arg_104202;\n                }\n                \n                double x_104203 = a12_104168 * tmp4_104197;\n                double y_104204 = b12_104169 * defunc_1_f_res_104198;\n                double x_104205 = x_104203 + y_104204;\n                double y_104206 = c12_104170 * defunc_1_f_res_104199;\n                double x_104207 = x_104205 + y_104206;\n                double defunc_9_fit_fun_res_104208 = defunc_0_f_res_104200 *\n                       x_104207;\n                double x_104209 = b12_104169 * tmp4_104197;\n                double y_104210 = b2_104171 * defunc_1_f_res_104198;\n   ",
                   "             double x_104211 = x_104209 + y_104210;\n                double y_104212 = c2_104172 * defunc_1_f_res_104199;\n                double x_104213 = x_104211 + y_104212;\n                double defunc_9_slope_fun_res_104214 = defunc_0_f_res_104200 *\n                       x_104213;\n                double defunc_1_op_res_104177 = defunc_9_fit_fun_res_104208 +\n                       redout_104272;\n                double defunc_1_op_res_104180 = defunc_9_slope_fun_res_104214 +\n                       redout_104273;\n                double redout_tmp_105811 = defunc_1_op_res_104177;\n                double redout_tmp_105812 = defunc_1_op_res_104180;\n                \n                redout_104272 = redout_tmp_105811;\n                redout_104273 = redout_tmp_105812;\n            }\n            defunc_2_reduce_res_104173 = redout_104272;\n            defunc_2_reduce_res_104174 = redout_104273;\n            postlude_104141 = defunc_2_reduce_res_104173;\n            postlude_104142 = defunc_2_reduce_res_104174;\n        } else {\n            postlude_104141 = 0.0;\n            postlude_104142 = 0.0;\n        }\n        color_105244[(int64_t) 0] = postlude_104141;\n        color_105243[(int64_t) 0] = postlude_104142;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t thread_out_index_105813 = gid_x_103432 * tile_sizze_103435 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_105754));\n    int64_t thread_out_index_105814 = gid_y_103433 * tile_sizze_103435 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_105755));\n    \n    if (slt64(thread_out_index_105813, m_92398) &&\n        slt64(thread_out_index_105814, n_m_92409)) {\n        double tmp_105815;\n        \n        tmp_105815 = color_105244[(int64_t) 0];\n        ((__global double *) mem_104631)[thread_out_index_105813 * n_m_92409 +\n                                         thread_out_index_105814] = tmp_105815;\n    }\n    \n    int64_t thread_out_index_105816 = gid_x_103432 * tile_sizze_103435 +\n            sext_i32_i64(sext_i64_i32(l",
                   "tid_pre_105754));\n    int64_t thread_out_index_105817 = gid_y_103433 * tile_sizze_103435 +\n            sext_i32_i64(sext_i64_i32(ltid_pre_105755));\n    \n    if (slt64(thread_out_index_105816, m_92398) &&\n        slt64(thread_out_index_105817, n_m_92409)) {\n        double tmp_105818;\n        \n        tmp_105818 = color_105243[(int64_t) 0];\n        ((__global double *) mem_104635)[thread_out_index_105816 * n_m_92409 +\n                                         thread_out_index_105817] = tmp_105818;\n    }\n    \n  error_7:\n    return;\n    #undef tile_sizze_103435\n}\n__kernel void mainzisegmap_intragroup_96990(__global int *global_failure,\n                                            int failure_is_an_option, __global\n                                            int64_t *global_failure_args,\n                                            __local volatile\n                                            int64_t *red_arr_mem_105946_backing_aligned_0,\n                                            __local volatile\n                                            int64_t *red_arr_mem_105942_backing_aligned_1,\n                                            __local volatile\n                                            int64_t *color_105253_backing_aligned_2,\n                                            int64_t m_92398, int64_t n_92399,\n                                            int64_t q_92401, int64_t jump_92403,\n                                            int64_t n_m_92409, int64_t i_92415,\n                                            unsigned char x_92416_bits,\n                                            int64_t min_res_92421,\n                                            unsigned char loop_cond_92426_bits,\n                                            __global unsigned char *mem_104648,\n                                            __global unsigned char *mem_104652,\n                                            __global unsigned char *mem_104656,\n                                            __global unsigne",
                   "d char *mem_104662,\n                                            __global unsigned char *mem_104666,\n                                            __global unsigned char *mem_104669,\n                                            __global unsigned char *mem_104672,\n                                            __global unsigned char *mem_104675,\n                                            __global unsigned char *mem_104680,\n                                            __global unsigned char *mem_104690)\n{\n    bool x_92416 = x_92416_bits;\n    bool loop_cond_92426 = loop_cond_92426_bits;\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_105946_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_105946_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_105942_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_105942_backing_aligned_1;\n    __local volatile unsigned char *restrict color_105253_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) color_105253_backing_aligned_2;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_105923;\n    int32_t local_tid_105924;\n    int64_t group_sizze_105927;\n    int32_t wave_sizze_105926;\n    int32_t group_tid_105925;\n    \n    global_tid_105923 = get_global_id(0);\n    local_tid_105924 = get_local_id(0);\n    group_sizze_105927 = get_local_size(0);\n    wave_sizze_105926 = LOCKSTEP_WIDTH;\n    group_tid_105925 = get_group_id(0);\n    \n    int32_t phys_tid_96990 = group_tid_105925;\n    int64_t slice_1",
                   "05929 = q_92401;\n    int64_t ltid_pre_105928 = sext_i32_i64(local_tid_105924);\n    int64_t remnant_105930 = sext_i32_i64(local_tid_105924) - ltid_pre_105928;\n    int64_t slice_105931 = n_m_92409;\n    int64_t slice_105932 = m_92398 * slice_105931;\n    int64_t gtid_96988 = squot64(sext_i32_i64(group_tid_105925), slice_105931);\n    int64_t remnant_105933 = sext_i32_i64(group_tid_105925) - gtid_96988 *\n            slice_105931;\n    int64_t gtid_96989 = remnant_105933;\n    int64_t remnant_105934 = remnant_105933 - gtid_96989;\n    __local unsigned char *color_105253;\n    \n    color_105253 = (__local unsigned char *) color_105253_backing_0;\n    \n    int64_t last_res_96991;\n    \n    last_res_96991 = ((__global int64_t *) mem_104648)[gtid_96988 * n_92399 +\n                                                       i_92415];\n    \n    int64_t min_arg_96998;\n    \n    min_arg_96998 = ((__global int64_t *) mem_104666)[gtid_96988];\n    \n    int64_t min_arg_96999;\n    \n    min_arg_96999 = ((__global int64_t *) mem_104669)[gtid_96988];\n    \n    int64_t min_res_97000;\n    \n    min_res_97000 = ((__global int64_t *) mem_104672)[gtid_96988];\n    \n    double max_res_97001;\n    \n    max_res_97001 = ((__global double *) mem_104675)[gtid_96988];\n    \n    int64_t min_arg_97005 = mul64(jump_92403, gtid_96989);\n    int64_t min_res_97006 = smin64(i_92415, min_arg_97005);\n    int64_t defunc_0_g_res_97007 = add64((int64_t) 1, min_res_97006);\n    bool init_idx_97008;\n    int64_t init_idx_97009;\n    int64_t init_idx_97010;\n    bool loop_while_97011;\n    int64_t low_97012;\n    int64_t high_97013;\n    \n    loop_while_97011 = x_92416;\n    low_97012 = (int64_t) 0;\n    high_97013 = i_92415;\n    while (loop_while_97011) {\n        int64_t x_97014 = add64(low_97012, high_97013);\n        int64_t mid_97015 = sdiv64(x_97014, (int64_t) 2);\n        bool x_97016 = sle64((int64_t) 0, mid_97015);\n        bool y_97017 = slt64(mid_97015, n_92399);\n        bool bounds_check_97018 = x_97016 && y_97017;\n        bool index_",
                   "certs_97019;\n        \n        if (!bounds_check_97018) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 15) == -1) {\n                    global_failure_args[0] = (int64_t) mid_97015;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t mid_id_97020;\n        \n        mid_id_97020 = ((__global int64_t *) mem_104662)[gtid_96988 * n_92399 +\n                                                         mid_97015];\n        \n        bool cond_97021 = slt64(mid_id_97020, (int64_t) 0);\n        int64_t mid_idx_97022;\n        \n        if (cond_97021) {\n            mid_idx_97022 = (int64_t) 9223372036854775807;\n        } else {\n            mid_idx_97022 = mid_id_97020;\n        }\n        \n        bool cond_97023 = sle64(defunc_0_g_res_97007, mid_idx_97022);\n        int64_t loopres_97024;\n        int64_t loopres_97025;\n        \n        if (cond_97023) {\n            int64_t loopres_t_res_97026 = sub64(mid_97015, (int64_t) 1);\n            \n            loopres_97024 = low_97012;\n            loopres_97025 = loopres_t_res_97026;\n        } else {\n            int64_t loopres_f_res_97027 = add64((int64_t) 1, mid_97015);\n            \n            loopres_97024 = loopres_f_res_97027;\n            loopres_97025 = high_97013;\n        }\n        \n        bool loop_cond_97028 = sle64(loopres_97024, loopres_97025);\n        bool loop_while_tmp_105935 = loop_cond_97028;\n        int64_t low_tmp_105936 = loopres_97024;\n        int64_t high_tmp_105937 = loopres_97025;\n        \n        loop_while_97011 = loop_while_tmp_105935;\n        low_97012 = low_tmp_105936;\n        high_97013 = high_tmp_105937;\n    }\n    init_idx_97008 = loop_while_97011;\n    init_idx_97009 = low_97012;\n    init_idx_97010 = high_97013;\n    \n    bool idx_97029;\n    int64_t idx_97030;\n    int64_t idx_97031;\n    int64_t idx_97032;\n    bool lo",
                   "op_while_97033;\n    int64_t l_idx_97034;\n    int64_t r_idx_97035;\n    int64_t span_97036;\n    \n    loop_while_97033 = loop_cond_92426;\n    l_idx_97034 = init_idx_97009;\n    r_idx_97035 = init_idx_97009;\n    span_97036 = (int64_t) 1;\n    while (loop_while_97033) {\n        int64_t max_arg_97037 = sub64(l_idx_97034, (int64_t) 1);\n        int64_t max_res_97038 = smax64((int64_t) 0, max_arg_97037);\n        int64_t min_arg_97039 = add64((int64_t) 1, r_idx_97035);\n        int64_t min_res_97040 = smin64(min_arg_96998, min_arg_97039);\n        bool x_97041 = sle64((int64_t) 0, max_res_97038);\n        bool y_97042 = slt64(max_res_97038, n_92399);\n        bool bounds_check_97043 = x_97041 && y_97042;\n        bool index_certs_97044;\n        \n        if (!bounds_check_97043) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 16) == -1) {\n                    global_failure_args[0] = (int64_t) max_res_97038;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t x_97045;\n        \n        x_97045 = ((__global int64_t *) mem_104662)[gtid_96988 * n_92399 +\n                                                    max_res_97038];\n        \n        int64_t abs_arg_97046 = sub64(x_97045, defunc_0_g_res_97007);\n        int64_t abs_res_97047 = abs64(abs_arg_97046);\n        bool x_97048 = sle64((int64_t) 0, min_res_97040);\n        bool y_97049 = slt64(min_res_97040, n_92399);\n        bool bounds_check_97050 = x_97048 && y_97049;\n        bool index_certs_97051;\n        \n        if (!bounds_check_97050) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 17) == -1) {\n                    global_failure_args[0] = (int64_t) min_res_97040;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n                local_failure = true;\n ",
                   "               goto error_0;\n            }\n        }\n        \n        int64_t x_97052;\n        \n        x_97052 = ((__global int64_t *) mem_104662)[gtid_96988 * n_92399 +\n                                                    min_res_97040];\n        \n        int64_t abs_arg_97053 = sub64(x_97052, defunc_0_g_res_97007);\n        int64_t abs_res_97054 = abs64(abs_arg_97053);\n        bool cond_97055 = max_res_97038 == l_idx_97034;\n        int64_t loopres_97056;\n        int64_t loopres_97057;\n        int64_t loopres_97058;\n        \n        if (cond_97055) {\n            loopres_97056 = l_idx_97034;\n            loopres_97057 = r_idx_97035;\n            loopres_97058 = min_res_92421;\n        } else {\n            bool cond_97059 = slt64(abs_res_97047, abs_res_97054);\n            bool cond_f_res_97060 = min_res_97040 == r_idx_97035;\n            bool x_97061 = !cond_97059;\n            bool y_97062 = cond_f_res_97060 && x_97061;\n            bool cond_97063 = cond_97059 || y_97062;\n            int64_t loopres_f_res_97064;\n            \n            if (cond_97063) {\n                loopres_f_res_97064 = max_res_97038;\n            } else {\n                loopres_f_res_97064 = l_idx_97034;\n            }\n            \n            int64_t loopres_f_res_97065;\n            \n            if (cond_97063) {\n                loopres_f_res_97065 = r_idx_97035;\n            } else {\n                loopres_f_res_97065 = min_res_97040;\n            }\n            \n            int64_t loopres_f_res_97066;\n            \n            if (cond_97063) {\n                int64_t loopres_f_res_t_res_97067 = add64((int64_t) 1,\n                                                          span_97036);\n                \n                loopres_f_res_97066 = loopres_f_res_t_res_97067;\n            } else {\n                int64_t loopres_f_res_f_res_97068 = add64((int64_t) 1,\n                                                          span_97036);\n                \n                loopres_f_res_97066 = loopres_f_res_f_res_97",
                   "068;\n            }\n            loopres_97056 = loopres_f_res_97064;\n            loopres_97057 = loopres_f_res_97065;\n            loopres_97058 = loopres_f_res_97066;\n        }\n        \n        bool loop_cond_97069 = slt64(loopres_97058, min_res_92421);\n        bool loop_while_tmp_105938 = loop_cond_97069;\n        int64_t l_idx_tmp_105939 = loopres_97056;\n        int64_t r_idx_tmp_105940 = loopres_97057;\n        int64_t span_tmp_105941 = loopres_97058;\n        \n        loop_while_97033 = loop_while_tmp_105938;\n        l_idx_97034 = l_idx_tmp_105939;\n        r_idx_97035 = r_idx_tmp_105940;\n        span_97036 = span_tmp_105941;\n    }\n    idx_97029 = loop_while_97033;\n    idx_97030 = l_idx_97034;\n    idx_97031 = r_idx_97035;\n    idx_97032 = span_97036;\n    \n    int64_t min_res_97070 = smin64(min_arg_96999, idx_97030);\n    int64_t max_res_97071 = smax64((int64_t) 0, min_res_97070);\n    int64_t x_97072 = add64(min_res_97000, max_res_97071);\n    int64_t r_97073 = sub64(x_97072, (int64_t) 1);\n    bool x_97074 = sle64((int64_t) 0, r_97073);\n    bool y_97075 = slt64(r_97073, n_92399);\n    bool bounds_check_97076 = x_97074 && y_97075;\n    bool index_certs_97077;\n    \n    if (!bounds_check_97076) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 18) == -1) {\n                global_failure_args[0] = (int64_t) r_97073;\n                global_failure_args[1] = (int64_t) n_92399;\n                ;\n            }\n            local_failure = true;\n            goto error_0;\n        }\n    }\n    \n    int64_t x_97078;\n    \n    x_97078 = ((__global int64_t *) mem_104656)[gtid_96988 * n_92399 + r_97073];\n    \n    int64_t abs_arg_97079 = sub64(x_97078, min_res_97006);\n    int64_t abs_res_97080 = abs64(abs_arg_97079);\n    bool x_97081 = sle64((int64_t) 0, max_res_97071);\n    bool y_97082 = slt64(max_res_97071, n_92399);\n    bool bounds_check_97083 = x_97081 && y_97082;\n    bool index_certs_97084;\n    \n    if (!bounds_check_97083) {\n        {\n            if (atomic_cmpx",
                   "chg_i32_global(global_failure, -1, 19) == -1) {\n                global_failure_args[0] = (int64_t) max_res_97071;\n                global_failure_args[1] = (int64_t) n_92399;\n                ;\n            }\n            local_failure = true;\n            goto error_0;\n        }\n    }\n    \n    int64_t x_97085;\n    \n    x_97085 = ((__global int64_t *) mem_104656)[gtid_96988 * n_92399 +\n                                                max_res_97071];\n    \n    int64_t abs_arg_97086 = sub64(x_97085, min_res_97006);\n    int64_t abs_res_97087 = abs64(abs_arg_97086);\n    int64_t max_res_97088 = smax64(abs_res_97080, abs_res_97087);\n    double defunc_0_f_res_97089 = sitofp_i64_f64(max_res_97088);\n    double defunc_1_f_res_97090 = max_res_97001 + defunc_0_f_res_97089;\n    double defunc_2_reduce_res_97091;\n    int64_t gtid_97093 = sext_i32_i64(sext_i64_i32(ltid_pre_105928));\n    int32_t phys_tid_97094 = local_tid_105924;\n    __local unsigned char *red_arr_mem_105942;\n    \n    red_arr_mem_105942 = (__local unsigned char *) red_arr_mem_105942_backing_1;\n    \n    double x_97099;\n    \n    x_97099 = ((__global double *) mem_104680)[gtid_96988 * q_92401 +\n                                               gtid_97093];\n    \n    bool cond_97100 = sle64(last_res_96991, gtid_97093);\n    int64_t defunc_0_f_res_97101;\n    \n    if (cond_97100) {\n        defunc_0_f_res_97101 = (int64_t) 0;\n    } else {\n        int64_t i_97102 = add64(max_res_97071, gtid_97093);\n        int64_t defunc_0_add_arg_97103;\n        \n        defunc_0_add_arg_97103 = ((__global int64_t *) mem_104656)[gtid_96988 *\n                                                                   n_92399 +\n                                                                   i_97102];\n        \n        int64_t defunc_1_add_res_97104 = add64((int64_t) 1,\n                                               defunc_0_add_arg_97103);\n        \n        defunc_0_f_res_97101 = defunc_1_add_res_97104;\n    }\n    \n    int64_t binop_p_97105 = sub64(defunc_0_f_res",
                   "_97101, min_res_97006);\n    double defunc_0_f_res_97106 = sitofp_i64_f64(binop_p_97105);\n    double abs_res_97107 = fabs(defunc_0_f_res_97106);\n    double tmp1_97108 = abs_res_97107 / defunc_1_f_res_97090;\n    double x_97109 = tmp1_97108 * tmp1_97108;\n    double y_97110 = tmp1_97108 * x_97109;\n    double tmp2_97111 = 1.0 - y_97110;\n    double x_97112 = tmp2_97111 * tmp2_97111;\n    double tmp3_97113 = tmp2_97111 * x_97112;\n    double tmp4_97114 = x_97099 * tmp3_97113;\n    \n    ((__local double *) red_arr_mem_105942)[gtid_97093] = tmp4_97114;\n    ((__local double *) color_105253)[gtid_97093] = tmp4_97114;\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_105944;\n    int32_t skip_waves_105945 = 1;\n    double x_97095;\n    double x_97096;\n    \n    offset_105944 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_105924, sext_i64_i32(q_92401))) {\n            x_97095 = ((__local\n                        double *) red_arr_mem_105942)[sext_i32_i64(local_tid_105924 +\n                                                      offset_105944)];\n        }\n    }\n    offset_105944 = 1;\n    while (slt32(offset_105944, wave_sizze_105926)) {\n        if (slt32(local_tid_105924 + offset_105944, sext_i64_i32(q_92401)) &&\n            ((local_tid_105924 - squot32(local_tid_105924, wave_sizze_105926) *\n              wave_sizze_105926) & (2 * offset_105944 - 1)) == 0) {\n            // read array element\n            {\n                x_97096 = ((volatile __local\n                            double *) red_arr_mem_105942)[sext_i32_i64(local_tid_105924 +\n                                                          offset_105944)];\n            }\n            // apply reduction operation\n            {\n                double defunc_1_op_res_97097 = x_97095 + x_97096;\n                \n                x_97095 = defunc_1_op_res_97097;\n            }\n            // write result ",
                   "of operation\n            {\n                ((volatile __local\n                  double *) red_arr_mem_105942)[sext_i32_i64(local_tid_105924)] =\n                    x_97095;\n            }\n        }\n        offset_105944 *= 2;\n    }\n    while (slt32(skip_waves_105945, squot32(sext_i64_i32(q_92401) +\n                                            wave_sizze_105926 - 1,\n                                            wave_sizze_105926))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_105944 = skip_waves_105945 * wave_sizze_105926;\n        if (slt32(local_tid_105924 + offset_105944, sext_i64_i32(q_92401)) &&\n            ((local_tid_105924 - squot32(local_tid_105924, wave_sizze_105926) *\n              wave_sizze_105926) == 0 && (squot32(local_tid_105924,\n                                                  wave_sizze_105926) & (2 *\n                                                                        skip_waves_105945 -\n                                                                        1)) ==\n             0)) {\n            // read array element\n            {\n                x_97096 = ((__local\n                            double *) red_arr_mem_105942)[sext_i32_i64(local_tid_105924 +\n                                                          offset_105944)];\n            }\n            // apply reduction operation\n            {\n                double defunc_1_op_res_97097 = x_97095 + x_97096;\n                \n                x_97095 = defunc_1_op_res_97097;\n            }\n            // write result of operation\n            {\n                ((__local\n                  double *) red_arr_mem_105942)[sext_i32_i64(local_tid_105924)] =\n                    x_97095;\n            }\n        }\n        skip_waves_105945 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_2_reduce_res_97091 = ((__local\n                                  double *) red_arr_mem_105942)[(int64_t) 0];\n    \n    double a0_97115 = 1.0 / defunc_2_reduce_res_97091;\n    double defunc_2_reduce_res_97116;\n    ",
                   "int64_t gtid_97117 = sext_i32_i64(sext_i64_i32(ltid_pre_105928));\n    int32_t phys_tid_97118 = local_tid_105924;\n    __local unsigned char *red_arr_mem_105946;\n    \n    red_arr_mem_105946 = (__local unsigned char *) red_arr_mem_105946_backing_2;\n    \n    double x_97123;\n    \n    x_97123 = ((__local double *) color_105253)[gtid_97117];\n    \n    bool cond_97124 = sle64(last_res_96991, gtid_97117);\n    double defunc_0_f_res_97125;\n    \n    if (cond_97124) {\n        defunc_0_f_res_97125 = 0.0;\n    } else {\n        int64_t i_97126 = add64(max_res_97071, gtid_97117);\n        double defunc_0_add_arg_97127;\n        \n        defunc_0_add_arg_97127 = ((__global double *) mem_104652)[gtid_96988 *\n                                                                  n_92399 +\n                                                                  i_97126];\n        defunc_0_f_res_97125 = defunc_0_add_arg_97127;\n    }\n    \n    double x_97128 = a0_97115 * x_97123;\n    double defunc_9_fit_fun_res_97129 = defunc_0_f_res_97125 * x_97128;\n    \n    ((__local double *) red_arr_mem_105946)[gtid_97117] =\n        defunc_9_fit_fun_res_97129;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_105948;\n    int32_t skip_waves_105949 = 1;\n    double x_97119;\n    double x_97120;\n    \n    offset_105948 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_105924, sext_i64_i32(q_92401))) {\n            x_97119 = ((__local\n                        double *) red_arr_mem_105946)[sext_i32_i64(local_tid_105924 +\n                                                      offset_105948)];\n        }\n    }\n    offset_105948 = 1;\n    while (slt32(offset_105948, wave_sizze_105926)) {\n        if (slt32(local_tid_105924 + offset_105948, sext_i64_i32(q_92401)) &&\n            ((local_tid_105924 - squot32(local_tid_105924, wave_sizze_105926) *\n              wave_sizze_105926) & (2 * offset_105948 - 1)) == 0) {\n            // read array element\n            {\n                x_97120 = ((",
                   "volatile __local\n                            double *) red_arr_mem_105946)[sext_i32_i64(local_tid_105924 +\n                                                          offset_105948)];\n            }\n            // apply reduction operation\n            {\n                double defunc_1_op_res_97121 = x_97119 + x_97120;\n                \n                x_97119 = defunc_1_op_res_97121;\n            }\n            // write result of operation\n            {\n                ((volatile __local\n                  double *) red_arr_mem_105946)[sext_i32_i64(local_tid_105924)] =\n                    x_97119;\n            }\n        }\n        offset_105948 *= 2;\n    }\n    while (slt32(skip_waves_105949, squot32(sext_i64_i32(q_92401) +\n                                            wave_sizze_105926 - 1,\n                                            wave_sizze_105926))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_105948 = skip_waves_105949 * wave_sizze_105926;\n        if (slt32(local_tid_105924 + offset_105948, sext_i64_i32(q_92401)) &&\n            ((local_tid_105924 - squot32(local_tid_105924, wave_sizze_105926) *\n              wave_sizze_105926) == 0 && (squot32(local_tid_105924,\n                                                  wave_sizze_105926) & (2 *\n                                                                        skip_waves_105949 -\n                                                                        1)) ==\n             0)) {\n            // read array element\n            {\n                x_97120 = ((__local\n                            double *) red_arr_mem_105946)[sext_i32_i64(local_tid_105924 +\n                                                          offset_105948)];\n            }\n            // apply reduction operation\n            {\n                double defunc_1_op_res_97121 = x_97119 + x_97120;\n                \n                x_97119 = defunc_1_op_res_97121;\n            }\n            // write result of operation\n            {\n                ((__local\n    ",
                   "              double *) red_arr_mem_105946)[sext_i32_i64(local_tid_105924)] =\n                    x_97119;\n            }\n        }\n        skip_waves_105949 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_2_reduce_res_97116 = ((__local\n                                  double *) red_arr_mem_105946)[(int64_t) 0];\n    if (local_tid_105924 == 0) {\n        ((__global double *) mem_104690)[gtid_96988 * n_m_92409 + gtid_96989] =\n            defunc_2_reduce_res_97116;\n    }\n    \n  error_4:\n    return;\n}\n__kernel void mainzisegmap_intragroup_97658(__global int *global_failure,\n                                            int failure_is_an_option, __global\n                                            int64_t *global_failure_args,\n                                            __local volatile\n                                            int64_t *red_arr_mem_106083_backing_aligned_0,\n                                            __local volatile\n                                            int64_t *red_arr_mem_106081_backing_aligned_1,\n                                            __local volatile\n                                            int64_t *red_arr_mem_106077_backing_aligned_2,\n                                            __local volatile\n                                            int64_t *red_arr_mem_106075_backing_aligned_3,\n                                            __local volatile\n                                            int64_t *red_arr_mem_106073_backing_aligned_4,\n                                            __local volatile\n                                            int64_t *color_105255_backing_aligned_5,\n                                            __local volatile\n                                            int64_t *color_105254_backing_aligned_6,\n                                            int64_t m_92398, int64_t n_92399,\n                                            int64_t q_92401, int64_t jump_92403,\n                                            int64_t",
                   " n_m_92409, int64_t i_92415,\n                                            unsigned char x_92416_bits,\n                                            int64_t min_res_92421,\n                                            unsigned char loop_cond_92426_bits,\n                                            __global unsigned char *mem_104695,\n                                            __global unsigned char *mem_104699,\n                                            __global unsigned char *mem_104703,\n                                            __global unsigned char *mem_104709,\n                                            __global unsigned char *mem_104713,\n                                            __global unsigned char *mem_104716,\n                                            __global unsigned char *mem_104719,\n                                            __global unsigned char *mem_104722,\n                                            __global unsigned char *mem_104727,\n                                            __global unsigned char *mem_104740,\n                                            __global unsigned char *mem_104744)\n{\n    bool x_92416 = x_92416_bits;\n    bool loop_cond_92426 = loop_cond_92426_bits;\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_106083_backing_6 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106083_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_106081_backing_5 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106081_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_106077_backing_4 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106077_backing_aligned_2;\n    __local volatile unsigned char *re",
                   "strict red_arr_mem_106075_backing_3 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106075_backing_aligned_3;\n    __local volatile unsigned char *restrict red_arr_mem_106073_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106073_backing_aligned_4;\n    __local volatile unsigned char *restrict color_105255_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) color_105255_backing_aligned_5;\n    __local volatile unsigned char *restrict color_105254_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) color_105254_backing_aligned_6;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_106054;\n    int32_t local_tid_106055;\n    int64_t group_sizze_106058;\n    int32_t wave_sizze_106057;\n    int32_t group_tid_106056;\n    \n    global_tid_106054 = get_global_id(0);\n    local_tid_106055 = get_local_id(0);\n    group_sizze_106058 = get_local_size(0);\n    wave_sizze_106057 = LOCKSTEP_WIDTH;\n    group_tid_106056 = get_group_id(0);\n    \n    int32_t phys_tid_97658 = group_tid_106056;\n    int64_t slice_106060 = q_92401;\n    int64_t ltid_pre_106059 = sext_i32_i64(local_tid_106055);\n    int64_t remnant_106061 = sext_i32_i64(local_tid_106055) - ltid_pre_106059;\n    int64_t slice_106062 = n_m_92409;\n    int64_t slice_106063 = m_92398 * slice_106062;\n    int64_t gtid_97656 = squot64(sext_i32_i64(group_tid_106056), slice_106062);\n    int64_t remnant_106064 = sext_i32_i64(group_tid_106056) - gtid_97656 *\n            slice_106062;\n    int64_t gtid_97657 = remnant_106064;\n    int64_t remnant_106065 = remnan",
                   "t_106064 - gtid_97657;\n    __local unsigned char *color_105254;\n    \n    color_105254 = (__local unsigned char *) color_105254_backing_0;\n    \n    __local unsigned char *color_105255;\n    \n    color_105255 = (__local unsigned char *) color_105255_backing_1;\n    \n    int64_t last_res_97659;\n    \n    last_res_97659 = ((__global int64_t *) mem_104695)[gtid_97656 * n_92399 +\n                                                       i_92415];\n    \n    int64_t min_arg_97666;\n    \n    min_arg_97666 = ((__global int64_t *) mem_104713)[gtid_97656];\n    \n    int64_t min_arg_97667;\n    \n    min_arg_97667 = ((__global int64_t *) mem_104716)[gtid_97656];\n    \n    int64_t min_res_97668;\n    \n    min_res_97668 = ((__global int64_t *) mem_104719)[gtid_97656];\n    \n    double max_res_97669;\n    \n    max_res_97669 = ((__global double *) mem_104722)[gtid_97656];\n    \n    int64_t min_arg_97673 = mul64(jump_92403, gtid_97657);\n    int64_t min_res_97674 = smin64(i_92415, min_arg_97673);\n    int64_t defunc_0_g_res_97675 = add64((int64_t) 1, min_res_97674);\n    bool init_idx_97676;\n    int64_t init_idx_97677;\n    int64_t init_idx_97678;\n    bool loop_while_97679;\n    int64_t low_97680;\n    int64_t high_97681;\n    \n    loop_while_97679 = x_92416;\n    low_97680 = (int64_t) 0;\n    high_97681 = i_92415;\n    while (loop_while_97679) {\n        int64_t x_97682 = add64(low_97680, high_97681);\n        int64_t mid_97683 = sdiv64(x_97682, (int64_t) 2);\n        bool x_97684 = sle64((int64_t) 0, mid_97683);\n        bool y_97685 = slt64(mid_97683, n_92399);\n        bool bounds_check_97686 = x_97684 && y_97685;\n        bool index_certs_97687;\n        \n        if (!bounds_check_97686) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 20) == -1) {\n                    global_failure_args[0] = (int64_t) mid_97683;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n                local_failure = true;\n                goto error",
                   "_0;\n            }\n        }\n        \n        int64_t mid_id_97688;\n        \n        mid_id_97688 = ((__global int64_t *) mem_104709)[gtid_97656 * n_92399 +\n                                                         mid_97683];\n        \n        bool cond_97689 = slt64(mid_id_97688, (int64_t) 0);\n        int64_t mid_idx_97690;\n        \n        if (cond_97689) {\n            mid_idx_97690 = (int64_t) 9223372036854775807;\n        } else {\n            mid_idx_97690 = mid_id_97688;\n        }\n        \n        bool cond_97691 = sle64(defunc_0_g_res_97675, mid_idx_97690);\n        int64_t loopres_97692;\n        int64_t loopres_97693;\n        \n        if (cond_97691) {\n            int64_t loopres_t_res_97694 = sub64(mid_97683, (int64_t) 1);\n            \n            loopres_97692 = low_97680;\n            loopres_97693 = loopres_t_res_97694;\n        } else {\n            int64_t loopres_f_res_97695 = add64((int64_t) 1, mid_97683);\n            \n            loopres_97692 = loopres_f_res_97695;\n            loopres_97693 = high_97681;\n        }\n        \n        bool loop_cond_97696 = sle64(loopres_97692, loopres_97693);\n        bool loop_while_tmp_106066 = loop_cond_97696;\n        int64_t low_tmp_106067 = loopres_97692;\n        int64_t high_tmp_106068 = loopres_97693;\n        \n        loop_while_97679 = loop_while_tmp_106066;\n        low_97680 = low_tmp_106067;\n        high_97681 = high_tmp_106068;\n    }\n    init_idx_97676 = loop_while_97679;\n    init_idx_97677 = low_97680;\n    init_idx_97678 = high_97681;\n    \n    bool idx_97697;\n    int64_t idx_97698;\n    int64_t idx_97699;\n    int64_t idx_97700;\n    bool loop_while_97701;\n    int64_t l_idx_97702;\n    int64_t r_idx_97703;\n    int64_t span_97704;\n    \n    loop_while_97701 = loop_cond_92426;\n    l_idx_97702 = init_idx_97677;\n    r_idx_97703 = init_idx_97677;\n    span_97704 = (int64_t) 1;\n    while (loop_while_97701) {\n        int64_t max_arg_97705 = sub64(l_idx_97702, (int64_t) 1);\n        int64_t max_res_97706 = smax64((int64_t) 0, max",
                   "_arg_97705);\n        int64_t min_arg_97707 = add64((int64_t) 1, r_idx_97703);\n        int64_t min_res_97708 = smin64(min_arg_97666, min_arg_97707);\n        bool x_97709 = sle64((int64_t) 0, max_res_97706);\n        bool y_97710 = slt64(max_res_97706, n_92399);\n        bool bounds_check_97711 = x_97709 && y_97710;\n        bool index_certs_97712;\n        \n        if (!bounds_check_97711) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 21) == -1) {\n                    global_failure_args[0] = (int64_t) max_res_97706;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t x_97713;\n        \n        x_97713 = ((__global int64_t *) mem_104709)[gtid_97656 * n_92399 +\n                                                    max_res_97706];\n        \n        int64_t abs_arg_97714 = sub64(x_97713, defunc_0_g_res_97675);\n        int64_t abs_res_97715 = abs64(abs_arg_97714);\n        bool x_97716 = sle64((int64_t) 0, min_res_97708);\n        bool y_97717 = slt64(min_res_97708, n_92399);\n        bool bounds_check_97718 = x_97716 && y_97717;\n        bool index_certs_97719;\n        \n        if (!bounds_check_97718) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 22) == -1) {\n                    global_failure_args[0] = (int64_t) min_res_97708;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t x_97720;\n        \n        x_97720 = ((__global int64_t *) mem_104709)[gtid_97656 * n_92399 +\n                                                    min_res_97708];\n        \n        int64_t abs_arg_97721 = sub64(x_97720, defunc_0_g_res_97675);\n        int64_t abs_res_97722 = abs64(abs_arg_97721);\n        bool",
                   " cond_97723 = max_res_97706 == l_idx_97702;\n        int64_t loopres_97724;\n        int64_t loopres_97725;\n        int64_t loopres_97726;\n        \n        if (cond_97723) {\n            loopres_97724 = l_idx_97702;\n            loopres_97725 = r_idx_97703;\n            loopres_97726 = min_res_92421;\n        } else {\n            bool cond_97727 = slt64(abs_res_97715, abs_res_97722);\n            bool cond_f_res_97728 = min_res_97708 == r_idx_97703;\n            bool x_97729 = !cond_97727;\n            bool y_97730 = cond_f_res_97728 && x_97729;\n            bool cond_97731 = cond_97727 || y_97730;\n            int64_t loopres_f_res_97732;\n            \n            if (cond_97731) {\n                loopres_f_res_97732 = max_res_97706;\n            } else {\n                loopres_f_res_97732 = l_idx_97702;\n            }\n            \n            int64_t loopres_f_res_97733;\n            \n            if (cond_97731) {\n                loopres_f_res_97733 = r_idx_97703;\n            } else {\n                loopres_f_res_97733 = min_res_97708;\n            }\n            \n            int64_t loopres_f_res_97734;\n            \n            if (cond_97731) {\n                int64_t loopres_f_res_t_res_97735 = add64((int64_t) 1,\n                                                          span_97704);\n                \n                loopres_f_res_97734 = loopres_f_res_t_res_97735;\n            } else {\n                int64_t loopres_f_res_f_res_97736 = add64((int64_t) 1,\n                                                          span_97704);\n                \n                loopres_f_res_97734 = loopres_f_res_f_res_97736;\n            }\n            loopres_97724 = loopres_f_res_97732;\n            loopres_97725 = loopres_f_res_97733;\n            loopres_97726 = loopres_f_res_97734;\n        }\n        \n        bool loop_cond_97737 = slt64(loopres_97726, min_res_92421);\n        bool loop_while_tmp_106069 = loop_cond_97737;\n        int64_t l_idx_tmp_106070 = loopres_97724;\n        int64_t r_idx_tmp_1",
                   "06071 = loopres_97725;\n        int64_t span_tmp_106072 = loopres_97726;\n        \n        loop_while_97701 = loop_while_tmp_106069;\n        l_idx_97702 = l_idx_tmp_106070;\n        r_idx_97703 = r_idx_tmp_106071;\n        span_97704 = span_tmp_106072;\n    }\n    idx_97697 = loop_while_97701;\n    idx_97698 = l_idx_97702;\n    idx_97699 = r_idx_97703;\n    idx_97700 = span_97704;\n    \n    int64_t min_res_97738 = smin64(min_arg_97667, idx_97698);\n    int64_t max_res_97739 = smax64((int64_t) 0, min_res_97738);\n    int64_t x_97740 = add64(min_res_97668, max_res_97739);\n    int64_t r_97741 = sub64(x_97740, (int64_t) 1);\n    bool x_97742 = sle64((int64_t) 0, r_97741);\n    bool y_97743 = slt64(r_97741, n_92399);\n    bool bounds_check_97744 = x_97742 && y_97743;\n    bool index_certs_97745;\n    \n    if (!bounds_check_97744) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 23) == -1) {\n                global_failure_args[0] = (int64_t) r_97741;\n                global_failure_args[1] = (int64_t) n_92399;\n                ;\n            }\n            local_failure = true;\n            goto error_0;\n        }\n    }\n    \n    int64_t x_97746;\n    \n    x_97746 = ((__global int64_t *) mem_104703)[gtid_97656 * n_92399 + r_97741];\n    \n    int64_t abs_arg_97747 = sub64(x_97746, min_res_97674);\n    int64_t abs_res_97748 = abs64(abs_arg_97747);\n    bool x_97749 = sle64((int64_t) 0, max_res_97739);\n    bool y_97750 = slt64(max_res_97739, n_92399);\n    bool bounds_check_97751 = x_97749 && y_97750;\n    bool index_certs_97752;\n    \n    if (!bounds_check_97751) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 24) == -1) {\n                global_failure_args[0] = (int64_t) max_res_97739;\n                global_failure_args[1] = (int64_t) n_92399;\n                ;\n            }\n            local_failure = true;\n            goto error_0;\n        }\n    }\n    \n    int64_t x_97753;\n    \n    x_97753 = ((__global int64_t *) mem_104703)[gtid_97656 * n_92399 +\n",
                   "                                                max_res_97739];\n    \n    int64_t abs_arg_97754 = sub64(x_97753, min_res_97674);\n    int64_t abs_res_97755 = abs64(abs_arg_97754);\n    int64_t max_res_97756 = smax64(abs_res_97748, abs_res_97755);\n    double defunc_0_f_res_97757 = sitofp_i64_f64(max_res_97756);\n    double defunc_1_f_res_97758 = max_res_97669 + defunc_0_f_res_97757;\n    double defunc_2_reduce_res_97759;\n    double defunc_2_reduce_res_97760;\n    double defunc_2_reduce_res_97761;\n    int64_t gtid_97764 = sext_i32_i64(sext_i64_i32(ltid_pre_106059));\n    int32_t phys_tid_97765 = local_tid_106055;\n    __local unsigned char *red_arr_mem_106073;\n    \n    red_arr_mem_106073 = (__local unsigned char *) red_arr_mem_106073_backing_2;\n    \n    __local unsigned char *red_arr_mem_106075;\n    \n    red_arr_mem_106075 = (__local unsigned char *) red_arr_mem_106075_backing_3;\n    \n    __local unsigned char *red_arr_mem_106077;\n    \n    red_arr_mem_106077 = (__local unsigned char *) red_arr_mem_106077_backing_4;\n    \n    double x_97776;\n    \n    x_97776 = ((__global double *) mem_104727)[gtid_97656 * q_92401 +\n                                               gtid_97764];\n    \n    bool cond_97777 = sle64(last_res_97659, gtid_97764);\n    int64_t defunc_0_f_res_97778;\n    \n    if (cond_97777) {\n        defunc_0_f_res_97778 = (int64_t) 0;\n    } else {\n        int64_t i_97779 = add64(max_res_97739, gtid_97764);\n        int64_t defunc_0_add_arg_97780;\n        \n        defunc_0_add_arg_97780 = ((__global int64_t *) mem_104703)[gtid_97656 *\n                                                                   n_92399 +\n                                                                   i_97779];\n        \n        int64_t defunc_1_add_res_97781 = add64((int64_t) 1,\n                                               defunc_0_add_arg_97780);\n        \n        defunc_0_f_res_97778 = defunc_1_add_res_97781;\n    }\n    \n    int64_t binop_p_97782 = sub64(defunc_0_f_res_97778, min_res_97674);\n    doub",
                   "le defunc_0_f_res_97783 = sitofp_i64_f64(binop_p_97782);\n    double abs_res_97784 = fabs(defunc_0_f_res_97783);\n    double tmp1_97785 = abs_res_97784 / defunc_1_f_res_97758;\n    double x_97786 = tmp1_97785 * tmp1_97785;\n    double y_97787 = tmp1_97785 * x_97786;\n    double tmp2_97788 = 1.0 - y_97787;\n    double x_97789 = tmp2_97788 * tmp2_97788;\n    double tmp3_97790 = tmp2_97788 * x_97789;\n    double tmp4_97791 = x_97776 * tmp3_97790;\n    double defunc_1_f_res_97792 = defunc_0_f_res_97783 * tmp4_97791;\n    double defunc_1_f_res_97793 = defunc_0_f_res_97783 * defunc_1_f_res_97792;\n    \n    ((__local double *) red_arr_mem_106073)[gtid_97764] = tmp4_97791;\n    ((__local double *) red_arr_mem_106075)[gtid_97764] = defunc_1_f_res_97792;\n    ((__local double *) red_arr_mem_106077)[gtid_97764] = defunc_1_f_res_97793;\n    ((__local double *) color_105255)[gtid_97764] = defunc_1_f_res_97792;\n    ((__local double *) color_105254)[gtid_97764] = tmp4_97791;\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_106079;\n    int32_t skip_waves_106080 = 1;\n    double x_97766;\n    double x_97767;\n    double x_97768;\n    double x_97769;\n    double x_97770;\n    double x_97771;\n    \n    offset_106079 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_106055, sext_i64_i32(q_92401))) {\n            x_97766 = ((__local\n                        double *) red_arr_mem_106073)[sext_i32_i64(local_tid_106055 +\n                                                      offset_106079)];\n            x_97767 = ((__local\n                        double *) red_arr_mem_106075)[sext_i32_i64(local_tid_106055 +\n                                                      offset_106079)];\n            x_97768 = ((__local\n                        double *) red_arr_mem_106077)[sext_i32_i64(local_tid_106055 +\n                                                      offset_106079)];\n        }\n  ",
                   "  }\n    offset_106079 = 1;\n    while (slt32(offset_106079, wave_sizze_106057)) {\n        if (slt32(local_tid_106055 + offset_106079, sext_i64_i32(q_92401)) &&\n            ((local_tid_106055 - squot32(local_tid_106055, wave_sizze_106057) *\n              wave_sizze_106057) & (2 * offset_106079 - 1)) == 0) {\n            // read array element\n            {\n                x_97769 = ((volatile __local\n                            double *) red_arr_mem_106073)[sext_i32_i64(local_tid_106055 +\n                                                          offset_106079)];\n                x_97770 = ((volatile __local\n                            double *) red_arr_mem_106075)[sext_i32_i64(local_tid_106055 +\n                                                          offset_106079)];\n                x_97771 = ((volatile __local\n                            double *) red_arr_mem_106077)[sext_i32_i64(local_tid_106055 +\n                                                          offset_106079)];\n            }\n            // apply reduction operation\n            {\n                double defunc_1_op_res_97772 = x_97766 + x_97769;\n                double defunc_1_op_res_97773 = x_97767 + x_97770;\n                double defunc_1_op_res_97774 = x_97768 + x_97771;\n                \n                x_97766 = defunc_1_op_res_97772;\n                x_97767 = defunc_1_op_res_97773;\n                x_97768 = defunc_1_op_res_97774;\n            }\n            // write result of operation\n            {\n                ((volatile __local\n                  double *) red_arr_mem_106073)[sext_i32_i64(local_tid_106055)] =\n                    x_97766;\n                ((volatile __local\n                  double *) red_arr_mem_106075)[sext_i32_i64(local_tid_106055)] =\n                    x_97767;\n                ((volatile __local\n                  double *) red_arr_mem_106077)[sext_i32_i64(local_tid_106055)] =\n                    x_97768;\n            }\n        }\n        offset_106079 *= 2;\n    }\n    while (slt32(sk",
                   "ip_waves_106080, squot32(sext_i64_i32(q_92401) +\n                                            wave_sizze_106057 - 1,\n                                            wave_sizze_106057))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_106079 = skip_waves_106080 * wave_sizze_106057;\n        if (slt32(local_tid_106055 + offset_106079, sext_i64_i32(q_92401)) &&\n            ((local_tid_106055 - squot32(local_tid_106055, wave_sizze_106057) *\n              wave_sizze_106057) == 0 && (squot32(local_tid_106055,\n                                                  wave_sizze_106057) & (2 *\n                                                                        skip_waves_106080 -\n                                                                        1)) ==\n             0)) {\n            // read array element\n            {\n                x_97769 = ((__local\n                            double *) red_arr_mem_106073)[sext_i32_i64(local_tid_106055 +\n                                                          offset_106079)];\n                x_97770 = ((__local\n                            double *) red_arr_mem_106075)[sext_i32_i64(local_tid_106055 +\n                                                          offset_106079)];\n                x_97771 = ((__local\n                            double *) red_arr_mem_106077)[sext_i32_i64(local_tid_106055 +\n                                                          offset_106079)];\n            }\n            // apply reduction operation\n            {\n                double defunc_1_op_res_97772 = x_97766 + x_97769;\n                double defunc_1_op_res_97773 = x_97767 + x_97770;\n                double defunc_1_op_res_97774 = x_97768 + x_97771;\n                \n                x_97766 = defunc_1_op_res_97772;\n                x_97767 = defunc_1_op_res_97773;\n                x_97768 = defunc_1_op_res_97774;\n            }\n            // write result of operation\n            {\n                ((__local\n                  double *) red_arr_mem_106073)",
                   "[sext_i32_i64(local_tid_106055)] =\n                    x_97766;\n                ((__local\n                  double *) red_arr_mem_106075)[sext_i32_i64(local_tid_106055)] =\n                    x_97767;\n                ((__local\n                  double *) red_arr_mem_106077)[sext_i32_i64(local_tid_106055)] =\n                    x_97768;\n            }\n        }\n        skip_waves_106080 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_2_reduce_res_97759 = ((__local\n                                  double *) red_arr_mem_106073)[(int64_t) 0];\n    defunc_2_reduce_res_97760 = ((__local\n                                  double *) red_arr_mem_106075)[(int64_t) 0];\n    defunc_2_reduce_res_97761 = ((__local\n                                  double *) red_arr_mem_106077)[(int64_t) 0];\n    \n    double x_97794 = defunc_2_reduce_res_97759 * defunc_2_reduce_res_97761;\n    double y_97795 = defunc_2_reduce_res_97760 * defunc_2_reduce_res_97760;\n    double y_97796 = x_97794 - y_97795;\n    double det1_97797 = 1.0 / y_97796;\n    double a11_97798 = defunc_2_reduce_res_97761 * det1_97797;\n    double x_97799 = 0.0 - defunc_2_reduce_res_97760;\n    double b11_97800 = det1_97797 * x_97799;\n    double c11_97801 = defunc_2_reduce_res_97759 * det1_97797;\n    double defunc_2_reduce_res_97802;\n    double defunc_2_reduce_res_97803;\n    int64_t gtid_97804 = sext_i32_i64(sext_i64_i32(ltid_pre_106059));\n    int32_t phys_tid_97805 = local_tid_106055;\n    __local unsigned char *red_arr_mem_106081;\n    \n    red_arr_mem_106081 = (__local unsigned char *) red_arr_mem_106081_backing_5;\n    \n    __local unsigned char *red_arr_mem_106083;\n    \n    red_arr_mem_106083 = (__local unsigned char *) red_arr_mem_106083_backing_6;\n    \n    double x_97813;\n    \n    x_97813 = ((__local double *) color_105254)[gtid_97804];\n    \n    double x_97814;\n    \n    x_97814 = ((__local double *) color_105255)[gtid_97804];\n    \n    bool cond_97815 = sle64(last_res_97659, gtid_97804);\n    double defunc_0_f_res_97816;\n    ",
                   "\n    if (cond_97815) {\n        defunc_0_f_res_97816 = 0.0;\n    } else {\n        int64_t i_97817 = add64(max_res_97739, gtid_97804);\n        double defunc_0_add_arg_97818;\n        \n        defunc_0_add_arg_97818 = ((__global double *) mem_104699)[gtid_97656 *\n                                                                  n_92399 +\n                                                                  i_97817];\n        defunc_0_f_res_97816 = defunc_0_add_arg_97818;\n    }\n    \n    double x_97819 = a11_97798 * x_97813;\n    double y_97820 = b11_97800 * x_97814;\n    double x_97821 = x_97819 + y_97820;\n    double defunc_9_fit_fun_res_97822 = defunc_0_f_res_97816 * x_97821;\n    double x_97823 = b11_97800 * x_97813;\n    double y_97824 = c11_97801 * x_97814;\n    double x_97825 = x_97823 + y_97824;\n    double defunc_9_slope_fun_res_97826 = defunc_0_f_res_97816 * x_97825;\n    \n    ((__local double *) red_arr_mem_106081)[gtid_97804] =\n        defunc_9_fit_fun_res_97822;\n    ((__local double *) red_arr_mem_106083)[gtid_97804] =\n        defunc_9_slope_fun_res_97826;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_106085;\n    int32_t skip_waves_106086 = 1;\n    double x_97806;\n    double x_97807;\n    double x_97808;\n    double x_97809;\n    \n    offset_106085 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_106055, sext_i64_i32(q_92401))) {\n            x_97806 = ((__local\n                        double *) red_arr_mem_106081)[sext_i32_i64(local_tid_106055 +\n                                                      offset_106085)];\n            x_97807 = ((__local\n                        double *) red_arr_mem_106083)[sext_i32_i64(local_tid_106055 +\n                                                      offset_106085)];\n        }\n    }\n    offset_106085 = 1;\n    while (slt32(offset_106085, wave_sizze_106057)) {\n        if (slt32(local_tid_106055 + offset_106085, sext_i64_i32(q_92401)) &&\n            ((local_tid_106055 - squot32(local_tid_106",
                   "055, wave_sizze_106057) *\n              wave_sizze_106057) & (2 * offset_106085 - 1)) == 0) {\n            // read array element\n            {\n                x_97808 = ((volatile __local\n                            double *) red_arr_mem_106081)[sext_i32_i64(local_tid_106055 +\n                                                          offset_106085)];\n                x_97809 = ((volatile __local\n                            double *) red_arr_mem_106083)[sext_i32_i64(local_tid_106055 +\n                                                          offset_106085)];\n            }\n            // apply reduction operation\n            {\n                double defunc_1_op_res_97810 = x_97806 + x_97808;\n                double defunc_1_op_res_97811 = x_97807 + x_97809;\n                \n                x_97806 = defunc_1_op_res_97810;\n                x_97807 = defunc_1_op_res_97811;\n            }\n            // write result of operation\n            {\n                ((volatile __local\n                  double *) red_arr_mem_106081)[sext_i32_i64(local_tid_106055)] =\n                    x_97806;\n                ((volatile __local\n                  double *) red_arr_mem_106083)[sext_i32_i64(local_tid_106055)] =\n                    x_97807;\n            }\n        }\n        offset_106085 *= 2;\n    }\n    while (slt32(skip_waves_106086, squot32(sext_i64_i32(q_92401) +\n                                            wave_sizze_106057 - 1,\n                                            wave_sizze_106057))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_106085 = skip_waves_106086 * wave_sizze_106057;\n        if (slt32(local_tid_106055 + offset_106085, sext_i64_i32(q_92401)) &&\n            ((local_tid_106055 - squot32(local_tid_106055, wave_sizze_106057) *\n              wave_sizze_106057) == 0 && (squot32(local_tid_106055,\n                                                  wave_sizze_106057) & (2 *\n                                                                        skip_waves_106086 -\n      ",
                   "                                                                  1)) ==\n             0)) {\n            // read array element\n            {\n                x_97808 = ((__local\n                            double *) red_arr_mem_106081)[sext_i32_i64(local_tid_106055 +\n                                                          offset_106085)];\n                x_97809 = ((__local\n                            double *) red_arr_mem_106083)[sext_i32_i64(local_tid_106055 +\n                                                          offset_106085)];\n            }\n            // apply reduction operation\n            {\n                double defunc_1_op_res_97810 = x_97806 + x_97808;\n                double defunc_1_op_res_97811 = x_97807 + x_97809;\n                \n                x_97806 = defunc_1_op_res_97810;\n                x_97807 = defunc_1_op_res_97811;\n            }\n            // write result of operation\n            {\n                ((__local\n                  double *) red_arr_mem_106081)[sext_i32_i64(local_tid_106055)] =\n                    x_97806;\n                ((__local\n                  double *) red_arr_mem_106083)[sext_i32_i64(local_tid_106055)] =\n                    x_97807;\n            }\n        }\n        skip_waves_106086 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_2_reduce_res_97802 = ((__local\n                                  double *) red_arr_mem_106081)[(int64_t) 0];\n    defunc_2_reduce_res_97803 = ((__local\n                                  double *) red_arr_mem_106083)[(int64_t) 0];\n    if (local_tid_106055 == 0) {\n        ((__global double *) mem_104740)[gtid_97656 * n_m_92409 + gtid_97657] =\n            defunc_2_reduce_res_97802;\n    }\n    if (local_tid_106055 == 0) {\n        ((__global double *) mem_104744)[gtid_97656 * n_m_92409 + gtid_97657] =\n            defunc_2_reduce_res_97803;\n    }\n    \n  error_4:\n    return;\n}\n__kernel void mainzisegmap_intragroup_98415(__global int *global_failure,\n                                           ",
                   " int failure_is_an_option, __global\n                                            int64_t *global_failure_args,\n                                            __local volatile\n                                            int64_t *red_arr_mem_106224_backing_aligned_0,\n                                            __local volatile\n                                            int64_t *red_arr_mem_106222_backing_aligned_1,\n                                            __local volatile\n                                            int64_t *red_arr_mem_106218_backing_aligned_2,\n                                            __local volatile\n                                            int64_t *red_arr_mem_106216_backing_aligned_3,\n                                            __local volatile\n                                            int64_t *red_arr_mem_106214_backing_aligned_4,\n                                            __local volatile\n                                            int64_t *red_arr_mem_106212_backing_aligned_5,\n                                            __local volatile\n                                            int64_t *red_arr_mem_106210_backing_aligned_6,\n                                            __local volatile\n                                            int64_t *color_105259_backing_aligned_7,\n                                            __local volatile\n                                            int64_t *color_105258_backing_aligned_8,\n                                            __local volatile\n                                            int64_t *color_105257_backing_aligned_9,\n                                            __local volatile\n                                            int64_t *color_105256_backing_aligned_10,\n                                            int64_t m_92398, int64_t n_92399,\n                                            int64_t q_92401, int64_t jump_92403,\n                                            int64_t n_m_92409, int64_t i_92415,\n  ",
                   "                                          unsigned char x_92416_bits,\n                                            int64_t min_res_92421,\n                                            unsigned char loop_cond_92426_bits,\n                                            __global unsigned char *mem_104749,\n                                            __global unsigned char *mem_104753,\n                                            __global unsigned char *mem_104757,\n                                            __global unsigned char *mem_104763,\n                                            __global unsigned char *mem_104767,\n                                            __global unsigned char *mem_104770,\n                                            __global unsigned char *mem_104773,\n                                            __global unsigned char *mem_104776,\n                                            __global unsigned char *mem_104781,\n                                            __global unsigned char *mem_104801,\n                                            __global unsigned char *mem_104805)\n{\n    bool x_92416 = x_92416_bits;\n    bool loop_cond_92426 = loop_cond_92426_bits;\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_106224_backing_10 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106224_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_106222_backing_9 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106222_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_106218_backing_8 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106218_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_106216_back",
                   "ing_7 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106216_backing_aligned_3;\n    __local volatile unsigned char *restrict red_arr_mem_106214_backing_6 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106214_backing_aligned_4;\n    __local volatile unsigned char *restrict red_arr_mem_106212_backing_5 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106212_backing_aligned_5;\n    __local volatile unsigned char *restrict red_arr_mem_106210_backing_4 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106210_backing_aligned_6;\n    __local volatile unsigned char *restrict color_105259_backing_3 =\n                                   (__local volatile\n                                    unsigned char *) color_105259_backing_aligned_7;\n    __local volatile unsigned char *restrict color_105258_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) color_105258_backing_aligned_8;\n    __local volatile unsigned char *restrict color_105257_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) color_105257_backing_aligned_9;\n    __local volatile unsigned char *restrict color_105256_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) color_105256_backing_aligned_10;\n    volatile __local bool local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = false;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t global_tid_106191;\n    int32_t local_tid_106192;\n    int64_t group_sizze_106195;\n    int32_t wave_siz",
                   "ze_106194;\n    int32_t group_tid_106193;\n    \n    global_tid_106191 = get_global_id(0);\n    local_tid_106192 = get_local_id(0);\n    group_sizze_106195 = get_local_size(0);\n    wave_sizze_106194 = LOCKSTEP_WIDTH;\n    group_tid_106193 = get_group_id(0);\n    \n    int32_t phys_tid_98415 = group_tid_106193;\n    int64_t slice_106197 = q_92401;\n    int64_t ltid_pre_106196 = sext_i32_i64(local_tid_106192);\n    int64_t remnant_106198 = sext_i32_i64(local_tid_106192) - ltid_pre_106196;\n    int64_t slice_106199 = n_m_92409;\n    int64_t slice_106200 = m_92398 * slice_106199;\n    int64_t gtid_98413 = squot64(sext_i32_i64(group_tid_106193), slice_106199);\n    int64_t remnant_106201 = sext_i32_i64(group_tid_106193) - gtid_98413 *\n            slice_106199;\n    int64_t gtid_98414 = remnant_106201;\n    int64_t remnant_106202 = remnant_106201 - gtid_98414;\n    __local unsigned char *color_105256;\n    \n    color_105256 = (__local unsigned char *) color_105256_backing_0;\n    \n    __local unsigned char *color_105257;\n    \n    color_105257 = (__local unsigned char *) color_105257_backing_1;\n    \n    __local unsigned char *color_105258;\n    \n    color_105258 = (__local unsigned char *) color_105258_backing_2;\n    \n    __local unsigned char *color_105259;\n    \n    color_105259 = (__local unsigned char *) color_105259_backing_3;\n    \n    int64_t last_res_98416;\n    \n    last_res_98416 = ((__global int64_t *) mem_104749)[gtid_98413 * n_92399 +\n                                                       i_92415];\n    \n    int64_t min_arg_98423;\n    \n    min_arg_98423 = ((__global int64_t *) mem_104767)[gtid_98413];\n    \n    int64_t min_arg_98424;\n    \n    min_arg_98424 = ((__global int64_t *) mem_104770)[gtid_98413];\n    \n    int64_t min_res_98425;\n    \n    min_res_98425 = ((__global int64_t *) mem_104773)[gtid_98413];\n    \n    double max_res_98426;\n    \n    max_res_98426 = ((__global double *) mem_104776)[gtid_98413];\n    \n    int64_t min_arg_98430 = mul64(jump_92403, gtid_98414);\n    int64_t min_",
                   "res_98431 = smin64(i_92415, min_arg_98430);\n    int64_t defunc_0_g_res_98432 = add64((int64_t) 1, min_res_98431);\n    bool init_idx_98433;\n    int64_t init_idx_98434;\n    int64_t init_idx_98435;\n    bool loop_while_98436;\n    int64_t low_98437;\n    int64_t high_98438;\n    \n    loop_while_98436 = x_92416;\n    low_98437 = (int64_t) 0;\n    high_98438 = i_92415;\n    while (loop_while_98436) {\n        int64_t x_98439 = add64(low_98437, high_98438);\n        int64_t mid_98440 = sdiv64(x_98439, (int64_t) 2);\n        bool x_98441 = sle64((int64_t) 0, mid_98440);\n        bool y_98442 = slt64(mid_98440, n_92399);\n        bool bounds_check_98443 = x_98441 && y_98442;\n        bool index_certs_98444;\n        \n        if (!bounds_check_98443) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 25) == -1) {\n                    global_failure_args[0] = (int64_t) mid_98440;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t mid_id_98445;\n        \n        mid_id_98445 = ((__global int64_t *) mem_104763)[gtid_98413 * n_92399 +\n                                                         mid_98440];\n        \n        bool cond_98446 = slt64(mid_id_98445, (int64_t) 0);\n        int64_t mid_idx_98447;\n        \n        if (cond_98446) {\n            mid_idx_98447 = (int64_t) 9223372036854775807;\n        } else {\n            mid_idx_98447 = mid_id_98445;\n        }\n        \n        bool cond_98448 = sle64(defunc_0_g_res_98432, mid_idx_98447);\n        int64_t loopres_98449;\n        int64_t loopres_98450;\n        \n        if (cond_98448) {\n            int64_t loopres_t_res_98451 = sub64(mid_98440, (int64_t) 1);\n            \n            loopres_98449 = low_98437;\n            loopres_98450 = loopres_t_res_98451;\n        } else {\n            int64_t loopres_f_res_98452 = add64((int64_t) 1, mid_98440);\n     ",
                   "       \n            loopres_98449 = loopres_f_res_98452;\n            loopres_98450 = high_98438;\n        }\n        \n        bool loop_cond_98453 = sle64(loopres_98449, loopres_98450);\n        bool loop_while_tmp_106203 = loop_cond_98453;\n        int64_t low_tmp_106204 = loopres_98449;\n        int64_t high_tmp_106205 = loopres_98450;\n        \n        loop_while_98436 = loop_while_tmp_106203;\n        low_98437 = low_tmp_106204;\n        high_98438 = high_tmp_106205;\n    }\n    init_idx_98433 = loop_while_98436;\n    init_idx_98434 = low_98437;\n    init_idx_98435 = high_98438;\n    \n    bool idx_98454;\n    int64_t idx_98455;\n    int64_t idx_98456;\n    int64_t idx_98457;\n    bool loop_while_98458;\n    int64_t l_idx_98459;\n    int64_t r_idx_98460;\n    int64_t span_98461;\n    \n    loop_while_98458 = loop_cond_92426;\n    l_idx_98459 = init_idx_98434;\n    r_idx_98460 = init_idx_98434;\n    span_98461 = (int64_t) 1;\n    while (loop_while_98458) {\n        int64_t max_arg_98462 = sub64(l_idx_98459, (int64_t) 1);\n        int64_t max_res_98463 = smax64((int64_t) 0, max_arg_98462);\n        int64_t min_arg_98464 = add64((int64_t) 1, r_idx_98460);\n        int64_t min_res_98465 = smin64(min_arg_98423, min_arg_98464);\n        bool x_98466 = sle64((int64_t) 0, max_res_98463);\n        bool y_98467 = slt64(max_res_98463, n_92399);\n        bool bounds_check_98468 = x_98466 && y_98467;\n        bool index_certs_98469;\n        \n        if (!bounds_check_98468) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 26) == -1) {\n                    global_failure_args[0] = (int64_t) max_res_98463;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t x_98470;\n        \n        x_98470 = ((__global int64_t *) mem_104763)[gtid_98413 * n_92399 +\n                                                    max_res_98463]",
                   ";\n        \n        int64_t abs_arg_98471 = sub64(x_98470, defunc_0_g_res_98432);\n        int64_t abs_res_98472 = abs64(abs_arg_98471);\n        bool x_98473 = sle64((int64_t) 0, min_res_98465);\n        bool y_98474 = slt64(min_res_98465, n_92399);\n        bool bounds_check_98475 = x_98473 && y_98474;\n        bool index_certs_98476;\n        \n        if (!bounds_check_98475) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 27) == -1) {\n                    global_failure_args[0] = (int64_t) min_res_98465;\n                    global_failure_args[1] = (int64_t) n_92399;\n                    ;\n                }\n                local_failure = true;\n                goto error_0;\n            }\n        }\n        \n        int64_t x_98477;\n        \n        x_98477 = ((__global int64_t *) mem_104763)[gtid_98413 * n_92399 +\n                                                    min_res_98465];\n        \n        int64_t abs_arg_98478 = sub64(x_98477, defunc_0_g_res_98432);\n        int64_t abs_res_98479 = abs64(abs_arg_98478);\n        bool cond_98480 = max_res_98463 == l_idx_98459;\n        int64_t loopres_98481;\n        int64_t loopres_98482;\n        int64_t loopres_98483;\n        \n        if (cond_98480) {\n            loopres_98481 = l_idx_98459;\n            loopres_98482 = r_idx_98460;\n            loopres_98483 = min_res_92421;\n        } else {\n            bool cond_98484 = slt64(abs_res_98472, abs_res_98479);\n            bool cond_f_res_98485 = min_res_98465 == r_idx_98460;\n            bool x_98486 = !cond_98484;\n            bool y_98487 = cond_f_res_98485 && x_98486;\n            bool cond_98488 = cond_98484 || y_98487;\n            int64_t loopres_f_res_98489;\n            \n            if (cond_98488) {\n                loopres_f_res_98489 = max_res_98463;\n            } else {\n                loopres_f_res_98489 = l_idx_98459;\n            }\n            \n            int64_t loopres_f_res_98490;\n            \n            if (cond_98488) {\n                l",
                   "oopres_f_res_98490 = r_idx_98460;\n            } else {\n                loopres_f_res_98490 = min_res_98465;\n            }\n            \n            int64_t loopres_f_res_98491;\n            \n            if (cond_98488) {\n                int64_t loopres_f_res_t_res_98492 = add64((int64_t) 1,\n                                                          span_98461);\n                \n                loopres_f_res_98491 = loopres_f_res_t_res_98492;\n            } else {\n                int64_t loopres_f_res_f_res_98493 = add64((int64_t) 1,\n                                                          span_98461);\n                \n                loopres_f_res_98491 = loopres_f_res_f_res_98493;\n            }\n            loopres_98481 = loopres_f_res_98489;\n            loopres_98482 = loopres_f_res_98490;\n            loopres_98483 = loopres_f_res_98491;\n        }\n        \n        bool loop_cond_98494 = slt64(loopres_98483, min_res_92421);\n        bool loop_while_tmp_106206 = loop_cond_98494;\n        int64_t l_idx_tmp_106207 = loopres_98481;\n        int64_t r_idx_tmp_106208 = loopres_98482;\n        int64_t span_tmp_106209 = loopres_98483;\n        \n        loop_while_98458 = loop_while_tmp_106206;\n        l_idx_98459 = l_idx_tmp_106207;\n        r_idx_98460 = r_idx_tmp_106208;\n        span_98461 = span_tmp_106209;\n    }\n    idx_98454 = loop_while_98458;\n    idx_98455 = l_idx_98459;\n    idx_98456 = r_idx_98460;\n    idx_98457 = span_98461;\n    \n    int64_t min_res_98495 = smin64(min_arg_98424, idx_98455);\n    int64_t max_res_98496 = smax64((int64_t) 0, min_res_98495);\n    int64_t x_98497 = add64(min_res_98425, max_res_98496);\n    int64_t r_98498 = sub64(x_98497, (int64_t) 1);\n    bool x_98499 = sle64((int64_t) 0, r_98498);\n    bool y_98500 = slt64(r_98498, n_92399);\n    bool bounds_check_98501 = x_98499 && y_98500;\n    bool index_certs_98502;\n    \n    if (!bounds_check_98501) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 28) == -1) {\n                global_fai",
                   "lure_args[0] = (int64_t) r_98498;\n                global_failure_args[1] = (int64_t) n_92399;\n                ;\n            }\n            local_failure = true;\n            goto error_0;\n        }\n    }\n    \n    int64_t x_98503;\n    \n    x_98503 = ((__global int64_t *) mem_104757)[gtid_98413 * n_92399 + r_98498];\n    \n    int64_t abs_arg_98504 = sub64(x_98503, min_res_98431);\n    int64_t abs_res_98505 = abs64(abs_arg_98504);\n    bool x_98506 = sle64((int64_t) 0, max_res_98496);\n    bool y_98507 = slt64(max_res_98496, n_92399);\n    bool bounds_check_98508 = x_98506 && y_98507;\n    bool index_certs_98509;\n    \n    if (!bounds_check_98508) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 29) == -1) {\n                global_failure_args[0] = (int64_t) max_res_98496;\n                global_failure_args[1] = (int64_t) n_92399;\n                ;\n            }\n            local_failure = true;\n            goto error_0;\n        }\n    }\n    \n    int64_t x_98510;\n    \n    x_98510 = ((__global int64_t *) mem_104757)[gtid_98413 * n_92399 +\n                                                max_res_98496];\n    \n    int64_t abs_arg_98511 = sub64(x_98510, min_res_98431);\n    int64_t abs_res_98512 = abs64(abs_arg_98511);\n    int64_t max_res_98513 = smax64(abs_res_98505, abs_res_98512);\n    double defunc_0_f_res_98514 = sitofp_i64_f64(max_res_98513);\n    double defunc_1_f_res_98515 = max_res_98426 + defunc_0_f_res_98514;\n    int64_t gtid_98518 = sext_i32_i64(sext_i64_i32(ltid_pre_106196));\n    int32_t phys_tid_98519 = local_tid_106192;\n    double x_98521;\n    \n    x_98521 = ((__global double *) mem_104781)[gtid_98413 * q_92401 +\n                                               gtid_98518];\n    \n    bool cond_98522 = sle64(last_res_98416, gtid_98518);\n    int64_t defunc_0_f_res_98523;\n    \n    if (cond_98522) {\n        defunc_0_f_res_98523 = (int64_t) 0;\n    } else {\n        int64_t i_98524 = add64(max_res_98496, gtid_98518);\n        int64_t defunc_0_add_arg_98525;\n",
                   "        \n        defunc_0_add_arg_98525 = ((__global int64_t *) mem_104757)[gtid_98413 *\n                                                                   n_92399 +\n                                                                   i_98524];\n        \n        int64_t defunc_1_add_res_98526 = add64((int64_t) 1,\n                                               defunc_0_add_arg_98525);\n        \n        defunc_0_f_res_98523 = defunc_1_add_res_98526;\n    }\n    \n    int64_t binop_p_98527 = sub64(defunc_0_f_res_98523, min_res_98431);\n    double defunc_0_f_res_98528 = sitofp_i64_f64(binop_p_98527);\n    double abs_res_98529 = fabs(defunc_0_f_res_98528);\n    double tmp1_98530 = abs_res_98529 / defunc_1_f_res_98515;\n    double x_98531 = tmp1_98530 * tmp1_98530;\n    double y_98532 = tmp1_98530 * x_98531;\n    double tmp2_98533 = 1.0 - y_98532;\n    double x_98534 = tmp2_98533 * tmp2_98533;\n    double tmp3_98535 = tmp2_98533 * x_98534;\n    double tmp4_98536 = x_98521 * tmp3_98535;\n    \n    ((__local double *) color_105259)[gtid_98518] = defunc_0_f_res_98528;\n    ((__local double *) color_105258)[gtid_98518] = tmp4_98536;\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    double defunc_2_reduce_res_98537;\n    double defunc_2_reduce_res_98538;\n    double defunc_2_reduce_res_98539;\n    double defunc_2_reduce_res_98540;\n    double defunc_2_reduce_res_98541;\n    int64_t gtid_98544 = sext_i32_i64(sext_i64_i32(ltid_pre_106196));\n    int32_t phys_tid_98545 = local_tid_106192;\n    __local unsigned char *red_arr_mem_106210;\n    \n    red_arr_mem_106210 = (__local unsigned char *) red_arr_mem_106210_backing_4;\n    \n    __local unsigned char *red_arr_mem_106212;\n    \n    red_arr_mem_106212 = (__local unsigned char *) red_arr_mem_106212_backing_5;\n    \n    __local unsigned char *red_arr_mem_106214;\n    \n    red_arr_mem_106214 = (__local unsigned char *) red_arr_mem_106214_backing_6;\n    \n    __local unsigned char *re",
                   "d_arr_mem_106216;\n    \n    red_arr_mem_106216 = (__local unsigned char *) red_arr_mem_106216_backing_7;\n    \n    __local unsigned char *red_arr_mem_106218;\n    \n    red_arr_mem_106218 = (__local unsigned char *) red_arr_mem_106218_backing_8;\n    \n    double x_98561;\n    \n    x_98561 = ((__local double *) color_105259)[gtid_98544];\n    \n    double x_98562;\n    \n    x_98562 = ((__local double *) color_105258)[gtid_98544];\n    \n    double defunc_1_f_res_98563 = x_98561 * x_98562;\n    double defunc_1_f_res_98564 = x_98561 * defunc_1_f_res_98563;\n    double defunc_1_f_res_98565 = x_98561 * defunc_1_f_res_98564;\n    double defunc_1_f_res_98566 = x_98561 * defunc_1_f_res_98565;\n    \n    ((__local double *) red_arr_mem_106210)[gtid_98544] = x_98562;\n    ((__local double *) red_arr_mem_106212)[gtid_98544] = defunc_1_f_res_98563;\n    ((__local double *) red_arr_mem_106214)[gtid_98544] = defunc_1_f_res_98564;\n    ((__local double *) red_arr_mem_106216)[gtid_98544] = defunc_1_f_res_98565;\n    ((__local double *) red_arr_mem_106218)[gtid_98544] = defunc_1_f_res_98566;\n    ((__local double *) color_105257)[gtid_98544] = defunc_1_f_res_98564;\n    ((__local double *) color_105256)[gtid_98544] = defunc_1_f_res_98563;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_106220;\n    int32_t skip_waves_106221 = 1;\n    double x_98546;\n    double x_98547;\n    double x_98548;\n    double x_98549;\n    double x_98550;\n    double x_98551;\n    double x_98552;\n    double x_98553;\n    double x_98554;\n    double x_98555;\n    \n    offset_106220 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_106192, sext_i64_i32(q_92401))) {\n            x_98546 = ((__local\n                        double *) red_arr_mem_106210)[sext_i32_i64(local_tid_106192 +\n                                                      offset_106220)];\n            x_98547 = ((__local\n                        double *) red_arr_mem_106212)[sext_i32_i64(local_tid_106192 +\n                      ",
                   "                                offset_106220)];\n            x_98548 = ((__local\n                        double *) red_arr_mem_106214)[sext_i32_i64(local_tid_106192 +\n                                                      offset_106220)];\n            x_98549 = ((__local\n                        double *) red_arr_mem_106216)[sext_i32_i64(local_tid_106192 +\n                                                      offset_106220)];\n            x_98550 = ((__local\n                        double *) red_arr_mem_106218)[sext_i32_i64(local_tid_106192 +\n                                                      offset_106220)];\n        }\n    }\n    offset_106220 = 1;\n    while (slt32(offset_106220, wave_sizze_106194)) {\n        if (slt32(local_tid_106192 + offset_106220, sext_i64_i32(q_92401)) &&\n            ((local_tid_106192 - squot32(local_tid_106192, wave_sizze_106194) *\n              wave_sizze_106194) & (2 * offset_106220 - 1)) == 0) {\n            // read array element\n            {\n                x_98551 = ((volatile __local\n                            double *) red_arr_mem_106210)[sext_i32_i64(local_tid_106192 +\n                                                          offset_106220)];\n                x_98552 = ((volatile __local\n                            double *) red_arr_mem_106212)[sext_i32_i64(local_tid_106192 +\n                                                          offset_106220)];\n                x_98553 = ((volatile __local\n                            double *) red_arr_mem_106214)[sext_i32_i64(local_tid_106192 +\n                                                          offset_106220)];\n                x_98554 = ((volatile __local\n                            double *) red_arr_mem_106216)[sext_i32_i64(local_tid_106192 +\n                                                          offset_106220)];\n                x_98555 = ((volatile __local\n                            double *) red_arr_mem_106218)[sext_i32_i64(local_tid_106192 +\n                                          ",
                   "                offset_106220)];\n            }\n            // apply reduction operation\n            {\n                double defunc_1_op_res_98556 = x_98546 + x_98551;\n                double defunc_1_op_res_98557 = x_98547 + x_98552;\n                double defunc_1_op_res_98558 = x_98548 + x_98553;\n                double defunc_1_op_res_98559 = x_98549 + x_98554;\n                double defunc_1_op_res_98560 = x_98550 + x_98555;\n                \n                x_98546 = defunc_1_op_res_98556;\n                x_98547 = defunc_1_op_res_98557;\n                x_98548 = defunc_1_op_res_98558;\n                x_98549 = defunc_1_op_res_98559;\n                x_98550 = defunc_1_op_res_98560;\n            }\n            // write result of operation\n            {\n                ((volatile __local\n                  double *) red_arr_mem_106210)[sext_i32_i64(local_tid_106192)] =\n                    x_98546;\n                ((volatile __local\n                  double *) red_arr_mem_106212)[sext_i32_i64(local_tid_106192)] =\n                    x_98547;\n                ((volatile __local\n                  double *) red_arr_mem_106214)[sext_i32_i64(local_tid_106192)] =\n                    x_98548;\n                ((volatile __local\n                  double *) red_arr_mem_106216)[sext_i32_i64(local_tid_106192)] =\n                    x_98549;\n                ((volatile __local\n                  double *) red_arr_mem_106218)[sext_i32_i64(local_tid_106192)] =\n                    x_98550;\n            }\n        }\n        offset_106220 *= 2;\n    }\n    while (slt32(skip_waves_106221, squot32(sext_i64_i32(q_92401) +\n                                            wave_sizze_106194 - 1,\n                                            wave_sizze_106194))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_106220 = skip_waves_106221 * wave_sizze_106194;\n        if (slt32(local_tid_106192 + offset_106220, sext_i64_i32(q_92401)) &&\n            ((local_tid_106192 - squot32(local_tid_106192, wave_sizz",
                   "e_106194) *\n              wave_sizze_106194) == 0 && (squot32(local_tid_106192,\n                                                  wave_sizze_106194) & (2 *\n                                                                        skip_waves_106221 -\n                                                                        1)) ==\n             0)) {\n            // read array element\n            {\n                x_98551 = ((__local\n                            double *) red_arr_mem_106210)[sext_i32_i64(local_tid_106192 +\n                                                          offset_106220)];\n                x_98552 = ((__local\n                            double *) red_arr_mem_106212)[sext_i32_i64(local_tid_106192 +\n                                                          offset_106220)];\n                x_98553 = ((__local\n                            double *) red_arr_mem_106214)[sext_i32_i64(local_tid_106192 +\n                                                          offset_106220)];\n                x_98554 = ((__local\n                            double *) red_arr_mem_106216)[sext_i32_i64(local_tid_106192 +\n                                                          offset_106220)];\n                x_98555 = ((__local\n                            double *) red_arr_mem_106218)[sext_i32_i64(local_tid_106192 +\n                                                          offset_106220)];\n            }\n            // apply reduction operation\n            {\n                double defunc_1_op_res_98556 = x_98546 + x_98551;\n                double defunc_1_op_res_98557 = x_98547 + x_98552;\n                double defunc_1_op_res_98558 = x_98548 + x_98553;\n                double defunc_1_op_res_98559 = x_98549 + x_98554;\n                double defunc_1_op_res_98560 = x_98550 + x_98555;\n                \n                x_98546 = defunc_1_op_res_98556;\n                x_98547 = defunc_1_op_res_98557;\n                x_98548 = defunc_1_op_res_98558;\n                x_98549 = defunc_1_op_",
                   "res_98559;\n                x_98550 = defunc_1_op_res_98560;\n            }\n            // write result of operation\n            {\n                ((__local\n                  double *) red_arr_mem_106210)[sext_i32_i64(local_tid_106192)] =\n                    x_98546;\n                ((__local\n                  double *) red_arr_mem_106212)[sext_i32_i64(local_tid_106192)] =\n                    x_98547;\n                ((__local\n                  double *) red_arr_mem_106214)[sext_i32_i64(local_tid_106192)] =\n                    x_98548;\n                ((__local\n                  double *) red_arr_mem_106216)[sext_i32_i64(local_tid_106192)] =\n                    x_98549;\n                ((__local\n                  double *) red_arr_mem_106218)[sext_i32_i64(local_tid_106192)] =\n                    x_98550;\n            }\n        }\n        skip_waves_106221 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_2_reduce_res_98537 = ((__local\n                                  double *) red_arr_mem_106210)[(int64_t) 0];\n    defunc_2_reduce_res_98538 = ((__local\n                                  double *) red_arr_mem_106212)[(int64_t) 0];\n    defunc_2_reduce_res_98539 = ((__local\n                                  double *) red_arr_mem_106214)[(int64_t) 0];\n    defunc_2_reduce_res_98540 = ((__local\n                                  double *) red_arr_mem_106216)[(int64_t) 0];\n    defunc_2_reduce_res_98541 = ((__local\n                                  double *) red_arr_mem_106218)[(int64_t) 0];\n    \n    double x_98567 = defunc_2_reduce_res_98539 * defunc_2_reduce_res_98541;\n    double y_98568 = defunc_2_reduce_res_98540 * defunc_2_reduce_res_98540;\n    double a12_98569 = x_98567 - y_98568;\n    double x_98570 = defunc_2_reduce_res_98539 * defunc_2_reduce_res_98540;\n    double y_98571 = defunc_2_reduce_res_98538 * defunc_2_reduce_res_98541;\n    double b12_98572 = x_98570 - y_98571;\n    double x_98573 = defunc_2_reduce_res_98538 * defunc_2_reduce_res_98540;\n    double y_98574 = ",
                   "defunc_2_reduce_res_98539 * defunc_2_reduce_res_98539;\n    double c12_98575 = x_98573 - y_98574;\n    double x_98576 = defunc_2_reduce_res_98537 * defunc_2_reduce_res_98541;\n    double b2_98577 = x_98576 - y_98574;\n    double x_98578 = defunc_2_reduce_res_98538 * defunc_2_reduce_res_98539;\n    double y_98579 = defunc_2_reduce_res_98537 * defunc_2_reduce_res_98540;\n    double c2_98580 = x_98578 - y_98579;\n    double x_98581 = defunc_2_reduce_res_98537 * a12_98569;\n    double y_98582 = defunc_2_reduce_res_98538 * b12_98572;\n    double x_98583 = x_98581 + y_98582;\n    double y_98584 = defunc_2_reduce_res_98539 * c12_98575;\n    double y_98585 = x_98583 + y_98584;\n    double det_98586 = 1.0 / y_98585;\n    double a12_98587 = a12_98569 * det_98586;\n    double b12_98588 = b12_98572 * det_98586;\n    double c12_98589 = c12_98575 * det_98586;\n    double b2_98590 = b2_98577 * det_98586;\n    double c2_98591 = c2_98580 * det_98586;\n    double defunc_2_reduce_res_98592;\n    double defunc_2_reduce_res_98593;\n    int64_t gtid_98594 = sext_i32_i64(sext_i64_i32(ltid_pre_106196));\n    int32_t phys_tid_98595 = local_tid_106192;\n    __local unsigned char *red_arr_mem_106222;\n    \n    red_arr_mem_106222 = (__local unsigned char *) red_arr_mem_106222_backing_9;\n    \n    __local unsigned char *red_arr_mem_106224;\n    \n    red_arr_mem_106224 = (__local\n                          unsigned char *) red_arr_mem_106224_backing_10;\n    \n    double x_98603;\n    \n    x_98603 = ((__local double *) color_105258)[gtid_98594];\n    \n    double x_98604;\n    \n    x_98604 = ((__local double *) color_105256)[gtid_98594];\n    \n    double x_98605;\n    \n    x_98605 = ((__local double *) color_105257)[gtid_98594];\n    \n    bool cond_98606 = sle64(last_res_98416, gtid_98594);\n    double defunc_0_f_res_98607;\n    \n    if (cond_98606) {\n        defunc_0_f_res_98607 = 0.0;\n    } else {\n        int64_t i_98608 = add64(max_res_98496, gtid_98594);\n        double defunc_0_add_arg_98609;\n        \n        defunc_0_add_arg_9",
                   "8609 = ((__global double *) mem_104753)[gtid_98413 *\n                                                                  n_92399 +\n                                                                  i_98608];\n        defunc_0_f_res_98607 = defunc_0_add_arg_98609;\n    }\n    \n    double x_98610 = a12_98587 * x_98603;\n    double y_98611 = b12_98588 * x_98604;\n    double x_98612 = x_98610 + y_98611;\n    double y_98613 = c12_98589 * x_98605;\n    double x_98614 = x_98612 + y_98613;\n    double defunc_9_fit_fun_res_98615 = defunc_0_f_res_98607 * x_98614;\n    double x_98616 = b12_98588 * x_98603;\n    double y_98617 = b2_98590 * x_98604;\n    double x_98618 = x_98616 + y_98617;\n    double y_98619 = c2_98591 * x_98605;\n    double x_98620 = x_98618 + y_98619;\n    double defunc_9_slope_fun_res_98621 = defunc_0_f_res_98607 * x_98620;\n    \n    ((__local double *) red_arr_mem_106222)[gtid_98594] =\n        defunc_9_fit_fun_res_98615;\n    ((__local double *) red_arr_mem_106224)[gtid_98594] =\n        defunc_9_slope_fun_res_98621;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_106226;\n    int32_t skip_waves_106227 = 1;\n    double x_98596;\n    double x_98597;\n    double x_98598;\n    double x_98599;\n    \n    offset_106226 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_106192, sext_i64_i32(q_92401))) {\n            x_98596 = ((__local\n                        double *) red_arr_mem_106222)[sext_i32_i64(local_tid_106192 +\n                                                      offset_106226)];\n            x_98597 = ((__local\n                        double *) red_arr_mem_106224)[sext_i32_i64(local_tid_106192 +\n                                                      offset_106226)];\n        }\n    }\n    offset_106226 = 1;\n    while (slt32(offset_106226, wave_sizze_106194)) {\n        if (slt32(local_tid_106192 + offset_106226, sext_i64_i32(q_92401)) &&\n            ((local_tid_106192 - squot32(local_tid_106192, wave_sizze_106194) *\n              wave",
                   "_sizze_106194) & (2 * offset_106226 - 1)) == 0) {\n            // read array element\n            {\n                x_98598 = ((volatile __local\n                            double *) red_arr_mem_106222)[sext_i32_i64(local_tid_106192 +\n                                                          offset_106226)];\n                x_98599 = ((volatile __local\n                            double *) red_arr_mem_106224)[sext_i32_i64(local_tid_106192 +\n                                                          offset_106226)];\n            }\n            // apply reduction operation\n            {\n                double defunc_1_op_res_98600 = x_98596 + x_98598;\n                double defunc_1_op_res_98601 = x_98597 + x_98599;\n                \n                x_98596 = defunc_1_op_res_98600;\n                x_98597 = defunc_1_op_res_98601;\n            }\n            // write result of operation\n            {\n                ((volatile __local\n                  double *) red_arr_mem_106222)[sext_i32_i64(local_tid_106192)] =\n                    x_98596;\n                ((volatile __local\n                  double *) red_arr_mem_106224)[sext_i32_i64(local_tid_106192)] =\n                    x_98597;\n            }\n        }\n        offset_106226 *= 2;\n    }\n    while (slt32(skip_waves_106227, squot32(sext_i64_i32(q_92401) +\n                                            wave_sizze_106194 - 1,\n                                            wave_sizze_106194))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_106226 = skip_waves_106227 * wave_sizze_106194;\n        if (slt32(local_tid_106192 + offset_106226, sext_i64_i32(q_92401)) &&\n            ((local_tid_106192 - squot32(local_tid_106192, wave_sizze_106194) *\n              wave_sizze_106194) == 0 && (squot32(local_tid_106192,\n                                                  wave_sizze_106194) & (2 *\n                                                                        skip_waves_106227 -\n                                                  ",
                   "                      1)) ==\n             0)) {\n            // read array element\n            {\n                x_98598 = ((__local\n                            double *) red_arr_mem_106222)[sext_i32_i64(local_tid_106192 +\n                                                          offset_106226)];\n                x_98599 = ((__local\n                            double *) red_arr_mem_106224)[sext_i32_i64(local_tid_106192 +\n                                                          offset_106226)];\n            }\n            // apply reduction operation\n            {\n                double defunc_1_op_res_98600 = x_98596 + x_98598;\n                double defunc_1_op_res_98601 = x_98597 + x_98599;\n                \n                x_98596 = defunc_1_op_res_98600;\n                x_98597 = defunc_1_op_res_98601;\n            }\n            // write result of operation\n            {\n                ((__local\n                  double *) red_arr_mem_106222)[sext_i32_i64(local_tid_106192)] =\n                    x_98596;\n                ((__local\n                  double *) red_arr_mem_106224)[sext_i32_i64(local_tid_106192)] =\n                    x_98597;\n            }\n        }\n        skip_waves_106227 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_2_reduce_res_98592 = ((__local\n                                  double *) red_arr_mem_106222)[(int64_t) 0];\n    defunc_2_reduce_res_98593 = ((__local\n                                  double *) red_arr_mem_106224)[(int64_t) 0];\n    if (local_tid_106192 == 0) {\n        ((__global double *) mem_104801)[gtid_98413 * n_m_92409 + gtid_98414] =\n            defunc_2_reduce_res_98592;\n    }\n    if (local_tid_106192 == 0) {\n        ((__global double *) mem_104805)[gtid_98413 * n_m_92409 + gtid_98414] =\n            defunc_2_reduce_res_98593;\n    }\n    \n  error_5:\n    return;\n}\n__kernel void mainzisegred_large_100534(__global int *global_failure,\n                                        __local volatile\n                                  ",
                   "      int64_t *sync_arr_mem_106692_backing_aligned_0,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106690_backing_aligned_1,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106688_backing_aligned_2,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106686_backing_aligned_3,\n                                        int64_t m_92398, int64_t n_92399,\n                                        int64_t q_92401, int64_t jump_92403,\n                                        int64_t n_m_92409, int64_t i_92415,\n                                        int64_t num_groups_100526,\n                                        int64_t groups_per_segment_106668,\n                                        int64_t elements_per_thread_106669,\n                                        int64_t virt_num_groups_106670,\n                                        int64_t threads_per_segment_106672,\n                                        __global unsigned char *mem_104883,\n                                        __global unsigned char *mem_104891,\n                                        __global unsigned char *mem_104915,\n                                        __global unsigned char *mem_104924,\n                                        __global unsigned char *mem_104928,\n                                        __global unsigned char *mem_104933,\n                                        __global unsigned char *mem_104937,\n                                        __global unsigned char *mem_104941,\n                                        __global\n                                        unsigned char *segred_tmp_mem_106673,\n                                        __global\n                                        unsigned char *segred_tmp_mem_106675,\n                                        __global\n          ",
                   "                              unsigned char *segred_tmp_mem_106677,\n                                        __global\n                                        unsigned char *mainzicounter_mem_106679)\n{\n    #define segred_group_sizze_100525 (mainzisegred_group_sizze_99714)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_106692_backing_3 =\n                                   (__local volatile\n                                    unsigned char *) sync_arr_mem_106692_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_106690_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106690_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_106688_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106688_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_106686_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106686_backing_aligned_3;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106681;\n    int32_t local_tid_106682;\n    int64_t group_sizze_106685;\n    int32_t wave_sizze_106684;\n    int32_t group_tid_106683;\n    \n    global_tid_106681 = get_global_id(0);\n    local_tid_106682 = get_local_id(0);\n    group_sizze_106685 = get_local_size(0);\n    wave_sizze_106684 = LOCKSTEP_WIDTH;\n    group_tid_106683 = get_group_id(0);\n    \n    int32_t phys_tid_100534 = global_tid_106681;\n    __local unsigned char *red_arr_mem_106686;\n    \n    red_arr_mem_106686 = (__local unsigned char *) red_arr_mem_106686_backing_0;\n    \n    __local unsigned char *red_arr_mem_106688;\n    \n    red_arr_mem_106688 = (__local unsigned char *) red_arr_mem_106688_backing_1;\n    \n ",
                   "   __local unsigned char *red_arr_mem_106690;\n    \n    red_arr_mem_106690 = (__local unsigned char *) red_arr_mem_106690_backing_2;\n    \n    __local unsigned char *sync_arr_mem_106692;\n    \n    sync_arr_mem_106692 = (__local\n                           unsigned char *) sync_arr_mem_106692_backing_3;\n    \n    int32_t phys_group_id_106694;\n    \n    phys_group_id_106694 = get_group_id(0);\n    for (int32_t i_106695 = 0; i_106695 <\n         sdiv_up32(sext_i64_i32(virt_num_groups_106670) - phys_group_id_106694,\n                   sext_i64_i32(num_groups_100526)); i_106695++) {\n        int32_t virt_group_id_106696 = phys_group_id_106694 + i_106695 *\n                sext_i64_i32(num_groups_100526);\n        int32_t flat_segment_id_106697 = squot32(virt_group_id_106696,\n                                                 sext_i64_i32(groups_per_segment_106668));\n        int64_t global_tid_106698 = srem64(sext_i32_i64(virt_group_id_106696) *\n                                           segred_group_sizze_100525 +\n                                           sext_i32_i64(local_tid_106682),\n                                           segred_group_sizze_100525 *\n                                           groups_per_segment_106668);\n        int64_t slice_106699 = n_m_92409;\n        int64_t slice_106700 = m_92398 * slice_106699;\n        int64_t gtid_100531 = squot64(sext_i32_i64(flat_segment_id_106697),\n                                      slice_106699);\n        int64_t remnant_106701 = sext_i32_i64(flat_segment_id_106697) -\n                gtid_100531 * slice_106699;\n        int64_t gtid_100532 = remnant_106701;\n        int64_t remnant_106702 = remnant_106701 - gtid_100532;\n        int64_t gtid_100533;\n        double x_acc_106703;\n        double x_acc_106704;\n        double x_acc_106705;\n        int64_t chunk_sizze_106706 = smin64(elements_per_thread_106669,\n                                            sdiv_up64(q_92401 -\n                                                      global_tid_106",
                   "698,\n                                                      threads_per_segment_106672));\n        double x_100535;\n        double x_100536;\n        double x_100537;\n        double x_100538;\n        double x_100539;\n        double x_100540;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_106703 = 0.0;\n            x_acc_106704 = 0.0;\n            x_acc_106705 = 0.0;\n        }\n        for (int64_t i_106716 = 0; i_106716 < chunk_sizze_106706; i_106716++) {\n            gtid_100533 = global_tid_106698 + threads_per_segment_106672 *\n                i_106716;\n            // apply map function\n            {\n                int64_t last_res_100544;\n                \n                last_res_100544 = ((__global\n                                    int64_t *) mem_104883)[gtid_100531 *\n                                                           n_92399 + i_92415];\n                \n                int64_t binop_y_102136 = mul64(jump_92403, gtid_100532);\n                int64_t index_primexp_102137 = smin64(i_92415, binop_y_102136);\n                double defunc_1_f_res_100552;\n                \n                defunc_1_f_res_100552 = ((__global\n                                          double *) mem_104928)[gtid_100531 *\n                                                                n_m_92409 +\n                                                                gtid_100532];\n                \n                double x_100554;\n                \n                x_100554 = ((__global double *) mem_104915)[gtid_100531 *\n                                                            q_92401 +\n                                                            gtid_100533];\n                \n                bool cond_100555 = sle64(last_res_100544, gtid_100533);\n                int64_t defunc_0_f_res_100556;\n                \n                if (cond_100555) {\n                    defunc_0_f_res_100556 = (int64_t) 0;\n                } else {\n                    int64_t max_re",
                   "s_100551;\n                    \n                    max_res_100551 = ((__global\n                                       int64_t *) mem_104924)[gtid_100531 *\n                                                              n_m_92409 +\n                                                              gtid_100532];\n                    \n                    int64_t i_100557 = add64(gtid_100533, max_res_100551);\n                    int64_t defunc_0_add_arg_100558;\n                    \n                    defunc_0_add_arg_100558 = ((__global\n                                                int64_t *) mem_104891)[gtid_100531 *\n                                                                       n_92399 +\n                                                                       i_100557];\n                    \n                    int64_t defunc_1_add_res_100559 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_100558);\n                    \n                    defunc_0_f_res_100556 = defunc_1_add_res_100559;\n                }\n                \n                int64_t binop_p_100560 = sub64(defunc_0_f_res_100556,\n                                               index_primexp_102137);\n                double defunc_0_f_res_100561 = sitofp_i64_f64(binop_p_100560);\n                double abs_res_100562 = fabs(defunc_0_f_res_100561);\n                double tmp1_100563 = abs_res_100562 / defunc_1_f_res_100552;\n                double x_100564 = tmp1_100563 * tmp1_100563;\n                double y_100565 = tmp1_100563 * x_100564;\n                double tmp2_100566 = 1.0 - y_100565;\n                double x_100567 = tmp2_100566 * tmp2_100566;\n                double tmp3_100568 = tmp2_100566 * x_100567;\n                double w_j_100569 = x_100554 * tmp3_100568;\n                double xw_j_100570 = defunc_0_f_res_100561 * w_j_100569;\n                double x2w_j_100571 = defunc_0_f_res_100561 * xw_j_100570;\n                \n                // save map-out",
                   " results\n                { }\n                // load accumulator\n                {\n                    x_100535 = x_acc_106703;\n                    x_100536 = x_acc_106704;\n                    x_100537 = x_acc_106705;\n                }\n                // load new values\n                {\n                    x_100538 = w_j_100569;\n                    x_100539 = xw_j_100570;\n                    x_100540 = x2w_j_100571;\n                }\n                // apply reduction operator\n                {\n                    double defunc_1_op_res_100541 = x_100535 + x_100538;\n                    double defunc_1_op_res_100542 = x_100536 + x_100539;\n                    double defunc_1_op_res_100543 = x_100537 + x_100540;\n                    \n                    // store in accumulator\n                    {\n                        x_acc_106703 = defunc_1_op_res_100541;\n                        x_acc_106704 = defunc_1_op_res_100542;\n                        x_acc_106705 = defunc_1_op_res_100543;\n                    }\n                }\n            }\n        }\n        // to reduce current chunk, first store our result in memory\n        {\n            x_100535 = x_acc_106703;\n            x_100536 = x_acc_106704;\n            x_100537 = x_acc_106705;\n            ((__local\n              double *) red_arr_mem_106686)[sext_i32_i64(local_tid_106682)] =\n                x_100535;\n            ((__local\n              double *) red_arr_mem_106688)[sext_i32_i64(local_tid_106682)] =\n                x_100536;\n            ((__local\n              double *) red_arr_mem_106690)[sext_i32_i64(local_tid_106682)] =\n                x_100537;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_106717;\n        int32_t skip_waves_106718 = 1;\n        double x_106707;\n        double x_106708;\n        double x_106709;\n        double x_106710;\n        double x_106711;\n        double x_106712;\n        \n        offset_106717 = 0;\n        // participating threads read initial accumulator\n ",
                   "       {\n            if (slt32(local_tid_106682,\n                      sext_i64_i32(segred_group_sizze_100525))) {\n                x_106707 = ((__local\n                             double *) red_arr_mem_106686)[sext_i32_i64(local_tid_106682 +\n                                                           offset_106717)];\n                x_106708 = ((__local\n                             double *) red_arr_mem_106688)[sext_i32_i64(local_tid_106682 +\n                                                           offset_106717)];\n                x_106709 = ((__local\n                             double *) red_arr_mem_106690)[sext_i32_i64(local_tid_106682 +\n                                                           offset_106717)];\n            }\n        }\n        offset_106717 = 1;\n        while (slt32(offset_106717, wave_sizze_106684)) {\n            if (slt32(local_tid_106682 + offset_106717,\n                      sext_i64_i32(segred_group_sizze_100525)) &&\n                ((local_tid_106682 - squot32(local_tid_106682,\n                                             wave_sizze_106684) *\n                  wave_sizze_106684) & (2 * offset_106717 - 1)) == 0) {\n                // read array element\n                {\n                    x_106710 = ((volatile __local\n                                 double *) red_arr_mem_106686)[sext_i32_i64(local_tid_106682 +\n                                                               offset_106717)];\n                    x_106711 = ((volatile __local\n                                 double *) red_arr_mem_106688)[sext_i32_i64(local_tid_106682 +\n                                                               offset_106717)];\n                    x_106712 = ((volatile __local\n                                 double *) red_arr_mem_106690)[sext_i32_i64(local_tid_106682 +\n                                                               offset_106717)];\n                }\n                // apply reduction operation\n                {\n                    double de",
                   "func_1_op_res_106713 = x_106707 + x_106710;\n                    double defunc_1_op_res_106714 = x_106708 + x_106711;\n                    double defunc_1_op_res_106715 = x_106709 + x_106712;\n                    \n                    x_106707 = defunc_1_op_res_106713;\n                    x_106708 = defunc_1_op_res_106714;\n                    x_106709 = defunc_1_op_res_106715;\n                }\n                // write result of operation\n                {\n                    ((volatile __local\n                      double *) red_arr_mem_106686)[sext_i32_i64(local_tid_106682)] =\n                        x_106707;\n                    ((volatile __local\n                      double *) red_arr_mem_106688)[sext_i32_i64(local_tid_106682)] =\n                        x_106708;\n                    ((volatile __local\n                      double *) red_arr_mem_106690)[sext_i32_i64(local_tid_106682)] =\n                        x_106709;\n                }\n            }\n            offset_106717 *= 2;\n        }\n        while (slt32(skip_waves_106718,\n                     squot32(sext_i64_i32(segred_group_sizze_100525) +\n                             wave_sizze_106684 - 1, wave_sizze_106684))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_106717 = skip_waves_106718 * wave_sizze_106684;\n            if (slt32(local_tid_106682 + offset_106717,\n                      sext_i64_i32(segred_group_sizze_100525)) &&\n                ((local_tid_106682 - squot32(local_tid_106682,\n                                             wave_sizze_106684) *\n                  wave_sizze_106684) == 0 && (squot32(local_tid_106682,\n                                                      wave_sizze_106684) & (2 *\n                                                                            skip_waves_106718 -\n                                                                            1)) ==\n                 0)) {\n                // read array element\n                {\n                    x_106710 = ((__l",
                   "ocal\n                                 double *) red_arr_mem_106686)[sext_i32_i64(local_tid_106682 +\n                                                               offset_106717)];\n                    x_106711 = ((__local\n                                 double *) red_arr_mem_106688)[sext_i32_i64(local_tid_106682 +\n                                                               offset_106717)];\n                    x_106712 = ((__local\n                                 double *) red_arr_mem_106690)[sext_i32_i64(local_tid_106682 +\n                                                               offset_106717)];\n                }\n                // apply reduction operation\n                {\n                    double defunc_1_op_res_106713 = x_106707 + x_106710;\n                    double defunc_1_op_res_106714 = x_106708 + x_106711;\n                    double defunc_1_op_res_106715 = x_106709 + x_106712;\n                    \n                    x_106707 = defunc_1_op_res_106713;\n                    x_106708 = defunc_1_op_res_106714;\n                    x_106709 = defunc_1_op_res_106715;\n                }\n                // write result of operation\n                {\n                    ((__local\n                      double *) red_arr_mem_106686)[sext_i32_i64(local_tid_106682)] =\n                        x_106707;\n                    ((__local\n                      double *) red_arr_mem_106688)[sext_i32_i64(local_tid_106682)] =\n                        x_106708;\n                    ((__local\n                      double *) red_arr_mem_106690)[sext_i32_i64(local_tid_106682)] =\n                        x_106709;\n                }\n            }\n            skip_waves_106718 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_106682) == (int64_t) 0) {\n                x_acc_106703 = x_106707;\n                x_acc_106704 = x_106708;\n                x_acc_106705 = x_106709;\n ",
                   "           }\n        }\n        if (groups_per_segment_106668 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_106682 == 0) {\n                    ((__global double *) mem_104933)[gtid_100531 * n_m_92409 +\n                                                     gtid_100532] =\n                        x_acc_106703;\n                    ((__global double *) mem_104937)[gtid_100531 * n_m_92409 +\n                                                     gtid_100532] =\n                        x_acc_106704;\n                    ((__global double *) mem_104941)[gtid_100531 * n_m_92409 +\n                                                     gtid_100532] =\n                        x_acc_106705;\n                }\n            }\n        } else {\n            int32_t old_counter_106719;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_106682 == 0) {\n                    ((__global\n                      double *) segred_tmp_mem_106673)[sext_i32_i64(virt_group_id_106696)] =\n                        x_acc_106703;\n                    ((__global\n                      double *) segred_tmp_mem_106675)[sext_i32_i64(virt_group_id_106696)] =\n                        x_acc_106704;\n                    ((__global\n                      double *) segred_tmp_mem_106677)[sext_i32_i64(virt_group_id_106696)] =\n                        x_acc_106705;\n                    mem_fence_global();\n                    old_counter_106719 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_106679)[sext_i32_i64(srem32(flat_segment_id_106697,\n                                                                                                      10240))],\n                                              (int) 1);\n                    ((__local bool *) sync_arr_mem_106692)[(int64_t) 0] =\n     ",
                   "                   old_counter_106719 == groups_per_segment_106668 -\n                        (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_106720;\n            \n            is_last_group_106720 = ((__local\n                                     bool *) sync_arr_mem_106692)[(int64_t) 0];\n            if (is_last_group_106720) {\n                if (local_tid_106682 == 0) {\n                    old_counter_106719 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_106679)[sext_i32_i64(srem32(flat_segment_id_106697,\n                                                                                                      10240))],\n                                              (int) ((int64_t) 0 -\n                                                     groups_per_segment_106668));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_106721 =\n                            sdiv_up64(groups_per_segment_106668,\n                                      segred_group_sizze_100525);\n                    \n                    x_100535 = 0.0;\n                    x_100536 = 0.0;\n                    x_100537 = 0.0;\n                    for (int64_t i_106722 = 0; i_106722 <\n                         read_per_thread_106721; i_106722++) {\n                        int64_t group_res_id_106723 =\n                                sext_i32_i64(local_tid_106682) *\n                                read_per_thread_106721 + i_106722;\n                        int64_t index_of_group_res_106724 =\n                                sext_i32_i64(flat_segment_id_106697) *\n                                groups_per_segment_106668 + group_res_id_106723;\n                        \n                        if (slt64(group_res_id_106723,\n                              ",
                   "    groups_per_segment_106668)) {\n                            x_100538 = ((__global\n                                         double *) segred_tmp_mem_106673)[index_of_group_res_106724];\n                            x_100539 = ((__global\n                                         double *) segred_tmp_mem_106675)[index_of_group_res_106724];\n                            x_100540 = ((__global\n                                         double *) segred_tmp_mem_106677)[index_of_group_res_106724];\n                            \n                            double defunc_1_op_res_100541 = x_100535 + x_100538;\n                            double defunc_1_op_res_100542 = x_100536 + x_100539;\n                            double defunc_1_op_res_100543 = x_100537 + x_100540;\n                            \n                            x_100535 = defunc_1_op_res_100541;\n                            x_100536 = defunc_1_op_res_100542;\n                            x_100537 = defunc_1_op_res_100543;\n                        }\n                    }\n                }\n                ((__local\n                  double *) red_arr_mem_106686)[sext_i32_i64(local_tid_106682)] =\n                    x_100535;\n                ((__local\n                  double *) red_arr_mem_106688)[sext_i32_i64(local_tid_106682)] =\n                    x_100536;\n                ((__local\n                  double *) red_arr_mem_106690)[sext_i32_i64(local_tid_106682)] =\n                    x_100537;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_106725;\n                    int32_t skip_waves_106726 = 1;\n                    double x_106707;\n                    double x_106708;\n                    double x_106709;\n                    double x_106710;\n                    double x_106711;\n                    double x_106712;\n                    \n                    offset_106725 = 0;\n                    // participating threads read in",
                   "itial accumulator\n                    {\n                        if (slt32(local_tid_106682,\n                                  sext_i64_i32(segred_group_sizze_100525))) {\n                            x_106707 = ((__local\n                                         double *) red_arr_mem_106686)[sext_i32_i64(local_tid_106682 +\n                                                                       offset_106725)];\n                            x_106708 = ((__local\n                                         double *) red_arr_mem_106688)[sext_i32_i64(local_tid_106682 +\n                                                                       offset_106725)];\n                            x_106709 = ((__local\n                                         double *) red_arr_mem_106690)[sext_i32_i64(local_tid_106682 +\n                                                                       offset_106725)];\n                        }\n                    }\n                    offset_106725 = 1;\n                    while (slt32(offset_106725, wave_sizze_106684)) {\n                        if (slt32(local_tid_106682 + offset_106725,\n                                  sext_i64_i32(segred_group_sizze_100525)) &&\n                            ((local_tid_106682 - squot32(local_tid_106682,\n                                                         wave_sizze_106684) *\n                              wave_sizze_106684) & (2 * offset_106725 - 1)) ==\n                            0) {\n                            // read array element\n                            {\n                                x_106710 = ((volatile __local\n                                             double *) red_arr_mem_106686)[sext_i32_i64(local_tid_106682 +\n                                                                           offset_106725)];\n                                x_106711 = ((volatile __local\n                                             double *) red_arr_mem_106688)[sext_i32_i64(local_tid_106682 +\n                                ",
                   "                                           offset_106725)];\n                                x_106712 = ((volatile __local\n                                             double *) red_arr_mem_106690)[sext_i32_i64(local_tid_106682 +\n                                                                           offset_106725)];\n                            }\n                            // apply reduction operation\n                            {\n                                double defunc_1_op_res_106713 = x_106707 +\n                                       x_106710;\n                                double defunc_1_op_res_106714 = x_106708 +\n                                       x_106711;\n                                double defunc_1_op_res_106715 = x_106709 +\n                                       x_106712;\n                                \n                                x_106707 = defunc_1_op_res_106713;\n                                x_106708 = defunc_1_op_res_106714;\n                                x_106709 = defunc_1_op_res_106715;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local\n                                  double *) red_arr_mem_106686)[sext_i32_i64(local_tid_106682)] =\n                                    x_106707;\n                                ((volatile __local\n                                  double *) red_arr_mem_106688)[sext_i32_i64(local_tid_106682)] =\n                                    x_106708;\n                                ((volatile __local\n                                  double *) red_arr_mem_106690)[sext_i32_i64(local_tid_106682)] =\n                                    x_106709;\n                            }\n                        }\n                        offset_106725 *= 2;\n                    }\n                    while (slt32(skip_waves_106726,\n                                 squot32(sext_i64_i32(segred_group_sizze_100525)",
                   " +\n                                         wave_sizze_106684 - 1,\n                                         wave_sizze_106684))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_106725 = skip_waves_106726 * wave_sizze_106684;\n                        if (slt32(local_tid_106682 + offset_106725,\n                                  sext_i64_i32(segred_group_sizze_100525)) &&\n                            ((local_tid_106682 - squot32(local_tid_106682,\n                                                         wave_sizze_106684) *\n                              wave_sizze_106684) == 0 &&\n                             (squot32(local_tid_106682, wave_sizze_106684) &\n                              (2 * skip_waves_106726 - 1)) == 0)) {\n                            // read array element\n                            {\n                                x_106710 = ((__local\n                                             double *) red_arr_mem_106686)[sext_i32_i64(local_tid_106682 +\n                                                                           offset_106725)];\n                                x_106711 = ((__local\n                                             double *) red_arr_mem_106688)[sext_i32_i64(local_tid_106682 +\n                                                                           offset_106725)];\n                                x_106712 = ((__local\n                                             double *) red_arr_mem_106690)[sext_i32_i64(local_tid_106682 +\n                                                                           offset_106725)];\n                            }\n                            // apply reduction operation\n                            {\n                                double defunc_1_op_res_106713 = x_106707 +\n                                       x_106710;\n                                double defunc_1_op_res_106714 = x_106708 +\n                                       x_106711;\n                                do",
                   "uble defunc_1_op_res_106715 = x_106709 +\n                                       x_106712;\n                                \n                                x_106707 = defunc_1_op_res_106713;\n                                x_106708 = defunc_1_op_res_106714;\n                                x_106709 = defunc_1_op_res_106715;\n                            }\n                            // write result of operation\n                            {\n                                ((__local\n                                  double *) red_arr_mem_106686)[sext_i32_i64(local_tid_106682)] =\n                                    x_106707;\n                                ((__local\n                                  double *) red_arr_mem_106688)[sext_i32_i64(local_tid_106682)] =\n                                    x_106708;\n                                ((__local\n                                  double *) red_arr_mem_106690)[sext_i32_i64(local_tid_106682)] =\n                                    x_106709;\n                            }\n                        }\n                        skip_waves_106726 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_106682 == 0) {\n                            ((__global double *) mem_104933)[gtid_100531 *\n                                                             n_m_92409 +\n                                                             gtid_100532] =\n                                x_106707;\n                            ((__global double *) mem_104937)[gtid_100531 *\n                                                             n_m_92409 +\n                                                             gtid_100532] =\n                                x_106708;\n                            ((__global double *) mem_104941)[gtid_100531 *\n                                                             n_m_92409 +\n                                                        ",
                   "     gtid_100532] =\n                                x_106709;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_100525\n}\n__kernel void mainzisegred_large_100604(__global int *global_failure,\n                                        __local volatile\n                                        int64_t *sync_arr_mem_106793_backing_aligned_0,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106791_backing_aligned_1,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106789_backing_aligned_2,\n                                        int64_t m_92398, int64_t n_92399,\n                                        int64_t q_92401, int64_t jump_92403,\n                                        int64_t n_m_92409, int64_t i_92415,\n                                        int64_t num_groups_100597,\n                                        int64_t groups_per_segment_106773,\n                                        int64_t elements_per_thread_106774,\n                                        int64_t virt_num_groups_106775,\n                                        int64_t threads_per_segment_106777,\n                                        __global unsigned char *mem_104883,\n                                        __global unsigned char *mem_104887,\n                                        __global unsigned char *mem_104891,\n                                        __global unsigned char *mem_104915,\n                                        __global unsigned char *mem_104924,\n                                        __global unsigned char *mem_104928,\n                                        __global unsigned char *mem_104946,\n                                        __global unsigned char *mem_104950,\n          ",
                   "                              __global unsigned char *mem_104954,\n                                        __global unsigned char *mem_104959,\n                                        __global unsigned char *mem_104963,\n                                        __global\n                                        unsigned char *segred_tmp_mem_106778,\n                                        __global\n                                        unsigned char *segred_tmp_mem_106780,\n                                        __global\n                                        unsigned char *mainzicounter_mem_106782)\n{\n    #define segred_group_sizze_100596 (mainzisegred_group_sizze_99619)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_106793_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) sync_arr_mem_106793_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_106791_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106791_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_106789_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106789_backing_aligned_2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106784;\n    int32_t local_tid_106785;\n    int64_t group_sizze_106788;\n    int32_t wave_sizze_106787;\n    int32_t group_tid_106786;\n    \n    global_tid_106784 = get_global_id(0);\n    local_tid_106785 = get_local_id(0);\n    group_sizze_106788 = get_local_size(0);\n    wave_sizze_106787 = LOCKSTEP_WIDTH;\n    group_tid_106786 = get_group_id(0);\n    \n    int32_t phys_tid_100604 = global_tid_106784;\n    __local unsigned char *red_arr_mem_106789;\n    \n    red_arr_mem_106789 = (__local unsigne",
                   "d char *) red_arr_mem_106789_backing_0;\n    \n    __local unsigned char *red_arr_mem_106791;\n    \n    red_arr_mem_106791 = (__local unsigned char *) red_arr_mem_106791_backing_1;\n    \n    __local unsigned char *sync_arr_mem_106793;\n    \n    sync_arr_mem_106793 = (__local\n                           unsigned char *) sync_arr_mem_106793_backing_2;\n    \n    int32_t phys_group_id_106795;\n    \n    phys_group_id_106795 = get_group_id(0);\n    for (int32_t i_106796 = 0; i_106796 <\n         sdiv_up32(sext_i64_i32(virt_num_groups_106775) - phys_group_id_106795,\n                   sext_i64_i32(num_groups_100597)); i_106796++) {\n        int32_t virt_group_id_106797 = phys_group_id_106795 + i_106796 *\n                sext_i64_i32(num_groups_100597);\n        int32_t flat_segment_id_106798 = squot32(virt_group_id_106797,\n                                                 sext_i64_i32(groups_per_segment_106773));\n        int64_t global_tid_106799 = srem64(sext_i32_i64(virt_group_id_106797) *\n                                           segred_group_sizze_100596 +\n                                           sext_i32_i64(local_tid_106785),\n                                           segred_group_sizze_100596 *\n                                           groups_per_segment_106773);\n        int64_t slice_106800 = n_m_92409;\n        int64_t slice_106801 = m_92398 * slice_106800;\n        int64_t gtid_100601 = squot64(sext_i32_i64(flat_segment_id_106798),\n                                      slice_106800);\n        int64_t remnant_106802 = sext_i32_i64(flat_segment_id_106798) -\n                gtid_100601 * slice_106800;\n        int64_t gtid_100602 = remnant_106802;\n        int64_t remnant_106803 = remnant_106802 - gtid_100602;\n        int64_t gtid_100603;\n        double x_acc_106804;\n        double x_acc_106805;\n        int64_t chunk_sizze_106806 = smin64(elements_per_thread_106774,\n                                            sdiv_up64(q_92401 -\n                                                   ",
                   "   global_tid_106799,\n                                                      threads_per_segment_106777));\n        double x_100605;\n        double x_100606;\n        double x_100607;\n        double x_100608;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_106804 = 0.0;\n            x_acc_106805 = 0.0;\n        }\n        for (int64_t i_106813 = 0; i_106813 < chunk_sizze_106806; i_106813++) {\n            gtid_100603 = global_tid_106799 + threads_per_segment_106777 *\n                i_106813;\n            // apply map function\n            {\n                int64_t last_res_100611;\n                \n                last_res_100611 = ((__global\n                                    int64_t *) mem_104883)[gtid_100601 *\n                                                           n_92399 + i_92415];\n                \n                int64_t binop_y_102132 = mul64(jump_92403, gtid_100602);\n                int64_t index_primexp_102133 = smin64(i_92415, binop_y_102132);\n                int64_t max_res_100622;\n                \n                max_res_100622 = ((__global int64_t *) mem_104924)[gtid_100601 *\n                                                                   n_m_92409 +\n                                                                   gtid_100602];\n                \n                double defunc_1_f_res_100623;\n                \n                defunc_1_f_res_100623 = ((__global\n                                          double *) mem_104928)[gtid_100601 *\n                                                                n_m_92409 +\n                                                                gtid_100602];\n                \n                double a11_100624;\n                \n                a11_100624 = ((__global double *) mem_104946)[gtid_100601 *\n                                                              n_m_92409 +\n                                                              gtid_100602];\n                \n                double b11_",
                   "100625;\n                \n                b11_100625 = ((__global double *) mem_104950)[gtid_100601 *\n                                                              n_m_92409 +\n                                                              gtid_100602];\n                \n                double c11_100626;\n                \n                c11_100626 = ((__global double *) mem_104954)[gtid_100601 *\n                                                              n_m_92409 +\n                                                              gtid_100602];\n                \n                double x_100628;\n                \n                x_100628 = ((__global double *) mem_104915)[gtid_100601 *\n                                                            q_92401 +\n                                                            gtid_100603];\n                \n                bool cond_100629 = sle64(last_res_100611, gtid_100603);\n                int64_t defunc_0_f_res_100630;\n                \n                if (cond_100629) {\n                    defunc_0_f_res_100630 = (int64_t) 0;\n                } else {\n                    int64_t i_100631 = add64(gtid_100603, max_res_100622);\n                    int64_t defunc_0_add_arg_100632;\n                    \n                    defunc_0_add_arg_100632 = ((__global\n                                                int64_t *) mem_104891)[gtid_100601 *\n                                                                       n_92399 +\n                                                                       i_100631];\n                    \n                    int64_t defunc_1_add_res_100633 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_100632);\n                    \n                    defunc_0_f_res_100630 = defunc_1_add_res_100633;\n                }\n                \n                int64_t binop_p_100634 = sub64(defunc_0_f_res_100630,\n                                               index_primexp_102133);\n",
                   "                double defunc_0_f_res_100635 = sitofp_i64_f64(binop_p_100634);\n                double abs_res_100636 = fabs(defunc_0_f_res_100635);\n                double tmp1_100637 = abs_res_100636 / defunc_1_f_res_100623;\n                double x_100638 = tmp1_100637 * tmp1_100637;\n                double y_100639 = tmp1_100637 * x_100638;\n                double tmp2_100640 = 1.0 - y_100639;\n                double x_100641 = tmp2_100640 * tmp2_100640;\n                double tmp3_100642 = tmp2_100640 * x_100641;\n                double tmp4_100643 = x_100628 * tmp3_100642;\n                double defunc_1_f_res_100644 = defunc_0_f_res_100635 *\n                       tmp4_100643;\n                double defunc_0_f_res_100645;\n                \n                if (cond_100629) {\n                    defunc_0_f_res_100645 = 0.0;\n                } else {\n                    int64_t i_100646 = add64(gtid_100603, max_res_100622);\n                    double defunc_0_add_arg_100647;\n                    \n                    defunc_0_add_arg_100647 = ((__global\n                                                double *) mem_104887)[gtid_100601 *\n                                                                      n_92399 +\n                                                                      i_100646];\n                    defunc_0_f_res_100645 = defunc_0_add_arg_100647;\n                }\n                \n                double x_100648 = a11_100624 * tmp4_100643;\n                double y_100649 = b11_100625 * defunc_1_f_res_100644;\n                double x_100650 = x_100648 + y_100649;\n                double defunc_9_fit_fun_res_100651 = defunc_0_f_res_100645 *\n                       x_100650;\n                double x_100652 = b11_100625 * tmp4_100643;\n                double y_100653 = c11_100626 * defunc_1_f_res_100644;\n                double x_100654 = x_100652 + y_100653;\n                double defunc_9_slope_fun_res_100655 = defunc_0_f_res_100645 *\n                       x_100",
                   "654;\n                \n                // save map-out results\n                { }\n                // load accumulator\n                {\n                    x_100605 = x_acc_106804;\n                    x_100606 = x_acc_106805;\n                }\n                // load new values\n                {\n                    x_100607 = defunc_9_fit_fun_res_100651;\n                    x_100608 = defunc_9_slope_fun_res_100655;\n                }\n                // apply reduction operator\n                {\n                    double defunc_1_op_res_100609 = x_100605 + x_100607;\n                    double defunc_1_op_res_100610 = x_100606 + x_100608;\n                    \n                    // store in accumulator\n                    {\n                        x_acc_106804 = defunc_1_op_res_100609;\n                        x_acc_106805 = defunc_1_op_res_100610;\n                    }\n                }\n            }\n        }\n        // to reduce current chunk, first store our result in memory\n        {\n            x_100605 = x_acc_106804;\n            x_100606 = x_acc_106805;\n            ((__local\n              double *) red_arr_mem_106789)[sext_i32_i64(local_tid_106785)] =\n                x_100605;\n            ((__local\n              double *) red_arr_mem_106791)[sext_i32_i64(local_tid_106785)] =\n                x_100606;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_106814;\n        int32_t skip_waves_106815 = 1;\n        double x_106807;\n        double x_106808;\n        double x_106809;\n        double x_106810;\n        \n        offset_106814 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_106785,\n                      sext_i64_i32(segred_group_sizze_100596))) {\n                x_106807 = ((__local\n                             double *) red_arr_mem_106789)[sext_i32_i64(local_tid_106785 +\n                                                           offset_106814)];\n                x_106808 = ((__l",
                   "ocal\n                             double *) red_arr_mem_106791)[sext_i32_i64(local_tid_106785 +\n                                                           offset_106814)];\n            }\n        }\n        offset_106814 = 1;\n        while (slt32(offset_106814, wave_sizze_106787)) {\n            if (slt32(local_tid_106785 + offset_106814,\n                      sext_i64_i32(segred_group_sizze_100596)) &&\n                ((local_tid_106785 - squot32(local_tid_106785,\n                                             wave_sizze_106787) *\n                  wave_sizze_106787) & (2 * offset_106814 - 1)) == 0) {\n                // read array element\n                {\n                    x_106809 = ((volatile __local\n                                 double *) red_arr_mem_106789)[sext_i32_i64(local_tid_106785 +\n                                                               offset_106814)];\n                    x_106810 = ((volatile __local\n                                 double *) red_arr_mem_106791)[sext_i32_i64(local_tid_106785 +\n                                                               offset_106814)];\n                }\n                // apply reduction operation\n                {\n                    double defunc_1_op_res_106811 = x_106807 + x_106809;\n                    double defunc_1_op_res_106812 = x_106808 + x_106810;\n                    \n                    x_106807 = defunc_1_op_res_106811;\n                    x_106808 = defunc_1_op_res_106812;\n                }\n                // write result of operation\n                {\n                    ((volatile __local\n                      double *) red_arr_mem_106789)[sext_i32_i64(local_tid_106785)] =\n                        x_106807;\n                    ((volatile __local\n                      double *) red_arr_mem_106791)[sext_i32_i64(local_tid_106785)] =\n                        x_106808;\n                }\n            }\n            offset_106814 *= 2;\n        }\n        while (slt32(skip_waves_106815,\n                   ",
                   "  squot32(sext_i64_i32(segred_group_sizze_100596) +\n                             wave_sizze_106787 - 1, wave_sizze_106787))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_106814 = skip_waves_106815 * wave_sizze_106787;\n            if (slt32(local_tid_106785 + offset_106814,\n                      sext_i64_i32(segred_group_sizze_100596)) &&\n                ((local_tid_106785 - squot32(local_tid_106785,\n                                             wave_sizze_106787) *\n                  wave_sizze_106787) == 0 && (squot32(local_tid_106785,\n                                                      wave_sizze_106787) & (2 *\n                                                                            skip_waves_106815 -\n                                                                            1)) ==\n                 0)) {\n                // read array element\n                {\n                    x_106809 = ((__local\n                                 double *) red_arr_mem_106789)[sext_i32_i64(local_tid_106785 +\n                                                               offset_106814)];\n                    x_106810 = ((__local\n                                 double *) red_arr_mem_106791)[sext_i32_i64(local_tid_106785 +\n                                                               offset_106814)];\n                }\n                // apply reduction operation\n                {\n                    double defunc_1_op_res_106811 = x_106807 + x_106809;\n                    double defunc_1_op_res_106812 = x_106808 + x_106810;\n                    \n                    x_106807 = defunc_1_op_res_106811;\n                    x_106808 = defunc_1_op_res_106812;\n                }\n                // write result of operation\n                {\n                    ((__local\n                      double *) red_arr_mem_106789)[sext_i32_i64(local_tid_106785)] =\n                        x_106807;\n                    ((__local\n                      double *) red_arr_mem_106791)[",
                   "sext_i32_i64(local_tid_106785)] =\n                        x_106808;\n                }\n            }\n            skip_waves_106815 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_106785) == (int64_t) 0) {\n                x_acc_106804 = x_106807;\n                x_acc_106805 = x_106808;\n            }\n        }\n        if (groups_per_segment_106773 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_106785 == 0) {\n                    ((__global double *) mem_104959)[gtid_100601 * n_m_92409 +\n                                                     gtid_100602] =\n                        x_acc_106804;\n                    ((__global double *) mem_104963)[gtid_100601 * n_m_92409 +\n                                                     gtid_100602] =\n                        x_acc_106805;\n                }\n            }\n        } else {\n            int32_t old_counter_106816;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_106785 == 0) {\n                    ((__global\n                      double *) segred_tmp_mem_106778)[sext_i32_i64(virt_group_id_106797)] =\n                        x_acc_106804;\n                    ((__global\n                      double *) segred_tmp_mem_106780)[sext_i32_i64(virt_group_id_106797)] =\n                        x_acc_106805;\n                    mem_fence_global();\n                    old_counter_106816 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_106782)[sext_i32_i64(srem32(flat_segment_id_106798,\n                                                                                                      10240))],\n                                              (int) 1);\n                    ((__loca",
                   "l bool *) sync_arr_mem_106793)[(int64_t) 0] =\n                        old_counter_106816 == groups_per_segment_106773 -\n                        (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_106817;\n            \n            is_last_group_106817 = ((__local\n                                     bool *) sync_arr_mem_106793)[(int64_t) 0];\n            if (is_last_group_106817) {\n                if (local_tid_106785 == 0) {\n                    old_counter_106816 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_106782)[sext_i32_i64(srem32(flat_segment_id_106798,\n                                                                                                      10240))],\n                                              (int) ((int64_t) 0 -\n                                                     groups_per_segment_106773));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_106818 =\n                            sdiv_up64(groups_per_segment_106773,\n                                      segred_group_sizze_100596);\n                    \n                    x_100605 = 0.0;\n                    x_100606 = 0.0;\n                    for (int64_t i_106819 = 0; i_106819 <\n                         read_per_thread_106818; i_106819++) {\n                        int64_t group_res_id_106820 =\n                                sext_i32_i64(local_tid_106785) *\n                                read_per_thread_106818 + i_106819;\n                        int64_t index_of_group_res_106821 =\n                                sext_i32_i64(flat_segment_id_106798) *\n                                groups_per_segment_106773 + group_res_id_106820;\n                        \n                        if (slt64(group_res_id_106820,\n               ",
                   "                   groups_per_segment_106773)) {\n                            x_100607 = ((__global\n                                         double *) segred_tmp_mem_106778)[index_of_group_res_106821];\n                            x_100608 = ((__global\n                                         double *) segred_tmp_mem_106780)[index_of_group_res_106821];\n                            \n                            double defunc_1_op_res_100609 = x_100605 + x_100607;\n                            double defunc_1_op_res_100610 = x_100606 + x_100608;\n                            \n                            x_100605 = defunc_1_op_res_100609;\n                            x_100606 = defunc_1_op_res_100610;\n                        }\n                    }\n                }\n                ((__local\n                  double *) red_arr_mem_106789)[sext_i32_i64(local_tid_106785)] =\n                    x_100605;\n                ((__local\n                  double *) red_arr_mem_106791)[sext_i32_i64(local_tid_106785)] =\n                    x_100606;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_106822;\n                    int32_t skip_waves_106823 = 1;\n                    double x_106807;\n                    double x_106808;\n                    double x_106809;\n                    double x_106810;\n                    \n                    offset_106822 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_106785,\n                                  sext_i64_i32(segred_group_sizze_100596))) {\n                            x_106807 = ((__local\n                                         double *) red_arr_mem_106789)[sext_i32_i64(local_tid_106785 +\n                                                                       offset_106822)];\n                            x_106808 = ((__local\n                                  ",
                   "       double *) red_arr_mem_106791)[sext_i32_i64(local_tid_106785 +\n                                                                       offset_106822)];\n                        }\n                    }\n                    offset_106822 = 1;\n                    while (slt32(offset_106822, wave_sizze_106787)) {\n                        if (slt32(local_tid_106785 + offset_106822,\n                                  sext_i64_i32(segred_group_sizze_100596)) &&\n                            ((local_tid_106785 - squot32(local_tid_106785,\n                                                         wave_sizze_106787) *\n                              wave_sizze_106787) & (2 * offset_106822 - 1)) ==\n                            0) {\n                            // read array element\n                            {\n                                x_106809 = ((volatile __local\n                                             double *) red_arr_mem_106789)[sext_i32_i64(local_tid_106785 +\n                                                                           offset_106822)];\n                                x_106810 = ((volatile __local\n                                             double *) red_arr_mem_106791)[sext_i32_i64(local_tid_106785 +\n                                                                           offset_106822)];\n                            }\n                            // apply reduction operation\n                            {\n                                double defunc_1_op_res_106811 = x_106807 +\n                                       x_106809;\n                                double defunc_1_op_res_106812 = x_106808 +\n                                       x_106810;\n                                \n                                x_106807 = defunc_1_op_res_106811;\n                                x_106808 = defunc_1_op_res_106812;\n                            }\n                            // write result of operation\n                            {\n                        ",
                   "        ((volatile __local\n                                  double *) red_arr_mem_106789)[sext_i32_i64(local_tid_106785)] =\n                                    x_106807;\n                                ((volatile __local\n                                  double *) red_arr_mem_106791)[sext_i32_i64(local_tid_106785)] =\n                                    x_106808;\n                            }\n                        }\n                        offset_106822 *= 2;\n                    }\n                    while (slt32(skip_waves_106823,\n                                 squot32(sext_i64_i32(segred_group_sizze_100596) +\n                                         wave_sizze_106787 - 1,\n                                         wave_sizze_106787))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_106822 = skip_waves_106823 * wave_sizze_106787;\n                        if (slt32(local_tid_106785 + offset_106822,\n                                  sext_i64_i32(segred_group_sizze_100596)) &&\n                            ((local_tid_106785 - squot32(local_tid_106785,\n                                                         wave_sizze_106787) *\n                              wave_sizze_106787) == 0 &&\n                             (squot32(local_tid_106785, wave_sizze_106787) &\n                              (2 * skip_waves_106823 - 1)) == 0)) {\n                            // read array element\n                            {\n                                x_106809 = ((__local\n                                             double *) red_arr_mem_106789)[sext_i32_i64(local_tid_106785 +\n                                                                           offset_106822)];\n                                x_106810 = ((__local\n                                             double *) red_arr_mem_106791)[sext_i32_i64(local_tid_106785 +\n                                                                           offset_106822)];\n                            }\n ",
                   "                           // apply reduction operation\n                            {\n                                double defunc_1_op_res_106811 = x_106807 +\n                                       x_106809;\n                                double defunc_1_op_res_106812 = x_106808 +\n                                       x_106810;\n                                \n                                x_106807 = defunc_1_op_res_106811;\n                                x_106808 = defunc_1_op_res_106812;\n                            }\n                            // write result of operation\n                            {\n                                ((__local\n                                  double *) red_arr_mem_106789)[sext_i32_i64(local_tid_106785)] =\n                                    x_106807;\n                                ((__local\n                                  double *) red_arr_mem_106791)[sext_i32_i64(local_tid_106785)] =\n                                    x_106808;\n                            }\n                        }\n                        skip_waves_106823 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_106785 == 0) {\n                            ((__global double *) mem_104959)[gtid_100601 *\n                                                             n_m_92409 +\n                                                             gtid_100602] =\n                                x_106807;\n                            ((__global double *) mem_104963)[gtid_100601 *\n                                                             n_m_92409 +\n                                                             gtid_100602] =\n                                x_106808;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizz",
                   "e_100596\n}\n__kernel void mainzisegred_large_101693(__global int *global_failure,\n                                        __local volatile\n                                        int64_t *sync_arr_mem_107031_backing_aligned_0,\n                                        __local volatile\n                                        int64_t *red_arr_mem_107029_backing_aligned_1,\n                                        __local volatile\n                                        int64_t *red_arr_mem_107027_backing_aligned_2,\n                                        __local volatile\n                                        int64_t *red_arr_mem_107025_backing_aligned_3,\n                                        __local volatile\n                                        int64_t *red_arr_mem_107023_backing_aligned_4,\n                                        __local volatile\n                                        int64_t *red_arr_mem_107021_backing_aligned_5,\n                                        int64_t m_92398, int64_t n_92399,\n                                        int64_t q_92401, int64_t jump_92403,\n                                        int64_t n_m_92409, int64_t i_92415,\n                                        int64_t num_groups_101683,\n                                        int64_t groups_per_segment_106999,\n                                        int64_t elements_per_thread_107000,\n                                        int64_t virt_num_groups_107001,\n                                        int64_t threads_per_segment_107003,\n                                        __global unsigned char *mem_104968,\n                                        __global unsigned char *mem_104976,\n                                        __global unsigned char *mem_105000,\n                                        __global unsigned char *mem_105009,\n                                        __global unsigned char *mem_105013,\n                                        __global unsigned char *mem_105018,\n     ",
                   "                                   __global unsigned char *mem_105022,\n                                        __global unsigned char *mem_105026,\n                                        __global unsigned char *mem_105030,\n                                        __global unsigned char *mem_105034,\n                                        __global\n                                        unsigned char *segred_tmp_mem_107004,\n                                        __global\n                                        unsigned char *segred_tmp_mem_107006,\n                                        __global\n                                        unsigned char *segred_tmp_mem_107008,\n                                        __global\n                                        unsigned char *segred_tmp_mem_107010,\n                                        __global\n                                        unsigned char *segred_tmp_mem_107012,\n                                        __global\n                                        unsigned char *mainzicounter_mem_107014)\n{\n    #define segred_group_sizze_101682 (mainzisegred_group_sizze_100823)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_107031_backing_5 =\n                                   (__local volatile\n                                    unsigned char *) sync_arr_mem_107031_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_107029_backing_4 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_107029_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_107027_backing_3 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_107027_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_107025_backing_2 =\n                             ",
                   "      (__local volatile\n                                    unsigned char *) red_arr_mem_107025_backing_aligned_3;\n    __local volatile unsigned char *restrict red_arr_mem_107023_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_107023_backing_aligned_4;\n    __local volatile unsigned char *restrict red_arr_mem_107021_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_107021_backing_aligned_5;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_107016;\n    int32_t local_tid_107017;\n    int64_t group_sizze_107020;\n    int32_t wave_sizze_107019;\n    int32_t group_tid_107018;\n    \n    global_tid_107016 = get_global_id(0);\n    local_tid_107017 = get_local_id(0);\n    group_sizze_107020 = get_local_size(0);\n    wave_sizze_107019 = LOCKSTEP_WIDTH;\n    group_tid_107018 = get_group_id(0);\n    \n    int32_t phys_tid_101693 = global_tid_107016;\n    __local unsigned char *red_arr_mem_107021;\n    \n    red_arr_mem_107021 = (__local unsigned char *) red_arr_mem_107021_backing_0;\n    \n    __local unsigned char *red_arr_mem_107023;\n    \n    red_arr_mem_107023 = (__local unsigned char *) red_arr_mem_107023_backing_1;\n    \n    __local unsigned char *red_arr_mem_107025;\n    \n    red_arr_mem_107025 = (__local unsigned char *) red_arr_mem_107025_backing_2;\n    \n    __local unsigned char *red_arr_mem_107027;\n    \n    red_arr_mem_107027 = (__local unsigned char *) red_arr_mem_107027_backing_3;\n    \n    __local unsigned char *red_arr_mem_107029;\n    \n    red_arr_mem_107029 = (__local unsigned char *) red_arr_mem_107029_backing_4;\n    \n    __local unsigned char *sync_arr_mem_107031;\n    \n    sync_arr_mem_107031 = (__local\n                           unsigned char *) sync_arr_mem_107031_backing_5;\n    \n    int32_t phys_group_id_107033;\n    \n    phys_group_id_107033 = get_group_id(0);\n    for (int32_t i_107034 = 0",
                   "; i_107034 <\n         sdiv_up32(sext_i64_i32(virt_num_groups_107001) - phys_group_id_107033,\n                   sext_i64_i32(num_groups_101683)); i_107034++) {\n        int32_t virt_group_id_107035 = phys_group_id_107033 + i_107034 *\n                sext_i64_i32(num_groups_101683);\n        int32_t flat_segment_id_107036 = squot32(virt_group_id_107035,\n                                                 sext_i64_i32(groups_per_segment_106999));\n        int64_t global_tid_107037 = srem64(sext_i32_i64(virt_group_id_107035) *\n                                           segred_group_sizze_101682 +\n                                           sext_i32_i64(local_tid_107017),\n                                           segred_group_sizze_101682 *\n                                           groups_per_segment_106999);\n        int64_t slice_107038 = n_m_92409;\n        int64_t slice_107039 = m_92398 * slice_107038;\n        int64_t gtid_101690 = squot64(sext_i32_i64(flat_segment_id_107036),\n                                      slice_107038);\n        int64_t remnant_107040 = sext_i32_i64(flat_segment_id_107036) -\n                gtid_101690 * slice_107038;\n        int64_t gtid_101691 = remnant_107040;\n        int64_t remnant_107041 = remnant_107040 - gtid_101691;\n        int64_t gtid_101692;\n        double x_acc_107042;\n        double x_acc_107043;\n        double x_acc_107044;\n        double x_acc_107045;\n        double x_acc_107046;\n        int64_t chunk_sizze_107047 = smin64(elements_per_thread_107000,\n                                            sdiv_up64(q_92401 -\n                                                      global_tid_107037,\n                                                      threads_per_segment_107003));\n        double x_101694;\n        double x_101695;\n        double x_101696;\n        double x_101697;\n        double x_101698;\n        double x_101699;\n        double x_101700;\n        double x_101701;\n        double x_101702;\n        double x_101703;\n        \n        // ",
                   "neutral-initialise the accumulators\n        {\n            x_acc_107042 = 0.0;\n            x_acc_107043 = 0.0;\n            x_acc_107044 = 0.0;\n            x_acc_107045 = 0.0;\n            x_acc_107046 = 0.0;\n        }\n        for (int64_t i_107063 = 0; i_107063 < chunk_sizze_107047; i_107063++) {\n            gtid_101692 = global_tid_107037 + threads_per_segment_107003 *\n                i_107063;\n            // apply map function\n            {\n                int64_t last_res_101709;\n                \n                last_res_101709 = ((__global\n                                    int64_t *) mem_104968)[gtid_101690 *\n                                                           n_92399 + i_92415];\n                \n                int64_t binop_y_102144 = mul64(jump_92403, gtid_101691);\n                int64_t index_primexp_102145 = smin64(i_92415, binop_y_102144);\n                double defunc_1_f_res_101717;\n                \n                defunc_1_f_res_101717 = ((__global\n                                          double *) mem_105013)[gtid_101690 *\n                                                                n_m_92409 +\n                                                                gtid_101691];\n                \n                double x_101719;\n                \n                x_101719 = ((__global double *) mem_105000)[gtid_101690 *\n                                                            q_92401 +\n                                                            gtid_101692];\n                \n                bool cond_101720 = sle64(last_res_101709, gtid_101692);\n                int64_t defunc_0_f_res_101721;\n                \n                if (cond_101720) {\n                    defunc_0_f_res_101721 = (int64_t) 0;\n                } else {\n                    int64_t max_res_101716;\n                    \n                    max_res_101716 = ((__global\n                                       int64_t *) mem_105009)[gtid_101690 *\n                                        ",
                   "                      n_m_92409 +\n                                                              gtid_101691];\n                    \n                    int64_t i_101722 = add64(gtid_101692, max_res_101716);\n                    int64_t defunc_0_add_arg_101723;\n                    \n                    defunc_0_add_arg_101723 = ((__global\n                                                int64_t *) mem_104976)[gtid_101690 *\n                                                                       n_92399 +\n                                                                       i_101722];\n                    \n                    int64_t defunc_1_add_res_101724 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_101723);\n                    \n                    defunc_0_f_res_101721 = defunc_1_add_res_101724;\n                }\n                \n                int64_t binop_p_101725 = sub64(defunc_0_f_res_101721,\n                                               index_primexp_102145);\n                double defunc_0_f_res_101726 = sitofp_i64_f64(binop_p_101725);\n                double abs_res_101727 = fabs(defunc_0_f_res_101726);\n                double tmp1_101728 = abs_res_101727 / defunc_1_f_res_101717;\n                double x_101729 = tmp1_101728 * tmp1_101728;\n                double y_101730 = tmp1_101728 * x_101729;\n                double tmp2_101731 = 1.0 - y_101730;\n                double x_101732 = tmp2_101731 * tmp2_101731;\n                double tmp3_101733 = tmp2_101731 * x_101732;\n                double w_j_101734 = x_101719 * tmp3_101733;\n                double xw_j_101735 = defunc_0_f_res_101726 * w_j_101734;\n                double x2w_j_101736 = defunc_0_f_res_101726 * xw_j_101735;\n                double x3w_j_101737 = defunc_0_f_res_101726 * x2w_j_101736;\n                double x4w_j_101738 = defunc_0_f_res_101726 * x3w_j_101737;\n                \n                // save map-out results\n                { }\n              ",
                   "  // load accumulator\n                {\n                    x_101694 = x_acc_107042;\n                    x_101695 = x_acc_107043;\n                    x_101696 = x_acc_107044;\n                    x_101697 = x_acc_107045;\n                    x_101698 = x_acc_107046;\n                }\n                // load new values\n                {\n                    x_101699 = w_j_101734;\n                    x_101700 = xw_j_101735;\n                    x_101701 = x2w_j_101736;\n                    x_101702 = x3w_j_101737;\n                    x_101703 = x4w_j_101738;\n                }\n                // apply reduction operator\n                {\n                    double defunc_1_op_res_101704 = x_101694 + x_101699;\n                    double defunc_1_op_res_101705 = x_101695 + x_101700;\n                    double defunc_1_op_res_101706 = x_101696 + x_101701;\n                    double defunc_1_op_res_101707 = x_101697 + x_101702;\n                    double defunc_1_op_res_101708 = x_101698 + x_101703;\n                    \n                    // store in accumulator\n                    {\n                        x_acc_107042 = defunc_1_op_res_101704;\n                        x_acc_107043 = defunc_1_op_res_101705;\n                        x_acc_107044 = defunc_1_op_res_101706;\n                        x_acc_107045 = defunc_1_op_res_101707;\n                        x_acc_107046 = defunc_1_op_res_101708;\n                    }\n                }\n            }\n        }\n        // to reduce current chunk, first store our result in memory\n        {\n            x_101694 = x_acc_107042;\n            x_101695 = x_acc_107043;\n            x_101696 = x_acc_107044;\n            x_101697 = x_acc_107045;\n            x_101698 = x_acc_107046;\n            ((__local\n              double *) red_arr_mem_107021)[sext_i32_i64(local_tid_107017)] =\n                x_101694;\n            ((__local\n              double *) red_arr_mem_107023)[sext_i32_i64(local_tid_107017)] =\n                x_101695;\n            ((_",
                   "_local\n              double *) red_arr_mem_107025)[sext_i32_i64(local_tid_107017)] =\n                x_101696;\n            ((__local\n              double *) red_arr_mem_107027)[sext_i32_i64(local_tid_107017)] =\n                x_101697;\n            ((__local\n              double *) red_arr_mem_107029)[sext_i32_i64(local_tid_107017)] =\n                x_101698;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_107064;\n        int32_t skip_waves_107065 = 1;\n        double x_107048;\n        double x_107049;\n        double x_107050;\n        double x_107051;\n        double x_107052;\n        double x_107053;\n        double x_107054;\n        double x_107055;\n        double x_107056;\n        double x_107057;\n        \n        offset_107064 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_107017,\n                      sext_i64_i32(segred_group_sizze_101682))) {\n                x_107048 = ((__local\n                             double *) red_arr_mem_107021)[sext_i32_i64(local_tid_107017 +\n                                                           offset_107064)];\n                x_107049 = ((__local\n                             double *) red_arr_mem_107023)[sext_i32_i64(local_tid_107017 +\n                                                           offset_107064)];\n                x_107050 = ((__local\n                             double *) red_arr_mem_107025)[sext_i32_i64(local_tid_107017 +\n                                                           offset_107064)];\n                x_107051 = ((__local\n                             double *) red_arr_mem_107027)[sext_i32_i64(local_tid_107017 +\n                                                           offset_107064)];\n                x_107052 = ((__local\n                             double *) red_arr_mem_107029)[sext_i32_i64(local_tid_107017 +\n                                                           offset_107064)];\n            }\n        }\n      ",
                   "  offset_107064 = 1;\n        while (slt32(offset_107064, wave_sizze_107019)) {\n            if (slt32(local_tid_107017 + offset_107064,\n                      sext_i64_i32(segred_group_sizze_101682)) &&\n                ((local_tid_107017 - squot32(local_tid_107017,\n                                             wave_sizze_107019) *\n                  wave_sizze_107019) & (2 * offset_107064 - 1)) == 0) {\n                // read array element\n                {\n                    x_107053 = ((volatile __local\n                                 double *) red_arr_mem_107021)[sext_i32_i64(local_tid_107017 +\n                                                               offset_107064)];\n                    x_107054 = ((volatile __local\n                                 double *) red_arr_mem_107023)[sext_i32_i64(local_tid_107017 +\n                                                               offset_107064)];\n                    x_107055 = ((volatile __local\n                                 double *) red_arr_mem_107025)[sext_i32_i64(local_tid_107017 +\n                                                               offset_107064)];\n                    x_107056 = ((volatile __local\n                                 double *) red_arr_mem_107027)[sext_i32_i64(local_tid_107017 +\n                                                               offset_107064)];\n                    x_107057 = ((volatile __local\n                                 double *) red_arr_mem_107029)[sext_i32_i64(local_tid_107017 +\n                                                               offset_107064)];\n                }\n                // apply reduction operation\n                {\n                    double defunc_1_op_res_107058 = x_107048 + x_107053;\n                    double defunc_1_op_res_107059 = x_107049 + x_107054;\n                    double defunc_1_op_res_107060 = x_107050 + x_107055;\n                    double defunc_1_op_res_107061 = x_107051 + x_107056;\n                    double defunc_1_op_res_1",
                   "07062 = x_107052 + x_107057;\n                    \n                    x_107048 = defunc_1_op_res_107058;\n                    x_107049 = defunc_1_op_res_107059;\n                    x_107050 = defunc_1_op_res_107060;\n                    x_107051 = defunc_1_op_res_107061;\n                    x_107052 = defunc_1_op_res_107062;\n                }\n                // write result of operation\n                {\n                    ((volatile __local\n                      double *) red_arr_mem_107021)[sext_i32_i64(local_tid_107017)] =\n                        x_107048;\n                    ((volatile __local\n                      double *) red_arr_mem_107023)[sext_i32_i64(local_tid_107017)] =\n                        x_107049;\n                    ((volatile __local\n                      double *) red_arr_mem_107025)[sext_i32_i64(local_tid_107017)] =\n                        x_107050;\n                    ((volatile __local\n                      double *) red_arr_mem_107027)[sext_i32_i64(local_tid_107017)] =\n                        x_107051;\n                    ((volatile __local\n                      double *) red_arr_mem_107029)[sext_i32_i64(local_tid_107017)] =\n                        x_107052;\n                }\n            }\n            offset_107064 *= 2;\n        }\n        while (slt32(skip_waves_107065,\n                     squot32(sext_i64_i32(segred_group_sizze_101682) +\n                             wave_sizze_107019 - 1, wave_sizze_107019))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_107064 = skip_waves_107065 * wave_sizze_107019;\n            if (slt32(local_tid_107017 + offset_107064,\n                      sext_i64_i32(segred_group_sizze_101682)) &&\n                ((local_tid_107017 - squot32(local_tid_107017,\n                                             wave_sizze_107019) *\n                  wave_sizze_107019) == 0 && (squot32(local_tid_107017,\n                                                      wave_sizze_107019) & (2 *\n                           ",
                   "                                                 skip_waves_107065 -\n                                                                            1)) ==\n                 0)) {\n                // read array element\n                {\n                    x_107053 = ((__local\n                                 double *) red_arr_mem_107021)[sext_i32_i64(local_tid_107017 +\n                                                               offset_107064)];\n                    x_107054 = ((__local\n                                 double *) red_arr_mem_107023)[sext_i32_i64(local_tid_107017 +\n                                                               offset_107064)];\n                    x_107055 = ((__local\n                                 double *) red_arr_mem_107025)[sext_i32_i64(local_tid_107017 +\n                                                               offset_107064)];\n                    x_107056 = ((__local\n                                 double *) red_arr_mem_107027)[sext_i32_i64(local_tid_107017 +\n                                                               offset_107064)];\n                    x_107057 = ((__local\n                                 double *) red_arr_mem_107029)[sext_i32_i64(local_tid_107017 +\n                                                               offset_107064)];\n                }\n                // apply reduction operation\n                {\n                    double defunc_1_op_res_107058 = x_107048 + x_107053;\n                    double defunc_1_op_res_107059 = x_107049 + x_107054;\n                    double defunc_1_op_res_107060 = x_107050 + x_107055;\n                    double defunc_1_op_res_107061 = x_107051 + x_107056;\n                    double defunc_1_op_res_107062 = x_107052 + x_107057;\n                    \n                    x_107048 = defunc_1_op_res_107058;\n                    x_107049 = defunc_1_op_res_107059;\n                    x_107050 = defunc_1_op_res_107060;\n                    x_107051 = defunc_1_op_res_107061;\n  ",
                   "                  x_107052 = defunc_1_op_res_107062;\n                }\n                // write result of operation\n                {\n                    ((__local\n                      double *) red_arr_mem_107021)[sext_i32_i64(local_tid_107017)] =\n                        x_107048;\n                    ((__local\n                      double *) red_arr_mem_107023)[sext_i32_i64(local_tid_107017)] =\n                        x_107049;\n                    ((__local\n                      double *) red_arr_mem_107025)[sext_i32_i64(local_tid_107017)] =\n                        x_107050;\n                    ((__local\n                      double *) red_arr_mem_107027)[sext_i32_i64(local_tid_107017)] =\n                        x_107051;\n                    ((__local\n                      double *) red_arr_mem_107029)[sext_i32_i64(local_tid_107017)] =\n                        x_107052;\n                }\n            }\n            skip_waves_107065 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_107017) == (int64_t) 0) {\n                x_acc_107042 = x_107048;\n                x_acc_107043 = x_107049;\n                x_acc_107044 = x_107050;\n                x_acc_107045 = x_107051;\n                x_acc_107046 = x_107052;\n            }\n        }\n        if (groups_per_segment_106999 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_107017 == 0) {\n                    ((__global double *) mem_105018)[gtid_101690 * n_m_92409 +\n                                                     gtid_101691] =\n                        x_acc_107042;\n                    ((__global double *) mem_105022)[gtid_101690 * n_m_92409 +\n                                                     gtid_101691] =\n                        x_acc_107043;\n                    ((__global double *) mem_105026)[gtid_101690 * n_m_92409 +\n          ",
                   "                                           gtid_101691] =\n                        x_acc_107044;\n                    ((__global double *) mem_105030)[gtid_101690 * n_m_92409 +\n                                                     gtid_101691] =\n                        x_acc_107045;\n                    ((__global double *) mem_105034)[gtid_101690 * n_m_92409 +\n                                                     gtid_101691] =\n                        x_acc_107046;\n                }\n            }\n        } else {\n            int32_t old_counter_107066;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_107017 == 0) {\n                    ((__global\n                      double *) segred_tmp_mem_107004)[sext_i32_i64(virt_group_id_107035)] =\n                        x_acc_107042;\n                    ((__global\n                      double *) segred_tmp_mem_107006)[sext_i32_i64(virt_group_id_107035)] =\n                        x_acc_107043;\n                    ((__global\n                      double *) segred_tmp_mem_107008)[sext_i32_i64(virt_group_id_107035)] =\n                        x_acc_107044;\n                    ((__global\n                      double *) segred_tmp_mem_107010)[sext_i32_i64(virt_group_id_107035)] =\n                        x_acc_107045;\n                    ((__global\n                      double *) segred_tmp_mem_107012)[sext_i32_i64(virt_group_id_107035)] =\n                        x_acc_107046;\n                    mem_fence_global();\n                    old_counter_107066 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_107014)[sext_i32_i64(srem32(flat_segment_id_107036,\n                                                                                                      10240))],\n                                              (int) 1);\n                    ((__local bool *) sync_arr_m",
                   "em_107031)[(int64_t) 0] =\n                        old_counter_107066 == groups_per_segment_106999 -\n                        (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_107067;\n            \n            is_last_group_107067 = ((__local\n                                     bool *) sync_arr_mem_107031)[(int64_t) 0];\n            if (is_last_group_107067) {\n                if (local_tid_107017 == 0) {\n                    old_counter_107066 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_107014)[sext_i32_i64(srem32(flat_segment_id_107036,\n                                                                                                      10240))],\n                                              (int) ((int64_t) 0 -\n                                                     groups_per_segment_106999));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_107068 =\n                            sdiv_up64(groups_per_segment_106999,\n                                      segred_group_sizze_101682);\n                    \n                    x_101694 = 0.0;\n                    x_101695 = 0.0;\n                    x_101696 = 0.0;\n                    x_101697 = 0.0;\n                    x_101698 = 0.0;\n                    for (int64_t i_107069 = 0; i_107069 <\n                         read_per_thread_107068; i_107069++) {\n                        int64_t group_res_id_107070 =\n                                sext_i32_i64(local_tid_107017) *\n                                read_per_thread_107068 + i_107069;\n                        int64_t index_of_group_res_107071 =\n                                sext_i32_i64(flat_segment_id_107036) *\n                                groups_per_segment_106999 + group_res_id_107070;\n       ",
                   "                 \n                        if (slt64(group_res_id_107070,\n                                  groups_per_segment_106999)) {\n                            x_101699 = ((__global\n                                         double *) segred_tmp_mem_107004)[index_of_group_res_107071];\n                            x_101700 = ((__global\n                                         double *) segred_tmp_mem_107006)[index_of_group_res_107071];\n                            x_101701 = ((__global\n                                         double *) segred_tmp_mem_107008)[index_of_group_res_107071];\n                            x_101702 = ((__global\n                                         double *) segred_tmp_mem_107010)[index_of_group_res_107071];\n                            x_101703 = ((__global\n                                         double *) segred_tmp_mem_107012)[index_of_group_res_107071];\n                            \n                            double defunc_1_op_res_101704 = x_101694 + x_101699;\n                            double defunc_1_op_res_101705 = x_101695 + x_101700;\n                            double defunc_1_op_res_101706 = x_101696 + x_101701;\n                            double defunc_1_op_res_101707 = x_101697 + x_101702;\n                            double defunc_1_op_res_101708 = x_101698 + x_101703;\n                            \n                            x_101694 = defunc_1_op_res_101704;\n                            x_101695 = defunc_1_op_res_101705;\n                            x_101696 = defunc_1_op_res_101706;\n                            x_101697 = defunc_1_op_res_101707;\n                            x_101698 = defunc_1_op_res_101708;\n                        }\n                    }\n                }\n                ((__local\n                  double *) red_arr_mem_107021)[sext_i32_i64(local_tid_107017)] =\n                    x_101694;\n                ((__local\n                  double *) red_arr_mem_107023)[sext_i32_i64(local_tid_107017)] =\n             ",
                   "       x_101695;\n                ((__local\n                  double *) red_arr_mem_107025)[sext_i32_i64(local_tid_107017)] =\n                    x_101696;\n                ((__local\n                  double *) red_arr_mem_107027)[sext_i32_i64(local_tid_107017)] =\n                    x_101697;\n                ((__local\n                  double *) red_arr_mem_107029)[sext_i32_i64(local_tid_107017)] =\n                    x_101698;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_107072;\n                    int32_t skip_waves_107073 = 1;\n                    double x_107048;\n                    double x_107049;\n                    double x_107050;\n                    double x_107051;\n                    double x_107052;\n                    double x_107053;\n                    double x_107054;\n                    double x_107055;\n                    double x_107056;\n                    double x_107057;\n                    \n                    offset_107072 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_107017,\n                                  sext_i64_i32(segred_group_sizze_101682))) {\n                            x_107048 = ((__local\n                                         double *) red_arr_mem_107021)[sext_i32_i64(local_tid_107017 +\n                                                                       offset_107072)];\n                            x_107049 = ((__local\n                                         double *) red_arr_mem_107023)[sext_i32_i64(local_tid_107017 +\n                                                                       offset_107072)];\n                            x_107050 = ((__local\n                                         double *) red_arr_mem_107025)[sext_i32_i64(local_tid_107017 +\n                                                                       offset_1",
                   "07072)];\n                            x_107051 = ((__local\n                                         double *) red_arr_mem_107027)[sext_i32_i64(local_tid_107017 +\n                                                                       offset_107072)];\n                            x_107052 = ((__local\n                                         double *) red_arr_mem_107029)[sext_i32_i64(local_tid_107017 +\n                                                                       offset_107072)];\n                        }\n                    }\n                    offset_107072 = 1;\n                    while (slt32(offset_107072, wave_sizze_107019)) {\n                        if (slt32(local_tid_107017 + offset_107072,\n                                  sext_i64_i32(segred_group_sizze_101682)) &&\n                            ((local_tid_107017 - squot32(local_tid_107017,\n                                                         wave_sizze_107019) *\n                              wave_sizze_107019) & (2 * offset_107072 - 1)) ==\n                            0) {\n                            // read array element\n                            {\n                                x_107053 = ((volatile __local\n                                             double *) red_arr_mem_107021)[sext_i32_i64(local_tid_107017 +\n                                                                           offset_107072)];\n                                x_107054 = ((volatile __local\n                                             double *) red_arr_mem_107023)[sext_i32_i64(local_tid_107017 +\n                                                                           offset_107072)];\n                                x_107055 = ((volatile __local\n                                             double *) red_arr_mem_107025)[sext_i32_i64(local_tid_107017 +\n                                                                           offset_107072)];\n                                x_107056 = ((volatile __local\n                  ",
                   "                           double *) red_arr_mem_107027)[sext_i32_i64(local_tid_107017 +\n                                                                           offset_107072)];\n                                x_107057 = ((volatile __local\n                                             double *) red_arr_mem_107029)[sext_i32_i64(local_tid_107017 +\n                                                                           offset_107072)];\n                            }\n                            // apply reduction operation\n                            {\n                                double defunc_1_op_res_107058 = x_107048 +\n                                       x_107053;\n                                double defunc_1_op_res_107059 = x_107049 +\n                                       x_107054;\n                                double defunc_1_op_res_107060 = x_107050 +\n                                       x_107055;\n                                double defunc_1_op_res_107061 = x_107051 +\n                                       x_107056;\n                                double defunc_1_op_res_107062 = x_107052 +\n                                       x_107057;\n                                \n                                x_107048 = defunc_1_op_res_107058;\n                                x_107049 = defunc_1_op_res_107059;\n                                x_107050 = defunc_1_op_res_107060;\n                                x_107051 = defunc_1_op_res_107061;\n                                x_107052 = defunc_1_op_res_107062;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local\n                                  double *) red_arr_mem_107021)[sext_i32_i64(local_tid_107017)] =\n                                    x_107048;\n                                ((volatile __local\n                                  double *) red_arr_mem_107023)[sext_i32_i64(local_tid_107",
                   "017)] =\n                                    x_107049;\n                                ((volatile __local\n                                  double *) red_arr_mem_107025)[sext_i32_i64(local_tid_107017)] =\n                                    x_107050;\n                                ((volatile __local\n                                  double *) red_arr_mem_107027)[sext_i32_i64(local_tid_107017)] =\n                                    x_107051;\n                                ((volatile __local\n                                  double *) red_arr_mem_107029)[sext_i32_i64(local_tid_107017)] =\n                                    x_107052;\n                            }\n                        }\n                        offset_107072 *= 2;\n                    }\n                    while (slt32(skip_waves_107073,\n                                 squot32(sext_i64_i32(segred_group_sizze_101682) +\n                                         wave_sizze_107019 - 1,\n                                         wave_sizze_107019))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_107072 = skip_waves_107073 * wave_sizze_107019;\n                        if (slt32(local_tid_107017 + offset_107072,\n                                  sext_i64_i32(segred_group_sizze_101682)) &&\n                            ((local_tid_107017 - squot32(local_tid_107017,\n                                                         wave_sizze_107019) *\n                              wave_sizze_107019) == 0 &&\n                             (squot32(local_tid_107017, wave_sizze_107019) &\n                              (2 * skip_waves_107073 - 1)) == 0)) {\n                            // read array element\n                            {\n                                x_107053 = ((__local\n                                             double *) red_arr_mem_107021)[sext_i32_i64(local_tid_107017 +\n                                                                           offset_107072)];\n          ",
                   "                      x_107054 = ((__local\n                                             double *) red_arr_mem_107023)[sext_i32_i64(local_tid_107017 +\n                                                                           offset_107072)];\n                                x_107055 = ((__local\n                                             double *) red_arr_mem_107025)[sext_i32_i64(local_tid_107017 +\n                                                                           offset_107072)];\n                                x_107056 = ((__local\n                                             double *) red_arr_mem_107027)[sext_i32_i64(local_tid_107017 +\n                                                                           offset_107072)];\n                                x_107057 = ((__local\n                                             double *) red_arr_mem_107029)[sext_i32_i64(local_tid_107017 +\n                                                                           offset_107072)];\n                            }\n                            // apply reduction operation\n                            {\n                                double defunc_1_op_res_107058 = x_107048 +\n                                       x_107053;\n                                double defunc_1_op_res_107059 = x_107049 +\n                                       x_107054;\n                                double defunc_1_op_res_107060 = x_107050 +\n                                       x_107055;\n                                double defunc_1_op_res_107061 = x_107051 +\n                                       x_107056;\n                                double defunc_1_op_res_107062 = x_107052 +\n                                       x_107057;\n                                \n                                x_107048 = defunc_1_op_res_107058;\n                                x_107049 = defunc_1_op_res_107059;\n                                x_107050 = defunc_1_op_res_107060;\n                               ",
                   " x_107051 = defunc_1_op_res_107061;\n                                x_107052 = defunc_1_op_res_107062;\n                            }\n                            // write result of operation\n                            {\n                                ((__local\n                                  double *) red_arr_mem_107021)[sext_i32_i64(local_tid_107017)] =\n                                    x_107048;\n                                ((__local\n                                  double *) red_arr_mem_107023)[sext_i32_i64(local_tid_107017)] =\n                                    x_107049;\n                                ((__local\n                                  double *) red_arr_mem_107025)[sext_i32_i64(local_tid_107017)] =\n                                    x_107050;\n                                ((__local\n                                  double *) red_arr_mem_107027)[sext_i32_i64(local_tid_107017)] =\n                                    x_107051;\n                                ((__local\n                                  double *) red_arr_mem_107029)[sext_i32_i64(local_tid_107017)] =\n                                    x_107052;\n                            }\n                        }\n                        skip_waves_107073 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_107017 == 0) {\n                            ((__global double *) mem_105018)[gtid_101690 *\n                                                             n_m_92409 +\n                                                             gtid_101691] =\n                                x_107048;\n                            ((__global double *) mem_105022)[gtid_101690 *\n                                                             n_m_92409 +\n                                                             gtid_101691] =\n                                x_107049;\n                            ((__global double *) mem_",
                   "105026)[gtid_101690 *\n                                                             n_m_92409 +\n                                                             gtid_101691] =\n                                x_107050;\n                            ((__global double *) mem_105030)[gtid_101690 *\n                                                             n_m_92409 +\n                                                             gtid_101691] =\n                                x_107051;\n                            ((__global double *) mem_105034)[gtid_101690 *\n                                                             n_m_92409 +\n                                                             gtid_101691] =\n                                x_107052;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_101682\n}\n__kernel void mainzisegred_large_101792(__global int *global_failure,\n                                        __local volatile\n                                        int64_t *sync_arr_mem_107140_backing_aligned_0,\n                                        __local volatile\n                                        int64_t *red_arr_mem_107138_backing_aligned_1,\n                                        __local volatile\n                                        int64_t *red_arr_mem_107136_backing_aligned_2,\n                                        int64_t m_92398, int64_t n_92399,\n                                        int64_t q_92401, int64_t jump_92403,\n                                        int64_t n_m_92409, int64_t i_92415,\n                                        int64_t num_groups_101785,\n                                        int64_t groups_per_segment_107120,\n                                        int64_t elements_per_thread_107121,\n                                        int64_t virt_num_groups_107122,\n           ",
                   "                             int64_t threads_per_segment_107124,\n                                        __global unsigned char *mem_104968,\n                                        __global unsigned char *mem_104972,\n                                        __global unsigned char *mem_104976,\n                                        __global unsigned char *mem_105000,\n                                        __global unsigned char *mem_105009,\n                                        __global unsigned char *mem_105013,\n                                        __global unsigned char *mem_105039,\n                                        __global unsigned char *mem_105043,\n                                        __global unsigned char *mem_105047,\n                                        __global unsigned char *mem_105051,\n                                        __global unsigned char *mem_105055,\n                                        __global unsigned char *mem_105060,\n                                        __global unsigned char *mem_105064,\n                                        __global\n                                        unsigned char *segred_tmp_mem_107125,\n                                        __global\n                                        unsigned char *segred_tmp_mem_107127,\n                                        __global\n                                        unsigned char *mainzicounter_mem_107129)\n{\n    #define segred_group_sizze_101784 (mainzisegred_group_sizze_100696)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_107140_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) sync_arr_mem_107140_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_107138_backing_1 =\n                                   (__local volatile\n                                    unsigne",
                   "d char *) red_arr_mem_107138_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_107136_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_107136_backing_aligned_2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_107131;\n    int32_t local_tid_107132;\n    int64_t group_sizze_107135;\n    int32_t wave_sizze_107134;\n    int32_t group_tid_107133;\n    \n    global_tid_107131 = get_global_id(0);\n    local_tid_107132 = get_local_id(0);\n    group_sizze_107135 = get_local_size(0);\n    wave_sizze_107134 = LOCKSTEP_WIDTH;\n    group_tid_107133 = get_group_id(0);\n    \n    int32_t phys_tid_101792 = global_tid_107131;\n    __local unsigned char *red_arr_mem_107136;\n    \n    red_arr_mem_107136 = (__local unsigned char *) red_arr_mem_107136_backing_0;\n    \n    __local unsigned char *red_arr_mem_107138;\n    \n    red_arr_mem_107138 = (__local unsigned char *) red_arr_mem_107138_backing_1;\n    \n    __local unsigned char *sync_arr_mem_107140;\n    \n    sync_arr_mem_107140 = (__local\n                           unsigned char *) sync_arr_mem_107140_backing_2;\n    \n    int32_t phys_group_id_107142;\n    \n    phys_group_id_107142 = get_group_id(0);\n    for (int32_t i_107143 = 0; i_107143 <\n         sdiv_up32(sext_i64_i32(virt_num_groups_107122) - phys_group_id_107142,\n                   sext_i64_i32(num_groups_101785)); i_107143++) {\n        int32_t virt_group_id_107144 = phys_group_id_107142 + i_107143 *\n                sext_i64_i32(num_groups_101785);\n        int32_t flat_segment_id_107145 = squot32(virt_group_id_107144,\n                                                 sext_i64_i32(groups_per_segment_107120));\n        int64_t global_tid_107146 = srem64(sext_i32_i64(virt_group_id_107144) *\n                                           segred_group_sizze_101784 +\n                                           sext_i32_i64(local_tid_107132),\n                               ",
                   "            segred_group_sizze_101784 *\n                                           groups_per_segment_107120);\n        int64_t slice_107147 = n_m_92409;\n        int64_t slice_107148 = m_92398 * slice_107147;\n        int64_t gtid_101789 = squot64(sext_i32_i64(flat_segment_id_107145),\n                                      slice_107147);\n        int64_t remnant_107149 = sext_i32_i64(flat_segment_id_107145) -\n                gtid_101789 * slice_107147;\n        int64_t gtid_101790 = remnant_107149;\n        int64_t remnant_107150 = remnant_107149 - gtid_101790;\n        int64_t gtid_101791;\n        double x_acc_107151;\n        double x_acc_107152;\n        int64_t chunk_sizze_107153 = smin64(elements_per_thread_107121,\n                                            sdiv_up64(q_92401 -\n                                                      global_tid_107146,\n                                                      threads_per_segment_107124));\n        double x_101793;\n        double x_101794;\n        double x_101795;\n        double x_101796;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_107151 = 0.0;\n            x_acc_107152 = 0.0;\n        }\n        for (int64_t i_107160 = 0; i_107160 < chunk_sizze_107153; i_107160++) {\n            gtid_101791 = global_tid_107146 + threads_per_segment_107124 *\n                i_107160;\n            // apply map function\n            {\n                int64_t last_res_101799;\n                \n                last_res_101799 = ((__global\n                                    int64_t *) mem_104968)[gtid_101789 *\n                                                           n_92399 + i_92415];\n                \n                int64_t binop_y_102140 = mul64(jump_92403, gtid_101790);\n                int64_t index_primexp_102141 = smin64(i_92415, binop_y_102140);\n                int64_t max_res_101812;\n                \n                max_res_101812 = ((__global int64_t *) mem_105009)[gtid_101789 *\n                          ",
                   "                                         n_m_92409 +\n                                                                   gtid_101790];\n                \n                double defunc_1_f_res_101813;\n                \n                defunc_1_f_res_101813 = ((__global\n                                          double *) mem_105013)[gtid_101789 *\n                                                                n_m_92409 +\n                                                                gtid_101790];\n                \n                double a12_101814;\n                \n                a12_101814 = ((__global double *) mem_105039)[gtid_101789 *\n                                                              n_m_92409 +\n                                                              gtid_101790];\n                \n                double b12_101815;\n                \n                b12_101815 = ((__global double *) mem_105043)[gtid_101789 *\n                                                              n_m_92409 +\n                                                              gtid_101790];\n                \n                double c12_101816;\n                \n                c12_101816 = ((__global double *) mem_105047)[gtid_101789 *\n                                                              n_m_92409 +\n                                                              gtid_101790];\n                \n                double b2_101817;\n                \n                b2_101817 = ((__global double *) mem_105051)[gtid_101789 *\n                                                             n_m_92409 +\n                                                             gtid_101790];\n                \n                double c2_101818;\n                \n                c2_101818 = ((__global double *) mem_105055)[gtid_101789 *\n                                                             n_m_92409 +\n                                                             gtid_101790];\n                \n                dou",
                   "ble x_101820;\n                \n                x_101820 = ((__global double *) mem_105000)[gtid_101789 *\n                                                            q_92401 +\n                                                            gtid_101791];\n                \n                bool cond_101821 = sle64(last_res_101799, gtid_101791);\n                int64_t defunc_0_f_res_101822;\n                \n                if (cond_101821) {\n                    defunc_0_f_res_101822 = (int64_t) 0;\n                } else {\n                    int64_t i_101823 = add64(gtid_101791, max_res_101812);\n                    int64_t defunc_0_add_arg_101824;\n                    \n                    defunc_0_add_arg_101824 = ((__global\n                                                int64_t *) mem_104976)[gtid_101789 *\n                                                                       n_92399 +\n                                                                       i_101823];\n                    \n                    int64_t defunc_1_add_res_101825 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_101824);\n                    \n                    defunc_0_f_res_101822 = defunc_1_add_res_101825;\n                }\n                \n                int64_t binop_p_101826 = sub64(defunc_0_f_res_101822,\n                                               index_primexp_102141);\n                double defunc_0_f_res_101827 = sitofp_i64_f64(binop_p_101826);\n                double abs_res_101828 = fabs(defunc_0_f_res_101827);\n                double tmp1_101829 = abs_res_101828 / defunc_1_f_res_101813;\n                double x_101830 = tmp1_101829 * tmp1_101829;\n                double y_101831 = tmp1_101829 * x_101830;\n                double tmp2_101832 = 1.0 - y_101831;\n                double x_101833 = tmp2_101832 * tmp2_101832;\n                double tmp3_101834 = tmp2_101832 * x_101833;\n                double tmp4_101835 = x_101820 * tmp3_101834;\n  ",
                   "              double defunc_1_f_res_101836 = defunc_0_f_res_101827 *\n                       tmp4_101835;\n                double defunc_1_f_res_101837 = defunc_0_f_res_101827 *\n                       defunc_1_f_res_101836;\n                double defunc_0_f_res_101838;\n                \n                if (cond_101821) {\n                    defunc_0_f_res_101838 = 0.0;\n                } else {\n                    int64_t i_101839 = add64(gtid_101791, max_res_101812);\n                    double defunc_0_add_arg_101840;\n                    \n                    defunc_0_add_arg_101840 = ((__global\n                                                double *) mem_104972)[gtid_101789 *\n                                                                      n_92399 +\n                                                                      i_101839];\n                    defunc_0_f_res_101838 = defunc_0_add_arg_101840;\n                }\n                \n                double x_101841 = a12_101814 * tmp4_101835;\n                double y_101842 = b12_101815 * defunc_1_f_res_101836;\n                double x_101843 = x_101841 + y_101842;\n                double y_101844 = c12_101816 * defunc_1_f_res_101837;\n                double x_101845 = x_101843 + y_101844;\n                double defunc_9_fit_fun_res_101846 = defunc_0_f_res_101838 *\n                       x_101845;\n                double x_101847 = b12_101815 * tmp4_101835;\n                double y_101848 = b2_101817 * defunc_1_f_res_101836;\n                double x_101849 = x_101847 + y_101848;\n                double y_101850 = c2_101818 * defunc_1_f_res_101837;\n                double x_101851 = x_101849 + y_101850;\n                double defunc_9_slope_fun_res_101852 = defunc_0_f_res_101838 *\n                       x_101851;\n                \n                // save map-out results\n                { }\n                // load accumulator\n                {\n                    x_101793 = x_acc_107151;\n                    x_101794 = x_acc",
                   "_107152;\n                }\n                // load new values\n                {\n                    x_101795 = defunc_9_fit_fun_res_101846;\n                    x_101796 = defunc_9_slope_fun_res_101852;\n                }\n                // apply reduction operator\n                {\n                    double defunc_1_op_res_101797 = x_101793 + x_101795;\n                    double defunc_1_op_res_101798 = x_101794 + x_101796;\n                    \n                    // store in accumulator\n                    {\n                        x_acc_107151 = defunc_1_op_res_101797;\n                        x_acc_107152 = defunc_1_op_res_101798;\n                    }\n                }\n            }\n        }\n        // to reduce current chunk, first store our result in memory\n        {\n            x_101793 = x_acc_107151;\n            x_101794 = x_acc_107152;\n            ((__local\n              double *) red_arr_mem_107136)[sext_i32_i64(local_tid_107132)] =\n                x_101793;\n            ((__local\n              double *) red_arr_mem_107138)[sext_i32_i64(local_tid_107132)] =\n                x_101794;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_107161;\n        int32_t skip_waves_107162 = 1;\n        double x_107154;\n        double x_107155;\n        double x_107156;\n        double x_107157;\n        \n        offset_107161 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_107132,\n                      sext_i64_i32(segred_group_sizze_101784))) {\n                x_107154 = ((__local\n                             double *) red_arr_mem_107136)[sext_i32_i64(local_tid_107132 +\n                                                           offset_107161)];\n                x_107155 = ((__local\n                             double *) red_arr_mem_107138)[sext_i32_i64(local_tid_107132 +\n                                                           offset_107161)];\n            }\n        }\n        offset_107161",
                   " = 1;\n        while (slt32(offset_107161, wave_sizze_107134)) {\n            if (slt32(local_tid_107132 + offset_107161,\n                      sext_i64_i32(segred_group_sizze_101784)) &&\n                ((local_tid_107132 - squot32(local_tid_107132,\n                                             wave_sizze_107134) *\n                  wave_sizze_107134) & (2 * offset_107161 - 1)) == 0) {\n                // read array element\n                {\n                    x_107156 = ((volatile __local\n                                 double *) red_arr_mem_107136)[sext_i32_i64(local_tid_107132 +\n                                                               offset_107161)];\n                    x_107157 = ((volatile __local\n                                 double *) red_arr_mem_107138)[sext_i32_i64(local_tid_107132 +\n                                                               offset_107161)];\n                }\n                // apply reduction operation\n                {\n                    double defunc_1_op_res_107158 = x_107154 + x_107156;\n                    double defunc_1_op_res_107159 = x_107155 + x_107157;\n                    \n                    x_107154 = defunc_1_op_res_107158;\n                    x_107155 = defunc_1_op_res_107159;\n                }\n                // write result of operation\n                {\n                    ((volatile __local\n                      double *) red_arr_mem_107136)[sext_i32_i64(local_tid_107132)] =\n                        x_107154;\n                    ((volatile __local\n                      double *) red_arr_mem_107138)[sext_i32_i64(local_tid_107132)] =\n                        x_107155;\n                }\n            }\n            offset_107161 *= 2;\n        }\n        while (slt32(skip_waves_107162,\n                     squot32(sext_i64_i32(segred_group_sizze_101784) +\n                             wave_sizze_107134 - 1, wave_sizze_107134))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_107161 = skip_waves_107162 * ",
                   "wave_sizze_107134;\n            if (slt32(local_tid_107132 + offset_107161,\n                      sext_i64_i32(segred_group_sizze_101784)) &&\n                ((local_tid_107132 - squot32(local_tid_107132,\n                                             wave_sizze_107134) *\n                  wave_sizze_107134) == 0 && (squot32(local_tid_107132,\n                                                      wave_sizze_107134) & (2 *\n                                                                            skip_waves_107162 -\n                                                                            1)) ==\n                 0)) {\n                // read array element\n                {\n                    x_107156 = ((__local\n                                 double *) red_arr_mem_107136)[sext_i32_i64(local_tid_107132 +\n                                                               offset_107161)];\n                    x_107157 = ((__local\n                                 double *) red_arr_mem_107138)[sext_i32_i64(local_tid_107132 +\n                                                               offset_107161)];\n                }\n                // apply reduction operation\n                {\n                    double defunc_1_op_res_107158 = x_107154 + x_107156;\n                    double defunc_1_op_res_107159 = x_107155 + x_107157;\n                    \n                    x_107154 = defunc_1_op_res_107158;\n                    x_107155 = defunc_1_op_res_107159;\n                }\n                // write result of operation\n                {\n                    ((__local\n                      double *) red_arr_mem_107136)[sext_i32_i64(local_tid_107132)] =\n                        x_107154;\n                    ((__local\n                      double *) red_arr_mem_107138)[sext_i32_i64(local_tid_107132)] =\n                        x_107155;\n                }\n            }\n            skip_waves_107162 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the",
                   " result in accumulator\n        {\n            if (sext_i32_i64(local_tid_107132) == (int64_t) 0) {\n                x_acc_107151 = x_107154;\n                x_acc_107152 = x_107155;\n            }\n        }\n        if (groups_per_segment_107120 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_107132 == 0) {\n                    ((__global double *) mem_105060)[gtid_101789 * n_m_92409 +\n                                                     gtid_101790] =\n                        x_acc_107151;\n                    ((__global double *) mem_105064)[gtid_101789 * n_m_92409 +\n                                                     gtid_101790] =\n                        x_acc_107152;\n                }\n            }\n        } else {\n            int32_t old_counter_107163;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_107132 == 0) {\n                    ((__global\n                      double *) segred_tmp_mem_107125)[sext_i32_i64(virt_group_id_107144)] =\n                        x_acc_107151;\n                    ((__global\n                      double *) segred_tmp_mem_107127)[sext_i32_i64(virt_group_id_107144)] =\n                        x_acc_107152;\n                    mem_fence_global();\n                    old_counter_107163 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_107129)[sext_i32_i64(srem32(flat_segment_id_107145,\n                                                                                                      10240))],\n                                              (int) 1);\n                    ((__local bool *) sync_arr_mem_107140)[(int64_t) 0] =\n                        old_counter_107163 == groups_per_segment_107120 -\n                        (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOB",
                   "AL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_107164;\n            \n            is_last_group_107164 = ((__local\n                                     bool *) sync_arr_mem_107140)[(int64_t) 0];\n            if (is_last_group_107164) {\n                if (local_tid_107132 == 0) {\n                    old_counter_107163 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_107129)[sext_i32_i64(srem32(flat_segment_id_107145,\n                                                                                                      10240))],\n                                              (int) ((int64_t) 0 -\n                                                     groups_per_segment_107120));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_107165 =\n                            sdiv_up64(groups_per_segment_107120,\n                                      segred_group_sizze_101784);\n                    \n                    x_101793 = 0.0;\n                    x_101794 = 0.0;\n                    for (int64_t i_107166 = 0; i_107166 <\n                         read_per_thread_107165; i_107166++) {\n                        int64_t group_res_id_107167 =\n                                sext_i32_i64(local_tid_107132) *\n                                read_per_thread_107165 + i_107166;\n                        int64_t index_of_group_res_107168 =\n                                sext_i32_i64(flat_segment_id_107145) *\n                                groups_per_segment_107120 + group_res_id_107167;\n                        \n                        if (slt64(group_res_id_107167,\n                                  groups_per_segment_107120)) {\n                            x_101795 = ((__global\n                                         double *) segred_tmp_mem_107125)[index_of_group_res_107168];\n                ",
                   "            x_101796 = ((__global\n                                         double *) segred_tmp_mem_107127)[index_of_group_res_107168];\n                            \n                            double defunc_1_op_res_101797 = x_101793 + x_101795;\n                            double defunc_1_op_res_101798 = x_101794 + x_101796;\n                            \n                            x_101793 = defunc_1_op_res_101797;\n                            x_101794 = defunc_1_op_res_101798;\n                        }\n                    }\n                }\n                ((__local\n                  double *) red_arr_mem_107136)[sext_i32_i64(local_tid_107132)] =\n                    x_101793;\n                ((__local\n                  double *) red_arr_mem_107138)[sext_i32_i64(local_tid_107132)] =\n                    x_101794;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_107169;\n                    int32_t skip_waves_107170 = 1;\n                    double x_107154;\n                    double x_107155;\n                    double x_107156;\n                    double x_107157;\n                    \n                    offset_107169 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_107132,\n                                  sext_i64_i32(segred_group_sizze_101784))) {\n                            x_107154 = ((__local\n                                         double *) red_arr_mem_107136)[sext_i32_i64(local_tid_107132 +\n                                                                       offset_107169)];\n                            x_107155 = ((__local\n                                         double *) red_arr_mem_107138)[sext_i32_i64(local_tid_107132 +\n                                                                       offset_107169)];\n                        }\n                    }\n            ",
                   "        offset_107169 = 1;\n                    while (slt32(offset_107169, wave_sizze_107134)) {\n                        if (slt32(local_tid_107132 + offset_107169,\n                                  sext_i64_i32(segred_group_sizze_101784)) &&\n                            ((local_tid_107132 - squot32(local_tid_107132,\n                                                         wave_sizze_107134) *\n                              wave_sizze_107134) & (2 * offset_107169 - 1)) ==\n                            0) {\n                            // read array element\n                            {\n                                x_107156 = ((volatile __local\n                                             double *) red_arr_mem_107136)[sext_i32_i64(local_tid_107132 +\n                                                                           offset_107169)];\n                                x_107157 = ((volatile __local\n                                             double *) red_arr_mem_107138)[sext_i32_i64(local_tid_107132 +\n                                                                           offset_107169)];\n                            }\n                            // apply reduction operation\n                            {\n                                double defunc_1_op_res_107158 = x_107154 +\n                                       x_107156;\n                                double defunc_1_op_res_107159 = x_107155 +\n                                       x_107157;\n                                \n                                x_107154 = defunc_1_op_res_107158;\n                                x_107155 = defunc_1_op_res_107159;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local\n                                  double *) red_arr_mem_107136)[sext_i32_i64(local_tid_107132)] =\n                                    x_107154;\n                                ((volatile __l",
                   "ocal\n                                  double *) red_arr_mem_107138)[sext_i32_i64(local_tid_107132)] =\n                                    x_107155;\n                            }\n                        }\n                        offset_107169 *= 2;\n                    }\n                    while (slt32(skip_waves_107170,\n                                 squot32(sext_i64_i32(segred_group_sizze_101784) +\n                                         wave_sizze_107134 - 1,\n                                         wave_sizze_107134))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_107169 = skip_waves_107170 * wave_sizze_107134;\n                        if (slt32(local_tid_107132 + offset_107169,\n                                  sext_i64_i32(segred_group_sizze_101784)) &&\n                            ((local_tid_107132 - squot32(local_tid_107132,\n                                                         wave_sizze_107134) *\n                              wave_sizze_107134) == 0 &&\n                             (squot32(local_tid_107132, wave_sizze_107134) &\n                              (2 * skip_waves_107170 - 1)) == 0)) {\n                            // read array element\n                            {\n                                x_107156 = ((__local\n                                             double *) red_arr_mem_107136)[sext_i32_i64(local_tid_107132 +\n                                                                           offset_107169)];\n                                x_107157 = ((__local\n                                             double *) red_arr_mem_107138)[sext_i32_i64(local_tid_107132 +\n                                                                           offset_107169)];\n                            }\n                            // apply reduction operation\n                            {\n                                double defunc_1_op_res_107158 = x_107154 +\n                                       x_107156;\n       ",
                   "                         double defunc_1_op_res_107159 = x_107155 +\n                                       x_107157;\n                                \n                                x_107154 = defunc_1_op_res_107158;\n                                x_107155 = defunc_1_op_res_107159;\n                            }\n                            // write result of operation\n                            {\n                                ((__local\n                                  double *) red_arr_mem_107136)[sext_i32_i64(local_tid_107132)] =\n                                    x_107154;\n                                ((__local\n                                  double *) red_arr_mem_107138)[sext_i32_i64(local_tid_107132)] =\n                                    x_107155;\n                            }\n                        }\n                        skip_waves_107170 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_107132 == 0) {\n                            ((__global double *) mem_105060)[gtid_101789 *\n                                                             n_m_92409 +\n                                                             gtid_101790] =\n                                x_107154;\n                            ((__global double *) mem_105064)[gtid_101789 *\n                                                             n_m_92409 +\n                                                             gtid_101790] =\n                                x_107155;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_101784\n}\n__kernel void mainzisegred_large_99496(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *sync_arr_mem_106395_backing_align",
                   "ed_0,\n                                       __local volatile\n                                       int64_t *red_arr_mem_106393_backing_aligned_1,\n                                       int64_t m_92398, int64_t n_92399,\n                                       int64_t q_92401, int64_t jump_92403,\n                                       int64_t n_m_92409, int64_t i_92415,\n                                       int64_t num_groups_99490,\n                                       int64_t groups_per_segment_106379,\n                                       int64_t elements_per_thread_106380,\n                                       int64_t virt_num_groups_106381,\n                                       int64_t threads_per_segment_106383,\n                                       __global unsigned char *mem_104818,\n                                       __global unsigned char *mem_104826,\n                                       __global unsigned char *mem_104850,\n                                       __global unsigned char *mem_104859,\n                                       __global unsigned char *mem_104863,\n                                       __global unsigned char *mem_104868,\n                                       __global\n                                       unsigned char *segred_tmp_mem_106384,\n                                       __global\n                                       unsigned char *mainzicounter_mem_106386)\n{\n    #define segred_group_sizze_99489 (mainzisegred_group_sizze_98722)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_106395_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) sync_arr_mem_106395_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_106393_backing_0 =\n                                   (__local volatile\n                                    unsigned ch",
                   "ar *) red_arr_mem_106393_backing_aligned_1;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106388;\n    int32_t local_tid_106389;\n    int64_t group_sizze_106392;\n    int32_t wave_sizze_106391;\n    int32_t group_tid_106390;\n    \n    global_tid_106388 = get_global_id(0);\n    local_tid_106389 = get_local_id(0);\n    group_sizze_106392 = get_local_size(0);\n    wave_sizze_106391 = LOCKSTEP_WIDTH;\n    group_tid_106390 = get_group_id(0);\n    \n    int32_t phys_tid_99496 = global_tid_106388;\n    __local unsigned char *red_arr_mem_106393;\n    \n    red_arr_mem_106393 = (__local unsigned char *) red_arr_mem_106393_backing_0;\n    \n    __local unsigned char *sync_arr_mem_106395;\n    \n    sync_arr_mem_106395 = (__local\n                           unsigned char *) sync_arr_mem_106395_backing_1;\n    \n    int32_t phys_group_id_106397;\n    \n    phys_group_id_106397 = get_group_id(0);\n    for (int32_t i_106398 = 0; i_106398 <\n         sdiv_up32(sext_i64_i32(virt_num_groups_106381) - phys_group_id_106397,\n                   sext_i64_i32(num_groups_99490)); i_106398++) {\n        int32_t virt_group_id_106399 = phys_group_id_106397 + i_106398 *\n                sext_i64_i32(num_groups_99490);\n        int32_t flat_segment_id_106400 = squot32(virt_group_id_106399,\n                                                 sext_i64_i32(groups_per_segment_106379));\n        int64_t global_tid_106401 = srem64(sext_i32_i64(virt_group_id_106399) *\n                                           segred_group_sizze_99489 +\n                                           sext_i32_i64(local_tid_106389),\n                                           segred_group_sizze_99489 *\n                                           groups_per_segment_106379);\n        int64_t slice_106402 = n_m_92409;\n        int64_t slice_106403 = m_92398 * slice_106402;\n        int64_t gtid_99493 = squot64(sext_i32_i64(flat_segment_id_106400),\n                                     slice_106402);\n        int64_t remnant_106404 =",
                   " sext_i32_i64(flat_segment_id_106400) -\n                gtid_99493 * slice_106402;\n        int64_t gtid_99494 = remnant_106404;\n        int64_t remnant_106405 = remnant_106404 - gtid_99494;\n        int64_t gtid_99495;\n        double x_acc_106406;\n        int64_t chunk_sizze_106407 = smin64(elements_per_thread_106380,\n                                            sdiv_up64(q_92401 -\n                                                      global_tid_106401,\n                                                      threads_per_segment_106383));\n        double x_99497;\n        double x_99498;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_106406 = 0.0;\n        }\n        for (int64_t i_106411 = 0; i_106411 < chunk_sizze_106407; i_106411++) {\n            gtid_99495 = global_tid_106401 + threads_per_segment_106383 *\n                i_106411;\n            // apply map function\n            {\n                int64_t last_res_99500;\n                \n                last_res_99500 = ((__global int64_t *) mem_104818)[gtid_99493 *\n                                                                   n_92399 +\n                                                                   i_92415];\n                \n                int64_t binop_y_102128 = mul64(jump_92403, gtid_99494);\n                int64_t index_primexp_102129 = smin64(i_92415, binop_y_102128);\n                double defunc_1_f_res_99508;\n                \n                defunc_1_f_res_99508 = ((__global\n                                         double *) mem_104863)[gtid_99493 *\n                                                               n_m_92409 +\n                                                               gtid_99494];\n                \n                double x_99510;\n                \n                x_99510 = ((__global double *) mem_104850)[gtid_99493 *\n                                                           q_92401 +\n                                                           gtid_99495]",
                   ";\n                \n                bool cond_99511 = sle64(last_res_99500, gtid_99495);\n                int64_t defunc_0_f_res_99512;\n                \n                if (cond_99511) {\n                    defunc_0_f_res_99512 = (int64_t) 0;\n                } else {\n                    int64_t max_res_99507;\n                    \n                    max_res_99507 = ((__global\n                                      int64_t *) mem_104859)[gtid_99493 *\n                                                             n_m_92409 +\n                                                             gtid_99494];\n                    \n                    int64_t i_99513 = add64(gtid_99495, max_res_99507);\n                    int64_t defunc_0_add_arg_99514;\n                    \n                    defunc_0_add_arg_99514 = ((__global\n                                               int64_t *) mem_104826)[gtid_99493 *\n                                                                      n_92399 +\n                                                                      i_99513];\n                    \n                    int64_t defunc_1_add_res_99515 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_99514);\n                    \n                    defunc_0_f_res_99512 = defunc_1_add_res_99515;\n                }\n                \n                int64_t binop_p_99516 = sub64(defunc_0_f_res_99512,\n                                              index_primexp_102129);\n                double defunc_0_f_res_99517 = sitofp_i64_f64(binop_p_99516);\n                double abs_res_99518 = fabs(defunc_0_f_res_99517);\n                double tmp1_99519 = abs_res_99518 / defunc_1_f_res_99508;\n                double x_99520 = tmp1_99519 * tmp1_99519;\n                double y_99521 = tmp1_99519 * x_99520;\n                double tmp2_99522 = 1.0 - y_99521;\n                double x_99523 = tmp2_99522 * tmp2_99522;\n                double tmp3_99524 = tmp2_99522 * x_99523;\n  ",
                   "              double w_j_99525 = x_99510 * tmp3_99524;\n                \n                // save map-out results\n                { }\n                // load accumulator\n                {\n                    x_99497 = x_acc_106406;\n                }\n                // load new values\n                {\n                    x_99498 = w_j_99525;\n                }\n                // apply reduction operator\n                {\n                    double defunc_1_op_res_99499 = x_99497 + x_99498;\n                    \n                    // store in accumulator\n                    {\n                        x_acc_106406 = defunc_1_op_res_99499;\n                    }\n                }\n            }\n        }\n        // to reduce current chunk, first store our result in memory\n        {\n            x_99497 = x_acc_106406;\n            ((__local\n              double *) red_arr_mem_106393)[sext_i32_i64(local_tid_106389)] =\n                x_99497;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_106412;\n        int32_t skip_waves_106413 = 1;\n        double x_106408;\n        double x_106409;\n        \n        offset_106412 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_106389,\n                      sext_i64_i32(segred_group_sizze_99489))) {\n                x_106408 = ((__local\n                             double *) red_arr_mem_106393)[sext_i32_i64(local_tid_106389 +\n                                                           offset_106412)];\n            }\n        }\n        offset_106412 = 1;\n        while (slt32(offset_106412, wave_sizze_106391)) {\n            if (slt32(local_tid_106389 + offset_106412,\n                      sext_i64_i32(segred_group_sizze_99489)) &&\n                ((local_tid_106389 - squot32(local_tid_106389,\n                                             wave_sizze_106391) *\n                  wave_sizze_106391) & (2 * offset_106412 - 1)) == 0) {\n                // read array elem",
                   "ent\n                {\n                    x_106409 = ((volatile __local\n                                 double *) red_arr_mem_106393)[sext_i32_i64(local_tid_106389 +\n                                                               offset_106412)];\n                }\n                // apply reduction operation\n                {\n                    double defunc_1_op_res_106410 = x_106408 + x_106409;\n                    \n                    x_106408 = defunc_1_op_res_106410;\n                }\n                // write result of operation\n                {\n                    ((volatile __local\n                      double *) red_arr_mem_106393)[sext_i32_i64(local_tid_106389)] =\n                        x_106408;\n                }\n            }\n            offset_106412 *= 2;\n        }\n        while (slt32(skip_waves_106413,\n                     squot32(sext_i64_i32(segred_group_sizze_99489) +\n                             wave_sizze_106391 - 1, wave_sizze_106391))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_106412 = skip_waves_106413 * wave_sizze_106391;\n            if (slt32(local_tid_106389 + offset_106412,\n                      sext_i64_i32(segred_group_sizze_99489)) &&\n                ((local_tid_106389 - squot32(local_tid_106389,\n                                             wave_sizze_106391) *\n                  wave_sizze_106391) == 0 && (squot32(local_tid_106389,\n                                                      wave_sizze_106391) & (2 *\n                                                                            skip_waves_106413 -\n                                                                            1)) ==\n                 0)) {\n                // read array element\n                {\n                    x_106409 = ((__local\n                                 double *) red_arr_mem_106393)[sext_i32_i64(local_tid_106389 +\n                                                               offset_106412)];\n                }\n                // ap",
                   "ply reduction operation\n                {\n                    double defunc_1_op_res_106410 = x_106408 + x_106409;\n                    \n                    x_106408 = defunc_1_op_res_106410;\n                }\n                // write result of operation\n                {\n                    ((__local\n                      double *) red_arr_mem_106393)[sext_i32_i64(local_tid_106389)] =\n                        x_106408;\n                }\n            }\n            skip_waves_106413 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_106389) == (int64_t) 0) {\n                x_acc_106406 = x_106408;\n            }\n        }\n        if (groups_per_segment_106379 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_106389 == 0) {\n                    ((__global double *) mem_104868)[gtid_99493 * n_m_92409 +\n                                                     gtid_99494] = x_acc_106406;\n                }\n            }\n        } else {\n            int32_t old_counter_106414;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_106389 == 0) {\n                    ((__global\n                      double *) segred_tmp_mem_106384)[sext_i32_i64(virt_group_id_106399)] =\n                        x_acc_106406;\n                    mem_fence_global();\n                    old_counter_106414 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_106386)[sext_i32_i64(srem32(flat_segment_id_106400,\n                                                                                                      10240))],\n                                              (int) 1);\n                    ((__local bool *) sync_arr_mem_106395)[(int64_t) 0] =\n              ",
                   "          old_counter_106414 == groups_per_segment_106379 -\n                        (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_106415;\n            \n            is_last_group_106415 = ((__local\n                                     bool *) sync_arr_mem_106395)[(int64_t) 0];\n            if (is_last_group_106415) {\n                if (local_tid_106389 == 0) {\n                    old_counter_106414 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_106386)[sext_i32_i64(srem32(flat_segment_id_106400,\n                                                                                                      10240))],\n                                              (int) ((int64_t) 0 -\n                                                     groups_per_segment_106379));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_106416 =\n                            sdiv_up64(groups_per_segment_106379,\n                                      segred_group_sizze_99489);\n                    \n                    x_99497 = 0.0;\n                    for (int64_t i_106417 = 0; i_106417 <\n                         read_per_thread_106416; i_106417++) {\n                        int64_t group_res_id_106418 =\n                                sext_i32_i64(local_tid_106389) *\n                                read_per_thread_106416 + i_106417;\n                        int64_t index_of_group_res_106419 =\n                                sext_i32_i64(flat_segment_id_106400) *\n                                groups_per_segment_106379 + group_res_id_106418;\n                        \n                        if (slt64(group_res_id_106418,\n                                  groups_per_segment_106379)) {\n                            x_99498 = ((__global\n",
                   "                                        double *) segred_tmp_mem_106384)[index_of_group_res_106419];\n                            \n                            double defunc_1_op_res_99499 = x_99497 + x_99498;\n                            \n                            x_99497 = defunc_1_op_res_99499;\n                        }\n                    }\n                }\n                ((__local\n                  double *) red_arr_mem_106393)[sext_i32_i64(local_tid_106389)] =\n                    x_99497;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_106420;\n                    int32_t skip_waves_106421 = 1;\n                    double x_106408;\n                    double x_106409;\n                    \n                    offset_106420 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_106389,\n                                  sext_i64_i32(segred_group_sizze_99489))) {\n                            x_106408 = ((__local\n                                         double *) red_arr_mem_106393)[sext_i32_i64(local_tid_106389 +\n                                                                       offset_106420)];\n                        }\n                    }\n                    offset_106420 = 1;\n                    while (slt32(offset_106420, wave_sizze_106391)) {\n                        if (slt32(local_tid_106389 + offset_106420,\n                                  sext_i64_i32(segred_group_sizze_99489)) &&\n                            ((local_tid_106389 - squot32(local_tid_106389,\n                                                         wave_sizze_106391) *\n                              wave_sizze_106391) & (2 * offset_106420 - 1)) ==\n                            0) {\n                            // read array element\n                            {\n                                x_106409 = ((volati",
                   "le __local\n                                             double *) red_arr_mem_106393)[sext_i32_i64(local_tid_106389 +\n                                                                           offset_106420)];\n                            }\n                            // apply reduction operation\n                            {\n                                double defunc_1_op_res_106410 = x_106408 +\n                                       x_106409;\n                                \n                                x_106408 = defunc_1_op_res_106410;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local\n                                  double *) red_arr_mem_106393)[sext_i32_i64(local_tid_106389)] =\n                                    x_106408;\n                            }\n                        }\n                        offset_106420 *= 2;\n                    }\n                    while (slt32(skip_waves_106421,\n                                 squot32(sext_i64_i32(segred_group_sizze_99489) +\n                                         wave_sizze_106391 - 1,\n                                         wave_sizze_106391))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_106420 = skip_waves_106421 * wave_sizze_106391;\n                        if (slt32(local_tid_106389 + offset_106420,\n                                  sext_i64_i32(segred_group_sizze_99489)) &&\n                            ((local_tid_106389 - squot32(local_tid_106389,\n                                                         wave_sizze_106391) *\n                              wave_sizze_106391) == 0 &&\n                             (squot32(local_tid_106389, wave_sizze_106391) &\n                              (2 * skip_waves_106421 - 1)) == 0)) {\n                            // read array element\n                            {\n                                x_106409",
                   " = ((__local\n                                             double *) red_arr_mem_106393)[sext_i32_i64(local_tid_106389 +\n                                                                           offset_106420)];\n                            }\n                            // apply reduction operation\n                            {\n                                double defunc_1_op_res_106410 = x_106408 +\n                                       x_106409;\n                                \n                                x_106408 = defunc_1_op_res_106410;\n                            }\n                            // write result of operation\n                            {\n                                ((__local\n                                  double *) red_arr_mem_106393)[sext_i32_i64(local_tid_106389)] =\n                                    x_106408;\n                            }\n                        }\n                        skip_waves_106421 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_106389 == 0) {\n                            ((__global double *) mem_104868)[gtid_99493 *\n                                                             n_m_92409 +\n                                                             gtid_99494] =\n                                x_106408;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_99489\n}\n__kernel void mainzisegred_large_99546(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *sync_arr_mem_106478_backing_aligned_0,\n                                       __local volatile\n                                       int64_t *red_arr_mem_106476_backing_aligned_1,\n                                      ",
                   " int64_t m_92398, int64_t n_92399,\n                                       int64_t q_92401, int64_t jump_92403,\n                                       int64_t n_m_92409, int64_t i_92415,\n                                       int64_t num_groups_99540,\n                                       int64_t groups_per_segment_106462,\n                                       int64_t elements_per_thread_106463,\n                                       int64_t virt_num_groups_106464,\n                                       int64_t threads_per_segment_106466,\n                                       __global unsigned char *mem_104818,\n                                       __global unsigned char *mem_104822,\n                                       __global unsigned char *mem_104826,\n                                       __global unsigned char *mem_104850,\n                                       __global unsigned char *mem_104859,\n                                       __global unsigned char *mem_104863,\n                                       __global unsigned char *mem_104873,\n                                       __global unsigned char *mem_104878,\n                                       __global\n                                       unsigned char *segred_tmp_mem_106467,\n                                       __global\n                                       unsigned char *mainzicounter_mem_106469)\n{\n    #define segred_group_sizze_99539 (mainzisegred_group_sizze_98654)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_106478_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) sync_arr_mem_106478_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_106476_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106476_backing_ali",
                   "gned_1;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106471;\n    int32_t local_tid_106472;\n    int64_t group_sizze_106475;\n    int32_t wave_sizze_106474;\n    int32_t group_tid_106473;\n    \n    global_tid_106471 = get_global_id(0);\n    local_tid_106472 = get_local_id(0);\n    group_sizze_106475 = get_local_size(0);\n    wave_sizze_106474 = LOCKSTEP_WIDTH;\n    group_tid_106473 = get_group_id(0);\n    \n    int32_t phys_tid_99546 = global_tid_106471;\n    __local unsigned char *red_arr_mem_106476;\n    \n    red_arr_mem_106476 = (__local unsigned char *) red_arr_mem_106476_backing_0;\n    \n    __local unsigned char *sync_arr_mem_106478;\n    \n    sync_arr_mem_106478 = (__local\n                           unsigned char *) sync_arr_mem_106478_backing_1;\n    \n    int32_t phys_group_id_106480;\n    \n    phys_group_id_106480 = get_group_id(0);\n    for (int32_t i_106481 = 0; i_106481 <\n         sdiv_up32(sext_i64_i32(virt_num_groups_106464) - phys_group_id_106480,\n                   sext_i64_i32(num_groups_99540)); i_106481++) {\n        int32_t virt_group_id_106482 = phys_group_id_106480 + i_106481 *\n                sext_i64_i32(num_groups_99540);\n        int32_t flat_segment_id_106483 = squot32(virt_group_id_106482,\n                                                 sext_i64_i32(groups_per_segment_106462));\n        int64_t global_tid_106484 = srem64(sext_i32_i64(virt_group_id_106482) *\n                                           segred_group_sizze_99539 +\n                                           sext_i32_i64(local_tid_106472),\n                                           segred_group_sizze_99539 *\n                                           groups_per_segment_106462);\n        int64_t slice_106485 = n_m_92409;\n        int64_t slice_106486 = m_92398 * slice_106485;\n        int64_t gtid_99543 = squot64(sext_i32_i64(flat_segment_id_106483),\n                                     slice_106485);\n        int64_t remnant_106487 = sext_i32_i64(flat_segment_id_106483",
                   ") -\n                gtid_99543 * slice_106485;\n        int64_t gtid_99544 = remnant_106487;\n        int64_t remnant_106488 = remnant_106487 - gtid_99544;\n        int64_t gtid_99545;\n        double x_acc_106489;\n        int64_t chunk_sizze_106490 = smin64(elements_per_thread_106463,\n                                            sdiv_up64(q_92401 -\n                                                      global_tid_106484,\n                                                      threads_per_segment_106466));\n        double x_99547;\n        double x_99548;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_106489 = 0.0;\n        }\n        for (int64_t i_106494 = 0; i_106494 < chunk_sizze_106490; i_106494++) {\n            gtid_99545 = global_tid_106484 + threads_per_segment_106466 *\n                i_106494;\n            // apply map function\n            {\n                int64_t last_res_99550;\n                \n                last_res_99550 = ((__global int64_t *) mem_104818)[gtid_99543 *\n                                                                   n_92399 +\n                                                                   i_92415];\n                \n                int64_t binop_y_102124 = mul64(jump_92403, gtid_99544);\n                int64_t index_primexp_102125 = smin64(i_92415, binop_y_102124);\n                int64_t max_res_99559;\n                \n                max_res_99559 = ((__global int64_t *) mem_104859)[gtid_99543 *\n                                                                  n_m_92409 +\n                                                                  gtid_99544];\n                \n                double defunc_1_f_res_99560;\n                \n                defunc_1_f_res_99560 = ((__global\n                                         double *) mem_104863)[gtid_99543 *\n                                                               n_m_92409 +\n                                                               gtid_99544];\n    ",
                   "            \n                double a0_99561;\n                \n                a0_99561 = ((__global double *) mem_104873)[gtid_99543 *\n                                                            n_m_92409 +\n                                                            gtid_99544];\n                \n                double x_99563;\n                \n                x_99563 = ((__global double *) mem_104850)[gtid_99543 *\n                                                           q_92401 +\n                                                           gtid_99545];\n                \n                bool cond_99564 = sle64(last_res_99550, gtid_99545);\n                int64_t defunc_0_f_res_99565;\n                \n                if (cond_99564) {\n                    defunc_0_f_res_99565 = (int64_t) 0;\n                } else {\n                    int64_t i_99566 = add64(gtid_99545, max_res_99559);\n                    int64_t defunc_0_add_arg_99567;\n                    \n                    defunc_0_add_arg_99567 = ((__global\n                                               int64_t *) mem_104826)[gtid_99543 *\n                                                                      n_92399 +\n                                                                      i_99566];\n                    \n                    int64_t defunc_1_add_res_99568 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_99567);\n                    \n                    defunc_0_f_res_99565 = defunc_1_add_res_99568;\n                }\n                \n                int64_t binop_p_99569 = sub64(defunc_0_f_res_99565,\n                                              index_primexp_102125);\n                double defunc_0_f_res_99570 = sitofp_i64_f64(binop_p_99569);\n                double abs_res_99571 = fabs(defunc_0_f_res_99570);\n                double tmp1_99572 = abs_res_99571 / defunc_1_f_res_99560;\n                double x_99573 = tmp1_99572 * tmp1_99572;\n                dou",
                   "ble y_99574 = tmp1_99572 * x_99573;\n                double tmp2_99575 = 1.0 - y_99574;\n                double x_99576 = tmp2_99575 * tmp2_99575;\n                double tmp3_99577 = tmp2_99575 * x_99576;\n                double tmp4_99578 = x_99563 * tmp3_99577;\n                double defunc_0_f_res_99579;\n                \n                if (cond_99564) {\n                    defunc_0_f_res_99579 = 0.0;\n                } else {\n                    int64_t i_99580 = add64(gtid_99545, max_res_99559);\n                    double defunc_0_add_arg_99581;\n                    \n                    defunc_0_add_arg_99581 = ((__global\n                                               double *) mem_104822)[gtid_99543 *\n                                                                     n_92399 +\n                                                                     i_99580];\n                    defunc_0_f_res_99579 = defunc_0_add_arg_99581;\n                }\n                \n                double x_99582 = a0_99561 * tmp4_99578;\n                double defunc_9_fit_fun_res_99583 = defunc_0_f_res_99579 *\n                       x_99582;\n                \n                // save map-out results\n                { }\n                // load accumulator\n                {\n                    x_99547 = x_acc_106489;\n                }\n                // load new values\n                {\n                    x_99548 = defunc_9_fit_fun_res_99583;\n                }\n                // apply reduction operator\n                {\n                    double defunc_1_op_res_99549 = x_99547 + x_99548;\n                    \n                    // store in accumulator\n                    {\n                        x_acc_106489 = defunc_1_op_res_99549;\n                    }\n                }\n            }\n        }\n        // to reduce current chunk, first store our result in memory\n        {\n            x_99547 = x_acc_106489;\n            ((__local\n              double *) red_arr_mem_106476)[sext_i32_i64(loca",
                   "l_tid_106472)] =\n                x_99547;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_106495;\n        int32_t skip_waves_106496 = 1;\n        double x_106491;\n        double x_106492;\n        \n        offset_106495 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_106472,\n                      sext_i64_i32(segred_group_sizze_99539))) {\n                x_106491 = ((__local\n                             double *) red_arr_mem_106476)[sext_i32_i64(local_tid_106472 +\n                                                           offset_106495)];\n            }\n        }\n        offset_106495 = 1;\n        while (slt32(offset_106495, wave_sizze_106474)) {\n            if (slt32(local_tid_106472 + offset_106495,\n                      sext_i64_i32(segred_group_sizze_99539)) &&\n                ((local_tid_106472 - squot32(local_tid_106472,\n                                             wave_sizze_106474) *\n                  wave_sizze_106474) & (2 * offset_106495 - 1)) == 0) {\n                // read array element\n                {\n                    x_106492 = ((volatile __local\n                                 double *) red_arr_mem_106476)[sext_i32_i64(local_tid_106472 +\n                                                               offset_106495)];\n                }\n                // apply reduction operation\n                {\n                    double defunc_1_op_res_106493 = x_106491 + x_106492;\n                    \n                    x_106491 = defunc_1_op_res_106493;\n                }\n                // write result of operation\n                {\n                    ((volatile __local\n                      double *) red_arr_mem_106476)[sext_i32_i64(local_tid_106472)] =\n                        x_106491;\n                }\n            }\n            offset_106495 *= 2;\n        }\n        while (slt32(skip_waves_106496,\n                     squot32(sext_i64_i32(segred_group_sizze_99539) +\n  ",
                   "                           wave_sizze_106474 - 1, wave_sizze_106474))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_106495 = skip_waves_106496 * wave_sizze_106474;\n            if (slt32(local_tid_106472 + offset_106495,\n                      sext_i64_i32(segred_group_sizze_99539)) &&\n                ((local_tid_106472 - squot32(local_tid_106472,\n                                             wave_sizze_106474) *\n                  wave_sizze_106474) == 0 && (squot32(local_tid_106472,\n                                                      wave_sizze_106474) & (2 *\n                                                                            skip_waves_106496 -\n                                                                            1)) ==\n                 0)) {\n                // read array element\n                {\n                    x_106492 = ((__local\n                                 double *) red_arr_mem_106476)[sext_i32_i64(local_tid_106472 +\n                                                               offset_106495)];\n                }\n                // apply reduction operation\n                {\n                    double defunc_1_op_res_106493 = x_106491 + x_106492;\n                    \n                    x_106491 = defunc_1_op_res_106493;\n                }\n                // write result of operation\n                {\n                    ((__local\n                      double *) red_arr_mem_106476)[sext_i32_i64(local_tid_106472)] =\n                        x_106491;\n                }\n            }\n            skip_waves_106496 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_106472) == (int64_t) 0) {\n                x_acc_106489 = x_106491;\n            }\n        }\n        if (groups_per_segment_106462 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_106",
                   "472 == 0) {\n                    ((__global double *) mem_104878)[gtid_99543 * n_m_92409 +\n                                                     gtid_99544] = x_acc_106489;\n                }\n            }\n        } else {\n            int32_t old_counter_106497;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_106472 == 0) {\n                    ((__global\n                      double *) segred_tmp_mem_106467)[sext_i32_i64(virt_group_id_106482)] =\n                        x_acc_106489;\n                    mem_fence_global();\n                    old_counter_106497 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_106469)[sext_i32_i64(srem32(flat_segment_id_106483,\n                                                                                                      10240))],\n                                              (int) 1);\n                    ((__local bool *) sync_arr_mem_106478)[(int64_t) 0] =\n                        old_counter_106497 == groups_per_segment_106462 -\n                        (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_106498;\n            \n            is_last_group_106498 = ((__local\n                                     bool *) sync_arr_mem_106478)[(int64_t) 0];\n            if (is_last_group_106498) {\n                if (local_tid_106472 == 0) {\n                    old_counter_106497 =\n                        atomic_add_i32_global(&((volatile __global\n                                                 int *) mainzicounter_mem_106469)[sext_i32_i64(srem32(flat_segment_id_106483,\n                                                                                                      10240))],\n                                              (int) ((int64_t) 0 -\n                     ",
                   "                                groups_per_segment_106462));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_106499 =\n                            sdiv_up64(groups_per_segment_106462,\n                                      segred_group_sizze_99539);\n                    \n                    x_99547 = 0.0;\n                    for (int64_t i_106500 = 0; i_106500 <\n                         read_per_thread_106499; i_106500++) {\n                        int64_t group_res_id_106501 =\n                                sext_i32_i64(local_tid_106472) *\n                                read_per_thread_106499 + i_106500;\n                        int64_t index_of_group_res_106502 =\n                                sext_i32_i64(flat_segment_id_106483) *\n                                groups_per_segment_106462 + group_res_id_106501;\n                        \n                        if (slt64(group_res_id_106501,\n                                  groups_per_segment_106462)) {\n                            x_99548 = ((__global\n                                        double *) segred_tmp_mem_106467)[index_of_group_res_106502];\n                            \n                            double defunc_1_op_res_99549 = x_99547 + x_99548;\n                            \n                            x_99547 = defunc_1_op_res_99549;\n                        }\n                    }\n                }\n                ((__local\n                  double *) red_arr_mem_106476)[sext_i32_i64(local_tid_106472)] =\n                    x_99547;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_106503;\n                    int32_t skip_waves_106504 = 1;\n                    double x_106491;\n                    double x_106492;\n                    \n                    offset_106503 = 0;\n                    // participating threads read initial accu",
                   "mulator\n                    {\n                        if (slt32(local_tid_106472,\n                                  sext_i64_i32(segred_group_sizze_99539))) {\n                            x_106491 = ((__local\n                                         double *) red_arr_mem_106476)[sext_i32_i64(local_tid_106472 +\n                                                                       offset_106503)];\n                        }\n                    }\n                    offset_106503 = 1;\n                    while (slt32(offset_106503, wave_sizze_106474)) {\n                        if (slt32(local_tid_106472 + offset_106503,\n                                  sext_i64_i32(segred_group_sizze_99539)) &&\n                            ((local_tid_106472 - squot32(local_tid_106472,\n                                                         wave_sizze_106474) *\n                              wave_sizze_106474) & (2 * offset_106503 - 1)) ==\n                            0) {\n                            // read array element\n                            {\n                                x_106492 = ((volatile __local\n                                             double *) red_arr_mem_106476)[sext_i32_i64(local_tid_106472 +\n                                                                           offset_106503)];\n                            }\n                            // apply reduction operation\n                            {\n                                double defunc_1_op_res_106493 = x_106491 +\n                                       x_106492;\n                                \n                                x_106491 = defunc_1_op_res_106493;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local\n                                  double *) red_arr_mem_106476)[sext_i32_i64(local_tid_106472)] =\n                                    x_106491;\n                            }\n          ",
                   "              }\n                        offset_106503 *= 2;\n                    }\n                    while (slt32(skip_waves_106504,\n                                 squot32(sext_i64_i32(segred_group_sizze_99539) +\n                                         wave_sizze_106474 - 1,\n                                         wave_sizze_106474))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_106503 = skip_waves_106504 * wave_sizze_106474;\n                        if (slt32(local_tid_106472 + offset_106503,\n                                  sext_i64_i32(segred_group_sizze_99539)) &&\n                            ((local_tid_106472 - squot32(local_tid_106472,\n                                                         wave_sizze_106474) *\n                              wave_sizze_106474) == 0 &&\n                             (squot32(local_tid_106472, wave_sizze_106474) &\n                              (2 * skip_waves_106504 - 1)) == 0)) {\n                            // read array element\n                            {\n                                x_106492 = ((__local\n                                             double *) red_arr_mem_106476)[sext_i32_i64(local_tid_106472 +\n                                                                           offset_106503)];\n                            }\n                            // apply reduction operation\n                            {\n                                double defunc_1_op_res_106493 = x_106491 +\n                                       x_106492;\n                                \n                                x_106491 = defunc_1_op_res_106493;\n                            }\n                            // write result of operation\n                            {\n                                ((__local\n                                  double *) red_arr_mem_106476)[sext_i32_i64(local_tid_106472)] =\n                                    x_106491;\n                            }\n                 ",
                   "       }\n                        skip_waves_106504 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_106472 == 0) {\n                            ((__global double *) mem_104878)[gtid_99543 *\n                                                             n_m_92409 +\n                                                             gtid_99544] =\n                                x_106491;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_99539\n}\n__kernel void mainzisegred_small_100534(__global int *global_failure,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106638_backing_aligned_0,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106636_backing_aligned_1,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106634_backing_aligned_2,\n                                        int64_t m_92398, int64_t n_92399,\n                                        int64_t q_92401, int64_t jump_92403,\n                                        int64_t n_m_92409, int64_t i_92415,\n                                        int64_t num_groups_100526,\n                                        int64_t segment_sizze_nonzzero_106627,\n                                        __global unsigned char *mem_104883,\n                                        __global unsigned char *mem_104891,\n                                        __global unsigned char *mem_104915,\n                                        __global unsigned char *mem_104924,\n                                        __global unsigned char *mem_104928,\n                                        ",
                   "__global unsigned char *mem_104933,\n                                        __global unsigned char *mem_104937,\n                                        __global unsigned char *mem_104941)\n{\n    #define segred_group_sizze_100525 (mainzisegred_group_sizze_99714)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_106638_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106638_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_106636_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106636_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_106634_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106634_backing_aligned_2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106629;\n    int32_t local_tid_106630;\n    int64_t group_sizze_106633;\n    int32_t wave_sizze_106632;\n    int32_t group_tid_106631;\n    \n    global_tid_106629 = get_global_id(0);\n    local_tid_106630 = get_local_id(0);\n    group_sizze_106633 = get_local_size(0);\n    wave_sizze_106632 = LOCKSTEP_WIDTH;\n    group_tid_106631 = get_group_id(0);\n    \n    int32_t phys_tid_100534 = global_tid_106629;\n    __local unsigned char *red_arr_mem_106634;\n    \n    red_arr_mem_106634 = (__local unsigned char *) red_arr_mem_106634_backing_0;\n    \n    __local unsigned char *red_arr_mem_106636;\n    \n    red_arr_mem_106636 = (__local unsigned char *) red_arr_mem_106636_backing_1;\n    \n    __local unsigned char *red_arr_mem_106638;\n    \n    red_arr_mem_106638 = (__local unsigned char *) red_arr_mem_106638_backing_2;\n    \n    int32_t phys_group_id_106640;\n    \n    phys_group_id_106640 = get_group_id(0);\n    for (int",
                   "32_t i_106641 = 0; i_106641 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_92398 * n_m_92409,\n                                          squot64(segred_group_sizze_100525,\n                                                  segment_sizze_nonzzero_106627))) -\n                   phys_group_id_106640, sext_i64_i32(num_groups_100526));\n         i_106641++) {\n        int32_t virt_group_id_106642 = phys_group_id_106640 + i_106641 *\n                sext_i64_i32(num_groups_100526);\n        int64_t slice_106643 = n_m_92409;\n        int64_t slice_106644 = m_92398 * slice_106643;\n        int64_t gtid_100531 = squot64(squot64(sext_i32_i64(local_tid_106630),\n                                              segment_sizze_nonzzero_106627) +\n                                      sext_i32_i64(virt_group_id_106642) *\n                                      squot64(segred_group_sizze_100525,\n                                              segment_sizze_nonzzero_106627),\n                                      slice_106643);\n        int64_t remnant_106645 = squot64(sext_i32_i64(local_tid_106630),\n                                         segment_sizze_nonzzero_106627) +\n                sext_i32_i64(virt_group_id_106642) *\n                squot64(segred_group_sizze_100525,\n                        segment_sizze_nonzzero_106627) - gtid_100531 *\n                slice_106643;\n        int64_t gtid_100532 = remnant_106645;\n        int64_t remnant_106646 = remnant_106645 - gtid_100532;\n        int64_t gtid_100533 = srem64(sext_i32_i64(local_tid_106630), q_92401);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, q_92401) && ((slt64(gtid_100531, m_92398) &&\n                                                 slt64(gtid_100532,\n                                                       n_m_92409)) &&\n                                                slt64(sext_i32_i64(local_tid_106630),\n                                                      q_92401 *\n                      ",
                   "                                squot64(segred_group_sizze_100525,\n                                                              segment_sizze_nonzzero_106627)))) {\n                int64_t last_res_100544;\n                \n                last_res_100544 = ((__global\n                                    int64_t *) mem_104883)[gtid_100531 *\n                                                           n_92399 + i_92415];\n                \n                int64_t binop_y_102136 = mul64(jump_92403, gtid_100532);\n                int64_t index_primexp_102137 = smin64(i_92415, binop_y_102136);\n                double defunc_1_f_res_100552;\n                \n                defunc_1_f_res_100552 = ((__global\n                                          double *) mem_104928)[gtid_100531 *\n                                                                n_m_92409 +\n                                                                gtid_100532];\n                \n                double x_100554;\n                \n                x_100554 = ((__global double *) mem_104915)[gtid_100531 *\n                                                            q_92401 +\n                                                            gtid_100533];\n                \n                bool cond_100555 = sle64(last_res_100544, gtid_100533);\n                int64_t defunc_0_f_res_100556;\n                \n                if (cond_100555) {\n                    defunc_0_f_res_100556 = (int64_t) 0;\n                } else {\n                    int64_t max_res_100551;\n                    \n                    max_res_100551 = ((__global\n                                       int64_t *) mem_104924)[gtid_100531 *\n                                                              n_m_92409 +\n                                                              gtid_100532];\n                    \n                    int64_t i_100557 = add64(gtid_100533, max_res_100551);\n                    int64_t defunc_0_add_arg_100558;\n                    \n",
                   "                    defunc_0_add_arg_100558 = ((__global\n                                                int64_t *) mem_104891)[gtid_100531 *\n                                                                       n_92399 +\n                                                                       i_100557];\n                    \n                    int64_t defunc_1_add_res_100559 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_100558);\n                    \n                    defunc_0_f_res_100556 = defunc_1_add_res_100559;\n                }\n                \n                int64_t binop_p_100560 = sub64(defunc_0_f_res_100556,\n                                               index_primexp_102137);\n                double defunc_0_f_res_100561 = sitofp_i64_f64(binop_p_100560);\n                double abs_res_100562 = fabs(defunc_0_f_res_100561);\n                double tmp1_100563 = abs_res_100562 / defunc_1_f_res_100552;\n                double x_100564 = tmp1_100563 * tmp1_100563;\n                double y_100565 = tmp1_100563 * x_100564;\n                double tmp2_100566 = 1.0 - y_100565;\n                double x_100567 = tmp2_100566 * tmp2_100566;\n                double tmp3_100568 = tmp2_100566 * x_100567;\n                double w_j_100569 = x_100554 * tmp3_100568;\n                double xw_j_100570 = defunc_0_f_res_100561 * w_j_100569;\n                double x2w_j_100571 = defunc_0_f_res_100561 * xw_j_100570;\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local\n                      double *) red_arr_mem_106634)[sext_i32_i64(local_tid_106630)] =\n                        w_j_100569;\n                    ((__local\n                      double *) red_arr_mem_106636)[sext_i32_i64(local_tid_106630)] =\n                        xw_j_100570;\n                    ((__local\n                      double *) red_arr_mem_106",
                   "638)[sext_i32_i64(local_tid_106630)] =\n                        x2w_j_100571;\n                }\n            } else {\n                ((__local\n                  double *) red_arr_mem_106634)[sext_i32_i64(local_tid_106630)] =\n                    0.0;\n                ((__local\n                  double *) red_arr_mem_106636)[sext_i32_i64(local_tid_106630)] =\n                    0.0;\n                ((__local\n                  double *) red_arr_mem_106638)[sext_i32_i64(local_tid_106630)] =\n                    0.0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, q_92401)) {\n            // perform segmented scan to imitate reduction\n            {\n                double x_100535;\n                double x_100536;\n                double x_100537;\n                double x_100538;\n                double x_100539;\n                double x_100540;\n                double x_106647;\n                double x_106648;\n                double x_106649;\n                double x_106650;\n                double x_106651;\n                double x_106652;\n                bool ltid_in_bounds_106656 =\n                     slt64(sext_i32_i64(local_tid_106630), q_92401 *\n                           squot64(segred_group_sizze_100525,\n                                   segment_sizze_nonzzero_106627));\n                int32_t skip_threads_106657;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_106656) {\n                        x_100538 = ((volatile __local\n                                     double *) red_arr_mem_106634)[sext_i32_i64(local_tid_106630)];\n                        x_100539 = ((volatile __local\n                                     double *) red_arr_mem_106636)[sext_i32_i64(local_tid_106630)];\n                        x_100540 = ((volatile __local\n                                     double *) red_arr_mem_106638)[sext_i32_i64(local_tid_106630)];\n                        if (",
                   "(local_tid_106630 - squot32(local_tid_106630, 32) *\n                             32) == 0) {\n                            x_100535 = x_100538;\n                            x_100536 = x_100539;\n                            x_100537 = x_100540;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_106657 = 1;\n                    while (slt32(skip_threads_106657, 32)) {\n                        bool thread_active_106658 = sle32(skip_threads_106657,\n                                                          local_tid_106630 -\n                                                          squot32(local_tid_106630,\n                                                                  32) * 32) &&\n                             ltid_in_bounds_106656;\n                        \n                        if (thread_active_106658) {\n                            // read operands\n                            {\n                                x_100535 = ((volatile __local\n                                             double *) red_arr_mem_106634)[sext_i32_i64(local_tid_106630) -\n                                                                           sext_i32_i64(skip_threads_106657)];\n                                x_100536 = ((volatile __local\n                                             double *) red_arr_mem_106636)[sext_i32_i64(local_tid_106630) -\n                                                                           sext_i32_i64(skip_threads_106657)];\n                                x_100537 = ((volatile __local\n                                             double *) red_arr_mem_106638)[sext_i32_i64(local_tid_106630) -\n                                                                           sext_i32_i64(skip_threads_106657)];\n                            }\n                        }\n                        // perform operation\n                        {\n             ",
                   "               bool inactive_106659 =\n                                 slt64(srem64(sext_i32_i64(local_tid_106630),\n                                              q_92401),\n                                       sext_i32_i64(local_tid_106630) -\n                                       sext_i32_i64(local_tid_106630 -\n                                       skip_threads_106657));\n                            \n                            if (thread_active_106658 && inactive_106659) {\n                                x_100535 = x_100538;\n                                x_100536 = x_100539;\n                                x_100537 = x_100540;\n                            }\n                            if (thread_active_106658) {\n                                if (!inactive_106659) {\n                                    double defunc_1_op_res_100541 = x_100535 +\n                                           x_100538;\n                                    double defunc_1_op_res_100542 = x_100536 +\n                                           x_100539;\n                                    double defunc_1_op_res_100543 = x_100537 +\n                                           x_100540;\n                                    \n                                    x_100535 = defunc_1_op_res_100541;\n                                    x_100536 = defunc_1_op_res_100542;\n                                    x_100537 = defunc_1_op_res_100543;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_106632, skip_threads_106657)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_106658) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  double *) red_arr_mem_106634)[sext_i32_i64(local_tid_106630)] =\n                                    x_100535;\n",
                   "                                x_100538 = x_100535;\n                                ((volatile __local\n                                  double *) red_arr_mem_106636)[sext_i32_i64(local_tid_106630)] =\n                                    x_100536;\n                                x_100539 = x_100536;\n                                ((volatile __local\n                                  double *) red_arr_mem_106638)[sext_i32_i64(local_tid_106630)] =\n                                    x_100537;\n                                x_100540 = x_100537;\n                            }\n                        }\n                        if (sle32(wave_sizze_106632, skip_threads_106657)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_106657 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_106630 - squot32(local_tid_106630, 32) *\n                         32) == 31 && ltid_in_bounds_106656) {\n                        ((volatile __local\n                          double *) red_arr_mem_106634)[sext_i32_i64(squot32(local_tid_106630,\n                                                                             32))] =\n                            x_100535;\n                        ((volatile __local\n                          double *) red_arr_mem_106636)[sext_i32_i64(squot32(local_tid_106630,\n                                                                             32))] =\n                            x_100536;\n                        ((volatile __local\n                          double *) red_arr_mem_106638)[sext_i32_i64(squot32(local_tid_106630,\n                                                                             32))] =\n                            x_100537;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENC",
                   "E);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_106660;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_106630, 32) == 0 &&\n                            ltid_in_bounds_106656) {\n                            x_106650 = ((volatile __local\n                                         double *) red_arr_mem_106634)[sext_i32_i64(local_tid_106630)];\n                            x_106651 = ((volatile __local\n                                         double *) red_arr_mem_106636)[sext_i32_i64(local_tid_106630)];\n                            x_106652 = ((volatile __local\n                                         double *) red_arr_mem_106638)[sext_i32_i64(local_tid_106630)];\n                            if ((local_tid_106630 - squot32(local_tid_106630,\n                                                            32) * 32) == 0) {\n                                x_106647 = x_106650;\n                                x_106648 = x_106651;\n                                x_106649 = x_106652;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_106660 = 1;\n                        while (slt32(skip_threads_106660, 32)) {\n                            bool thread_active_106661 =\n                                 sle32(skip_threads_106660, local_tid_106630 -\n                                       squot32(local_tid_106630, 32) * 32) &&\n                                 (squot32(local_tid_106630, 32) == 0 &&\n                                  ltid_in_bounds_106656);\n                            \n                            if (thread_active_106661) {\n                                // read operands\n                                {\n                       ",
                   "             x_106647 = ((volatile __local\n                                                 double *) red_arr_mem_106634)[sext_i32_i64(local_tid_106630) -\n                                                                               sext_i32_i64(skip_threads_106660)];\n                                    x_106648 = ((volatile __local\n                                                 double *) red_arr_mem_106636)[sext_i32_i64(local_tid_106630) -\n                                                                               sext_i32_i64(skip_threads_106660)];\n                                    x_106649 = ((volatile __local\n                                                 double *) red_arr_mem_106638)[sext_i32_i64(local_tid_106630) -\n                                                                               sext_i32_i64(skip_threads_106660)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_106662 =\n                                     slt64(srem64(sext_i32_i64(local_tid_106630 *\n                                                  32 + 32 - 1), q_92401),\n                                           sext_i32_i64(local_tid_106630 * 32 +\n                                           32 - 1) -\n                                           sext_i32_i64((local_tid_106630 -\n                                                         skip_threads_106660) *\n                                           32 + 32 - 1));\n                                \n                                if (thread_active_106661 && inactive_106662) {\n                                    x_106647 = x_106650;\n                                    x_106648 = x_106651;\n                                    x_106649 = x_106652;\n                                }\n                                if (thread_active_106661) {\n                                    if (!inactive_106662) {\n      ",
                   "                                  double defunc_1_op_res_106653 =\n                                               x_106647 + x_106650;\n                                        double defunc_1_op_res_106654 =\n                                               x_106648 + x_106651;\n                                        double defunc_1_op_res_106655 =\n                                               x_106649 + x_106652;\n                                        \n                                        x_106647 = defunc_1_op_res_106653;\n                                        x_106648 = defunc_1_op_res_106654;\n                                        x_106649 = defunc_1_op_res_106655;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_106632, skip_threads_106660)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_106661) {\n                                // write result\n                                {\n                                    ((volatile __local\n                                      double *) red_arr_mem_106634)[sext_i32_i64(local_tid_106630)] =\n                                        x_106647;\n                                    x_106650 = x_106647;\n                                    ((volatile __local\n                                      double *) red_arr_mem_106636)[sext_i32_i64(local_tid_106630)] =\n                                        x_106648;\n                                    x_106651 = x_106648;\n                                    ((volatile __local\n                                      double *) red_arr_mem_106638)[sext_i32_i64(local_tid_106630)] =\n                                        x_106649;\n                                    x_106652 = x_106649;\n                                }\n                            }\n                            if (sle32(wave_sizze_10",
                   "6632, skip_threads_106660)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_106660 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_106663 = squot32(local_tid_106630, 32) == 0 ||\n                     !ltid_in_bounds_106656;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_106663) {\n                            x_100538 = x_100535;\n                            x_100539 = x_100536;\n                            x_100540 = x_100537;\n                            x_100535 = ((__local\n                                         double *) red_arr_mem_106634)[sext_i32_i64(squot32(local_tid_106630,\n                                                                                            32)) -\n                                                                       (int64_t) 1];\n                            x_100536 = ((__local\n                                         double *) red_arr_mem_106636)[sext_i32_i64(squot32(local_tid_106630,\n                                                                                            32)) -\n                                                                       (int64_t) 1];\n                            x_100537 = ((__local\n                                         double *) red_arr_mem_106638)[sext_i32_i64(squot32(local_tid_106630,\n                                                                                            32)) -\n                                                                       (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_106664 =\n                             s",
                   "lt64(srem64(sext_i32_i64(local_tid_106630),\n                                          q_92401),\n                                   sext_i32_i64(local_tid_106630) -\n                                   sext_i32_i64(squot32(local_tid_106630, 32) *\n                                   32 - 1));\n                        \n                        if (!no_carry_in_106663) {\n                            if (inactive_106664) {\n                                x_100535 = x_100538;\n                                x_100536 = x_100539;\n                                x_100537 = x_100540;\n                            }\n                        }\n                        if (!no_carry_in_106663) {\n                            if (!inactive_106664) {\n                                double defunc_1_op_res_100541 = x_100535 +\n                                       x_100538;\n                                double defunc_1_op_res_100542 = x_100536 +\n                                       x_100539;\n                                double defunc_1_op_res_100543 = x_100537 +\n                                       x_100540;\n                                \n                                x_100535 = defunc_1_op_res_100541;\n                                x_100536 = defunc_1_op_res_100542;\n                                x_100537 = defunc_1_op_res_100543;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_106663) {\n                            ((__local\n                              double *) red_arr_mem_106634)[sext_i32_i64(local_tid_106630)] =\n                                x_100535;\n                            ((__local\n                              double *) red_arr_mem_106636)[sext_i32_i64(local_tid_106630)] =\n                                x_100536;\n                            ((__local\n                              double *) red_arr_mem_106638)[sext_i32_i64(local_ti",
                   "d_106630)] =\n                                x_100537;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_106630, 32) == 0 &&\n                        ltid_in_bounds_106656) {\n                        ((__local\n                          double *) red_arr_mem_106634)[sext_i32_i64(local_tid_106630)] =\n                            x_100538;\n                        ((__local\n                          double *) red_arr_mem_106636)[sext_i32_i64(local_tid_106630)] =\n                            x_100539;\n                        ((__local\n                          double *) red_arr_mem_106638)[sext_i32_i64(local_tid_106630)] =\n                            x_100540;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_106642) *\n                      squot64(segred_group_sizze_100525,\n                              segment_sizze_nonzzero_106627) +\n                      sext_i32_i64(local_tid_106630), m_92398 * n_m_92409) &&\n                slt64(sext_i32_i64(local_tid_106630),\n                      squot64(segred_group_sizze_100525,\n                              segment_sizze_nonzzero_106627))) {\n                double tmp_106665;\n                \n                tmp_106665 = ((__local\n                               double *) red_arr_mem_106634)[(sext_i32_i64(local_tid_106630) +\n                                                              (int64_t) 1) *\n                                                             segment_sizze_nonzzero_106627 -\n                                                             (int64_t) 1];\n                ((__global\n                  double *) mem_104933)[squot64(sext_i32_i64(virt_grou",
                   "p_id_106642) *\n                                                squot64(segred_group_sizze_100525,\n                                                        segment_sizze_nonzzero_106627) +\n                                                sext_i32_i64(local_tid_106630),\n                                                n_m_92409) * n_m_92409 +\n                                        (sext_i32_i64(virt_group_id_106642) *\n                                         squot64(segred_group_sizze_100525,\n                                                 segment_sizze_nonzzero_106627) +\n                                         sext_i32_i64(local_tid_106630) -\n                                         squot64(sext_i32_i64(virt_group_id_106642) *\n                                                 squot64(segred_group_sizze_100525,\n                                                         segment_sizze_nonzzero_106627) +\n                                                 sext_i32_i64(local_tid_106630),\n                                                 n_m_92409) * n_m_92409)] =\n                    tmp_106665;\n                \n                double tmp_106666;\n                \n                tmp_106666 = ((__local\n                               double *) red_arr_mem_106636)[(sext_i32_i64(local_tid_106630) +\n                                                              (int64_t) 1) *\n                                                             segment_sizze_nonzzero_106627 -\n                                                             (int64_t) 1];\n                ((__global\n                  double *) mem_104937)[squot64(sext_i32_i64(virt_group_id_106642) *\n                                                squot64(segred_group_sizze_100525,\n                                                        segment_sizze_nonzzero_106627) +\n                                                sext_i32_i64(local_tid_106630),\n                                                n_m_92409) * n_m_92409 +\n                ",
                   "                        (sext_i32_i64(virt_group_id_106642) *\n                                         squot64(segred_group_sizze_100525,\n                                                 segment_sizze_nonzzero_106627) +\n                                         sext_i32_i64(local_tid_106630) -\n                                         squot64(sext_i32_i64(virt_group_id_106642) *\n                                                 squot64(segred_group_sizze_100525,\n                                                         segment_sizze_nonzzero_106627) +\n                                                 sext_i32_i64(local_tid_106630),\n                                                 n_m_92409) * n_m_92409)] =\n                    tmp_106666;\n                \n                double tmp_106667;\n                \n                tmp_106667 = ((__local\n                               double *) red_arr_mem_106638)[(sext_i32_i64(local_tid_106630) +\n                                                              (int64_t) 1) *\n                                                             segment_sizze_nonzzero_106627 -\n                                                             (int64_t) 1];\n                ((__global\n                  double *) mem_104941)[squot64(sext_i32_i64(virt_group_id_106642) *\n                                                squot64(segred_group_sizze_100525,\n                                                        segment_sizze_nonzzero_106627) +\n                                                sext_i32_i64(local_tid_106630),\n                                                n_m_92409) * n_m_92409 +\n                                        (sext_i32_i64(virt_group_id_106642) *\n                                         squot64(segred_group_sizze_100525,\n                                                 segment_sizze_nonzzero_106627) +\n                                         sext_i32_i64(local_tid_106630) -\n                                         squot64(sext_i32_i64(",
                   "virt_group_id_106642) *\n                                                 squot64(segred_group_sizze_100525,\n                                                         segment_sizze_nonzzero_106627) +\n                                                 sext_i32_i64(local_tid_106630),\n                                                 n_m_92409) * n_m_92409)] =\n                    tmp_106667;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_100525\n}\n__kernel void mainzisegred_small_100604(__global int *global_failure,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106747_backing_aligned_0,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106745_backing_aligned_1,\n                                        int64_t m_92398, int64_t n_92399,\n                                        int64_t q_92401, int64_t jump_92403,\n                                        int64_t n_m_92409, int64_t i_92415,\n                                        int64_t num_groups_100597,\n                                        int64_t segment_sizze_nonzzero_106738,\n                                        __global unsigned char *mem_104883,\n                                        __global unsigned char *mem_104887,\n                                        __global unsigned char *mem_104891,\n                                        __global unsigned char *mem_104915,\n                                        __global unsigned char *mem_104924,\n                                        __global unsigned char *mem_104928,\n                                        __global unsigned char *mem_104946,\n                                        __global unsigned char *mem_104950,\n                                        __global unsigned char *mem_104954,\n  ",
                   "                                      __global unsigned char *mem_104959,\n                                        __global unsigned char *mem_104963)\n{\n    #define segred_group_sizze_100596 (mainzisegred_group_sizze_99619)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_106747_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106747_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_106745_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106745_backing_aligned_1;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106740;\n    int32_t local_tid_106741;\n    int64_t group_sizze_106744;\n    int32_t wave_sizze_106743;\n    int32_t group_tid_106742;\n    \n    global_tid_106740 = get_global_id(0);\n    local_tid_106741 = get_local_id(0);\n    group_sizze_106744 = get_local_size(0);\n    wave_sizze_106743 = LOCKSTEP_WIDTH;\n    group_tid_106742 = get_group_id(0);\n    \n    int32_t phys_tid_100604 = global_tid_106740;\n    __local unsigned char *red_arr_mem_106745;\n    \n    red_arr_mem_106745 = (__local unsigned char *) red_arr_mem_106745_backing_0;\n    \n    __local unsigned char *red_arr_mem_106747;\n    \n    red_arr_mem_106747 = (__local unsigned char *) red_arr_mem_106747_backing_1;\n    \n    int32_t phys_group_id_106749;\n    \n    phys_group_id_106749 = get_group_id(0);\n    for (int32_t i_106750 = 0; i_106750 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_92398 * n_m_92409,\n                                          squot64(segred_group_sizze_100596,\n                                                  segment_sizze_nonzzero_106738))) -\n                   phys_group_id_106749, sext_i64_i32(num_groups_100597));\n         i_106750++) {\n        int32_t virt_group_id_106751 = phys",
                   "_group_id_106749 + i_106750 *\n                sext_i64_i32(num_groups_100597);\n        int64_t slice_106752 = n_m_92409;\n        int64_t slice_106753 = m_92398 * slice_106752;\n        int64_t gtid_100601 = squot64(squot64(sext_i32_i64(local_tid_106741),\n                                              segment_sizze_nonzzero_106738) +\n                                      sext_i32_i64(virt_group_id_106751) *\n                                      squot64(segred_group_sizze_100596,\n                                              segment_sizze_nonzzero_106738),\n                                      slice_106752);\n        int64_t remnant_106754 = squot64(sext_i32_i64(local_tid_106741),\n                                         segment_sizze_nonzzero_106738) +\n                sext_i32_i64(virt_group_id_106751) *\n                squot64(segred_group_sizze_100596,\n                        segment_sizze_nonzzero_106738) - gtid_100601 *\n                slice_106752;\n        int64_t gtid_100602 = remnant_106754;\n        int64_t remnant_106755 = remnant_106754 - gtid_100602;\n        int64_t gtid_100603 = srem64(sext_i32_i64(local_tid_106741), q_92401);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, q_92401) && ((slt64(gtid_100601, m_92398) &&\n                                                 slt64(gtid_100602,\n                                                       n_m_92409)) &&\n                                                slt64(sext_i32_i64(local_tid_106741),\n                                                      q_92401 *\n                                                      squot64(segred_group_sizze_100596,\n                                                              segment_sizze_nonzzero_106738)))) {\n                int64_t last_res_100611;\n                \n                last_res_100611 = ((__global\n                                    int64_t *) mem_104883)[gtid_100601 *\n                                                       ",
                   "    n_92399 + i_92415];\n                \n                int64_t binop_y_102132 = mul64(jump_92403, gtid_100602);\n                int64_t index_primexp_102133 = smin64(i_92415, binop_y_102132);\n                int64_t max_res_100622;\n                \n                max_res_100622 = ((__global int64_t *) mem_104924)[gtid_100601 *\n                                                                   n_m_92409 +\n                                                                   gtid_100602];\n                \n                double defunc_1_f_res_100623;\n                \n                defunc_1_f_res_100623 = ((__global\n                                          double *) mem_104928)[gtid_100601 *\n                                                                n_m_92409 +\n                                                                gtid_100602];\n                \n                double a11_100624;\n                \n                a11_100624 = ((__global double *) mem_104946)[gtid_100601 *\n                                                              n_m_92409 +\n                                                              gtid_100602];\n                \n                double b11_100625;\n                \n                b11_100625 = ((__global double *) mem_104950)[gtid_100601 *\n                                                              n_m_92409 +\n                                                              gtid_100602];\n                \n                double c11_100626;\n                \n                c11_100626 = ((__global double *) mem_104954)[gtid_100601 *\n                                                              n_m_92409 +\n                                                              gtid_100602];\n                \n                double x_100628;\n                \n                x_100628 = ((__global double *) mem_104915)[gtid_100601 *\n                                                            q_92401 +\n                                                 ",
                   "           gtid_100603];\n                \n                bool cond_100629 = sle64(last_res_100611, gtid_100603);\n                int64_t defunc_0_f_res_100630;\n                \n                if (cond_100629) {\n                    defunc_0_f_res_100630 = (int64_t) 0;\n                } else {\n                    int64_t i_100631 = add64(gtid_100603, max_res_100622);\n                    int64_t defunc_0_add_arg_100632;\n                    \n                    defunc_0_add_arg_100632 = ((__global\n                                                int64_t *) mem_104891)[gtid_100601 *\n                                                                       n_92399 +\n                                                                       i_100631];\n                    \n                    int64_t defunc_1_add_res_100633 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_100632);\n                    \n                    defunc_0_f_res_100630 = defunc_1_add_res_100633;\n                }\n                \n                int64_t binop_p_100634 = sub64(defunc_0_f_res_100630,\n                                               index_primexp_102133);\n                double defunc_0_f_res_100635 = sitofp_i64_f64(binop_p_100634);\n                double abs_res_100636 = fabs(defunc_0_f_res_100635);\n                double tmp1_100637 = abs_res_100636 / defunc_1_f_res_100623;\n                double x_100638 = tmp1_100637 * tmp1_100637;\n                double y_100639 = tmp1_100637 * x_100638;\n                double tmp2_100640 = 1.0 - y_100639;\n                double x_100641 = tmp2_100640 * tmp2_100640;\n                double tmp3_100642 = tmp2_100640 * x_100641;\n                double tmp4_100643 = x_100628 * tmp3_100642;\n                double defunc_1_f_res_100644 = defunc_0_f_res_100635 *\n                       tmp4_100643;\n                double defunc_0_f_res_100645;\n                \n                if (cond_100629) {\n                    d",
                   "efunc_0_f_res_100645 = 0.0;\n                } else {\n                    int64_t i_100646 = add64(gtid_100603, max_res_100622);\n                    double defunc_0_add_arg_100647;\n                    \n                    defunc_0_add_arg_100647 = ((__global\n                                                double *) mem_104887)[gtid_100601 *\n                                                                      n_92399 +\n                                                                      i_100646];\n                    defunc_0_f_res_100645 = defunc_0_add_arg_100647;\n                }\n                \n                double x_100648 = a11_100624 * tmp4_100643;\n                double y_100649 = b11_100625 * defunc_1_f_res_100644;\n                double x_100650 = x_100648 + y_100649;\n                double defunc_9_fit_fun_res_100651 = defunc_0_f_res_100645 *\n                       x_100650;\n                double x_100652 = b11_100625 * tmp4_100643;\n                double y_100653 = c11_100626 * defunc_1_f_res_100644;\n                double x_100654 = x_100652 + y_100653;\n                double defunc_9_slope_fun_res_100655 = defunc_0_f_res_100645 *\n                       x_100654;\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local\n                      double *) red_arr_mem_106745)[sext_i32_i64(local_tid_106741)] =\n                        defunc_9_fit_fun_res_100651;\n                    ((__local\n                      double *) red_arr_mem_106747)[sext_i32_i64(local_tid_106741)] =\n                        defunc_9_slope_fun_res_100655;\n                }\n            } else {\n                ((__local\n                  double *) red_arr_mem_106745)[sext_i32_i64(local_tid_106741)] =\n                    0.0;\n                ((__local\n                  double *) red_arr_mem_106747)[sext_i32_i64(local_tid_106741)] =\n                    0.0;\n            }\n ",
                   "       }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, q_92401)) {\n            // perform segmented scan to imitate reduction\n            {\n                double x_100605;\n                double x_100606;\n                double x_100607;\n                double x_100608;\n                double x_106756;\n                double x_106757;\n                double x_106758;\n                double x_106759;\n                bool ltid_in_bounds_106762 =\n                     slt64(sext_i32_i64(local_tid_106741), q_92401 *\n                           squot64(segred_group_sizze_100596,\n                                   segment_sizze_nonzzero_106738));\n                int32_t skip_threads_106763;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_106762) {\n                        x_100607 = ((volatile __local\n                                     double *) red_arr_mem_106745)[sext_i32_i64(local_tid_106741)];\n                        x_100608 = ((volatile __local\n                                     double *) red_arr_mem_106747)[sext_i32_i64(local_tid_106741)];\n                        if ((local_tid_106741 - squot32(local_tid_106741, 32) *\n                             32) == 0) {\n                            x_100605 = x_100607;\n                            x_100606 = x_100608;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_106763 = 1;\n                    while (slt32(skip_threads_106763, 32)) {\n                        bool thread_active_106764 = sle32(skip_threads_106763,\n                                                          local_tid_106741 -\n                                                          squot32(local_tid_106741,\n                                                                  32) * 32) &&\n                             ltid_in_bounds_106762;\n",
                   "                        \n                        if (thread_active_106764) {\n                            // read operands\n                            {\n                                x_100605 = ((volatile __local\n                                             double *) red_arr_mem_106745)[sext_i32_i64(local_tid_106741) -\n                                                                           sext_i32_i64(skip_threads_106763)];\n                                x_100606 = ((volatile __local\n                                             double *) red_arr_mem_106747)[sext_i32_i64(local_tid_106741) -\n                                                                           sext_i32_i64(skip_threads_106763)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_106765 =\n                                 slt64(srem64(sext_i32_i64(local_tid_106741),\n                                              q_92401),\n                                       sext_i32_i64(local_tid_106741) -\n                                       sext_i32_i64(local_tid_106741 -\n                                       skip_threads_106763));\n                            \n                            if (thread_active_106764 && inactive_106765) {\n                                x_100605 = x_100607;\n                                x_100606 = x_100608;\n                            }\n                            if (thread_active_106764) {\n                                if (!inactive_106765) {\n                                    double defunc_1_op_res_100609 = x_100605 +\n                                           x_100607;\n                                    double defunc_1_op_res_100610 = x_100606 +\n                                           x_100608;\n                                    \n                                    x_100605 = defunc_1_op_res_100609;\n                                    x_100606 ",
                   "= defunc_1_op_res_100610;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_106743, skip_threads_106763)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_106764) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  double *) red_arr_mem_106745)[sext_i32_i64(local_tid_106741)] =\n                                    x_100605;\n                                x_100607 = x_100605;\n                                ((volatile __local\n                                  double *) red_arr_mem_106747)[sext_i32_i64(local_tid_106741)] =\n                                    x_100606;\n                                x_100608 = x_100606;\n                            }\n                        }\n                        if (sle32(wave_sizze_106743, skip_threads_106763)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_106763 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_106741 - squot32(local_tid_106741, 32) *\n                         32) == 31 && ltid_in_bounds_106762) {\n                        ((volatile __local\n                          double *) red_arr_mem_106745)[sext_i32_i64(squot32(local_tid_106741,\n                                                                             32))] =\n                            x_100605;\n                        ((volatile __local\n                          double *) red_arr_mem_106747)[sext_i32_i64(squot32(local_tid_106741,\n                                                                             32))] =\n                            x_1",
                   "00606;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_106766;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_106741, 32) == 0 &&\n                            ltid_in_bounds_106762) {\n                            x_106758 = ((volatile __local\n                                         double *) red_arr_mem_106745)[sext_i32_i64(local_tid_106741)];\n                            x_106759 = ((volatile __local\n                                         double *) red_arr_mem_106747)[sext_i32_i64(local_tid_106741)];\n                            if ((local_tid_106741 - squot32(local_tid_106741,\n                                                            32) * 32) == 0) {\n                                x_106756 = x_106758;\n                                x_106757 = x_106759;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_106766 = 1;\n                        while (slt32(skip_threads_106766, 32)) {\n                            bool thread_active_106767 =\n                                 sle32(skip_threads_106766, local_tid_106741 -\n                                       squot32(local_tid_106741, 32) * 32) &&\n                                 (squot32(local_tid_106741, 32) == 0 &&\n                                  ltid_in_bounds_106762);\n                            \n                            if (thread_active_106767) {\n                                // read operands\n                                {\n                                    x_106756 = ((volatile __local\n                                                 double *) red_arr_mem_106745)[sext",
                   "_i32_i64(local_tid_106741) -\n                                                                               sext_i32_i64(skip_threads_106766)];\n                                    x_106757 = ((volatile __local\n                                                 double *) red_arr_mem_106747)[sext_i32_i64(local_tid_106741) -\n                                                                               sext_i32_i64(skip_threads_106766)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_106768 =\n                                     slt64(srem64(sext_i32_i64(local_tid_106741 *\n                                                  32 + 32 - 1), q_92401),\n                                           sext_i32_i64(local_tid_106741 * 32 +\n                                           32 - 1) -\n                                           sext_i32_i64((local_tid_106741 -\n                                                         skip_threads_106766) *\n                                           32 + 32 - 1));\n                                \n                                if (thread_active_106767 && inactive_106768) {\n                                    x_106756 = x_106758;\n                                    x_106757 = x_106759;\n                                }\n                                if (thread_active_106767) {\n                                    if (!inactive_106768) {\n                                        double defunc_1_op_res_106760 =\n                                               x_106756 + x_106758;\n                                        double defunc_1_op_res_106761 =\n                                               x_106757 + x_106759;\n                                        \n                                        x_106756 = defunc_1_op_res_106760;\n                                        x_106757 = defunc_1_op_res_106761;\n           ",
                   "                         }\n                                }\n                            }\n                            if (sle32(wave_sizze_106743, skip_threads_106766)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_106767) {\n                                // write result\n                                {\n                                    ((volatile __local\n                                      double *) red_arr_mem_106745)[sext_i32_i64(local_tid_106741)] =\n                                        x_106756;\n                                    x_106758 = x_106756;\n                                    ((volatile __local\n                                      double *) red_arr_mem_106747)[sext_i32_i64(local_tid_106741)] =\n                                        x_106757;\n                                    x_106759 = x_106757;\n                                }\n                            }\n                            if (sle32(wave_sizze_106743, skip_threads_106766)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_106766 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_106769 = squot32(local_tid_106741, 32) == 0 ||\n                     !ltid_in_bounds_106762;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_106769) {\n                            x_100607 = x_100605;\n                            x_100608 = x_100606;\n                            x_100605 = ((__local\n                                         double *) red_arr_mem_106745)[sext_i32_i64(squot32(local_tid_106741,\n                                                              ",
                   "                              32)) -\n                                                                       (int64_t) 1];\n                            x_100606 = ((__local\n                                         double *) red_arr_mem_106747)[sext_i32_i64(squot32(local_tid_106741,\n                                                                                            32)) -\n                                                                       (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_106770 =\n                             slt64(srem64(sext_i32_i64(local_tid_106741),\n                                          q_92401),\n                                   sext_i32_i64(local_tid_106741) -\n                                   sext_i32_i64(squot32(local_tid_106741, 32) *\n                                   32 - 1));\n                        \n                        if (!no_carry_in_106769) {\n                            if (inactive_106770) {\n                                x_100605 = x_100607;\n                                x_100606 = x_100608;\n                            }\n                        }\n                        if (!no_carry_in_106769) {\n                            if (!inactive_106770) {\n                                double defunc_1_op_res_100609 = x_100605 +\n                                       x_100607;\n                                double defunc_1_op_res_100610 = x_100606 +\n                                       x_100608;\n                                \n                                x_100605 = defunc_1_op_res_100609;\n                                x_100606 = defunc_1_op_res_100610;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_106769) {\n                            ((__local\n                    ",
                   "          double *) red_arr_mem_106745)[sext_i32_i64(local_tid_106741)] =\n                                x_100605;\n                            ((__local\n                              double *) red_arr_mem_106747)[sext_i32_i64(local_tid_106741)] =\n                                x_100606;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_106741, 32) == 0 &&\n                        ltid_in_bounds_106762) {\n                        ((__local\n                          double *) red_arr_mem_106745)[sext_i32_i64(local_tid_106741)] =\n                            x_100607;\n                        ((__local\n                          double *) red_arr_mem_106747)[sext_i32_i64(local_tid_106741)] =\n                            x_100608;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_106751) *\n                      squot64(segred_group_sizze_100596,\n                              segment_sizze_nonzzero_106738) +\n                      sext_i32_i64(local_tid_106741), m_92398 * n_m_92409) &&\n                slt64(sext_i32_i64(local_tid_106741),\n                      squot64(segred_group_sizze_100596,\n                              segment_sizze_nonzzero_106738))) {\n                double tmp_106771;\n                \n                tmp_106771 = ((__local\n                               double *) red_arr_mem_106745)[(sext_i32_i64(local_tid_106741) +\n                                                              (int64_t) 1) *\n                                                             segment_sizze_nonzzero_106738 -\n                                                             (int64_t) 1];\n                ((__glob",
                   "al\n                  double *) mem_104959)[squot64(sext_i32_i64(virt_group_id_106751) *\n                                                squot64(segred_group_sizze_100596,\n                                                        segment_sizze_nonzzero_106738) +\n                                                sext_i32_i64(local_tid_106741),\n                                                n_m_92409) * n_m_92409 +\n                                        (sext_i32_i64(virt_group_id_106751) *\n                                         squot64(segred_group_sizze_100596,\n                                                 segment_sizze_nonzzero_106738) +\n                                         sext_i32_i64(local_tid_106741) -\n                                         squot64(sext_i32_i64(virt_group_id_106751) *\n                                                 squot64(segred_group_sizze_100596,\n                                                         segment_sizze_nonzzero_106738) +\n                                                 sext_i32_i64(local_tid_106741),\n                                                 n_m_92409) * n_m_92409)] =\n                    tmp_106771;\n                \n                double tmp_106772;\n                \n                tmp_106772 = ((__local\n                               double *) red_arr_mem_106747)[(sext_i32_i64(local_tid_106741) +\n                                                              (int64_t) 1) *\n                                                             segment_sizze_nonzzero_106738 -\n                                                             (int64_t) 1];\n                ((__global\n                  double *) mem_104963)[squot64(sext_i32_i64(virt_group_id_106751) *\n                                                squot64(segred_group_sizze_100596,\n                                                        segment_sizze_nonzzero_106738) +\n                                                sext_i32_i64(local_tid_106741),\n                ",
                   "                                n_m_92409) * n_m_92409 +\n                                        (sext_i32_i64(virt_group_id_106751) *\n                                         squot64(segred_group_sizze_100596,\n                                                 segment_sizze_nonzzero_106738) +\n                                         sext_i32_i64(local_tid_106741) -\n                                         squot64(sext_i32_i64(virt_group_id_106751) *\n                                                 squot64(segred_group_sizze_100596,\n                                                         segment_sizze_nonzzero_106738) +\n                                                 sext_i32_i64(local_tid_106741),\n                                                 n_m_92409) * n_m_92409)] =\n                    tmp_106772;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_100596\n}\n__kernel void mainzisegred_small_101693(__global int *global_failure,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106961_backing_aligned_0,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106959_backing_aligned_1,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106957_backing_aligned_2,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106955_backing_aligned_3,\n                                        __local volatile\n                                        int64_t *red_arr_mem_106953_backing_aligned_4,\n                                        int64_t m_92398, int64_t n_92399,\n                                        int64_t q_92401, int64_t jump_92403,\n                                        int64_t",
                   " n_m_92409, int64_t i_92415,\n                                        int64_t num_groups_101683,\n                                        int64_t segment_sizze_nonzzero_106946,\n                                        __global unsigned char *mem_104968,\n                                        __global unsigned char *mem_104976,\n                                        __global unsigned char *mem_105000,\n                                        __global unsigned char *mem_105009,\n                                        __global unsigned char *mem_105013,\n                                        __global unsigned char *mem_105018,\n                                        __global unsigned char *mem_105022,\n                                        __global unsigned char *mem_105026,\n                                        __global unsigned char *mem_105030,\n                                        __global unsigned char *mem_105034)\n{\n    #define segred_group_sizze_101682 (mainzisegred_group_sizze_100823)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_106961_backing_4 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106961_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_106959_backing_3 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106959_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_106957_backing_2 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106957_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_106955_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106955_backing_aligned_3;\n    __local vola",
                   "tile unsigned char *restrict red_arr_mem_106953_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106953_backing_aligned_4;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106948;\n    int32_t local_tid_106949;\n    int64_t group_sizze_106952;\n    int32_t wave_sizze_106951;\n    int32_t group_tid_106950;\n    \n    global_tid_106948 = get_global_id(0);\n    local_tid_106949 = get_local_id(0);\n    group_sizze_106952 = get_local_size(0);\n    wave_sizze_106951 = LOCKSTEP_WIDTH;\n    group_tid_106950 = get_group_id(0);\n    \n    int32_t phys_tid_101693 = global_tid_106948;\n    __local unsigned char *red_arr_mem_106953;\n    \n    red_arr_mem_106953 = (__local unsigned char *) red_arr_mem_106953_backing_0;\n    \n    __local unsigned char *red_arr_mem_106955;\n    \n    red_arr_mem_106955 = (__local unsigned char *) red_arr_mem_106955_backing_1;\n    \n    __local unsigned char *red_arr_mem_106957;\n    \n    red_arr_mem_106957 = (__local unsigned char *) red_arr_mem_106957_backing_2;\n    \n    __local unsigned char *red_arr_mem_106959;\n    \n    red_arr_mem_106959 = (__local unsigned char *) red_arr_mem_106959_backing_3;\n    \n    __local unsigned char *red_arr_mem_106961;\n    \n    red_arr_mem_106961 = (__local unsigned char *) red_arr_mem_106961_backing_4;\n    \n    int32_t phys_group_id_106963;\n    \n    phys_group_id_106963 = get_group_id(0);\n    for (int32_t i_106964 = 0; i_106964 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_92398 * n_m_92409,\n                                          squot64(segred_group_sizze_101682,\n                                                  segment_sizze_nonzzero_106946))) -\n                   phys_group_id_106963, sext_i64_i32(num_groups_101683));\n         i_106964++) {\n        int32_t virt_group_id_106965 = phys_group_id_106963 + i_106964 *\n                sext_i64_i32(num_groups_101683);\n        int64_t slice_106966 = n_m_92409;\n        int64_t sli",
                   "ce_106967 = m_92398 * slice_106966;\n        int64_t gtid_101690 = squot64(squot64(sext_i32_i64(local_tid_106949),\n                                              segment_sizze_nonzzero_106946) +\n                                      sext_i32_i64(virt_group_id_106965) *\n                                      squot64(segred_group_sizze_101682,\n                                              segment_sizze_nonzzero_106946),\n                                      slice_106966);\n        int64_t remnant_106968 = squot64(sext_i32_i64(local_tid_106949),\n                                         segment_sizze_nonzzero_106946) +\n                sext_i32_i64(virt_group_id_106965) *\n                squot64(segred_group_sizze_101682,\n                        segment_sizze_nonzzero_106946) - gtid_101690 *\n                slice_106966;\n        int64_t gtid_101691 = remnant_106968;\n        int64_t remnant_106969 = remnant_106968 - gtid_101691;\n        int64_t gtid_101692 = srem64(sext_i32_i64(local_tid_106949), q_92401);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, q_92401) && ((slt64(gtid_101690, m_92398) &&\n                                                 slt64(gtid_101691,\n                                                       n_m_92409)) &&\n                                                slt64(sext_i32_i64(local_tid_106949),\n                                                      q_92401 *\n                                                      squot64(segred_group_sizze_101682,\n                                                              segment_sizze_nonzzero_106946)))) {\n                int64_t last_res_101709;\n                \n                last_res_101709 = ((__global\n                                    int64_t *) mem_104968)[gtid_101690 *\n                                                           n_92399 + i_92415];\n                \n                int64_t binop_y_102144 = mul64(jump_92403, gtid_101691);\n                int64_t in",
                   "dex_primexp_102145 = smin64(i_92415, binop_y_102144);\n                double defunc_1_f_res_101717;\n                \n                defunc_1_f_res_101717 = ((__global\n                                          double *) mem_105013)[gtid_101690 *\n                                                                n_m_92409 +\n                                                                gtid_101691];\n                \n                double x_101719;\n                \n                x_101719 = ((__global double *) mem_105000)[gtid_101690 *\n                                                            q_92401 +\n                                                            gtid_101692];\n                \n                bool cond_101720 = sle64(last_res_101709, gtid_101692);\n                int64_t defunc_0_f_res_101721;\n                \n                if (cond_101720) {\n                    defunc_0_f_res_101721 = (int64_t) 0;\n                } else {\n                    int64_t max_res_101716;\n                    \n                    max_res_101716 = ((__global\n                                       int64_t *) mem_105009)[gtid_101690 *\n                                                              n_m_92409 +\n                                                              gtid_101691];\n                    \n                    int64_t i_101722 = add64(gtid_101692, max_res_101716);\n                    int64_t defunc_0_add_arg_101723;\n                    \n                    defunc_0_add_arg_101723 = ((__global\n                                                int64_t *) mem_104976)[gtid_101690 *\n                                                                       n_92399 +\n                                                                       i_101722];\n                    \n                    int64_t defunc_1_add_res_101724 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_101723);\n                    \n                    defunc_0_f",
                   "_res_101721 = defunc_1_add_res_101724;\n                }\n                \n                int64_t binop_p_101725 = sub64(defunc_0_f_res_101721,\n                                               index_primexp_102145);\n                double defunc_0_f_res_101726 = sitofp_i64_f64(binop_p_101725);\n                double abs_res_101727 = fabs(defunc_0_f_res_101726);\n                double tmp1_101728 = abs_res_101727 / defunc_1_f_res_101717;\n                double x_101729 = tmp1_101728 * tmp1_101728;\n                double y_101730 = tmp1_101728 * x_101729;\n                double tmp2_101731 = 1.0 - y_101730;\n                double x_101732 = tmp2_101731 * tmp2_101731;\n                double tmp3_101733 = tmp2_101731 * x_101732;\n                double w_j_101734 = x_101719 * tmp3_101733;\n                double xw_j_101735 = defunc_0_f_res_101726 * w_j_101734;\n                double x2w_j_101736 = defunc_0_f_res_101726 * xw_j_101735;\n                double x3w_j_101737 = defunc_0_f_res_101726 * x2w_j_101736;\n                double x4w_j_101738 = defunc_0_f_res_101726 * x3w_j_101737;\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local\n                      double *) red_arr_mem_106953)[sext_i32_i64(local_tid_106949)] =\n                        w_j_101734;\n                    ((__local\n                      double *) red_arr_mem_106955)[sext_i32_i64(local_tid_106949)] =\n                        xw_j_101735;\n                    ((__local\n                      double *) red_arr_mem_106957)[sext_i32_i64(local_tid_106949)] =\n                        x2w_j_101736;\n                    ((__local\n                      double *) red_arr_mem_106959)[sext_i32_i64(local_tid_106949)] =\n                        x3w_j_101737;\n                    ((__local\n                      double *) red_arr_mem_106961)[sext_i32_i64(local_tid_106949)] =\n                        x4w_j_101738;",
                   "\n                }\n            } else {\n                ((__local\n                  double *) red_arr_mem_106953)[sext_i32_i64(local_tid_106949)] =\n                    0.0;\n                ((__local\n                  double *) red_arr_mem_106955)[sext_i32_i64(local_tid_106949)] =\n                    0.0;\n                ((__local\n                  double *) red_arr_mem_106957)[sext_i32_i64(local_tid_106949)] =\n                    0.0;\n                ((__local\n                  double *) red_arr_mem_106959)[sext_i32_i64(local_tid_106949)] =\n                    0.0;\n                ((__local\n                  double *) red_arr_mem_106961)[sext_i32_i64(local_tid_106949)] =\n                    0.0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, q_92401)) {\n            // perform segmented scan to imitate reduction\n            {\n                double x_101694;\n                double x_101695;\n                double x_101696;\n                double x_101697;\n                double x_101698;\n                double x_101699;\n                double x_101700;\n                double x_101701;\n                double x_101702;\n                double x_101703;\n                double x_106970;\n                double x_106971;\n                double x_106972;\n                double x_106973;\n                double x_106974;\n                double x_106975;\n                double x_106976;\n                double x_106977;\n                double x_106978;\n                double x_106979;\n                bool ltid_in_bounds_106985 =\n                     slt64(sext_i32_i64(local_tid_106949), q_92401 *\n                           squot64(segred_group_sizze_101682,\n                                   segment_sizze_nonzzero_106946));\n                int32_t skip_threads_106986;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_106985) {\n                        x_101699 = (",
                   "(volatile __local\n                                     double *) red_arr_mem_106953)[sext_i32_i64(local_tid_106949)];\n                        x_101700 = ((volatile __local\n                                     double *) red_arr_mem_106955)[sext_i32_i64(local_tid_106949)];\n                        x_101701 = ((volatile __local\n                                     double *) red_arr_mem_106957)[sext_i32_i64(local_tid_106949)];\n                        x_101702 = ((volatile __local\n                                     double *) red_arr_mem_106959)[sext_i32_i64(local_tid_106949)];\n                        x_101703 = ((volatile __local\n                                     double *) red_arr_mem_106961)[sext_i32_i64(local_tid_106949)];\n                        if ((local_tid_106949 - squot32(local_tid_106949, 32) *\n                             32) == 0) {\n                            x_101694 = x_101699;\n                            x_101695 = x_101700;\n                            x_101696 = x_101701;\n                            x_101697 = x_101702;\n                            x_101698 = x_101703;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_106986 = 1;\n                    while (slt32(skip_threads_106986, 32)) {\n                        bool thread_active_106987 = sle32(skip_threads_106986,\n                                                          local_tid_106949 -\n                                                          squot32(local_tid_106949,\n                                                                  32) * 32) &&\n                             ltid_in_bounds_106985;\n                        \n                        if (thread_active_106987) {\n                            // read operands\n                            {\n                                x_101694 = ((volatile __local\n                                             double *) red_ar",
                   "r_mem_106953)[sext_i32_i64(local_tid_106949) -\n                                                                           sext_i32_i64(skip_threads_106986)];\n                                x_101695 = ((volatile __local\n                                             double *) red_arr_mem_106955)[sext_i32_i64(local_tid_106949) -\n                                                                           sext_i32_i64(skip_threads_106986)];\n                                x_101696 = ((volatile __local\n                                             double *) red_arr_mem_106957)[sext_i32_i64(local_tid_106949) -\n                                                                           sext_i32_i64(skip_threads_106986)];\n                                x_101697 = ((volatile __local\n                                             double *) red_arr_mem_106959)[sext_i32_i64(local_tid_106949) -\n                                                                           sext_i32_i64(skip_threads_106986)];\n                                x_101698 = ((volatile __local\n                                             double *) red_arr_mem_106961)[sext_i32_i64(local_tid_106949) -\n                                                                           sext_i32_i64(skip_threads_106986)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_106988 =\n                                 slt64(srem64(sext_i32_i64(local_tid_106949),\n                                              q_92401),\n                                       sext_i32_i64(local_tid_106949) -\n                                       sext_i32_i64(local_tid_106949 -\n                                       skip_threads_106986));\n                            \n                            if (thread_active_106987 && inactive_106988) {\n                                x_101694 = x_101699;\n                                x_101695 = x",
                   "_101700;\n                                x_101696 = x_101701;\n                                x_101697 = x_101702;\n                                x_101698 = x_101703;\n                            }\n                            if (thread_active_106987) {\n                                if (!inactive_106988) {\n                                    double defunc_1_op_res_101704 = x_101694 +\n                                           x_101699;\n                                    double defunc_1_op_res_101705 = x_101695 +\n                                           x_101700;\n                                    double defunc_1_op_res_101706 = x_101696 +\n                                           x_101701;\n                                    double defunc_1_op_res_101707 = x_101697 +\n                                           x_101702;\n                                    double defunc_1_op_res_101708 = x_101698 +\n                                           x_101703;\n                                    \n                                    x_101694 = defunc_1_op_res_101704;\n                                    x_101695 = defunc_1_op_res_101705;\n                                    x_101696 = defunc_1_op_res_101706;\n                                    x_101697 = defunc_1_op_res_101707;\n                                    x_101698 = defunc_1_op_res_101708;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_106951, skip_threads_106986)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_106987) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  double *) red_arr_mem_106953)[sext_i32_i64(local_tid_106949)] =\n                                    x_101694;\n                                x_101699 = x_101694;\n             ",
                   "                   ((volatile __local\n                                  double *) red_arr_mem_106955)[sext_i32_i64(local_tid_106949)] =\n                                    x_101695;\n                                x_101700 = x_101695;\n                                ((volatile __local\n                                  double *) red_arr_mem_106957)[sext_i32_i64(local_tid_106949)] =\n                                    x_101696;\n                                x_101701 = x_101696;\n                                ((volatile __local\n                                  double *) red_arr_mem_106959)[sext_i32_i64(local_tid_106949)] =\n                                    x_101697;\n                                x_101702 = x_101697;\n                                ((volatile __local\n                                  double *) red_arr_mem_106961)[sext_i32_i64(local_tid_106949)] =\n                                    x_101698;\n                                x_101703 = x_101698;\n                            }\n                        }\n                        if (sle32(wave_sizze_106951, skip_threads_106986)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_106986 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_106949 - squot32(local_tid_106949, 32) *\n                         32) == 31 && ltid_in_bounds_106985) {\n                        ((volatile __local\n                          double *) red_arr_mem_106953)[sext_i32_i64(squot32(local_tid_106949,\n                                                                             32))] =\n                            x_101694;\n                        ((volatile __local\n                          double *) red_arr_mem_106955)[sext_i32_i64(squot32(local_tid_106949,\n                                    ",
                   "                                         32))] =\n                            x_101695;\n                        ((volatile __local\n                          double *) red_arr_mem_106957)[sext_i32_i64(squot32(local_tid_106949,\n                                                                             32))] =\n                            x_101696;\n                        ((volatile __local\n                          double *) red_arr_mem_106959)[sext_i32_i64(squot32(local_tid_106949,\n                                                                             32))] =\n                            x_101697;\n                        ((volatile __local\n                          double *) red_arr_mem_106961)[sext_i32_i64(squot32(local_tid_106949,\n                                                                             32))] =\n                            x_101698;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_106989;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_106949, 32) == 0 &&\n                            ltid_in_bounds_106985) {\n                            x_106975 = ((volatile __local\n                                         double *) red_arr_mem_106953)[sext_i32_i64(local_tid_106949)];\n                            x_106976 = ((volatile __local\n                                         double *) red_arr_mem_106955)[sext_i32_i64(local_tid_106949)];\n                            x_106977 = ((volatile __local\n                                         double *) red_arr_mem_106957)[sext_i32_i64(local_tid_106949)];\n                            x_106978 = ((volatile __local\n                                         double *) red_arr_mem_106959)[sext_i32_i64(local_tid_106949)];\n                 ",
                   "           x_106979 = ((volatile __local\n                                         double *) red_arr_mem_106961)[sext_i32_i64(local_tid_106949)];\n                            if ((local_tid_106949 - squot32(local_tid_106949,\n                                                            32) * 32) == 0) {\n                                x_106970 = x_106975;\n                                x_106971 = x_106976;\n                                x_106972 = x_106977;\n                                x_106973 = x_106978;\n                                x_106974 = x_106979;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_106989 = 1;\n                        while (slt32(skip_threads_106989, 32)) {\n                            bool thread_active_106990 =\n                                 sle32(skip_threads_106989, local_tid_106949 -\n                                       squot32(local_tid_106949, 32) * 32) &&\n                                 (squot32(local_tid_106949, 32) == 0 &&\n                                  ltid_in_bounds_106985);\n                            \n                            if (thread_active_106990) {\n                                // read operands\n                                {\n                                    x_106970 = ((volatile __local\n                                                 double *) red_arr_mem_106953)[sext_i32_i64(local_tid_106949) -\n                                                                               sext_i32_i64(skip_threads_106989)];\n                                    x_106971 = ((volatile __local\n                                                 double *) red_arr_mem_106955)[sext_i32_i64(local_tid_106949) -\n                                                                               sext_i32_i64(skip_threads_106989)];\n                                    x_106972 = ((volati",
                   "le __local\n                                                 double *) red_arr_mem_106957)[sext_i32_i64(local_tid_106949) -\n                                                                               sext_i32_i64(skip_threads_106989)];\n                                    x_106973 = ((volatile __local\n                                                 double *) red_arr_mem_106959)[sext_i32_i64(local_tid_106949) -\n                                                                               sext_i32_i64(skip_threads_106989)];\n                                    x_106974 = ((volatile __local\n                                                 double *) red_arr_mem_106961)[sext_i32_i64(local_tid_106949) -\n                                                                               sext_i32_i64(skip_threads_106989)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_106991 =\n                                     slt64(srem64(sext_i32_i64(local_tid_106949 *\n                                                  32 + 32 - 1), q_92401),\n                                           sext_i32_i64(local_tid_106949 * 32 +\n                                           32 - 1) -\n                                           sext_i32_i64((local_tid_106949 -\n                                                         skip_threads_106989) *\n                                           32 + 32 - 1));\n                                \n                                if (thread_active_106990 && inactive_106991) {\n                                    x_106970 = x_106975;\n                                    x_106971 = x_106976;\n                                    x_106972 = x_106977;\n                                    x_106973 = x_106978;\n                                    x_106974 = x_106979;\n                                }\n                                if (thread_a",
                   "ctive_106990) {\n                                    if (!inactive_106991) {\n                                        double defunc_1_op_res_106980 =\n                                               x_106970 + x_106975;\n                                        double defunc_1_op_res_106981 =\n                                               x_106971 + x_106976;\n                                        double defunc_1_op_res_106982 =\n                                               x_106972 + x_106977;\n                                        double defunc_1_op_res_106983 =\n                                               x_106973 + x_106978;\n                                        double defunc_1_op_res_106984 =\n                                               x_106974 + x_106979;\n                                        \n                                        x_106970 = defunc_1_op_res_106980;\n                                        x_106971 = defunc_1_op_res_106981;\n                                        x_106972 = defunc_1_op_res_106982;\n                                        x_106973 = defunc_1_op_res_106983;\n                                        x_106974 = defunc_1_op_res_106984;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_106951, skip_threads_106989)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_106990) {\n                                // write result\n                                {\n                                    ((volatile __local\n                                      double *) red_arr_mem_106953)[sext_i32_i64(local_tid_106949)] =\n                                        x_106970;\n                                    x_106975 = x_106970;\n                                    ((volatile __local\n                                      double *) red_arr_mem_106955)[sext_i32",
                   "_i64(local_tid_106949)] =\n                                        x_106971;\n                                    x_106976 = x_106971;\n                                    ((volatile __local\n                                      double *) red_arr_mem_106957)[sext_i32_i64(local_tid_106949)] =\n                                        x_106972;\n                                    x_106977 = x_106972;\n                                    ((volatile __local\n                                      double *) red_arr_mem_106959)[sext_i32_i64(local_tid_106949)] =\n                                        x_106973;\n                                    x_106978 = x_106973;\n                                    ((volatile __local\n                                      double *) red_arr_mem_106961)[sext_i32_i64(local_tid_106949)] =\n                                        x_106974;\n                                    x_106979 = x_106974;\n                                }\n                            }\n                            if (sle32(wave_sizze_106951, skip_threads_106989)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_106989 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_106992 = squot32(local_tid_106949, 32) == 0 ||\n                     !ltid_in_bounds_106985;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_106992) {\n                            x_101699 = x_101694;\n                            x_101700 = x_101695;\n                            x_101701 = x_101696;\n                            x_101702 = x_101697;\n                            x_101703 = x_101698;\n                            x_101694 = ((__local\n                              ",
                   "           double *) red_arr_mem_106953)[sext_i32_i64(squot32(local_tid_106949,\n                                                                                            32)) -\n                                                                       (int64_t) 1];\n                            x_101695 = ((__local\n                                         double *) red_arr_mem_106955)[sext_i32_i64(squot32(local_tid_106949,\n                                                                                            32)) -\n                                                                       (int64_t) 1];\n                            x_101696 = ((__local\n                                         double *) red_arr_mem_106957)[sext_i32_i64(squot32(local_tid_106949,\n                                                                                            32)) -\n                                                                       (int64_t) 1];\n                            x_101697 = ((__local\n                                         double *) red_arr_mem_106959)[sext_i32_i64(squot32(local_tid_106949,\n                                                                                            32)) -\n                                                                       (int64_t) 1];\n                            x_101698 = ((__local\n                                         double *) red_arr_mem_106961)[sext_i32_i64(squot32(local_tid_106949,\n                                                                                            32)) -\n                                                                       (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_106993 =\n                             slt64(srem64(sext_i32_i64(local_tid_106949),\n                                          q_92401),\n                                   sext_i32_i64(local_tid_106949) -\n            ",
                   "                       sext_i32_i64(squot32(local_tid_106949, 32) *\n                                   32 - 1));\n                        \n                        if (!no_carry_in_106992) {\n                            if (inactive_106993) {\n                                x_101694 = x_101699;\n                                x_101695 = x_101700;\n                                x_101696 = x_101701;\n                                x_101697 = x_101702;\n                                x_101698 = x_101703;\n                            }\n                        }\n                        if (!no_carry_in_106992) {\n                            if (!inactive_106993) {\n                                double defunc_1_op_res_101704 = x_101694 +\n                                       x_101699;\n                                double defunc_1_op_res_101705 = x_101695 +\n                                       x_101700;\n                                double defunc_1_op_res_101706 = x_101696 +\n                                       x_101701;\n                                double defunc_1_op_res_101707 = x_101697 +\n                                       x_101702;\n                                double defunc_1_op_res_101708 = x_101698 +\n                                       x_101703;\n                                \n                                x_101694 = defunc_1_op_res_101704;\n                                x_101695 = defunc_1_op_res_101705;\n                                x_101696 = defunc_1_op_res_101706;\n                                x_101697 = defunc_1_op_res_101707;\n                                x_101698 = defunc_1_op_res_101708;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_106992) {\n                            ((__local\n                              double *) red_arr_mem_106953)[sext_i32_i64(local_tid_106949)] =\n                       ",
                   "         x_101694;\n                            ((__local\n                              double *) red_arr_mem_106955)[sext_i32_i64(local_tid_106949)] =\n                                x_101695;\n                            ((__local\n                              double *) red_arr_mem_106957)[sext_i32_i64(local_tid_106949)] =\n                                x_101696;\n                            ((__local\n                              double *) red_arr_mem_106959)[sext_i32_i64(local_tid_106949)] =\n                                x_101697;\n                            ((__local\n                              double *) red_arr_mem_106961)[sext_i32_i64(local_tid_106949)] =\n                                x_101698;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_106949, 32) == 0 &&\n                        ltid_in_bounds_106985) {\n                        ((__local\n                          double *) red_arr_mem_106953)[sext_i32_i64(local_tid_106949)] =\n                            x_101699;\n                        ((__local\n                          double *) red_arr_mem_106955)[sext_i32_i64(local_tid_106949)] =\n                            x_101700;\n                        ((__local\n                          double *) red_arr_mem_106957)[sext_i32_i64(local_tid_106949)] =\n                            x_101701;\n                        ((__local\n                          double *) red_arr_mem_106959)[sext_i32_i64(local_tid_106949)] =\n                            x_101702;\n                        ((__local\n                          double *) red_arr_mem_106961)[sext_i32_i64(local_tid_106949)] =\n                            x_101703;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values",
                   " of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_106965) *\n                      squot64(segred_group_sizze_101682,\n                              segment_sizze_nonzzero_106946) +\n                      sext_i32_i64(local_tid_106949), m_92398 * n_m_92409) &&\n                slt64(sext_i32_i64(local_tid_106949),\n                      squot64(segred_group_sizze_101682,\n                              segment_sizze_nonzzero_106946))) {\n                double tmp_106994;\n                \n                tmp_106994 = ((__local\n                               double *) red_arr_mem_106953)[(sext_i32_i64(local_tid_106949) +\n                                                              (int64_t) 1) *\n                                                             segment_sizze_nonzzero_106946 -\n                                                             (int64_t) 1];\n                ((__global\n                  double *) mem_105018)[squot64(sext_i32_i64(virt_group_id_106965) *\n                                                squot64(segred_group_sizze_101682,\n                                                        segment_sizze_nonzzero_106946) +\n                                                sext_i32_i64(local_tid_106949),\n                                                n_m_92409) * n_m_92409 +\n                                        (sext_i32_i64(virt_group_id_106965) *\n                                         squot64(segred_group_sizze_101682,\n                                                 segment_sizze_nonzzero_106946) +\n                                         sext_i32_i64(local_tid_106949) -\n                                         squot64(sext_i32_i64(virt_group_id_106965) *\n                                                 squot64(segred_group_sizze_101682,\n                                                         segment_sizze_nonzzero_106946) +\n                                                 sext_i32_i64(local_tid_106949),\n                         ",
                   "                        n_m_92409) * n_m_92409)] =\n                    tmp_106994;\n                \n                double tmp_106995;\n                \n                tmp_106995 = ((__local\n                               double *) red_arr_mem_106955)[(sext_i32_i64(local_tid_106949) +\n                                                              (int64_t) 1) *\n                                                             segment_sizze_nonzzero_106946 -\n                                                             (int64_t) 1];\n                ((__global\n                  double *) mem_105022)[squot64(sext_i32_i64(virt_group_id_106965) *\n                                                squot64(segred_group_sizze_101682,\n                                                        segment_sizze_nonzzero_106946) +\n                                                sext_i32_i64(local_tid_106949),\n                                                n_m_92409) * n_m_92409 +\n                                        (sext_i32_i64(virt_group_id_106965) *\n                                         squot64(segred_group_sizze_101682,\n                                                 segment_sizze_nonzzero_106946) +\n                                         sext_i32_i64(local_tid_106949) -\n                                         squot64(sext_i32_i64(virt_group_id_106965) *\n                                                 squot64(segred_group_sizze_101682,\n                                                         segment_sizze_nonzzero_106946) +\n                                                 sext_i32_i64(local_tid_106949),\n                                                 n_m_92409) * n_m_92409)] =\n                    tmp_106995;\n                \n                double tmp_106996;\n                \n                tmp_106996 = ((__local\n                               double *) red_arr_mem_106957)[(sext_i32_i64(local_tid_106949) +\n                                                              (int64_t",
                   ") 1) *\n                                                             segment_sizze_nonzzero_106946 -\n                                                             (int64_t) 1];\n                ((__global\n                  double *) mem_105026)[squot64(sext_i32_i64(virt_group_id_106965) *\n                                                squot64(segred_group_sizze_101682,\n                                                        segment_sizze_nonzzero_106946) +\n                                                sext_i32_i64(local_tid_106949),\n                                                n_m_92409) * n_m_92409 +\n                                        (sext_i32_i64(virt_group_id_106965) *\n                                         squot64(segred_group_sizze_101682,\n                                                 segment_sizze_nonzzero_106946) +\n                                         sext_i32_i64(local_tid_106949) -\n                                         squot64(sext_i32_i64(virt_group_id_106965) *\n                                                 squot64(segred_group_sizze_101682,\n                                                         segment_sizze_nonzzero_106946) +\n                                                 sext_i32_i64(local_tid_106949),\n                                                 n_m_92409) * n_m_92409)] =\n                    tmp_106996;\n                \n                double tmp_106997;\n                \n                tmp_106997 = ((__local\n                               double *) red_arr_mem_106959)[(sext_i32_i64(local_tid_106949) +\n                                                              (int64_t) 1) *\n                                                             segment_sizze_nonzzero_106946 -\n                                                             (int64_t) 1];\n                ((__global\n                  double *) mem_105030)[squot64(sext_i32_i64(virt_group_id_106965) *\n                                                squot64(segred_group_",
                   "sizze_101682,\n                                                        segment_sizze_nonzzero_106946) +\n                                                sext_i32_i64(local_tid_106949),\n                                                n_m_92409) * n_m_92409 +\n                                        (sext_i32_i64(virt_group_id_106965) *\n                                         squot64(segred_group_sizze_101682,\n                                                 segment_sizze_nonzzero_106946) +\n                                         sext_i32_i64(local_tid_106949) -\n                                         squot64(sext_i32_i64(virt_group_id_106965) *\n                                                 squot64(segred_group_sizze_101682,\n                                                         segment_sizze_nonzzero_106946) +\n                                                 sext_i32_i64(local_tid_106949),\n                                                 n_m_92409) * n_m_92409)] =\n                    tmp_106997;\n                \n                double tmp_106998;\n                \n                tmp_106998 = ((__local\n                               double *) red_arr_mem_106961)[(sext_i32_i64(local_tid_106949) +\n                                                              (int64_t) 1) *\n                                                             segment_sizze_nonzzero_106946 -\n                                                             (int64_t) 1];\n                ((__global\n                  double *) mem_105034)[squot64(sext_i32_i64(virt_group_id_106965) *\n                                                squot64(segred_group_sizze_101682,\n                                                        segment_sizze_nonzzero_106946) +\n                                                sext_i32_i64(local_tid_106949),\n                                                n_m_92409) * n_m_92409 +\n                                        (sext_i32_i64(virt_group_id_106965) *\n                      ",
                   "                   squot64(segred_group_sizze_101682,\n                                                 segment_sizze_nonzzero_106946) +\n                                         sext_i32_i64(local_tid_106949) -\n                                         squot64(sext_i32_i64(virt_group_id_106965) *\n                                                 squot64(segred_group_sizze_101682,\n                                                         segment_sizze_nonzzero_106946) +\n                                                 sext_i32_i64(local_tid_106949),\n                                                 n_m_92409) * n_m_92409)] =\n                    tmp_106998;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_101682\n}\n__kernel void mainzisegred_small_101792(__global int *global_failure,\n                                        __local volatile\n                                        int64_t *red_arr_mem_107094_backing_aligned_0,\n                                        __local volatile\n                                        int64_t *red_arr_mem_107092_backing_aligned_1,\n                                        int64_t m_92398, int64_t n_92399,\n                                        int64_t q_92401, int64_t jump_92403,\n                                        int64_t n_m_92409, int64_t i_92415,\n                                        int64_t num_groups_101785,\n                                        int64_t segment_sizze_nonzzero_107085,\n                                        __global unsigned char *mem_104968,\n                                        __global unsigned char *mem_104972,\n                                        __global unsigned char *mem_104976,\n                                        __global unsigned char *mem_105000,\n                                        __global unsigned char *mem_105009,\n                                  ",
                   "      __global unsigned char *mem_105013,\n                                        __global unsigned char *mem_105039,\n                                        __global unsigned char *mem_105043,\n                                        __global unsigned char *mem_105047,\n                                        __global unsigned char *mem_105051,\n                                        __global unsigned char *mem_105055,\n                                        __global unsigned char *mem_105060,\n                                        __global unsigned char *mem_105064)\n{\n    #define segred_group_sizze_101784 (mainzisegred_group_sizze_100696)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_107094_backing_1 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_107094_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_107092_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_107092_backing_aligned_1;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_107087;\n    int32_t local_tid_107088;\n    int64_t group_sizze_107091;\n    int32_t wave_sizze_107090;\n    int32_t group_tid_107089;\n    \n    global_tid_107087 = get_global_id(0);\n    local_tid_107088 = get_local_id(0);\n    group_sizze_107091 = get_local_size(0);\n    wave_sizze_107090 = LOCKSTEP_WIDTH;\n    group_tid_107089 = get_group_id(0);\n    \n    int32_t phys_tid_101792 = global_tid_107087;\n    __local unsigned char *red_arr_mem_107092;\n    \n    red_arr_mem_107092 = (__local unsigned char *) red_arr_mem_107092_backing_0;\n    \n    __local unsigned char *red_arr_mem_107094;\n    \n    red_arr_mem_107094 = (__local unsigned char *) red_arr_mem_107094_backing_1;\n    \n    int32_t phys_group_id_107096;\n    \n    phys_group_id_107096 = ",
                   "get_group_id(0);\n    for (int32_t i_107097 = 0; i_107097 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_92398 * n_m_92409,\n                                          squot64(segred_group_sizze_101784,\n                                                  segment_sizze_nonzzero_107085))) -\n                   phys_group_id_107096, sext_i64_i32(num_groups_101785));\n         i_107097++) {\n        int32_t virt_group_id_107098 = phys_group_id_107096 + i_107097 *\n                sext_i64_i32(num_groups_101785);\n        int64_t slice_107099 = n_m_92409;\n        int64_t slice_107100 = m_92398 * slice_107099;\n        int64_t gtid_101789 = squot64(squot64(sext_i32_i64(local_tid_107088),\n                                              segment_sizze_nonzzero_107085) +\n                                      sext_i32_i64(virt_group_id_107098) *\n                                      squot64(segred_group_sizze_101784,\n                                              segment_sizze_nonzzero_107085),\n                                      slice_107099);\n        int64_t remnant_107101 = squot64(sext_i32_i64(local_tid_107088),\n                                         segment_sizze_nonzzero_107085) +\n                sext_i32_i64(virt_group_id_107098) *\n                squot64(segred_group_sizze_101784,\n                        segment_sizze_nonzzero_107085) - gtid_101789 *\n                slice_107099;\n        int64_t gtid_101790 = remnant_107101;\n        int64_t remnant_107102 = remnant_107101 - gtid_101790;\n        int64_t gtid_101791 = srem64(sext_i32_i64(local_tid_107088), q_92401);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, q_92401) && ((slt64(gtid_101789, m_92398) &&\n                                                 slt64(gtid_101790,\n                                                       n_m_92409)) &&\n                                                slt64(sext_i32_i64(local_tid_107088),\n                                                      q_9",
                   "2401 *\n                                                      squot64(segred_group_sizze_101784,\n                                                              segment_sizze_nonzzero_107085)))) {\n                int64_t last_res_101799;\n                \n                last_res_101799 = ((__global\n                                    int64_t *) mem_104968)[gtid_101789 *\n                                                           n_92399 + i_92415];\n                \n                int64_t binop_y_102140 = mul64(jump_92403, gtid_101790);\n                int64_t index_primexp_102141 = smin64(i_92415, binop_y_102140);\n                int64_t max_res_101812;\n                \n                max_res_101812 = ((__global int64_t *) mem_105009)[gtid_101789 *\n                                                                   n_m_92409 +\n                                                                   gtid_101790];\n                \n                double defunc_1_f_res_101813;\n                \n                defunc_1_f_res_101813 = ((__global\n                                          double *) mem_105013)[gtid_101789 *\n                                                                n_m_92409 +\n                                                                gtid_101790];\n                \n                double a12_101814;\n                \n                a12_101814 = ((__global double *) mem_105039)[gtid_101789 *\n                                                              n_m_92409 +\n                                                              gtid_101790];\n                \n                double b12_101815;\n                \n                b12_101815 = ((__global double *) mem_105043)[gtid_101789 *\n                                                              n_m_92409 +\n                                                              gtid_101790];\n                \n                double c12_101816;\n                \n                c12_101816 = ((__global double *) mem_105047)",
                   "[gtid_101789 *\n                                                              n_m_92409 +\n                                                              gtid_101790];\n                \n                double b2_101817;\n                \n                b2_101817 = ((__global double *) mem_105051)[gtid_101789 *\n                                                             n_m_92409 +\n                                                             gtid_101790];\n                \n                double c2_101818;\n                \n                c2_101818 = ((__global double *) mem_105055)[gtid_101789 *\n                                                             n_m_92409 +\n                                                             gtid_101790];\n                \n                double x_101820;\n                \n                x_101820 = ((__global double *) mem_105000)[gtid_101789 *\n                                                            q_92401 +\n                                                            gtid_101791];\n                \n                bool cond_101821 = sle64(last_res_101799, gtid_101791);\n                int64_t defunc_0_f_res_101822;\n                \n                if (cond_101821) {\n                    defunc_0_f_res_101822 = (int64_t) 0;\n                } else {\n                    int64_t i_101823 = add64(gtid_101791, max_res_101812);\n                    int64_t defunc_0_add_arg_101824;\n                    \n                    defunc_0_add_arg_101824 = ((__global\n                                                int64_t *) mem_104976)[gtid_101789 *\n                                                                       n_92399 +\n                                                                       i_101823];\n                    \n                    int64_t defunc_1_add_res_101825 = add64((int64_t) 1,\n                                                            defunc_0_add_arg_101824);\n                    \n                    defunc_0_f_res_101822 =",
                   " defunc_1_add_res_101825;\n                }\n                \n                int64_t binop_p_101826 = sub64(defunc_0_f_res_101822,\n                                               index_primexp_102141);\n                double defunc_0_f_res_101827 = sitofp_i64_f64(binop_p_101826);\n                double abs_res_101828 = fabs(defunc_0_f_res_101827);\n                double tmp1_101829 = abs_res_101828 / defunc_1_f_res_101813;\n                double x_101830 = tmp1_101829 * tmp1_101829;\n                double y_101831 = tmp1_101829 * x_101830;\n                double tmp2_101832 = 1.0 - y_101831;\n                double x_101833 = tmp2_101832 * tmp2_101832;\n                double tmp3_101834 = tmp2_101832 * x_101833;\n                double tmp4_101835 = x_101820 * tmp3_101834;\n                double defunc_1_f_res_101836 = defunc_0_f_res_101827 *\n                       tmp4_101835;\n                double defunc_1_f_res_101837 = defunc_0_f_res_101827 *\n                       defunc_1_f_res_101836;\n                double defunc_0_f_res_101838;\n                \n                if (cond_101821) {\n                    defunc_0_f_res_101838 = 0.0;\n                } else {\n                    int64_t i_101839 = add64(gtid_101791, max_res_101812);\n                    double defunc_0_add_arg_101840;\n                    \n                    defunc_0_add_arg_101840 = ((__global\n                                                double *) mem_104972)[gtid_101789 *\n                                                                      n_92399 +\n                                                                      i_101839];\n                    defunc_0_f_res_101838 = defunc_0_add_arg_101840;\n                }\n                \n                double x_101841 = a12_101814 * tmp4_101835;\n                double y_101842 = b12_101815 * defunc_1_f_res_101836;\n                double x_101843 = x_101841 + y_101842;\n                double y_101844 = c12_101816 * defunc_1_f_res_101837;\n              ",
                   "  double x_101845 = x_101843 + y_101844;\n                double defunc_9_fit_fun_res_101846 = defunc_0_f_res_101838 *\n                       x_101845;\n                double x_101847 = b12_101815 * tmp4_101835;\n                double y_101848 = b2_101817 * defunc_1_f_res_101836;\n                double x_101849 = x_101847 + y_101848;\n                double y_101850 = c2_101818 * defunc_1_f_res_101837;\n                double x_101851 = x_101849 + y_101850;\n                double defunc_9_slope_fun_res_101852 = defunc_0_f_res_101838 *\n                       x_101851;\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local\n                      double *) red_arr_mem_107092)[sext_i32_i64(local_tid_107088)] =\n                        defunc_9_fit_fun_res_101846;\n                    ((__local\n                      double *) red_arr_mem_107094)[sext_i32_i64(local_tid_107088)] =\n                        defunc_9_slope_fun_res_101852;\n                }\n            } else {\n                ((__local\n                  double *) red_arr_mem_107092)[sext_i32_i64(local_tid_107088)] =\n                    0.0;\n                ((__local\n                  double *) red_arr_mem_107094)[sext_i32_i64(local_tid_107088)] =\n                    0.0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, q_92401)) {\n            // perform segmented scan to imitate reduction\n            {\n                double x_101793;\n                double x_101794;\n                double x_101795;\n                double x_101796;\n                double x_107103;\n                double x_107104;\n                double x_107105;\n                double x_107106;\n                bool ltid_in_bounds_107109 =\n                     slt64(sext_i32_i64(local_tid_107088), q_92401 *\n                           squot64(segred_group_sizze_101784,\n                         ",
                   "          segment_sizze_nonzzero_107085));\n                int32_t skip_threads_107110;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_107109) {\n                        x_101795 = ((volatile __local\n                                     double *) red_arr_mem_107092)[sext_i32_i64(local_tid_107088)];\n                        x_101796 = ((volatile __local\n                                     double *) red_arr_mem_107094)[sext_i32_i64(local_tid_107088)];\n                        if ((local_tid_107088 - squot32(local_tid_107088, 32) *\n                             32) == 0) {\n                            x_101793 = x_101795;\n                            x_101794 = x_101796;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_107110 = 1;\n                    while (slt32(skip_threads_107110, 32)) {\n                        bool thread_active_107111 = sle32(skip_threads_107110,\n                                                          local_tid_107088 -\n                                                          squot32(local_tid_107088,\n                                                                  32) * 32) &&\n                             ltid_in_bounds_107109;\n                        \n                        if (thread_active_107111) {\n                            // read operands\n                            {\n                                x_101793 = ((volatile __local\n                                             double *) red_arr_mem_107092)[sext_i32_i64(local_tid_107088) -\n                                                                           sext_i32_i64(skip_threads_107110)];\n                                x_101794 = ((volatile __local\n                                             double *) red_arr_mem_107094)[sext_i32_i64(local_tid_107088) -\n                         ",
                   "                                                  sext_i32_i64(skip_threads_107110)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_107112 =\n                                 slt64(srem64(sext_i32_i64(local_tid_107088),\n                                              q_92401),\n                                       sext_i32_i64(local_tid_107088) -\n                                       sext_i32_i64(local_tid_107088 -\n                                       skip_threads_107110));\n                            \n                            if (thread_active_107111 && inactive_107112) {\n                                x_101793 = x_101795;\n                                x_101794 = x_101796;\n                            }\n                            if (thread_active_107111) {\n                                if (!inactive_107112) {\n                                    double defunc_1_op_res_101797 = x_101793 +\n                                           x_101795;\n                                    double defunc_1_op_res_101798 = x_101794 +\n                                           x_101796;\n                                    \n                                    x_101793 = defunc_1_op_res_101797;\n                                    x_101794 = defunc_1_op_res_101798;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_107090, skip_threads_107110)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_107111) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  double *) red_arr_mem_107092)[sext_i32_i64(local_tid_107088)] =\n                                    x_101793;\n                              ",
                   "  x_101795 = x_101793;\n                                ((volatile __local\n                                  double *) red_arr_mem_107094)[sext_i32_i64(local_tid_107088)] =\n                                    x_101794;\n                                x_101796 = x_101794;\n                            }\n                        }\n                        if (sle32(wave_sizze_107090, skip_threads_107110)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_107110 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_107088 - squot32(local_tid_107088, 32) *\n                         32) == 31 && ltid_in_bounds_107109) {\n                        ((volatile __local\n                          double *) red_arr_mem_107092)[sext_i32_i64(squot32(local_tid_107088,\n                                                                             32))] =\n                            x_101793;\n                        ((volatile __local\n                          double *) red_arr_mem_107094)[sext_i32_i64(squot32(local_tid_107088,\n                                                                             32))] =\n                            x_101794;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_107113;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_107088, 32) == 0 &&\n                            ltid_in_bounds_107109) {\n                            x_107105 = ((volatile __local\n                                         double *) red_arr_mem_107092)[sext_i32_i64(local_tid_1070",
                   "88)];\n                            x_107106 = ((volatile __local\n                                         double *) red_arr_mem_107094)[sext_i32_i64(local_tid_107088)];\n                            if ((local_tid_107088 - squot32(local_tid_107088,\n                                                            32) * 32) == 0) {\n                                x_107103 = x_107105;\n                                x_107104 = x_107106;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_107113 = 1;\n                        while (slt32(skip_threads_107113, 32)) {\n                            bool thread_active_107114 =\n                                 sle32(skip_threads_107113, local_tid_107088 -\n                                       squot32(local_tid_107088, 32) * 32) &&\n                                 (squot32(local_tid_107088, 32) == 0 &&\n                                  ltid_in_bounds_107109);\n                            \n                            if (thread_active_107114) {\n                                // read operands\n                                {\n                                    x_107103 = ((volatile __local\n                                                 double *) red_arr_mem_107092)[sext_i32_i64(local_tid_107088) -\n                                                                               sext_i32_i64(skip_threads_107113)];\n                                    x_107104 = ((volatile __local\n                                                 double *) red_arr_mem_107094)[sext_i32_i64(local_tid_107088) -\n                                                                               sext_i32_i64(skip_threads_107113)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_10",
                   "7115 =\n                                     slt64(srem64(sext_i32_i64(local_tid_107088 *\n                                                  32 + 32 - 1), q_92401),\n                                           sext_i32_i64(local_tid_107088 * 32 +\n                                           32 - 1) -\n                                           sext_i32_i64((local_tid_107088 -\n                                                         skip_threads_107113) *\n                                           32 + 32 - 1));\n                                \n                                if (thread_active_107114 && inactive_107115) {\n                                    x_107103 = x_107105;\n                                    x_107104 = x_107106;\n                                }\n                                if (thread_active_107114) {\n                                    if (!inactive_107115) {\n                                        double defunc_1_op_res_107107 =\n                                               x_107103 + x_107105;\n                                        double defunc_1_op_res_107108 =\n                                               x_107104 + x_107106;\n                                        \n                                        x_107103 = defunc_1_op_res_107107;\n                                        x_107104 = defunc_1_op_res_107108;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_107090, skip_threads_107113)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_107114) {\n                                // write result\n                                {\n                                    ((volatile __local\n                                      double *) red_arr_mem_107092)[sext_i32_i64(local_tid_107088)] =\n                                        x_107103;\n                   ",
                   "                 x_107105 = x_107103;\n                                    ((volatile __local\n                                      double *) red_arr_mem_107094)[sext_i32_i64(local_tid_107088)] =\n                                        x_107104;\n                                    x_107106 = x_107104;\n                                }\n                            }\n                            if (sle32(wave_sizze_107090, skip_threads_107113)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_107113 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_107116 = squot32(local_tid_107088, 32) == 0 ||\n                     !ltid_in_bounds_107109;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_107116) {\n                            x_101795 = x_101793;\n                            x_101796 = x_101794;\n                            x_101793 = ((__local\n                                         double *) red_arr_mem_107092)[sext_i32_i64(squot32(local_tid_107088,\n                                                                                            32)) -\n                                                                       (int64_t) 1];\n                            x_101794 = ((__local\n                                         double *) red_arr_mem_107094)[sext_i32_i64(squot32(local_tid_107088,\n                                                                                            32)) -\n                                                                       (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_107117 =\n     ",
                   "                        slt64(srem64(sext_i32_i64(local_tid_107088),\n                                          q_92401),\n                                   sext_i32_i64(local_tid_107088) -\n                                   sext_i32_i64(squot32(local_tid_107088, 32) *\n                                   32 - 1));\n                        \n                        if (!no_carry_in_107116) {\n                            if (inactive_107117) {\n                                x_101793 = x_101795;\n                                x_101794 = x_101796;\n                            }\n                        }\n                        if (!no_carry_in_107116) {\n                            if (!inactive_107117) {\n                                double defunc_1_op_res_101797 = x_101793 +\n                                       x_101795;\n                                double defunc_1_op_res_101798 = x_101794 +\n                                       x_101796;\n                                \n                                x_101793 = defunc_1_op_res_101797;\n                                x_101794 = defunc_1_op_res_101798;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_107116) {\n                            ((__local\n                              double *) red_arr_mem_107092)[sext_i32_i64(local_tid_107088)] =\n                                x_101793;\n                            ((__local\n                              double *) red_arr_mem_107094)[sext_i32_i64(local_tid_107088)] =\n                                x_101794;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_107088, 32) == 0 &&\n                        ltid_in_bounds_107109) {\n                        ((__local\n     ",
                   "                     double *) red_arr_mem_107092)[sext_i32_i64(local_tid_107088)] =\n                            x_101795;\n                        ((__local\n                          double *) red_arr_mem_107094)[sext_i32_i64(local_tid_107088)] =\n                            x_101796;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_107098) *\n                      squot64(segred_group_sizze_101784,\n                              segment_sizze_nonzzero_107085) +\n                      sext_i32_i64(local_tid_107088), m_92398 * n_m_92409) &&\n                slt64(sext_i32_i64(local_tid_107088),\n                      squot64(segred_group_sizze_101784,\n                              segment_sizze_nonzzero_107085))) {\n                double tmp_107118;\n                \n                tmp_107118 = ((__local\n                               double *) red_arr_mem_107092)[(sext_i32_i64(local_tid_107088) +\n                                                              (int64_t) 1) *\n                                                             segment_sizze_nonzzero_107085 -\n                                                             (int64_t) 1];\n                ((__global\n                  double *) mem_105060)[squot64(sext_i32_i64(virt_group_id_107098) *\n                                                squot64(segred_group_sizze_101784,\n                                                        segment_sizze_nonzzero_107085) +\n                                                sext_i32_i64(local_tid_107088),\n                                                n_m_92409) * n_m_92409 +\n                                        (sext_i32_i64(virt_group_id_107098) *\n                                         squot64(segred_group_sizze_101784,\n                                                 segment_sizz",
                   "e_nonzzero_107085) +\n                                         sext_i32_i64(local_tid_107088) -\n                                         squot64(sext_i32_i64(virt_group_id_107098) *\n                                                 squot64(segred_group_sizze_101784,\n                                                         segment_sizze_nonzzero_107085) +\n                                                 sext_i32_i64(local_tid_107088),\n                                                 n_m_92409) * n_m_92409)] =\n                    tmp_107118;\n                \n                double tmp_107119;\n                \n                tmp_107119 = ((__local\n                               double *) red_arr_mem_107094)[(sext_i32_i64(local_tid_107088) +\n                                                              (int64_t) 1) *\n                                                             segment_sizze_nonzzero_107085 -\n                                                             (int64_t) 1];\n                ((__global\n                  double *) mem_105064)[squot64(sext_i32_i64(virt_group_id_107098) *\n                                                squot64(segred_group_sizze_101784,\n                                                        segment_sizze_nonzzero_107085) +\n                                                sext_i32_i64(local_tid_107088),\n                                                n_m_92409) * n_m_92409 +\n                                        (sext_i32_i64(virt_group_id_107098) *\n                                         squot64(segred_group_sizze_101784,\n                                                 segment_sizze_nonzzero_107085) +\n                                         sext_i32_i64(local_tid_107088) -\n                                         squot64(sext_i32_i64(virt_group_id_107098) *\n                                                 squot64(segred_group_sizze_101784,\n                                                         segment_sizze_nonzzero_107085) +\n ",
                   "                                                sext_i32_i64(local_tid_107088),\n                                                 n_m_92409) * n_m_92409)] =\n                    tmp_107119;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_101784\n}\n__kernel void mainzisegred_small_99496(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *red_arr_mem_106357_backing_aligned_0,\n                                       int64_t m_92398, int64_t n_92399,\n                                       int64_t q_92401, int64_t jump_92403,\n                                       int64_t n_m_92409, int64_t i_92415,\n                                       int64_t num_groups_99490,\n                                       int64_t segment_sizze_nonzzero_106350,\n                                       __global unsigned char *mem_104818,\n                                       __global unsigned char *mem_104826,\n                                       __global unsigned char *mem_104850,\n                                       __global unsigned char *mem_104859,\n                                       __global unsigned char *mem_104863,\n                                       __global unsigned char *mem_104868)\n{\n    #define segred_group_sizze_99489 (mainzisegred_group_sizze_98722)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_106357_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106357_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106352;\n    int32_t local_tid_106353;\n    int64_t group_sizze_106356;\n    int32_t wave_sizze_106355;\n    int32_t group_tid",
                   "_106354;\n    \n    global_tid_106352 = get_global_id(0);\n    local_tid_106353 = get_local_id(0);\n    group_sizze_106356 = get_local_size(0);\n    wave_sizze_106355 = LOCKSTEP_WIDTH;\n    group_tid_106354 = get_group_id(0);\n    \n    int32_t phys_tid_99496 = global_tid_106352;\n    __local unsigned char *red_arr_mem_106357;\n    \n    red_arr_mem_106357 = (__local unsigned char *) red_arr_mem_106357_backing_0;\n    \n    int32_t phys_group_id_106359;\n    \n    phys_group_id_106359 = get_group_id(0);\n    for (int32_t i_106360 = 0; i_106360 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_92398 * n_m_92409,\n                                          squot64(segred_group_sizze_99489,\n                                                  segment_sizze_nonzzero_106350))) -\n                   phys_group_id_106359, sext_i64_i32(num_groups_99490));\n         i_106360++) {\n        int32_t virt_group_id_106361 = phys_group_id_106359 + i_106360 *\n                sext_i64_i32(num_groups_99490);\n        int64_t slice_106362 = n_m_92409;\n        int64_t slice_106363 = m_92398 * slice_106362;\n        int64_t gtid_99493 = squot64(squot64(sext_i32_i64(local_tid_106353),\n                                             segment_sizze_nonzzero_106350) +\n                                     sext_i32_i64(virt_group_id_106361) *\n                                     squot64(segred_group_sizze_99489,\n                                             segment_sizze_nonzzero_106350),\n                                     slice_106362);\n        int64_t remnant_106364 = squot64(sext_i32_i64(local_tid_106353),\n                                         segment_sizze_nonzzero_106350) +\n                sext_i32_i64(virt_group_id_106361) *\n                squot64(segred_group_sizze_99489,\n                        segment_sizze_nonzzero_106350) - gtid_99493 *\n                slice_106362;\n        int64_t gtid_99494 = remnant_106364;\n        int64_t remnant_106365 = remnant_106364 - gtid_99494;\n        int64_t gtid_99495 = srem64(sex",
                   "t_i32_i64(local_tid_106353), q_92401);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, q_92401) && ((slt64(gtid_99493, m_92398) &&\n                                                 slt64(gtid_99494,\n                                                       n_m_92409)) &&\n                                                slt64(sext_i32_i64(local_tid_106353),\n                                                      q_92401 *\n                                                      squot64(segred_group_sizze_99489,\n                                                              segment_sizze_nonzzero_106350)))) {\n                int64_t last_res_99500;\n                \n                last_res_99500 = ((__global int64_t *) mem_104818)[gtid_99493 *\n                                                                   n_92399 +\n                                                                   i_92415];\n                \n                int64_t binop_y_102128 = mul64(jump_92403, gtid_99494);\n                int64_t index_primexp_102129 = smin64(i_92415, binop_y_102128);\n                double defunc_1_f_res_99508;\n                \n                defunc_1_f_res_99508 = ((__global\n                                         double *) mem_104863)[gtid_99493 *\n                                                               n_m_92409 +\n                                                               gtid_99494];\n                \n                double x_99510;\n                \n                x_99510 = ((__global double *) mem_104850)[gtid_99493 *\n                                                           q_92401 +\n                                                           gtid_99495];\n                \n                bool cond_99511 = sle64(last_res_99500, gtid_99495);\n                int64_t defunc_0_f_res_99512;\n                \n                if (cond_99511) {\n                    defunc_0_f_res_99512 = (int64_t) 0;\n                } else {\n     ",
                   "               int64_t max_res_99507;\n                    \n                    max_res_99507 = ((__global\n                                      int64_t *) mem_104859)[gtid_99493 *\n                                                             n_m_92409 +\n                                                             gtid_99494];\n                    \n                    int64_t i_99513 = add64(gtid_99495, max_res_99507);\n                    int64_t defunc_0_add_arg_99514;\n                    \n                    defunc_0_add_arg_99514 = ((__global\n                                               int64_t *) mem_104826)[gtid_99493 *\n                                                                      n_92399 +\n                                                                      i_99513];\n                    \n                    int64_t defunc_1_add_res_99515 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_99514);\n                    \n                    defunc_0_f_res_99512 = defunc_1_add_res_99515;\n                }\n                \n                int64_t binop_p_99516 = sub64(defunc_0_f_res_99512,\n                                              index_primexp_102129);\n                double defunc_0_f_res_99517 = sitofp_i64_f64(binop_p_99516);\n                double abs_res_99518 = fabs(defunc_0_f_res_99517);\n                double tmp1_99519 = abs_res_99518 / defunc_1_f_res_99508;\n                double x_99520 = tmp1_99519 * tmp1_99519;\n                double y_99521 = tmp1_99519 * x_99520;\n                double tmp2_99522 = 1.0 - y_99521;\n                double x_99523 = tmp2_99522 * tmp2_99522;\n                double tmp3_99524 = tmp2_99522 * x_99523;\n                double w_j_99525 = x_99510 * tmp3_99524;\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local\n                      double *) red_arr_mem_1",
                   "06357)[sext_i32_i64(local_tid_106353)] =\n                        w_j_99525;\n                }\n            } else {\n                ((__local\n                  double *) red_arr_mem_106357)[sext_i32_i64(local_tid_106353)] =\n                    0.0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, q_92401)) {\n            // perform segmented scan to imitate reduction\n            {\n                double x_99497;\n                double x_99498;\n                double x_106366;\n                double x_106367;\n                bool ltid_in_bounds_106369 =\n                     slt64(sext_i32_i64(local_tid_106353), q_92401 *\n                           squot64(segred_group_sizze_99489,\n                                   segment_sizze_nonzzero_106350));\n                int32_t skip_threads_106370;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_106369) {\n                        x_99498 = ((volatile __local\n                                    double *) red_arr_mem_106357)[sext_i32_i64(local_tid_106353)];\n                        if ((local_tid_106353 - squot32(local_tid_106353, 32) *\n                             32) == 0) {\n                            x_99497 = x_99498;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_106370 = 1;\n                    while (slt32(skip_threads_106370, 32)) {\n                        bool thread_active_106371 = sle32(skip_threads_106370,\n                                                          local_tid_106353 -\n                                                          squot32(local_tid_106353,\n                                                                  32) * 32) &&\n                             ltid_in_bounds_106369;\n                        \n                        if (thread_active_106371) {\n  ",
                   "                          // read operands\n                            {\n                                x_99497 = ((volatile __local\n                                            double *) red_arr_mem_106357)[sext_i32_i64(local_tid_106353) -\n                                                                          sext_i32_i64(skip_threads_106370)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_106372 =\n                                 slt64(srem64(sext_i32_i64(local_tid_106353),\n                                              q_92401),\n                                       sext_i32_i64(local_tid_106353) -\n                                       sext_i32_i64(local_tid_106353 -\n                                       skip_threads_106370));\n                            \n                            if (thread_active_106371 && inactive_106372) {\n                                x_99497 = x_99498;\n                            }\n                            if (thread_active_106371) {\n                                if (!inactive_106372) {\n                                    double defunc_1_op_res_99499 = x_99497 +\n                                           x_99498;\n                                    \n                                    x_99497 = defunc_1_op_res_99499;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_106355, skip_threads_106370)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_106371) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  double *) red_arr_mem_106357)[sext_i32_i64(local_tid_106353)] =\n                                    x_99497;\n                             ",
                   "   x_99498 = x_99497;\n                            }\n                        }\n                        if (sle32(wave_sizze_106355, skip_threads_106370)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_106370 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_106353 - squot32(local_tid_106353, 32) *\n                         32) == 31 && ltid_in_bounds_106369) {\n                        ((volatile __local\n                          double *) red_arr_mem_106357)[sext_i32_i64(squot32(local_tid_106353,\n                                                                             32))] =\n                            x_99497;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_106373;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_106353, 32) == 0 &&\n                            ltid_in_bounds_106369) {\n                            x_106367 = ((volatile __local\n                                         double *) red_arr_mem_106357)[sext_i32_i64(local_tid_106353)];\n                            if ((local_tid_106353 - squot32(local_tid_106353,\n                                                            32) * 32) == 0) {\n                                x_106366 = x_106367;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_106373 = 1;\n                        while (slt32(skip_threads_106373, 32)) {\n              ",
                   "              bool thread_active_106374 =\n                                 sle32(skip_threads_106373, local_tid_106353 -\n                                       squot32(local_tid_106353, 32) * 32) &&\n                                 (squot32(local_tid_106353, 32) == 0 &&\n                                  ltid_in_bounds_106369);\n                            \n                            if (thread_active_106374) {\n                                // read operands\n                                {\n                                    x_106366 = ((volatile __local\n                                                 double *) red_arr_mem_106357)[sext_i32_i64(local_tid_106353) -\n                                                                               sext_i32_i64(skip_threads_106373)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_106375 =\n                                     slt64(srem64(sext_i32_i64(local_tid_106353 *\n                                                  32 + 32 - 1), q_92401),\n                                           sext_i32_i64(local_tid_106353 * 32 +\n                                           32 - 1) -\n                                           sext_i32_i64((local_tid_106353 -\n                                                         skip_threads_106373) *\n                                           32 + 32 - 1));\n                                \n                                if (thread_active_106374 && inactive_106375) {\n                                    x_106366 = x_106367;\n                                }\n                                if (thread_active_106374) {\n                                    if (!inactive_106375) {\n                                        double defunc_1_op_res_106368 =\n                                               x_106366 + x_106367;\n                                        \n     ",
                   "                                   x_106366 = defunc_1_op_res_106368;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_106355, skip_threads_106373)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_106374) {\n                                // write result\n                                {\n                                    ((volatile __local\n                                      double *) red_arr_mem_106357)[sext_i32_i64(local_tid_106353)] =\n                                        x_106366;\n                                    x_106367 = x_106366;\n                                }\n                            }\n                            if (sle32(wave_sizze_106355, skip_threads_106373)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_106373 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_106376 = squot32(local_tid_106353, 32) == 0 ||\n                     !ltid_in_bounds_106369;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_106376) {\n                            x_99498 = x_99497;\n                            x_99497 = ((__local\n                                        double *) red_arr_mem_106357)[sext_i32_i64(squot32(local_tid_106353,\n                                                                                           32)) -\n                                                                      (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n     ",
                   "                   bool inactive_106377 =\n                             slt64(srem64(sext_i32_i64(local_tid_106353),\n                                          q_92401),\n                                   sext_i32_i64(local_tid_106353) -\n                                   sext_i32_i64(squot32(local_tid_106353, 32) *\n                                   32 - 1));\n                        \n                        if (!no_carry_in_106376) {\n                            if (inactive_106377) {\n                                x_99497 = x_99498;\n                            }\n                        }\n                        if (!no_carry_in_106376) {\n                            if (!inactive_106377) {\n                                double defunc_1_op_res_99499 = x_99497 +\n                                       x_99498;\n                                \n                                x_99497 = defunc_1_op_res_99499;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_106376) {\n                            ((__local\n                              double *) red_arr_mem_106357)[sext_i32_i64(local_tid_106353)] =\n                                x_99497;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_106353, 32) == 0 &&\n                        ltid_in_bounds_106369) {\n                        ((__local\n                          double *) red_arr_mem_106357)[sext_i32_i64(local_tid_106353)] =\n                            x_99498;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_106361) *",
                   "\n                      squot64(segred_group_sizze_99489,\n                              segment_sizze_nonzzero_106350) +\n                      sext_i32_i64(local_tid_106353), m_92398 * n_m_92409) &&\n                slt64(sext_i32_i64(local_tid_106353),\n                      squot64(segred_group_sizze_99489,\n                              segment_sizze_nonzzero_106350))) {\n                double tmp_106378;\n                \n                tmp_106378 = ((__local\n                               double *) red_arr_mem_106357)[(sext_i32_i64(local_tid_106353) +\n                                                              (int64_t) 1) *\n                                                             segment_sizze_nonzzero_106350 -\n                                                             (int64_t) 1];\n                ((__global\n                  double *) mem_104868)[squot64(sext_i32_i64(virt_group_id_106361) *\n                                                squot64(segred_group_sizze_99489,\n                                                        segment_sizze_nonzzero_106350) +\n                                                sext_i32_i64(local_tid_106353),\n                                                n_m_92409) * n_m_92409 +\n                                        (sext_i32_i64(virt_group_id_106361) *\n                                         squot64(segred_group_sizze_99489,\n                                                 segment_sizze_nonzzero_106350) +\n                                         sext_i32_i64(local_tid_106353) -\n                                         squot64(sext_i32_i64(virt_group_id_106361) *\n                                                 squot64(segred_group_sizze_99489,\n                                                         segment_sizze_nonzzero_106350) +\n                                                 sext_i32_i64(local_tid_106353),\n                                                 n_m_92409) * n_m_92409)] =\n                    tmp_106378;\n   ",
                   "         }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_99489\n}\n__kernel void mainzisegred_small_99546(__global int *global_failure,\n                                       __local volatile\n                                       int64_t *red_arr_mem_106440_backing_aligned_0,\n                                       int64_t m_92398, int64_t n_92399,\n                                       int64_t q_92401, int64_t jump_92403,\n                                       int64_t n_m_92409, int64_t i_92415,\n                                       int64_t num_groups_99540,\n                                       int64_t segment_sizze_nonzzero_106433,\n                                       __global unsigned char *mem_104818,\n                                       __global unsigned char *mem_104822,\n                                       __global unsigned char *mem_104826,\n                                       __global unsigned char *mem_104850,\n                                       __global unsigned char *mem_104859,\n                                       __global unsigned char *mem_104863,\n                                       __global unsigned char *mem_104873,\n                                       __global unsigned char *mem_104878)\n{\n    #define segred_group_sizze_99539 (mainzisegred_group_sizze_98654)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_106440_backing_0 =\n                                   (__local volatile\n                                    unsigned char *) red_arr_mem_106440_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t global_tid_106435;\n    int32_t local_tid_106436;\n    int64_t group_sizze_106439;\n    int32_t wave_sizze_106438;\n    int32_t group_tid_106437;\n    \n    global_tid_106435 = get_",
                   "global_id(0);\n    local_tid_106436 = get_local_id(0);\n    group_sizze_106439 = get_local_size(0);\n    wave_sizze_106438 = LOCKSTEP_WIDTH;\n    group_tid_106437 = get_group_id(0);\n    \n    int32_t phys_tid_99546 = global_tid_106435;\n    __local unsigned char *red_arr_mem_106440;\n    \n    red_arr_mem_106440 = (__local unsigned char *) red_arr_mem_106440_backing_0;\n    \n    int32_t phys_group_id_106442;\n    \n    phys_group_id_106442 = get_group_id(0);\n    for (int32_t i_106443 = 0; i_106443 <\n         sdiv_up32(sext_i64_i32(sdiv_up64(m_92398 * n_m_92409,\n                                          squot64(segred_group_sizze_99539,\n                                                  segment_sizze_nonzzero_106433))) -\n                   phys_group_id_106442, sext_i64_i32(num_groups_99540));\n         i_106443++) {\n        int32_t virt_group_id_106444 = phys_group_id_106442 + i_106443 *\n                sext_i64_i32(num_groups_99540);\n        int64_t slice_106445 = n_m_92409;\n        int64_t slice_106446 = m_92398 * slice_106445;\n        int64_t gtid_99543 = squot64(squot64(sext_i32_i64(local_tid_106436),\n                                             segment_sizze_nonzzero_106433) +\n                                     sext_i32_i64(virt_group_id_106444) *\n                                     squot64(segred_group_sizze_99539,\n                                             segment_sizze_nonzzero_106433),\n                                     slice_106445);\n        int64_t remnant_106447 = squot64(sext_i32_i64(local_tid_106436),\n                                         segment_sizze_nonzzero_106433) +\n                sext_i32_i64(virt_group_id_106444) *\n                squot64(segred_group_sizze_99539,\n                        segment_sizze_nonzzero_106433) - gtid_99543 *\n                slice_106445;\n        int64_t gtid_99544 = remnant_106447;\n        int64_t remnant_106448 = remnant_106447 - gtid_99544;\n        int64_t gtid_99545 = srem64(sext_i32_i64(local_tid_106436), q_92401);\n   ",
                   "     \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, q_92401) && ((slt64(gtid_99543, m_92398) &&\n                                                 slt64(gtid_99544,\n                                                       n_m_92409)) &&\n                                                slt64(sext_i32_i64(local_tid_106436),\n                                                      q_92401 *\n                                                      squot64(segred_group_sizze_99539,\n                                                              segment_sizze_nonzzero_106433)))) {\n                int64_t last_res_99550;\n                \n                last_res_99550 = ((__global int64_t *) mem_104818)[gtid_99543 *\n                                                                   n_92399 +\n                                                                   i_92415];\n                \n                int64_t binop_y_102124 = mul64(jump_92403, gtid_99544);\n                int64_t index_primexp_102125 = smin64(i_92415, binop_y_102124);\n                int64_t max_res_99559;\n                \n                max_res_99559 = ((__global int64_t *) mem_104859)[gtid_99543 *\n                                                                  n_m_92409 +\n                                                                  gtid_99544];\n                \n                double defunc_1_f_res_99560;\n                \n                defunc_1_f_res_99560 = ((__global\n                                         double *) mem_104863)[gtid_99543 *\n                                                               n_m_92409 +\n                                                               gtid_99544];\n                \n                double a0_99561;\n                \n                a0_99561 = ((__global double *) mem_104873)[gtid_99543 *\n                                                            n_m_92409 +\n                                                            gtid_9954",
                   "4];\n                \n                double x_99563;\n                \n                x_99563 = ((__global double *) mem_104850)[gtid_99543 *\n                                                           q_92401 +\n                                                           gtid_99545];\n                \n                bool cond_99564 = sle64(last_res_99550, gtid_99545);\n                int64_t defunc_0_f_res_99565;\n                \n                if (cond_99564) {\n                    defunc_0_f_res_99565 = (int64_t) 0;\n                } else {\n                    int64_t i_99566 = add64(gtid_99545, max_res_99559);\n                    int64_t defunc_0_add_arg_99567;\n                    \n                    defunc_0_add_arg_99567 = ((__global\n                                               int64_t *) mem_104826)[gtid_99543 *\n                                                                      n_92399 +\n                                                                      i_99566];\n                    \n                    int64_t defunc_1_add_res_99568 = add64((int64_t) 1,\n                                                           defunc_0_add_arg_99567);\n                    \n                    defunc_0_f_res_99565 = defunc_1_add_res_99568;\n                }\n                \n                int64_t binop_p_99569 = sub64(defunc_0_f_res_99565,\n                                              index_primexp_102125);\n                double defunc_0_f_res_99570 = sitofp_i64_f64(binop_p_99569);\n                double abs_res_99571 = fabs(defunc_0_f_res_99570);\n                double tmp1_99572 = abs_res_99571 / defunc_1_f_res_99560;\n                double x_99573 = tmp1_99572 * tmp1_99572;\n                double y_99574 = tmp1_99572 * x_99573;\n                double tmp2_99575 = 1.0 - y_99574;\n                double x_99576 = tmp2_99575 * tmp2_99575;\n                double tmp3_99577 = tmp2_99575 * x_99576;\n                double tmp4_99578 = x_99563 * tmp3_99577;\n                ",
                   "double defunc_0_f_res_99579;\n                \n                if (cond_99564) {\n                    defunc_0_f_res_99579 = 0.0;\n                } else {\n                    int64_t i_99580 = add64(gtid_99545, max_res_99559);\n                    double defunc_0_add_arg_99581;\n                    \n                    defunc_0_add_arg_99581 = ((__global\n                                               double *) mem_104822)[gtid_99543 *\n                                                                     n_92399 +\n                                                                     i_99580];\n                    defunc_0_f_res_99579 = defunc_0_add_arg_99581;\n                }\n                \n                double x_99582 = a0_99561 * tmp4_99578;\n                double defunc_9_fit_fun_res_99583 = defunc_0_f_res_99579 *\n                       x_99582;\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local\n                      double *) red_arr_mem_106440)[sext_i32_i64(local_tid_106436)] =\n                        defunc_9_fit_fun_res_99583;\n                }\n            } else {\n                ((__local\n                  double *) red_arr_mem_106440)[sext_i32_i64(local_tid_106436)] =\n                    0.0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, q_92401)) {\n            // perform segmented scan to imitate reduction\n            {\n                double x_99547;\n                double x_99548;\n                double x_106449;\n                double x_106450;\n                bool ltid_in_bounds_106452 =\n                     slt64(sext_i32_i64(local_tid_106436), q_92401 *\n                           squot64(segred_group_sizze_99539,\n                                   segment_sizze_nonzzero_106433));\n                int32_t skip_threads_106453;\n                \n                // read input for in-block scan\n",
                   "                {\n                    if (ltid_in_bounds_106452) {\n                        x_99548 = ((volatile __local\n                                    double *) red_arr_mem_106440)[sext_i32_i64(local_tid_106436)];\n                        if ((local_tid_106436 - squot32(local_tid_106436, 32) *\n                             32) == 0) {\n                            x_99547 = x_99548;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_106453 = 1;\n                    while (slt32(skip_threads_106453, 32)) {\n                        bool thread_active_106454 = sle32(skip_threads_106453,\n                                                          local_tid_106436 -\n                                                          squot32(local_tid_106436,\n                                                                  32) * 32) &&\n                             ltid_in_bounds_106452;\n                        \n                        if (thread_active_106454) {\n                            // read operands\n                            {\n                                x_99547 = ((volatile __local\n                                            double *) red_arr_mem_106440)[sext_i32_i64(local_tid_106436) -\n                                                                          sext_i32_i64(skip_threads_106453)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_106455 =\n                                 slt64(srem64(sext_i32_i64(local_tid_106436),\n                                              q_92401),\n                                       sext_i32_i64(local_tid_106436) -\n                                       sext_i32_i64(local_tid_106436 -\n                                       skip_threads_106453));\n                            \n            ",
                   "                if (thread_active_106454 && inactive_106455) {\n                                x_99547 = x_99548;\n                            }\n                            if (thread_active_106454) {\n                                if (!inactive_106455) {\n                                    double defunc_1_op_res_99549 = x_99547 +\n                                           x_99548;\n                                    \n                                    x_99547 = defunc_1_op_res_99549;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_106438, skip_threads_106453)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_106454) {\n                            // write result\n                            {\n                                ((volatile __local\n                                  double *) red_arr_mem_106440)[sext_i32_i64(local_tid_106436)] =\n                                    x_99547;\n                                x_99548 = x_99547;\n                            }\n                        }\n                        if (sle32(wave_sizze_106438, skip_threads_106453)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_106453 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_106436 - squot32(local_tid_106436, 32) *\n                         32) == 31 && ltid_in_bounds_106452) {\n                        ((volatile __local\n                          double *) red_arr_mem_106440)[sext_i32_i64(squot32(local_tid_106436,\n                                                                             32))] =\n                            x_99547;\n                    }\n                }\n ",
                   "               barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_106456;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_106436, 32) == 0 &&\n                            ltid_in_bounds_106452) {\n                            x_106450 = ((volatile __local\n                                         double *) red_arr_mem_106440)[sext_i32_i64(local_tid_106436)];\n                            if ((local_tid_106436 - squot32(local_tid_106436,\n                                                            32) * 32) == 0) {\n                                x_106449 = x_106450;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_106456 = 1;\n                        while (slt32(skip_threads_106456, 32)) {\n                            bool thread_active_106457 =\n                                 sle32(skip_threads_106456, local_tid_106436 -\n                                       squot32(local_tid_106436, 32) * 32) &&\n                                 (squot32(local_tid_106436, 32) == 0 &&\n                                  ltid_in_bounds_106452);\n                            \n                            if (thread_active_106457) {\n                                // read operands\n                                {\n                                    x_106449 = ((volatile __local\n                                                 double *) red_arr_mem_106440)[sext_i32_i64(local_tid_106436) -\n                                                                               sext_i32_i64(skip_threads_106456)];\n                                }\n                            }\n                            // perform operation\n      ",
                   "                      {\n                                bool inactive_106458 =\n                                     slt64(srem64(sext_i32_i64(local_tid_106436 *\n                                                  32 + 32 - 1), q_92401),\n                                           sext_i32_i64(local_tid_106436 * 32 +\n                                           32 - 1) -\n                                           sext_i32_i64((local_tid_106436 -\n                                                         skip_threads_106456) *\n                                           32 + 32 - 1));\n                                \n                                if (thread_active_106457 && inactive_106458) {\n                                    x_106449 = x_106450;\n                                }\n                                if (thread_active_106457) {\n                                    if (!inactive_106458) {\n                                        double defunc_1_op_res_106451 =\n                                               x_106449 + x_106450;\n                                        \n                                        x_106449 = defunc_1_op_res_106451;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_106438, skip_threads_106456)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_106457) {\n                                // write result\n                                {\n                                    ((volatile __local\n                                      double *) red_arr_mem_106440)[sext_i32_i64(local_tid_106436)] =\n                                        x_106449;\n                                    x_106450 = x_106449;\n                                }\n                            }\n                            if (sle32(wave_sizze_106438, skip_threads_106456)) {\n                 ",
                   "               barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_106456 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_106459 = squot32(local_tid_106436, 32) == 0 ||\n                     !ltid_in_bounds_106452;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_106459) {\n                            x_99548 = x_99547;\n                            x_99547 = ((__local\n                                        double *) red_arr_mem_106440)[sext_i32_i64(squot32(local_tid_106436,\n                                                                                           32)) -\n                                                                      (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_106460 =\n                             slt64(srem64(sext_i32_i64(local_tid_106436),\n                                          q_92401),\n                                   sext_i32_i64(local_tid_106436) -\n                                   sext_i32_i64(squot32(local_tid_106436, 32) *\n                                   32 - 1));\n                        \n                        if (!no_carry_in_106459) {\n                            if (inactive_106460) {\n                                x_99547 = x_99548;\n                            }\n                        }\n                        if (!no_carry_in_106459) {\n                            if (!inactive_106460) {\n                                double defunc_1_op_res_99549 = x_99547 +\n                                       x_99548;\n                                \n                                x_99547 = defunc_1_op_res",
                   "_99549;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_106459) {\n                            ((__local\n                              double *) red_arr_mem_106440)[sext_i32_i64(local_tid_106436)] =\n                                x_99547;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_106436, 32) == 0 &&\n                        ltid_in_bounds_106452) {\n                        ((__local\n                          double *) red_arr_mem_106440)[sext_i32_i64(local_tid_106436)] =\n                            x_99548;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_106444) *\n                      squot64(segred_group_sizze_99539,\n                              segment_sizze_nonzzero_106433) +\n                      sext_i32_i64(local_tid_106436), m_92398 * n_m_92409) &&\n                slt64(sext_i32_i64(local_tid_106436),\n                      squot64(segred_group_sizze_99539,\n                              segment_sizze_nonzzero_106433))) {\n                double tmp_106461;\n                \n                tmp_106461 = ((__local\n                               double *) red_arr_mem_106440)[(sext_i32_i64(local_tid_106436) +\n                                                              (int64_t) 1) *\n                                                             segment_sizze_nonzzero_106433 -\n                                                             (int64_t) 1];\n                ((__global\n                  double *) mem_104878)[squot64(sext_i32_i64(virt_group_id_106",
                   "444) *\n                                                squot64(segred_group_sizze_99539,\n                                                        segment_sizze_nonzzero_106433) +\n                                                sext_i32_i64(local_tid_106436),\n                                                n_m_92409) * n_m_92409 +\n                                        (sext_i32_i64(virt_group_id_106444) *\n                                         squot64(segred_group_sizze_99539,\n                                                 segment_sizze_nonzzero_106433) +\n                                         sext_i32_i64(local_tid_106436) -\n                                         squot64(sext_i32_i64(virt_group_id_106444) *\n                                                 squot64(segred_group_sizze_99539,\n                                                         segment_sizze_nonzzero_106433) +\n                                                 sext_i32_i64(local_tid_106436),\n                                                 n_m_92409) * n_m_92409)] =\n                    tmp_106461;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_99539\n}\n",
                   NULL};
static const char *tuning_param_names[] =
                  {"builtin#replicate_f64.group_size_105332",
                   "builtin#replicate_i64.group_size_105410",
                   "main.segmap_group_size_100116",
                   "main.segmap_group_size_100141",
                   "main.segmap_group_size_100167",
                   "main.segmap_group_size_100193",
                   "main.segmap_group_size_100782",
                   "main.segmap_group_size_100884",
                   "main.segmap_group_size_101273",
                   "main.segmap_group_size_101298",
                   "main.segmap_group_size_101324",
                   "main.segmap_group_size_101350",
                   "main.segmap_group_size_101868",
                   "main.segmap_group_size_94572",
                   "main.segmap_group_size_94597",
                   "main.segmap_group_size_94623",
                   "main.segmap_group_size_94649",
                   "main.segmap_group_size_95245",
                   "main.segmap_group_size_95270",
                   "main.segmap_group_size_95296",
                   "main.segmap_group_size_95322",
                   "main.segmap_group_size_95980",
                   "main.segmap_group_size_96005",
                   "main.segmap_group_size_96031",
                   "main.segmap_group_size_96057",
                   "main.segmap_group_size_96681",
                   "main.segmap_group_size_96706",
                   "main.segmap_group_size_96732",
                   "main.segmap_group_size_96758",
                   "main.segmap_group_size_97348",
                   "main.segmap_group_size_97373",
                   "main.segmap_group_size_97399",
                   "main.segmap_group_size_97425",
                   "main.segmap_group_size_98105",
                   "main.segmap_group_size_98130",
                   "main.segmap_group_size_98156",
                   "main.segmap_group_size_98182",
                   "main.segmap_group_size_98709",
                   "main.segmap_group_size_98767",
                   "main.segmap_group_size_99080",
                   "main.segmap_group_size_99105",
                   "main.segmap_group_size_99131",
                   "main.segmap_group_size_99157",
                   "main.segmap_group_size_99692",
                   "main.segmap_group_size_99767",
                   "main.segred_group_size_100696",
                   "main.segred_group_size_100823",
                   "main.segred_group_size_98654",
                   "main.segred_group_size_98722",
                   "main.segred_group_size_99619",
                   "main.segred_group_size_99714",
                   "main.segred_num_groups_100698",
                   "main.segred_num_groups_100825",
                   "main.segred_num_groups_98656",
                   "main.segred_num_groups_98724",
                   "main.segred_num_groups_99621",
                   "main.segred_num_groups_99716",
                   "main.segscan_group_size_100279",
                   "main.segscan_group_size_101436",
                   "main.segscan_group_size_94735",
                   "main.segscan_group_size_95408",
                   "main.segscan_group_size_96143",
                   "main.segscan_group_size_96844",
                   "main.segscan_group_size_97511",
                   "main.segscan_group_size_98268",
                   "main.segscan_group_size_99243",
                   "main.segscan_num_groups_100281",
                   "main.segscan_num_groups_101438",
                   "main.segscan_num_groups_94737",
                   "main.segscan_num_groups_95410",
                   "main.segscan_num_groups_96145",
                   "main.segscan_num_groups_96846",
                   "main.segscan_num_groups_97513",
                   "main.segscan_num_groups_98270",
                   "main.segscan_num_groups_99245", "main.tile_size_102209",
                   "main.tile_size_102763", "main.tile_size_103434"};
static const char *tuning_param_vars[] =
                  {"builtinzhreplicate_f64zigroup_sizze_105332",
                   "builtinzhreplicate_i64zigroup_sizze_105410",
                   "mainzisegmap_group_sizze_100116",
                   "mainzisegmap_group_sizze_100141",
                   "mainzisegmap_group_sizze_100167",
                   "mainzisegmap_group_sizze_100193",
                   "mainzisegmap_group_sizze_100782",
                   "mainzisegmap_group_sizze_100884",
                   "mainzisegmap_group_sizze_101273",
                   "mainzisegmap_group_sizze_101298",
                   "mainzisegmap_group_sizze_101324",
                   "mainzisegmap_group_sizze_101350",
                   "mainzisegmap_group_sizze_101868",
                   "mainzisegmap_group_sizze_94572",
                   "mainzisegmap_group_sizze_94597",
                   "mainzisegmap_group_sizze_94623",
                   "mainzisegmap_group_sizze_94649",
                   "mainzisegmap_group_sizze_95245",
                   "mainzisegmap_group_sizze_95270",
                   "mainzisegmap_group_sizze_95296",
                   "mainzisegmap_group_sizze_95322",
                   "mainzisegmap_group_sizze_95980",
                   "mainzisegmap_group_sizze_96005",
                   "mainzisegmap_group_sizze_96031",
                   "mainzisegmap_group_sizze_96057",
                   "mainzisegmap_group_sizze_96681",
                   "mainzisegmap_group_sizze_96706",
                   "mainzisegmap_group_sizze_96732",
                   "mainzisegmap_group_sizze_96758",
                   "mainzisegmap_group_sizze_97348",
                   "mainzisegmap_group_sizze_97373",
                   "mainzisegmap_group_sizze_97399",
                   "mainzisegmap_group_sizze_97425",
                   "mainzisegmap_group_sizze_98105",
                   "mainzisegmap_group_sizze_98130",
                   "mainzisegmap_group_sizze_98156",
                   "mainzisegmap_group_sizze_98182",
                   "mainzisegmap_group_sizze_98709",
                   "mainzisegmap_group_sizze_98767",
                   "mainzisegmap_group_sizze_99080",
                   "mainzisegmap_group_sizze_99105",
                   "mainzisegmap_group_sizze_99131",
                   "mainzisegmap_group_sizze_99157",
                   "mainzisegmap_group_sizze_99692",
                   "mainzisegmap_group_sizze_99767",
                   "mainzisegred_group_sizze_100696",
                   "mainzisegred_group_sizze_100823",
                   "mainzisegred_group_sizze_98654",
                   "mainzisegred_group_sizze_98722",
                   "mainzisegred_group_sizze_99619",
                   "mainzisegred_group_sizze_99714",
                   "mainzisegred_num_groups_100698",
                   "mainzisegred_num_groups_100825",
                   "mainzisegred_num_groups_98656",
                   "mainzisegred_num_groups_98724",
                   "mainzisegred_num_groups_99621",
                   "mainzisegred_num_groups_99716",
                   "mainzisegscan_group_sizze_100279",
                   "mainzisegscan_group_sizze_101436",
                   "mainzisegscan_group_sizze_94735",
                   "mainzisegscan_group_sizze_95408",
                   "mainzisegscan_group_sizze_96143",
                   "mainzisegscan_group_sizze_96844",
                   "mainzisegscan_group_sizze_97511",
                   "mainzisegscan_group_sizze_98268",
                   "mainzisegscan_group_sizze_99243",
                   "mainzisegscan_num_groups_100281",
                   "mainzisegscan_num_groups_101438",
                   "mainzisegscan_num_groups_94737",
                   "mainzisegscan_num_groups_95410",
                   "mainzisegscan_num_groups_96145",
                   "mainzisegscan_num_groups_96846",
                   "mainzisegscan_num_groups_97513",
                   "mainzisegscan_num_groups_98270",
                   "mainzisegscan_num_groups_99245", "mainzitile_sizze_102209",
                   "mainzitile_sizze_102763", "mainzitile_sizze_103434"};
static const char *tuning_param_classes[] = {"group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "num_groups",
                                             "num_groups", "num_groups",
                                             "num_groups", "num_groups",
                                             "num_groups", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "group_size", "group_size",
                                             "num_groups", "num_groups",
                                             "num_groups", "num_groups",
                                             "num_groups", "num_groups",
                                             "num_groups", "num_groups",
                                             "num_groups", "tile_size",
                                             "tile_size", "tile_size"};
struct tuning_params {
    int64_t *builtinzhreplicate_f64zigroup_sizze_105332;
    int64_t *builtinzhreplicate_i64zigroup_sizze_105410;
    int64_t *mainzisegmap_group_sizze_100116;
    int64_t *mainzisegmap_group_sizze_100141;
    int64_t *mainzisegmap_group_sizze_100167;
    int64_t *mainzisegmap_group_sizze_100193;
    int64_t *mainzisegmap_group_sizze_100782;
    int64_t *mainzisegmap_group_sizze_100884;
    int64_t *mainzisegmap_group_sizze_101273;
    int64_t *mainzisegmap_group_sizze_101298;
    int64_t *mainzisegmap_group_sizze_101324;
    int64_t *mainzisegmap_group_sizze_101350;
    int64_t *mainzisegmap_group_sizze_101868;
    int64_t *mainzisegmap_group_sizze_94572;
    int64_t *mainzisegmap_group_sizze_94597;
    int64_t *mainzisegmap_group_sizze_94623;
    int64_t *mainzisegmap_group_sizze_94649;
    int64_t *mainzisegmap_group_sizze_95245;
    int64_t *mainzisegmap_group_sizze_95270;
    int64_t *mainzisegmap_group_sizze_95296;
    int64_t *mainzisegmap_group_sizze_95322;
    int64_t *mainzisegmap_group_sizze_95980;
    int64_t *mainzisegmap_group_sizze_96005;
    int64_t *mainzisegmap_group_sizze_96031;
    int64_t *mainzisegmap_group_sizze_96057;
    int64_t *mainzisegmap_group_sizze_96681;
    int64_t *mainzisegmap_group_sizze_96706;
    int64_t *mainzisegmap_group_sizze_96732;
    int64_t *mainzisegmap_group_sizze_96758;
    int64_t *mainzisegmap_group_sizze_97348;
    int64_t *mainzisegmap_group_sizze_97373;
    int64_t *mainzisegmap_group_sizze_97399;
    int64_t *mainzisegmap_group_sizze_97425;
    int64_t *mainzisegmap_group_sizze_98105;
    int64_t *mainzisegmap_group_sizze_98130;
    int64_t *mainzisegmap_group_sizze_98156;
    int64_t *mainzisegmap_group_sizze_98182;
    int64_t *mainzisegmap_group_sizze_98709;
    int64_t *mainzisegmap_group_sizze_98767;
    int64_t *mainzisegmap_group_sizze_99080;
    int64_t *mainzisegmap_group_sizze_99105;
    int64_t *mainzisegmap_group_sizze_99131;
    int64_t *mainzisegmap_group_sizze_99157;
    int64_t *mainzisegmap_group_sizze_99692;
    int64_t *mainzisegmap_group_sizze_99767;
    int64_t *mainzisegred_group_sizze_100696;
    int64_t *mainzisegred_group_sizze_100823;
    int64_t *mainzisegred_group_sizze_98654;
    int64_t *mainzisegred_group_sizze_98722;
    int64_t *mainzisegred_group_sizze_99619;
    int64_t *mainzisegred_group_sizze_99714;
    int64_t *mainzisegred_num_groups_100698;
    int64_t *mainzisegred_num_groups_100825;
    int64_t *mainzisegred_num_groups_98656;
    int64_t *mainzisegred_num_groups_98724;
    int64_t *mainzisegred_num_groups_99621;
    int64_t *mainzisegred_num_groups_99716;
    int64_t *mainzisegscan_group_sizze_100279;
    int64_t *mainzisegscan_group_sizze_101436;
    int64_t *mainzisegscan_group_sizze_94735;
    int64_t *mainzisegscan_group_sizze_95408;
    int64_t *mainzisegscan_group_sizze_96143;
    int64_t *mainzisegscan_group_sizze_96844;
    int64_t *mainzisegscan_group_sizze_97511;
    int64_t *mainzisegscan_group_sizze_98268;
    int64_t *mainzisegscan_group_sizze_99243;
    int64_t *mainzisegscan_num_groups_100281;
    int64_t *mainzisegscan_num_groups_101438;
    int64_t *mainzisegscan_num_groups_94737;
    int64_t *mainzisegscan_num_groups_95410;
    int64_t *mainzisegscan_num_groups_96145;
    int64_t *mainzisegscan_num_groups_96846;
    int64_t *mainzisegscan_num_groups_97513;
    int64_t *mainzisegscan_num_groups_98270;
    int64_t *mainzisegscan_num_groups_99245;
    int64_t *mainzitile_sizze_102209;
    int64_t *mainzitile_sizze_102763;
    int64_t *mainzitile_sizze_103434;
};
struct futhark_context_config {
    int in_use;
    struct opencl_config opencl;
    int64_t tuning_params[78];
    int num_build_opts;
    const char **build_opts;
};
struct futhark_context_config *futhark_context_config_new(void)
{
    struct futhark_context_config *cfg =
                                  (struct futhark_context_config *) malloc(sizeof(struct futhark_context_config));
    
    if (cfg == NULL)
        return NULL;
    cfg->in_use = 0;
    cfg->num_build_opts = 0;
    cfg->build_opts = (const char **) malloc(sizeof(const char *));
    cfg->build_opts[0] = NULL;
    cfg->tuning_params[0] = 0;
    cfg->tuning_params[1] = 0;
    cfg->tuning_params[2] = 0;
    cfg->tuning_params[3] = 0;
    cfg->tuning_params[4] = 0;
    cfg->tuning_params[5] = 0;
    cfg->tuning_params[6] = 0;
    cfg->tuning_params[7] = 0;
    cfg->tuning_params[8] = 0;
    cfg->tuning_params[9] = 0;
    cfg->tuning_params[10] = 0;
    cfg->tuning_params[11] = 0;
    cfg->tuning_params[12] = 0;
    cfg->tuning_params[13] = 0;
    cfg->tuning_params[14] = 0;
    cfg->tuning_params[15] = 0;
    cfg->tuning_params[16] = 0;
    cfg->tuning_params[17] = 0;
    cfg->tuning_params[18] = 0;
    cfg->tuning_params[19] = 0;
    cfg->tuning_params[20] = 0;
    cfg->tuning_params[21] = 0;
    cfg->tuning_params[22] = 0;
    cfg->tuning_params[23] = 0;
    cfg->tuning_params[24] = 0;
    cfg->tuning_params[25] = 0;
    cfg->tuning_params[26] = 0;
    cfg->tuning_params[27] = 0;
    cfg->tuning_params[28] = 0;
    cfg->tuning_params[29] = 0;
    cfg->tuning_params[30] = 0;
    cfg->tuning_params[31] = 0;
    cfg->tuning_params[32] = 0;
    cfg->tuning_params[33] = 0;
    cfg->tuning_params[34] = 0;
    cfg->tuning_params[35] = 0;
    cfg->tuning_params[36] = 0;
    cfg->tuning_params[37] = 0;
    cfg->tuning_params[38] = 0;
    cfg->tuning_params[39] = 0;
    cfg->tuning_params[40] = 0;
    cfg->tuning_params[41] = 0;
    cfg->tuning_params[42] = 0;
    cfg->tuning_params[43] = 0;
    cfg->tuning_params[44] = 0;
    cfg->tuning_params[45] = 0;
    cfg->tuning_params[46] = 0;
    cfg->tuning_params[47] = 0;
    cfg->tuning_params[48] = 0;
    cfg->tuning_params[49] = 0;
    cfg->tuning_params[50] = 0;
    cfg->tuning_params[51] = 0;
    cfg->tuning_params[52] = 0;
    cfg->tuning_params[53] = 0;
    cfg->tuning_params[54] = 0;
    cfg->tuning_params[55] = 0;
    cfg->tuning_params[56] = 0;
    cfg->tuning_params[57] = 0;
    cfg->tuning_params[58] = 0;
    cfg->tuning_params[59] = 0;
    cfg->tuning_params[60] = 0;
    cfg->tuning_params[61] = 0;
    cfg->tuning_params[62] = 0;
    cfg->tuning_params[63] = 0;
    cfg->tuning_params[64] = 0;
    cfg->tuning_params[65] = 0;
    cfg->tuning_params[66] = 0;
    cfg->tuning_params[67] = 0;
    cfg->tuning_params[68] = 0;
    cfg->tuning_params[69] = 0;
    cfg->tuning_params[70] = 0;
    cfg->tuning_params[71] = 0;
    cfg->tuning_params[72] = 0;
    cfg->tuning_params[73] = 0;
    cfg->tuning_params[74] = 0;
    cfg->tuning_params[75] = 0;
    cfg->tuning_params[76] = 0;
    cfg->tuning_params[77] = 0;
    opencl_config_init(&cfg->opencl, 78, tuning_param_names, tuning_param_vars,
                       cfg->tuning_params, tuning_param_classes);
    return cfg;
}
void futhark_context_config_free(struct futhark_context_config *cfg)
{
    assert(!cfg->in_use);
    free(cfg->build_opts);
    free(cfg);
}
void futhark_context_config_add_build_option(struct futhark_context_config *cfg,
                                             const char *opt)
{
    cfg->build_opts[cfg->num_build_opts] = opt;
    cfg->num_build_opts++;
    cfg->build_opts = (const char **) realloc(cfg->build_opts,
                                              (cfg->num_build_opts + 1) *
                                              sizeof(const char *));
    cfg->build_opts[cfg->num_build_opts] = NULL;
}
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int flag)
{
    cfg->opencl.profiling = cfg->opencl.logging = cfg->opencl.debugging = flag;
}
void futhark_context_config_set_profiling(struct futhark_context_config *cfg,
                                          int flag)
{
    cfg->opencl.profiling = flag;
}
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int flag)
{
    cfg->opencl.logging = flag;
}
void futhark_context_config_set_device(struct futhark_context_config *cfg, const
                                       char *s)
{
    set_preferred_device(&cfg->opencl, s);
}
void futhark_context_config_set_platform(struct futhark_context_config *cfg,
                                         const char *s)
{
    set_preferred_platform(&cfg->opencl, s);
}
void futhark_context_config_select_device_interactively(struct futhark_context_config *cfg)
{
    select_device_interactively(&cfg->opencl);
}
void futhark_context_config_list_devices(struct futhark_context_config *cfg)
{
    (void) cfg;
    list_devices();
}
void futhark_context_config_dump_program_to(struct futhark_context_config *cfg,
                                            const char *path)
{
    cfg->opencl.dump_program_to = path;
}
void futhark_context_config_load_program_from(struct futhark_context_config *cfg,
                                              const char *path)
{
    cfg->opencl.load_program_from = path;
}
void futhark_context_config_dump_binary_to(struct futhark_context_config *cfg,
                                           const char *path)
{
    cfg->opencl.dump_binary_to = path;
}
void futhark_context_config_load_binary_from(struct futhark_context_config *cfg,
                                             const char *path)
{
    cfg->opencl.load_binary_from = path;
}
void futhark_context_config_set_default_group_size(struct futhark_context_config *cfg,
                                                   int size)
{
    cfg->opencl.default_group_size = size;
    cfg->opencl.default_group_size_changed = 1;
}
void futhark_context_config_set_default_num_groups(struct futhark_context_config *cfg,
                                                   int num)
{
    cfg->opencl.default_num_groups = num;
}
void futhark_context_config_set_default_tile_size(struct futhark_context_config *cfg,
                                                  int size)
{
    cfg->opencl.default_tile_size = size;
    cfg->opencl.default_tile_size_changed = 1;
}
void futhark_context_config_set_default_reg_tile_size(struct futhark_context_config *cfg,
                                                      int size)
{
    cfg->opencl.default_reg_tile_size = size;
}
void futhark_context_config_set_default_threshold(struct futhark_context_config *cfg,
                                                  int size)
{
    cfg->opencl.default_threshold = size;
}
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg,
                                            const char *param_name,
                                            size_t new_value)
{
    for (int i = 0; i < 78; i++) {
        if (strcmp(param_name, tuning_param_names[i]) == 0) {
            cfg->tuning_params[i] = new_value;
            return 0;
        }
    }
    if (strcmp(param_name, "default_group_size") == 0) {
        cfg->opencl.default_group_size = new_value;
        return 0;
    }
    if (strcmp(param_name, "default_num_groups") == 0) {
        cfg->opencl.default_num_groups = new_value;
        return 0;
    }
    if (strcmp(param_name, "default_threshold") == 0) {
        cfg->opencl.default_threshold = new_value;
        return 0;
    }
    if (strcmp(param_name, "default_tile_size") == 0) {
        cfg->opencl.default_tile_size = new_value;
        return 0;
    }
    if (strcmp(param_name, "default_reg_tile_size") == 0) {
        cfg->opencl.default_reg_tile_size = new_value;
        return 0;
    }
    return 1;
}
struct futhark_context {
    struct futhark_context_config *cfg;
    int detail_memory;
    int debugging;
    int profiling;
    int profiling_paused;
    int logging;
    lock_t lock;
    char *error;
    FILE *log;
    int64_t peak_mem_usage_device;
    int64_t cur_mem_usage_device;
    int64_t peak_mem_usage_default;
    int64_t cur_mem_usage_default;
    struct {
        int dummy;
    } constants;
    struct memblock_device mainzicounter_mem_106386;
    struct memblock_device mainzicounter_mem_106469;
    struct memblock_device mainzicounter_mem_106679;
    struct memblock_device mainzicounter_mem_106782;
    struct memblock_device mainzicounter_mem_107014;
    struct memblock_device mainzicounter_mem_107129;
    int total_runs;
    long total_runtime;
    cl_kernel builtinzhreplicate_f64zireplicate_105329;
    cl_kernel builtinzhreplicate_i64zireplicate_105407;
    cl_kernel mainziscan_stage1_100305;
    cl_kernel mainziscan_stage1_101462;
    cl_kernel mainziscan_stage1_94761;
    cl_kernel mainziscan_stage1_95434;
    cl_kernel mainziscan_stage1_96169;
    cl_kernel mainziscan_stage1_96870;
    cl_kernel mainziscan_stage1_97537;
    cl_kernel mainziscan_stage1_98294;
    cl_kernel mainziscan_stage1_99269;
    cl_kernel mainziscan_stage2_100305;
    cl_kernel mainziscan_stage2_101462;
    cl_kernel mainziscan_stage2_94761;
    cl_kernel mainziscan_stage2_95434;
    cl_kernel mainziscan_stage2_96169;
    cl_kernel mainziscan_stage2_96870;
    cl_kernel mainziscan_stage2_97537;
    cl_kernel mainziscan_stage2_98294;
    cl_kernel mainziscan_stage2_99269;
    cl_kernel mainziscan_stage3_100305;
    cl_kernel mainziscan_stage3_101462;
    cl_kernel mainziscan_stage3_94761;
    cl_kernel mainziscan_stage3_95434;
    cl_kernel mainziscan_stage3_96169;
    cl_kernel mainziscan_stage3_96870;
    cl_kernel mainziscan_stage3_97537;
    cl_kernel mainziscan_stage3_98294;
    cl_kernel mainziscan_stage3_99269;
    cl_kernel mainzisegmap_100358;
    cl_kernel mainzisegmap_100377;
    cl_kernel mainzisegmap_100389;
    cl_kernel mainzisegmap_100409;
    cl_kernel mainzisegmap_100428;
    cl_kernel mainzisegmap_100581;
    cl_kernel mainzisegmap_101515;
    cl_kernel mainzisegmap_101534;
    cl_kernel mainzisegmap_101546;
    cl_kernel mainzisegmap_101566;
    cl_kernel mainzisegmap_101585;
    cl_kernel mainzisegmap_101750;
    cl_kernel mainzisegmap_101991;
    cl_kernel mainzisegmap_94814;
    cl_kernel mainzisegmap_94833;
    cl_kernel mainzisegmap_94845;
    cl_kernel mainzisegmap_94865;
    cl_kernel mainzisegmap_95487;
    cl_kernel mainzisegmap_95506;
    cl_kernel mainzisegmap_95518;
    cl_kernel mainzisegmap_95538;
    cl_kernel mainzisegmap_96222;
    cl_kernel mainzisegmap_96241;
    cl_kernel mainzisegmap_96253;
    cl_kernel mainzisegmap_96273;
    cl_kernel mainzisegmap_96923;
    cl_kernel mainzisegmap_96942;
    cl_kernel mainzisegmap_96954;
    cl_kernel mainzisegmap_96974;
    cl_kernel mainzisegmap_97590;
    cl_kernel mainzisegmap_97609;
    cl_kernel mainzisegmap_97621;
    cl_kernel mainzisegmap_97641;
    cl_kernel mainzisegmap_98347;
    cl_kernel mainzisegmap_98366;
    cl_kernel mainzisegmap_98378;
    cl_kernel mainzisegmap_98398;
    cl_kernel mainzisegmap_99322;
    cl_kernel mainzisegmap_99341;
    cl_kernel mainzisegmap_99353;
    cl_kernel mainzisegmap_99373;
    cl_kernel mainzisegmap_99392;
    cl_kernel mainzisegmap_99533;
    cl_kernel mainzisegmap_intragroup_102215;
    cl_kernel mainzisegmap_intragroup_102769;
    cl_kernel mainzisegmap_intragroup_103440;
    cl_kernel mainzisegmap_intragroup_96990;
    cl_kernel mainzisegmap_intragroup_97658;
    cl_kernel mainzisegmap_intragroup_98415;
    cl_kernel mainzisegred_large_100534;
    cl_kernel mainzisegred_large_100604;
    cl_kernel mainzisegred_large_101693;
    cl_kernel mainzisegred_large_101792;
    cl_kernel mainzisegred_large_99496;
    cl_kernel mainzisegred_large_99546;
    cl_kernel mainzisegred_small_100534;
    cl_kernel mainzisegred_small_100604;
    cl_kernel mainzisegred_small_101693;
    cl_kernel mainzisegred_small_101792;
    cl_kernel mainzisegred_small_99496;
    cl_kernel mainzisegred_small_99546;
    int64_t copy_dev_to_dev_total_runtime;
    int copy_dev_to_dev_runs;
    int64_t copy_dev_to_host_total_runtime;
    int copy_dev_to_host_runs;
    int64_t copy_host_to_dev_total_runtime;
    int copy_host_to_dev_runs;
    int64_t copy_scalar_to_dev_total_runtime;
    int copy_scalar_to_dev_runs;
    int64_t copy_scalar_from_dev_total_runtime;
    int copy_scalar_from_dev_runs;
    int64_t builtinzhreplicate_f64zireplicate_105329_total_runtime;
    int builtinzhreplicate_f64zireplicate_105329_runs;
    int64_t builtinzhreplicate_i64zireplicate_105407_total_runtime;
    int builtinzhreplicate_i64zireplicate_105407_runs;
    int64_t mainziscan_stage1_100305_total_runtime;
    int mainziscan_stage1_100305_runs;
    int64_t mainziscan_stage1_101462_total_runtime;
    int mainziscan_stage1_101462_runs;
    int64_t mainziscan_stage1_94761_total_runtime;
    int mainziscan_stage1_94761_runs;
    int64_t mainziscan_stage1_95434_total_runtime;
    int mainziscan_stage1_95434_runs;
    int64_t mainziscan_stage1_96169_total_runtime;
    int mainziscan_stage1_96169_runs;
    int64_t mainziscan_stage1_96870_total_runtime;
    int mainziscan_stage1_96870_runs;
    int64_t mainziscan_stage1_97537_total_runtime;
    int mainziscan_stage1_97537_runs;
    int64_t mainziscan_stage1_98294_total_runtime;
    int mainziscan_stage1_98294_runs;
    int64_t mainziscan_stage1_99269_total_runtime;
    int mainziscan_stage1_99269_runs;
    int64_t mainziscan_stage2_100305_total_runtime;
    int mainziscan_stage2_100305_runs;
    int64_t mainziscan_stage2_101462_total_runtime;
    int mainziscan_stage2_101462_runs;
    int64_t mainziscan_stage2_94761_total_runtime;
    int mainziscan_stage2_94761_runs;
    int64_t mainziscan_stage2_95434_total_runtime;
    int mainziscan_stage2_95434_runs;
    int64_t mainziscan_stage2_96169_total_runtime;
    int mainziscan_stage2_96169_runs;
    int64_t mainziscan_stage2_96870_total_runtime;
    int mainziscan_stage2_96870_runs;
    int64_t mainziscan_stage2_97537_total_runtime;
    int mainziscan_stage2_97537_runs;
    int64_t mainziscan_stage2_98294_total_runtime;
    int mainziscan_stage2_98294_runs;
    int64_t mainziscan_stage2_99269_total_runtime;
    int mainziscan_stage2_99269_runs;
    int64_t mainziscan_stage3_100305_total_runtime;
    int mainziscan_stage3_100305_runs;
    int64_t mainziscan_stage3_101462_total_runtime;
    int mainziscan_stage3_101462_runs;
    int64_t mainziscan_stage3_94761_total_runtime;
    int mainziscan_stage3_94761_runs;
    int64_t mainziscan_stage3_95434_total_runtime;
    int mainziscan_stage3_95434_runs;
    int64_t mainziscan_stage3_96169_total_runtime;
    int mainziscan_stage3_96169_runs;
    int64_t mainziscan_stage3_96870_total_runtime;
    int mainziscan_stage3_96870_runs;
    int64_t mainziscan_stage3_97537_total_runtime;
    int mainziscan_stage3_97537_runs;
    int64_t mainziscan_stage3_98294_total_runtime;
    int mainziscan_stage3_98294_runs;
    int64_t mainziscan_stage3_99269_total_runtime;
    int mainziscan_stage3_99269_runs;
    int64_t mainzisegmap_100358_total_runtime;
    int mainzisegmap_100358_runs;
    int64_t mainzisegmap_100377_total_runtime;
    int mainzisegmap_100377_runs;
    int64_t mainzisegmap_100389_total_runtime;
    int mainzisegmap_100389_runs;
    int64_t mainzisegmap_100409_total_runtime;
    int mainzisegmap_100409_runs;
    int64_t mainzisegmap_100428_total_runtime;
    int mainzisegmap_100428_runs;
    int64_t mainzisegmap_100581_total_runtime;
    int mainzisegmap_100581_runs;
    int64_t mainzisegmap_101515_total_runtime;
    int mainzisegmap_101515_runs;
    int64_t mainzisegmap_101534_total_runtime;
    int mainzisegmap_101534_runs;
    int64_t mainzisegmap_101546_total_runtime;
    int mainzisegmap_101546_runs;
    int64_t mainzisegmap_101566_total_runtime;
    int mainzisegmap_101566_runs;
    int64_t mainzisegmap_101585_total_runtime;
    int mainzisegmap_101585_runs;
    int64_t mainzisegmap_101750_total_runtime;
    int mainzisegmap_101750_runs;
    int64_t mainzisegmap_101991_total_runtime;
    int mainzisegmap_101991_runs;
    int64_t mainzisegmap_94814_total_runtime;
    int mainzisegmap_94814_runs;
    int64_t mainzisegmap_94833_total_runtime;
    int mainzisegmap_94833_runs;
    int64_t mainzisegmap_94845_total_runtime;
    int mainzisegmap_94845_runs;
    int64_t mainzisegmap_94865_total_runtime;
    int mainzisegmap_94865_runs;
    int64_t mainzisegmap_95487_total_runtime;
    int mainzisegmap_95487_runs;
    int64_t mainzisegmap_95506_total_runtime;
    int mainzisegmap_95506_runs;
    int64_t mainzisegmap_95518_total_runtime;
    int mainzisegmap_95518_runs;
    int64_t mainzisegmap_95538_total_runtime;
    int mainzisegmap_95538_runs;
    int64_t mainzisegmap_96222_total_runtime;
    int mainzisegmap_96222_runs;
    int64_t mainzisegmap_96241_total_runtime;
    int mainzisegmap_96241_runs;
    int64_t mainzisegmap_96253_total_runtime;
    int mainzisegmap_96253_runs;
    int64_t mainzisegmap_96273_total_runtime;
    int mainzisegmap_96273_runs;
    int64_t mainzisegmap_96923_total_runtime;
    int mainzisegmap_96923_runs;
    int64_t mainzisegmap_96942_total_runtime;
    int mainzisegmap_96942_runs;
    int64_t mainzisegmap_96954_total_runtime;
    int mainzisegmap_96954_runs;
    int64_t mainzisegmap_96974_total_runtime;
    int mainzisegmap_96974_runs;
    int64_t mainzisegmap_97590_total_runtime;
    int mainzisegmap_97590_runs;
    int64_t mainzisegmap_97609_total_runtime;
    int mainzisegmap_97609_runs;
    int64_t mainzisegmap_97621_total_runtime;
    int mainzisegmap_97621_runs;
    int64_t mainzisegmap_97641_total_runtime;
    int mainzisegmap_97641_runs;
    int64_t mainzisegmap_98347_total_runtime;
    int mainzisegmap_98347_runs;
    int64_t mainzisegmap_98366_total_runtime;
    int mainzisegmap_98366_runs;
    int64_t mainzisegmap_98378_total_runtime;
    int mainzisegmap_98378_runs;
    int64_t mainzisegmap_98398_total_runtime;
    int mainzisegmap_98398_runs;
    int64_t mainzisegmap_99322_total_runtime;
    int mainzisegmap_99322_runs;
    int64_t mainzisegmap_99341_total_runtime;
    int mainzisegmap_99341_runs;
    int64_t mainzisegmap_99353_total_runtime;
    int mainzisegmap_99353_runs;
    int64_t mainzisegmap_99373_total_runtime;
    int mainzisegmap_99373_runs;
    int64_t mainzisegmap_99392_total_runtime;
    int mainzisegmap_99392_runs;
    int64_t mainzisegmap_99533_total_runtime;
    int mainzisegmap_99533_runs;
    int64_t mainzisegmap_intragroup_102215_total_runtime;
    int mainzisegmap_intragroup_102215_runs;
    int64_t mainzisegmap_intragroup_102769_total_runtime;
    int mainzisegmap_intragroup_102769_runs;
    int64_t mainzisegmap_intragroup_103440_total_runtime;
    int mainzisegmap_intragroup_103440_runs;
    int64_t mainzisegmap_intragroup_96990_total_runtime;
    int mainzisegmap_intragroup_96990_runs;
    int64_t mainzisegmap_intragroup_97658_total_runtime;
    int mainzisegmap_intragroup_97658_runs;
    int64_t mainzisegmap_intragroup_98415_total_runtime;
    int mainzisegmap_intragroup_98415_runs;
    int64_t mainzisegred_large_100534_total_runtime;
    int mainzisegred_large_100534_runs;
    int64_t mainzisegred_large_100604_total_runtime;
    int mainzisegred_large_100604_runs;
    int64_t mainzisegred_large_101693_total_runtime;
    int mainzisegred_large_101693_runs;
    int64_t mainzisegred_large_101792_total_runtime;
    int mainzisegred_large_101792_runs;
    int64_t mainzisegred_large_99496_total_runtime;
    int mainzisegred_large_99496_runs;
    int64_t mainzisegred_large_99546_total_runtime;
    int mainzisegred_large_99546_runs;
    int64_t mainzisegred_small_100534_total_runtime;
    int mainzisegred_small_100534_runs;
    int64_t mainzisegred_small_100604_total_runtime;
    int mainzisegred_small_100604_runs;
    int64_t mainzisegred_small_101693_total_runtime;
    int mainzisegred_small_101693_runs;
    int64_t mainzisegred_small_101792_total_runtime;
    int mainzisegred_small_101792_runs;
    int64_t mainzisegred_small_99496_total_runtime;
    int mainzisegred_small_99496_runs;
    int64_t mainzisegred_small_99546_total_runtime;
    int mainzisegred_small_99546_runs;
    cl_mem global_failure;
    cl_mem global_failure_args;
    struct opencl_context opencl;
    struct tuning_params tuning_params;
    cl_int failure_is_an_option;
};
void post_opencl_setup(struct opencl_context *ctx,
                       struct opencl_device_option *option)
{
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name,
                                            "NVIDIA CUDA") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->lockstep_width = 32;
    }
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name,
                                            "AMD Accelerated Parallel Processing") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) ==
        CL_DEVICE_TYPE_GPU) {
        ctx->lockstep_width = 32;
    }
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name, "") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) ==
        CL_DEVICE_TYPE_GPU) {
        ctx->lockstep_width = 1;
    }
    if ((ctx->cfg.default_num_groups == 0 && strstr(option->platform_name,
                                                    "") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        size_t MAX_COMPUTE_UNITS_val = 0;
        
        clGetDeviceInfo(ctx->device, CL_DEVICE_MAX_COMPUTE_UNITS,
                        sizeof(MAX_COMPUTE_UNITS_val), &MAX_COMPUTE_UNITS_val,
                        NULL);
        ctx->cfg.default_num_groups = 4 * MAX_COMPUTE_UNITS_val;
    }
    if ((ctx->cfg.default_group_size == 0 && strstr(option->platform_name,
                                                    "") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_group_size = 256;
    }
    if ((ctx->cfg.default_tile_size == 0 && strstr(option->platform_name, "") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) ==
        CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_tile_size = 32;
    }
    if ((ctx->cfg.default_reg_tile_size == 0 && strstr(option->platform_name,
                                                       "") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_reg_tile_size = 2;
    }
    if ((ctx->cfg.default_threshold == 0 && strstr(option->platform_name, "") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) ==
        CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_threshold = 32768;
    }
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name, "") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) ==
        CL_DEVICE_TYPE_CPU) {
        ctx->lockstep_width = 1;
    }
    if ((ctx->cfg.default_num_groups == 0 && strstr(option->platform_name,
                                                    "") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        size_t MAX_COMPUTE_UNITS_val = 0;
        
        clGetDeviceInfo(ctx->device, CL_DEVICE_MAX_COMPUTE_UNITS,
                        sizeof(MAX_COMPUTE_UNITS_val), &MAX_COMPUTE_UNITS_val,
                        NULL);
        ctx->cfg.default_num_groups = MAX_COMPUTE_UNITS_val;
    }
    if ((ctx->cfg.default_group_size == 0 && strstr(option->platform_name,
                                                    "") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        ctx->cfg.default_group_size = 32;
    }
    if ((ctx->cfg.default_tile_size == 0 && strstr(option->platform_name, "") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) ==
        CL_DEVICE_TYPE_CPU) {
        ctx->cfg.default_tile_size = 4;
    }
    if ((ctx->cfg.default_reg_tile_size == 0 && strstr(option->platform_name,
                                                       "") != NULL) &&
        (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        ctx->cfg.default_reg_tile_size = 1;
    }
    if ((ctx->cfg.default_threshold == 0 && strstr(option->platform_name, "") !=
         NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) ==
        CL_DEVICE_TYPE_CPU) {
        size_t MAX_COMPUTE_UNITS_val = 0;
        
        clGetDeviceInfo(ctx->device, CL_DEVICE_MAX_COMPUTE_UNITS,
                        sizeof(MAX_COMPUTE_UNITS_val), &MAX_COMPUTE_UNITS_val,
                        NULL);
        ctx->cfg.default_threshold = MAX_COMPUTE_UNITS_val;
    }
}
static void init_context_early(struct futhark_context_config *cfg,
                               struct futhark_context *ctx)
{
    ctx->opencl.cfg = cfg->opencl;
    ctx->detail_memory = cfg->opencl.debugging;
    ctx->debugging = cfg->opencl.debugging;
    ctx->profiling = cfg->opencl.profiling;
    ctx->profiling_paused = 0;
    ctx->logging = cfg->opencl.logging;
    ctx->error = NULL;
    ctx->log = stderr;
    ctx->opencl.profiling_records_capacity = 200;
    ctx->opencl.profiling_records_used = 0;
    ctx->opencl.profiling_records =
        malloc(ctx->opencl.profiling_records_capacity *
        sizeof(struct profiling_record));
    create_lock(&ctx->lock);
    ctx->failure_is_an_option = 0;
    ctx->peak_mem_usage_device = 0;
    ctx->cur_mem_usage_device = 0;
    ctx->peak_mem_usage_default = 0;
    ctx->cur_mem_usage_default = 0;
    ctx->total_runs = 0;
    ctx->total_runtime = 0;
    ctx->copy_dev_to_dev_total_runtime = 0;
    ctx->copy_dev_to_dev_runs = 0;
    ctx->copy_dev_to_host_total_runtime = 0;
    ctx->copy_dev_to_host_runs = 0;
    ctx->copy_host_to_dev_total_runtime = 0;
    ctx->copy_host_to_dev_runs = 0;
    ctx->copy_scalar_to_dev_total_runtime = 0;
    ctx->copy_scalar_to_dev_runs = 0;
    ctx->copy_scalar_from_dev_total_runtime = 0;
    ctx->copy_scalar_from_dev_runs = 0;
    ctx->builtinzhreplicate_f64zireplicate_105329_total_runtime = 0;
    ctx->builtinzhreplicate_f64zireplicate_105329_runs = 0;
    ctx->builtinzhreplicate_i64zireplicate_105407_total_runtime = 0;
    ctx->builtinzhreplicate_i64zireplicate_105407_runs = 0;
    ctx->mainziscan_stage1_100305_total_runtime = 0;
    ctx->mainziscan_stage1_100305_runs = 0;
    ctx->mainziscan_stage1_101462_total_runtime = 0;
    ctx->mainziscan_stage1_101462_runs = 0;
    ctx->mainziscan_stage1_94761_total_runtime = 0;
    ctx->mainziscan_stage1_94761_runs = 0;
    ctx->mainziscan_stage1_95434_total_runtime = 0;
    ctx->mainziscan_stage1_95434_runs = 0;
    ctx->mainziscan_stage1_96169_total_runtime = 0;
    ctx->mainziscan_stage1_96169_runs = 0;
    ctx->mainziscan_stage1_96870_total_runtime = 0;
    ctx->mainziscan_stage1_96870_runs = 0;
    ctx->mainziscan_stage1_97537_total_runtime = 0;
    ctx->mainziscan_stage1_97537_runs = 0;
    ctx->mainziscan_stage1_98294_total_runtime = 0;
    ctx->mainziscan_stage1_98294_runs = 0;
    ctx->mainziscan_stage1_99269_total_runtime = 0;
    ctx->mainziscan_stage1_99269_runs = 0;
    ctx->mainziscan_stage2_100305_total_runtime = 0;
    ctx->mainziscan_stage2_100305_runs = 0;
    ctx->mainziscan_stage2_101462_total_runtime = 0;
    ctx->mainziscan_stage2_101462_runs = 0;
    ctx->mainziscan_stage2_94761_total_runtime = 0;
    ctx->mainziscan_stage2_94761_runs = 0;
    ctx->mainziscan_stage2_95434_total_runtime = 0;
    ctx->mainziscan_stage2_95434_runs = 0;
    ctx->mainziscan_stage2_96169_total_runtime = 0;
    ctx->mainziscan_stage2_96169_runs = 0;
    ctx->mainziscan_stage2_96870_total_runtime = 0;
    ctx->mainziscan_stage2_96870_runs = 0;
    ctx->mainziscan_stage2_97537_total_runtime = 0;
    ctx->mainziscan_stage2_97537_runs = 0;
    ctx->mainziscan_stage2_98294_total_runtime = 0;
    ctx->mainziscan_stage2_98294_runs = 0;
    ctx->mainziscan_stage2_99269_total_runtime = 0;
    ctx->mainziscan_stage2_99269_runs = 0;
    ctx->mainziscan_stage3_100305_total_runtime = 0;
    ctx->mainziscan_stage3_100305_runs = 0;
    ctx->mainziscan_stage3_101462_total_runtime = 0;
    ctx->mainziscan_stage3_101462_runs = 0;
    ctx->mainziscan_stage3_94761_total_runtime = 0;
    ctx->mainziscan_stage3_94761_runs = 0;
    ctx->mainziscan_stage3_95434_total_runtime = 0;
    ctx->mainziscan_stage3_95434_runs = 0;
    ctx->mainziscan_stage3_96169_total_runtime = 0;
    ctx->mainziscan_stage3_96169_runs = 0;
    ctx->mainziscan_stage3_96870_total_runtime = 0;
    ctx->mainziscan_stage3_96870_runs = 0;
    ctx->mainziscan_stage3_97537_total_runtime = 0;
    ctx->mainziscan_stage3_97537_runs = 0;
    ctx->mainziscan_stage3_98294_total_runtime = 0;
    ctx->mainziscan_stage3_98294_runs = 0;
    ctx->mainziscan_stage3_99269_total_runtime = 0;
    ctx->mainziscan_stage3_99269_runs = 0;
    ctx->mainzisegmap_100358_total_runtime = 0;
    ctx->mainzisegmap_100358_runs = 0;
    ctx->mainzisegmap_100377_total_runtime = 0;
    ctx->mainzisegmap_100377_runs = 0;
    ctx->mainzisegmap_100389_total_runtime = 0;
    ctx->mainzisegmap_100389_runs = 0;
    ctx->mainzisegmap_100409_total_runtime = 0;
    ctx->mainzisegmap_100409_runs = 0;
    ctx->mainzisegmap_100428_total_runtime = 0;
    ctx->mainzisegmap_100428_runs = 0;
    ctx->mainzisegmap_100581_total_runtime = 0;
    ctx->mainzisegmap_100581_runs = 0;
    ctx->mainzisegmap_101515_total_runtime = 0;
    ctx->mainzisegmap_101515_runs = 0;
    ctx->mainzisegmap_101534_total_runtime = 0;
    ctx->mainzisegmap_101534_runs = 0;
    ctx->mainzisegmap_101546_total_runtime = 0;
    ctx->mainzisegmap_101546_runs = 0;
    ctx->mainzisegmap_101566_total_runtime = 0;
    ctx->mainzisegmap_101566_runs = 0;
    ctx->mainzisegmap_101585_total_runtime = 0;
    ctx->mainzisegmap_101585_runs = 0;
    ctx->mainzisegmap_101750_total_runtime = 0;
    ctx->mainzisegmap_101750_runs = 0;
    ctx->mainzisegmap_101991_total_runtime = 0;
    ctx->mainzisegmap_101991_runs = 0;
    ctx->mainzisegmap_94814_total_runtime = 0;
    ctx->mainzisegmap_94814_runs = 0;
    ctx->mainzisegmap_94833_total_runtime = 0;
    ctx->mainzisegmap_94833_runs = 0;
    ctx->mainzisegmap_94845_total_runtime = 0;
    ctx->mainzisegmap_94845_runs = 0;
    ctx->mainzisegmap_94865_total_runtime = 0;
    ctx->mainzisegmap_94865_runs = 0;
    ctx->mainzisegmap_95487_total_runtime = 0;
    ctx->mainzisegmap_95487_runs = 0;
    ctx->mainzisegmap_95506_total_runtime = 0;
    ctx->mainzisegmap_95506_runs = 0;
    ctx->mainzisegmap_95518_total_runtime = 0;
    ctx->mainzisegmap_95518_runs = 0;
    ctx->mainzisegmap_95538_total_runtime = 0;
    ctx->mainzisegmap_95538_runs = 0;
    ctx->mainzisegmap_96222_total_runtime = 0;
    ctx->mainzisegmap_96222_runs = 0;
    ctx->mainzisegmap_96241_total_runtime = 0;
    ctx->mainzisegmap_96241_runs = 0;
    ctx->mainzisegmap_96253_total_runtime = 0;
    ctx->mainzisegmap_96253_runs = 0;
    ctx->mainzisegmap_96273_total_runtime = 0;
    ctx->mainzisegmap_96273_runs = 0;
    ctx->mainzisegmap_96923_total_runtime = 0;
    ctx->mainzisegmap_96923_runs = 0;
    ctx->mainzisegmap_96942_total_runtime = 0;
    ctx->mainzisegmap_96942_runs = 0;
    ctx->mainzisegmap_96954_total_runtime = 0;
    ctx->mainzisegmap_96954_runs = 0;
    ctx->mainzisegmap_96974_total_runtime = 0;
    ctx->mainzisegmap_96974_runs = 0;
    ctx->mainzisegmap_97590_total_runtime = 0;
    ctx->mainzisegmap_97590_runs = 0;
    ctx->mainzisegmap_97609_total_runtime = 0;
    ctx->mainzisegmap_97609_runs = 0;
    ctx->mainzisegmap_97621_total_runtime = 0;
    ctx->mainzisegmap_97621_runs = 0;
    ctx->mainzisegmap_97641_total_runtime = 0;
    ctx->mainzisegmap_97641_runs = 0;
    ctx->mainzisegmap_98347_total_runtime = 0;
    ctx->mainzisegmap_98347_runs = 0;
    ctx->mainzisegmap_98366_total_runtime = 0;
    ctx->mainzisegmap_98366_runs = 0;
    ctx->mainzisegmap_98378_total_runtime = 0;
    ctx->mainzisegmap_98378_runs = 0;
    ctx->mainzisegmap_98398_total_runtime = 0;
    ctx->mainzisegmap_98398_runs = 0;
    ctx->mainzisegmap_99322_total_runtime = 0;
    ctx->mainzisegmap_99322_runs = 0;
    ctx->mainzisegmap_99341_total_runtime = 0;
    ctx->mainzisegmap_99341_runs = 0;
    ctx->mainzisegmap_99353_total_runtime = 0;
    ctx->mainzisegmap_99353_runs = 0;
    ctx->mainzisegmap_99373_total_runtime = 0;
    ctx->mainzisegmap_99373_runs = 0;
    ctx->mainzisegmap_99392_total_runtime = 0;
    ctx->mainzisegmap_99392_runs = 0;
    ctx->mainzisegmap_99533_total_runtime = 0;
    ctx->mainzisegmap_99533_runs = 0;
    ctx->mainzisegmap_intragroup_102215_total_runtime = 0;
    ctx->mainzisegmap_intragroup_102215_runs = 0;
    ctx->mainzisegmap_intragroup_102769_total_runtime = 0;
    ctx->mainzisegmap_intragroup_102769_runs = 0;
    ctx->mainzisegmap_intragroup_103440_total_runtime = 0;
    ctx->mainzisegmap_intragroup_103440_runs = 0;
    ctx->mainzisegmap_intragroup_96990_total_runtime = 0;
    ctx->mainzisegmap_intragroup_96990_runs = 0;
    ctx->mainzisegmap_intragroup_97658_total_runtime = 0;
    ctx->mainzisegmap_intragroup_97658_runs = 0;
    ctx->mainzisegmap_intragroup_98415_total_runtime = 0;
    ctx->mainzisegmap_intragroup_98415_runs = 0;
    ctx->mainzisegred_large_100534_total_runtime = 0;
    ctx->mainzisegred_large_100534_runs = 0;
    ctx->mainzisegred_large_100604_total_runtime = 0;
    ctx->mainzisegred_large_100604_runs = 0;
    ctx->mainzisegred_large_101693_total_runtime = 0;
    ctx->mainzisegred_large_101693_runs = 0;
    ctx->mainzisegred_large_101792_total_runtime = 0;
    ctx->mainzisegred_large_101792_runs = 0;
    ctx->mainzisegred_large_99496_total_runtime = 0;
    ctx->mainzisegred_large_99496_runs = 0;
    ctx->mainzisegred_large_99546_total_runtime = 0;
    ctx->mainzisegred_large_99546_runs = 0;
    ctx->mainzisegred_small_100534_total_runtime = 0;
    ctx->mainzisegred_small_100534_runs = 0;
    ctx->mainzisegred_small_100604_total_runtime = 0;
    ctx->mainzisegred_small_100604_runs = 0;
    ctx->mainzisegred_small_101693_total_runtime = 0;
    ctx->mainzisegred_small_101693_runs = 0;
    ctx->mainzisegred_small_101792_total_runtime = 0;
    ctx->mainzisegred_small_101792_runs = 0;
    ctx->mainzisegred_small_99496_total_runtime = 0;
    ctx->mainzisegred_small_99496_runs = 0;
    ctx->mainzisegred_small_99546_total_runtime = 0;
    ctx->mainzisegred_small_99546_runs = 0;
}
static int init_context_late(struct futhark_context_config *cfg,
                             struct futhark_context *ctx, cl_program prog)
{
    cl_int error;
    cl_int no_error = -1;
    
    ctx->global_failure = clCreateBuffer(ctx->opencl.ctx, CL_MEM_READ_WRITE |
                                         CL_MEM_COPY_HOST_PTR, sizeof(cl_int),
                                         &no_error, &error);
    OPENCL_SUCCEED_OR_RETURN(error);
    // The +1 is to avoid zero-byte allocations.
    ctx->global_failure_args = clCreateBuffer(ctx->opencl.ctx,
                                              CL_MEM_READ_WRITE,
                                              sizeof(int64_t) * (2 + 1), NULL,
                                              &error);
    OPENCL_SUCCEED_OR_RETURN(error);
    {
        ctx->builtinzhreplicate_f64zireplicate_105329 = clCreateKernel(prog,
                                                                       "builtinzhreplicate_f64zireplicate_105329",
                                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "builtin#replicate_f64.replicate_105329");
    }
    {
        ctx->builtinzhreplicate_i64zireplicate_105407 = clCreateKernel(prog,
                                                                       "builtinzhreplicate_i64zireplicate_105407",
                                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "builtin#replicate_i64.replicate_105407");
    }
    {
        ctx->mainziscan_stage1_100305 = clCreateKernel(prog,
                                                       "mainziscan_stage1_100305",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_100305, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.scan_stage1_100305");
    }
    {
        ctx->mainziscan_stage1_101462 = clCreateKernel(prog,
                                                       "mainziscan_stage1_101462",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_101462, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.scan_stage1_101462");
    }
    {
        ctx->mainziscan_stage1_94761 = clCreateKernel(prog,
                                                      "mainziscan_stage1_94761",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_94761, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage1_94761");
    }
    {
        ctx->mainziscan_stage1_95434 = clCreateKernel(prog,
                                                      "mainziscan_stage1_95434",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_95434, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage1_95434");
    }
    {
        ctx->mainziscan_stage1_96169 = clCreateKernel(prog,
                                                      "mainziscan_stage1_96169",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_96169, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage1_96169");
    }
    {
        ctx->mainziscan_stage1_96870 = clCreateKernel(prog,
                                                      "mainziscan_stage1_96870",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_96870, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage1_96870");
    }
    {
        ctx->mainziscan_stage1_97537 = clCreateKernel(prog,
                                                      "mainziscan_stage1_97537",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_97537, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage1_97537");
    }
    {
        ctx->mainziscan_stage1_98294 = clCreateKernel(prog,
                                                      "mainziscan_stage1_98294",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_98294, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage1_98294");
    }
    {
        ctx->mainziscan_stage1_99269 = clCreateKernel(prog,
                                                      "mainziscan_stage1_99269",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage1_99269, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage1_99269");
    }
    {
        ctx->mainziscan_stage2_100305 = clCreateKernel(prog,
                                                       "mainziscan_stage2_100305",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_100305, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.scan_stage2_100305");
    }
    {
        ctx->mainziscan_stage2_101462 = clCreateKernel(prog,
                                                       "mainziscan_stage2_101462",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_101462, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.scan_stage2_101462");
    }
    {
        ctx->mainziscan_stage2_94761 = clCreateKernel(prog,
                                                      "mainziscan_stage2_94761",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_94761, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage2_94761");
    }
    {
        ctx->mainziscan_stage2_95434 = clCreateKernel(prog,
                                                      "mainziscan_stage2_95434",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_95434, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage2_95434");
    }
    {
        ctx->mainziscan_stage2_96169 = clCreateKernel(prog,
                                                      "mainziscan_stage2_96169",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_96169, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage2_96169");
    }
    {
        ctx->mainziscan_stage2_96870 = clCreateKernel(prog,
                                                      "mainziscan_stage2_96870",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_96870, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage2_96870");
    }
    {
        ctx->mainziscan_stage2_97537 = clCreateKernel(prog,
                                                      "mainziscan_stage2_97537",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_97537, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage2_97537");
    }
    {
        ctx->mainziscan_stage2_98294 = clCreateKernel(prog,
                                                      "mainziscan_stage2_98294",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_98294, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage2_98294");
    }
    {
        ctx->mainziscan_stage2_99269 = clCreateKernel(prog,
                                                      "mainziscan_stage2_99269",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage2_99269, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage2_99269");
    }
    {
        ctx->mainziscan_stage3_100305 = clCreateKernel(prog,
                                                       "mainziscan_stage3_100305",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_100305, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.scan_stage3_100305");
    }
    {
        ctx->mainziscan_stage3_101462 = clCreateKernel(prog,
                                                       "mainziscan_stage3_101462",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_101462, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.scan_stage3_101462");
    }
    {
        ctx->mainziscan_stage3_94761 = clCreateKernel(prog,
                                                      "mainziscan_stage3_94761",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_94761, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage3_94761");
    }
    {
        ctx->mainziscan_stage3_95434 = clCreateKernel(prog,
                                                      "mainziscan_stage3_95434",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_95434, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage3_95434");
    }
    {
        ctx->mainziscan_stage3_96169 = clCreateKernel(prog,
                                                      "mainziscan_stage3_96169",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_96169, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage3_96169");
    }
    {
        ctx->mainziscan_stage3_96870 = clCreateKernel(prog,
                                                      "mainziscan_stage3_96870",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_96870, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage3_96870");
    }
    {
        ctx->mainziscan_stage3_97537 = clCreateKernel(prog,
                                                      "mainziscan_stage3_97537",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_97537, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage3_97537");
    }
    {
        ctx->mainziscan_stage3_98294 = clCreateKernel(prog,
                                                      "mainziscan_stage3_98294",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_98294, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage3_98294");
    }
    {
        ctx->mainziscan_stage3_99269 = clCreateKernel(prog,
                                                      "mainziscan_stage3_99269",
                                                      &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainziscan_stage3_99269, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.scan_stage3_99269");
    }
    {
        ctx->mainzisegmap_100358 = clCreateKernel(prog, "mainzisegmap_100358",
                                                  &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_100358, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_100358");
    }
    {
        ctx->mainzisegmap_100377 = clCreateKernel(prog, "mainzisegmap_100377",
                                                  &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_100377, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_100377");
    }
    {
        ctx->mainzisegmap_100389 = clCreateKernel(prog, "mainzisegmap_100389",
                                                  &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_100389, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_100389");
    }
    {
        ctx->mainzisegmap_100409 = clCreateKernel(prog, "mainzisegmap_100409",
                                                  &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_100409, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_100409");
    }
    {
        ctx->mainzisegmap_100428 = clCreateKernel(prog, "mainzisegmap_100428",
                                                  &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_100428, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_100428, 2,
                                            sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_100428");
    }
    {
        ctx->mainzisegmap_100581 = clCreateKernel(prog, "mainzisegmap_100581",
                                                  &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_100581, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_100581");
    }
    {
        ctx->mainzisegmap_101515 = clCreateKernel(prog, "mainzisegmap_101515",
                                                  &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_101515, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_101515");
    }
    {
        ctx->mainzisegmap_101534 = clCreateKernel(prog, "mainzisegmap_101534",
                                                  &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_101534, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_101534");
    }
    {
        ctx->mainzisegmap_101546 = clCreateKernel(prog, "mainzisegmap_101546",
                                                  &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_101546, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_101546");
    }
    {
        ctx->mainzisegmap_101566 = clCreateKernel(prog, "mainzisegmap_101566",
                                                  &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_101566, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_101566");
    }
    {
        ctx->mainzisegmap_101585 = clCreateKernel(prog, "mainzisegmap_101585",
                                                  &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_101585, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_101585, 2,
                                            sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_101585");
    }
    {
        ctx->mainzisegmap_101750 = clCreateKernel(prog, "mainzisegmap_101750",
                                                  &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_101750, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_101750");
    }
    {
        ctx->mainzisegmap_101991 = clCreateKernel(prog, "mainzisegmap_101991",
                                                  &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_101991, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_101991, 2,
                                            sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_101991");
    }
    {
        ctx->mainzisegmap_94814 = clCreateKernel(prog, "mainzisegmap_94814",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_94814, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_94814");
    }
    {
        ctx->mainzisegmap_94833 = clCreateKernel(prog, "mainzisegmap_94833",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_94833, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_94833");
    }
    {
        ctx->mainzisegmap_94845 = clCreateKernel(prog, "mainzisegmap_94845",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_94845, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_94845");
    }
    {
        ctx->mainzisegmap_94865 = clCreateKernel(prog, "mainzisegmap_94865",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_94865, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_94865");
    }
    {
        ctx->mainzisegmap_95487 = clCreateKernel(prog, "mainzisegmap_95487",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_95487, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_95487");
    }
    {
        ctx->mainzisegmap_95506 = clCreateKernel(prog, "mainzisegmap_95506",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_95506, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_95506");
    }
    {
        ctx->mainzisegmap_95518 = clCreateKernel(prog, "mainzisegmap_95518",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_95518, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_95518");
    }
    {
        ctx->mainzisegmap_95538 = clCreateKernel(prog, "mainzisegmap_95538",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_95538, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_95538");
    }
    {
        ctx->mainzisegmap_96222 = clCreateKernel(prog, "mainzisegmap_96222",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_96222, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_96222");
    }
    {
        ctx->mainzisegmap_96241 = clCreateKernel(prog, "mainzisegmap_96241",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_96241, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_96241");
    }
    {
        ctx->mainzisegmap_96253 = clCreateKernel(prog, "mainzisegmap_96253",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_96253, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_96253");
    }
    {
        ctx->mainzisegmap_96273 = clCreateKernel(prog, "mainzisegmap_96273",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_96273, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_96273");
    }
    {
        ctx->mainzisegmap_96923 = clCreateKernel(prog, "mainzisegmap_96923",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_96923, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_96923");
    }
    {
        ctx->mainzisegmap_96942 = clCreateKernel(prog, "mainzisegmap_96942",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_96942, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_96942");
    }
    {
        ctx->mainzisegmap_96954 = clCreateKernel(prog, "mainzisegmap_96954",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_96954, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_96954");
    }
    {
        ctx->mainzisegmap_96974 = clCreateKernel(prog, "mainzisegmap_96974",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_96974, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_96974");
    }
    {
        ctx->mainzisegmap_97590 = clCreateKernel(prog, "mainzisegmap_97590",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_97590, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_97590");
    }
    {
        ctx->mainzisegmap_97609 = clCreateKernel(prog, "mainzisegmap_97609",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_97609, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_97609");
    }
    {
        ctx->mainzisegmap_97621 = clCreateKernel(prog, "mainzisegmap_97621",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_97621, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_97621");
    }
    {
        ctx->mainzisegmap_97641 = clCreateKernel(prog, "mainzisegmap_97641",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_97641, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_97641");
    }
    {
        ctx->mainzisegmap_98347 = clCreateKernel(prog, "mainzisegmap_98347",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_98347, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_98347");
    }
    {
        ctx->mainzisegmap_98366 = clCreateKernel(prog, "mainzisegmap_98366",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_98366, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_98366");
    }
    {
        ctx->mainzisegmap_98378 = clCreateKernel(prog, "mainzisegmap_98378",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_98378, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_98378");
    }
    {
        ctx->mainzisegmap_98398 = clCreateKernel(prog, "mainzisegmap_98398",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_98398, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_98398");
    }
    {
        ctx->mainzisegmap_99322 = clCreateKernel(prog, "mainzisegmap_99322",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_99322, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_99322");
    }
    {
        ctx->mainzisegmap_99341 = clCreateKernel(prog, "mainzisegmap_99341",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_99341, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_99341");
    }
    {
        ctx->mainzisegmap_99353 = clCreateKernel(prog, "mainzisegmap_99353",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_99353, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_99353");
    }
    {
        ctx->mainzisegmap_99373 = clCreateKernel(prog, "mainzisegmap_99373",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_99373, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_99373");
    }
    {
        ctx->mainzisegmap_99392 = clCreateKernel(prog, "mainzisegmap_99392",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_99392, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_99392, 2,
                                            sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_99392");
    }
    {
        ctx->mainzisegmap_99533 = clCreateKernel(prog, "mainzisegmap_99533",
                                                 &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_99533, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "main.segmap_99533");
    }
    {
        ctx->mainzisegmap_intragroup_102215 = clCreateKernel(prog,
                                                             "mainzisegmap_intragroup_102215",
                                                             &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                            0, sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                            2, sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segmap_intragroup_102215");
    }
    {
        ctx->mainzisegmap_intragroup_102769 = clCreateKernel(prog,
                                                             "mainzisegmap_intragroup_102769",
                                                             &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                            0, sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                            2, sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segmap_intragroup_102769");
    }
    {
        ctx->mainzisegmap_intragroup_103440 = clCreateKernel(prog,
                                                             "mainzisegmap_intragroup_103440",
                                                             &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                            0, sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                            2, sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segmap_intragroup_103440");
    }
    {
        ctx->mainzisegmap_intragroup_96990 = clCreateKernel(prog,
                                                            "mainzisegmap_intragroup_96990",
                                                            &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                            0, sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                            2, sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segmap_intragroup_96990");
    }
    {
        ctx->mainzisegmap_intragroup_97658 = clCreateKernel(prog,
                                                            "mainzisegmap_intragroup_97658",
                                                            &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                            0, sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                            2, sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segmap_intragroup_97658");
    }
    {
        ctx->mainzisegmap_intragroup_98415 = clCreateKernel(prog,
                                                            "mainzisegmap_intragroup_98415",
                                                            &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                            0, sizeof(cl_mem),
                                            &ctx->global_failure));
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                            2, sizeof(cl_mem),
                                            &ctx->global_failure_args));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segmap_intragroup_98415");
    }
    {
        ctx->mainzisegred_large_100534 = clCreateKernel(prog,
                                                        "mainzisegred_large_100534",
                                                        &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_large_100534, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_large_100534");
    }
    {
        ctx->mainzisegred_large_100604 = clCreateKernel(prog,
                                                        "mainzisegred_large_100604",
                                                        &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_large_100604, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_large_100604");
    }
    {
        ctx->mainzisegred_large_101693 = clCreateKernel(prog,
                                                        "mainzisegred_large_101693",
                                                        &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_large_101693, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_large_101693");
    }
    {
        ctx->mainzisegred_large_101792 = clCreateKernel(prog,
                                                        "mainzisegred_large_101792",
                                                        &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_large_101792, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_large_101792");
    }
    {
        ctx->mainzisegred_large_99496 = clCreateKernel(prog,
                                                       "mainzisegred_large_99496",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_large_99496, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_large_99496");
    }
    {
        ctx->mainzisegred_large_99546 = clCreateKernel(prog,
                                                       "mainzisegred_large_99546",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_large_99546, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_large_99546");
    }
    {
        ctx->mainzisegred_small_100534 = clCreateKernel(prog,
                                                        "mainzisegred_small_100534",
                                                        &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_small_100534, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_small_100534");
    }
    {
        ctx->mainzisegred_small_100604 = clCreateKernel(prog,
                                                        "mainzisegred_small_100604",
                                                        &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_small_100604, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_small_100604");
    }
    {
        ctx->mainzisegred_small_101693 = clCreateKernel(prog,
                                                        "mainzisegred_small_101693",
                                                        &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_small_101693, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_small_101693");
    }
    {
        ctx->mainzisegred_small_101792 = clCreateKernel(prog,
                                                        "mainzisegred_small_101792",
                                                        &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_small_101792, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_small_101792");
    }
    {
        ctx->mainzisegred_small_99496 = clCreateKernel(prog,
                                                       "mainzisegred_small_99496",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_small_99496, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_small_99496");
    }
    {
        ctx->mainzisegred_small_99546 = clCreateKernel(prog,
                                                       "mainzisegred_small_99546",
                                                       &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->mainzisegred_small_99546, 0,
                                            sizeof(cl_mem),
                                            &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n",
                    "main.segred_small_99546");
    }
    {
        cl_int success;
        
        ctx->mainzicounter_mem_106386.references = NULL;
        ctx->mainzicounter_mem_106386.size = 0;
        ctx->mainzicounter_mem_106386.mem = clCreateBuffer(ctx->opencl.ctx,
                                                           CL_MEM_READ_WRITE,
                                                           (10240 >
                                                            0 ? 10240 : 1) *
                                                           sizeof(int32_t),
                                                           NULL, &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                          ctx->mainzicounter_mem_106386.mem,
                                                          CL_TRUE, 0, 10240 *
                                                          sizeof(int32_t),
                                                          mainzicounter_mem_realtype_107477,
                                                          0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->mainzicounter_mem_106469.references = NULL;
        ctx->mainzicounter_mem_106469.size = 0;
        ctx->mainzicounter_mem_106469.mem = clCreateBuffer(ctx->opencl.ctx,
                                                           CL_MEM_READ_WRITE,
                                                           (10240 >
                                                            0 ? 10240 : 1) *
                                                           sizeof(int32_t),
                                                           NULL, &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                          ctx->mainzicounter_mem_106469.mem,
                                                          CL_TRUE, 0, 10240 *
                                                          sizeof(int32_t),
                                                          mainzicounter_mem_realtype_107493,
                                                          0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->mainzicounter_mem_106679.references = NULL;
        ctx->mainzicounter_mem_106679.size = 0;
        ctx->mainzicounter_mem_106679.mem = clCreateBuffer(ctx->opencl.ctx,
                                                           CL_MEM_READ_WRITE,
                                                           (10240 >
                                                            0 ? 10240 : 1) *
                                                           sizeof(int32_t),
                                                           NULL, &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                          ctx->mainzicounter_mem_106679.mem,
                                                          CL_TRUE, 0, 10240 *
                                                          sizeof(int32_t),
                                                          mainzicounter_mem_realtype_107544,
                                                          0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->mainzicounter_mem_106782.references = NULL;
        ctx->mainzicounter_mem_106782.size = 0;
        ctx->mainzicounter_mem_106782.mem = clCreateBuffer(ctx->opencl.ctx,
                                                           CL_MEM_READ_WRITE,
                                                           (10240 >
                                                            0 ? 10240 : 1) *
                                                           sizeof(int32_t),
                                                           NULL, &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                          ctx->mainzicounter_mem_106782.mem,
                                                          CL_TRUE, 0, 10240 *
                                                          sizeof(int32_t),
                                                          mainzicounter_mem_realtype_107560,
                                                          0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->mainzicounter_mem_107014.references = NULL;
        ctx->mainzicounter_mem_107014.size = 0;
        ctx->mainzicounter_mem_107014.mem = clCreateBuffer(ctx->opencl.ctx,
                                                           CL_MEM_READ_WRITE,
                                                           (10240 >
                                                            0 ? 10240 : 1) *
                                                           sizeof(int32_t),
                                                           NULL, &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                          ctx->mainzicounter_mem_107014.mem,
                                                          CL_TRUE, 0, 10240 *
                                                          sizeof(int32_t),
                                                          mainzicounter_mem_realtype_107611,
                                                          0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->mainzicounter_mem_107129.references = NULL;
        ctx->mainzicounter_mem_107129.size = 0;
        ctx->mainzicounter_mem_107129.mem = clCreateBuffer(ctx->opencl.ctx,
                                                           CL_MEM_READ_WRITE,
                                                           (10240 >
                                                            0 ? 10240 : 1) *
                                                           sizeof(int32_t),
                                                           NULL, &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                          ctx->mainzicounter_mem_107129.mem,
                                                          CL_TRUE, 0, 10240 *
                                                          sizeof(int32_t),
                                                          mainzicounter_mem_realtype_107627,
                                                          0, NULL, NULL));
    }
    ctx->tuning_params.builtinzhreplicate_f64zigroup_sizze_105332 =
        &cfg->tuning_params[0];
    ctx->tuning_params.builtinzhreplicate_i64zigroup_sizze_105410 =
        &cfg->tuning_params[1];
    ctx->tuning_params.mainzisegmap_group_sizze_100116 = &cfg->tuning_params[2];
    ctx->tuning_params.mainzisegmap_group_sizze_100141 = &cfg->tuning_params[3];
    ctx->tuning_params.mainzisegmap_group_sizze_100167 = &cfg->tuning_params[4];
    ctx->tuning_params.mainzisegmap_group_sizze_100193 = &cfg->tuning_params[5];
    ctx->tuning_params.mainzisegmap_group_sizze_100782 = &cfg->tuning_params[6];
    ctx->tuning_params.mainzisegmap_group_sizze_100884 = &cfg->tuning_params[7];
    ctx->tuning_params.mainzisegmap_group_sizze_101273 = &cfg->tuning_params[8];
    ctx->tuning_params.mainzisegmap_group_sizze_101298 = &cfg->tuning_params[9];
    ctx->tuning_params.mainzisegmap_group_sizze_101324 =
        &cfg->tuning_params[10];
    ctx->tuning_params.mainzisegmap_group_sizze_101350 =
        &cfg->tuning_params[11];
    ctx->tuning_params.mainzisegmap_group_sizze_101868 =
        &cfg->tuning_params[12];
    ctx->tuning_params.mainzisegmap_group_sizze_94572 = &cfg->tuning_params[13];
    ctx->tuning_params.mainzisegmap_group_sizze_94597 = &cfg->tuning_params[14];
    ctx->tuning_params.mainzisegmap_group_sizze_94623 = &cfg->tuning_params[15];
    ctx->tuning_params.mainzisegmap_group_sizze_94649 = &cfg->tuning_params[16];
    ctx->tuning_params.mainzisegmap_group_sizze_95245 = &cfg->tuning_params[17];
    ctx->tuning_params.mainzisegmap_group_sizze_95270 = &cfg->tuning_params[18];
    ctx->tuning_params.mainzisegmap_group_sizze_95296 = &cfg->tuning_params[19];
    ctx->tuning_params.mainzisegmap_group_sizze_95322 = &cfg->tuning_params[20];
    ctx->tuning_params.mainzisegmap_group_sizze_95980 = &cfg->tuning_params[21];
    ctx->tuning_params.mainzisegmap_group_sizze_96005 = &cfg->tuning_params[22];
    ctx->tuning_params.mainzisegmap_group_sizze_96031 = &cfg->tuning_params[23];
    ctx->tuning_params.mainzisegmap_group_sizze_96057 = &cfg->tuning_params[24];
    ctx->tuning_params.mainzisegmap_group_sizze_96681 = &cfg->tuning_params[25];
    ctx->tuning_params.mainzisegmap_group_sizze_96706 = &cfg->tuning_params[26];
    ctx->tuning_params.mainzisegmap_group_sizze_96732 = &cfg->tuning_params[27];
    ctx->tuning_params.mainzisegmap_group_sizze_96758 = &cfg->tuning_params[28];
    ctx->tuning_params.mainzisegmap_group_sizze_97348 = &cfg->tuning_params[29];
    ctx->tuning_params.mainzisegmap_group_sizze_97373 = &cfg->tuning_params[30];
    ctx->tuning_params.mainzisegmap_group_sizze_97399 = &cfg->tuning_params[31];
    ctx->tuning_params.mainzisegmap_group_sizze_97425 = &cfg->tuning_params[32];
    ctx->tuning_params.mainzisegmap_group_sizze_98105 = &cfg->tuning_params[33];
    ctx->tuning_params.mainzisegmap_group_sizze_98130 = &cfg->tuning_params[34];
    ctx->tuning_params.mainzisegmap_group_sizze_98156 = &cfg->tuning_params[35];
    ctx->tuning_params.mainzisegmap_group_sizze_98182 = &cfg->tuning_params[36];
    ctx->tuning_params.mainzisegmap_group_sizze_98709 = &cfg->tuning_params[37];
    ctx->tuning_params.mainzisegmap_group_sizze_98767 = &cfg->tuning_params[38];
    ctx->tuning_params.mainzisegmap_group_sizze_99080 = &cfg->tuning_params[39];
    ctx->tuning_params.mainzisegmap_group_sizze_99105 = &cfg->tuning_params[40];
    ctx->tuning_params.mainzisegmap_group_sizze_99131 = &cfg->tuning_params[41];
    ctx->tuning_params.mainzisegmap_group_sizze_99157 = &cfg->tuning_params[42];
    ctx->tuning_params.mainzisegmap_group_sizze_99692 = &cfg->tuning_params[43];
    ctx->tuning_params.mainzisegmap_group_sizze_99767 = &cfg->tuning_params[44];
    ctx->tuning_params.mainzisegred_group_sizze_100696 =
        &cfg->tuning_params[45];
    ctx->tuning_params.mainzisegred_group_sizze_100823 =
        &cfg->tuning_params[46];
    ctx->tuning_params.mainzisegred_group_sizze_98654 = &cfg->tuning_params[47];
    ctx->tuning_params.mainzisegred_group_sizze_98722 = &cfg->tuning_params[48];
    ctx->tuning_params.mainzisegred_group_sizze_99619 = &cfg->tuning_params[49];
    ctx->tuning_params.mainzisegred_group_sizze_99714 = &cfg->tuning_params[50];
    ctx->tuning_params.mainzisegred_num_groups_100698 = &cfg->tuning_params[51];
    ctx->tuning_params.mainzisegred_num_groups_100825 = &cfg->tuning_params[52];
    ctx->tuning_params.mainzisegred_num_groups_98656 = &cfg->tuning_params[53];
    ctx->tuning_params.mainzisegred_num_groups_98724 = &cfg->tuning_params[54];
    ctx->tuning_params.mainzisegred_num_groups_99621 = &cfg->tuning_params[55];
    ctx->tuning_params.mainzisegred_num_groups_99716 = &cfg->tuning_params[56];
    ctx->tuning_params.mainzisegscan_group_sizze_100279 =
        &cfg->tuning_params[57];
    ctx->tuning_params.mainzisegscan_group_sizze_101436 =
        &cfg->tuning_params[58];
    ctx->tuning_params.mainzisegscan_group_sizze_94735 =
        &cfg->tuning_params[59];
    ctx->tuning_params.mainzisegscan_group_sizze_95408 =
        &cfg->tuning_params[60];
    ctx->tuning_params.mainzisegscan_group_sizze_96143 =
        &cfg->tuning_params[61];
    ctx->tuning_params.mainzisegscan_group_sizze_96844 =
        &cfg->tuning_params[62];
    ctx->tuning_params.mainzisegscan_group_sizze_97511 =
        &cfg->tuning_params[63];
    ctx->tuning_params.mainzisegscan_group_sizze_98268 =
        &cfg->tuning_params[64];
    ctx->tuning_params.mainzisegscan_group_sizze_99243 =
        &cfg->tuning_params[65];
    ctx->tuning_params.mainzisegscan_num_groups_100281 =
        &cfg->tuning_params[66];
    ctx->tuning_params.mainzisegscan_num_groups_101438 =
        &cfg->tuning_params[67];
    ctx->tuning_params.mainzisegscan_num_groups_94737 = &cfg->tuning_params[68];
    ctx->tuning_params.mainzisegscan_num_groups_95410 = &cfg->tuning_params[69];
    ctx->tuning_params.mainzisegscan_num_groups_96145 = &cfg->tuning_params[70];
    ctx->tuning_params.mainzisegscan_num_groups_96846 = &cfg->tuning_params[71];
    ctx->tuning_params.mainzisegscan_num_groups_97513 = &cfg->tuning_params[72];
    ctx->tuning_params.mainzisegscan_num_groups_98270 = &cfg->tuning_params[73];
    ctx->tuning_params.mainzisegscan_num_groups_99245 = &cfg->tuning_params[74];
    ctx->tuning_params.mainzitile_sizze_102209 = &cfg->tuning_params[75];
    ctx->tuning_params.mainzitile_sizze_102763 = &cfg->tuning_params[76];
    ctx->tuning_params.mainzitile_sizze_103434 = &cfg->tuning_params[77];
    init_constants(ctx);
    // Clear the free list of any deallocations that occurred while initialising constants.
    OPENCL_SUCCEED_OR_RETURN(opencl_free_all(&ctx->opencl));
    // The program will be properly freed after all the kernels have also been freed.
    OPENCL_SUCCEED_OR_RETURN(clReleaseProgram(prog));
    return futhark_context_sync(ctx);
}
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg)
{
    assert(!cfg->in_use);
    
    struct futhark_context *ctx =
                           (struct futhark_context *) malloc(sizeof(struct futhark_context));
    
    if (ctx == NULL)
        return NULL;
    ctx->cfg = cfg;
    ctx->cfg->in_use = 1;
    
    int required_types = 0;
    
    required_types |= OPENCL_F64;
    init_context_early(cfg, ctx);
    
    cl_program prog = setup_opencl(&ctx->opencl, opencl_program, required_types,
                                   cfg->build_opts);
    
    init_context_late(cfg, ctx, prog);
    return ctx;
}
struct futhark_context *futhark_context_new_with_command_queue(struct futhark_context_config *cfg,
                                                               cl_command_queue queue)
{
    assert(!cfg->in_use);
    
    struct futhark_context *ctx =
                           (struct futhark_context *) malloc(sizeof(struct futhark_context));
    
    if (ctx == NULL)
        return NULL;
    ctx->cfg = cfg;
    ctx->cfg->in_use = 1;
    
    int required_types = 0;
    
    required_types |= OPENCL_F64;
    init_context_early(cfg, ctx);
    
    cl_program prog = setup_opencl_with_command_queue(&ctx->opencl, queue,
                                                      opencl_program,
                                                      required_types,
                                                      cfg->build_opts);
    
    init_context_late(cfg, ctx, prog);
    return ctx;
}
void futhark_context_free(struct futhark_context *ctx)
{
    free_constants(ctx);
    free_lock(&ctx->lock);
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->builtinzhreplicate_f64zireplicate_105329));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->builtinzhreplicate_i64zireplicate_105407));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_100305));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_101462));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_94761));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_95434));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_96169));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_96870));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_97537));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_98294));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage1_99269));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_100305));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_101462));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_94761));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_95434));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_96169));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_96870));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_97537));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_98294));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage2_99269));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_100305));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_101462));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_94761));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_95434));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_96169));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_96870));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_97537));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_98294));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainziscan_stage3_99269));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_100358));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_100377));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_100389));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_100409));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_100428));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_100581));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_101515));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_101534));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_101546));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_101566));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_101585));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_101750));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_101991));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_94814));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_94833));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_94845));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_94865));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_95487));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_95506));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_95518));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_95538));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_96222));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_96241));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_96253));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_96273));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_96923));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_96942));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_96954));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_96974));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_97590));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_97609));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_97621));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_97641));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_98347));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_98366));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_98378));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_98398));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_99322));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_99341));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_99353));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_99373));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_99392));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_99533));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_intragroup_102215));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_intragroup_102769));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_intragroup_103440));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_intragroup_96990));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_intragroup_97658));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegmap_intragroup_98415));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_large_100534));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_large_100604));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_large_101693));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_large_101792));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_large_99496));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_large_99546));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_small_100534));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_small_100604));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_small_101693));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_small_101792));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_small_99496));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->mainzisegred_small_99546));
    teardown_opencl(&ctx->opencl);
    ctx->cfg->in_use = 0;
    free(ctx);
}
int futhark_context_sync(struct futhark_context *ctx)
{
    cl_int failure_idx = -1;
    
    if (ctx->failure_is_an_option) {
        OPENCL_SUCCEED_OR_RETURN(clEnqueueReadBuffer(ctx->opencl.queue,
                                                     ctx->global_failure,
                                                     CL_FALSE, 0,
                                                     sizeof(cl_int),
                                                     &failure_idx, 0, NULL,
                                                     ctx->profiling_paused ||
                                                     !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                               &ctx->copy_scalar_from_dev_runs,
                                                                                               &ctx->copy_scalar_from_dev_total_runtime)));
        ctx->failure_is_an_option = 0;
    }
    OPENCL_SUCCEED_OR_RETURN(clFinish(ctx->opencl.queue));
    if (failure_idx >= 0) {
        cl_int no_failure = -1;
        
        OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                      ctx->global_failure,
                                                      CL_TRUE, 0,
                                                      sizeof(cl_int),
                                                      &no_failure, 0, NULL,
                                                      NULL));
        
        int64_t args[2 + 1];
        
        OPENCL_SUCCEED_OR_RETURN(clEnqueueReadBuffer(ctx->opencl.queue,
                                                     ctx->global_failure_args,
                                                     CL_TRUE, 0, sizeof(args),
                                                     &args, 0, NULL,
                                                     ctx->profiling_paused ||
                                                     !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                               &ctx->copy_dev_to_host_runs,
                                                                                               &ctx->copy_dev_to_host_total_runtime)));
        switch (failure_idx) {
            
          case 0:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:627:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 1:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:637:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 2:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:638:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 3:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:662:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 4:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:661:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 5:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:627:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 6:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:637:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 7:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:638:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 8:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:662:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 9:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:661:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 10:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:627:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 11:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:637:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 12:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:638:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 13:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:662:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 14:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:661:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 15:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:627:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 16:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:637:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 17:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:638:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 18:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:662:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 19:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:661:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 20:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:627:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 21:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:637:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 22:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:638:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 23:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:662:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 24:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:661:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 25:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:627:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 26:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:637:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 27:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:638:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 28:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:662:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 29:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:661:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 30:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:627:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 31:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:637:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 32:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:638:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 33:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:662:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 34:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:661:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 35:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:627:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 36:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:637:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 37:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:638:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 38:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:662:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 39:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:661:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 40:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:627:26-36\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 41:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:637:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 42:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:638:35-48\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:620:3-647:10\n   #5  loess.fut:680:15-61\n   #6  loess.fut:769:13-56\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:768:5-770:26\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 43:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:662:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 44:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:661:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:657:3-665:25\n   #4  loess.fut:681:16-51\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 45:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:713:27-33\n   #1  loess.fut:726:13-50\n   #2  /prelude/soacs.fut:59:3-10\n   #3  /prelude/array.fut:195:3-17\n   #4  utils.fut:6:3-16\n   #5  loess.fut:723:3-727:9\n   #6  loess.fut:790:13-59\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:789:5-791:29\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
            
          case 46:
            {
                ctx->error =
                    msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  loess.fut:714:27-37\n   #1  loess.fut:726:13-50\n   #2  /prelude/soacs.fut:59:3-10\n   #3  /prelude/array.fut:195:3-17\n   #4  utils.fut:6:3-16\n   #5  loess.fut:723:3-727:9\n   #6  loess.fut:790:13-59\n   #7  /prelude/soacs.fut:67:19-23\n   #8  /prelude/soacs.fut:67:3-37\n   #9  loess.fut:789:5-791:29\n   #10 loess.fut:750:1-793:26\n",
                              args[0], args[1]);
                break;
            }
        }
        return 1;
    }
    return 0;
}
cl_command_queue futhark_context_get_command_queue(struct futhark_context *ctx)
{
    return ctx->opencl.queue;
}
static int memblock_unref_device(struct futhark_context *ctx,
                                 struct memblock_device *block, const
                                 char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log,
                    "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n",
                    desc, block->desc, "space 'device'", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_device -= block->size;
            OPENCL_SUCCEED_OR_RETURN(opencl_free(&ctx->opencl, block->mem,
                                                 desc));
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log,
                        "%lld bytes freed (now allocated: %lld bytes)\n",
                        (long long) block->size,
                        (long long) ctx->cur_mem_usage_device);
        }
        block->references = NULL;
    }
    return 0;
}
static int memblock_alloc_device(struct futhark_context *ctx,
                                 struct memblock_device *block, int64_t size,
                                 const char *desc)
{
    if (size < 0)
        futhark_panic(1,
                      "Negative allocation of %lld bytes attempted for %s in %s.\n",
                      (long long) size, desc, "space 'device'",
                      ctx->cur_mem_usage_device);
    
    int ret = memblock_unref_device(ctx, block, desc);
    
    ctx->cur_mem_usage_device += size;
    if (ctx->detail_memory)
        fprintf(ctx->log,
                "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)",
                (long long) size, desc, "space 'device'",
                (long long) ctx->cur_mem_usage_device);
    if (ctx->cur_mem_usage_device > ctx->peak_mem_usage_device) {
        ctx->peak_mem_usage_device = ctx->cur_mem_usage_device;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    OPENCL_SUCCEED_OR_RETURN(opencl_alloc(&ctx->opencl, (size_t) size, desc,
                                          &block->mem));
    block->references = (int *) malloc(sizeof(int));
    *block->references = 1;
    block->size = size;
    block->desc = desc;
    return ret;
}
static int memblock_set_device(struct futhark_context *ctx,
                               struct memblock_device *lhs,
                               struct memblock_device *rhs, const
                               char *lhs_desc)
{
    int ret = memblock_unref_device(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
static int memblock_unref(struct futhark_context *ctx, struct memblock *block,
                          const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log,
                    "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n",
                    desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            free(block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log,
                        "%lld bytes freed (now allocated: %lld bytes)\n",
                        (long long) block->size,
                        (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
static int memblock_alloc(struct futhark_context *ctx, struct memblock *block,
                          int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1,
                      "Negative allocation of %lld bytes attempted for %s in %s.\n",
                      (long long) size, desc, "default space",
                      ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    ctx->cur_mem_usage_default += size;
    if (ctx->detail_memory)
        fprintf(ctx->log,
                "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)",
                (long long) size, desc, "default space",
                (long long) ctx->cur_mem_usage_default);
    if (ctx->cur_mem_usage_default > ctx->peak_mem_usage_default) {
        ctx->peak_mem_usage_default = ctx->cur_mem_usage_default;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    block->mem = (unsigned char *) malloc((size_t) size);
    block->references = (int *) malloc(sizeof(int));
    *block->references = 1;
    block->size = size;
    block->desc = desc;
    return ret;
}
static int memblock_set(struct futhark_context *ctx, struct memblock *lhs,
                        struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
int futhark_get_tuning_param_count(void)
{
    return sizeof(tuning_param_names) / sizeof(tuning_param_names[0]);
}
const char *futhark_get_tuning_param_name(int i)
{
    return tuning_param_names[i];
}
const char *futhark_get_tuning_param_class(int i)
{
    return tuning_param_classes[i];
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    if (ctx->detail_memory || ctx->profiling || ctx->logging) {
        str_builder(&builder,
                    "Peak memory usage for space 'device': %lld bytes.\n",
                    (long long) ctx->peak_mem_usage_device);
        { }
    }
    if (ctx->profiling) {
        OPENCL_SUCCEED_FATAL(opencl_tally_profiling_records(&ctx->opencl));
        str_builder(&builder,
                    "copy_dev_to_dev                        ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->copy_dev_to_dev_runs,
                    (long) ctx->copy_dev_to_dev_total_runtime /
                    (ctx->copy_dev_to_dev_runs !=
                     0 ? ctx->copy_dev_to_dev_runs : 1),
                    (long) ctx->copy_dev_to_dev_total_runtime);
        ctx->total_runtime += ctx->copy_dev_to_dev_total_runtime;
        ctx->total_runs += ctx->copy_dev_to_dev_runs;
        str_builder(&builder,
                    "copy_dev_to_host                       ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->copy_dev_to_host_runs,
                    (long) ctx->copy_dev_to_host_total_runtime /
                    (ctx->copy_dev_to_host_runs !=
                     0 ? ctx->copy_dev_to_host_runs : 1),
                    (long) ctx->copy_dev_to_host_total_runtime);
        ctx->total_runtime += ctx->copy_dev_to_host_total_runtime;
        ctx->total_runs += ctx->copy_dev_to_host_runs;
        str_builder(&builder,
                    "copy_host_to_dev                       ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->copy_host_to_dev_runs,
                    (long) ctx->copy_host_to_dev_total_runtime /
                    (ctx->copy_host_to_dev_runs !=
                     0 ? ctx->copy_host_to_dev_runs : 1),
                    (long) ctx->copy_host_to_dev_total_runtime);
        ctx->total_runtime += ctx->copy_host_to_dev_total_runtime;
        ctx->total_runs += ctx->copy_host_to_dev_runs;
        str_builder(&builder,
                    "copy_scalar_to_dev                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->copy_scalar_to_dev_runs,
                    (long) ctx->copy_scalar_to_dev_total_runtime /
                    (ctx->copy_scalar_to_dev_runs !=
                     0 ? ctx->copy_scalar_to_dev_runs : 1),
                    (long) ctx->copy_scalar_to_dev_total_runtime);
        ctx->total_runtime += ctx->copy_scalar_to_dev_total_runtime;
        ctx->total_runs += ctx->copy_scalar_to_dev_runs;
        str_builder(&builder,
                    "copy_scalar_from_dev                   ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->copy_scalar_from_dev_runs,
                    (long) ctx->copy_scalar_from_dev_total_runtime /
                    (ctx->copy_scalar_from_dev_runs !=
                     0 ? ctx->copy_scalar_from_dev_runs : 1),
                    (long) ctx->copy_scalar_from_dev_total_runtime);
        ctx->total_runtime += ctx->copy_scalar_from_dev_total_runtime;
        ctx->total_runs += ctx->copy_scalar_from_dev_runs;
        str_builder(&builder,
                    "builtin#replicate_f64.replicate_105329 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->builtinzhreplicate_f64zireplicate_105329_runs,
                    (long) ctx->builtinzhreplicate_f64zireplicate_105329_total_runtime /
                    (ctx->builtinzhreplicate_f64zireplicate_105329_runs !=
                     0 ? ctx->builtinzhreplicate_f64zireplicate_105329_runs : 1),
                    (long) ctx->builtinzhreplicate_f64zireplicate_105329_total_runtime);
        ctx->total_runtime +=
            ctx->builtinzhreplicate_f64zireplicate_105329_total_runtime;
        ctx->total_runs += ctx->builtinzhreplicate_f64zireplicate_105329_runs;
        str_builder(&builder,
                    "builtin#replicate_i64.replicate_105407 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->builtinzhreplicate_i64zireplicate_105407_runs,
                    (long) ctx->builtinzhreplicate_i64zireplicate_105407_total_runtime /
                    (ctx->builtinzhreplicate_i64zireplicate_105407_runs !=
                     0 ? ctx->builtinzhreplicate_i64zireplicate_105407_runs : 1),
                    (long) ctx->builtinzhreplicate_i64zireplicate_105407_total_runtime);
        ctx->total_runtime +=
            ctx->builtinzhreplicate_i64zireplicate_105407_total_runtime;
        ctx->total_runs += ctx->builtinzhreplicate_i64zireplicate_105407_runs;
        str_builder(&builder,
                    "main.scan_stage1_100305                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_100305_runs,
                    (long) ctx->mainziscan_stage1_100305_total_runtime /
                    (ctx->mainziscan_stage1_100305_runs !=
                     0 ? ctx->mainziscan_stage1_100305_runs : 1),
                    (long) ctx->mainziscan_stage1_100305_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_100305_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_100305_runs;
        str_builder(&builder,
                    "main.scan_stage1_101462                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_101462_runs,
                    (long) ctx->mainziscan_stage1_101462_total_runtime /
                    (ctx->mainziscan_stage1_101462_runs !=
                     0 ? ctx->mainziscan_stage1_101462_runs : 1),
                    (long) ctx->mainziscan_stage1_101462_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_101462_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_101462_runs;
        str_builder(&builder,
                    "main.scan_stage1_94761                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_94761_runs,
                    (long) ctx->mainziscan_stage1_94761_total_runtime /
                    (ctx->mainziscan_stage1_94761_runs !=
                     0 ? ctx->mainziscan_stage1_94761_runs : 1),
                    (long) ctx->mainziscan_stage1_94761_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_94761_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_94761_runs;
        str_builder(&builder,
                    "main.scan_stage1_95434                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_95434_runs,
                    (long) ctx->mainziscan_stage1_95434_total_runtime /
                    (ctx->mainziscan_stage1_95434_runs !=
                     0 ? ctx->mainziscan_stage1_95434_runs : 1),
                    (long) ctx->mainziscan_stage1_95434_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_95434_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_95434_runs;
        str_builder(&builder,
                    "main.scan_stage1_96169                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_96169_runs,
                    (long) ctx->mainziscan_stage1_96169_total_runtime /
                    (ctx->mainziscan_stage1_96169_runs !=
                     0 ? ctx->mainziscan_stage1_96169_runs : 1),
                    (long) ctx->mainziscan_stage1_96169_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_96169_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_96169_runs;
        str_builder(&builder,
                    "main.scan_stage1_96870                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_96870_runs,
                    (long) ctx->mainziscan_stage1_96870_total_runtime /
                    (ctx->mainziscan_stage1_96870_runs !=
                     0 ? ctx->mainziscan_stage1_96870_runs : 1),
                    (long) ctx->mainziscan_stage1_96870_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_96870_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_96870_runs;
        str_builder(&builder,
                    "main.scan_stage1_97537                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_97537_runs,
                    (long) ctx->mainziscan_stage1_97537_total_runtime /
                    (ctx->mainziscan_stage1_97537_runs !=
                     0 ? ctx->mainziscan_stage1_97537_runs : 1),
                    (long) ctx->mainziscan_stage1_97537_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_97537_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_97537_runs;
        str_builder(&builder,
                    "main.scan_stage1_98294                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_98294_runs,
                    (long) ctx->mainziscan_stage1_98294_total_runtime /
                    (ctx->mainziscan_stage1_98294_runs !=
                     0 ? ctx->mainziscan_stage1_98294_runs : 1),
                    (long) ctx->mainziscan_stage1_98294_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_98294_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_98294_runs;
        str_builder(&builder,
                    "main.scan_stage1_99269                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage1_99269_runs,
                    (long) ctx->mainziscan_stage1_99269_total_runtime /
                    (ctx->mainziscan_stage1_99269_runs !=
                     0 ? ctx->mainziscan_stage1_99269_runs : 1),
                    (long) ctx->mainziscan_stage1_99269_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage1_99269_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage1_99269_runs;
        str_builder(&builder,
                    "main.scan_stage2_100305                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_100305_runs,
                    (long) ctx->mainziscan_stage2_100305_total_runtime /
                    (ctx->mainziscan_stage2_100305_runs !=
                     0 ? ctx->mainziscan_stage2_100305_runs : 1),
                    (long) ctx->mainziscan_stage2_100305_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_100305_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_100305_runs;
        str_builder(&builder,
                    "main.scan_stage2_101462                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_101462_runs,
                    (long) ctx->mainziscan_stage2_101462_total_runtime /
                    (ctx->mainziscan_stage2_101462_runs !=
                     0 ? ctx->mainziscan_stage2_101462_runs : 1),
                    (long) ctx->mainziscan_stage2_101462_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_101462_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_101462_runs;
        str_builder(&builder,
                    "main.scan_stage2_94761                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_94761_runs,
                    (long) ctx->mainziscan_stage2_94761_total_runtime /
                    (ctx->mainziscan_stage2_94761_runs !=
                     0 ? ctx->mainziscan_stage2_94761_runs : 1),
                    (long) ctx->mainziscan_stage2_94761_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_94761_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_94761_runs;
        str_builder(&builder,
                    "main.scan_stage2_95434                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_95434_runs,
                    (long) ctx->mainziscan_stage2_95434_total_runtime /
                    (ctx->mainziscan_stage2_95434_runs !=
                     0 ? ctx->mainziscan_stage2_95434_runs : 1),
                    (long) ctx->mainziscan_stage2_95434_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_95434_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_95434_runs;
        str_builder(&builder,
                    "main.scan_stage2_96169                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_96169_runs,
                    (long) ctx->mainziscan_stage2_96169_total_runtime /
                    (ctx->mainziscan_stage2_96169_runs !=
                     0 ? ctx->mainziscan_stage2_96169_runs : 1),
                    (long) ctx->mainziscan_stage2_96169_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_96169_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_96169_runs;
        str_builder(&builder,
                    "main.scan_stage2_96870                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_96870_runs,
                    (long) ctx->mainziscan_stage2_96870_total_runtime /
                    (ctx->mainziscan_stage2_96870_runs !=
                     0 ? ctx->mainziscan_stage2_96870_runs : 1),
                    (long) ctx->mainziscan_stage2_96870_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_96870_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_96870_runs;
        str_builder(&builder,
                    "main.scan_stage2_97537                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_97537_runs,
                    (long) ctx->mainziscan_stage2_97537_total_runtime /
                    (ctx->mainziscan_stage2_97537_runs !=
                     0 ? ctx->mainziscan_stage2_97537_runs : 1),
                    (long) ctx->mainziscan_stage2_97537_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_97537_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_97537_runs;
        str_builder(&builder,
                    "main.scan_stage2_98294                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_98294_runs,
                    (long) ctx->mainziscan_stage2_98294_total_runtime /
                    (ctx->mainziscan_stage2_98294_runs !=
                     0 ? ctx->mainziscan_stage2_98294_runs : 1),
                    (long) ctx->mainziscan_stage2_98294_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_98294_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_98294_runs;
        str_builder(&builder,
                    "main.scan_stage2_99269                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage2_99269_runs,
                    (long) ctx->mainziscan_stage2_99269_total_runtime /
                    (ctx->mainziscan_stage2_99269_runs !=
                     0 ? ctx->mainziscan_stage2_99269_runs : 1),
                    (long) ctx->mainziscan_stage2_99269_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage2_99269_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage2_99269_runs;
        str_builder(&builder,
                    "main.scan_stage3_100305                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_100305_runs,
                    (long) ctx->mainziscan_stage3_100305_total_runtime /
                    (ctx->mainziscan_stage3_100305_runs !=
                     0 ? ctx->mainziscan_stage3_100305_runs : 1),
                    (long) ctx->mainziscan_stage3_100305_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_100305_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_100305_runs;
        str_builder(&builder,
                    "main.scan_stage3_101462                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_101462_runs,
                    (long) ctx->mainziscan_stage3_101462_total_runtime /
                    (ctx->mainziscan_stage3_101462_runs !=
                     0 ? ctx->mainziscan_stage3_101462_runs : 1),
                    (long) ctx->mainziscan_stage3_101462_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_101462_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_101462_runs;
        str_builder(&builder,
                    "main.scan_stage3_94761                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_94761_runs,
                    (long) ctx->mainziscan_stage3_94761_total_runtime /
                    (ctx->mainziscan_stage3_94761_runs !=
                     0 ? ctx->mainziscan_stage3_94761_runs : 1),
                    (long) ctx->mainziscan_stage3_94761_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_94761_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_94761_runs;
        str_builder(&builder,
                    "main.scan_stage3_95434                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_95434_runs,
                    (long) ctx->mainziscan_stage3_95434_total_runtime /
                    (ctx->mainziscan_stage3_95434_runs !=
                     0 ? ctx->mainziscan_stage3_95434_runs : 1),
                    (long) ctx->mainziscan_stage3_95434_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_95434_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_95434_runs;
        str_builder(&builder,
                    "main.scan_stage3_96169                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_96169_runs,
                    (long) ctx->mainziscan_stage3_96169_total_runtime /
                    (ctx->mainziscan_stage3_96169_runs !=
                     0 ? ctx->mainziscan_stage3_96169_runs : 1),
                    (long) ctx->mainziscan_stage3_96169_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_96169_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_96169_runs;
        str_builder(&builder,
                    "main.scan_stage3_96870                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_96870_runs,
                    (long) ctx->mainziscan_stage3_96870_total_runtime /
                    (ctx->mainziscan_stage3_96870_runs !=
                     0 ? ctx->mainziscan_stage3_96870_runs : 1),
                    (long) ctx->mainziscan_stage3_96870_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_96870_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_96870_runs;
        str_builder(&builder,
                    "main.scan_stage3_97537                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_97537_runs,
                    (long) ctx->mainziscan_stage3_97537_total_runtime /
                    (ctx->mainziscan_stage3_97537_runs !=
                     0 ? ctx->mainziscan_stage3_97537_runs : 1),
                    (long) ctx->mainziscan_stage3_97537_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_97537_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_97537_runs;
        str_builder(&builder,
                    "main.scan_stage3_98294                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_98294_runs,
                    (long) ctx->mainziscan_stage3_98294_total_runtime /
                    (ctx->mainziscan_stage3_98294_runs !=
                     0 ? ctx->mainziscan_stage3_98294_runs : 1),
                    (long) ctx->mainziscan_stage3_98294_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_98294_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_98294_runs;
        str_builder(&builder,
                    "main.scan_stage3_99269                 ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainziscan_stage3_99269_runs,
                    (long) ctx->mainziscan_stage3_99269_total_runtime /
                    (ctx->mainziscan_stage3_99269_runs !=
                     0 ? ctx->mainziscan_stage3_99269_runs : 1),
                    (long) ctx->mainziscan_stage3_99269_total_runtime);
        ctx->total_runtime += ctx->mainziscan_stage3_99269_total_runtime;
        ctx->total_runs += ctx->mainziscan_stage3_99269_runs;
        str_builder(&builder,
                    "main.segmap_100358                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_100358_runs,
                    (long) ctx->mainzisegmap_100358_total_runtime /
                    (ctx->mainzisegmap_100358_runs !=
                     0 ? ctx->mainzisegmap_100358_runs : 1),
                    (long) ctx->mainzisegmap_100358_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_100358_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_100358_runs;
        str_builder(&builder,
                    "main.segmap_100377                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_100377_runs,
                    (long) ctx->mainzisegmap_100377_total_runtime /
                    (ctx->mainzisegmap_100377_runs !=
                     0 ? ctx->mainzisegmap_100377_runs : 1),
                    (long) ctx->mainzisegmap_100377_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_100377_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_100377_runs;
        str_builder(&builder,
                    "main.segmap_100389                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_100389_runs,
                    (long) ctx->mainzisegmap_100389_total_runtime /
                    (ctx->mainzisegmap_100389_runs !=
                     0 ? ctx->mainzisegmap_100389_runs : 1),
                    (long) ctx->mainzisegmap_100389_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_100389_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_100389_runs;
        str_builder(&builder,
                    "main.segmap_100409                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_100409_runs,
                    (long) ctx->mainzisegmap_100409_total_runtime /
                    (ctx->mainzisegmap_100409_runs !=
                     0 ? ctx->mainzisegmap_100409_runs : 1),
                    (long) ctx->mainzisegmap_100409_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_100409_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_100409_runs;
        str_builder(&builder,
                    "main.segmap_100428                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_100428_runs,
                    (long) ctx->mainzisegmap_100428_total_runtime /
                    (ctx->mainzisegmap_100428_runs !=
                     0 ? ctx->mainzisegmap_100428_runs : 1),
                    (long) ctx->mainzisegmap_100428_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_100428_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_100428_runs;
        str_builder(&builder,
                    "main.segmap_100581                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_100581_runs,
                    (long) ctx->mainzisegmap_100581_total_runtime /
                    (ctx->mainzisegmap_100581_runs !=
                     0 ? ctx->mainzisegmap_100581_runs : 1),
                    (long) ctx->mainzisegmap_100581_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_100581_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_100581_runs;
        str_builder(&builder,
                    "main.segmap_101515                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_101515_runs,
                    (long) ctx->mainzisegmap_101515_total_runtime /
                    (ctx->mainzisegmap_101515_runs !=
                     0 ? ctx->mainzisegmap_101515_runs : 1),
                    (long) ctx->mainzisegmap_101515_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_101515_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_101515_runs;
        str_builder(&builder,
                    "main.segmap_101534                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_101534_runs,
                    (long) ctx->mainzisegmap_101534_total_runtime /
                    (ctx->mainzisegmap_101534_runs !=
                     0 ? ctx->mainzisegmap_101534_runs : 1),
                    (long) ctx->mainzisegmap_101534_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_101534_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_101534_runs;
        str_builder(&builder,
                    "main.segmap_101546                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_101546_runs,
                    (long) ctx->mainzisegmap_101546_total_runtime /
                    (ctx->mainzisegmap_101546_runs !=
                     0 ? ctx->mainzisegmap_101546_runs : 1),
                    (long) ctx->mainzisegmap_101546_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_101546_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_101546_runs;
        str_builder(&builder,
                    "main.segmap_101566                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_101566_runs,
                    (long) ctx->mainzisegmap_101566_total_runtime /
                    (ctx->mainzisegmap_101566_runs !=
                     0 ? ctx->mainzisegmap_101566_runs : 1),
                    (long) ctx->mainzisegmap_101566_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_101566_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_101566_runs;
        str_builder(&builder,
                    "main.segmap_101585                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_101585_runs,
                    (long) ctx->mainzisegmap_101585_total_runtime /
                    (ctx->mainzisegmap_101585_runs !=
                     0 ? ctx->mainzisegmap_101585_runs : 1),
                    (long) ctx->mainzisegmap_101585_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_101585_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_101585_runs;
        str_builder(&builder,
                    "main.segmap_101750                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_101750_runs,
                    (long) ctx->mainzisegmap_101750_total_runtime /
                    (ctx->mainzisegmap_101750_runs !=
                     0 ? ctx->mainzisegmap_101750_runs : 1),
                    (long) ctx->mainzisegmap_101750_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_101750_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_101750_runs;
        str_builder(&builder,
                    "main.segmap_101991                     ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_101991_runs,
                    (long) ctx->mainzisegmap_101991_total_runtime /
                    (ctx->mainzisegmap_101991_runs !=
                     0 ? ctx->mainzisegmap_101991_runs : 1),
                    (long) ctx->mainzisegmap_101991_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_101991_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_101991_runs;
        str_builder(&builder,
                    "main.segmap_94814                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_94814_runs,
                    (long) ctx->mainzisegmap_94814_total_runtime /
                    (ctx->mainzisegmap_94814_runs !=
                     0 ? ctx->mainzisegmap_94814_runs : 1),
                    (long) ctx->mainzisegmap_94814_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_94814_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_94814_runs;
        str_builder(&builder,
                    "main.segmap_94833                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_94833_runs,
                    (long) ctx->mainzisegmap_94833_total_runtime /
                    (ctx->mainzisegmap_94833_runs !=
                     0 ? ctx->mainzisegmap_94833_runs : 1),
                    (long) ctx->mainzisegmap_94833_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_94833_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_94833_runs;
        str_builder(&builder,
                    "main.segmap_94845                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_94845_runs,
                    (long) ctx->mainzisegmap_94845_total_runtime /
                    (ctx->mainzisegmap_94845_runs !=
                     0 ? ctx->mainzisegmap_94845_runs : 1),
                    (long) ctx->mainzisegmap_94845_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_94845_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_94845_runs;
        str_builder(&builder,
                    "main.segmap_94865                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_94865_runs,
                    (long) ctx->mainzisegmap_94865_total_runtime /
                    (ctx->mainzisegmap_94865_runs !=
                     0 ? ctx->mainzisegmap_94865_runs : 1),
                    (long) ctx->mainzisegmap_94865_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_94865_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_94865_runs;
        str_builder(&builder,
                    "main.segmap_95487                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_95487_runs,
                    (long) ctx->mainzisegmap_95487_total_runtime /
                    (ctx->mainzisegmap_95487_runs !=
                     0 ? ctx->mainzisegmap_95487_runs : 1),
                    (long) ctx->mainzisegmap_95487_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_95487_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_95487_runs;
        str_builder(&builder,
                    "main.segmap_95506                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_95506_runs,
                    (long) ctx->mainzisegmap_95506_total_runtime /
                    (ctx->mainzisegmap_95506_runs !=
                     0 ? ctx->mainzisegmap_95506_runs : 1),
                    (long) ctx->mainzisegmap_95506_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_95506_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_95506_runs;
        str_builder(&builder,
                    "main.segmap_95518                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_95518_runs,
                    (long) ctx->mainzisegmap_95518_total_runtime /
                    (ctx->mainzisegmap_95518_runs !=
                     0 ? ctx->mainzisegmap_95518_runs : 1),
                    (long) ctx->mainzisegmap_95518_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_95518_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_95518_runs;
        str_builder(&builder,
                    "main.segmap_95538                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_95538_runs,
                    (long) ctx->mainzisegmap_95538_total_runtime /
                    (ctx->mainzisegmap_95538_runs !=
                     0 ? ctx->mainzisegmap_95538_runs : 1),
                    (long) ctx->mainzisegmap_95538_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_95538_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_95538_runs;
        str_builder(&builder,
                    "main.segmap_96222                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_96222_runs,
                    (long) ctx->mainzisegmap_96222_total_runtime /
                    (ctx->mainzisegmap_96222_runs !=
                     0 ? ctx->mainzisegmap_96222_runs : 1),
                    (long) ctx->mainzisegmap_96222_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_96222_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_96222_runs;
        str_builder(&builder,
                    "main.segmap_96241                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_96241_runs,
                    (long) ctx->mainzisegmap_96241_total_runtime /
                    (ctx->mainzisegmap_96241_runs !=
                     0 ? ctx->mainzisegmap_96241_runs : 1),
                    (long) ctx->mainzisegmap_96241_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_96241_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_96241_runs;
        str_builder(&builder,
                    "main.segmap_96253                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_96253_runs,
                    (long) ctx->mainzisegmap_96253_total_runtime /
                    (ctx->mainzisegmap_96253_runs !=
                     0 ? ctx->mainzisegmap_96253_runs : 1),
                    (long) ctx->mainzisegmap_96253_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_96253_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_96253_runs;
        str_builder(&builder,
                    "main.segmap_96273                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_96273_runs,
                    (long) ctx->mainzisegmap_96273_total_runtime /
                    (ctx->mainzisegmap_96273_runs !=
                     0 ? ctx->mainzisegmap_96273_runs : 1),
                    (long) ctx->mainzisegmap_96273_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_96273_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_96273_runs;
        str_builder(&builder,
                    "main.segmap_96923                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_96923_runs,
                    (long) ctx->mainzisegmap_96923_total_runtime /
                    (ctx->mainzisegmap_96923_runs !=
                     0 ? ctx->mainzisegmap_96923_runs : 1),
                    (long) ctx->mainzisegmap_96923_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_96923_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_96923_runs;
        str_builder(&builder,
                    "main.segmap_96942                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_96942_runs,
                    (long) ctx->mainzisegmap_96942_total_runtime /
                    (ctx->mainzisegmap_96942_runs !=
                     0 ? ctx->mainzisegmap_96942_runs : 1),
                    (long) ctx->mainzisegmap_96942_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_96942_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_96942_runs;
        str_builder(&builder,
                    "main.segmap_96954                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_96954_runs,
                    (long) ctx->mainzisegmap_96954_total_runtime /
                    (ctx->mainzisegmap_96954_runs !=
                     0 ? ctx->mainzisegmap_96954_runs : 1),
                    (long) ctx->mainzisegmap_96954_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_96954_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_96954_runs;
        str_builder(&builder,
                    "main.segmap_96974                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_96974_runs,
                    (long) ctx->mainzisegmap_96974_total_runtime /
                    (ctx->mainzisegmap_96974_runs !=
                     0 ? ctx->mainzisegmap_96974_runs : 1),
                    (long) ctx->mainzisegmap_96974_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_96974_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_96974_runs;
        str_builder(&builder,
                    "main.segmap_97590                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_97590_runs,
                    (long) ctx->mainzisegmap_97590_total_runtime /
                    (ctx->mainzisegmap_97590_runs !=
                     0 ? ctx->mainzisegmap_97590_runs : 1),
                    (long) ctx->mainzisegmap_97590_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_97590_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_97590_runs;
        str_builder(&builder,
                    "main.segmap_97609                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_97609_runs,
                    (long) ctx->mainzisegmap_97609_total_runtime /
                    (ctx->mainzisegmap_97609_runs !=
                     0 ? ctx->mainzisegmap_97609_runs : 1),
                    (long) ctx->mainzisegmap_97609_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_97609_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_97609_runs;
        str_builder(&builder,
                    "main.segmap_97621                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_97621_runs,
                    (long) ctx->mainzisegmap_97621_total_runtime /
                    (ctx->mainzisegmap_97621_runs !=
                     0 ? ctx->mainzisegmap_97621_runs : 1),
                    (long) ctx->mainzisegmap_97621_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_97621_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_97621_runs;
        str_builder(&builder,
                    "main.segmap_97641                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_97641_runs,
                    (long) ctx->mainzisegmap_97641_total_runtime /
                    (ctx->mainzisegmap_97641_runs !=
                     0 ? ctx->mainzisegmap_97641_runs : 1),
                    (long) ctx->mainzisegmap_97641_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_97641_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_97641_runs;
        str_builder(&builder,
                    "main.segmap_98347                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_98347_runs,
                    (long) ctx->mainzisegmap_98347_total_runtime /
                    (ctx->mainzisegmap_98347_runs !=
                     0 ? ctx->mainzisegmap_98347_runs : 1),
                    (long) ctx->mainzisegmap_98347_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_98347_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_98347_runs;
        str_builder(&builder,
                    "main.segmap_98366                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_98366_runs,
                    (long) ctx->mainzisegmap_98366_total_runtime /
                    (ctx->mainzisegmap_98366_runs !=
                     0 ? ctx->mainzisegmap_98366_runs : 1),
                    (long) ctx->mainzisegmap_98366_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_98366_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_98366_runs;
        str_builder(&builder,
                    "main.segmap_98378                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_98378_runs,
                    (long) ctx->mainzisegmap_98378_total_runtime /
                    (ctx->mainzisegmap_98378_runs !=
                     0 ? ctx->mainzisegmap_98378_runs : 1),
                    (long) ctx->mainzisegmap_98378_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_98378_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_98378_runs;
        str_builder(&builder,
                    "main.segmap_98398                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_98398_runs,
                    (long) ctx->mainzisegmap_98398_total_runtime /
                    (ctx->mainzisegmap_98398_runs !=
                     0 ? ctx->mainzisegmap_98398_runs : 1),
                    (long) ctx->mainzisegmap_98398_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_98398_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_98398_runs;
        str_builder(&builder,
                    "main.segmap_99322                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_99322_runs,
                    (long) ctx->mainzisegmap_99322_total_runtime /
                    (ctx->mainzisegmap_99322_runs !=
                     0 ? ctx->mainzisegmap_99322_runs : 1),
                    (long) ctx->mainzisegmap_99322_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_99322_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_99322_runs;
        str_builder(&builder,
                    "main.segmap_99341                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_99341_runs,
                    (long) ctx->mainzisegmap_99341_total_runtime /
                    (ctx->mainzisegmap_99341_runs !=
                     0 ? ctx->mainzisegmap_99341_runs : 1),
                    (long) ctx->mainzisegmap_99341_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_99341_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_99341_runs;
        str_builder(&builder,
                    "main.segmap_99353                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_99353_runs,
                    (long) ctx->mainzisegmap_99353_total_runtime /
                    (ctx->mainzisegmap_99353_runs !=
                     0 ? ctx->mainzisegmap_99353_runs : 1),
                    (long) ctx->mainzisegmap_99353_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_99353_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_99353_runs;
        str_builder(&builder,
                    "main.segmap_99373                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_99373_runs,
                    (long) ctx->mainzisegmap_99373_total_runtime /
                    (ctx->mainzisegmap_99373_runs !=
                     0 ? ctx->mainzisegmap_99373_runs : 1),
                    (long) ctx->mainzisegmap_99373_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_99373_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_99373_runs;
        str_builder(&builder,
                    "main.segmap_99392                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_99392_runs,
                    (long) ctx->mainzisegmap_99392_total_runtime /
                    (ctx->mainzisegmap_99392_runs !=
                     0 ? ctx->mainzisegmap_99392_runs : 1),
                    (long) ctx->mainzisegmap_99392_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_99392_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_99392_runs;
        str_builder(&builder,
                    "main.segmap_99533                      ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_99533_runs,
                    (long) ctx->mainzisegmap_99533_total_runtime /
                    (ctx->mainzisegmap_99533_runs !=
                     0 ? ctx->mainzisegmap_99533_runs : 1),
                    (long) ctx->mainzisegmap_99533_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_99533_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_99533_runs;
        str_builder(&builder,
                    "main.segmap_intragroup_102215          ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_intragroup_102215_runs,
                    (long) ctx->mainzisegmap_intragroup_102215_total_runtime /
                    (ctx->mainzisegmap_intragroup_102215_runs !=
                     0 ? ctx->mainzisegmap_intragroup_102215_runs : 1),
                    (long) ctx->mainzisegmap_intragroup_102215_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_intragroup_102215_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_intragroup_102215_runs;
        str_builder(&builder,
                    "main.segmap_intragroup_102769          ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_intragroup_102769_runs,
                    (long) ctx->mainzisegmap_intragroup_102769_total_runtime /
                    (ctx->mainzisegmap_intragroup_102769_runs !=
                     0 ? ctx->mainzisegmap_intragroup_102769_runs : 1),
                    (long) ctx->mainzisegmap_intragroup_102769_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_intragroup_102769_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_intragroup_102769_runs;
        str_builder(&builder,
                    "main.segmap_intragroup_103440          ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_intragroup_103440_runs,
                    (long) ctx->mainzisegmap_intragroup_103440_total_runtime /
                    (ctx->mainzisegmap_intragroup_103440_runs !=
                     0 ? ctx->mainzisegmap_intragroup_103440_runs : 1),
                    (long) ctx->mainzisegmap_intragroup_103440_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_intragroup_103440_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_intragroup_103440_runs;
        str_builder(&builder,
                    "main.segmap_intragroup_96990           ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_intragroup_96990_runs,
                    (long) ctx->mainzisegmap_intragroup_96990_total_runtime /
                    (ctx->mainzisegmap_intragroup_96990_runs !=
                     0 ? ctx->mainzisegmap_intragroup_96990_runs : 1),
                    (long) ctx->mainzisegmap_intragroup_96990_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_intragroup_96990_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_intragroup_96990_runs;
        str_builder(&builder,
                    "main.segmap_intragroup_97658           ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_intragroup_97658_runs,
                    (long) ctx->mainzisegmap_intragroup_97658_total_runtime /
                    (ctx->mainzisegmap_intragroup_97658_runs !=
                     0 ? ctx->mainzisegmap_intragroup_97658_runs : 1),
                    (long) ctx->mainzisegmap_intragroup_97658_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_intragroup_97658_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_intragroup_97658_runs;
        str_builder(&builder,
                    "main.segmap_intragroup_98415           ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegmap_intragroup_98415_runs,
                    (long) ctx->mainzisegmap_intragroup_98415_total_runtime /
                    (ctx->mainzisegmap_intragroup_98415_runs !=
                     0 ? ctx->mainzisegmap_intragroup_98415_runs : 1),
                    (long) ctx->mainzisegmap_intragroup_98415_total_runtime);
        ctx->total_runtime += ctx->mainzisegmap_intragroup_98415_total_runtime;
        ctx->total_runs += ctx->mainzisegmap_intragroup_98415_runs;
        str_builder(&builder,
                    "main.segred_large_100534               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_large_100534_runs,
                    (long) ctx->mainzisegred_large_100534_total_runtime /
                    (ctx->mainzisegred_large_100534_runs !=
                     0 ? ctx->mainzisegred_large_100534_runs : 1),
                    (long) ctx->mainzisegred_large_100534_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_large_100534_total_runtime;
        ctx->total_runs += ctx->mainzisegred_large_100534_runs;
        str_builder(&builder,
                    "main.segred_large_100604               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_large_100604_runs,
                    (long) ctx->mainzisegred_large_100604_total_runtime /
                    (ctx->mainzisegred_large_100604_runs !=
                     0 ? ctx->mainzisegred_large_100604_runs : 1),
                    (long) ctx->mainzisegred_large_100604_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_large_100604_total_runtime;
        ctx->total_runs += ctx->mainzisegred_large_100604_runs;
        str_builder(&builder,
                    "main.segred_large_101693               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_large_101693_runs,
                    (long) ctx->mainzisegred_large_101693_total_runtime /
                    (ctx->mainzisegred_large_101693_runs !=
                     0 ? ctx->mainzisegred_large_101693_runs : 1),
                    (long) ctx->mainzisegred_large_101693_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_large_101693_total_runtime;
        ctx->total_runs += ctx->mainzisegred_large_101693_runs;
        str_builder(&builder,
                    "main.segred_large_101792               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_large_101792_runs,
                    (long) ctx->mainzisegred_large_101792_total_runtime /
                    (ctx->mainzisegred_large_101792_runs !=
                     0 ? ctx->mainzisegred_large_101792_runs : 1),
                    (long) ctx->mainzisegred_large_101792_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_large_101792_total_runtime;
        ctx->total_runs += ctx->mainzisegred_large_101792_runs;
        str_builder(&builder,
                    "main.segred_large_99496                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_large_99496_runs,
                    (long) ctx->mainzisegred_large_99496_total_runtime /
                    (ctx->mainzisegred_large_99496_runs !=
                     0 ? ctx->mainzisegred_large_99496_runs : 1),
                    (long) ctx->mainzisegred_large_99496_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_large_99496_total_runtime;
        ctx->total_runs += ctx->mainzisegred_large_99496_runs;
        str_builder(&builder,
                    "main.segred_large_99546                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_large_99546_runs,
                    (long) ctx->mainzisegred_large_99546_total_runtime /
                    (ctx->mainzisegred_large_99546_runs !=
                     0 ? ctx->mainzisegred_large_99546_runs : 1),
                    (long) ctx->mainzisegred_large_99546_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_large_99546_total_runtime;
        ctx->total_runs += ctx->mainzisegred_large_99546_runs;
        str_builder(&builder,
                    "main.segred_small_100534               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_small_100534_runs,
                    (long) ctx->mainzisegred_small_100534_total_runtime /
                    (ctx->mainzisegred_small_100534_runs !=
                     0 ? ctx->mainzisegred_small_100534_runs : 1),
                    (long) ctx->mainzisegred_small_100534_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_small_100534_total_runtime;
        ctx->total_runs += ctx->mainzisegred_small_100534_runs;
        str_builder(&builder,
                    "main.segred_small_100604               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_small_100604_runs,
                    (long) ctx->mainzisegred_small_100604_total_runtime /
                    (ctx->mainzisegred_small_100604_runs !=
                     0 ? ctx->mainzisegred_small_100604_runs : 1),
                    (long) ctx->mainzisegred_small_100604_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_small_100604_total_runtime;
        ctx->total_runs += ctx->mainzisegred_small_100604_runs;
        str_builder(&builder,
                    "main.segred_small_101693               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_small_101693_runs,
                    (long) ctx->mainzisegred_small_101693_total_runtime /
                    (ctx->mainzisegred_small_101693_runs !=
                     0 ? ctx->mainzisegred_small_101693_runs : 1),
                    (long) ctx->mainzisegred_small_101693_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_small_101693_total_runtime;
        ctx->total_runs += ctx->mainzisegred_small_101693_runs;
        str_builder(&builder,
                    "main.segred_small_101792               ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_small_101792_runs,
                    (long) ctx->mainzisegred_small_101792_total_runtime /
                    (ctx->mainzisegred_small_101792_runs !=
                     0 ? ctx->mainzisegred_small_101792_runs : 1),
                    (long) ctx->mainzisegred_small_101792_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_small_101792_total_runtime;
        ctx->total_runs += ctx->mainzisegred_small_101792_runs;
        str_builder(&builder,
                    "main.segred_small_99496                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_small_99496_runs,
                    (long) ctx->mainzisegred_small_99496_total_runtime /
                    (ctx->mainzisegred_small_99496_runs !=
                     0 ? ctx->mainzisegred_small_99496_runs : 1),
                    (long) ctx->mainzisegred_small_99496_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_small_99496_total_runtime;
        ctx->total_runs += ctx->mainzisegred_small_99496_runs;
        str_builder(&builder,
                    "main.segred_small_99546                ran %5d times; avg: %8ldus; total: %8ldus\n",
                    ctx->mainzisegred_small_99546_runs,
                    (long) ctx->mainzisegred_small_99546_total_runtime /
                    (ctx->mainzisegred_small_99546_runs !=
                     0 ? ctx->mainzisegred_small_99546_runs : 1),
                    (long) ctx->mainzisegred_small_99546_total_runtime);
        ctx->total_runtime += ctx->mainzisegred_small_99546_total_runtime;
        ctx->total_runs += ctx->mainzisegred_small_99546_runs;
        str_builder(&builder, "%d operations with cumulative runtime: %6ldus\n",
                    ctx->total_runs, ctx->total_runtime);
    }
    return builder.str;
}
char *futhark_context_get_error(struct futhark_context *ctx)
{
    char *error = ctx->error;
    
    ctx->error = NULL;
    return error;
}
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f)
{
    ctx->log = f;
}
void futhark_context_pause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 1;
}
void futhark_context_unpause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 0;
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_device = 0;
    ctx->peak_mem_usage_default = 0;
    if (ctx->error == NULL)
        ctx->error = OPENCL_SUCCEED_NONFATAL(opencl_free_all(&ctx->opencl));
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

static int futrts_builtinzhreplicate_f64(struct futhark_context *ctx,
                                         struct memblock_device mem_105325,
                                         int32_t num_elems_105326,
                                         double val_105327);
static int futrts_builtinzhreplicate_i64(struct futhark_context *ctx,
                                         struct memblock_device mem_105403,
                                         int32_t num_elems_105404,
                                         int64_t val_105405);
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock_device *mem_out_p_107191,
                             struct memblock_device Y_mem_104293,
                             int64_t m_92398, int64_t n_92399, int64_t q_92401,
                             int64_t degree_92402, int64_t jump_92403,
                             int64_t jump_threshold_1_92404,
                             int64_t jump_threshold_2_92405,
                             int64_t q_threshold_1_92406,
                             int64_t q_threshold_2_92407);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_f64_2d {
    struct memblock_device mem;
    int64_t shape[2];
};
struct futhark_f64_2d *futhark_new_f64_2d(struct futhark_context *ctx, const
                                          double *data, int64_t dim0,
                                          int64_t dim1)
{
    struct futhark_f64_2d *bad = NULL;
    struct futhark_f64_2d *arr =
                          (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * dim1 * 8, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 8 > 0)
        OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue,
                                                      arr->mem.mem, CL_TRUE,
                                                      (size_t) 0,
                                                      (size_t) ((size_t) (dim0 *
                                                                          dim1) *
                                                                8), data + 0, 0,
                                                      NULL,
                                                      ctx->profiling_paused ||
                                                      !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                &ctx->copy_dev_to_host_runs,
                                                                                                &ctx->copy_dev_to_host_total_runtime)));
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_f64_2d *futhark_new_raw_f64_2d(struct futhark_context *ctx, const
                                              cl_mem data, int64_t offset,
                                              int64_t dim0, int64_t dim1)
{
    struct futhark_f64_2d *bad = NULL;
    struct futhark_f64_2d *arr =
                          (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * dim1 * 8, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 8 > 0) {
        OPENCL_SUCCEED_OR_RETURN(clEnqueueCopyBuffer(ctx->opencl.queue, data,
                                                     arr->mem.mem,
                                                     (size_t) offset,
                                                     (size_t) 0,
                                                     (size_t) ((size_t) (dim0 *
                                                                         dim1) *
                                                               8), 0, NULL,
                                                     ctx->profiling_paused ||
                                                     !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                               &ctx->copy_dev_to_dev_runs,
                                                                                               &ctx->copy_dev_to_dev_total_runtime)));
        if (ctx->debugging)
            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
    }
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_2d(struct futhark_context *ctx,
                          struct futhark_f64_2d *arr, double *data)
{
    lock_lock(&ctx->lock);
    if ((size_t) (arr->shape[0] * arr->shape[1]) * 8 > 0) {
        OPENCL_SUCCEED_OR_RETURN(clEnqueueReadBuffer(ctx->opencl.queue,
                                                     arr->mem.mem,
                                                     ctx->failure_is_an_option ? CL_FALSE : CL_TRUE,
                                                     (size_t) 0,
                                                     (size_t) ((size_t) (arr->shape[0] *
                                                                         arr->shape[1]) *
                                                               8), data + 0, 0,
                                                     NULL,
                                                     ctx->profiling_paused ||
                                                     !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                               &ctx->copy_host_to_dev_runs,
                                                                                               &ctx->copy_host_to_dev_total_runtime)));
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0)
            return 1;
    }
    lock_unlock(&ctx->lock);
    return 0;
}
cl_mem futhark_values_raw_f64_2d(struct futhark_context *ctx,
                                 struct futhark_f64_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_2d(struct futhark_context *ctx,
                                    struct futhark_f64_2d *arr)
{
    (void) ctx;
    return arr->shape;
}

static int futrts_builtinzhreplicate_f64(struct futhark_context *ctx,
                                         struct memblock_device mem_105325,
                                         int32_t num_elems_105326,
                                         double val_105327)
{
    (void) ctx;
    
    int err = 0;
    int64_t group_sizze_105332;
    
    group_sizze_105332 =
        *ctx->tuning_params.builtinzhreplicate_f64zigroup_sizze_105332;
    
    int64_t num_groups_105333 = sdiv_up64(num_elems_105326, group_sizze_105332);
    
    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->builtinzhreplicate_f64zireplicate_105329,
                                            0, sizeof(num_elems_105326),
                                            &num_elems_105326));
    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->builtinzhreplicate_f64zireplicate_105329,
                                            1, sizeof(val_105327),
                                            &val_105327));
    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->builtinzhreplicate_f64zireplicate_105329,
                                            2, sizeof(mem_105325.mem),
                                            &mem_105325.mem));
    if (1 * ((size_t) num_groups_105333 * (size_t) group_sizze_105332) != 0) {
        const size_t global_work_sizze_107181[1] = {(size_t) num_groups_105333 *
                     (size_t) group_sizze_105332};
        const size_t local_work_sizze_107185[1] = {(size_t) group_sizze_105332};
        int64_t time_start_107182 = 0, time_end_107183 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log,
                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                    "builtin#replicate_f64.replicate_105329",
                    global_work_sizze_107181[0], local_work_sizze_107185[0],
                    (int) 0);
            time_start_107182 = get_wall_time();
        }
        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                        ctx->builtinzhreplicate_f64zireplicate_105329,
                                                        1, NULL,
                                                        global_work_sizze_107181,
                                                        local_work_sizze_107185,
                                                        0, NULL,
                                                        ctx->profiling_paused ||
                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                  &ctx->builtinzhreplicate_f64zireplicate_105329_runs,
                                                                                                  &ctx->builtinzhreplicate_f64zireplicate_105329_total_runtime)));
        if (ctx->debugging) {
            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
            time_end_107183 = get_wall_time();
            
            long time_diff_107184 = time_end_107183 - time_start_107182;
            
            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                    "builtin#replicate_f64.replicate_105329", time_diff_107184);
        }
    }
    
  cleanup:
    { }
    return err;
}
static int futrts_builtinzhreplicate_i64(struct futhark_context *ctx,
                                         struct memblock_device mem_105403,
                                         int32_t num_elems_105404,
                                         int64_t val_105405)
{
    (void) ctx;
    
    int err = 0;
    int64_t group_sizze_105410;
    
    group_sizze_105410 =
        *ctx->tuning_params.builtinzhreplicate_i64zigroup_sizze_105410;
    
    int64_t num_groups_105411 = sdiv_up64(num_elems_105404, group_sizze_105410);
    
    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->builtinzhreplicate_i64zireplicate_105407,
                                            0, sizeof(num_elems_105404),
                                            &num_elems_105404));
    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->builtinzhreplicate_i64zireplicate_105407,
                                            1, sizeof(val_105405),
                                            &val_105405));
    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->builtinzhreplicate_i64zireplicate_105407,
                                            2, sizeof(mem_105403.mem),
                                            &mem_105403.mem));
    if (1 * ((size_t) num_groups_105411 * (size_t) group_sizze_105410) != 0) {
        const size_t global_work_sizze_107186[1] = {(size_t) num_groups_105411 *
                     (size_t) group_sizze_105410};
        const size_t local_work_sizze_107190[1] = {(size_t) group_sizze_105410};
        int64_t time_start_107187 = 0, time_end_107188 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log,
                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                    "builtin#replicate_i64.replicate_105407",
                    global_work_sizze_107186[0], local_work_sizze_107190[0],
                    (int) 0);
            time_start_107187 = get_wall_time();
        }
        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                        ctx->builtinzhreplicate_i64zireplicate_105407,
                                                        1, NULL,
                                                        global_work_sizze_107186,
                                                        local_work_sizze_107190,
                                                        0, NULL,
                                                        ctx->profiling_paused ||
                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                  &ctx->builtinzhreplicate_i64zireplicate_105407_runs,
                                                                                                  &ctx->builtinzhreplicate_i64zireplicate_105407_total_runtime)));
        if (ctx->debugging) {
            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
            time_end_107188 = get_wall_time();
            
            long time_diff_107189 = time_end_107188 - time_start_107187;
            
            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                    "builtin#replicate_i64.replicate_105407", time_diff_107189);
        }
    }
    
  cleanup:
    { }
    return err;
}
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock_device *mem_out_p_107191,
                             struct memblock_device Y_mem_104293,
                             int64_t m_92398, int64_t n_92399, int64_t q_92401,
                             int64_t degree_92402, int64_t jump_92403,
                             int64_t jump_threshold_1_92404,
                             int64_t jump_threshold_2_92405,
                             int64_t q_threshold_1_92406,
                             int64_t q_threshold_2_92407)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_out_105324;
    
    mem_out_105324.references = NULL;
    
    bool cond_92408 = jump_92403 == (int64_t) 1;
    int64_t n_m_92409;
    
    if (cond_92408) {
        n_m_92409 = n_92399;
    } else {
        bool zzero_92410 = jump_92403 == (int64_t) 0;
        bool nonzzero_92411 = !zzero_92410;
        bool nonzzero_cert_92412;
        
        if (!nonzzero_92411) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  loess.fut:759:38-45\n   #1  loess.fut:750:1-793:26\n");
            if (memblock_unref_device(ctx, &mem_out_105324, "mem_out_105324") !=
                0)
                return 1;
            err = 1;
            goto cleanup;
        }
        
        int64_t x_92413 = sdiv64(n_92399, jump_92403);
        int64_t n_m_f_res_92414 = add64((int64_t) 1, x_92413);
        
        n_m_92409 = n_m_f_res_92414;
    }
    
    int64_t i_92415 = sub64(n_92399, (int64_t) 1);
    bool x_92416 = sle64((int64_t) 0, i_92415);
    int64_t min_res_92421 = smin64(n_92399, q_92401);
    bool bounds_invalid_upwards_92422 = slt64(n_m_92409, (int64_t) 0);
    bool valid_92423 = !bounds_invalid_upwards_92422;
    bool range_valid_c_92424;
    
    if (!valid_92423) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) n_m_92409, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  utils.fut:6:3-16\n   #3  loess.fut:620:3-647:10\n   #4  loess.fut:680:15-61\n   #5  loess.fut:769:13-56\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:768:5-770:26\n   #9  loess.fut:750:1-793:26\n");
        if (memblock_unref_device(ctx, &mem_out_105324, "mem_out_105324") != 0)
            return 1;
        err = 1;
        goto cleanup;
    }
    
    bool loop_cond_92426 = slt64((int64_t) 1, min_res_92421);
    double i64_res_92427 = sitofp_i64_f64(q_92401);
    bool cond_92428 = slt64(jump_92403, jump_threshold_1_92404);
    bool cond_92429 = slt64(jump_92403, jump_threshold_2_92405);
    bool cond_f_res_t_res_92430 = slt64(q_92401, q_threshold_2_92407);
    bool x_92431 = cond_92429 && cond_f_res_t_res_92430;
    bool x_92432 = !cond_92428;
    bool y_92433 = x_92431 && x_92432;
    bool cond_92434 = cond_92428 || y_92433;
    struct memblock_device ext_mem_105072;
    
    ext_mem_105072.references = NULL;
    
    struct memblock_device ext_mem_105071;
    
    ext_mem_105071.references = NULL;
    if (cond_92434) {
        bool match_lit_92437 = (int64_t) 0 == degree_92402;
        int64_t binop_x_104294 = m_92398 * n_m_92409;
        int64_t binop_y_104295 = (int64_t) 8 * binop_x_104294;
        int64_t bytes_104296 = smax64((int64_t) 0, binop_y_104295);
        int64_t binop_x_104299 = m_92398 * n_92399;
        int64_t binop_y_104300 = (int64_t) 8 * binop_x_104299;
        int64_t bytes_104301 = smax64((int64_t) 0, binop_y_104300);
        int64_t binop_y_104318 = (int64_t) 8 * m_92398;
        int64_t bytes_104319 = smax64((int64_t) 0, binop_y_104318);
        int64_t binop_x_104331 = m_92398 * q_92401;
        int64_t binop_y_104332 = (int64_t) 8 * binop_x_104331;
        int64_t bytes_104333 = smax64((int64_t) 0, binop_y_104332);
        int64_t tile_sizze_102210;
        
        tile_sizze_102210 = *ctx->tuning_params.mainzitile_sizze_102209;
        
        int64_t binop_x_104355 = tile_sizze_102210 * tile_sizze_102210;
        int64_t binop_y_104356 = (int64_t) 8 * binop_x_104355;
        int64_t bytes_104357 = smax64((int64_t) 0, binop_y_104356);
        struct memblock_device ext_mem_104639;
        
        ext_mem_104639.references = NULL;
        
        struct memblock_device ext_mem_104638;
        
        ext_mem_104638.references = NULL;
        if (match_lit_92437) {
            struct memblock_device mem_104297;
            
            mem_104297.references = NULL;
            if (memblock_alloc_device(ctx, &mem_104297, bytes_104296,
                                      "mem_104297")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f64(ctx, mem_104297, m_92398 *
                                              n_m_92409, 0.0) != 0) {
                if (memblock_unref_device(ctx, &mem_104297, "mem_104297") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_104638,
                                          "ext_mem_104638") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_104639,
                                          "ext_mem_104639") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_105071,
                                          "ext_mem_105071") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_105072,
                                          "ext_mem_105072") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_out_105324,
                                          "mem_out_105324") != 0)
                    return 1;
                err = 1;
                goto cleanup;
            }
            
            int64_t segscan_group_sizze_94755;
            
            segscan_group_sizze_94755 =
                *ctx->tuning_params.mainzisegscan_group_sizze_94735;
            
            int64_t num_groups_94756;
            int32_t max_num_groups_105337;
            
            max_num_groups_105337 =
                *ctx->tuning_params.mainzisegscan_num_groups_94737;
            num_groups_94756 = sext_i64_i32(smax64((int64_t) 1,
                                                   smin64(sdiv_up64(binop_x_104299,
                                                                    segscan_group_sizze_94755),
                                                          sext_i32_i64(max_num_groups_105337))));
            
            struct memblock_device mem_104302;
            
            mem_104302.references = NULL;
            if (memblock_alloc_device(ctx, &mem_104302, bytes_104301,
                                      "mem_104302")) {
                err = 1;
                goto cleanup;
            }
            if (slt64((int64_t) 0, m_92398 * n_92399)) {
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegScan");
                
                int64_t stage1_max_num_groups_105338;
                
                stage1_max_num_groups_105338 = ctx->opencl.max_group_size;
                
                int64_t stage1_num_groups_105339 =
                        smin64(stage1_max_num_groups_105338, num_groups_94756);
                int32_t num_threads_105340 =
                        sext_i64_i32(stage1_num_groups_105339 *
                        segscan_group_sizze_94755);
                
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_94761,
                                                        1,
                                                        (size_t) smax64((int64_t) 1,
                                                                        (int64_t) 8 *
                                                                        segscan_group_sizze_94755),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_94761,
                                                        2, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_94761,
                                                        3, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_94761,
                                                        4,
                                                        sizeof(num_threads_105340),
                                                        &num_threads_105340));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_94761,
                                                        5,
                                                        sizeof(Y_mem_104293.mem),
                                                        &Y_mem_104293.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_94761,
                                                        6,
                                                        sizeof(mem_104302.mem),
                                                        &mem_104302.mem));
                if (1 * ((size_t) stage1_num_groups_105339 *
                         (size_t) segscan_group_sizze_94755) != 0) {
                    const size_t global_work_sizze_107192[1] =
                                 {(size_t) stage1_num_groups_105339 *
                                 (size_t) segscan_group_sizze_94755};
                    const size_t local_work_sizze_107196[1] =
                                 {(size_t) segscan_group_sizze_94755};
                    int64_t time_start_107193 = 0, time_end_107194 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.scan_stage1_94761",
                                global_work_sizze_107192[0],
                                local_work_sizze_107196[0], (int) (0 +
                                                                   smax64((int64_t) 1,
                                                                          (int64_t) 8 *
                                                                          segscan_group_sizze_94755)));
                        time_start_107193 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainziscan_stage1_94761,
                                                                    1, NULL,
                                                                    global_work_sizze_107192,
                                                                    local_work_sizze_107196,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainziscan_stage1_94761_runs,
                                                                                                              &ctx->mainziscan_stage1_94761_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107194 = get_wall_time();
                        
                        long time_diff_107195 = time_end_107194 -
                             time_start_107193;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.scan_stage1_94761", time_diff_107195);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                            (long long) (segscan_group_sizze_94755 *
                                         sdiv_up64(m_92398 * n_92399,
                                                   sext_i32_i64(num_threads_105340))),
                            '\n');
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_94761,
                                                        1,
                                                        (size_t) smax64((int64_t) 1,
                                                                        (int64_t) 8 *
                                                                        stage1_num_groups_105339),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_94761,
                                                        2, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_94761,
                                                        3, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_94761,
                                                        4,
                                                        sizeof(stage1_num_groups_105339),
                                                        &stage1_num_groups_105339));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_94761,
                                                        5,
                                                        sizeof(num_threads_105340),
                                                        &num_threads_105340));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_94761,
                                                        6,
                                                        sizeof(mem_104302.mem),
                                                        &mem_104302.mem));
                if (1 * ((size_t) (int64_t) 1 *
                         (size_t) stage1_num_groups_105339) != 0) {
                    const size_t global_work_sizze_107197[1] =
                                 {(size_t) (int64_t) 1 *
                                 (size_t) stage1_num_groups_105339};
                    const size_t local_work_sizze_107201[1] =
                                 {(size_t) stage1_num_groups_105339};
                    int64_t time_start_107198 = 0, time_end_107199 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.scan_stage2_94761",
                                global_work_sizze_107197[0],
                                local_work_sizze_107201[0], (int) (0 +
                                                                   smax64((int64_t) 1,
                                                                          (int64_t) 8 *
                                                                          stage1_num_groups_105339)));
                        time_start_107198 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainziscan_stage2_94761,
                                                                    1, NULL,
                                                                    global_work_sizze_107197,
                                                                    local_work_sizze_107201,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainziscan_stage2_94761_runs,
                                                                                                              &ctx->mainziscan_stage2_94761_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107199 = get_wall_time();
                        
                        long time_diff_107200 = time_end_107199 -
                             time_start_107198;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.scan_stage2_94761", time_diff_107200);
                    }
                }
                
                int32_t required_groups_105391 =
                        sext_i64_i32(sdiv_up64(m_92398 * n_92399,
                                               segscan_group_sizze_94755));
                
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_94761,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_94761,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_94761,
                                                        3,
                                                        sizeof(num_groups_94756),
                                                        &num_groups_94756));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_94761,
                                                        4,
                                                        sizeof(num_threads_105340),
                                                        &num_threads_105340));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_94761,
                                                        5,
                                                        sizeof(required_groups_105391),
                                                        &required_groups_105391));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_94761,
                                                        6,
                                                        sizeof(mem_104302.mem),
                                                        &mem_104302.mem));
                if (1 * ((size_t) num_groups_94756 *
                         (size_t) segscan_group_sizze_94755) != 0) {
                    const size_t global_work_sizze_107202[1] =
                                 {(size_t) num_groups_94756 *
                                 (size_t) segscan_group_sizze_94755};
                    const size_t local_work_sizze_107206[1] =
                                 {(size_t) segscan_group_sizze_94755};
                    int64_t time_start_107203 = 0, time_end_107204 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.scan_stage3_94761",
                                global_work_sizze_107202[0],
                                local_work_sizze_107206[0], (int) 0);
                        time_start_107203 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainziscan_stage3_94761,
                                                                    1, NULL,
                                                                    global_work_sizze_107202,
                                                                    local_work_sizze_107206,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainziscan_stage3_94761_runs,
                                                                                                              &ctx->mainziscan_stage3_94761_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107204 = get_wall_time();
                        
                        long time_diff_107205 = time_end_107204 -
                             time_start_107203;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.scan_stage3_94761", time_diff_107205);
                    }
                }
            }
            
            struct memblock_device mem_104306;
            
            mem_104306.references = NULL;
            if (memblock_alloc_device(ctx, &mem_104306, bytes_104301,
                                      "mem_104306")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f64(ctx, mem_104306, m_92398 *
                                              n_92399, 0.0) != 0) {
                if (memblock_unref_device(ctx, &mem_104306, "mem_104306") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104302, "mem_104302") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104297, "mem_104297") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_104638,
                                          "ext_mem_104638") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_104639,
                                          "ext_mem_104639") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_105071,
                                          "ext_mem_105071") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_105072,
                                          "ext_mem_105072") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_out_105324,
                                          "mem_out_105324") != 0)
                    return 1;
                err = 1;
                goto cleanup;
            }
            
            struct memblock_device mem_104310;
            
            mem_104310.references = NULL;
            if (memblock_alloc_device(ctx, &mem_104310, bytes_104301,
                                      "mem_104310")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_i64(ctx, mem_104310, m_92398 *
                                              n_92399, (int64_t) -1) != 0) {
                if (memblock_unref_device(ctx, &mem_104310, "mem_104310") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104306, "mem_104306") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104302, "mem_104302") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104297, "mem_104297") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_104638,
                                          "ext_mem_104638") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_104639,
                                          "ext_mem_104639") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_105071,
                                          "ext_mem_105071") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_105072,
                                          "ext_mem_105072") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_out_105324,
                                          "mem_out_105324") != 0)
                    return 1;
                err = 1;
                goto cleanup;
            }
            
            int64_t segmap_group_sizze_94808;
            
            segmap_group_sizze_94808 =
                *ctx->tuning_params.mainzisegmap_group_sizze_94649;
            
            int64_t segmap_usable_groups_94809 = sdiv_up64(binop_x_104299,
                                                           segmap_group_sizze_94808);
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94814, 1,
                                                    sizeof(m_92398), &m_92398));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94814, 2,
                                                    sizeof(n_92399), &n_92399));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94814, 3,
                                                    sizeof(Y_mem_104293.mem),
                                                    &Y_mem_104293.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94814, 4,
                                                    sizeof(mem_104302.mem),
                                                    &mem_104302.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94814, 5,
                                                    sizeof(mem_104306.mem),
                                                    &mem_104306.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94814, 6,
                                                    sizeof(mem_104310.mem),
                                                    &mem_104310.mem));
            if (1 * ((size_t) segmap_usable_groups_94809 *
                     (size_t) segmap_group_sizze_94808) != 0) {
                const size_t global_work_sizze_107207[1] =
                             {(size_t) segmap_usable_groups_94809 *
                             (size_t) segmap_group_sizze_94808};
                const size_t local_work_sizze_107211[1] =
                             {(size_t) segmap_group_sizze_94808};
                int64_t time_start_107208 = 0, time_end_107209 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log,
                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                            "main.segmap_94814", global_work_sizze_107207[0],
                            local_work_sizze_107211[0], (int) 0);
                    time_start_107208 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                ctx->mainzisegmap_94814,
                                                                1, NULL,
                                                                global_work_sizze_107207,
                                                                local_work_sizze_107211,
                                                                0, NULL,
                                                                ctx->profiling_paused ||
                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                          &ctx->mainzisegmap_94814_runs,
                                                                                                          &ctx->mainzisegmap_94814_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_107209 = get_wall_time();
                    
                    long time_diff_107210 = time_end_107209 - time_start_107208;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                            "main.segmap_94814", time_diff_107210);
                }
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            
            int64_t segmap_group_sizze_94828;
            
            segmap_group_sizze_94828 =
                *ctx->tuning_params.mainzisegmap_group_sizze_94623;
            
            int64_t segmap_usable_groups_94829 = sdiv_up64(binop_x_104299,
                                                           segmap_group_sizze_94828);
            struct memblock_device mem_104316;
            
            mem_104316.references = NULL;
            if (memblock_alloc_device(ctx, &mem_104316, bytes_104301,
                                      "mem_104316")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94833, 1,
                                                    sizeof(m_92398), &m_92398));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94833, 2,
                                                    sizeof(n_92399), &n_92399));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94833, 3,
                                                    sizeof(mem_104310.mem),
                                                    &mem_104310.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94833, 4,
                                                    sizeof(mem_104316.mem),
                                                    &mem_104316.mem));
            if (1 * ((size_t) segmap_usable_groups_94829 *
                     (size_t) segmap_group_sizze_94828) != 0) {
                const size_t global_work_sizze_107212[1] =
                             {(size_t) segmap_usable_groups_94829 *
                             (size_t) segmap_group_sizze_94828};
                const size_t local_work_sizze_107216[1] =
                             {(size_t) segmap_group_sizze_94828};
                int64_t time_start_107213 = 0, time_end_107214 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log,
                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                            "main.segmap_94833", global_work_sizze_107212[0],
                            local_work_sizze_107216[0], (int) 0);
                    time_start_107213 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                ctx->mainzisegmap_94833,
                                                                1, NULL,
                                                                global_work_sizze_107212,
                                                                local_work_sizze_107216,
                                                                0, NULL,
                                                                ctx->profiling_paused ||
                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                          &ctx->mainzisegmap_94833_runs,
                                                                                                          &ctx->mainzisegmap_94833_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_107214 = get_wall_time();
                    
                    long time_diff_107215 = time_end_107214 - time_start_107213;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                            "main.segmap_94833", time_diff_107215);
                }
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            
            int64_t segmap_group_sizze_94838;
            
            segmap_group_sizze_94838 =
                *ctx->tuning_params.mainzisegmap_group_sizze_94597;
            
            int64_t segmap_usable_groups_94839 = sdiv_up64(m_92398,
                                                           segmap_group_sizze_94838);
            struct memblock_device mem_104320;
            
            mem_104320.references = NULL;
            if (memblock_alloc_device(ctx, &mem_104320, bytes_104319,
                                      "mem_104320")) {
                err = 1;
                goto cleanup;
            }
            
            struct memblock_device mem_104323;
            
            mem_104323.references = NULL;
            if (memblock_alloc_device(ctx, &mem_104323, bytes_104319,
                                      "mem_104323")) {
                err = 1;
                goto cleanup;
            }
            
            struct memblock_device mem_104326;
            
            mem_104326.references = NULL;
            if (memblock_alloc_device(ctx, &mem_104326, bytes_104319,
                                      "mem_104326")) {
                err = 1;
                goto cleanup;
            }
            
            struct memblock_device mem_104329;
            
            mem_104329.references = NULL;
            if (memblock_alloc_device(ctx, &mem_104329, bytes_104319,
                                      "mem_104329")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94845, 1,
                                                    sizeof(m_92398), &m_92398));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94845, 2,
                                                    sizeof(n_92399), &n_92399));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94845, 3,
                                                    sizeof(q_92401), &q_92401));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94845, 4,
                                                    sizeof(i_92415), &i_92415));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94845, 5,
                                                    sizeof(min_res_92421),
                                                    &min_res_92421));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94845, 6,
                                                    sizeof(i64_res_92427),
                                                    &i64_res_92427));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94845, 7,
                                                    sizeof(mem_104302.mem),
                                                    &mem_104302.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94845, 8,
                                                    sizeof(mem_104320.mem),
                                                    &mem_104320.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94845, 9,
                                                    sizeof(mem_104323.mem),
                                                    &mem_104323.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94845, 10,
                                                    sizeof(mem_104326.mem),
                                                    &mem_104326.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94845, 11,
                                                    sizeof(mem_104329.mem),
                                                    &mem_104329.mem));
            if (1 * ((size_t) segmap_usable_groups_94839 *
                     (size_t) segmap_group_sizze_94838) != 0) {
                const size_t global_work_sizze_107217[1] =
                             {(size_t) segmap_usable_groups_94839 *
                             (size_t) segmap_group_sizze_94838};
                const size_t local_work_sizze_107221[1] =
                             {(size_t) segmap_group_sizze_94838};
                int64_t time_start_107218 = 0, time_end_107219 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log,
                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                            "main.segmap_94845", global_work_sizze_107217[0],
                            local_work_sizze_107221[0], (int) 0);
                    time_start_107218 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                ctx->mainzisegmap_94845,
                                                                1, NULL,
                                                                global_work_sizze_107217,
                                                                local_work_sizze_107221,
                                                                0, NULL,
                                                                ctx->profiling_paused ||
                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                          &ctx->mainzisegmap_94845_runs,
                                                                                                          &ctx->mainzisegmap_94845_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_107219 = get_wall_time();
                    
                    long time_diff_107220 = time_end_107219 - time_start_107218;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                            "main.segmap_94845", time_diff_107220);
                }
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            
            int64_t segmap_group_sizze_94860;
            
            segmap_group_sizze_94860 =
                *ctx->tuning_params.mainzisegmap_group_sizze_94572;
            
            int64_t segmap_usable_groups_94861 = sdiv_up64(binop_x_104331,
                                                           segmap_group_sizze_94860);
            struct memblock_device mem_104334;
            
            mem_104334.references = NULL;
            if (memblock_alloc_device(ctx, &mem_104334, bytes_104333,
                                      "mem_104334")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94865, 1,
                                                    sizeof(m_92398), &m_92398));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94865, 2,
                                                    sizeof(n_92399), &n_92399));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94865, 3,
                                                    sizeof(q_92401), &q_92401));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94865, 4,
                                                    sizeof(i_92415), &i_92415));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94865, 5,
                                                    sizeof(mem_104302.mem),
                                                    &mem_104302.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_94865, 6,
                                                    sizeof(mem_104334.mem),
                                                    &mem_104334.mem));
            if (1 * ((size_t) segmap_usable_groups_94861 *
                     (size_t) segmap_group_sizze_94860) != 0) {
                const size_t global_work_sizze_107222[1] =
                             {(size_t) segmap_usable_groups_94861 *
                             (size_t) segmap_group_sizze_94860};
                const size_t local_work_sizze_107226[1] =
                             {(size_t) segmap_group_sizze_94860};
                int64_t time_start_107223 = 0, time_end_107224 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log,
                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                            "main.segmap_94865", global_work_sizze_107222[0],
                            local_work_sizze_107226[0], (int) 0);
                    time_start_107223 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                ctx->mainzisegmap_94865,
                                                                1, NULL,
                                                                global_work_sizze_107222,
                                                                local_work_sizze_107226,
                                                                0, NULL,
                                                                ctx->profiling_paused ||
                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                          &ctx->mainzisegmap_94865_runs,
                                                                                                          &ctx->mainzisegmap_94865_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_107224 = get_wall_time();
                    
                    long time_diff_107225 = time_end_107224 - time_start_107223;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                            "main.segmap_94865", time_diff_107225);
                }
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            
            int64_t num_groups_x_102212 = sdiv_up64(m_92398, tile_sizze_102210);
            int64_t num_groups_y_102213 = sdiv_up64(n_m_92409,
                                                    tile_sizze_102210);
            int64_t num_groups_top_102214 = num_groups_x_102212 *
                    num_groups_y_102213;
            int64_t num_whole_tiles_102345 = squot64(q_92401,
                                                     tile_sizze_102210);
            int64_t residual_input_102541 = srem64(q_92401, tile_sizze_102210);
            bool cond_102542 = residual_input_102541 == (int64_t) 0;
            struct memblock_device mem_104381;
            
            mem_104381.references = NULL;
            if (memblock_alloc_device(ctx, &mem_104381, bytes_104296,
                                      "mem_104381")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t binop_x_105085 = (int64_t) 8 * tile_sizze_102210;
            int64_t sizze_105086 = tile_sizze_102210 * binop_x_105085;
            int64_t binop_x_105151 = (int64_t) 8 * tile_sizze_102210;
            int64_t num_bytes_105152 = tile_sizze_102210 * binop_x_105151;
            int64_t maxSubHelper_105205 = umax64(sizze_105086,
                                                 num_bytes_105152);
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    1,
                                                    sizeof(ctx->failure_is_an_option),
                                                    &ctx->failure_is_an_option));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    3, (size_t) bytes_104357,
                                                    NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    4, sizeof(m_92398),
                                                    &m_92398));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    5, sizeof(n_92399),
                                                    &n_92399));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    6, sizeof(q_92401),
                                                    &q_92401));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    7, sizeof(jump_92403),
                                                    &jump_92403));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    8, sizeof(n_m_92409),
                                                    &n_m_92409));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    9, sizeof(i_92415),
                                                    &i_92415));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    10, sizeof(x_92416),
                                                    &x_92416));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    11, sizeof(min_res_92421),
                                                    &min_res_92421));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    12, sizeof(loop_cond_92426),
                                                    &loop_cond_92426));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    13,
                                                    sizeof(num_groups_x_102212),
                                                    &num_groups_x_102212));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    14,
                                                    sizeof(num_groups_y_102213),
                                                    &num_groups_y_102213));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    15,
                                                    sizeof(num_whole_tiles_102345),
                                                    &num_whole_tiles_102345));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    16,
                                                    sizeof(residual_input_102541),
                                                    &residual_input_102541));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    17, sizeof(cond_102542),
                                                    &cond_102542));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    18, sizeof(mem_104302.mem),
                                                    &mem_104302.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    19, sizeof(mem_104306.mem),
                                                    &mem_104306.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    20, sizeof(mem_104310.mem),
                                                    &mem_104310.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    21, sizeof(mem_104316.mem),
                                                    &mem_104316.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    22, sizeof(mem_104320.mem),
                                                    &mem_104320.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    23, sizeof(mem_104323.mem),
                                                    &mem_104323.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    24, sizeof(mem_104326.mem),
                                                    &mem_104326.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    25, sizeof(mem_104329.mem),
                                                    &mem_104329.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    26, sizeof(mem_104334.mem),
                                                    &mem_104334.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102215,
                                                    27, sizeof(mem_104381.mem),
                                                    &mem_104381.mem));
            if (1 * ((size_t) num_groups_top_102214 *
                     (size_t) binop_x_104355) != 0) {
                const size_t global_work_sizze_107227[1] =
                             {(size_t) num_groups_top_102214 *
                             (size_t) binop_x_104355};
                const size_t local_work_sizze_107231[1] =
                             {(size_t) binop_x_104355};
                int64_t time_start_107228 = 0, time_end_107229 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log,
                            "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                            "main.segmap_intragroup_102215",
                            global_work_sizze_107227[0],
                            local_work_sizze_107231[0], (int) (0 +
                                                               bytes_104357));
                    time_start_107228 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                ctx->mainzisegmap_intragroup_102215,
                                                                1, NULL,
                                                                global_work_sizze_107227,
                                                                local_work_sizze_107231,
                                                                0, NULL,
                                                                ctx->profiling_paused ||
                                                                !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                          &ctx->mainzisegmap_intragroup_102215_runs,
                                                                                                          &ctx->mainzisegmap_intragroup_102215_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_107229 = get_wall_time();
                    
                    long time_diff_107230 = time_end_107229 - time_start_107228;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                            "main.segmap_intragroup_102215", time_diff_107230);
                }
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_104302, "mem_104302") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104306, "mem_104306") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104310, "mem_104310") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104316, "mem_104316") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104320, "mem_104320") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104323, "mem_104323") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104326, "mem_104326") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104329, "mem_104329") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104334, "mem_104334") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_104639, &mem_104381,
                                    "mem_104381") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_104638, &mem_104297,
                                    "mem_104297") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104381, "mem_104381") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104334, "mem_104334") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104329, "mem_104329") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104326, "mem_104326") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104323, "mem_104323") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104320, "mem_104320") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104316, "mem_104316") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104310, "mem_104310") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104306, "mem_104306") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104302, "mem_104302") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_104297, "mem_104297") != 0)
                return 1;
        } else {
            bool match_lit_92616 = (int64_t) 1 == degree_92402;
            int64_t tile_sizze_102764;
            
            tile_sizze_102764 = *ctx->tuning_params.mainzitile_sizze_102763;
            
            int64_t binop_x_104447 = tile_sizze_102764 * tile_sizze_102764;
            int64_t binop_y_104448 = (int64_t) 8 * binop_x_104447;
            int64_t bytes_104449 = smax64((int64_t) 0, binop_y_104448);
            int64_t tile_sizze_103435;
            
            tile_sizze_103435 = *ctx->tuning_params.mainzitile_sizze_103434;
            
            int64_t binop_x_104570 = tile_sizze_103435 * tile_sizze_103435;
            int64_t binop_y_104571 = (int64_t) 8 * binop_x_104570;
            int64_t bytes_104572 = smax64((int64_t) 0, binop_y_104571);
            struct memblock_device ext_mem_104637;
            
            ext_mem_104637.references = NULL;
            
            struct memblock_device ext_mem_104636;
            
            ext_mem_104636.references = NULL;
            if (match_lit_92616) {
                int64_t segscan_group_sizze_95428;
                
                segscan_group_sizze_95428 =
                    *ctx->tuning_params.mainzisegscan_group_sizze_95408;
                
                int64_t num_groups_95429;
                int32_t max_num_groups_105487;
                
                max_num_groups_105487 =
                    *ctx->tuning_params.mainzisegscan_num_groups_95410;
                num_groups_95429 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(binop_x_104299,
                                                                        segscan_group_sizze_95428),
                                                              sext_i32_i64(max_num_groups_105487))));
                
                struct memblock_device mem_104386;
                
                mem_104386.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104386, bytes_104301,
                                          "mem_104386")) {
                    err = 1;
                    goto cleanup;
                }
                if (slt64((int64_t) 0, m_92398 * n_92399)) {
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegScan");
                    
                    int64_t stage1_max_num_groups_105488;
                    
                    stage1_max_num_groups_105488 = ctx->opencl.max_group_size;
                    
                    int64_t stage1_num_groups_105489 =
                            smin64(stage1_max_num_groups_105488,
                                   num_groups_95429);
                    int32_t num_threads_105490 =
                            sext_i64_i32(stage1_num_groups_105489 *
                            segscan_group_sizze_95428);
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_95434,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            segscan_group_sizze_95428),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_95434,
                                                            2, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_95434,
                                                            3, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_95434,
                                                            4,
                                                            sizeof(num_threads_105490),
                                                            &num_threads_105490));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_95434,
                                                            5,
                                                            sizeof(Y_mem_104293.mem),
                                                            &Y_mem_104293.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_95434,
                                                            6,
                                                            sizeof(mem_104386.mem),
                                                            &mem_104386.mem));
                    if (1 * ((size_t) stage1_num_groups_105489 *
                             (size_t) segscan_group_sizze_95428) != 0) {
                        const size_t global_work_sizze_107232[1] =
                                     {(size_t) stage1_num_groups_105489 *
                                     (size_t) segscan_group_sizze_95428};
                        const size_t local_work_sizze_107236[1] =
                                     {(size_t) segscan_group_sizze_95428};
                        int64_t time_start_107233 = 0, time_end_107234 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage1_95434",
                                    global_work_sizze_107232[0],
                                    local_work_sizze_107236[0], (int) (0 +
                                                                       smax64((int64_t) 1,
                                                                              (int64_t) 8 *
                                                                              segscan_group_sizze_95428)));
                            time_start_107233 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage1_95434,
                                                                        1, NULL,
                                                                        global_work_sizze_107232,
                                                                        local_work_sizze_107236,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage1_95434_runs,
                                                                                                                  &ctx->mainziscan_stage1_95434_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107234 = get_wall_time();
                            
                            long time_diff_107235 = time_end_107234 -
                                 time_start_107233;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage1_95434", time_diff_107235);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                                (long long) (segscan_group_sizze_95428 *
                                             sdiv_up64(m_92398 * n_92399,
                                                       sext_i32_i64(num_threads_105490))),
                                '\n');
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_95434,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            stage1_num_groups_105489),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_95434,
                                                            2, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_95434,
                                                            3, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_95434,
                                                            4,
                                                            sizeof(stage1_num_groups_105489),
                                                            &stage1_num_groups_105489));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_95434,
                                                            5,
                                                            sizeof(num_threads_105490),
                                                            &num_threads_105490));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_95434,
                                                            6,
                                                            sizeof(mem_104386.mem),
                                                            &mem_104386.mem));
                    if (1 * ((size_t) (int64_t) 1 *
                             (size_t) stage1_num_groups_105489) != 0) {
                        const size_t global_work_sizze_107237[1] =
                                     {(size_t) (int64_t) 1 *
                                     (size_t) stage1_num_groups_105489};
                        const size_t local_work_sizze_107241[1] =
                                     {(size_t) stage1_num_groups_105489};
                        int64_t time_start_107238 = 0, time_end_107239 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage2_95434",
                                    global_work_sizze_107237[0],
                                    local_work_sizze_107241[0], (int) (0 +
                                                                       smax64((int64_t) 1,
                                                                              (int64_t) 8 *
                                                                              stage1_num_groups_105489)));
                            time_start_107238 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage2_95434,
                                                                        1, NULL,
                                                                        global_work_sizze_107237,
                                                                        local_work_sizze_107241,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage2_95434_runs,
                                                                                                                  &ctx->mainziscan_stage2_95434_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107239 = get_wall_time();
                            
                            long time_diff_107240 = time_end_107239 -
                                 time_start_107238;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage2_95434", time_diff_107240);
                        }
                    }
                    
                    int32_t required_groups_105541 =
                            sext_i64_i32(sdiv_up64(m_92398 * n_92399,
                                                   segscan_group_sizze_95428));
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_95434,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_95434,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_95434,
                                                            3,
                                                            sizeof(num_groups_95429),
                                                            &num_groups_95429));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_95434,
                                                            4,
                                                            sizeof(num_threads_105490),
                                                            &num_threads_105490));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_95434,
                                                            5,
                                                            sizeof(required_groups_105541),
                                                            &required_groups_105541));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_95434,
                                                            6,
                                                            sizeof(mem_104386.mem),
                                                            &mem_104386.mem));
                    if (1 * ((size_t) num_groups_95429 *
                             (size_t) segscan_group_sizze_95428) != 0) {
                        const size_t global_work_sizze_107242[1] =
                                     {(size_t) num_groups_95429 *
                                     (size_t) segscan_group_sizze_95428};
                        const size_t local_work_sizze_107246[1] =
                                     {(size_t) segscan_group_sizze_95428};
                        int64_t time_start_107243 = 0, time_end_107244 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage3_95434",
                                    global_work_sizze_107242[0],
                                    local_work_sizze_107246[0], (int) 0);
                            time_start_107243 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage3_95434,
                                                                        1, NULL,
                                                                        global_work_sizze_107242,
                                                                        local_work_sizze_107246,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage3_95434_runs,
                                                                                                                  &ctx->mainziscan_stage3_95434_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107244 = get_wall_time();
                            
                            long time_diff_107245 = time_end_107244 -
                                 time_start_107243;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage3_95434", time_diff_107245);
                        }
                    }
                }
                
                struct memblock_device mem_104390;
                
                mem_104390.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104390, bytes_104301,
                                          "mem_104390")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_f64(ctx, mem_104390, m_92398 *
                                                  n_92399, 0.0) != 0) {
                    if (memblock_unref_device(ctx, &mem_104390, "mem_104390") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104386, "mem_104386") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104636,
                                              "ext_mem_104636") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104637,
                                              "ext_mem_104637") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104638,
                                              "ext_mem_104638") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104639,
                                              "ext_mem_104639") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105071,
                                              "ext_mem_105071") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105072,
                                              "ext_mem_105072") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_out_105324,
                                              "mem_out_105324") != 0)
                        return 1;
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104394;
                
                mem_104394.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104394, bytes_104301,
                                          "mem_104394")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, mem_104394, m_92398 *
                                                  n_92399, (int64_t) -1) != 0) {
                    if (memblock_unref_device(ctx, &mem_104394, "mem_104394") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104390, "mem_104390") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104386, "mem_104386") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104636,
                                              "ext_mem_104636") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104637,
                                              "ext_mem_104637") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104638,
                                              "ext_mem_104638") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104639,
                                              "ext_mem_104639") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105071,
                                              "ext_mem_105071") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105072,
                                              "ext_mem_105072") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_out_105324,
                                              "mem_out_105324") != 0)
                        return 1;
                    err = 1;
                    goto cleanup;
                }
                
                int64_t segmap_group_sizze_95481;
                
                segmap_group_sizze_95481 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_95322;
                
                int64_t segmap_usable_groups_95482 = sdiv_up64(binop_x_104299,
                                                               segmap_group_sizze_95481);
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95487,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95487,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95487,
                                                        3,
                                                        sizeof(Y_mem_104293.mem),
                                                        &Y_mem_104293.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95487,
                                                        4,
                                                        sizeof(mem_104386.mem),
                                                        &mem_104386.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95487,
                                                        5,
                                                        sizeof(mem_104390.mem),
                                                        &mem_104390.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95487,
                                                        6,
                                                        sizeof(mem_104394.mem),
                                                        &mem_104394.mem));
                if (1 * ((size_t) segmap_usable_groups_95482 *
                         (size_t) segmap_group_sizze_95481) != 0) {
                    const size_t global_work_sizze_107247[1] =
                                 {(size_t) segmap_usable_groups_95482 *
                                 (size_t) segmap_group_sizze_95481};
                    const size_t local_work_sizze_107251[1] =
                                 {(size_t) segmap_group_sizze_95481};
                    int64_t time_start_107248 = 0, time_end_107249 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_95487",
                                global_work_sizze_107247[0],
                                local_work_sizze_107251[0], (int) 0);
                        time_start_107248 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_95487,
                                                                    1, NULL,
                                                                    global_work_sizze_107247,
                                                                    local_work_sizze_107251,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_95487_runs,
                                                                                                              &ctx->mainzisegmap_95487_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107249 = get_wall_time();
                        
                        long time_diff_107250 = time_end_107249 -
                             time_start_107248;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_95487", time_diff_107250);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_95501;
                
                segmap_group_sizze_95501 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_95296;
                
                int64_t segmap_usable_groups_95502 = sdiv_up64(binop_x_104299,
                                                               segmap_group_sizze_95501);
                struct memblock_device mem_104400;
                
                mem_104400.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104400, bytes_104301,
                                          "mem_104400")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95506,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95506,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95506,
                                                        3,
                                                        sizeof(mem_104394.mem),
                                                        &mem_104394.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95506,
                                                        4,
                                                        sizeof(mem_104400.mem),
                                                        &mem_104400.mem));
                if (1 * ((size_t) segmap_usable_groups_95502 *
                         (size_t) segmap_group_sizze_95501) != 0) {
                    const size_t global_work_sizze_107252[1] =
                                 {(size_t) segmap_usable_groups_95502 *
                                 (size_t) segmap_group_sizze_95501};
                    const size_t local_work_sizze_107256[1] =
                                 {(size_t) segmap_group_sizze_95501};
                    int64_t time_start_107253 = 0, time_end_107254 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_95506",
                                global_work_sizze_107252[0],
                                local_work_sizze_107256[0], (int) 0);
                        time_start_107253 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_95506,
                                                                    1, NULL,
                                                                    global_work_sizze_107252,
                                                                    local_work_sizze_107256,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_95506_runs,
                                                                                                              &ctx->mainzisegmap_95506_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107254 = get_wall_time();
                        
                        long time_diff_107255 = time_end_107254 -
                             time_start_107253;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_95506", time_diff_107255);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_95511;
                
                segmap_group_sizze_95511 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_95270;
                
                int64_t segmap_usable_groups_95512 = sdiv_up64(m_92398,
                                                               segmap_group_sizze_95511);
                struct memblock_device mem_104404;
                
                mem_104404.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104404, bytes_104319,
                                          "mem_104404")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104407;
                
                mem_104407.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104407, bytes_104319,
                                          "mem_104407")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104410;
                
                mem_104410.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104410, bytes_104319,
                                          "mem_104410")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104413;
                
                mem_104413.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104413, bytes_104319,
                                          "mem_104413")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95518,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95518,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95518,
                                                        3, sizeof(q_92401),
                                                        &q_92401));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95518,
                                                        4, sizeof(i_92415),
                                                        &i_92415));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95518,
                                                        5,
                                                        sizeof(min_res_92421),
                                                        &min_res_92421));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95518,
                                                        6,
                                                        sizeof(i64_res_92427),
                                                        &i64_res_92427));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95518,
                                                        7,
                                                        sizeof(mem_104386.mem),
                                                        &mem_104386.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95518,
                                                        8,
                                                        sizeof(mem_104404.mem),
                                                        &mem_104404.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95518,
                                                        9,
                                                        sizeof(mem_104407.mem),
                                                        &mem_104407.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95518,
                                                        10,
                                                        sizeof(mem_104410.mem),
                                                        &mem_104410.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95518,
                                                        11,
                                                        sizeof(mem_104413.mem),
                                                        &mem_104413.mem));
                if (1 * ((size_t) segmap_usable_groups_95512 *
                         (size_t) segmap_group_sizze_95511) != 0) {
                    const size_t global_work_sizze_107257[1] =
                                 {(size_t) segmap_usable_groups_95512 *
                                 (size_t) segmap_group_sizze_95511};
                    const size_t local_work_sizze_107261[1] =
                                 {(size_t) segmap_group_sizze_95511};
                    int64_t time_start_107258 = 0, time_end_107259 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_95518",
                                global_work_sizze_107257[0],
                                local_work_sizze_107261[0], (int) 0);
                        time_start_107258 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_95518,
                                                                    1, NULL,
                                                                    global_work_sizze_107257,
                                                                    local_work_sizze_107261,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_95518_runs,
                                                                                                              &ctx->mainzisegmap_95518_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107259 = get_wall_time();
                        
                        long time_diff_107260 = time_end_107259 -
                             time_start_107258;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_95518", time_diff_107260);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_95533;
                
                segmap_group_sizze_95533 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_95245;
                
                int64_t segmap_usable_groups_95534 = sdiv_up64(binop_x_104331,
                                                               segmap_group_sizze_95533);
                struct memblock_device mem_104418;
                
                mem_104418.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104418, bytes_104333,
                                          "mem_104418")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95538,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95538,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95538,
                                                        3, sizeof(q_92401),
                                                        &q_92401));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95538,
                                                        4, sizeof(i_92415),
                                                        &i_92415));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95538,
                                                        5,
                                                        sizeof(mem_104386.mem),
                                                        &mem_104386.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_95538,
                                                        6,
                                                        sizeof(mem_104418.mem),
                                                        &mem_104418.mem));
                if (1 * ((size_t) segmap_usable_groups_95534 *
                         (size_t) segmap_group_sizze_95533) != 0) {
                    const size_t global_work_sizze_107262[1] =
                                 {(size_t) segmap_usable_groups_95534 *
                                 (size_t) segmap_group_sizze_95533};
                    const size_t local_work_sizze_107266[1] =
                                 {(size_t) segmap_group_sizze_95533};
                    int64_t time_start_107263 = 0, time_end_107264 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_95538",
                                global_work_sizze_107262[0],
                                local_work_sizze_107266[0], (int) 0);
                        time_start_107263 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_95538,
                                                                    1, NULL,
                                                                    global_work_sizze_107262,
                                                                    local_work_sizze_107266,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_95538_runs,
                                                                                                              &ctx->mainzisegmap_95538_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107264 = get_wall_time();
                        
                        long time_diff_107265 = time_end_107264 -
                             time_start_107263;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_95538", time_diff_107265);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t num_groups_x_102766 = sdiv_up64(m_92398,
                                                        tile_sizze_102764);
                int64_t num_groups_y_102767 = sdiv_up64(n_m_92409,
                                                        tile_sizze_102764);
                int64_t num_groups_top_102768 = num_groups_x_102766 *
                        num_groups_y_102767;
                int64_t num_whole_tiles_102899 = squot64(q_92401,
                                                         tile_sizze_102764);
                int64_t residual_input_103147 = srem64(q_92401,
                                                       tile_sizze_102764);
                bool cond_103148 = residual_input_103147 == (int64_t) 0;
                struct memblock_device mem_104492;
                
                mem_104492.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104492, bytes_104296,
                                          "mem_104492")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104496;
                
                mem_104496.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104496, bytes_104296,
                                          "mem_104496")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t binop_x_105095 = (int64_t) 8 * tile_sizze_102764;
                int64_t sizze_105096 = tile_sizze_102764 * binop_x_105095;
                int64_t binop_x_105157 = (int64_t) 8 * tile_sizze_102764;
                int64_t num_bytes_105158 = tile_sizze_102764 * binop_x_105157;
                int64_t binop_x_105162 = (int64_t) 8 * tile_sizze_102764;
                int64_t num_bytes_105163 = tile_sizze_102764 * binop_x_105162;
                int64_t binop_x_105167 = (int64_t) 8 * tile_sizze_102764;
                int64_t num_bytes_105168 = tile_sizze_102764 * binop_x_105167;
                int64_t maxSubHelper_105213 = umax64(binop_y_104448,
                                                     sizze_105096);
                int64_t maxSubHelper_105214 = umax64(num_bytes_105168,
                                                     maxSubHelper_105213);
                int64_t maxSubHelper_105215 = umax64(binop_y_104448,
                                                     sizze_105096);
                int64_t maxSubHelper_105216 = umax64(num_bytes_105163,
                                                     maxSubHelper_105215);
                int64_t maxSubHelper_105217 = umax64(sizze_105096,
                                                     num_bytes_105158);
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        1,
                                                        sizeof(ctx->failure_is_an_option),
                                                        &ctx->failure_is_an_option));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        3,
                                                        (size_t) bytes_104449,
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        4, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        5, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        6, sizeof(q_92401),
                                                        &q_92401));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        7, sizeof(jump_92403),
                                                        &jump_92403));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        8, sizeof(n_m_92409),
                                                        &n_m_92409));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        9, sizeof(i_92415),
                                                        &i_92415));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        10, sizeof(x_92416),
                                                        &x_92416));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        11,
                                                        sizeof(min_res_92421),
                                                        &min_res_92421));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        12,
                                                        sizeof(loop_cond_92426),
                                                        &loop_cond_92426));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        13,
                                                        sizeof(num_groups_x_102766),
                                                        &num_groups_x_102766));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        14,
                                                        sizeof(num_groups_y_102767),
                                                        &num_groups_y_102767));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        15,
                                                        sizeof(num_whole_tiles_102899),
                                                        &num_whole_tiles_102899));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        16,
                                                        sizeof(residual_input_103147),
                                                        &residual_input_103147));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        17, sizeof(cond_103148),
                                                        &cond_103148));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        18,
                                                        sizeof(mem_104386.mem),
                                                        &mem_104386.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        19,
                                                        sizeof(mem_104390.mem),
                                                        &mem_104390.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        20,
                                                        sizeof(mem_104394.mem),
                                                        &mem_104394.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        21,
                                                        sizeof(mem_104400.mem),
                                                        &mem_104400.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        22,
                                                        sizeof(mem_104404.mem),
                                                        &mem_104404.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        23,
                                                        sizeof(mem_104407.mem),
                                                        &mem_104407.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        24,
                                                        sizeof(mem_104410.mem),
                                                        &mem_104410.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        25,
                                                        sizeof(mem_104413.mem),
                                                        &mem_104413.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        26,
                                                        sizeof(mem_104418.mem),
                                                        &mem_104418.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        27,
                                                        sizeof(mem_104492.mem),
                                                        &mem_104492.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_102769,
                                                        28,
                                                        sizeof(mem_104496.mem),
                                                        &mem_104496.mem));
                if (1 * ((size_t) num_groups_top_102768 *
                         (size_t) binop_x_104447) != 0) {
                    const size_t global_work_sizze_107267[1] =
                                 {(size_t) num_groups_top_102768 *
                                 (size_t) binop_x_104447};
                    const size_t local_work_sizze_107271[1] =
                                 {(size_t) binop_x_104447};
                    int64_t time_start_107268 = 0, time_end_107269 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_intragroup_102769",
                                global_work_sizze_107267[0],
                                local_work_sizze_107271[0], (int) (0 +
                                                                   bytes_104449));
                        time_start_107268 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_intragroup_102769,
                                                                    1, NULL,
                                                                    global_work_sizze_107267,
                                                                    local_work_sizze_107271,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_intragroup_102769_runs,
                                                                                                              &ctx->mainzisegmap_intragroup_102769_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107269 = get_wall_time();
                        
                        long time_diff_107270 = time_end_107269 -
                             time_start_107268;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_intragroup_102769",
                                time_diff_107270);
                    }
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_104386, "mem_104386") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104390, "mem_104390") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104394, "mem_104394") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104400, "mem_104400") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104404, "mem_104404") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104407, "mem_104407") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104410, "mem_104410") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104413, "mem_104413") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104418, "mem_104418") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_104637, &mem_104492,
                                        "mem_104492") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_104636, &mem_104496,
                                        "mem_104496") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104496, "mem_104496") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104492, "mem_104492") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104418, "mem_104418") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104413, "mem_104413") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104410, "mem_104410") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104407, "mem_104407") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104404, "mem_104404") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104400, "mem_104400") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104394, "mem_104394") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104390, "mem_104390") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104386, "mem_104386") != 0)
                    return 1;
            } else {
                int64_t segscan_group_sizze_96163;
                
                segscan_group_sizze_96163 =
                    *ctx->tuning_params.mainzisegscan_group_sizze_96143;
                
                int64_t num_groups_96164;
                int32_t max_num_groups_105645;
                
                max_num_groups_105645 =
                    *ctx->tuning_params.mainzisegscan_num_groups_96145;
                num_groups_96164 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(binop_x_104299,
                                                                        segscan_group_sizze_96163),
                                                              sext_i32_i64(max_num_groups_105645))));
                
                struct memblock_device mem_104501;
                
                mem_104501.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104501, bytes_104301,
                                          "mem_104501")) {
                    err = 1;
                    goto cleanup;
                }
                if (slt64((int64_t) 0, m_92398 * n_92399)) {
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegScan");
                    
                    int64_t stage1_max_num_groups_105646;
                    
                    stage1_max_num_groups_105646 = ctx->opencl.max_group_size;
                    
                    int64_t stage1_num_groups_105647 =
                            smin64(stage1_max_num_groups_105646,
                                   num_groups_96164);
                    int32_t num_threads_105648 =
                            sext_i64_i32(stage1_num_groups_105647 *
                            segscan_group_sizze_96163);
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_96169,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            segscan_group_sizze_96163),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_96169,
                                                            2, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_96169,
                                                            3, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_96169,
                                                            4,
                                                            sizeof(num_threads_105648),
                                                            &num_threads_105648));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_96169,
                                                            5,
                                                            sizeof(Y_mem_104293.mem),
                                                            &Y_mem_104293.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_96169,
                                                            6,
                                                            sizeof(mem_104501.mem),
                                                            &mem_104501.mem));
                    if (1 * ((size_t) stage1_num_groups_105647 *
                             (size_t) segscan_group_sizze_96163) != 0) {
                        const size_t global_work_sizze_107272[1] =
                                     {(size_t) stage1_num_groups_105647 *
                                     (size_t) segscan_group_sizze_96163};
                        const size_t local_work_sizze_107276[1] =
                                     {(size_t) segscan_group_sizze_96163};
                        int64_t time_start_107273 = 0, time_end_107274 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage1_96169",
                                    global_work_sizze_107272[0],
                                    local_work_sizze_107276[0], (int) (0 +
                                                                       smax64((int64_t) 1,
                                                                              (int64_t) 8 *
                                                                              segscan_group_sizze_96163)));
                            time_start_107273 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage1_96169,
                                                                        1, NULL,
                                                                        global_work_sizze_107272,
                                                                        local_work_sizze_107276,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage1_96169_runs,
                                                                                                                  &ctx->mainziscan_stage1_96169_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107274 = get_wall_time();
                            
                            long time_diff_107275 = time_end_107274 -
                                 time_start_107273;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage1_96169", time_diff_107275);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                                (long long) (segscan_group_sizze_96163 *
                                             sdiv_up64(m_92398 * n_92399,
                                                       sext_i32_i64(num_threads_105648))),
                                '\n');
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_96169,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            stage1_num_groups_105647),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_96169,
                                                            2, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_96169,
                                                            3, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_96169,
                                                            4,
                                                            sizeof(stage1_num_groups_105647),
                                                            &stage1_num_groups_105647));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_96169,
                                                            5,
                                                            sizeof(num_threads_105648),
                                                            &num_threads_105648));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_96169,
                                                            6,
                                                            sizeof(mem_104501.mem),
                                                            &mem_104501.mem));
                    if (1 * ((size_t) (int64_t) 1 *
                             (size_t) stage1_num_groups_105647) != 0) {
                        const size_t global_work_sizze_107277[1] =
                                     {(size_t) (int64_t) 1 *
                                     (size_t) stage1_num_groups_105647};
                        const size_t local_work_sizze_107281[1] =
                                     {(size_t) stage1_num_groups_105647};
                        int64_t time_start_107278 = 0, time_end_107279 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage2_96169",
                                    global_work_sizze_107277[0],
                                    local_work_sizze_107281[0], (int) (0 +
                                                                       smax64((int64_t) 1,
                                                                              (int64_t) 8 *
                                                                              stage1_num_groups_105647)));
                            time_start_107278 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage2_96169,
                                                                        1, NULL,
                                                                        global_work_sizze_107277,
                                                                        local_work_sizze_107281,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage2_96169_runs,
                                                                                                                  &ctx->mainziscan_stage2_96169_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107279 = get_wall_time();
                            
                            long time_diff_107280 = time_end_107279 -
                                 time_start_107278;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage2_96169", time_diff_107280);
                        }
                    }
                    
                    int32_t required_groups_105699 =
                            sext_i64_i32(sdiv_up64(m_92398 * n_92399,
                                                   segscan_group_sizze_96163));
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_96169,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_96169,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_96169,
                                                            3,
                                                            sizeof(num_groups_96164),
                                                            &num_groups_96164));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_96169,
                                                            4,
                                                            sizeof(num_threads_105648),
                                                            &num_threads_105648));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_96169,
                                                            5,
                                                            sizeof(required_groups_105699),
                                                            &required_groups_105699));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_96169,
                                                            6,
                                                            sizeof(mem_104501.mem),
                                                            &mem_104501.mem));
                    if (1 * ((size_t) num_groups_96164 *
                             (size_t) segscan_group_sizze_96163) != 0) {
                        const size_t global_work_sizze_107282[1] =
                                     {(size_t) num_groups_96164 *
                                     (size_t) segscan_group_sizze_96163};
                        const size_t local_work_sizze_107286[1] =
                                     {(size_t) segscan_group_sizze_96163};
                        int64_t time_start_107283 = 0, time_end_107284 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage3_96169",
                                    global_work_sizze_107282[0],
                                    local_work_sizze_107286[0], (int) 0);
                            time_start_107283 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage3_96169,
                                                                        1, NULL,
                                                                        global_work_sizze_107282,
                                                                        local_work_sizze_107286,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage3_96169_runs,
                                                                                                                  &ctx->mainziscan_stage3_96169_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107284 = get_wall_time();
                            
                            long time_diff_107285 = time_end_107284 -
                                 time_start_107283;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage3_96169", time_diff_107285);
                        }
                    }
                }
                
                struct memblock_device mem_104505;
                
                mem_104505.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104505, bytes_104301,
                                          "mem_104505")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_f64(ctx, mem_104505, m_92398 *
                                                  n_92399, 0.0) != 0) {
                    if (memblock_unref_device(ctx, &mem_104505, "mem_104505") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104501, "mem_104501") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104636,
                                              "ext_mem_104636") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104637,
                                              "ext_mem_104637") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104638,
                                              "ext_mem_104638") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104639,
                                              "ext_mem_104639") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105071,
                                              "ext_mem_105071") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105072,
                                              "ext_mem_105072") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_out_105324,
                                              "mem_out_105324") != 0)
                        return 1;
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104509;
                
                mem_104509.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104509, bytes_104301,
                                          "mem_104509")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, mem_104509, m_92398 *
                                                  n_92399, (int64_t) -1) != 0) {
                    if (memblock_unref_device(ctx, &mem_104509, "mem_104509") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104505, "mem_104505") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104501, "mem_104501") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104636,
                                              "ext_mem_104636") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104637,
                                              "ext_mem_104637") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104638,
                                              "ext_mem_104638") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104639,
                                              "ext_mem_104639") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105071,
                                              "ext_mem_105071") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105072,
                                              "ext_mem_105072") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_out_105324,
                                              "mem_out_105324") != 0)
                        return 1;
                    err = 1;
                    goto cleanup;
                }
                
                int64_t segmap_group_sizze_96216;
                
                segmap_group_sizze_96216 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_96057;
                
                int64_t segmap_usable_groups_96217 = sdiv_up64(binop_x_104299,
                                                               segmap_group_sizze_96216);
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96222,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96222,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96222,
                                                        3,
                                                        sizeof(Y_mem_104293.mem),
                                                        &Y_mem_104293.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96222,
                                                        4,
                                                        sizeof(mem_104501.mem),
                                                        &mem_104501.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96222,
                                                        5,
                                                        sizeof(mem_104505.mem),
                                                        &mem_104505.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96222,
                                                        6,
                                                        sizeof(mem_104509.mem),
                                                        &mem_104509.mem));
                if (1 * ((size_t) segmap_usable_groups_96217 *
                         (size_t) segmap_group_sizze_96216) != 0) {
                    const size_t global_work_sizze_107287[1] =
                                 {(size_t) segmap_usable_groups_96217 *
                                 (size_t) segmap_group_sizze_96216};
                    const size_t local_work_sizze_107291[1] =
                                 {(size_t) segmap_group_sizze_96216};
                    int64_t time_start_107288 = 0, time_end_107289 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_96222",
                                global_work_sizze_107287[0],
                                local_work_sizze_107291[0], (int) 0);
                        time_start_107288 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_96222,
                                                                    1, NULL,
                                                                    global_work_sizze_107287,
                                                                    local_work_sizze_107291,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_96222_runs,
                                                                                                              &ctx->mainzisegmap_96222_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107289 = get_wall_time();
                        
                        long time_diff_107290 = time_end_107289 -
                             time_start_107288;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_96222", time_diff_107290);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_96236;
                
                segmap_group_sizze_96236 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_96031;
                
                int64_t segmap_usable_groups_96237 = sdiv_up64(binop_x_104299,
                                                               segmap_group_sizze_96236);
                struct memblock_device mem_104515;
                
                mem_104515.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104515, bytes_104301,
                                          "mem_104515")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96241,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96241,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96241,
                                                        3,
                                                        sizeof(mem_104509.mem),
                                                        &mem_104509.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96241,
                                                        4,
                                                        sizeof(mem_104515.mem),
                                                        &mem_104515.mem));
                if (1 * ((size_t) segmap_usable_groups_96237 *
                         (size_t) segmap_group_sizze_96236) != 0) {
                    const size_t global_work_sizze_107292[1] =
                                 {(size_t) segmap_usable_groups_96237 *
                                 (size_t) segmap_group_sizze_96236};
                    const size_t local_work_sizze_107296[1] =
                                 {(size_t) segmap_group_sizze_96236};
                    int64_t time_start_107293 = 0, time_end_107294 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_96241",
                                global_work_sizze_107292[0],
                                local_work_sizze_107296[0], (int) 0);
                        time_start_107293 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_96241,
                                                                    1, NULL,
                                                                    global_work_sizze_107292,
                                                                    local_work_sizze_107296,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_96241_runs,
                                                                                                              &ctx->mainzisegmap_96241_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107294 = get_wall_time();
                        
                        long time_diff_107295 = time_end_107294 -
                             time_start_107293;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_96241", time_diff_107295);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_96246;
                
                segmap_group_sizze_96246 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_96005;
                
                int64_t segmap_usable_groups_96247 = sdiv_up64(m_92398,
                                                               segmap_group_sizze_96246);
                struct memblock_device mem_104519;
                
                mem_104519.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104519, bytes_104319,
                                          "mem_104519")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104522;
                
                mem_104522.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104522, bytes_104319,
                                          "mem_104522")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104525;
                
                mem_104525.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104525, bytes_104319,
                                          "mem_104525")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104528;
                
                mem_104528.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104528, bytes_104319,
                                          "mem_104528")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96253,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96253,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96253,
                                                        3, sizeof(q_92401),
                                                        &q_92401));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96253,
                                                        4, sizeof(i_92415),
                                                        &i_92415));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96253,
                                                        5,
                                                        sizeof(min_res_92421),
                                                        &min_res_92421));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96253,
                                                        6,
                                                        sizeof(i64_res_92427),
                                                        &i64_res_92427));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96253,
                                                        7,
                                                        sizeof(mem_104501.mem),
                                                        &mem_104501.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96253,
                                                        8,
                                                        sizeof(mem_104519.mem),
                                                        &mem_104519.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96253,
                                                        9,
                                                        sizeof(mem_104522.mem),
                                                        &mem_104522.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96253,
                                                        10,
                                                        sizeof(mem_104525.mem),
                                                        &mem_104525.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96253,
                                                        11,
                                                        sizeof(mem_104528.mem),
                                                        &mem_104528.mem));
                if (1 * ((size_t) segmap_usable_groups_96247 *
                         (size_t) segmap_group_sizze_96246) != 0) {
                    const size_t global_work_sizze_107297[1] =
                                 {(size_t) segmap_usable_groups_96247 *
                                 (size_t) segmap_group_sizze_96246};
                    const size_t local_work_sizze_107301[1] =
                                 {(size_t) segmap_group_sizze_96246};
                    int64_t time_start_107298 = 0, time_end_107299 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_96253",
                                global_work_sizze_107297[0],
                                local_work_sizze_107301[0], (int) 0);
                        time_start_107298 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_96253,
                                                                    1, NULL,
                                                                    global_work_sizze_107297,
                                                                    local_work_sizze_107301,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_96253_runs,
                                                                                                              &ctx->mainzisegmap_96253_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107299 = get_wall_time();
                        
                        long time_diff_107300 = time_end_107299 -
                             time_start_107298;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_96253", time_diff_107300);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_96268;
                
                segmap_group_sizze_96268 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_95980;
                
                int64_t segmap_usable_groups_96269 = sdiv_up64(binop_x_104331,
                                                               segmap_group_sizze_96268);
                struct memblock_device mem_104533;
                
                mem_104533.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104533, bytes_104333,
                                          "mem_104533")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96273,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96273,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96273,
                                                        3, sizeof(q_92401),
                                                        &q_92401));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96273,
                                                        4, sizeof(i_92415),
                                                        &i_92415));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96273,
                                                        5,
                                                        sizeof(mem_104501.mem),
                                                        &mem_104501.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96273,
                                                        6,
                                                        sizeof(mem_104533.mem),
                                                        &mem_104533.mem));
                if (1 * ((size_t) segmap_usable_groups_96269 *
                         (size_t) segmap_group_sizze_96268) != 0) {
                    const size_t global_work_sizze_107302[1] =
                                 {(size_t) segmap_usable_groups_96269 *
                                 (size_t) segmap_group_sizze_96268};
                    const size_t local_work_sizze_107306[1] =
                                 {(size_t) segmap_group_sizze_96268};
                    int64_t time_start_107303 = 0, time_end_107304 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_96273",
                                global_work_sizze_107302[0],
                                local_work_sizze_107306[0], (int) 0);
                        time_start_107303 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_96273,
                                                                    1, NULL,
                                                                    global_work_sizze_107302,
                                                                    local_work_sizze_107306,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_96273_runs,
                                                                                                              &ctx->mainzisegmap_96273_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107304 = get_wall_time();
                        
                        long time_diff_107305 = time_end_107304 -
                             time_start_107303;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_96273", time_diff_107305);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t num_groups_x_103437 = sdiv_up64(m_92398,
                                                        tile_sizze_103435);
                int64_t num_groups_y_103438 = sdiv_up64(n_m_92409,
                                                        tile_sizze_103435);
                int64_t num_groups_top_103439 = num_groups_x_103437 *
                        num_groups_y_103438;
                int64_t num_whole_tiles_103570 = squot64(q_92401,
                                                         tile_sizze_103435);
                int64_t residual_input_103870 = srem64(q_92401,
                                                       tile_sizze_103435);
                bool cond_103871 = residual_input_103870 == (int64_t) 0;
                struct memblock_device mem_104631;
                
                mem_104631.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104631, bytes_104296,
                                          "mem_104631")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104635;
                
                mem_104635.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104635, bytes_104296,
                                          "mem_104635")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t binop_x_105117 = (int64_t) 8 * tile_sizze_103435;
                int64_t sizze_105118 = tile_sizze_103435 * binop_x_105117;
                int64_t binop_x_105175 = (int64_t) 8 * tile_sizze_103435;
                int64_t num_bytes_105176 = tile_sizze_103435 * binop_x_105175;
                int64_t binop_x_105180 = (int64_t) 8 * tile_sizze_103435;
                int64_t num_bytes_105181 = tile_sizze_103435 * binop_x_105180;
                int64_t binop_x_105185 = (int64_t) 8 * tile_sizze_103435;
                int64_t num_bytes_105186 = tile_sizze_103435 * binop_x_105185;
                int64_t binop_x_105190 = (int64_t) 8 * tile_sizze_103435;
                int64_t num_bytes_105191 = tile_sizze_103435 * binop_x_105190;
                int64_t binop_x_105195 = (int64_t) 8 * tile_sizze_103435;
                int64_t num_bytes_105196 = tile_sizze_103435 * binop_x_105195;
                int64_t maxSubHelper_105229 = umax64(binop_y_104571,
                                                     sizze_105118);
                int64_t maxSubHelper_105230 = umax64(num_bytes_105196,
                                                     maxSubHelper_105229);
                int64_t maxSubHelper_105231 = umax64(binop_y_104571,
                                                     sizze_105118);
                int64_t maxSubHelper_105232 = umax64(num_bytes_105191,
                                                     maxSubHelper_105231);
                int64_t maxSubHelper_105233 = umax64(binop_y_104571,
                                                     sizze_105118);
                int64_t maxSubHelper_105234 = umax64(num_bytes_105186,
                                                     maxSubHelper_105233);
                int64_t maxSubHelper_105235 = umax64(binop_y_104571,
                                                     sizze_105118);
                int64_t maxSubHelper_105236 = umax64(num_bytes_105181,
                                                     maxSubHelper_105235);
                int64_t maxSubHelper_105237 = umax64(sizze_105118,
                                                     num_bytes_105176);
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        1,
                                                        sizeof(ctx->failure_is_an_option),
                                                        &ctx->failure_is_an_option));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        3,
                                                        (size_t) bytes_104572,
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        4, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        5, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        6, sizeof(q_92401),
                                                        &q_92401));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        7, sizeof(jump_92403),
                                                        &jump_92403));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        8, sizeof(n_m_92409),
                                                        &n_m_92409));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        9, sizeof(i_92415),
                                                        &i_92415));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        10, sizeof(x_92416),
                                                        &x_92416));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        11,
                                                        sizeof(min_res_92421),
                                                        &min_res_92421));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        12,
                                                        sizeof(loop_cond_92426),
                                                        &loop_cond_92426));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        13,
                                                        sizeof(num_groups_x_103437),
                                                        &num_groups_x_103437));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        14,
                                                        sizeof(num_groups_y_103438),
                                                        &num_groups_y_103438));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        15,
                                                        sizeof(num_whole_tiles_103570),
                                                        &num_whole_tiles_103570));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        16,
                                                        sizeof(residual_input_103870),
                                                        &residual_input_103870));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        17, sizeof(cond_103871),
                                                        &cond_103871));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        18,
                                                        sizeof(mem_104501.mem),
                                                        &mem_104501.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        19,
                                                        sizeof(mem_104505.mem),
                                                        &mem_104505.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        20,
                                                        sizeof(mem_104509.mem),
                                                        &mem_104509.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        21,
                                                        sizeof(mem_104515.mem),
                                                        &mem_104515.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        22,
                                                        sizeof(mem_104519.mem),
                                                        &mem_104519.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        23,
                                                        sizeof(mem_104522.mem),
                                                        &mem_104522.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        24,
                                                        sizeof(mem_104525.mem),
                                                        &mem_104525.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        25,
                                                        sizeof(mem_104528.mem),
                                                        &mem_104528.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        26,
                                                        sizeof(mem_104533.mem),
                                                        &mem_104533.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        27,
                                                        sizeof(mem_104631.mem),
                                                        &mem_104631.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_103440,
                                                        28,
                                                        sizeof(mem_104635.mem),
                                                        &mem_104635.mem));
                if (1 * ((size_t) num_groups_top_103439 *
                         (size_t) binop_x_104570) != 0) {
                    const size_t global_work_sizze_107307[1] =
                                 {(size_t) num_groups_top_103439 *
                                 (size_t) binop_x_104570};
                    const size_t local_work_sizze_107311[1] =
                                 {(size_t) binop_x_104570};
                    int64_t time_start_107308 = 0, time_end_107309 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_intragroup_103440",
                                global_work_sizze_107307[0],
                                local_work_sizze_107311[0], (int) (0 +
                                                                   bytes_104572));
                        time_start_107308 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_intragroup_103440,
                                                                    1, NULL,
                                                                    global_work_sizze_107307,
                                                                    local_work_sizze_107311,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_intragroup_103440_runs,
                                                                                                              &ctx->mainzisegmap_intragroup_103440_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107309 = get_wall_time();
                        
                        long time_diff_107310 = time_end_107309 -
                             time_start_107308;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_intragroup_103440",
                                time_diff_107310);
                    }
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_104501, "mem_104501") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104505, "mem_104505") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104509, "mem_104509") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104515, "mem_104515") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104519, "mem_104519") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104522, "mem_104522") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104525, "mem_104525") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104528, "mem_104528") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104533, "mem_104533") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_104637, &mem_104631,
                                        "mem_104631") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_104636, &mem_104635,
                                        "mem_104635") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104635, "mem_104635") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104631, "mem_104631") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104533, "mem_104533") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104528, "mem_104528") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104525, "mem_104525") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104522, "mem_104522") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104519, "mem_104519") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104515, "mem_104515") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104509, "mem_104509") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104505, "mem_104505") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104501, "mem_104501") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_104639, &ext_mem_104637,
                                    "ext_mem_104637") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_104638, &ext_mem_104636,
                                    "ext_mem_104636") != 0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_104636, "ext_mem_104636") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_104637, "ext_mem_104637") !=
                0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_105072, &ext_mem_104639,
                                "ext_mem_104639") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_105071, &ext_mem_104638,
                                "ext_mem_104638") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_104638, "ext_mem_104638") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_104639, "ext_mem_104639") != 0)
            return 1;
    } else {
        bool cond_93061 = sle64(jump_threshold_2_92405, jump_92403);
        bool cond_t_res_93062 = slt64(q_92401, q_threshold_1_92406);
        bool x_93063 = cond_93061 && cond_t_res_93062;
        struct memblock_device ext_mem_105070;
        
        ext_mem_105070.references = NULL;
        
        struct memblock_device ext_mem_105069;
        
        ext_mem_105069.references = NULL;
        if (x_93063) {
            bool match_lit_93066 = (int64_t) 0 == degree_92402;
            int64_t binop_x_104640 = m_92398 * n_m_92409;
            int64_t binop_y_104641 = (int64_t) 8 * binop_x_104640;
            int64_t bytes_104642 = smax64((int64_t) 0, binop_y_104641);
            int64_t binop_x_104645 = m_92398 * n_92399;
            int64_t binop_y_104646 = (int64_t) 8 * binop_x_104645;
            int64_t bytes_104647 = smax64((int64_t) 0, binop_y_104646);
            int64_t binop_y_104664 = (int64_t) 8 * m_92398;
            int64_t bytes_104665 = smax64((int64_t) 0, binop_y_104664);
            int64_t binop_x_104677 = m_92398 * q_92401;
            int64_t binop_y_104678 = (int64_t) 8 * binop_x_104677;
            int64_t bytes_104679 = smax64((int64_t) 0, binop_y_104678);
            int64_t binop_y_104683 = (int64_t) 8 * q_92401;
            int64_t bytes_104684 = smax64((int64_t) 0, binop_y_104683);
            struct memblock_device ext_mem_104809;
            
            ext_mem_104809.references = NULL;
            
            struct memblock_device ext_mem_104808;
            
            ext_mem_104808.references = NULL;
            if (match_lit_93066) {
                struct memblock_device mem_104643;
                
                mem_104643.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104643, bytes_104642,
                                          "mem_104643")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_f64(ctx, mem_104643, m_92398 *
                                                  n_m_92409, 0.0) != 0) {
                    if (memblock_unref_device(ctx, &mem_104643, "mem_104643") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104808,
                                              "ext_mem_104808") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104809,
                                              "ext_mem_104809") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105069,
                                              "ext_mem_105069") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105070,
                                              "ext_mem_105070") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105071,
                                              "ext_mem_105071") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105072,
                                              "ext_mem_105072") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_out_105324,
                                              "mem_out_105324") != 0)
                        return 1;
                    err = 1;
                    goto cleanup;
                }
                
                int64_t segscan_group_sizze_96864;
                
                segscan_group_sizze_96864 =
                    *ctx->tuning_params.mainzisegscan_group_sizze_96844;
                
                int64_t num_groups_96865;
                int32_t max_num_groups_105819;
                
                max_num_groups_105819 =
                    *ctx->tuning_params.mainzisegscan_num_groups_96846;
                num_groups_96865 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(binop_x_104645,
                                                                        segscan_group_sizze_96864),
                                                              sext_i32_i64(max_num_groups_105819))));
                
                struct memblock_device mem_104648;
                
                mem_104648.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104648, bytes_104647,
                                          "mem_104648")) {
                    err = 1;
                    goto cleanup;
                }
                if (slt64((int64_t) 0, m_92398 * n_92399)) {
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegScan");
                    
                    int64_t stage1_max_num_groups_105820;
                    
                    stage1_max_num_groups_105820 = ctx->opencl.max_group_size;
                    
                    int64_t stage1_num_groups_105821 =
                            smin64(stage1_max_num_groups_105820,
                                   num_groups_96865);
                    int32_t num_threads_105822 =
                            sext_i64_i32(stage1_num_groups_105821 *
                            segscan_group_sizze_96864);
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_96870,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            segscan_group_sizze_96864),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_96870,
                                                            2, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_96870,
                                                            3, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_96870,
                                                            4,
                                                            sizeof(num_threads_105822),
                                                            &num_threads_105822));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_96870,
                                                            5,
                                                            sizeof(Y_mem_104293.mem),
                                                            &Y_mem_104293.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_96870,
                                                            6,
                                                            sizeof(mem_104648.mem),
                                                            &mem_104648.mem));
                    if (1 * ((size_t) stage1_num_groups_105821 *
                             (size_t) segscan_group_sizze_96864) != 0) {
                        const size_t global_work_sizze_107312[1] =
                                     {(size_t) stage1_num_groups_105821 *
                                     (size_t) segscan_group_sizze_96864};
                        const size_t local_work_sizze_107316[1] =
                                     {(size_t) segscan_group_sizze_96864};
                        int64_t time_start_107313 = 0, time_end_107314 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage1_96870",
                                    global_work_sizze_107312[0],
                                    local_work_sizze_107316[0], (int) (0 +
                                                                       smax64((int64_t) 1,
                                                                              (int64_t) 8 *
                                                                              segscan_group_sizze_96864)));
                            time_start_107313 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage1_96870,
                                                                        1, NULL,
                                                                        global_work_sizze_107312,
                                                                        local_work_sizze_107316,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage1_96870_runs,
                                                                                                                  &ctx->mainziscan_stage1_96870_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107314 = get_wall_time();
                            
                            long time_diff_107315 = time_end_107314 -
                                 time_start_107313;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage1_96870", time_diff_107315);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                                (long long) (segscan_group_sizze_96864 *
                                             sdiv_up64(m_92398 * n_92399,
                                                       sext_i32_i64(num_threads_105822))),
                                '\n');
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_96870,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            stage1_num_groups_105821),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_96870,
                                                            2, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_96870,
                                                            3, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_96870,
                                                            4,
                                                            sizeof(stage1_num_groups_105821),
                                                            &stage1_num_groups_105821));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_96870,
                                                            5,
                                                            sizeof(num_threads_105822),
                                                            &num_threads_105822));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_96870,
                                                            6,
                                                            sizeof(mem_104648.mem),
                                                            &mem_104648.mem));
                    if (1 * ((size_t) (int64_t) 1 *
                             (size_t) stage1_num_groups_105821) != 0) {
                        const size_t global_work_sizze_107317[1] =
                                     {(size_t) (int64_t) 1 *
                                     (size_t) stage1_num_groups_105821};
                        const size_t local_work_sizze_107321[1] =
                                     {(size_t) stage1_num_groups_105821};
                        int64_t time_start_107318 = 0, time_end_107319 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage2_96870",
                                    global_work_sizze_107317[0],
                                    local_work_sizze_107321[0], (int) (0 +
                                                                       smax64((int64_t) 1,
                                                                              (int64_t) 8 *
                                                                              stage1_num_groups_105821)));
                            time_start_107318 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage2_96870,
                                                                        1, NULL,
                                                                        global_work_sizze_107317,
                                                                        local_work_sizze_107321,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage2_96870_runs,
                                                                                                                  &ctx->mainziscan_stage2_96870_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107319 = get_wall_time();
                            
                            long time_diff_107320 = time_end_107319 -
                                 time_start_107318;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage2_96870", time_diff_107320);
                        }
                    }
                    
                    int32_t required_groups_105873 =
                            sext_i64_i32(sdiv_up64(m_92398 * n_92399,
                                                   segscan_group_sizze_96864));
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_96870,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_96870,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_96870,
                                                            3,
                                                            sizeof(num_groups_96865),
                                                            &num_groups_96865));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_96870,
                                                            4,
                                                            sizeof(num_threads_105822),
                                                            &num_threads_105822));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_96870,
                                                            5,
                                                            sizeof(required_groups_105873),
                                                            &required_groups_105873));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_96870,
                                                            6,
                                                            sizeof(mem_104648.mem),
                                                            &mem_104648.mem));
                    if (1 * ((size_t) num_groups_96865 *
                             (size_t) segscan_group_sizze_96864) != 0) {
                        const size_t global_work_sizze_107322[1] =
                                     {(size_t) num_groups_96865 *
                                     (size_t) segscan_group_sizze_96864};
                        const size_t local_work_sizze_107326[1] =
                                     {(size_t) segscan_group_sizze_96864};
                        int64_t time_start_107323 = 0, time_end_107324 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage3_96870",
                                    global_work_sizze_107322[0],
                                    local_work_sizze_107326[0], (int) 0);
                            time_start_107323 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage3_96870,
                                                                        1, NULL,
                                                                        global_work_sizze_107322,
                                                                        local_work_sizze_107326,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage3_96870_runs,
                                                                                                                  &ctx->mainziscan_stage3_96870_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107324 = get_wall_time();
                            
                            long time_diff_107325 = time_end_107324 -
                                 time_start_107323;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage3_96870", time_diff_107325);
                        }
                    }
                }
                
                struct memblock_device mem_104652;
                
                mem_104652.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104652, bytes_104647,
                                          "mem_104652")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_f64(ctx, mem_104652, m_92398 *
                                                  n_92399, 0.0) != 0) {
                    if (memblock_unref_device(ctx, &mem_104652, "mem_104652") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104648, "mem_104648") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104643, "mem_104643") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104808,
                                              "ext_mem_104808") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104809,
                                              "ext_mem_104809") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105069,
                                              "ext_mem_105069") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105070,
                                              "ext_mem_105070") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105071,
                                              "ext_mem_105071") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105072,
                                              "ext_mem_105072") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_out_105324,
                                              "mem_out_105324") != 0)
                        return 1;
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104656;
                
                mem_104656.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104656, bytes_104647,
                                          "mem_104656")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, mem_104656, m_92398 *
                                                  n_92399, (int64_t) -1) != 0) {
                    if (memblock_unref_device(ctx, &mem_104656, "mem_104656") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104652, "mem_104652") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104648, "mem_104648") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104643, "mem_104643") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104808,
                                              "ext_mem_104808") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_104809,
                                              "ext_mem_104809") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105069,
                                              "ext_mem_105069") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105070,
                                              "ext_mem_105070") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105071,
                                              "ext_mem_105071") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105072,
                                              "ext_mem_105072") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_out_105324,
                                              "mem_out_105324") != 0)
                        return 1;
                    err = 1;
                    goto cleanup;
                }
                
                int64_t segmap_group_sizze_96917;
                
                segmap_group_sizze_96917 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_96758;
                
                int64_t segmap_usable_groups_96918 = sdiv_up64(binop_x_104645,
                                                               segmap_group_sizze_96917);
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96923,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96923,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96923,
                                                        3,
                                                        sizeof(Y_mem_104293.mem),
                                                        &Y_mem_104293.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96923,
                                                        4,
                                                        sizeof(mem_104648.mem),
                                                        &mem_104648.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96923,
                                                        5,
                                                        sizeof(mem_104652.mem),
                                                        &mem_104652.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96923,
                                                        6,
                                                        sizeof(mem_104656.mem),
                                                        &mem_104656.mem));
                if (1 * ((size_t) segmap_usable_groups_96918 *
                         (size_t) segmap_group_sizze_96917) != 0) {
                    const size_t global_work_sizze_107327[1] =
                                 {(size_t) segmap_usable_groups_96918 *
                                 (size_t) segmap_group_sizze_96917};
                    const size_t local_work_sizze_107331[1] =
                                 {(size_t) segmap_group_sizze_96917};
                    int64_t time_start_107328 = 0, time_end_107329 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_96923",
                                global_work_sizze_107327[0],
                                local_work_sizze_107331[0], (int) 0);
                        time_start_107328 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_96923,
                                                                    1, NULL,
                                                                    global_work_sizze_107327,
                                                                    local_work_sizze_107331,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_96923_runs,
                                                                                                              &ctx->mainzisegmap_96923_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107329 = get_wall_time();
                        
                        long time_diff_107330 = time_end_107329 -
                             time_start_107328;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_96923", time_diff_107330);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_96937;
                
                segmap_group_sizze_96937 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_96732;
                
                int64_t segmap_usable_groups_96938 = sdiv_up64(binop_x_104645,
                                                               segmap_group_sizze_96937);
                struct memblock_device mem_104662;
                
                mem_104662.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104662, bytes_104647,
                                          "mem_104662")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96942,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96942,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96942,
                                                        3,
                                                        sizeof(mem_104656.mem),
                                                        &mem_104656.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96942,
                                                        4,
                                                        sizeof(mem_104662.mem),
                                                        &mem_104662.mem));
                if (1 * ((size_t) segmap_usable_groups_96938 *
                         (size_t) segmap_group_sizze_96937) != 0) {
                    const size_t global_work_sizze_107332[1] =
                                 {(size_t) segmap_usable_groups_96938 *
                                 (size_t) segmap_group_sizze_96937};
                    const size_t local_work_sizze_107336[1] =
                                 {(size_t) segmap_group_sizze_96937};
                    int64_t time_start_107333 = 0, time_end_107334 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_96942",
                                global_work_sizze_107332[0],
                                local_work_sizze_107336[0], (int) 0);
                        time_start_107333 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_96942,
                                                                    1, NULL,
                                                                    global_work_sizze_107332,
                                                                    local_work_sizze_107336,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_96942_runs,
                                                                                                              &ctx->mainzisegmap_96942_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107334 = get_wall_time();
                        
                        long time_diff_107335 = time_end_107334 -
                             time_start_107333;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_96942", time_diff_107335);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_96947;
                
                segmap_group_sizze_96947 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_96706;
                
                int64_t segmap_usable_groups_96948 = sdiv_up64(m_92398,
                                                               segmap_group_sizze_96947);
                struct memblock_device mem_104666;
                
                mem_104666.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104666, bytes_104665,
                                          "mem_104666")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104669;
                
                mem_104669.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104669, bytes_104665,
                                          "mem_104669")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104672;
                
                mem_104672.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104672, bytes_104665,
                                          "mem_104672")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104675;
                
                mem_104675.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104675, bytes_104665,
                                          "mem_104675")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96954,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96954,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96954,
                                                        3, sizeof(q_92401),
                                                        &q_92401));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96954,
                                                        4, sizeof(i_92415),
                                                        &i_92415));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96954,
                                                        5,
                                                        sizeof(min_res_92421),
                                                        &min_res_92421));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96954,
                                                        6,
                                                        sizeof(i64_res_92427),
                                                        &i64_res_92427));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96954,
                                                        7,
                                                        sizeof(mem_104648.mem),
                                                        &mem_104648.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96954,
                                                        8,
                                                        sizeof(mem_104666.mem),
                                                        &mem_104666.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96954,
                                                        9,
                                                        sizeof(mem_104669.mem),
                                                        &mem_104669.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96954,
                                                        10,
                                                        sizeof(mem_104672.mem),
                                                        &mem_104672.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96954,
                                                        11,
                                                        sizeof(mem_104675.mem),
                                                        &mem_104675.mem));
                if (1 * ((size_t) segmap_usable_groups_96948 *
                         (size_t) segmap_group_sizze_96947) != 0) {
                    const size_t global_work_sizze_107337[1] =
                                 {(size_t) segmap_usable_groups_96948 *
                                 (size_t) segmap_group_sizze_96947};
                    const size_t local_work_sizze_107341[1] =
                                 {(size_t) segmap_group_sizze_96947};
                    int64_t time_start_107338 = 0, time_end_107339 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_96954",
                                global_work_sizze_107337[0],
                                local_work_sizze_107341[0], (int) 0);
                        time_start_107338 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_96954,
                                                                    1, NULL,
                                                                    global_work_sizze_107337,
                                                                    local_work_sizze_107341,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_96954_runs,
                                                                                                              &ctx->mainzisegmap_96954_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107339 = get_wall_time();
                        
                        long time_diff_107340 = time_end_107339 -
                             time_start_107338;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_96954", time_diff_107340);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_96969;
                
                segmap_group_sizze_96969 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_96681;
                
                int64_t segmap_usable_groups_96970 = sdiv_up64(binop_x_104677,
                                                               segmap_group_sizze_96969);
                struct memblock_device mem_104680;
                
                mem_104680.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104680, bytes_104679,
                                          "mem_104680")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96974,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96974,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96974,
                                                        3, sizeof(q_92401),
                                                        &q_92401));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96974,
                                                        4, sizeof(i_92415),
                                                        &i_92415));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96974,
                                                        5,
                                                        sizeof(mem_104648.mem),
                                                        &mem_104648.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_96974,
                                                        6,
                                                        sizeof(mem_104680.mem),
                                                        &mem_104680.mem));
                if (1 * ((size_t) segmap_usable_groups_96970 *
                         (size_t) segmap_group_sizze_96969) != 0) {
                    const size_t global_work_sizze_107342[1] =
                                 {(size_t) segmap_usable_groups_96970 *
                                 (size_t) segmap_group_sizze_96969};
                    const size_t local_work_sizze_107346[1] =
                                 {(size_t) segmap_group_sizze_96969};
                    int64_t time_start_107343 = 0, time_end_107344 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_96974",
                                global_work_sizze_107342[0],
                                local_work_sizze_107346[0], (int) 0);
                        time_start_107343 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_96974,
                                                                    1, NULL,
                                                                    global_work_sizze_107342,
                                                                    local_work_sizze_107346,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_96974_runs,
                                                                                                              &ctx->mainzisegmap_96974_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107344 = get_wall_time();
                        
                        long time_diff_107345 = time_end_107344 -
                             time_start_107343;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_96974", time_diff_107345);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                struct memblock_device mem_104690;
                
                mem_104690.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104690, bytes_104642,
                                          "mem_104690")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        1,
                                                        sizeof(ctx->failure_is_an_option),
                                                        &ctx->failure_is_an_option));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        3,
                                                        (size_t) ((int64_t) 8 *
                                                                  q_92401),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        4,
                                                        (size_t) ((int64_t) 8 *
                                                                  q_92401),
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        5,
                                                        (size_t) bytes_104684,
                                                        NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        6, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        7, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        8, sizeof(q_92401),
                                                        &q_92401));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        9, sizeof(jump_92403),
                                                        &jump_92403));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        10, sizeof(n_m_92409),
                                                        &n_m_92409));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        11, sizeof(i_92415),
                                                        &i_92415));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        12, sizeof(x_92416),
                                                        &x_92416));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        13,
                                                        sizeof(min_res_92421),
                                                        &min_res_92421));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        14,
                                                        sizeof(loop_cond_92426),
                                                        &loop_cond_92426));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        15,
                                                        sizeof(mem_104648.mem),
                                                        &mem_104648.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        16,
                                                        sizeof(mem_104652.mem),
                                                        &mem_104652.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        17,
                                                        sizeof(mem_104656.mem),
                                                        &mem_104656.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        18,
                                                        sizeof(mem_104662.mem),
                                                        &mem_104662.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        19,
                                                        sizeof(mem_104666.mem),
                                                        &mem_104666.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        20,
                                                        sizeof(mem_104669.mem),
                                                        &mem_104669.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        21,
                                                        sizeof(mem_104672.mem),
                                                        &mem_104672.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        22,
                                                        sizeof(mem_104675.mem),
                                                        &mem_104675.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        23,
                                                        sizeof(mem_104680.mem),
                                                        &mem_104680.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_96990,
                                                        24,
                                                        sizeof(mem_104690.mem),
                                                        &mem_104690.mem));
                if (1 * ((size_t) binop_x_104640 * (size_t) q_92401) != 0) {
                    const size_t global_work_sizze_107347[1] =
                                 {(size_t) binop_x_104640 * (size_t) q_92401};
                    const size_t local_work_sizze_107351[1] =
                                 {(size_t) q_92401};
                    int64_t time_start_107348 = 0, time_end_107349 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_intragroup_96990",
                                global_work_sizze_107347[0],
                                local_work_sizze_107351[0], (int) (0 +
                                                                   (int64_t) 8 *
                                                                   q_92401 +
                                                                   (int64_t) 8 *
                                                                   q_92401 +
                                                                   bytes_104684));
                        time_start_107348 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_intragroup_96990,
                                                                    1, NULL,
                                                                    global_work_sizze_107347,
                                                                    local_work_sizze_107351,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_intragroup_96990_runs,
                                                                                                              &ctx->mainzisegmap_intragroup_96990_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107349 = get_wall_time();
                        
                        long time_diff_107350 = time_end_107349 -
                             time_start_107348;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_intragroup_96990",
                                time_diff_107350);
                    }
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_104648, "mem_104648") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104652, "mem_104652") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104656, "mem_104656") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104662, "mem_104662") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104666, "mem_104666") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104669, "mem_104669") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104672, "mem_104672") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104675, "mem_104675") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104680, "mem_104680") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_104809, &mem_104690,
                                        "mem_104690") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_104808, &mem_104643,
                                        "mem_104643") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104690, "mem_104690") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104680, "mem_104680") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104675, "mem_104675") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104672, "mem_104672") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104669, "mem_104669") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104666, "mem_104666") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104662, "mem_104662") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104656, "mem_104656") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104652, "mem_104652") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104648, "mem_104648") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104643, "mem_104643") != 0)
                    return 1;
            } else {
                bool match_lit_93232 = (int64_t) 1 == degree_92402;
                struct memblock_device ext_mem_104807;
                
                ext_mem_104807.references = NULL;
                
                struct memblock_device ext_mem_104806;
                
                ext_mem_104806.references = NULL;
                if (match_lit_93232) {
                    int64_t segscan_group_sizze_97531;
                    
                    segscan_group_sizze_97531 =
                        *ctx->tuning_params.mainzisegscan_group_sizze_97511;
                    
                    int64_t num_groups_97532;
                    int32_t max_num_groups_105950;
                    
                    max_num_groups_105950 =
                        *ctx->tuning_params.mainzisegscan_num_groups_97513;
                    num_groups_97532 = sext_i64_i32(smax64((int64_t) 1,
                                                           smin64(sdiv_up64(binop_x_104645,
                                                                            segscan_group_sizze_97531),
                                                                  sext_i32_i64(max_num_groups_105950))));
                    
                    struct memblock_device mem_104695;
                    
                    mem_104695.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104695, bytes_104647,
                                              "mem_104695")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64((int64_t) 0, m_92398 * n_92399)) {
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegScan");
                        
                        int64_t stage1_max_num_groups_105951;
                        
                        stage1_max_num_groups_105951 =
                            ctx->opencl.max_group_size;
                        
                        int64_t stage1_num_groups_105952 =
                                smin64(stage1_max_num_groups_105951,
                                       num_groups_97532);
                        int32_t num_threads_105953 =
                                sext_i64_i32(stage1_num_groups_105952 *
                                segscan_group_sizze_97531);
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_97537,
                                                                1,
                                                                (size_t) smax64((int64_t) 1,
                                                                                (int64_t) 8 *
                                                                                segscan_group_sizze_97531),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_97537,
                                                                2,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_97537,
                                                                3,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_97537,
                                                                4,
                                                                sizeof(num_threads_105953),
                                                                &num_threads_105953));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_97537,
                                                                5,
                                                                sizeof(Y_mem_104293.mem),
                                                                &Y_mem_104293.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_97537,
                                                                6,
                                                                sizeof(mem_104695.mem),
                                                                &mem_104695.mem));
                        if (1 * ((size_t) stage1_num_groups_105952 *
                                 (size_t) segscan_group_sizze_97531) != 0) {
                            const size_t global_work_sizze_107352[1] =
                                         {(size_t) stage1_num_groups_105952 *
                                         (size_t) segscan_group_sizze_97531};
                            const size_t local_work_sizze_107356[1] =
                                         {(size_t) segscan_group_sizze_97531};
                            int64_t time_start_107353 = 0, time_end_107354 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage1_97537",
                                        global_work_sizze_107352[0],
                                        local_work_sizze_107356[0], (int) (0 +
                                                                           smax64((int64_t) 1,
                                                                                  (int64_t) 8 *
                                                                                  segscan_group_sizze_97531)));
                                time_start_107353 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage1_97537,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107352,
                                                                            local_work_sizze_107356,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage1_97537_runs,
                                                                                                                      &ctx->mainziscan_stage1_97537_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107354 = get_wall_time();
                                
                                long time_diff_107355 = time_end_107354 -
                                     time_start_107353;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage1_97537",
                                        time_diff_107355);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                                    (long long) (segscan_group_sizze_97531 *
                                                 sdiv_up64(m_92398 * n_92399,
                                                           sext_i32_i64(num_threads_105953))),
                                    '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_97537,
                                                                1,
                                                                (size_t) smax64((int64_t) 1,
                                                                                (int64_t) 8 *
                                                                                stage1_num_groups_105952),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_97537,
                                                                2,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_97537,
                                                                3,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_97537,
                                                                4,
                                                                sizeof(stage1_num_groups_105952),
                                                                &stage1_num_groups_105952));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_97537,
                                                                5,
                                                                sizeof(num_threads_105953),
                                                                &num_threads_105953));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_97537,
                                                                6,
                                                                sizeof(mem_104695.mem),
                                                                &mem_104695.mem));
                        if (1 * ((size_t) (int64_t) 1 *
                                 (size_t) stage1_num_groups_105952) != 0) {
                            const size_t global_work_sizze_107357[1] =
                                         {(size_t) (int64_t) 1 *
                                         (size_t) stage1_num_groups_105952};
                            const size_t local_work_sizze_107361[1] =
                                         {(size_t) stage1_num_groups_105952};
                            int64_t time_start_107358 = 0, time_end_107359 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage2_97537",
                                        global_work_sizze_107357[0],
                                        local_work_sizze_107361[0], (int) (0 +
                                                                           smax64((int64_t) 1,
                                                                                  (int64_t) 8 *
                                                                                  stage1_num_groups_105952)));
                                time_start_107358 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage2_97537,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107357,
                                                                            local_work_sizze_107361,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage2_97537_runs,
                                                                                                                      &ctx->mainziscan_stage2_97537_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107359 = get_wall_time();
                                
                                long time_diff_107360 = time_end_107359 -
                                     time_start_107358;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage2_97537",
                                        time_diff_107360);
                            }
                        }
                        
                        int32_t required_groups_106004 =
                                sext_i64_i32(sdiv_up64(m_92398 * n_92399,
                                                       segscan_group_sizze_97531));
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_97537,
                                                                1,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_97537,
                                                                2,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_97537,
                                                                3,
                                                                sizeof(num_groups_97532),
                                                                &num_groups_97532));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_97537,
                                                                4,
                                                                sizeof(num_threads_105953),
                                                                &num_threads_105953));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_97537,
                                                                5,
                                                                sizeof(required_groups_106004),
                                                                &required_groups_106004));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_97537,
                                                                6,
                                                                sizeof(mem_104695.mem),
                                                                &mem_104695.mem));
                        if (1 * ((size_t) num_groups_97532 *
                                 (size_t) segscan_group_sizze_97531) != 0) {
                            const size_t global_work_sizze_107362[1] =
                                         {(size_t) num_groups_97532 *
                                         (size_t) segscan_group_sizze_97531};
                            const size_t local_work_sizze_107366[1] =
                                         {(size_t) segscan_group_sizze_97531};
                            int64_t time_start_107363 = 0, time_end_107364 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage3_97537",
                                        global_work_sizze_107362[0],
                                        local_work_sizze_107366[0], (int) 0);
                                time_start_107363 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage3_97537,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107362,
                                                                            local_work_sizze_107366,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage3_97537_runs,
                                                                                                                      &ctx->mainziscan_stage3_97537_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107364 = get_wall_time();
                                
                                long time_diff_107365 = time_end_107364 -
                                     time_start_107363;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage3_97537",
                                        time_diff_107365);
                            }
                        }
                    }
                    
                    struct memblock_device mem_104699;
                    
                    mem_104699.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104699, bytes_104647,
                                              "mem_104699")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhreplicate_f64(ctx, mem_104699, m_92398 *
                                                      n_92399, 0.0) != 0) {
                        if (memblock_unref_device(ctx, &mem_104699,
                                                  "mem_104699") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_104695,
                                                  "mem_104695") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104806,
                                                  "ext_mem_104806") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104807,
                                                  "ext_mem_104807") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104808,
                                                  "ext_mem_104808") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104809,
                                                  "ext_mem_104809") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105069,
                                                  "ext_mem_105069") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105070,
                                                  "ext_mem_105070") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105071,
                                                  "ext_mem_105071") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105072,
                                                  "ext_mem_105072") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_out_105324,
                                                  "mem_out_105324") != 0)
                            return 1;
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104703;
                    
                    mem_104703.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104703, bytes_104647,
                                              "mem_104703")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhreplicate_i64(ctx, mem_104703, m_92398 *
                                                      n_92399, (int64_t) -1) !=
                        0) {
                        if (memblock_unref_device(ctx, &mem_104703,
                                                  "mem_104703") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_104699,
                                                  "mem_104699") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_104695,
                                                  "mem_104695") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104806,
                                                  "ext_mem_104806") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104807,
                                                  "ext_mem_104807") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104808,
                                                  "ext_mem_104808") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104809,
                                                  "ext_mem_104809") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105069,
                                                  "ext_mem_105069") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105070,
                                                  "ext_mem_105070") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105071,
                                                  "ext_mem_105071") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105072,
                                                  "ext_mem_105072") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_out_105324,
                                                  "mem_out_105324") != 0)
                            return 1;
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t segmap_group_sizze_97584;
                    
                    segmap_group_sizze_97584 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_97425;
                    
                    int64_t segmap_usable_groups_97585 =
                            sdiv_up64(binop_x_104645, segmap_group_sizze_97584);
                    
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97590,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97590,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97590,
                                                            3,
                                                            sizeof(Y_mem_104293.mem),
                                                            &Y_mem_104293.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97590,
                                                            4,
                                                            sizeof(mem_104695.mem),
                                                            &mem_104695.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97590,
                                                            5,
                                                            sizeof(mem_104699.mem),
                                                            &mem_104699.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97590,
                                                            6,
                                                            sizeof(mem_104703.mem),
                                                            &mem_104703.mem));
                    if (1 * ((size_t) segmap_usable_groups_97585 *
                             (size_t) segmap_group_sizze_97584) != 0) {
                        const size_t global_work_sizze_107367[1] =
                                     {(size_t) segmap_usable_groups_97585 *
                                     (size_t) segmap_group_sizze_97584};
                        const size_t local_work_sizze_107371[1] =
                                     {(size_t) segmap_group_sizze_97584};
                        int64_t time_start_107368 = 0, time_end_107369 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_97590",
                                    global_work_sizze_107367[0],
                                    local_work_sizze_107371[0], (int) 0);
                            time_start_107368 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_97590,
                                                                        1, NULL,
                                                                        global_work_sizze_107367,
                                                                        local_work_sizze_107371,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_97590_runs,
                                                                                                                  &ctx->mainzisegmap_97590_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107369 = get_wall_time();
                            
                            long time_diff_107370 = time_end_107369 -
                                 time_start_107368;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_97590", time_diff_107370);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_97604;
                    
                    segmap_group_sizze_97604 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_97399;
                    
                    int64_t segmap_usable_groups_97605 =
                            sdiv_up64(binop_x_104645, segmap_group_sizze_97604);
                    struct memblock_device mem_104709;
                    
                    mem_104709.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104709, bytes_104647,
                                              "mem_104709")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97609,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97609,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97609,
                                                            3,
                                                            sizeof(mem_104703.mem),
                                                            &mem_104703.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97609,
                                                            4,
                                                            sizeof(mem_104709.mem),
                                                            &mem_104709.mem));
                    if (1 * ((size_t) segmap_usable_groups_97605 *
                             (size_t) segmap_group_sizze_97604) != 0) {
                        const size_t global_work_sizze_107372[1] =
                                     {(size_t) segmap_usable_groups_97605 *
                                     (size_t) segmap_group_sizze_97604};
                        const size_t local_work_sizze_107376[1] =
                                     {(size_t) segmap_group_sizze_97604};
                        int64_t time_start_107373 = 0, time_end_107374 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_97609",
                                    global_work_sizze_107372[0],
                                    local_work_sizze_107376[0], (int) 0);
                            time_start_107373 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_97609,
                                                                        1, NULL,
                                                                        global_work_sizze_107372,
                                                                        local_work_sizze_107376,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_97609_runs,
                                                                                                                  &ctx->mainzisegmap_97609_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107374 = get_wall_time();
                            
                            long time_diff_107375 = time_end_107374 -
                                 time_start_107373;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_97609", time_diff_107375);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_97614;
                    
                    segmap_group_sizze_97614 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_97373;
                    
                    int64_t segmap_usable_groups_97615 = sdiv_up64(m_92398,
                                                                   segmap_group_sizze_97614);
                    struct memblock_device mem_104713;
                    
                    mem_104713.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104713, bytes_104665,
                                              "mem_104713")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104716;
                    
                    mem_104716.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104716, bytes_104665,
                                              "mem_104716")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104719;
                    
                    mem_104719.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104719, bytes_104665,
                                              "mem_104719")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104722;
                    
                    mem_104722.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104722, bytes_104665,
                                              "mem_104722")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97621,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97621,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97621,
                                                            3, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97621,
                                                            4, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97621,
                                                            5,
                                                            sizeof(min_res_92421),
                                                            &min_res_92421));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97621,
                                                            6,
                                                            sizeof(i64_res_92427),
                                                            &i64_res_92427));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97621,
                                                            7,
                                                            sizeof(mem_104695.mem),
                                                            &mem_104695.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97621,
                                                            8,
                                                            sizeof(mem_104713.mem),
                                                            &mem_104713.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97621,
                                                            9,
                                                            sizeof(mem_104716.mem),
                                                            &mem_104716.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97621,
                                                            10,
                                                            sizeof(mem_104719.mem),
                                                            &mem_104719.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97621,
                                                            11,
                                                            sizeof(mem_104722.mem),
                                                            &mem_104722.mem));
                    if (1 * ((size_t) segmap_usable_groups_97615 *
                             (size_t) segmap_group_sizze_97614) != 0) {
                        const size_t global_work_sizze_107377[1] =
                                     {(size_t) segmap_usable_groups_97615 *
                                     (size_t) segmap_group_sizze_97614};
                        const size_t local_work_sizze_107381[1] =
                                     {(size_t) segmap_group_sizze_97614};
                        int64_t time_start_107378 = 0, time_end_107379 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_97621",
                                    global_work_sizze_107377[0],
                                    local_work_sizze_107381[0], (int) 0);
                            time_start_107378 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_97621,
                                                                        1, NULL,
                                                                        global_work_sizze_107377,
                                                                        local_work_sizze_107381,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_97621_runs,
                                                                                                                  &ctx->mainzisegmap_97621_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107379 = get_wall_time();
                            
                            long time_diff_107380 = time_end_107379 -
                                 time_start_107378;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_97621", time_diff_107380);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_97636;
                    
                    segmap_group_sizze_97636 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_97348;
                    
                    int64_t segmap_usable_groups_97637 =
                            sdiv_up64(binop_x_104677, segmap_group_sizze_97636);
                    struct memblock_device mem_104727;
                    
                    mem_104727.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104727, bytes_104679,
                                              "mem_104727")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97641,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97641,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97641,
                                                            3, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97641,
                                                            4, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97641,
                                                            5,
                                                            sizeof(mem_104695.mem),
                                                            &mem_104695.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_97641,
                                                            6,
                                                            sizeof(mem_104727.mem),
                                                            &mem_104727.mem));
                    if (1 * ((size_t) segmap_usable_groups_97637 *
                             (size_t) segmap_group_sizze_97636) != 0) {
                        const size_t global_work_sizze_107382[1] =
                                     {(size_t) segmap_usable_groups_97637 *
                                     (size_t) segmap_group_sizze_97636};
                        const size_t local_work_sizze_107386[1] =
                                     {(size_t) segmap_group_sizze_97636};
                        int64_t time_start_107383 = 0, time_end_107384 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_97641",
                                    global_work_sizze_107382[0],
                                    local_work_sizze_107386[0], (int) 0);
                            time_start_107383 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_97641,
                                                                        1, NULL,
                                                                        global_work_sizze_107382,
                                                                        local_work_sizze_107386,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_97641_runs,
                                                                                                                  &ctx->mainzisegmap_97641_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107384 = get_wall_time();
                            
                            long time_diff_107385 = time_end_107384 -
                                 time_start_107383;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_97641", time_diff_107385);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    struct memblock_device mem_104740;
                    
                    mem_104740.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104740, bytes_104642,
                                              "mem_104740")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104744;
                    
                    mem_104744.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104744, bytes_104642,
                                              "mem_104744")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            1,
                                                            sizeof(ctx->failure_is_an_option),
                                                            &ctx->failure_is_an_option));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            3,
                                                            (size_t) ((int64_t) 8 *
                                                                      q_92401),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            4,
                                                            (size_t) ((int64_t) 8 *
                                                                      q_92401),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            5,
                                                            (size_t) ((int64_t) 8 *
                                                                      q_92401),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            6,
                                                            (size_t) ((int64_t) 8 *
                                                                      q_92401),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            7,
                                                            (size_t) ((int64_t) 8 *
                                                                      q_92401),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            8,
                                                            (size_t) bytes_104684,
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            9,
                                                            (size_t) bytes_104684,
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            10, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            11, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            12, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            13,
                                                            sizeof(jump_92403),
                                                            &jump_92403));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            14,
                                                            sizeof(n_m_92409),
                                                            &n_m_92409));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            15, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            16, sizeof(x_92416),
                                                            &x_92416));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            17,
                                                            sizeof(min_res_92421),
                                                            &min_res_92421));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            18,
                                                            sizeof(loop_cond_92426),
                                                            &loop_cond_92426));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            19,
                                                            sizeof(mem_104695.mem),
                                                            &mem_104695.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            20,
                                                            sizeof(mem_104699.mem),
                                                            &mem_104699.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            21,
                                                            sizeof(mem_104703.mem),
                                                            &mem_104703.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            22,
                                                            sizeof(mem_104709.mem),
                                                            &mem_104709.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            23,
                                                            sizeof(mem_104713.mem),
                                                            &mem_104713.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            24,
                                                            sizeof(mem_104716.mem),
                                                            &mem_104716.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            25,
                                                            sizeof(mem_104719.mem),
                                                            &mem_104719.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            26,
                                                            sizeof(mem_104722.mem),
                                                            &mem_104722.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            27,
                                                            sizeof(mem_104727.mem),
                                                            &mem_104727.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            28,
                                                            sizeof(mem_104740.mem),
                                                            &mem_104740.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_97658,
                                                            29,
                                                            sizeof(mem_104744.mem),
                                                            &mem_104744.mem));
                    if (1 * ((size_t) binop_x_104640 * (size_t) q_92401) != 0) {
                        const size_t global_work_sizze_107387[1] =
                                     {(size_t) binop_x_104640 *
                                     (size_t) q_92401};
                        const size_t local_work_sizze_107391[1] =
                                     {(size_t) q_92401};
                        int64_t time_start_107388 = 0, time_end_107389 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_intragroup_97658",
                                    global_work_sizze_107387[0],
                                    local_work_sizze_107391[0], (int) (0 +
                                                                       (int64_t) 8 *
                                                                       q_92401 +
                                                                       (int64_t) 8 *
                                                                       q_92401 +
                                                                       (int64_t) 8 *
                                                                       q_92401 +
                                                                       (int64_t) 8 *
                                                                       q_92401 +
                                                                       (int64_t) 8 *
                                                                       q_92401 +
                                                                       bytes_104684 +
                                                                       bytes_104684));
                            time_start_107388 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_intragroup_97658,
                                                                        1, NULL,
                                                                        global_work_sizze_107387,
                                                                        local_work_sizze_107391,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_intragroup_97658_runs,
                                                                                                                  &ctx->mainzisegmap_intragroup_97658_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107389 = get_wall_time();
                            
                            long time_diff_107390 = time_end_107389 -
                                 time_start_107388;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_intragroup_97658",
                                    time_diff_107390);
                        }
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_104695, "mem_104695") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104699, "mem_104699") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104703, "mem_104703") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104709, "mem_104709") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104713, "mem_104713") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104716, "mem_104716") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104719, "mem_104719") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104722, "mem_104722") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104727, "mem_104727") !=
                        0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_104807, &mem_104740,
                                            "mem_104740") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_104806, &mem_104744,
                                            "mem_104744") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104744, "mem_104744") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104740, "mem_104740") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104727, "mem_104727") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104722, "mem_104722") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104719, "mem_104719") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104716, "mem_104716") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104713, "mem_104713") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104709, "mem_104709") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104703, "mem_104703") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104699, "mem_104699") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104695, "mem_104695") !=
                        0)
                        return 1;
                } else {
                    int64_t segscan_group_sizze_98288;
                    
                    segscan_group_sizze_98288 =
                        *ctx->tuning_params.mainzisegscan_group_sizze_98268;
                    
                    int64_t num_groups_98289;
                    int32_t max_num_groups_106087;
                    
                    max_num_groups_106087 =
                        *ctx->tuning_params.mainzisegscan_num_groups_98270;
                    num_groups_98289 = sext_i64_i32(smax64((int64_t) 1,
                                                           smin64(sdiv_up64(binop_x_104645,
                                                                            segscan_group_sizze_98288),
                                                                  sext_i32_i64(max_num_groups_106087))));
                    
                    struct memblock_device mem_104749;
                    
                    mem_104749.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104749, bytes_104647,
                                              "mem_104749")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64((int64_t) 0, m_92398 * n_92399)) {
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegScan");
                        
                        int64_t stage1_max_num_groups_106088;
                        
                        stage1_max_num_groups_106088 =
                            ctx->opencl.max_group_size;
                        
                        int64_t stage1_num_groups_106089 =
                                smin64(stage1_max_num_groups_106088,
                                       num_groups_98289);
                        int32_t num_threads_106090 =
                                sext_i64_i32(stage1_num_groups_106089 *
                                segscan_group_sizze_98288);
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_98294,
                                                                1,
                                                                (size_t) smax64((int64_t) 1,
                                                                                (int64_t) 8 *
                                                                                segscan_group_sizze_98288),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_98294,
                                                                2,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_98294,
                                                                3,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_98294,
                                                                4,
                                                                sizeof(num_threads_106090),
                                                                &num_threads_106090));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_98294,
                                                                5,
                                                                sizeof(Y_mem_104293.mem),
                                                                &Y_mem_104293.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_98294,
                                                                6,
                                                                sizeof(mem_104749.mem),
                                                                &mem_104749.mem));
                        if (1 * ((size_t) stage1_num_groups_106089 *
                                 (size_t) segscan_group_sizze_98288) != 0) {
                            const size_t global_work_sizze_107392[1] =
                                         {(size_t) stage1_num_groups_106089 *
                                         (size_t) segscan_group_sizze_98288};
                            const size_t local_work_sizze_107396[1] =
                                         {(size_t) segscan_group_sizze_98288};
                            int64_t time_start_107393 = 0, time_end_107394 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage1_98294",
                                        global_work_sizze_107392[0],
                                        local_work_sizze_107396[0], (int) (0 +
                                                                           smax64((int64_t) 1,
                                                                                  (int64_t) 8 *
                                                                                  segscan_group_sizze_98288)));
                                time_start_107393 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage1_98294,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107392,
                                                                            local_work_sizze_107396,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage1_98294_runs,
                                                                                                                      &ctx->mainziscan_stage1_98294_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107394 = get_wall_time();
                                
                                long time_diff_107395 = time_end_107394 -
                                     time_start_107393;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage1_98294",
                                        time_diff_107395);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                                    (long long) (segscan_group_sizze_98288 *
                                                 sdiv_up64(m_92398 * n_92399,
                                                           sext_i32_i64(num_threads_106090))),
                                    '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_98294,
                                                                1,
                                                                (size_t) smax64((int64_t) 1,
                                                                                (int64_t) 8 *
                                                                                stage1_num_groups_106089),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_98294,
                                                                2,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_98294,
                                                                3,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_98294,
                                                                4,
                                                                sizeof(stage1_num_groups_106089),
                                                                &stage1_num_groups_106089));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_98294,
                                                                5,
                                                                sizeof(num_threads_106090),
                                                                &num_threads_106090));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_98294,
                                                                6,
                                                                sizeof(mem_104749.mem),
                                                                &mem_104749.mem));
                        if (1 * ((size_t) (int64_t) 1 *
                                 (size_t) stage1_num_groups_106089) != 0) {
                            const size_t global_work_sizze_107397[1] =
                                         {(size_t) (int64_t) 1 *
                                         (size_t) stage1_num_groups_106089};
                            const size_t local_work_sizze_107401[1] =
                                         {(size_t) stage1_num_groups_106089};
                            int64_t time_start_107398 = 0, time_end_107399 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage2_98294",
                                        global_work_sizze_107397[0],
                                        local_work_sizze_107401[0], (int) (0 +
                                                                           smax64((int64_t) 1,
                                                                                  (int64_t) 8 *
                                                                                  stage1_num_groups_106089)));
                                time_start_107398 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage2_98294,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107397,
                                                                            local_work_sizze_107401,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage2_98294_runs,
                                                                                                                      &ctx->mainziscan_stage2_98294_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107399 = get_wall_time();
                                
                                long time_diff_107400 = time_end_107399 -
                                     time_start_107398;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage2_98294",
                                        time_diff_107400);
                            }
                        }
                        
                        int32_t required_groups_106141 =
                                sext_i64_i32(sdiv_up64(m_92398 * n_92399,
                                                       segscan_group_sizze_98288));
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_98294,
                                                                1,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_98294,
                                                                2,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_98294,
                                                                3,
                                                                sizeof(num_groups_98289),
                                                                &num_groups_98289));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_98294,
                                                                4,
                                                                sizeof(num_threads_106090),
                                                                &num_threads_106090));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_98294,
                                                                5,
                                                                sizeof(required_groups_106141),
                                                                &required_groups_106141));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_98294,
                                                                6,
                                                                sizeof(mem_104749.mem),
                                                                &mem_104749.mem));
                        if (1 * ((size_t) num_groups_98289 *
                                 (size_t) segscan_group_sizze_98288) != 0) {
                            const size_t global_work_sizze_107402[1] =
                                         {(size_t) num_groups_98289 *
                                         (size_t) segscan_group_sizze_98288};
                            const size_t local_work_sizze_107406[1] =
                                         {(size_t) segscan_group_sizze_98288};
                            int64_t time_start_107403 = 0, time_end_107404 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage3_98294",
                                        global_work_sizze_107402[0],
                                        local_work_sizze_107406[0], (int) 0);
                                time_start_107403 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage3_98294,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107402,
                                                                            local_work_sizze_107406,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage3_98294_runs,
                                                                                                                      &ctx->mainziscan_stage3_98294_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107404 = get_wall_time();
                                
                                long time_diff_107405 = time_end_107404 -
                                     time_start_107403;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage3_98294",
                                        time_diff_107405);
                            }
                        }
                    }
                    
                    struct memblock_device mem_104753;
                    
                    mem_104753.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104753, bytes_104647,
                                              "mem_104753")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhreplicate_f64(ctx, mem_104753, m_92398 *
                                                      n_92399, 0.0) != 0) {
                        if (memblock_unref_device(ctx, &mem_104753,
                                                  "mem_104753") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_104749,
                                                  "mem_104749") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104806,
                                                  "ext_mem_104806") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104807,
                                                  "ext_mem_104807") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104808,
                                                  "ext_mem_104808") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104809,
                                                  "ext_mem_104809") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105069,
                                                  "ext_mem_105069") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105070,
                                                  "ext_mem_105070") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105071,
                                                  "ext_mem_105071") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105072,
                                                  "ext_mem_105072") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_out_105324,
                                                  "mem_out_105324") != 0)
                            return 1;
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104757;
                    
                    mem_104757.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104757, bytes_104647,
                                              "mem_104757")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhreplicate_i64(ctx, mem_104757, m_92398 *
                                                      n_92399, (int64_t) -1) !=
                        0) {
                        if (memblock_unref_device(ctx, &mem_104757,
                                                  "mem_104757") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_104753,
                                                  "mem_104753") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_104749,
                                                  "mem_104749") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104806,
                                                  "ext_mem_104806") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104807,
                                                  "ext_mem_104807") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104808,
                                                  "ext_mem_104808") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_104809,
                                                  "ext_mem_104809") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105069,
                                                  "ext_mem_105069") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105070,
                                                  "ext_mem_105070") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105071,
                                                  "ext_mem_105071") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105072,
                                                  "ext_mem_105072") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_out_105324,
                                                  "mem_out_105324") != 0)
                            return 1;
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t segmap_group_sizze_98341;
                    
                    segmap_group_sizze_98341 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_98182;
                    
                    int64_t segmap_usable_groups_98342 =
                            sdiv_up64(binop_x_104645, segmap_group_sizze_98341);
                    
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98347,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98347,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98347,
                                                            3,
                                                            sizeof(Y_mem_104293.mem),
                                                            &Y_mem_104293.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98347,
                                                            4,
                                                            sizeof(mem_104749.mem),
                                                            &mem_104749.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98347,
                                                            5,
                                                            sizeof(mem_104753.mem),
                                                            &mem_104753.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98347,
                                                            6,
                                                            sizeof(mem_104757.mem),
                                                            &mem_104757.mem));
                    if (1 * ((size_t) segmap_usable_groups_98342 *
                             (size_t) segmap_group_sizze_98341) != 0) {
                        const size_t global_work_sizze_107407[1] =
                                     {(size_t) segmap_usable_groups_98342 *
                                     (size_t) segmap_group_sizze_98341};
                        const size_t local_work_sizze_107411[1] =
                                     {(size_t) segmap_group_sizze_98341};
                        int64_t time_start_107408 = 0, time_end_107409 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_98347",
                                    global_work_sizze_107407[0],
                                    local_work_sizze_107411[0], (int) 0);
                            time_start_107408 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_98347,
                                                                        1, NULL,
                                                                        global_work_sizze_107407,
                                                                        local_work_sizze_107411,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_98347_runs,
                                                                                                                  &ctx->mainzisegmap_98347_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107409 = get_wall_time();
                            
                            long time_diff_107410 = time_end_107409 -
                                 time_start_107408;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_98347", time_diff_107410);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_98361;
                    
                    segmap_group_sizze_98361 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_98156;
                    
                    int64_t segmap_usable_groups_98362 =
                            sdiv_up64(binop_x_104645, segmap_group_sizze_98361);
                    struct memblock_device mem_104763;
                    
                    mem_104763.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104763, bytes_104647,
                                              "mem_104763")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98366,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98366,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98366,
                                                            3,
                                                            sizeof(mem_104757.mem),
                                                            &mem_104757.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98366,
                                                            4,
                                                            sizeof(mem_104763.mem),
                                                            &mem_104763.mem));
                    if (1 * ((size_t) segmap_usable_groups_98362 *
                             (size_t) segmap_group_sizze_98361) != 0) {
                        const size_t global_work_sizze_107412[1] =
                                     {(size_t) segmap_usable_groups_98362 *
                                     (size_t) segmap_group_sizze_98361};
                        const size_t local_work_sizze_107416[1] =
                                     {(size_t) segmap_group_sizze_98361};
                        int64_t time_start_107413 = 0, time_end_107414 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_98366",
                                    global_work_sizze_107412[0],
                                    local_work_sizze_107416[0], (int) 0);
                            time_start_107413 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_98366,
                                                                        1, NULL,
                                                                        global_work_sizze_107412,
                                                                        local_work_sizze_107416,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_98366_runs,
                                                                                                                  &ctx->mainzisegmap_98366_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107414 = get_wall_time();
                            
                            long time_diff_107415 = time_end_107414 -
                                 time_start_107413;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_98366", time_diff_107415);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_98371;
                    
                    segmap_group_sizze_98371 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_98130;
                    
                    int64_t segmap_usable_groups_98372 = sdiv_up64(m_92398,
                                                                   segmap_group_sizze_98371);
                    struct memblock_device mem_104767;
                    
                    mem_104767.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104767, bytes_104665,
                                              "mem_104767")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104770;
                    
                    mem_104770.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104770, bytes_104665,
                                              "mem_104770")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104773;
                    
                    mem_104773.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104773, bytes_104665,
                                              "mem_104773")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104776;
                    
                    mem_104776.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104776, bytes_104665,
                                              "mem_104776")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98378,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98378,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98378,
                                                            3, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98378,
                                                            4, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98378,
                                                            5,
                                                            sizeof(min_res_92421),
                                                            &min_res_92421));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98378,
                                                            6,
                                                            sizeof(i64_res_92427),
                                                            &i64_res_92427));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98378,
                                                            7,
                                                            sizeof(mem_104749.mem),
                                                            &mem_104749.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98378,
                                                            8,
                                                            sizeof(mem_104767.mem),
                                                            &mem_104767.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98378,
                                                            9,
                                                            sizeof(mem_104770.mem),
                                                            &mem_104770.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98378,
                                                            10,
                                                            sizeof(mem_104773.mem),
                                                            &mem_104773.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98378,
                                                            11,
                                                            sizeof(mem_104776.mem),
                                                            &mem_104776.mem));
                    if (1 * ((size_t) segmap_usable_groups_98372 *
                             (size_t) segmap_group_sizze_98371) != 0) {
                        const size_t global_work_sizze_107417[1] =
                                     {(size_t) segmap_usable_groups_98372 *
                                     (size_t) segmap_group_sizze_98371};
                        const size_t local_work_sizze_107421[1] =
                                     {(size_t) segmap_group_sizze_98371};
                        int64_t time_start_107418 = 0, time_end_107419 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_98378",
                                    global_work_sizze_107417[0],
                                    local_work_sizze_107421[0], (int) 0);
                            time_start_107418 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_98378,
                                                                        1, NULL,
                                                                        global_work_sizze_107417,
                                                                        local_work_sizze_107421,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_98378_runs,
                                                                                                                  &ctx->mainzisegmap_98378_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107419 = get_wall_time();
                            
                            long time_diff_107420 = time_end_107419 -
                                 time_start_107418;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_98378", time_diff_107420);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_98393;
                    
                    segmap_group_sizze_98393 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_98105;
                    
                    int64_t segmap_usable_groups_98394 =
                            sdiv_up64(binop_x_104677, segmap_group_sizze_98393);
                    struct memblock_device mem_104781;
                    
                    mem_104781.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104781, bytes_104679,
                                              "mem_104781")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98398,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98398,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98398,
                                                            3, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98398,
                                                            4, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98398,
                                                            5,
                                                            sizeof(mem_104749.mem),
                                                            &mem_104749.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_98398,
                                                            6,
                                                            sizeof(mem_104781.mem),
                                                            &mem_104781.mem));
                    if (1 * ((size_t) segmap_usable_groups_98394 *
                             (size_t) segmap_group_sizze_98393) != 0) {
                        const size_t global_work_sizze_107422[1] =
                                     {(size_t) segmap_usable_groups_98394 *
                                     (size_t) segmap_group_sizze_98393};
                        const size_t local_work_sizze_107426[1] =
                                     {(size_t) segmap_group_sizze_98393};
                        int64_t time_start_107423 = 0, time_end_107424 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_98398",
                                    global_work_sizze_107422[0],
                                    local_work_sizze_107426[0], (int) 0);
                            time_start_107423 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_98398,
                                                                        1, NULL,
                                                                        global_work_sizze_107422,
                                                                        local_work_sizze_107426,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_98398_runs,
                                                                                                                  &ctx->mainzisegmap_98398_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107424 = get_wall_time();
                            
                            long time_diff_107425 = time_end_107424 -
                                 time_start_107423;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_98398", time_diff_107425);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    struct memblock_device mem_104801;
                    
                    mem_104801.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104801, bytes_104642,
                                              "mem_104801")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104805;
                    
                    mem_104805.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104805, bytes_104642,
                                              "mem_104805")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            1,
                                                            sizeof(ctx->failure_is_an_option),
                                                            &ctx->failure_is_an_option));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            3,
                                                            (size_t) ((int64_t) 8 *
                                                                      q_92401),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            4,
                                                            (size_t) ((int64_t) 8 *
                                                                      q_92401),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            5,
                                                            (size_t) ((int64_t) 8 *
                                                                      q_92401),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            6,
                                                            (size_t) ((int64_t) 8 *
                                                                      q_92401),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            7,
                                                            (size_t) ((int64_t) 8 *
                                                                      q_92401),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            8,
                                                            (size_t) ((int64_t) 8 *
                                                                      q_92401),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            9,
                                                            (size_t) ((int64_t) 8 *
                                                                      q_92401),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            10,
                                                            (size_t) bytes_104684,
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            11,
                                                            (size_t) bytes_104684,
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            12,
                                                            (size_t) bytes_104684,
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            13,
                                                            (size_t) bytes_104684,
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            14, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            15, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            16, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            17,
                                                            sizeof(jump_92403),
                                                            &jump_92403));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            18,
                                                            sizeof(n_m_92409),
                                                            &n_m_92409));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            19, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            20, sizeof(x_92416),
                                                            &x_92416));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            21,
                                                            sizeof(min_res_92421),
                                                            &min_res_92421));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            22,
                                                            sizeof(loop_cond_92426),
                                                            &loop_cond_92426));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            23,
                                                            sizeof(mem_104749.mem),
                                                            &mem_104749.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            24,
                                                            sizeof(mem_104753.mem),
                                                            &mem_104753.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            25,
                                                            sizeof(mem_104757.mem),
                                                            &mem_104757.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            26,
                                                            sizeof(mem_104763.mem),
                                                            &mem_104763.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            27,
                                                            sizeof(mem_104767.mem),
                                                            &mem_104767.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            28,
                                                            sizeof(mem_104770.mem),
                                                            &mem_104770.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            29,
                                                            sizeof(mem_104773.mem),
                                                            &mem_104773.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            30,
                                                            sizeof(mem_104776.mem),
                                                            &mem_104776.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            31,
                                                            sizeof(mem_104781.mem),
                                                            &mem_104781.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            32,
                                                            sizeof(mem_104801.mem),
                                                            &mem_104801.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_intragroup_98415,
                                                            33,
                                                            sizeof(mem_104805.mem),
                                                            &mem_104805.mem));
                    if (1 * ((size_t) binop_x_104640 * (size_t) q_92401) != 0) {
                        const size_t global_work_sizze_107427[1] =
                                     {(size_t) binop_x_104640 *
                                     (size_t) q_92401};
                        const size_t local_work_sizze_107431[1] =
                                     {(size_t) q_92401};
                        int64_t time_start_107428 = 0, time_end_107429 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_intragroup_98415",
                                    global_work_sizze_107427[0],
                                    local_work_sizze_107431[0], (int) (0 +
                                                                       (int64_t) 8 *
                                                                       q_92401 +
                                                                       (int64_t) 8 *
                                                                       q_92401 +
                                                                       (int64_t) 8 *
                                                                       q_92401 +
                                                                       (int64_t) 8 *
                                                                       q_92401 +
                                                                       (int64_t) 8 *
                                                                       q_92401 +
                                                                       (int64_t) 8 *
                                                                       q_92401 +
                                                                       (int64_t) 8 *
                                                                       q_92401 +
                                                                       bytes_104684 +
                                                                       bytes_104684 +
                                                                       bytes_104684 +
                                                                       bytes_104684));
                            time_start_107428 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_intragroup_98415,
                                                                        1, NULL,
                                                                        global_work_sizze_107427,
                                                                        local_work_sizze_107431,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_intragroup_98415_runs,
                                                                                                                  &ctx->mainzisegmap_intragroup_98415_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107429 = get_wall_time();
                            
                            long time_diff_107430 = time_end_107429 -
                                 time_start_107428;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_intragroup_98415",
                                    time_diff_107430);
                        }
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_104749, "mem_104749") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104753, "mem_104753") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104757, "mem_104757") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104763, "mem_104763") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104767, "mem_104767") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104770, "mem_104770") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104773, "mem_104773") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104776, "mem_104776") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104781, "mem_104781") !=
                        0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_104807, &mem_104801,
                                            "mem_104801") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_104806, &mem_104805,
                                            "mem_104805") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104805, "mem_104805") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104801, "mem_104801") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104781, "mem_104781") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104776, "mem_104776") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104773, "mem_104773") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104770, "mem_104770") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104767, "mem_104767") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104763, "mem_104763") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104757, "mem_104757") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104753, "mem_104753") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104749, "mem_104749") !=
                        0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_104809, &ext_mem_104807,
                                        "ext_mem_104807") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_104808, &ext_mem_104806,
                                        "ext_mem_104806") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_104806,
                                          "ext_mem_104806") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_104807,
                                          "ext_mem_104807") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_105070, &ext_mem_104809,
                                    "ext_mem_104809") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_105069, &ext_mem_104808,
                                    "ext_mem_104808") != 0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_104808, "ext_mem_104808") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_104809, "ext_mem_104809") !=
                0)
                return 1;
        } else {
            bool match_lit_93696 = (int64_t) 0 == degree_92402;
            int64_t binop_x_104810 = m_92398 * n_m_92409;
            int64_t binop_y_104811 = (int64_t) 8 * binop_x_104810;
            int64_t bytes_104812 = smax64((int64_t) 0, binop_y_104811);
            int64_t binop_x_104815 = m_92398 * n_92399;
            int64_t binop_y_104816 = (int64_t) 8 * binop_x_104815;
            int64_t bytes_104817 = smax64((int64_t) 0, binop_y_104816);
            int64_t binop_y_104834 = (int64_t) 8 * m_92398;
            int64_t bytes_104835 = smax64((int64_t) 0, binop_y_104834);
            int64_t binop_x_104847 = m_92398 * q_92401;
            int64_t binop_y_104848 = (int64_t) 8 * binop_x_104847;
            int64_t bytes_104849 = smax64((int64_t) 0, binop_y_104848);
            struct memblock_device ext_mem_105068;
            
            ext_mem_105068.references = NULL;
            
            struct memblock_device ext_mem_105067;
            
            ext_mem_105067.references = NULL;
            if (match_lit_93696) {
                struct memblock_device mem_104813;
                
                mem_104813.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104813, bytes_104812,
                                          "mem_104813")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_f64(ctx, mem_104813, m_92398 *
                                                  n_m_92409, 0.0) != 0) {
                    if (memblock_unref_device(ctx, &mem_104813, "mem_104813") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105067,
                                              "ext_mem_105067") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105068,
                                              "ext_mem_105068") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105069,
                                              "ext_mem_105069") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105070,
                                              "ext_mem_105070") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105071,
                                              "ext_mem_105071") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105072,
                                              "ext_mem_105072") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_out_105324,
                                              "mem_out_105324") != 0)
                        return 1;
                    err = 1;
                    goto cleanup;
                }
                
                int64_t segscan_group_sizze_99263;
                
                segscan_group_sizze_99263 =
                    *ctx->tuning_params.mainzisegscan_group_sizze_99243;
                
                int64_t num_groups_99264;
                int32_t max_num_groups_106228;
                
                max_num_groups_106228 =
                    *ctx->tuning_params.mainzisegscan_num_groups_99245;
                num_groups_99264 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(binop_x_104815,
                                                                        segscan_group_sizze_99263),
                                                              sext_i32_i64(max_num_groups_106228))));
                
                struct memblock_device mem_104818;
                
                mem_104818.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104818, bytes_104817,
                                          "mem_104818")) {
                    err = 1;
                    goto cleanup;
                }
                if (slt64((int64_t) 0, m_92398 * n_92399)) {
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegScan");
                    
                    int64_t stage1_max_num_groups_106229;
                    
                    stage1_max_num_groups_106229 = ctx->opencl.max_group_size;
                    
                    int64_t stage1_num_groups_106230 =
                            smin64(stage1_max_num_groups_106229,
                                   num_groups_99264);
                    int32_t num_threads_106231 =
                            sext_i64_i32(stage1_num_groups_106230 *
                            segscan_group_sizze_99263);
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_99269,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            segscan_group_sizze_99263),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_99269,
                                                            2, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_99269,
                                                            3, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_99269,
                                                            4,
                                                            sizeof(num_threads_106231),
                                                            &num_threads_106231));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_99269,
                                                            5,
                                                            sizeof(Y_mem_104293.mem),
                                                            &Y_mem_104293.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_99269,
                                                            6,
                                                            sizeof(mem_104818.mem),
                                                            &mem_104818.mem));
                    if (1 * ((size_t) stage1_num_groups_106230 *
                             (size_t) segscan_group_sizze_99263) != 0) {
                        const size_t global_work_sizze_107432[1] =
                                     {(size_t) stage1_num_groups_106230 *
                                     (size_t) segscan_group_sizze_99263};
                        const size_t local_work_sizze_107436[1] =
                                     {(size_t) segscan_group_sizze_99263};
                        int64_t time_start_107433 = 0, time_end_107434 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage1_99269",
                                    global_work_sizze_107432[0],
                                    local_work_sizze_107436[0], (int) (0 +
                                                                       smax64((int64_t) 1,
                                                                              (int64_t) 8 *
                                                                              segscan_group_sizze_99263)));
                            time_start_107433 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage1_99269,
                                                                        1, NULL,
                                                                        global_work_sizze_107432,
                                                                        local_work_sizze_107436,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage1_99269_runs,
                                                                                                                  &ctx->mainziscan_stage1_99269_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107434 = get_wall_time();
                            
                            long time_diff_107435 = time_end_107434 -
                                 time_start_107433;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage1_99269", time_diff_107435);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                                (long long) (segscan_group_sizze_99263 *
                                             sdiv_up64(m_92398 * n_92399,
                                                       sext_i32_i64(num_threads_106231))),
                                '\n');
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_99269,
                                                            1,
                                                            (size_t) smax64((int64_t) 1,
                                                                            (int64_t) 8 *
                                                                            stage1_num_groups_106230),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_99269,
                                                            2, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_99269,
                                                            3, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_99269,
                                                            4,
                                                            sizeof(stage1_num_groups_106230),
                                                            &stage1_num_groups_106230));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_99269,
                                                            5,
                                                            sizeof(num_threads_106231),
                                                            &num_threads_106231));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_99269,
                                                            6,
                                                            sizeof(mem_104818.mem),
                                                            &mem_104818.mem));
                    if (1 * ((size_t) (int64_t) 1 *
                             (size_t) stage1_num_groups_106230) != 0) {
                        const size_t global_work_sizze_107437[1] =
                                     {(size_t) (int64_t) 1 *
                                     (size_t) stage1_num_groups_106230};
                        const size_t local_work_sizze_107441[1] =
                                     {(size_t) stage1_num_groups_106230};
                        int64_t time_start_107438 = 0, time_end_107439 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage2_99269",
                                    global_work_sizze_107437[0],
                                    local_work_sizze_107441[0], (int) (0 +
                                                                       smax64((int64_t) 1,
                                                                              (int64_t) 8 *
                                                                              stage1_num_groups_106230)));
                            time_start_107438 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage2_99269,
                                                                        1, NULL,
                                                                        global_work_sizze_107437,
                                                                        local_work_sizze_107441,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage2_99269_runs,
                                                                                                                  &ctx->mainziscan_stage2_99269_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107439 = get_wall_time();
                            
                            long time_diff_107440 = time_end_107439 -
                                 time_start_107438;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage2_99269", time_diff_107440);
                        }
                    }
                    
                    int32_t required_groups_106282 =
                            sext_i64_i32(sdiv_up64(m_92398 * n_92399,
                                                   segscan_group_sizze_99263));
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_99269,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_99269,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_99269,
                                                            3,
                                                            sizeof(num_groups_99264),
                                                            &num_groups_99264));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_99269,
                                                            4,
                                                            sizeof(num_threads_106231),
                                                            &num_threads_106231));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_99269,
                                                            5,
                                                            sizeof(required_groups_106282),
                                                            &required_groups_106282));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_99269,
                                                            6,
                                                            sizeof(mem_104818.mem),
                                                            &mem_104818.mem));
                    if (1 * ((size_t) num_groups_99264 *
                             (size_t) segscan_group_sizze_99263) != 0) {
                        const size_t global_work_sizze_107442[1] =
                                     {(size_t) num_groups_99264 *
                                     (size_t) segscan_group_sizze_99263};
                        const size_t local_work_sizze_107446[1] =
                                     {(size_t) segscan_group_sizze_99263};
                        int64_t time_start_107443 = 0, time_end_107444 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.scan_stage3_99269",
                                    global_work_sizze_107442[0],
                                    local_work_sizze_107446[0], (int) 0);
                            time_start_107443 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainziscan_stage3_99269,
                                                                        1, NULL,
                                                                        global_work_sizze_107442,
                                                                        local_work_sizze_107446,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainziscan_stage3_99269_runs,
                                                                                                                  &ctx->mainziscan_stage3_99269_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107444 = get_wall_time();
                            
                            long time_diff_107445 = time_end_107444 -
                                 time_start_107443;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.scan_stage3_99269", time_diff_107445);
                        }
                    }
                }
                
                struct memblock_device mem_104822;
                
                mem_104822.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104822, bytes_104817,
                                          "mem_104822")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_f64(ctx, mem_104822, m_92398 *
                                                  n_92399, 0.0) != 0) {
                    if (memblock_unref_device(ctx, &mem_104822, "mem_104822") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104818, "mem_104818") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104813, "mem_104813") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105067,
                                              "ext_mem_105067") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105068,
                                              "ext_mem_105068") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105069,
                                              "ext_mem_105069") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105070,
                                              "ext_mem_105070") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105071,
                                              "ext_mem_105071") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105072,
                                              "ext_mem_105072") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_out_105324,
                                              "mem_out_105324") != 0)
                        return 1;
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104826;
                
                mem_104826.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104826, bytes_104817,
                                          "mem_104826")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, mem_104826, m_92398 *
                                                  n_92399, (int64_t) -1) != 0) {
                    if (memblock_unref_device(ctx, &mem_104826, "mem_104826") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104822, "mem_104822") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104818, "mem_104818") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104813, "mem_104813") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105067,
                                              "ext_mem_105067") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105068,
                                              "ext_mem_105068") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105069,
                                              "ext_mem_105069") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105070,
                                              "ext_mem_105070") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105071,
                                              "ext_mem_105071") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_105072,
                                              "ext_mem_105072") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_out_105324,
                                              "mem_out_105324") != 0)
                        return 1;
                    err = 1;
                    goto cleanup;
                }
                
                int64_t segmap_group_sizze_99316;
                
                segmap_group_sizze_99316 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_99157;
                
                int64_t segmap_usable_groups_99317 = sdiv_up64(binop_x_104815,
                                                               segmap_group_sizze_99316);
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99322,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99322,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99322,
                                                        3,
                                                        sizeof(Y_mem_104293.mem),
                                                        &Y_mem_104293.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99322,
                                                        4,
                                                        sizeof(mem_104818.mem),
                                                        &mem_104818.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99322,
                                                        5,
                                                        sizeof(mem_104822.mem),
                                                        &mem_104822.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99322,
                                                        6,
                                                        sizeof(mem_104826.mem),
                                                        &mem_104826.mem));
                if (1 * ((size_t) segmap_usable_groups_99317 *
                         (size_t) segmap_group_sizze_99316) != 0) {
                    const size_t global_work_sizze_107447[1] =
                                 {(size_t) segmap_usable_groups_99317 *
                                 (size_t) segmap_group_sizze_99316};
                    const size_t local_work_sizze_107451[1] =
                                 {(size_t) segmap_group_sizze_99316};
                    int64_t time_start_107448 = 0, time_end_107449 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_99322",
                                global_work_sizze_107447[0],
                                local_work_sizze_107451[0], (int) 0);
                        time_start_107448 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_99322,
                                                                    1, NULL,
                                                                    global_work_sizze_107447,
                                                                    local_work_sizze_107451,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_99322_runs,
                                                                                                              &ctx->mainzisegmap_99322_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107449 = get_wall_time();
                        
                        long time_diff_107450 = time_end_107449 -
                             time_start_107448;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_99322", time_diff_107450);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_99336;
                
                segmap_group_sizze_99336 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_99131;
                
                int64_t segmap_usable_groups_99337 = sdiv_up64(binop_x_104815,
                                                               segmap_group_sizze_99336);
                struct memblock_device mem_104832;
                
                mem_104832.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104832, bytes_104817,
                                          "mem_104832")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99341,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99341,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99341,
                                                        3,
                                                        sizeof(mem_104826.mem),
                                                        &mem_104826.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99341,
                                                        4,
                                                        sizeof(mem_104832.mem),
                                                        &mem_104832.mem));
                if (1 * ((size_t) segmap_usable_groups_99337 *
                         (size_t) segmap_group_sizze_99336) != 0) {
                    const size_t global_work_sizze_107452[1] =
                                 {(size_t) segmap_usable_groups_99337 *
                                 (size_t) segmap_group_sizze_99336};
                    const size_t local_work_sizze_107456[1] =
                                 {(size_t) segmap_group_sizze_99336};
                    int64_t time_start_107453 = 0, time_end_107454 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_99341",
                                global_work_sizze_107452[0],
                                local_work_sizze_107456[0], (int) 0);
                        time_start_107453 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_99341,
                                                                    1, NULL,
                                                                    global_work_sizze_107452,
                                                                    local_work_sizze_107456,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_99341_runs,
                                                                                                              &ctx->mainzisegmap_99341_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107454 = get_wall_time();
                        
                        long time_diff_107455 = time_end_107454 -
                             time_start_107453;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_99341", time_diff_107455);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_99346;
                
                segmap_group_sizze_99346 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_99105;
                
                int64_t segmap_usable_groups_99347 = sdiv_up64(m_92398,
                                                               segmap_group_sizze_99346);
                struct memblock_device mem_104836;
                
                mem_104836.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104836, bytes_104835,
                                          "mem_104836")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104839;
                
                mem_104839.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104839, bytes_104835,
                                          "mem_104839")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104842;
                
                mem_104842.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104842, bytes_104835,
                                          "mem_104842")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104845;
                
                mem_104845.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104845, bytes_104835,
                                          "mem_104845")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99353,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99353,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99353,
                                                        3, sizeof(q_92401),
                                                        &q_92401));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99353,
                                                        4, sizeof(i_92415),
                                                        &i_92415));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99353,
                                                        5,
                                                        sizeof(min_res_92421),
                                                        &min_res_92421));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99353,
                                                        6,
                                                        sizeof(i64_res_92427),
                                                        &i64_res_92427));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99353,
                                                        7,
                                                        sizeof(mem_104818.mem),
                                                        &mem_104818.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99353,
                                                        8,
                                                        sizeof(mem_104836.mem),
                                                        &mem_104836.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99353,
                                                        9,
                                                        sizeof(mem_104839.mem),
                                                        &mem_104839.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99353,
                                                        10,
                                                        sizeof(mem_104842.mem),
                                                        &mem_104842.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99353,
                                                        11,
                                                        sizeof(mem_104845.mem),
                                                        &mem_104845.mem));
                if (1 * ((size_t) segmap_usable_groups_99347 *
                         (size_t) segmap_group_sizze_99346) != 0) {
                    const size_t global_work_sizze_107457[1] =
                                 {(size_t) segmap_usable_groups_99347 *
                                 (size_t) segmap_group_sizze_99346};
                    const size_t local_work_sizze_107461[1] =
                                 {(size_t) segmap_group_sizze_99346};
                    int64_t time_start_107458 = 0, time_end_107459 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_99353",
                                global_work_sizze_107457[0],
                                local_work_sizze_107461[0], (int) 0);
                        time_start_107458 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_99353,
                                                                    1, NULL,
                                                                    global_work_sizze_107457,
                                                                    local_work_sizze_107461,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_99353_runs,
                                                                                                              &ctx->mainzisegmap_99353_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107459 = get_wall_time();
                        
                        long time_diff_107460 = time_end_107459 -
                             time_start_107458;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_99353", time_diff_107460);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_99368;
                
                segmap_group_sizze_99368 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_99080;
                
                int64_t segmap_usable_groups_99369 = sdiv_up64(binop_x_104847,
                                                               segmap_group_sizze_99368);
                struct memblock_device mem_104850;
                
                mem_104850.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104850, bytes_104849,
                                          "mem_104850")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99373,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99373,
                                                        2, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99373,
                                                        3, sizeof(q_92401),
                                                        &q_92401));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99373,
                                                        4, sizeof(i_92415),
                                                        &i_92415));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99373,
                                                        5,
                                                        sizeof(mem_104818.mem),
                                                        &mem_104818.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99373,
                                                        6,
                                                        sizeof(mem_104850.mem),
                                                        &mem_104850.mem));
                if (1 * ((size_t) segmap_usable_groups_99369 *
                         (size_t) segmap_group_sizze_99368) != 0) {
                    const size_t global_work_sizze_107462[1] =
                                 {(size_t) segmap_usable_groups_99369 *
                                 (size_t) segmap_group_sizze_99368};
                    const size_t local_work_sizze_107466[1] =
                                 {(size_t) segmap_group_sizze_99368};
                    int64_t time_start_107463 = 0, time_end_107464 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_99373",
                                global_work_sizze_107462[0],
                                local_work_sizze_107466[0], (int) 0);
                        time_start_107463 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_99373,
                                                                    1, NULL,
                                                                    global_work_sizze_107462,
                                                                    local_work_sizze_107466,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_99373_runs,
                                                                                                              &ctx->mainzisegmap_99373_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107464 = get_wall_time();
                        
                        long time_diff_107465 = time_end_107464 -
                             time_start_107463;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_99373", time_diff_107465);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int64_t segmap_group_sizze_99385;
                
                segmap_group_sizze_99385 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_98767;
                
                int64_t segmap_usable_groups_99386 = sdiv_up64(binop_x_104810,
                                                               segmap_group_sizze_99385);
                struct memblock_device mem_104855;
                
                mem_104855.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104855, bytes_104812,
                                          "mem_104855")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104859;
                
                mem_104859.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104859, bytes_104812,
                                          "mem_104859")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device mem_104863;
                
                mem_104863.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104863, bytes_104812,
                                          "mem_104863")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        1,
                                                        sizeof(ctx->failure_is_an_option),
                                                        &ctx->failure_is_an_option));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        3, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        4, sizeof(n_92399),
                                                        &n_92399));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        5, sizeof(jump_92403),
                                                        &jump_92403));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        6, sizeof(n_m_92409),
                                                        &n_m_92409));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        7, sizeof(i_92415),
                                                        &i_92415));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        8, sizeof(x_92416),
                                                        &x_92416));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        9,
                                                        sizeof(min_res_92421),
                                                        &min_res_92421));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        10,
                                                        sizeof(loop_cond_92426),
                                                        &loop_cond_92426));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        11,
                                                        sizeof(mem_104826.mem),
                                                        &mem_104826.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        12,
                                                        sizeof(mem_104832.mem),
                                                        &mem_104832.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        13,
                                                        sizeof(mem_104836.mem),
                                                        &mem_104836.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        14,
                                                        sizeof(mem_104839.mem),
                                                        &mem_104839.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        15,
                                                        sizeof(mem_104842.mem),
                                                        &mem_104842.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        16,
                                                        sizeof(mem_104845.mem),
                                                        &mem_104845.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        17,
                                                        sizeof(mem_104855.mem),
                                                        &mem_104855.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        18,
                                                        sizeof(mem_104859.mem),
                                                        &mem_104859.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99392,
                                                        19,
                                                        sizeof(mem_104863.mem),
                                                        &mem_104863.mem));
                if (1 * ((size_t) segmap_usable_groups_99386 *
                         (size_t) segmap_group_sizze_99385) != 0) {
                    const size_t global_work_sizze_107467[1] =
                                 {(size_t) segmap_usable_groups_99386 *
                                 (size_t) segmap_group_sizze_99385};
                    const size_t local_work_sizze_107471[1] =
                                 {(size_t) segmap_group_sizze_99385};
                    int64_t time_start_107468 = 0, time_end_107469 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_99392",
                                global_work_sizze_107467[0],
                                local_work_sizze_107471[0], (int) 0);
                        time_start_107468 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_99392,
                                                                    1, NULL,
                                                                    global_work_sizze_107467,
                                                                    local_work_sizze_107471,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_99392_runs,
                                                                                                              &ctx->mainzisegmap_99392_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107469 = get_wall_time();
                        
                        long time_diff_107470 = time_end_107469 -
                             time_start_107468;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_99392", time_diff_107470);
                    }
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_104832, "mem_104832") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104836, "mem_104836") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104839, "mem_104839") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104842, "mem_104842") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104845, "mem_104845") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104855, "mem_104855") != 0)
                    return 1;
                
                int64_t nest_sizze_99488 = q_92401 * binop_x_104810;
                int64_t segred_group_sizze_99489;
                
                segred_group_sizze_99489 =
                    *ctx->tuning_params.mainzisegred_group_sizze_98722;
                
                int64_t num_groups_99490;
                int32_t max_num_groups_106349;
                
                max_num_groups_106349 =
                    *ctx->tuning_params.mainzisegred_num_groups_98724;
                num_groups_99490 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(nest_sizze_99488,
                                                                        segred_group_sizze_99489),
                                                              sext_i32_i64(max_num_groups_106349))));
                
                struct memblock_device mem_104868;
                
                mem_104868.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104868, bytes_104812,
                                          "mem_104868")) {
                    err = 1;
                    goto cleanup;
                }
                if (slt64(q_92401 * (int64_t) 2, segred_group_sizze_99489)) {
                    int64_t segment_sizze_nonzzero_106350 = smax64((int64_t) 1,
                                                                   q_92401);
                    int64_t num_threads_106351 = num_groups_99490 *
                            segred_group_sizze_99489;
                    
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                (long long) (m_92398 * n_m_92409), '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                (long long) q_92401, '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "segments_per_group",
                                (long long) squot64(segred_group_sizze_99489,
                                                    segment_sizze_nonzzero_106350),
                                '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "required_groups",
                                (long long) sext_i64_i32(sdiv_up64(m_92398 *
                                                                   n_m_92409,
                                                                   squot64(segred_group_sizze_99489,
                                                                           segment_sizze_nonzzero_106350))),
                                '\n');
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            1,
                                                            (size_t) ((int64_t) 8 *
                                                                      segred_group_sizze_99489),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            2, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            3, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            4, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            5,
                                                            sizeof(jump_92403),
                                                            &jump_92403));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            6,
                                                            sizeof(n_m_92409),
                                                            &n_m_92409));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            7, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            8,
                                                            sizeof(num_groups_99490),
                                                            &num_groups_99490));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            9,
                                                            sizeof(segment_sizze_nonzzero_106350),
                                                            &segment_sizze_nonzzero_106350));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            10,
                                                            sizeof(mem_104818.mem),
                                                            &mem_104818.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            11,
                                                            sizeof(mem_104826.mem),
                                                            &mem_104826.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            12,
                                                            sizeof(mem_104850.mem),
                                                            &mem_104850.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            13,
                                                            sizeof(mem_104859.mem),
                                                            &mem_104859.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            14,
                                                            sizeof(mem_104863.mem),
                                                            &mem_104863.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99496,
                                                            15,
                                                            sizeof(mem_104868.mem),
                                                            &mem_104868.mem));
                    if (1 * ((size_t) num_groups_99490 *
                             (size_t) segred_group_sizze_99489) != 0) {
                        const size_t global_work_sizze_107472[1] =
                                     {(size_t) num_groups_99490 *
                                     (size_t) segred_group_sizze_99489};
                        const size_t local_work_sizze_107476[1] =
                                     {(size_t) segred_group_sizze_99489};
                        int64_t time_start_107473 = 0, time_end_107474 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segred_small_99496",
                                    global_work_sizze_107472[0],
                                    local_work_sizze_107476[0], (int) (0 +
                                                                       (int64_t) 8 *
                                                                       segred_group_sizze_99489));
                            time_start_107473 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegred_small_99496,
                                                                        1, NULL,
                                                                        global_work_sizze_107472,
                                                                        local_work_sizze_107476,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegred_small_99496_runs,
                                                                                                                  &ctx->mainzisegred_small_99496_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107474 = get_wall_time();
                            
                            long time_diff_107475 = time_end_107474 -
                                 time_start_107473;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segred_small_99496",
                                    time_diff_107475);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                } else {
                    int64_t groups_per_segment_106379 =
                            sdiv_up64(num_groups_99490, smax64((int64_t) 1,
                                                               m_92398 *
                                                               n_m_92409));
                    int64_t elements_per_thread_106380 = sdiv_up64(q_92401,
                                                                   segred_group_sizze_99489 *
                                                                   groups_per_segment_106379);
                    int64_t virt_num_groups_106381 = groups_per_segment_106379 *
                            (m_92398 * n_m_92409);
                    int64_t num_threads_106382 = num_groups_99490 *
                            segred_group_sizze_99489;
                    int64_t threads_per_segment_106383 =
                            groups_per_segment_106379 *
                            segred_group_sizze_99489;
                    
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                (long long) (m_92398 * n_m_92409), '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                (long long) q_92401, '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "virt_num_groups",
                                (long long) virt_num_groups_106381, '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "num_groups",
                                (long long) num_groups_99490, '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "group_size",
                                (long long) segred_group_sizze_99489, '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "elems_per_thread",
                                (long long) elements_per_thread_106380, '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "groups_per_segment",
                                (long long) groups_per_segment_106379, '\n');
                    
                    struct memblock_device segred_tmp_mem_106384;
                    
                    segred_tmp_mem_106384.references = NULL;
                    if (memblock_alloc_device(ctx, &segred_tmp_mem_106384,
                                              (int64_t) 8 *
                                              virt_num_groups_106381,
                                              "segred_tmp_mem_106384")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mainzicounter_mem_106386 =
                                           ctx->mainzicounter_mem_106386;
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            1, (size_t) 1,
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            2,
                                                            (size_t) ((int64_t) 8 *
                                                                      segred_group_sizze_99489),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            3, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            4, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            5, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            6,
                                                            sizeof(jump_92403),
                                                            &jump_92403));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            7,
                                                            sizeof(n_m_92409),
                                                            &n_m_92409));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            8, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            9,
                                                            sizeof(num_groups_99490),
                                                            &num_groups_99490));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            10,
                                                            sizeof(groups_per_segment_106379),
                                                            &groups_per_segment_106379));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            11,
                                                            sizeof(elements_per_thread_106380),
                                                            &elements_per_thread_106380));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            12,
                                                            sizeof(virt_num_groups_106381),
                                                            &virt_num_groups_106381));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            13,
                                                            sizeof(threads_per_segment_106383),
                                                            &threads_per_segment_106383));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            14,
                                                            sizeof(mem_104818.mem),
                                                            &mem_104818.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            15,
                                                            sizeof(mem_104826.mem),
                                                            &mem_104826.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            16,
                                                            sizeof(mem_104850.mem),
                                                            &mem_104850.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            17,
                                                            sizeof(mem_104859.mem),
                                                            &mem_104859.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            18,
                                                            sizeof(mem_104863.mem),
                                                            &mem_104863.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            19,
                                                            sizeof(mem_104868.mem),
                                                            &mem_104868.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            20,
                                                            sizeof(segred_tmp_mem_106384.mem),
                                                            &segred_tmp_mem_106384.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99496,
                                                            21,
                                                            sizeof(mainzicounter_mem_106386.mem),
                                                            &mainzicounter_mem_106386.mem));
                    if (1 * ((size_t) num_groups_99490 *
                             (size_t) segred_group_sizze_99489) != 0) {
                        const size_t global_work_sizze_107478[1] =
                                     {(size_t) num_groups_99490 *
                                     (size_t) segred_group_sizze_99489};
                        const size_t local_work_sizze_107482[1] =
                                     {(size_t) segred_group_sizze_99489};
                        int64_t time_start_107479 = 0, time_end_107480 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segred_large_99496",
                                    global_work_sizze_107478[0],
                                    local_work_sizze_107482[0], (int) (0 + 1 +
                                                                       (int64_t) 8 *
                                                                       segred_group_sizze_99489));
                            time_start_107479 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegred_large_99496,
                                                                        1, NULL,
                                                                        global_work_sizze_107478,
                                                                        local_work_sizze_107482,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegred_large_99496_runs,
                                                                                                                  &ctx->mainzisegred_large_99496_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107480 = get_wall_time();
                            
                            long time_diff_107481 = time_end_107480 -
                                 time_start_107479;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segred_large_99496",
                                    time_diff_107481);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &segred_tmp_mem_106384,
                                              "segred_tmp_mem_106384") != 0)
                        return 1;
                }
                
                int64_t segmap_group_sizze_99528;
                
                segmap_group_sizze_99528 =
                    *ctx->tuning_params.mainzisegmap_group_sizze_98709;
                
                int64_t segmap_usable_groups_99529 = sdiv_up64(binop_x_104810,
                                                               segmap_group_sizze_99528);
                struct memblock_device mem_104873;
                
                mem_104873.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104873, bytes_104812,
                                          "mem_104873")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99533,
                                                        1, sizeof(m_92398),
                                                        &m_92398));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99533,
                                                        2, sizeof(n_m_92409),
                                                        &n_m_92409));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99533,
                                                        3,
                                                        sizeof(mem_104868.mem),
                                                        &mem_104868.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_99533,
                                                        4,
                                                        sizeof(mem_104873.mem),
                                                        &mem_104873.mem));
                if (1 * ((size_t) segmap_usable_groups_99529 *
                         (size_t) segmap_group_sizze_99528) != 0) {
                    const size_t global_work_sizze_107483[1] =
                                 {(size_t) segmap_usable_groups_99529 *
                                 (size_t) segmap_group_sizze_99528};
                    const size_t local_work_sizze_107487[1] =
                                 {(size_t) segmap_group_sizze_99528};
                    int64_t time_start_107484 = 0, time_end_107485 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log,
                                "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                "main.segmap_99533",
                                global_work_sizze_107483[0],
                                local_work_sizze_107487[0], (int) 0);
                        time_start_107484 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                    ctx->mainzisegmap_99533,
                                                                    1, NULL,
                                                                    global_work_sizze_107483,
                                                                    local_work_sizze_107487,
                                                                    0, NULL,
                                                                    ctx->profiling_paused ||
                                                                    !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                              &ctx->mainzisegmap_99533_runs,
                                                                                                              &ctx->mainzisegmap_99533_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_107485 = get_wall_time();
                        
                        long time_diff_107486 = time_end_107485 -
                             time_start_107484;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                "main.segmap_99533", time_diff_107486);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_104868, "mem_104868") != 0)
                    return 1;
                
                int64_t segred_group_sizze_99539;
                
                segred_group_sizze_99539 =
                    *ctx->tuning_params.mainzisegred_group_sizze_98654;
                
                int64_t num_groups_99540;
                int32_t max_num_groups_106432;
                
                max_num_groups_106432 =
                    *ctx->tuning_params.mainzisegred_num_groups_98656;
                num_groups_99540 = sext_i64_i32(smax64((int64_t) 1,
                                                       smin64(sdiv_up64(nest_sizze_99488,
                                                                        segred_group_sizze_99539),
                                                              sext_i32_i64(max_num_groups_106432))));
                
                struct memblock_device mem_104878;
                
                mem_104878.references = NULL;
                if (memblock_alloc_device(ctx, &mem_104878, bytes_104812,
                                          "mem_104878")) {
                    err = 1;
                    goto cleanup;
                }
                if (slt64(q_92401 * (int64_t) 2, segred_group_sizze_99539)) {
                    int64_t segment_sizze_nonzzero_106433 = smax64((int64_t) 1,
                                                                   q_92401);
                    int64_t num_threads_106434 = num_groups_99540 *
                            segred_group_sizze_99539;
                    
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                (long long) (m_92398 * n_m_92409), '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                (long long) q_92401, '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "segments_per_group",
                                (long long) squot64(segred_group_sizze_99539,
                                                    segment_sizze_nonzzero_106433),
                                '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "required_groups",
                                (long long) sext_i64_i32(sdiv_up64(m_92398 *
                                                                   n_m_92409,
                                                                   squot64(segred_group_sizze_99539,
                                                                           segment_sizze_nonzzero_106433))),
                                '\n');
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            1,
                                                            (size_t) ((int64_t) 8 *
                                                                      segred_group_sizze_99539),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            2, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            3, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            4, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            5,
                                                            sizeof(jump_92403),
                                                            &jump_92403));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            6,
                                                            sizeof(n_m_92409),
                                                            &n_m_92409));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            7, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            8,
                                                            sizeof(num_groups_99540),
                                                            &num_groups_99540));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            9,
                                                            sizeof(segment_sizze_nonzzero_106433),
                                                            &segment_sizze_nonzzero_106433));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            10,
                                                            sizeof(mem_104818.mem),
                                                            &mem_104818.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            11,
                                                            sizeof(mem_104822.mem),
                                                            &mem_104822.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            12,
                                                            sizeof(mem_104826.mem),
                                                            &mem_104826.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            13,
                                                            sizeof(mem_104850.mem),
                                                            &mem_104850.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            14,
                                                            sizeof(mem_104859.mem),
                                                            &mem_104859.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            15,
                                                            sizeof(mem_104863.mem),
                                                            &mem_104863.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            16,
                                                            sizeof(mem_104873.mem),
                                                            &mem_104873.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_99546,
                                                            17,
                                                            sizeof(mem_104878.mem),
                                                            &mem_104878.mem));
                    if (1 * ((size_t) num_groups_99540 *
                             (size_t) segred_group_sizze_99539) != 0) {
                        const size_t global_work_sizze_107488[1] =
                                     {(size_t) num_groups_99540 *
                                     (size_t) segred_group_sizze_99539};
                        const size_t local_work_sizze_107492[1] =
                                     {(size_t) segred_group_sizze_99539};
                        int64_t time_start_107489 = 0, time_end_107490 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segred_small_99546",
                                    global_work_sizze_107488[0],
                                    local_work_sizze_107492[0], (int) (0 +
                                                                       (int64_t) 8 *
                                                                       segred_group_sizze_99539));
                            time_start_107489 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegred_small_99546,
                                                                        1, NULL,
                                                                        global_work_sizze_107488,
                                                                        local_work_sizze_107492,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegred_small_99546_runs,
                                                                                                                  &ctx->mainzisegred_small_99546_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107490 = get_wall_time();
                            
                            long time_diff_107491 = time_end_107490 -
                                 time_start_107489;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segred_small_99546",
                                    time_diff_107491);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                } else {
                    int64_t groups_per_segment_106462 =
                            sdiv_up64(num_groups_99540, smax64((int64_t) 1,
                                                               m_92398 *
                                                               n_m_92409));
                    int64_t elements_per_thread_106463 = sdiv_up64(q_92401,
                                                                   segred_group_sizze_99539 *
                                                                   groups_per_segment_106462);
                    int64_t virt_num_groups_106464 = groups_per_segment_106462 *
                            (m_92398 * n_m_92409);
                    int64_t num_threads_106465 = num_groups_99540 *
                            segred_group_sizze_99539;
                    int64_t threads_per_segment_106466 =
                            groups_per_segment_106462 *
                            segred_group_sizze_99539;
                    
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                (long long) (m_92398 * n_m_92409), '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                (long long) q_92401, '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "virt_num_groups",
                                (long long) virt_num_groups_106464, '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "num_groups",
                                (long long) num_groups_99540, '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "group_size",
                                (long long) segred_group_sizze_99539, '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "elems_per_thread",
                                (long long) elements_per_thread_106463, '\n');
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s: %llu%c", "groups_per_segment",
                                (long long) groups_per_segment_106462, '\n');
                    
                    struct memblock_device segred_tmp_mem_106467;
                    
                    segred_tmp_mem_106467.references = NULL;
                    if (memblock_alloc_device(ctx, &segred_tmp_mem_106467,
                                              (int64_t) 8 *
                                              virt_num_groups_106464,
                                              "segred_tmp_mem_106467")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mainzicounter_mem_106469 =
                                           ctx->mainzicounter_mem_106469;
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            1, (size_t) 1,
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            2,
                                                            (size_t) ((int64_t) 8 *
                                                                      segred_group_sizze_99539),
                                                            NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            3, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            4, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            5, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            6,
                                                            sizeof(jump_92403),
                                                            &jump_92403));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            7,
                                                            sizeof(n_m_92409),
                                                            &n_m_92409));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            8, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            9,
                                                            sizeof(num_groups_99540),
                                                            &num_groups_99540));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            10,
                                                            sizeof(groups_per_segment_106462),
                                                            &groups_per_segment_106462));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            11,
                                                            sizeof(elements_per_thread_106463),
                                                            &elements_per_thread_106463));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            12,
                                                            sizeof(virt_num_groups_106464),
                                                            &virt_num_groups_106464));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            13,
                                                            sizeof(threads_per_segment_106466),
                                                            &threads_per_segment_106466));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            14,
                                                            sizeof(mem_104818.mem),
                                                            &mem_104818.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            15,
                                                            sizeof(mem_104822.mem),
                                                            &mem_104822.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            16,
                                                            sizeof(mem_104826.mem),
                                                            &mem_104826.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            17,
                                                            sizeof(mem_104850.mem),
                                                            &mem_104850.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            18,
                                                            sizeof(mem_104859.mem),
                                                            &mem_104859.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            19,
                                                            sizeof(mem_104863.mem),
                                                            &mem_104863.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            20,
                                                            sizeof(mem_104873.mem),
                                                            &mem_104873.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            21,
                                                            sizeof(mem_104878.mem),
                                                            &mem_104878.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            22,
                                                            sizeof(segred_tmp_mem_106467.mem),
                                                            &segred_tmp_mem_106467.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_99546,
                                                            23,
                                                            sizeof(mainzicounter_mem_106469.mem),
                                                            &mainzicounter_mem_106469.mem));
                    if (1 * ((size_t) num_groups_99540 *
                             (size_t) segred_group_sizze_99539) != 0) {
                        const size_t global_work_sizze_107494[1] =
                                     {(size_t) num_groups_99540 *
                                     (size_t) segred_group_sizze_99539};
                        const size_t local_work_sizze_107498[1] =
                                     {(size_t) segred_group_sizze_99539};
                        int64_t time_start_107495 = 0, time_end_107496 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segred_large_99546",
                                    global_work_sizze_107494[0],
                                    local_work_sizze_107498[0], (int) (0 + 1 +
                                                                       (int64_t) 8 *
                                                                       segred_group_sizze_99539));
                            time_start_107495 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegred_large_99546,
                                                                        1, NULL,
                                                                        global_work_sizze_107494,
                                                                        local_work_sizze_107498,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegred_large_99546_runs,
                                                                                                                  &ctx->mainzisegred_large_99546_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107496 = get_wall_time();
                            
                            long time_diff_107497 = time_end_107496 -
                                 time_start_107495;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segred_large_99546",
                                    time_diff_107497);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &segred_tmp_mem_106467,
                                              "segred_tmp_mem_106467") != 0)
                        return 1;
                }
                if (memblock_unref_device(ctx, &mem_104818, "mem_104818") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104822, "mem_104822") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104826, "mem_104826") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104850, "mem_104850") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104859, "mem_104859") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104863, "mem_104863") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104873, "mem_104873") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_105068, &mem_104878,
                                        "mem_104878") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_105067, &mem_104813,
                                        "mem_104813") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104878, "mem_104878") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104873, "mem_104873") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104868, "mem_104868") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104863, "mem_104863") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104859, "mem_104859") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104855, "mem_104855") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104850, "mem_104850") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104845, "mem_104845") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104842, "mem_104842") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104839, "mem_104839") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104836, "mem_104836") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104832, "mem_104832") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104826, "mem_104826") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104822, "mem_104822") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104818, "mem_104818") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_104813, "mem_104813") != 0)
                    return 1;
            } else {
                bool match_lit_93875 = (int64_t) 1 == degree_92402;
                struct memblock_device ext_mem_105066;
                
                ext_mem_105066.references = NULL;
                
                struct memblock_device ext_mem_105065;
                
                ext_mem_105065.references = NULL;
                if (match_lit_93875) {
                    int64_t segscan_group_sizze_100299;
                    
                    segscan_group_sizze_100299 =
                        *ctx->tuning_params.mainzisegscan_group_sizze_100279;
                    
                    int64_t num_groups_100300;
                    int32_t max_num_groups_106505;
                    
                    max_num_groups_106505 =
                        *ctx->tuning_params.mainzisegscan_num_groups_100281;
                    num_groups_100300 = sext_i64_i32(smax64((int64_t) 1,
                                                            smin64(sdiv_up64(binop_x_104815,
                                                                             segscan_group_sizze_100299),
                                                                   sext_i32_i64(max_num_groups_106505))));
                    
                    struct memblock_device mem_104883;
                    
                    mem_104883.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104883, bytes_104817,
                                              "mem_104883")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64((int64_t) 0, m_92398 * n_92399)) {
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegScan");
                        
                        int64_t stage1_max_num_groups_106506;
                        
                        stage1_max_num_groups_106506 =
                            ctx->opencl.max_group_size;
                        
                        int64_t stage1_num_groups_106507 =
                                smin64(stage1_max_num_groups_106506,
                                       num_groups_100300);
                        int32_t num_threads_106508 =
                                sext_i64_i32(stage1_num_groups_106507 *
                                segscan_group_sizze_100299);
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_100305,
                                                                1,
                                                                (size_t) smax64((int64_t) 1,
                                                                                (int64_t) 8 *
                                                                                segscan_group_sizze_100299),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_100305,
                                                                2,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_100305,
                                                                3,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_100305,
                                                                4,
                                                                sizeof(num_threads_106508),
                                                                &num_threads_106508));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_100305,
                                                                5,
                                                                sizeof(Y_mem_104293.mem),
                                                                &Y_mem_104293.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_100305,
                                                                6,
                                                                sizeof(mem_104883.mem),
                                                                &mem_104883.mem));
                        if (1 * ((size_t) stage1_num_groups_106507 *
                                 (size_t) segscan_group_sizze_100299) != 0) {
                            const size_t global_work_sizze_107499[1] =
                                         {(size_t) stage1_num_groups_106507 *
                                         (size_t) segscan_group_sizze_100299};
                            const size_t local_work_sizze_107503[1] =
                                         {(size_t) segscan_group_sizze_100299};
                            int64_t time_start_107500 = 0, time_end_107501 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage1_100305",
                                        global_work_sizze_107499[0],
                                        local_work_sizze_107503[0], (int) (0 +
                                                                           smax64((int64_t) 1,
                                                                                  (int64_t) 8 *
                                                                                  segscan_group_sizze_100299)));
                                time_start_107500 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage1_100305,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107499,
                                                                            local_work_sizze_107503,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage1_100305_runs,
                                                                                                                      &ctx->mainziscan_stage1_100305_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107501 = get_wall_time();
                                
                                long time_diff_107502 = time_end_107501 -
                                     time_start_107500;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage1_100305",
                                        time_diff_107502);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                                    (long long) (segscan_group_sizze_100299 *
                                                 sdiv_up64(m_92398 * n_92399,
                                                           sext_i32_i64(num_threads_106508))),
                                    '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_100305,
                                                                1,
                                                                (size_t) smax64((int64_t) 1,
                                                                                (int64_t) 8 *
                                                                                stage1_num_groups_106507),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_100305,
                                                                2,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_100305,
                                                                3,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_100305,
                                                                4,
                                                                sizeof(stage1_num_groups_106507),
                                                                &stage1_num_groups_106507));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_100305,
                                                                5,
                                                                sizeof(num_threads_106508),
                                                                &num_threads_106508));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_100305,
                                                                6,
                                                                sizeof(mem_104883.mem),
                                                                &mem_104883.mem));
                        if (1 * ((size_t) (int64_t) 1 *
                                 (size_t) stage1_num_groups_106507) != 0) {
                            const size_t global_work_sizze_107504[1] =
                                         {(size_t) (int64_t) 1 *
                                         (size_t) stage1_num_groups_106507};
                            const size_t local_work_sizze_107508[1] =
                                         {(size_t) stage1_num_groups_106507};
                            int64_t time_start_107505 = 0, time_end_107506 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage2_100305",
                                        global_work_sizze_107504[0],
                                        local_work_sizze_107508[0], (int) (0 +
                                                                           smax64((int64_t) 1,
                                                                                  (int64_t) 8 *
                                                                                  stage1_num_groups_106507)));
                                time_start_107505 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage2_100305,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107504,
                                                                            local_work_sizze_107508,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage2_100305_runs,
                                                                                                                      &ctx->mainziscan_stage2_100305_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107506 = get_wall_time();
                                
                                long time_diff_107507 = time_end_107506 -
                                     time_start_107505;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage2_100305",
                                        time_diff_107507);
                            }
                        }
                        
                        int32_t required_groups_106559 =
                                sext_i64_i32(sdiv_up64(m_92398 * n_92399,
                                                       segscan_group_sizze_100299));
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_100305,
                                                                1,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_100305,
                                                                2,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_100305,
                                                                3,
                                                                sizeof(num_groups_100300),
                                                                &num_groups_100300));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_100305,
                                                                4,
                                                                sizeof(num_threads_106508),
                                                                &num_threads_106508));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_100305,
                                                                5,
                                                                sizeof(required_groups_106559),
                                                                &required_groups_106559));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_100305,
                                                                6,
                                                                sizeof(mem_104883.mem),
                                                                &mem_104883.mem));
                        if (1 * ((size_t) num_groups_100300 *
                                 (size_t) segscan_group_sizze_100299) != 0) {
                            const size_t global_work_sizze_107509[1] =
                                         {(size_t) num_groups_100300 *
                                         (size_t) segscan_group_sizze_100299};
                            const size_t local_work_sizze_107513[1] =
                                         {(size_t) segscan_group_sizze_100299};
                            int64_t time_start_107510 = 0, time_end_107511 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage3_100305",
                                        global_work_sizze_107509[0],
                                        local_work_sizze_107513[0], (int) 0);
                                time_start_107510 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage3_100305,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107509,
                                                                            local_work_sizze_107513,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage3_100305_runs,
                                                                                                                      &ctx->mainziscan_stage3_100305_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107511 = get_wall_time();
                                
                                long time_diff_107512 = time_end_107511 -
                                     time_start_107510;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage3_100305",
                                        time_diff_107512);
                            }
                        }
                    }
                    
                    struct memblock_device mem_104887;
                    
                    mem_104887.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104887, bytes_104817,
                                              "mem_104887")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhreplicate_f64(ctx, mem_104887, m_92398 *
                                                      n_92399, 0.0) != 0) {
                        if (memblock_unref_device(ctx, &mem_104887,
                                                  "mem_104887") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_104883,
                                                  "mem_104883") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105065,
                                                  "ext_mem_105065") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105066,
                                                  "ext_mem_105066") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105067,
                                                  "ext_mem_105067") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105068,
                                                  "ext_mem_105068") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105069,
                                                  "ext_mem_105069") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105070,
                                                  "ext_mem_105070") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105071,
                                                  "ext_mem_105071") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105072,
                                                  "ext_mem_105072") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_out_105324,
                                                  "mem_out_105324") != 0)
                            return 1;
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104891;
                    
                    mem_104891.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104891, bytes_104817,
                                              "mem_104891")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhreplicate_i64(ctx, mem_104891, m_92398 *
                                                      n_92399, (int64_t) -1) !=
                        0) {
                        if (memblock_unref_device(ctx, &mem_104891,
                                                  "mem_104891") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_104887,
                                                  "mem_104887") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_104883,
                                                  "mem_104883") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105065,
                                                  "ext_mem_105065") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105066,
                                                  "ext_mem_105066") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105067,
                                                  "ext_mem_105067") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105068,
                                                  "ext_mem_105068") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105069,
                                                  "ext_mem_105069") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105070,
                                                  "ext_mem_105070") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105071,
                                                  "ext_mem_105071") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105072,
                                                  "ext_mem_105072") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_out_105324,
                                                  "mem_out_105324") != 0)
                            return 1;
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t segmap_group_sizze_100352;
                    
                    segmap_group_sizze_100352 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_100193;
                    
                    int64_t segmap_usable_groups_100353 =
                            sdiv_up64(binop_x_104815,
                                      segmap_group_sizze_100352);
                    
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100358,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100358,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100358,
                                                            3,
                                                            sizeof(Y_mem_104293.mem),
                                                            &Y_mem_104293.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100358,
                                                            4,
                                                            sizeof(mem_104883.mem),
                                                            &mem_104883.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100358,
                                                            5,
                                                            sizeof(mem_104887.mem),
                                                            &mem_104887.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100358,
                                                            6,
                                                            sizeof(mem_104891.mem),
                                                            &mem_104891.mem));
                    if (1 * ((size_t) segmap_usable_groups_100353 *
                             (size_t) segmap_group_sizze_100352) != 0) {
                        const size_t global_work_sizze_107514[1] =
                                     {(size_t) segmap_usable_groups_100353 *
                                     (size_t) segmap_group_sizze_100352};
                        const size_t local_work_sizze_107518[1] =
                                     {(size_t) segmap_group_sizze_100352};
                        int64_t time_start_107515 = 0, time_end_107516 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_100358",
                                    global_work_sizze_107514[0],
                                    local_work_sizze_107518[0], (int) 0);
                            time_start_107515 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_100358,
                                                                        1, NULL,
                                                                        global_work_sizze_107514,
                                                                        local_work_sizze_107518,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_100358_runs,
                                                                                                                  &ctx->mainzisegmap_100358_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107516 = get_wall_time();
                            
                            long time_diff_107517 = time_end_107516 -
                                 time_start_107515;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_100358", time_diff_107517);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_100372;
                    
                    segmap_group_sizze_100372 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_100167;
                    
                    int64_t segmap_usable_groups_100373 =
                            sdiv_up64(binop_x_104815,
                                      segmap_group_sizze_100372);
                    struct memblock_device mem_104897;
                    
                    mem_104897.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104897, bytes_104817,
                                              "mem_104897")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100377,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100377,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100377,
                                                            3,
                                                            sizeof(mem_104891.mem),
                                                            &mem_104891.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100377,
                                                            4,
                                                            sizeof(mem_104897.mem),
                                                            &mem_104897.mem));
                    if (1 * ((size_t) segmap_usable_groups_100373 *
                             (size_t) segmap_group_sizze_100372) != 0) {
                        const size_t global_work_sizze_107519[1] =
                                     {(size_t) segmap_usable_groups_100373 *
                                     (size_t) segmap_group_sizze_100372};
                        const size_t local_work_sizze_107523[1] =
                                     {(size_t) segmap_group_sizze_100372};
                        int64_t time_start_107520 = 0, time_end_107521 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_100377",
                                    global_work_sizze_107519[0],
                                    local_work_sizze_107523[0], (int) 0);
                            time_start_107520 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_100377,
                                                                        1, NULL,
                                                                        global_work_sizze_107519,
                                                                        local_work_sizze_107523,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_100377_runs,
                                                                                                                  &ctx->mainzisegmap_100377_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107521 = get_wall_time();
                            
                            long time_diff_107522 = time_end_107521 -
                                 time_start_107520;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_100377", time_diff_107522);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_100382;
                    
                    segmap_group_sizze_100382 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_100141;
                    
                    int64_t segmap_usable_groups_100383 = sdiv_up64(m_92398,
                                                                    segmap_group_sizze_100382);
                    struct memblock_device mem_104901;
                    
                    mem_104901.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104901, bytes_104835,
                                              "mem_104901")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104904;
                    
                    mem_104904.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104904, bytes_104835,
                                              "mem_104904")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104907;
                    
                    mem_104907.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104907, bytes_104835,
                                              "mem_104907")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104910;
                    
                    mem_104910.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104910, bytes_104835,
                                              "mem_104910")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100389,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100389,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100389,
                                                            3, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100389,
                                                            4, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100389,
                                                            5,
                                                            sizeof(min_res_92421),
                                                            &min_res_92421));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100389,
                                                            6,
                                                            sizeof(i64_res_92427),
                                                            &i64_res_92427));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100389,
                                                            7,
                                                            sizeof(mem_104883.mem),
                                                            &mem_104883.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100389,
                                                            8,
                                                            sizeof(mem_104901.mem),
                                                            &mem_104901.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100389,
                                                            9,
                                                            sizeof(mem_104904.mem),
                                                            &mem_104904.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100389,
                                                            10,
                                                            sizeof(mem_104907.mem),
                                                            &mem_104907.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100389,
                                                            11,
                                                            sizeof(mem_104910.mem),
                                                            &mem_104910.mem));
                    if (1 * ((size_t) segmap_usable_groups_100383 *
                             (size_t) segmap_group_sizze_100382) != 0) {
                        const size_t global_work_sizze_107524[1] =
                                     {(size_t) segmap_usable_groups_100383 *
                                     (size_t) segmap_group_sizze_100382};
                        const size_t local_work_sizze_107528[1] =
                                     {(size_t) segmap_group_sizze_100382};
                        int64_t time_start_107525 = 0, time_end_107526 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_100389",
                                    global_work_sizze_107524[0],
                                    local_work_sizze_107528[0], (int) 0);
                            time_start_107525 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_100389,
                                                                        1, NULL,
                                                                        global_work_sizze_107524,
                                                                        local_work_sizze_107528,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_100389_runs,
                                                                                                                  &ctx->mainzisegmap_100389_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107526 = get_wall_time();
                            
                            long time_diff_107527 = time_end_107526 -
                                 time_start_107525;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_100389", time_diff_107527);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_100404;
                    
                    segmap_group_sizze_100404 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_100116;
                    
                    int64_t segmap_usable_groups_100405 =
                            sdiv_up64(binop_x_104847,
                                      segmap_group_sizze_100404);
                    struct memblock_device mem_104915;
                    
                    mem_104915.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104915, bytes_104849,
                                              "mem_104915")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100409,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100409,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100409,
                                                            3, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100409,
                                                            4, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100409,
                                                            5,
                                                            sizeof(mem_104883.mem),
                                                            &mem_104883.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100409,
                                                            6,
                                                            sizeof(mem_104915.mem),
                                                            &mem_104915.mem));
                    if (1 * ((size_t) segmap_usable_groups_100405 *
                             (size_t) segmap_group_sizze_100404) != 0) {
                        const size_t global_work_sizze_107529[1] =
                                     {(size_t) segmap_usable_groups_100405 *
                                     (size_t) segmap_group_sizze_100404};
                        const size_t local_work_sizze_107533[1] =
                                     {(size_t) segmap_group_sizze_100404};
                        int64_t time_start_107530 = 0, time_end_107531 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_100409",
                                    global_work_sizze_107529[0],
                                    local_work_sizze_107533[0], (int) 0);
                            time_start_107530 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_100409,
                                                                        1, NULL,
                                                                        global_work_sizze_107529,
                                                                        local_work_sizze_107533,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_100409_runs,
                                                                                                                  &ctx->mainzisegmap_100409_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107531 = get_wall_time();
                            
                            long time_diff_107532 = time_end_107531 -
                                 time_start_107530;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_100409", time_diff_107532);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_100421;
                    
                    segmap_group_sizze_100421 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_99767;
                    
                    int64_t segmap_usable_groups_100422 =
                            sdiv_up64(binop_x_104810,
                                      segmap_group_sizze_100421);
                    struct memblock_device mem_104920;
                    
                    mem_104920.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104920, bytes_104812,
                                              "mem_104920")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104924;
                    
                    mem_104924.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104924, bytes_104812,
                                              "mem_104924")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104928;
                    
                    mem_104928.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104928, bytes_104812,
                                              "mem_104928")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            1,
                                                            sizeof(ctx->failure_is_an_option),
                                                            &ctx->failure_is_an_option));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            3, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            4, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            5,
                                                            sizeof(jump_92403),
                                                            &jump_92403));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            6,
                                                            sizeof(n_m_92409),
                                                            &n_m_92409));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            7, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            8, sizeof(x_92416),
                                                            &x_92416));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            9,
                                                            sizeof(min_res_92421),
                                                            &min_res_92421));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            10,
                                                            sizeof(loop_cond_92426),
                                                            &loop_cond_92426));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            11,
                                                            sizeof(mem_104891.mem),
                                                            &mem_104891.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            12,
                                                            sizeof(mem_104897.mem),
                                                            &mem_104897.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            13,
                                                            sizeof(mem_104901.mem),
                                                            &mem_104901.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            14,
                                                            sizeof(mem_104904.mem),
                                                            &mem_104904.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            15,
                                                            sizeof(mem_104907.mem),
                                                            &mem_104907.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            16,
                                                            sizeof(mem_104910.mem),
                                                            &mem_104910.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            17,
                                                            sizeof(mem_104920.mem),
                                                            &mem_104920.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            18,
                                                            sizeof(mem_104924.mem),
                                                            &mem_104924.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100428,
                                                            19,
                                                            sizeof(mem_104928.mem),
                                                            &mem_104928.mem));
                    if (1 * ((size_t) segmap_usable_groups_100422 *
                             (size_t) segmap_group_sizze_100421) != 0) {
                        const size_t global_work_sizze_107534[1] =
                                     {(size_t) segmap_usable_groups_100422 *
                                     (size_t) segmap_group_sizze_100421};
                        const size_t local_work_sizze_107538[1] =
                                     {(size_t) segmap_group_sizze_100421};
                        int64_t time_start_107535 = 0, time_end_107536 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_100428",
                                    global_work_sizze_107534[0],
                                    local_work_sizze_107538[0], (int) 0);
                            time_start_107535 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_100428,
                                                                        1, NULL,
                                                                        global_work_sizze_107534,
                                                                        local_work_sizze_107538,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_100428_runs,
                                                                                                                  &ctx->mainzisegmap_100428_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107536 = get_wall_time();
                            
                            long time_diff_107537 = time_end_107536 -
                                 time_start_107535;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_100428", time_diff_107537);
                        }
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_104897, "mem_104897") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104901, "mem_104901") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104904, "mem_104904") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104907, "mem_104907") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104910, "mem_104910") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104920, "mem_104920") !=
                        0)
                        return 1;
                    
                    int64_t nest_sizze_100524 = q_92401 * binop_x_104810;
                    int64_t segred_group_sizze_100525;
                    
                    segred_group_sizze_100525 =
                        *ctx->tuning_params.mainzisegred_group_sizze_99714;
                    
                    int64_t num_groups_100526;
                    int32_t max_num_groups_106626;
                    
                    max_num_groups_106626 =
                        *ctx->tuning_params.mainzisegred_num_groups_99716;
                    num_groups_100526 = sext_i64_i32(smax64((int64_t) 1,
                                                            smin64(sdiv_up64(nest_sizze_100524,
                                                                             segred_group_sizze_100525),
                                                                   sext_i32_i64(max_num_groups_106626))));
                    
                    struct memblock_device mem_104933;
                    
                    mem_104933.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104933, bytes_104812,
                                              "mem_104933")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104937;
                    
                    mem_104937.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104937, bytes_104812,
                                              "mem_104937")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104941;
                    
                    mem_104941.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104941, bytes_104812,
                                              "mem_104941")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64(q_92401 * (int64_t) 2,
                              segred_group_sizze_100525)) {
                        int64_t segment_sizze_nonzzero_106627 =
                                smax64((int64_t) 1, q_92401);
                        int64_t num_threads_106628 = num_groups_100526 *
                                segred_group_sizze_100525;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                    (long long) (m_92398 * n_m_92409), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                    (long long) q_92401, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c",
                                    "segments_per_group",
                                    (long long) squot64(segred_group_sizze_100525,
                                                        segment_sizze_nonzzero_106627),
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "required_groups",
                                    (long long) sext_i64_i32(sdiv_up64(m_92398 *
                                                                       n_m_92409,
                                                                       squot64(segred_group_sizze_100525,
                                                                               segment_sizze_nonzzero_106627))),
                                    '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                1,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_100525),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                2,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_100525),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                3,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_100525),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                4,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                5,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                6,
                                                                sizeof(q_92401),
                                                                &q_92401));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                7,
                                                                sizeof(jump_92403),
                                                                &jump_92403));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                8,
                                                                sizeof(n_m_92409),
                                                                &n_m_92409));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                9,
                                                                sizeof(i_92415),
                                                                &i_92415));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                10,
                                                                sizeof(num_groups_100526),
                                                                &num_groups_100526));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                11,
                                                                sizeof(segment_sizze_nonzzero_106627),
                                                                &segment_sizze_nonzzero_106627));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                12,
                                                                sizeof(mem_104883.mem),
                                                                &mem_104883.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                13,
                                                                sizeof(mem_104891.mem),
                                                                &mem_104891.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                14,
                                                                sizeof(mem_104915.mem),
                                                                &mem_104915.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                15,
                                                                sizeof(mem_104924.mem),
                                                                &mem_104924.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                16,
                                                                sizeof(mem_104928.mem),
                                                                &mem_104928.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                17,
                                                                sizeof(mem_104933.mem),
                                                                &mem_104933.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                18,
                                                                sizeof(mem_104937.mem),
                                                                &mem_104937.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100534,
                                                                19,
                                                                sizeof(mem_104941.mem),
                                                                &mem_104941.mem));
                        if (1 * ((size_t) num_groups_100526 *
                                 (size_t) segred_group_sizze_100525) != 0) {
                            const size_t global_work_sizze_107539[1] =
                                         {(size_t) num_groups_100526 *
                                         (size_t) segred_group_sizze_100525};
                            const size_t local_work_sizze_107543[1] =
                                         {(size_t) segred_group_sizze_100525};
                            int64_t time_start_107540 = 0, time_end_107541 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segred_small_100534",
                                        global_work_sizze_107539[0],
                                        local_work_sizze_107543[0], (int) (0 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_100525 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_100525 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_100525));
                                time_start_107540 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegred_small_100534,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107539,
                                                                            local_work_sizze_107543,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegred_small_100534_runs,
                                                                                                                      &ctx->mainzisegred_small_100534_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107541 = get_wall_time();
                                
                                long time_diff_107542 = time_end_107541 -
                                     time_start_107540;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segred_small_100534",
                                        time_diff_107542);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                    } else {
                        int64_t groups_per_segment_106668 =
                                sdiv_up64(num_groups_100526, smax64((int64_t) 1,
                                                                    m_92398 *
                                                                    n_m_92409));
                        int64_t elements_per_thread_106669 = sdiv_up64(q_92401,
                                                                       segred_group_sizze_100525 *
                                                                       groups_per_segment_106668);
                        int64_t virt_num_groups_106670 =
                                groups_per_segment_106668 * (m_92398 *
                                                             n_m_92409);
                        int64_t num_threads_106671 = num_groups_100526 *
                                segred_group_sizze_100525;
                        int64_t threads_per_segment_106672 =
                                groups_per_segment_106668 *
                                segred_group_sizze_100525;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                    (long long) (m_92398 * n_m_92409), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                    (long long) q_92401, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "virt_num_groups",
                                    (long long) virt_num_groups_106670, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_groups",
                                    (long long) num_groups_100526, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "group_size",
                                    (long long) segred_group_sizze_100525,
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_thread",
                                    (long long) elements_per_thread_106669,
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c",
                                    "groups_per_segment",
                                    (long long) groups_per_segment_106668,
                                    '\n');
                        
                        struct memblock_device segred_tmp_mem_106673;
                        
                        segred_tmp_mem_106673.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_106673,
                                                  (int64_t) 8 *
                                                  virt_num_groups_106670,
                                                  "segred_tmp_mem_106673")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device segred_tmp_mem_106675;
                        
                        segred_tmp_mem_106675.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_106675,
                                                  (int64_t) 8 *
                                                  virt_num_groups_106670,
                                                  "segred_tmp_mem_106675")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device segred_tmp_mem_106677;
                        
                        segred_tmp_mem_106677.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_106677,
                                                  (int64_t) 8 *
                                                  virt_num_groups_106670,
                                                  "segred_tmp_mem_106677")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mainzicounter_mem_106679 =
                                               ctx->mainzicounter_mem_106679;
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                1, (size_t) 1,
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                2,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_100525),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                3,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_100525),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                4,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_100525),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                5,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                6,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                7,
                                                                sizeof(q_92401),
                                                                &q_92401));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                8,
                                                                sizeof(jump_92403),
                                                                &jump_92403));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                9,
                                                                sizeof(n_m_92409),
                                                                &n_m_92409));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                10,
                                                                sizeof(i_92415),
                                                                &i_92415));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                11,
                                                                sizeof(num_groups_100526),
                                                                &num_groups_100526));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                12,
                                                                sizeof(groups_per_segment_106668),
                                                                &groups_per_segment_106668));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                13,
                                                                sizeof(elements_per_thread_106669),
                                                                &elements_per_thread_106669));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                14,
                                                                sizeof(virt_num_groups_106670),
                                                                &virt_num_groups_106670));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                15,
                                                                sizeof(threads_per_segment_106672),
                                                                &threads_per_segment_106672));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                16,
                                                                sizeof(mem_104883.mem),
                                                                &mem_104883.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                17,
                                                                sizeof(mem_104891.mem),
                                                                &mem_104891.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                18,
                                                                sizeof(mem_104915.mem),
                                                                &mem_104915.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                19,
                                                                sizeof(mem_104924.mem),
                                                                &mem_104924.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                20,
                                                                sizeof(mem_104928.mem),
                                                                &mem_104928.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                21,
                                                                sizeof(mem_104933.mem),
                                                                &mem_104933.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                22,
                                                                sizeof(mem_104937.mem),
                                                                &mem_104937.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                23,
                                                                sizeof(mem_104941.mem),
                                                                &mem_104941.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                24,
                                                                sizeof(segred_tmp_mem_106673.mem),
                                                                &segred_tmp_mem_106673.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                25,
                                                                sizeof(segred_tmp_mem_106675.mem),
                                                                &segred_tmp_mem_106675.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                26,
                                                                sizeof(segred_tmp_mem_106677.mem),
                                                                &segred_tmp_mem_106677.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100534,
                                                                27,
                                                                sizeof(mainzicounter_mem_106679.mem),
                                                                &mainzicounter_mem_106679.mem));
                        if (1 * ((size_t) num_groups_100526 *
                                 (size_t) segred_group_sizze_100525) != 0) {
                            const size_t global_work_sizze_107545[1] =
                                         {(size_t) num_groups_100526 *
                                         (size_t) segred_group_sizze_100525};
                            const size_t local_work_sizze_107549[1] =
                                         {(size_t) segred_group_sizze_100525};
                            int64_t time_start_107546 = 0, time_end_107547 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segred_large_100534",
                                        global_work_sizze_107545[0],
                                        local_work_sizze_107549[0], (int) (0 +
                                                                           1 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_100525 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_100525 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_100525));
                                time_start_107546 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegred_large_100534,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107545,
                                                                            local_work_sizze_107549,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegred_large_100534_runs,
                                                                                                                      &ctx->mainzisegred_large_100534_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107547 = get_wall_time();
                                
                                long time_diff_107548 = time_end_107547 -
                                     time_start_107546;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segred_large_100534",
                                        time_diff_107548);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &segred_tmp_mem_106677,
                                                  "segred_tmp_mem_106677") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &segred_tmp_mem_106675,
                                                  "segred_tmp_mem_106675") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &segred_tmp_mem_106673,
                                                  "segred_tmp_mem_106673") != 0)
                            return 1;
                    }
                    
                    int64_t segmap_group_sizze_100574;
                    
                    segmap_group_sizze_100574 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_99692;
                    
                    int64_t segmap_usable_groups_100575 =
                            sdiv_up64(binop_x_104810,
                                      segmap_group_sizze_100574);
                    struct memblock_device mem_104946;
                    
                    mem_104946.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104946, bytes_104812,
                                              "mem_104946")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104950;
                    
                    mem_104950.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104950, bytes_104812,
                                              "mem_104950")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104954;
                    
                    mem_104954.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104954, bytes_104812,
                                              "mem_104954")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100581,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100581,
                                                            2,
                                                            sizeof(n_m_92409),
                                                            &n_m_92409));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100581,
                                                            3,
                                                            sizeof(mem_104933.mem),
                                                            &mem_104933.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100581,
                                                            4,
                                                            sizeof(mem_104937.mem),
                                                            &mem_104937.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100581,
                                                            5,
                                                            sizeof(mem_104941.mem),
                                                            &mem_104941.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100581,
                                                            6,
                                                            sizeof(mem_104946.mem),
                                                            &mem_104946.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100581,
                                                            7,
                                                            sizeof(mem_104950.mem),
                                                            &mem_104950.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_100581,
                                                            8,
                                                            sizeof(mem_104954.mem),
                                                            &mem_104954.mem));
                    if (1 * ((size_t) segmap_usable_groups_100575 *
                             (size_t) segmap_group_sizze_100574) != 0) {
                        const size_t global_work_sizze_107550[1] =
                                     {(size_t) segmap_usable_groups_100575 *
                                     (size_t) segmap_group_sizze_100574};
                        const size_t local_work_sizze_107554[1] =
                                     {(size_t) segmap_group_sizze_100574};
                        int64_t time_start_107551 = 0, time_end_107552 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_100581",
                                    global_work_sizze_107550[0],
                                    local_work_sizze_107554[0], (int) 0);
                            time_start_107551 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_100581,
                                                                        1, NULL,
                                                                        global_work_sizze_107550,
                                                                        local_work_sizze_107554,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_100581_runs,
                                                                                                                  &ctx->mainzisegmap_100581_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107552 = get_wall_time();
                            
                            long time_diff_107553 = time_end_107552 -
                                 time_start_107551;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_100581", time_diff_107553);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_104933, "mem_104933") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104937, "mem_104937") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104941, "mem_104941") !=
                        0)
                        return 1;
                    
                    int64_t segred_group_sizze_100596;
                    
                    segred_group_sizze_100596 =
                        *ctx->tuning_params.mainzisegred_group_sizze_99619;
                    
                    int64_t num_groups_100597;
                    int32_t max_num_groups_106737;
                    
                    max_num_groups_106737 =
                        *ctx->tuning_params.mainzisegred_num_groups_99621;
                    num_groups_100597 = sext_i64_i32(smax64((int64_t) 1,
                                                            smin64(sdiv_up64(nest_sizze_100524,
                                                                             segred_group_sizze_100596),
                                                                   sext_i32_i64(max_num_groups_106737))));
                    
                    struct memblock_device mem_104959;
                    
                    mem_104959.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104959, bytes_104812,
                                              "mem_104959")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104963;
                    
                    mem_104963.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104963, bytes_104812,
                                              "mem_104963")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64(q_92401 * (int64_t) 2,
                              segred_group_sizze_100596)) {
                        int64_t segment_sizze_nonzzero_106738 =
                                smax64((int64_t) 1, q_92401);
                        int64_t num_threads_106739 = num_groups_100597 *
                                segred_group_sizze_100596;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                    (long long) (m_92398 * n_m_92409), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                    (long long) q_92401, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c",
                                    "segments_per_group",
                                    (long long) squot64(segred_group_sizze_100596,
                                                        segment_sizze_nonzzero_106738),
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "required_groups",
                                    (long long) sext_i64_i32(sdiv_up64(m_92398 *
                                                                       n_m_92409,
                                                                       squot64(segred_group_sizze_100596,
                                                                               segment_sizze_nonzzero_106738))),
                                    '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                1,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_100596),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                2,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_100596),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                3,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                4,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                5,
                                                                sizeof(q_92401),
                                                                &q_92401));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                6,
                                                                sizeof(jump_92403),
                                                                &jump_92403));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                7,
                                                                sizeof(n_m_92409),
                                                                &n_m_92409));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                8,
                                                                sizeof(i_92415),
                                                                &i_92415));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                9,
                                                                sizeof(num_groups_100597),
                                                                &num_groups_100597));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                10,
                                                                sizeof(segment_sizze_nonzzero_106738),
                                                                &segment_sizze_nonzzero_106738));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                11,
                                                                sizeof(mem_104883.mem),
                                                                &mem_104883.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                12,
                                                                sizeof(mem_104887.mem),
                                                                &mem_104887.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                13,
                                                                sizeof(mem_104891.mem),
                                                                &mem_104891.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                14,
                                                                sizeof(mem_104915.mem),
                                                                &mem_104915.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                15,
                                                                sizeof(mem_104924.mem),
                                                                &mem_104924.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                16,
                                                                sizeof(mem_104928.mem),
                                                                &mem_104928.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                17,
                                                                sizeof(mem_104946.mem),
                                                                &mem_104946.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                18,
                                                                sizeof(mem_104950.mem),
                                                                &mem_104950.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                19,
                                                                sizeof(mem_104954.mem),
                                                                &mem_104954.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                20,
                                                                sizeof(mem_104959.mem),
                                                                &mem_104959.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_100604,
                                                                21,
                                                                sizeof(mem_104963.mem),
                                                                &mem_104963.mem));
                        if (1 * ((size_t) num_groups_100597 *
                                 (size_t) segred_group_sizze_100596) != 0) {
                            const size_t global_work_sizze_107555[1] =
                                         {(size_t) num_groups_100597 *
                                         (size_t) segred_group_sizze_100596};
                            const size_t local_work_sizze_107559[1] =
                                         {(size_t) segred_group_sizze_100596};
                            int64_t time_start_107556 = 0, time_end_107557 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segred_small_100604",
                                        global_work_sizze_107555[0],
                                        local_work_sizze_107559[0], (int) (0 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_100596 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_100596));
                                time_start_107556 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegred_small_100604,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107555,
                                                                            local_work_sizze_107559,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegred_small_100604_runs,
                                                                                                                      &ctx->mainzisegred_small_100604_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107557 = get_wall_time();
                                
                                long time_diff_107558 = time_end_107557 -
                                     time_start_107556;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segred_small_100604",
                                        time_diff_107558);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                    } else {
                        int64_t groups_per_segment_106773 =
                                sdiv_up64(num_groups_100597, smax64((int64_t) 1,
                                                                    m_92398 *
                                                                    n_m_92409));
                        int64_t elements_per_thread_106774 = sdiv_up64(q_92401,
                                                                       segred_group_sizze_100596 *
                                                                       groups_per_segment_106773);
                        int64_t virt_num_groups_106775 =
                                groups_per_segment_106773 * (m_92398 *
                                                             n_m_92409);
                        int64_t num_threads_106776 = num_groups_100597 *
                                segred_group_sizze_100596;
                        int64_t threads_per_segment_106777 =
                                groups_per_segment_106773 *
                                segred_group_sizze_100596;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                    (long long) (m_92398 * n_m_92409), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                    (long long) q_92401, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "virt_num_groups",
                                    (long long) virt_num_groups_106775, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_groups",
                                    (long long) num_groups_100597, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "group_size",
                                    (long long) segred_group_sizze_100596,
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_thread",
                                    (long long) elements_per_thread_106774,
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c",
                                    "groups_per_segment",
                                    (long long) groups_per_segment_106773,
                                    '\n');
                        
                        struct memblock_device segred_tmp_mem_106778;
                        
                        segred_tmp_mem_106778.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_106778,
                                                  (int64_t) 8 *
                                                  virt_num_groups_106775,
                                                  "segred_tmp_mem_106778")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device segred_tmp_mem_106780;
                        
                        segred_tmp_mem_106780.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_106780,
                                                  (int64_t) 8 *
                                                  virt_num_groups_106775,
                                                  "segred_tmp_mem_106780")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mainzicounter_mem_106782 =
                                               ctx->mainzicounter_mem_106782;
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                1, (size_t) 1,
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                2,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_100596),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                3,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_100596),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                4,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                5,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                6,
                                                                sizeof(q_92401),
                                                                &q_92401));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                7,
                                                                sizeof(jump_92403),
                                                                &jump_92403));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                8,
                                                                sizeof(n_m_92409),
                                                                &n_m_92409));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                9,
                                                                sizeof(i_92415),
                                                                &i_92415));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                10,
                                                                sizeof(num_groups_100597),
                                                                &num_groups_100597));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                11,
                                                                sizeof(groups_per_segment_106773),
                                                                &groups_per_segment_106773));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                12,
                                                                sizeof(elements_per_thread_106774),
                                                                &elements_per_thread_106774));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                13,
                                                                sizeof(virt_num_groups_106775),
                                                                &virt_num_groups_106775));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                14,
                                                                sizeof(threads_per_segment_106777),
                                                                &threads_per_segment_106777));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                15,
                                                                sizeof(mem_104883.mem),
                                                                &mem_104883.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                16,
                                                                sizeof(mem_104887.mem),
                                                                &mem_104887.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                17,
                                                                sizeof(mem_104891.mem),
                                                                &mem_104891.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                18,
                                                                sizeof(mem_104915.mem),
                                                                &mem_104915.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                19,
                                                                sizeof(mem_104924.mem),
                                                                &mem_104924.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                20,
                                                                sizeof(mem_104928.mem),
                                                                &mem_104928.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                21,
                                                                sizeof(mem_104946.mem),
                                                                &mem_104946.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                22,
                                                                sizeof(mem_104950.mem),
                                                                &mem_104950.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                23,
                                                                sizeof(mem_104954.mem),
                                                                &mem_104954.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                24,
                                                                sizeof(mem_104959.mem),
                                                                &mem_104959.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                25,
                                                                sizeof(mem_104963.mem),
                                                                &mem_104963.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                26,
                                                                sizeof(segred_tmp_mem_106778.mem),
                                                                &segred_tmp_mem_106778.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                27,
                                                                sizeof(segred_tmp_mem_106780.mem),
                                                                &segred_tmp_mem_106780.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_100604,
                                                                28,
                                                                sizeof(mainzicounter_mem_106782.mem),
                                                                &mainzicounter_mem_106782.mem));
                        if (1 * ((size_t) num_groups_100597 *
                                 (size_t) segred_group_sizze_100596) != 0) {
                            const size_t global_work_sizze_107561[1] =
                                         {(size_t) num_groups_100597 *
                                         (size_t) segred_group_sizze_100596};
                            const size_t local_work_sizze_107565[1] =
                                         {(size_t) segred_group_sizze_100596};
                            int64_t time_start_107562 = 0, time_end_107563 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segred_large_100604",
                                        global_work_sizze_107561[0],
                                        local_work_sizze_107565[0], (int) (0 +
                                                                           1 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_100596 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_100596));
                                time_start_107562 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegred_large_100604,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107561,
                                                                            local_work_sizze_107565,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegred_large_100604_runs,
                                                                                                                      &ctx->mainzisegred_large_100604_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107563 = get_wall_time();
                                
                                long time_diff_107564 = time_end_107563 -
                                     time_start_107562;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segred_large_100604",
                                        time_diff_107564);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &segred_tmp_mem_106780,
                                                  "segred_tmp_mem_106780") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &segred_tmp_mem_106778,
                                                  "segred_tmp_mem_106778") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_104883, "mem_104883") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104887, "mem_104887") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104891, "mem_104891") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104915, "mem_104915") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104924, "mem_104924") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104928, "mem_104928") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104946, "mem_104946") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104950, "mem_104950") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104954, "mem_104954") !=
                        0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_105066, &mem_104959,
                                            "mem_104959") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_105065, &mem_104963,
                                            "mem_104963") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104963, "mem_104963") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104959, "mem_104959") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104954, "mem_104954") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104950, "mem_104950") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104946, "mem_104946") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104941, "mem_104941") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104937, "mem_104937") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104933, "mem_104933") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104928, "mem_104928") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104924, "mem_104924") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104920, "mem_104920") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104915, "mem_104915") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104910, "mem_104910") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104907, "mem_104907") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104904, "mem_104904") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104901, "mem_104901") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104897, "mem_104897") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104891, "mem_104891") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104887, "mem_104887") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104883, "mem_104883") !=
                        0)
                        return 1;
                } else {
                    int64_t segscan_group_sizze_101456;
                    
                    segscan_group_sizze_101456 =
                        *ctx->tuning_params.mainzisegscan_group_sizze_101436;
                    
                    int64_t num_groups_101457;
                    int32_t max_num_groups_106824;
                    
                    max_num_groups_106824 =
                        *ctx->tuning_params.mainzisegscan_num_groups_101438;
                    num_groups_101457 = sext_i64_i32(smax64((int64_t) 1,
                                                            smin64(sdiv_up64(binop_x_104815,
                                                                             segscan_group_sizze_101456),
                                                                   sext_i32_i64(max_num_groups_106824))));
                    
                    struct memblock_device mem_104968;
                    
                    mem_104968.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104968, bytes_104817,
                                              "mem_104968")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64((int64_t) 0, m_92398 * n_92399)) {
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegScan");
                        
                        int64_t stage1_max_num_groups_106825;
                        
                        stage1_max_num_groups_106825 =
                            ctx->opencl.max_group_size;
                        
                        int64_t stage1_num_groups_106826 =
                                smin64(stage1_max_num_groups_106825,
                                       num_groups_101457);
                        int32_t num_threads_106827 =
                                sext_i64_i32(stage1_num_groups_106826 *
                                segscan_group_sizze_101456);
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_101462,
                                                                1,
                                                                (size_t) smax64((int64_t) 1,
                                                                                (int64_t) 8 *
                                                                                segscan_group_sizze_101456),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_101462,
                                                                2,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_101462,
                                                                3,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_101462,
                                                                4,
                                                                sizeof(num_threads_106827),
                                                                &num_threads_106827));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_101462,
                                                                5,
                                                                sizeof(Y_mem_104293.mem),
                                                                &Y_mem_104293.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage1_101462,
                                                                6,
                                                                sizeof(mem_104968.mem),
                                                                &mem_104968.mem));
                        if (1 * ((size_t) stage1_num_groups_106826 *
                                 (size_t) segscan_group_sizze_101456) != 0) {
                            const size_t global_work_sizze_107566[1] =
                                         {(size_t) stage1_num_groups_106826 *
                                         (size_t) segscan_group_sizze_101456};
                            const size_t local_work_sizze_107570[1] =
                                         {(size_t) segscan_group_sizze_101456};
                            int64_t time_start_107567 = 0, time_end_107568 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage1_101462",
                                        global_work_sizze_107566[0],
                                        local_work_sizze_107570[0], (int) (0 +
                                                                           smax64((int64_t) 1,
                                                                                  (int64_t) 8 *
                                                                                  segscan_group_sizze_101456)));
                                time_start_107567 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage1_101462,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107566,
                                                                            local_work_sizze_107570,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage1_101462_runs,
                                                                                                                      &ctx->mainziscan_stage1_101462_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107568 = get_wall_time();
                                
                                long time_diff_107569 = time_end_107568 -
                                     time_start_107567;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage1_101462",
                                        time_diff_107569);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_group",
                                    (long long) (segscan_group_sizze_101456 *
                                                 sdiv_up64(m_92398 * n_92399,
                                                           sext_i32_i64(num_threads_106827))),
                                    '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_101462,
                                                                1,
                                                                (size_t) smax64((int64_t) 1,
                                                                                (int64_t) 8 *
                                                                                stage1_num_groups_106826),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_101462,
                                                                2,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_101462,
                                                                3,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_101462,
                                                                4,
                                                                sizeof(stage1_num_groups_106826),
                                                                &stage1_num_groups_106826));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_101462,
                                                                5,
                                                                sizeof(num_threads_106827),
                                                                &num_threads_106827));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage2_101462,
                                                                6,
                                                                sizeof(mem_104968.mem),
                                                                &mem_104968.mem));
                        if (1 * ((size_t) (int64_t) 1 *
                                 (size_t) stage1_num_groups_106826) != 0) {
                            const size_t global_work_sizze_107571[1] =
                                         {(size_t) (int64_t) 1 *
                                         (size_t) stage1_num_groups_106826};
                            const size_t local_work_sizze_107575[1] =
                                         {(size_t) stage1_num_groups_106826};
                            int64_t time_start_107572 = 0, time_end_107573 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage2_101462",
                                        global_work_sizze_107571[0],
                                        local_work_sizze_107575[0], (int) (0 +
                                                                           smax64((int64_t) 1,
                                                                                  (int64_t) 8 *
                                                                                  stage1_num_groups_106826)));
                                time_start_107572 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage2_101462,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107571,
                                                                            local_work_sizze_107575,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage2_101462_runs,
                                                                                                                      &ctx->mainziscan_stage2_101462_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107573 = get_wall_time();
                                
                                long time_diff_107574 = time_end_107573 -
                                     time_start_107572;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage2_101462",
                                        time_diff_107574);
                            }
                        }
                        
                        int32_t required_groups_106878 =
                                sext_i64_i32(sdiv_up64(m_92398 * n_92399,
                                                       segscan_group_sizze_101456));
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_101462,
                                                                1,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_101462,
                                                                2,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_101462,
                                                                3,
                                                                sizeof(num_groups_101457),
                                                                &num_groups_101457));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_101462,
                                                                4,
                                                                sizeof(num_threads_106827),
                                                                &num_threads_106827));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_101462,
                                                                5,
                                                                sizeof(required_groups_106878),
                                                                &required_groups_106878));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainziscan_stage3_101462,
                                                                6,
                                                                sizeof(mem_104968.mem),
                                                                &mem_104968.mem));
                        if (1 * ((size_t) num_groups_101457 *
                                 (size_t) segscan_group_sizze_101456) != 0) {
                            const size_t global_work_sizze_107576[1] =
                                         {(size_t) num_groups_101457 *
                                         (size_t) segscan_group_sizze_101456};
                            const size_t local_work_sizze_107580[1] =
                                         {(size_t) segscan_group_sizze_101456};
                            int64_t time_start_107577 = 0, time_end_107578 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.scan_stage3_101462",
                                        global_work_sizze_107576[0],
                                        local_work_sizze_107580[0], (int) 0);
                                time_start_107577 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainziscan_stage3_101462,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107576,
                                                                            local_work_sizze_107580,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainziscan_stage3_101462_runs,
                                                                                                                      &ctx->mainziscan_stage3_101462_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107578 = get_wall_time();
                                
                                long time_diff_107579 = time_end_107578 -
                                     time_start_107577;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.scan_stage3_101462",
                                        time_diff_107579);
                            }
                        }
                    }
                    
                    struct memblock_device mem_104972;
                    
                    mem_104972.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104972, bytes_104817,
                                              "mem_104972")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhreplicate_f64(ctx, mem_104972, m_92398 *
                                                      n_92399, 0.0) != 0) {
                        if (memblock_unref_device(ctx, &mem_104972,
                                                  "mem_104972") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_104968,
                                                  "mem_104968") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105065,
                                                  "ext_mem_105065") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105066,
                                                  "ext_mem_105066") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105067,
                                                  "ext_mem_105067") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105068,
                                                  "ext_mem_105068") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105069,
                                                  "ext_mem_105069") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105070,
                                                  "ext_mem_105070") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105071,
                                                  "ext_mem_105071") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105072,
                                                  "ext_mem_105072") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_out_105324,
                                                  "mem_out_105324") != 0)
                            return 1;
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104976;
                    
                    mem_104976.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104976, bytes_104817,
                                              "mem_104976")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhreplicate_i64(ctx, mem_104976, m_92398 *
                                                      n_92399, (int64_t) -1) !=
                        0) {
                        if (memblock_unref_device(ctx, &mem_104976,
                                                  "mem_104976") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_104972,
                                                  "mem_104972") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_104968,
                                                  "mem_104968") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105065,
                                                  "ext_mem_105065") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105066,
                                                  "ext_mem_105066") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105067,
                                                  "ext_mem_105067") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105068,
                                                  "ext_mem_105068") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105069,
                                                  "ext_mem_105069") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105070,
                                                  "ext_mem_105070") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105071,
                                                  "ext_mem_105071") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &ext_mem_105072,
                                                  "ext_mem_105072") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_out_105324,
                                                  "mem_out_105324") != 0)
                            return 1;
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t segmap_group_sizze_101509;
                    
                    segmap_group_sizze_101509 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_101350;
                    
                    int64_t segmap_usable_groups_101510 =
                            sdiv_up64(binop_x_104815,
                                      segmap_group_sizze_101509);
                    
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101515,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101515,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101515,
                                                            3,
                                                            sizeof(Y_mem_104293.mem),
                                                            &Y_mem_104293.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101515,
                                                            4,
                                                            sizeof(mem_104968.mem),
                                                            &mem_104968.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101515,
                                                            5,
                                                            sizeof(mem_104972.mem),
                                                            &mem_104972.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101515,
                                                            6,
                                                            sizeof(mem_104976.mem),
                                                            &mem_104976.mem));
                    if (1 * ((size_t) segmap_usable_groups_101510 *
                             (size_t) segmap_group_sizze_101509) != 0) {
                        const size_t global_work_sizze_107581[1] =
                                     {(size_t) segmap_usable_groups_101510 *
                                     (size_t) segmap_group_sizze_101509};
                        const size_t local_work_sizze_107585[1] =
                                     {(size_t) segmap_group_sizze_101509};
                        int64_t time_start_107582 = 0, time_end_107583 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_101515",
                                    global_work_sizze_107581[0],
                                    local_work_sizze_107585[0], (int) 0);
                            time_start_107582 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_101515,
                                                                        1, NULL,
                                                                        global_work_sizze_107581,
                                                                        local_work_sizze_107585,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_101515_runs,
                                                                                                                  &ctx->mainzisegmap_101515_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107583 = get_wall_time();
                            
                            long time_diff_107584 = time_end_107583 -
                                 time_start_107582;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_101515", time_diff_107584);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_101529;
                    
                    segmap_group_sizze_101529 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_101324;
                    
                    int64_t segmap_usable_groups_101530 =
                            sdiv_up64(binop_x_104815,
                                      segmap_group_sizze_101529);
                    struct memblock_device mem_104982;
                    
                    mem_104982.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104982, bytes_104817,
                                              "mem_104982")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101534,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101534,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101534,
                                                            3,
                                                            sizeof(mem_104976.mem),
                                                            &mem_104976.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101534,
                                                            4,
                                                            sizeof(mem_104982.mem),
                                                            &mem_104982.mem));
                    if (1 * ((size_t) segmap_usable_groups_101530 *
                             (size_t) segmap_group_sizze_101529) != 0) {
                        const size_t global_work_sizze_107586[1] =
                                     {(size_t) segmap_usable_groups_101530 *
                                     (size_t) segmap_group_sizze_101529};
                        const size_t local_work_sizze_107590[1] =
                                     {(size_t) segmap_group_sizze_101529};
                        int64_t time_start_107587 = 0, time_end_107588 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_101534",
                                    global_work_sizze_107586[0],
                                    local_work_sizze_107590[0], (int) 0);
                            time_start_107587 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_101534,
                                                                        1, NULL,
                                                                        global_work_sizze_107586,
                                                                        local_work_sizze_107590,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_101534_runs,
                                                                                                                  &ctx->mainzisegmap_101534_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107588 = get_wall_time();
                            
                            long time_diff_107589 = time_end_107588 -
                                 time_start_107587;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_101534", time_diff_107589);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_101539;
                    
                    segmap_group_sizze_101539 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_101298;
                    
                    int64_t segmap_usable_groups_101540 = sdiv_up64(m_92398,
                                                                    segmap_group_sizze_101539);
                    struct memblock_device mem_104986;
                    
                    mem_104986.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104986, bytes_104835,
                                              "mem_104986")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104989;
                    
                    mem_104989.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104989, bytes_104835,
                                              "mem_104989")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104992;
                    
                    mem_104992.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104992, bytes_104835,
                                              "mem_104992")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_104995;
                    
                    mem_104995.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_104995, bytes_104835,
                                              "mem_104995")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101546,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101546,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101546,
                                                            3, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101546,
                                                            4, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101546,
                                                            5,
                                                            sizeof(min_res_92421),
                                                            &min_res_92421));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101546,
                                                            6,
                                                            sizeof(i64_res_92427),
                                                            &i64_res_92427));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101546,
                                                            7,
                                                            sizeof(mem_104968.mem),
                                                            &mem_104968.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101546,
                                                            8,
                                                            sizeof(mem_104986.mem),
                                                            &mem_104986.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101546,
                                                            9,
                                                            sizeof(mem_104989.mem),
                                                            &mem_104989.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101546,
                                                            10,
                                                            sizeof(mem_104992.mem),
                                                            &mem_104992.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101546,
                                                            11,
                                                            sizeof(mem_104995.mem),
                                                            &mem_104995.mem));
                    if (1 * ((size_t) segmap_usable_groups_101540 *
                             (size_t) segmap_group_sizze_101539) != 0) {
                        const size_t global_work_sizze_107591[1] =
                                     {(size_t) segmap_usable_groups_101540 *
                                     (size_t) segmap_group_sizze_101539};
                        const size_t local_work_sizze_107595[1] =
                                     {(size_t) segmap_group_sizze_101539};
                        int64_t time_start_107592 = 0, time_end_107593 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_101546",
                                    global_work_sizze_107591[0],
                                    local_work_sizze_107595[0], (int) 0);
                            time_start_107592 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_101546,
                                                                        1, NULL,
                                                                        global_work_sizze_107591,
                                                                        local_work_sizze_107595,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_101546_runs,
                                                                                                                  &ctx->mainzisegmap_101546_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107593 = get_wall_time();
                            
                            long time_diff_107594 = time_end_107593 -
                                 time_start_107592;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_101546", time_diff_107594);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_101561;
                    
                    segmap_group_sizze_101561 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_101273;
                    
                    int64_t segmap_usable_groups_101562 =
                            sdiv_up64(binop_x_104847,
                                      segmap_group_sizze_101561);
                    struct memblock_device mem_105000;
                    
                    mem_105000.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105000, bytes_104849,
                                              "mem_105000")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101566,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101566,
                                                            2, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101566,
                                                            3, sizeof(q_92401),
                                                            &q_92401));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101566,
                                                            4, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101566,
                                                            5,
                                                            sizeof(mem_104968.mem),
                                                            &mem_104968.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101566,
                                                            6,
                                                            sizeof(mem_105000.mem),
                                                            &mem_105000.mem));
                    if (1 * ((size_t) segmap_usable_groups_101562 *
                             (size_t) segmap_group_sizze_101561) != 0) {
                        const size_t global_work_sizze_107596[1] =
                                     {(size_t) segmap_usable_groups_101562 *
                                     (size_t) segmap_group_sizze_101561};
                        const size_t local_work_sizze_107600[1] =
                                     {(size_t) segmap_group_sizze_101561};
                        int64_t time_start_107597 = 0, time_end_107598 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_101566",
                                    global_work_sizze_107596[0],
                                    local_work_sizze_107600[0], (int) 0);
                            time_start_107597 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_101566,
                                                                        1, NULL,
                                                                        global_work_sizze_107596,
                                                                        local_work_sizze_107600,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_101566_runs,
                                                                                                                  &ctx->mainzisegmap_101566_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107598 = get_wall_time();
                            
                            long time_diff_107599 = time_end_107598 -
                                 time_start_107597;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_101566", time_diff_107599);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_group_sizze_101578;
                    
                    segmap_group_sizze_101578 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_100884;
                    
                    int64_t segmap_usable_groups_101579 =
                            sdiv_up64(binop_x_104810,
                                      segmap_group_sizze_101578);
                    struct memblock_device mem_105005;
                    
                    mem_105005.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105005, bytes_104812,
                                              "mem_105005")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_105009;
                    
                    mem_105009.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105009, bytes_104812,
                                              "mem_105009")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_105013;
                    
                    mem_105013.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105013, bytes_104812,
                                              "mem_105013")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            1,
                                                            sizeof(ctx->failure_is_an_option),
                                                            &ctx->failure_is_an_option));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            3, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            4, sizeof(n_92399),
                                                            &n_92399));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            5,
                                                            sizeof(jump_92403),
                                                            &jump_92403));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            6,
                                                            sizeof(n_m_92409),
                                                            &n_m_92409));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            7, sizeof(i_92415),
                                                            &i_92415));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            8, sizeof(x_92416),
                                                            &x_92416));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            9,
                                                            sizeof(min_res_92421),
                                                            &min_res_92421));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            10,
                                                            sizeof(loop_cond_92426),
                                                            &loop_cond_92426));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            11,
                                                            sizeof(mem_104976.mem),
                                                            &mem_104976.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            12,
                                                            sizeof(mem_104982.mem),
                                                            &mem_104982.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            13,
                                                            sizeof(mem_104986.mem),
                                                            &mem_104986.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            14,
                                                            sizeof(mem_104989.mem),
                                                            &mem_104989.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            15,
                                                            sizeof(mem_104992.mem),
                                                            &mem_104992.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            16,
                                                            sizeof(mem_104995.mem),
                                                            &mem_104995.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            17,
                                                            sizeof(mem_105005.mem),
                                                            &mem_105005.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            18,
                                                            sizeof(mem_105009.mem),
                                                            &mem_105009.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101585,
                                                            19,
                                                            sizeof(mem_105013.mem),
                                                            &mem_105013.mem));
                    if (1 * ((size_t) segmap_usable_groups_101579 *
                             (size_t) segmap_group_sizze_101578) != 0) {
                        const size_t global_work_sizze_107601[1] =
                                     {(size_t) segmap_usable_groups_101579 *
                                     (size_t) segmap_group_sizze_101578};
                        const size_t local_work_sizze_107605[1] =
                                     {(size_t) segmap_group_sizze_101578};
                        int64_t time_start_107602 = 0, time_end_107603 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_101585",
                                    global_work_sizze_107601[0],
                                    local_work_sizze_107605[0], (int) 0);
                            time_start_107602 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_101585,
                                                                        1, NULL,
                                                                        global_work_sizze_107601,
                                                                        local_work_sizze_107605,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_101585_runs,
                                                                                                                  &ctx->mainzisegmap_101585_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107603 = get_wall_time();
                            
                            long time_diff_107604 = time_end_107603 -
                                 time_start_107602;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_101585", time_diff_107604);
                        }
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_104982, "mem_104982") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104986, "mem_104986") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104989, "mem_104989") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104992, "mem_104992") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104995, "mem_104995") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105005, "mem_105005") !=
                        0)
                        return 1;
                    
                    int64_t nest_sizze_101681 = q_92401 * binop_x_104810;
                    int64_t segred_group_sizze_101682;
                    
                    segred_group_sizze_101682 =
                        *ctx->tuning_params.mainzisegred_group_sizze_100823;
                    
                    int64_t num_groups_101683;
                    int32_t max_num_groups_106945;
                    
                    max_num_groups_106945 =
                        *ctx->tuning_params.mainzisegred_num_groups_100825;
                    num_groups_101683 = sext_i64_i32(smax64((int64_t) 1,
                                                            smin64(sdiv_up64(nest_sizze_101681,
                                                                             segred_group_sizze_101682),
                                                                   sext_i32_i64(max_num_groups_106945))));
                    
                    struct memblock_device mem_105018;
                    
                    mem_105018.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105018, bytes_104812,
                                              "mem_105018")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_105022;
                    
                    mem_105022.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105022, bytes_104812,
                                              "mem_105022")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_105026;
                    
                    mem_105026.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105026, bytes_104812,
                                              "mem_105026")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_105030;
                    
                    mem_105030.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105030, bytes_104812,
                                              "mem_105030")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_105034;
                    
                    mem_105034.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105034, bytes_104812,
                                              "mem_105034")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64(q_92401 * (int64_t) 2,
                              segred_group_sizze_101682)) {
                        int64_t segment_sizze_nonzzero_106946 =
                                smax64((int64_t) 1, q_92401);
                        int64_t num_threads_106947 = num_groups_101683 *
                                segred_group_sizze_101682;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                    (long long) (m_92398 * n_m_92409), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                    (long long) q_92401, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c",
                                    "segments_per_group",
                                    (long long) squot64(segred_group_sizze_101682,
                                                        segment_sizze_nonzzero_106946),
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "required_groups",
                                    (long long) sext_i64_i32(sdiv_up64(m_92398 *
                                                                       n_m_92409,
                                                                       squot64(segred_group_sizze_101682,
                                                                               segment_sizze_nonzzero_106946))),
                                    '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                1,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101682),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                2,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101682),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                3,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101682),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                4,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101682),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                5,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101682),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                6,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                7,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                8,
                                                                sizeof(q_92401),
                                                                &q_92401));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                9,
                                                                sizeof(jump_92403),
                                                                &jump_92403));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                10,
                                                                sizeof(n_m_92409),
                                                                &n_m_92409));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                11,
                                                                sizeof(i_92415),
                                                                &i_92415));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                12,
                                                                sizeof(num_groups_101683),
                                                                &num_groups_101683));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                13,
                                                                sizeof(segment_sizze_nonzzero_106946),
                                                                &segment_sizze_nonzzero_106946));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                14,
                                                                sizeof(mem_104968.mem),
                                                                &mem_104968.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                15,
                                                                sizeof(mem_104976.mem),
                                                                &mem_104976.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                16,
                                                                sizeof(mem_105000.mem),
                                                                &mem_105000.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                17,
                                                                sizeof(mem_105009.mem),
                                                                &mem_105009.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                18,
                                                                sizeof(mem_105013.mem),
                                                                &mem_105013.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                19,
                                                                sizeof(mem_105018.mem),
                                                                &mem_105018.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                20,
                                                                sizeof(mem_105022.mem),
                                                                &mem_105022.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                21,
                                                                sizeof(mem_105026.mem),
                                                                &mem_105026.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                22,
                                                                sizeof(mem_105030.mem),
                                                                &mem_105030.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101693,
                                                                23,
                                                                sizeof(mem_105034.mem),
                                                                &mem_105034.mem));
                        if (1 * ((size_t) num_groups_101683 *
                                 (size_t) segred_group_sizze_101682) != 0) {
                            const size_t global_work_sizze_107606[1] =
                                         {(size_t) num_groups_101683 *
                                         (size_t) segred_group_sizze_101682};
                            const size_t local_work_sizze_107610[1] =
                                         {(size_t) segred_group_sizze_101682};
                            int64_t time_start_107607 = 0, time_end_107608 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segred_small_101693",
                                        global_work_sizze_107606[0],
                                        local_work_sizze_107610[0], (int) (0 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101682 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101682 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101682 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101682 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101682));
                                time_start_107607 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegred_small_101693,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107606,
                                                                            local_work_sizze_107610,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegred_small_101693_runs,
                                                                                                                      &ctx->mainzisegred_small_101693_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107608 = get_wall_time();
                                
                                long time_diff_107609 = time_end_107608 -
                                     time_start_107607;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segred_small_101693",
                                        time_diff_107609);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                    } else {
                        int64_t groups_per_segment_106999 =
                                sdiv_up64(num_groups_101683, smax64((int64_t) 1,
                                                                    m_92398 *
                                                                    n_m_92409));
                        int64_t elements_per_thread_107000 = sdiv_up64(q_92401,
                                                                       segred_group_sizze_101682 *
                                                                       groups_per_segment_106999);
                        int64_t virt_num_groups_107001 =
                                groups_per_segment_106999 * (m_92398 *
                                                             n_m_92409);
                        int64_t num_threads_107002 = num_groups_101683 *
                                segred_group_sizze_101682;
                        int64_t threads_per_segment_107003 =
                                groups_per_segment_106999 *
                                segred_group_sizze_101682;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                    (long long) (m_92398 * n_m_92409), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                    (long long) q_92401, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "virt_num_groups",
                                    (long long) virt_num_groups_107001, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_groups",
                                    (long long) num_groups_101683, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "group_size",
                                    (long long) segred_group_sizze_101682,
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_thread",
                                    (long long) elements_per_thread_107000,
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c",
                                    "groups_per_segment",
                                    (long long) groups_per_segment_106999,
                                    '\n');
                        
                        struct memblock_device segred_tmp_mem_107004;
                        
                        segred_tmp_mem_107004.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_107004,
                                                  (int64_t) 8 *
                                                  virt_num_groups_107001,
                                                  "segred_tmp_mem_107004")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device segred_tmp_mem_107006;
                        
                        segred_tmp_mem_107006.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_107006,
                                                  (int64_t) 8 *
                                                  virt_num_groups_107001,
                                                  "segred_tmp_mem_107006")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device segred_tmp_mem_107008;
                        
                        segred_tmp_mem_107008.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_107008,
                                                  (int64_t) 8 *
                                                  virt_num_groups_107001,
                                                  "segred_tmp_mem_107008")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device segred_tmp_mem_107010;
                        
                        segred_tmp_mem_107010.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_107010,
                                                  (int64_t) 8 *
                                                  virt_num_groups_107001,
                                                  "segred_tmp_mem_107010")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device segred_tmp_mem_107012;
                        
                        segred_tmp_mem_107012.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_107012,
                                                  (int64_t) 8 *
                                                  virt_num_groups_107001,
                                                  "segred_tmp_mem_107012")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mainzicounter_mem_107014 =
                                               ctx->mainzicounter_mem_107014;
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                1, (size_t) 1,
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                2,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101682),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                3,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101682),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                4,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101682),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                5,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101682),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                6,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101682),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                7,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                8,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                9,
                                                                sizeof(q_92401),
                                                                &q_92401));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                10,
                                                                sizeof(jump_92403),
                                                                &jump_92403));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                11,
                                                                sizeof(n_m_92409),
                                                                &n_m_92409));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                12,
                                                                sizeof(i_92415),
                                                                &i_92415));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                13,
                                                                sizeof(num_groups_101683),
                                                                &num_groups_101683));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                14,
                                                                sizeof(groups_per_segment_106999),
                                                                &groups_per_segment_106999));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                15,
                                                                sizeof(elements_per_thread_107000),
                                                                &elements_per_thread_107000));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                16,
                                                                sizeof(virt_num_groups_107001),
                                                                &virt_num_groups_107001));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                17,
                                                                sizeof(threads_per_segment_107003),
                                                                &threads_per_segment_107003));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                18,
                                                                sizeof(mem_104968.mem),
                                                                &mem_104968.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                19,
                                                                sizeof(mem_104976.mem),
                                                                &mem_104976.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                20,
                                                                sizeof(mem_105000.mem),
                                                                &mem_105000.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                21,
                                                                sizeof(mem_105009.mem),
                                                                &mem_105009.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                22,
                                                                sizeof(mem_105013.mem),
                                                                &mem_105013.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                23,
                                                                sizeof(mem_105018.mem),
                                                                &mem_105018.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                24,
                                                                sizeof(mem_105022.mem),
                                                                &mem_105022.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                25,
                                                                sizeof(mem_105026.mem),
                                                                &mem_105026.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                26,
                                                                sizeof(mem_105030.mem),
                                                                &mem_105030.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                27,
                                                                sizeof(mem_105034.mem),
                                                                &mem_105034.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                28,
                                                                sizeof(segred_tmp_mem_107004.mem),
                                                                &segred_tmp_mem_107004.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                29,
                                                                sizeof(segred_tmp_mem_107006.mem),
                                                                &segred_tmp_mem_107006.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                30,
                                                                sizeof(segred_tmp_mem_107008.mem),
                                                                &segred_tmp_mem_107008.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                31,
                                                                sizeof(segred_tmp_mem_107010.mem),
                                                                &segred_tmp_mem_107010.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                32,
                                                                sizeof(segred_tmp_mem_107012.mem),
                                                                &segred_tmp_mem_107012.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101693,
                                                                33,
                                                                sizeof(mainzicounter_mem_107014.mem),
                                                                &mainzicounter_mem_107014.mem));
                        if (1 * ((size_t) num_groups_101683 *
                                 (size_t) segred_group_sizze_101682) != 0) {
                            const size_t global_work_sizze_107612[1] =
                                         {(size_t) num_groups_101683 *
                                         (size_t) segred_group_sizze_101682};
                            const size_t local_work_sizze_107616[1] =
                                         {(size_t) segred_group_sizze_101682};
                            int64_t time_start_107613 = 0, time_end_107614 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segred_large_101693",
                                        global_work_sizze_107612[0],
                                        local_work_sizze_107616[0], (int) (0 +
                                                                           1 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101682 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101682 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101682 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101682 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101682));
                                time_start_107613 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegred_large_101693,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107612,
                                                                            local_work_sizze_107616,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegred_large_101693_runs,
                                                                                                                      &ctx->mainzisegred_large_101693_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107614 = get_wall_time();
                                
                                long time_diff_107615 = time_end_107614 -
                                     time_start_107613;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segred_large_101693",
                                        time_diff_107615);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &segred_tmp_mem_107012,
                                                  "segred_tmp_mem_107012") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &segred_tmp_mem_107010,
                                                  "segred_tmp_mem_107010") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &segred_tmp_mem_107008,
                                                  "segred_tmp_mem_107008") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &segred_tmp_mem_107006,
                                                  "segred_tmp_mem_107006") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &segred_tmp_mem_107004,
                                                  "segred_tmp_mem_107004") != 0)
                            return 1;
                    }
                    
                    int64_t segmap_group_sizze_101741;
                    
                    segmap_group_sizze_101741 =
                        *ctx->tuning_params.mainzisegmap_group_sizze_100782;
                    
                    int64_t segmap_usable_groups_101742 =
                            sdiv_up64(binop_x_104810,
                                      segmap_group_sizze_101741);
                    struct memblock_device mem_105039;
                    
                    mem_105039.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105039, bytes_104812,
                                              "mem_105039")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_105043;
                    
                    mem_105043.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105043, bytes_104812,
                                              "mem_105043")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_105047;
                    
                    mem_105047.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105047, bytes_104812,
                                              "mem_105047")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_105051;
                    
                    mem_105051.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105051, bytes_104812,
                                              "mem_105051")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_105055;
                    
                    mem_105055.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105055, bytes_104812,
                                              "mem_105055")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101750,
                                                            1, sizeof(m_92398),
                                                            &m_92398));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101750,
                                                            2,
                                                            sizeof(n_m_92409),
                                                            &n_m_92409));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101750,
                                                            3,
                                                            sizeof(mem_105018.mem),
                                                            &mem_105018.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101750,
                                                            4,
                                                            sizeof(mem_105022.mem),
                                                            &mem_105022.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101750,
                                                            5,
                                                            sizeof(mem_105026.mem),
                                                            &mem_105026.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101750,
                                                            6,
                                                            sizeof(mem_105030.mem),
                                                            &mem_105030.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101750,
                                                            7,
                                                            sizeof(mem_105034.mem),
                                                            &mem_105034.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101750,
                                                            8,
                                                            sizeof(mem_105039.mem),
                                                            &mem_105039.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101750,
                                                            9,
                                                            sizeof(mem_105043.mem),
                                                            &mem_105043.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101750,
                                                            10,
                                                            sizeof(mem_105047.mem),
                                                            &mem_105047.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101750,
                                                            11,
                                                            sizeof(mem_105051.mem),
                                                            &mem_105051.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101750,
                                                            12,
                                                            sizeof(mem_105055.mem),
                                                            &mem_105055.mem));
                    if (1 * ((size_t) segmap_usable_groups_101742 *
                             (size_t) segmap_group_sizze_101741) != 0) {
                        const size_t global_work_sizze_107617[1] =
                                     {(size_t) segmap_usable_groups_101742 *
                                     (size_t) segmap_group_sizze_101741};
                        const size_t local_work_sizze_107621[1] =
                                     {(size_t) segmap_group_sizze_101741};
                        int64_t time_start_107618 = 0, time_end_107619 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log,
                                    "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                    "main.segmap_101750",
                                    global_work_sizze_107617[0],
                                    local_work_sizze_107621[0], (int) 0);
                            time_start_107618 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                        ctx->mainzisegmap_101750,
                                                                        1, NULL,
                                                                        global_work_sizze_107617,
                                                                        local_work_sizze_107621,
                                                                        0, NULL,
                                                                        ctx->profiling_paused ||
                                                                        !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                  &ctx->mainzisegmap_101750_runs,
                                                                                                                  &ctx->mainzisegmap_101750_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_107619 = get_wall_time();
                            
                            long time_diff_107620 = time_end_107619 -
                                 time_start_107618;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                    "main.segmap_101750", time_diff_107620);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_105018, "mem_105018") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105022, "mem_105022") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105026, "mem_105026") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105030, "mem_105030") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105034, "mem_105034") !=
                        0)
                        return 1;
                    
                    int64_t segred_group_sizze_101784;
                    
                    segred_group_sizze_101784 =
                        *ctx->tuning_params.mainzisegred_group_sizze_100696;
                    
                    int64_t num_groups_101785;
                    int32_t max_num_groups_107084;
                    
                    max_num_groups_107084 =
                        *ctx->tuning_params.mainzisegred_num_groups_100698;
                    num_groups_101785 = sext_i64_i32(smax64((int64_t) 1,
                                                            smin64(sdiv_up64(nest_sizze_101681,
                                                                             segred_group_sizze_101784),
                                                                   sext_i32_i64(max_num_groups_107084))));
                    
                    struct memblock_device mem_105060;
                    
                    mem_105060.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105060, bytes_104812,
                                              "mem_105060")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    struct memblock_device mem_105064;
                    
                    mem_105064.references = NULL;
                    if (memblock_alloc_device(ctx, &mem_105064, bytes_104812,
                                              "mem_105064")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64(q_92401 * (int64_t) 2,
                              segred_group_sizze_101784)) {
                        int64_t segment_sizze_nonzzero_107085 =
                                smax64((int64_t) 1, q_92401);
                        int64_t num_threads_107086 = num_groups_101785 *
                                segred_group_sizze_101784;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                    (long long) (m_92398 * n_m_92409), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                    (long long) q_92401, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c",
                                    "segments_per_group",
                                    (long long) squot64(segred_group_sizze_101784,
                                                        segment_sizze_nonzzero_107085),
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "required_groups",
                                    (long long) sext_i64_i32(sdiv_up64(m_92398 *
                                                                       n_m_92409,
                                                                       squot64(segred_group_sizze_101784,
                                                                               segment_sizze_nonzzero_107085))),
                                    '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                1,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101784),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                2,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101784),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                3,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                4,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                5,
                                                                sizeof(q_92401),
                                                                &q_92401));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                6,
                                                                sizeof(jump_92403),
                                                                &jump_92403));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                7,
                                                                sizeof(n_m_92409),
                                                                &n_m_92409));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                8,
                                                                sizeof(i_92415),
                                                                &i_92415));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                9,
                                                                sizeof(num_groups_101785),
                                                                &num_groups_101785));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                10,
                                                                sizeof(segment_sizze_nonzzero_107085),
                                                                &segment_sizze_nonzzero_107085));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                11,
                                                                sizeof(mem_104968.mem),
                                                                &mem_104968.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                12,
                                                                sizeof(mem_104972.mem),
                                                                &mem_104972.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                13,
                                                                sizeof(mem_104976.mem),
                                                                &mem_104976.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                14,
                                                                sizeof(mem_105000.mem),
                                                                &mem_105000.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                15,
                                                                sizeof(mem_105009.mem),
                                                                &mem_105009.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                16,
                                                                sizeof(mem_105013.mem),
                                                                &mem_105013.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                17,
                                                                sizeof(mem_105039.mem),
                                                                &mem_105039.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                18,
                                                                sizeof(mem_105043.mem),
                                                                &mem_105043.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                19,
                                                                sizeof(mem_105047.mem),
                                                                &mem_105047.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                20,
                                                                sizeof(mem_105051.mem),
                                                                &mem_105051.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                21,
                                                                sizeof(mem_105055.mem),
                                                                &mem_105055.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                22,
                                                                sizeof(mem_105060.mem),
                                                                &mem_105060.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_small_101792,
                                                                23,
                                                                sizeof(mem_105064.mem),
                                                                &mem_105064.mem));
                        if (1 * ((size_t) num_groups_101785 *
                                 (size_t) segred_group_sizze_101784) != 0) {
                            const size_t global_work_sizze_107622[1] =
                                         {(size_t) num_groups_101785 *
                                         (size_t) segred_group_sizze_101784};
                            const size_t local_work_sizze_107626[1] =
                                         {(size_t) segred_group_sizze_101784};
                            int64_t time_start_107623 = 0, time_end_107624 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segred_small_101792",
                                        global_work_sizze_107622[0],
                                        local_work_sizze_107626[0], (int) (0 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101784 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101784));
                                time_start_107623 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegred_small_101792,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107622,
                                                                            local_work_sizze_107626,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegred_small_101792_runs,
                                                                                                                      &ctx->mainzisegred_small_101792_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107624 = get_wall_time();
                                
                                long time_diff_107625 = time_end_107624 -
                                     time_start_107623;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segred_small_101792",
                                        time_diff_107625);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                    } else {
                        int64_t groups_per_segment_107120 =
                                sdiv_up64(num_groups_101785, smax64((int64_t) 1,
                                                                    m_92398 *
                                                                    n_m_92409));
                        int64_t elements_per_thread_107121 = sdiv_up64(q_92401,
                                                                       segred_group_sizze_101784 *
                                                                       groups_per_segment_107120);
                        int64_t virt_num_groups_107122 =
                                groups_per_segment_107120 * (m_92398 *
                                                             n_m_92409);
                        int64_t num_threads_107123 = num_groups_101785 *
                                segred_group_sizze_101784;
                        int64_t threads_per_segment_107124 =
                                groups_per_segment_107120 *
                                segred_group_sizze_101784;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments",
                                    (long long) (m_92398 * n_m_92409), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size",
                                    (long long) q_92401, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "virt_num_groups",
                                    (long long) virt_num_groups_107122, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_groups",
                                    (long long) num_groups_101785, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "group_size",
                                    (long long) segred_group_sizze_101784,
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_thread",
                                    (long long) elements_per_thread_107121,
                                    '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c",
                                    "groups_per_segment",
                                    (long long) groups_per_segment_107120,
                                    '\n');
                        
                        struct memblock_device segred_tmp_mem_107125;
                        
                        segred_tmp_mem_107125.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_107125,
                                                  (int64_t) 8 *
                                                  virt_num_groups_107122,
                                                  "segred_tmp_mem_107125")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device segred_tmp_mem_107127;
                        
                        segred_tmp_mem_107127.references = NULL;
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_107127,
                                                  (int64_t) 8 *
                                                  virt_num_groups_107122,
                                                  "segred_tmp_mem_107127")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device mainzicounter_mem_107129 =
                                               ctx->mainzicounter_mem_107129;
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                1, (size_t) 1,
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                2,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101784),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                3,
                                                                (size_t) ((int64_t) 8 *
                                                                          segred_group_sizze_101784),
                                                                NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                4,
                                                                sizeof(m_92398),
                                                                &m_92398));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                5,
                                                                sizeof(n_92399),
                                                                &n_92399));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                6,
                                                                sizeof(q_92401),
                                                                &q_92401));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                7,
                                                                sizeof(jump_92403),
                                                                &jump_92403));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                8,
                                                                sizeof(n_m_92409),
                                                                &n_m_92409));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                9,
                                                                sizeof(i_92415),
                                                                &i_92415));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                10,
                                                                sizeof(num_groups_101785),
                                                                &num_groups_101785));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                11,
                                                                sizeof(groups_per_segment_107120),
                                                                &groups_per_segment_107120));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                12,
                                                                sizeof(elements_per_thread_107121),
                                                                &elements_per_thread_107121));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                13,
                                                                sizeof(virt_num_groups_107122),
                                                                &virt_num_groups_107122));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                14,
                                                                sizeof(threads_per_segment_107124),
                                                                &threads_per_segment_107124));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                15,
                                                                sizeof(mem_104968.mem),
                                                                &mem_104968.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                16,
                                                                sizeof(mem_104972.mem),
                                                                &mem_104972.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                17,
                                                                sizeof(mem_104976.mem),
                                                                &mem_104976.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                18,
                                                                sizeof(mem_105000.mem),
                                                                &mem_105000.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                19,
                                                                sizeof(mem_105009.mem),
                                                                &mem_105009.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                20,
                                                                sizeof(mem_105013.mem),
                                                                &mem_105013.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                21,
                                                                sizeof(mem_105039.mem),
                                                                &mem_105039.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                22,
                                                                sizeof(mem_105043.mem),
                                                                &mem_105043.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                23,
                                                                sizeof(mem_105047.mem),
                                                                &mem_105047.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                24,
                                                                sizeof(mem_105051.mem),
                                                                &mem_105051.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                25,
                                                                sizeof(mem_105055.mem),
                                                                &mem_105055.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                26,
                                                                sizeof(mem_105060.mem),
                                                                &mem_105060.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                27,
                                                                sizeof(mem_105064.mem),
                                                                &mem_105064.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                28,
                                                                sizeof(segred_tmp_mem_107125.mem),
                                                                &segred_tmp_mem_107125.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                29,
                                                                sizeof(segred_tmp_mem_107127.mem),
                                                                &segred_tmp_mem_107127.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegred_large_101792,
                                                                30,
                                                                sizeof(mainzicounter_mem_107129.mem),
                                                                &mainzicounter_mem_107129.mem));
                        if (1 * ((size_t) num_groups_101785 *
                                 (size_t) segred_group_sizze_101784) != 0) {
                            const size_t global_work_sizze_107628[1] =
                                         {(size_t) num_groups_101785 *
                                         (size_t) segred_group_sizze_101784};
                            const size_t local_work_sizze_107632[1] =
                                         {(size_t) segred_group_sizze_101784};
                            int64_t time_start_107629 = 0, time_end_107630 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log,
                                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                                        "main.segred_large_101792",
                                        global_work_sizze_107628[0],
                                        local_work_sizze_107632[0], (int) (0 +
                                                                           1 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101784 +
                                                                           (int64_t) 8 *
                                                                           segred_group_sizze_101784));
                                time_start_107629 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                                            ctx->mainzisegred_large_101792,
                                                                            1,
                                                                            NULL,
                                                                            global_work_sizze_107628,
                                                                            local_work_sizze_107632,
                                                                            0,
                                                                            NULL,
                                                                            ctx->profiling_paused ||
                                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                                      &ctx->mainzisegred_large_101792_runs,
                                                                                                                      &ctx->mainzisegred_large_101792_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_107630 = get_wall_time();
                                
                                long time_diff_107631 = time_end_107630 -
                                     time_start_107629;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                                        "main.segred_large_101792",
                                        time_diff_107631);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &segred_tmp_mem_107127,
                                                  "segred_tmp_mem_107127") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &segred_tmp_mem_107125,
                                                  "segred_tmp_mem_107125") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_104968, "mem_104968") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104972, "mem_104972") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104976, "mem_104976") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105000, "mem_105000") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105009, "mem_105009") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105013, "mem_105013") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105039, "mem_105039") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105043, "mem_105043") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105047, "mem_105047") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105051, "mem_105051") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105055, "mem_105055") !=
                        0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_105066, &mem_105060,
                                            "mem_105060") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_105065, &mem_105064,
                                            "mem_105064") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105064, "mem_105064") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105060, "mem_105060") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105055, "mem_105055") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105051, "mem_105051") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105047, "mem_105047") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105043, "mem_105043") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105039, "mem_105039") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105034, "mem_105034") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105030, "mem_105030") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105026, "mem_105026") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105022, "mem_105022") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105018, "mem_105018") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105013, "mem_105013") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105009, "mem_105009") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105005, "mem_105005") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_105000, "mem_105000") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104995, "mem_104995") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104992, "mem_104992") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104989, "mem_104989") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104986, "mem_104986") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104982, "mem_104982") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104976, "mem_104976") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104972, "mem_104972") !=
                        0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_104968, "mem_104968") !=
                        0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_105068, &ext_mem_105066,
                                        "ext_mem_105066") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_105067, &ext_mem_105065,
                                        "ext_mem_105065") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_105065,
                                          "ext_mem_105065") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &ext_mem_105066,
                                          "ext_mem_105066") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_105070, &ext_mem_105068,
                                    "ext_mem_105068") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_105069, &ext_mem_105067,
                                    "ext_mem_105067") != 0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_105067, "ext_mem_105067") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_105068, "ext_mem_105068") !=
                0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_105072, &ext_mem_105070,
                                "ext_mem_105070") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_105071, &ext_mem_105069,
                                "ext_mem_105069") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_105069, "ext_mem_105069") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_105070, "ext_mem_105070") != 0)
            return 1;
    }
    
    bool cond_94320 = slt64((int64_t) 1, jump_92403);
    int64_t ext_105079;
    
    if (cond_94320) {
        ext_105079 = n_92399;
    } else {
        ext_105079 = n_m_92409;
    }
    
    int64_t binop_x_105074 = m_92398 * n_92399;
    int64_t binop_y_105075 = (int64_t) 8 * binop_x_105074;
    int64_t bytes_105076 = smax64((int64_t) 0, binop_y_105075);
    struct memblock_device ext_mem_105078;
    
    ext_mem_105078.references = NULL;
    if (cond_94320) {
        bool zzero_94322 = jump_92403 == (int64_t) 0;
        bool nonzzero_94323 = !zzero_94322;
        bool nonzzero_cert_94324;
        
        if (!nonzzero_94323) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  loess.fut:724:20-27\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  utils.fut:6:3-16\n   #4  loess.fut:723:3-727:9\n   #5  loess.fut:790:13-59\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  loess.fut:789:5-791:29\n   #9  loess.fut:750:1-793:26\n");
            if (memblock_unref_device(ctx, &ext_mem_105078, "ext_mem_105078") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_105071, "ext_mem_105071") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_105072, "ext_mem_105072") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &mem_out_105324, "mem_out_105324") !=
                0)
                return 1;
            err = 1;
            goto cleanup;
        }
        
        int64_t y_94325 = sub64(n_m_92409, (int64_t) 1);
        int64_t segmap_group_sizze_101986;
        
        segmap_group_sizze_101986 =
            *ctx->tuning_params.mainzisegmap_group_sizze_101868;
        
        int64_t segmap_usable_groups_101987 = sdiv_up64(binop_x_105074,
                                                        segmap_group_sizze_101986);
        struct memblock_device mem_105077;
        
        mem_105077.references = NULL;
        if (memblock_alloc_device(ctx, &mem_105077, bytes_105076,
                                  "mem_105077")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101991, 1,
                                                sizeof(ctx->failure_is_an_option),
                                                &ctx->failure_is_an_option));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101991, 3,
                                                sizeof(m_92398), &m_92398));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101991, 4,
                                                sizeof(n_92399), &n_92399));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101991, 5,
                                                sizeof(jump_92403),
                                                &jump_92403));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101991, 6,
                                                sizeof(n_m_92409), &n_m_92409));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101991, 7,
                                                sizeof(i_92415), &i_92415));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101991, 8,
                                                sizeof(y_94325), &y_94325));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101991, 9,
                                                sizeof(ext_mem_105071.mem),
                                                &ext_mem_105071.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101991, 10,
                                                sizeof(ext_mem_105072.mem),
                                                &ext_mem_105072.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->mainzisegmap_101991, 11,
                                                sizeof(mem_105077.mem),
                                                &mem_105077.mem));
        if (1 * ((size_t) segmap_usable_groups_101987 *
                 (size_t) segmap_group_sizze_101986) != 0) {
            const size_t global_work_sizze_107633[1] =
                         {(size_t) segmap_usable_groups_101987 *
                         (size_t) segmap_group_sizze_101986};
            const size_t local_work_sizze_107637[1] =
                         {(size_t) segmap_group_sizze_101986};
            int64_t time_start_107634 = 0, time_end_107635 = 0;
            
            if (ctx->debugging) {
                fprintf(ctx->log,
                        "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n",
                        "main.segmap_101991", global_work_sizze_107633[0],
                        local_work_sizze_107637[0], (int) 0);
                time_start_107634 = get_wall_time();
            }
            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue,
                                                            ctx->mainzisegmap_101991,
                                                            1, NULL,
                                                            global_work_sizze_107633,
                                                            local_work_sizze_107637,
                                                            0, NULL,
                                                            ctx->profiling_paused ||
                                                            !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                                      &ctx->mainzisegmap_101991_runs,
                                                                                                      &ctx->mainzisegmap_101991_total_runtime)));
            if (ctx->debugging) {
                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                time_end_107635 = get_wall_time();
                
                long time_diff_107636 = time_end_107635 - time_start_107634;
                
                fprintf(ctx->log, "kernel %s runtime: %ldus\n",
                        "main.segmap_101991", time_diff_107636);
            }
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_set_device(ctx, &ext_mem_105078, &mem_105077,
                                "mem_105077") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_105077, "mem_105077") != 0)
            return 1;
    } else {
        bool dim_match_94377 = n_92399 == n_m_92409;
        bool empty_or_match_cert_94378;
        
        if (!dim_match_94377) {
            ctx->error =
                msgprintf("Error: %s%lld%s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                          "Value of (core language) shape (",
                          (long long) m_92398, ", ", (long long) n_m_92409,
                          ") cannot match shape of type `[",
                          (long long) m_92398, "][", (long long) n_92399,
                          "]f64`.",
                          "-> #0  loess.fut:793:5-26\n   #1  loess.fut:750:1-793:26\n");
            if (memblock_unref_device(ctx, &ext_mem_105078, "ext_mem_105078") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_105071, "ext_mem_105071") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &ext_mem_105072, "ext_mem_105072") !=
                0)
                return 1;
            if (memblock_unref_device(ctx, &mem_out_105324, "mem_out_105324") !=
                0)
                return 1;
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_105078, &ext_mem_105072,
                                "ext_mem_105072") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &ext_mem_105071, "ext_mem_105071") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_105072, "ext_mem_105072") != 0)
        return 1;
    
    struct memblock_device mem_105083;
    
    mem_105083.references = NULL;
    if (memblock_alloc_device(ctx, &mem_105083, bytes_105076, "mem_105083")) {
        err = 1;
        goto cleanup;
    }
    if (m_92398 * n_92399 * (int64_t) 8 > 0) {
        OPENCL_SUCCEED_OR_RETURN(clEnqueueCopyBuffer(ctx->opencl.queue,
                                                     ext_mem_105078.mem,
                                                     mem_105083.mem,
                                                     (size_t) (int64_t) 0,
                                                     (size_t) (int64_t) 0,
                                                     (size_t) (m_92398 *
                                                               n_92399 *
                                                               (int64_t) 8), 0,
                                                     NULL,
                                                     ctx->profiling_paused ||
                                                     !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl,
                                                                                               &ctx->copy_dev_to_dev_runs,
                                                                                               &ctx->copy_dev_to_dev_total_runtime)));
        if (ctx->debugging)
            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
    }
    if (memblock_unref_device(ctx, &ext_mem_105078, "ext_mem_105078") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_105324, &mem_105083, "mem_105083") !=
        0)
        return 1;
    (*mem_out_p_107191).references = NULL;
    if (memblock_set_device(ctx, &*mem_out_p_107191, &mem_out_105324,
                            "mem_out_105324") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_105083, "mem_105083") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_105078, "ext_mem_105078") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_105071, "ext_mem_105071") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_105072, "ext_mem_105072") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_out_105324, "mem_out_105324") != 0)
        return 1;
    
  cleanup:
    { }
    return err;
}

int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f64_2d **out0, const
                       struct futhark_f64_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5, const int64_t in6, const int64_t in7)
{
    struct memblock_device Y_mem_104293;
    
    Y_mem_104293.references = NULL;
    
    int64_t m_92398;
    int64_t n_92399;
    int64_t q_92401;
    int64_t degree_92402;
    int64_t jump_92403;
    int64_t jump_threshold_1_92404;
    int64_t jump_threshold_2_92405;
    int64_t q_threshold_1_92406;
    int64_t q_threshold_2_92407;
    struct memblock_device mem_out_105324;
    
    mem_out_105324.references = NULL;
    
    int ret = 0;
    
    lock_lock(&ctx->lock);
    Y_mem_104293 = in0->mem;
    m_92398 = in0->shape[0];
    n_92399 = in0->shape[1];
    q_92401 = in1;
    degree_92402 = in2;
    jump_92403 = in3;
    jump_threshold_1_92404 = in4;
    jump_threshold_2_92405 = in5;
    q_threshold_1_92406 = in6;
    q_threshold_2_92407 = in7;
    if (!(m_92398 == in0->shape[0] && n_92399 == in0->shape[1])) {
        ret = 1;
        if (!ctx->error)
            ctx->error =
                msgprintf("Error: entry point arguments have invalid sizes.\n");
    }
    if (ret == 0) {
        ret = futrts_entry_main(ctx, &mem_out_105324, Y_mem_104293, m_92398,
                                n_92399, q_92401, degree_92402, jump_92403,
                                jump_threshold_1_92404, jump_threshold_2_92405,
                                q_threshold_1_92406, q_threshold_2_92407);
        if (ret == 0) {
            assert((*out0 =
                    (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d))) !=
                NULL);
            (*out0)->mem = mem_out_105324;
            (*out0)->shape[0] = m_92398;
            (*out0)->shape[1] = n_92399;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  
