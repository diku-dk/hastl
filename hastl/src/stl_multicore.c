// Generated by Futhark 0.20.0
// git: 5cc4d4b (Tue Jul 6 11:53:53 2021 -0700)
#ifndef _GNU_SOURCE
#define _GNU_SOURCE
#endif
#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif
// Headers

#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation

struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg,
                                          int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int flag);
void futhark_context_config_set_num_threads(struct futhark_context_config *cfg,
                                            int n);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *ctx);
int futhark_context_sync(struct futhark_context *ctx);
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value);
int futhark_get_num_sizes(void);
const char *futhark_get_size_name(int);
const char *futhark_get_size_class(int);

// Arrays

struct futhark_f32_2d;
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1);
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              char *data, int offset,
                                              int64_t dim0, int64_t dim1);
int futhark_free_f32_2d(struct futhark_context *ctx,
                        struct futhark_f32_2d *arr);
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data);
char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                struct futhark_f32_2d *arr);
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr);

// Opaque values


// Entry points

int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0,
                       struct futhark_f32_2d **out1,
                       struct futhark_f32_2d **out2, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5, const int64_t in6, const int64_t in7, const
                       int64_t in8, const int64_t in9, const int64_t in10, const
                       int64_t in11);

// Miscellaneous

char *futhark_context_report(struct futhark_context *ctx);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_multicore
#ifdef __cplusplus
}
#endif
#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}


static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                            const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, msg...) check_err(err, 0, __func__, __LINE__, msg)
#define CHECK_ERRNO(err, msg...) check_err(err, 1, __func__, __LINE__, msg)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  size_t start = ftell(f);
  fseek(f, 0, SEEK_END);
  size_t src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc(src_size + 1);
  if (fread(s, 1, src_size, f) != src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

// End of util.h.

// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>

// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.

static inline uint8_t add8(uint8_t x, uint8_t y)
{
    return x + y;
}
static inline uint16_t add16(uint16_t x, uint16_t y)
{
    return x + y;
}
static inline uint32_t add32(uint32_t x, uint32_t y)
{
    return x + y;
}
static inline uint64_t add64(uint64_t x, uint64_t y)
{
    return x + y;
}
static inline uint8_t sub8(uint8_t x, uint8_t y)
{
    return x - y;
}
static inline uint16_t sub16(uint16_t x, uint16_t y)
{
    return x - y;
}
static inline uint32_t sub32(uint32_t x, uint32_t y)
{
    return x - y;
}
static inline uint64_t sub64(uint64_t x, uint64_t y)
{
    return x - y;
}
static inline uint8_t mul8(uint8_t x, uint8_t y)
{
    return x * y;
}
static inline uint16_t mul16(uint16_t x, uint16_t y)
{
    return x * y;
}
static inline uint32_t mul32(uint32_t x, uint32_t y)
{
    return x * y;
}
static inline uint64_t mul64(uint64_t x, uint64_t y)
{
    return x * y;
}
static inline uint8_t udiv8(uint8_t x, uint8_t y)
{
    return x / y;
}
static inline uint16_t udiv16(uint16_t x, uint16_t y)
{
    return x / y;
}
static inline uint32_t udiv32(uint32_t x, uint32_t y)
{
    return x / y;
}
static inline uint64_t udiv64(uint64_t x, uint64_t y)
{
    return x / y;
}
static inline uint8_t udiv_up8(uint8_t x, uint8_t y)
{
    return (x + y - 1) / y;
}
static inline uint16_t udiv_up16(uint16_t x, uint16_t y)
{
    return (x + y - 1) / y;
}
static inline uint32_t udiv_up32(uint32_t x, uint32_t y)
{
    return (x + y - 1) / y;
}
static inline uint64_t udiv_up64(uint64_t x, uint64_t y)
{
    return (x + y - 1) / y;
}
static inline uint8_t umod8(uint8_t x, uint8_t y)
{
    return x % y;
}
static inline uint16_t umod16(uint16_t x, uint16_t y)
{
    return x % y;
}
static inline uint32_t umod32(uint32_t x, uint32_t y)
{
    return x % y;
}
static inline uint64_t umod64(uint64_t x, uint64_t y)
{
    return x % y;
}
static inline uint8_t udiv_safe8(uint8_t x, uint8_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint16_t udiv_safe16(uint16_t x, uint16_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint32_t udiv_safe32(uint32_t x, uint32_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint64_t udiv_safe64(uint64_t x, uint64_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y)
{
    return y == 0 ? 0 : (x + y - 1) / y;
}
static inline uint8_t umod_safe8(uint8_t x, uint8_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline uint16_t umod_safe16(uint16_t x, uint16_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline uint32_t umod_safe32(uint32_t x, uint32_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline uint64_t umod_safe64(uint64_t x, uint64_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int8_t sdiv8(int8_t x, int8_t y)
{
    int8_t q = x / y;
    int8_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int16_t sdiv16(int16_t x, int16_t y)
{
    int16_t q = x / y;
    int16_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int32_t sdiv32(int32_t x, int32_t y)
{
    int32_t q = x / y;
    int32_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int64_t sdiv64(int64_t x, int64_t y)
{
    int64_t q = x / y;
    int64_t r = x % y;
    
    return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}
static inline int8_t sdiv_up8(int8_t x, int8_t y)
{
    return sdiv8(x + y - 1, y);
}
static inline int16_t sdiv_up16(int16_t x, int16_t y)
{
    return sdiv16(x + y - 1, y);
}
static inline int32_t sdiv_up32(int32_t x, int32_t y)
{
    return sdiv32(x + y - 1, y);
}
static inline int64_t sdiv_up64(int64_t x, int64_t y)
{
    return sdiv64(x + y - 1, y);
}
static inline int8_t smod8(int8_t x, int8_t y)
{
    int8_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int16_t smod16(int16_t x, int16_t y)
{
    int16_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int32_t smod32(int32_t x, int32_t y)
{
    int32_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int64_t smod64(int64_t x, int64_t y)
{
    int64_t r = x % y;
    
    return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}
static inline int8_t sdiv_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : sdiv8(x, y);
}
static inline int16_t sdiv_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : sdiv16(x, y);
}
static inline int32_t sdiv_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : sdiv32(x, y);
}
static inline int64_t sdiv_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : sdiv64(x, y);
}
static inline int8_t sdiv_up_safe8(int8_t x, int8_t y)
{
    return sdiv_safe8(x + y - 1, y);
}
static inline int16_t sdiv_up_safe16(int16_t x, int16_t y)
{
    return sdiv_safe16(x + y - 1, y);
}
static inline int32_t sdiv_up_safe32(int32_t x, int32_t y)
{
    return sdiv_safe32(x + y - 1, y);
}
static inline int64_t sdiv_up_safe64(int64_t x, int64_t y)
{
    return sdiv_safe64(x + y - 1, y);
}
static inline int8_t smod_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : smod8(x, y);
}
static inline int16_t smod_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : smod16(x, y);
}
static inline int32_t smod_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : smod32(x, y);
}
static inline int64_t smod_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : smod64(x, y);
}
static inline int8_t squot8(int8_t x, int8_t y)
{
    return x / y;
}
static inline int16_t squot16(int16_t x, int16_t y)
{
    return x / y;
}
static inline int32_t squot32(int32_t x, int32_t y)
{
    return x / y;
}
static inline int64_t squot64(int64_t x, int64_t y)
{
    return x / y;
}
static inline int8_t srem8(int8_t x, int8_t y)
{
    return x % y;
}
static inline int16_t srem16(int16_t x, int16_t y)
{
    return x % y;
}
static inline int32_t srem32(int32_t x, int32_t y)
{
    return x % y;
}
static inline int64_t srem64(int64_t x, int64_t y)
{
    return x % y;
}
static inline int8_t squot_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int16_t squot_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int32_t squot_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int64_t squot_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : x / y;
}
static inline int8_t srem_safe8(int8_t x, int8_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int16_t srem_safe16(int16_t x, int16_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int32_t srem_safe32(int32_t x, int32_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int64_t srem_safe64(int64_t x, int64_t y)
{
    return y == 0 ? 0 : x % y;
}
static inline int8_t smin8(int8_t x, int8_t y)
{
    return x < y ? x : y;
}
static inline int16_t smin16(int16_t x, int16_t y)
{
    return x < y ? x : y;
}
static inline int32_t smin32(int32_t x, int32_t y)
{
    return x < y ? x : y;
}
static inline int64_t smin64(int64_t x, int64_t y)
{
    return x < y ? x : y;
}
static inline uint8_t umin8(uint8_t x, uint8_t y)
{
    return x < y ? x : y;
}
static inline uint16_t umin16(uint16_t x, uint16_t y)
{
    return x < y ? x : y;
}
static inline uint32_t umin32(uint32_t x, uint32_t y)
{
    return x < y ? x : y;
}
static inline uint64_t umin64(uint64_t x, uint64_t y)
{
    return x < y ? x : y;
}
static inline int8_t smax8(int8_t x, int8_t y)
{
    return x < y ? y : x;
}
static inline int16_t smax16(int16_t x, int16_t y)
{
    return x < y ? y : x;
}
static inline int32_t smax32(int32_t x, int32_t y)
{
    return x < y ? y : x;
}
static inline int64_t smax64(int64_t x, int64_t y)
{
    return x < y ? y : x;
}
static inline uint8_t umax8(uint8_t x, uint8_t y)
{
    return x < y ? y : x;
}
static inline uint16_t umax16(uint16_t x, uint16_t y)
{
    return x < y ? y : x;
}
static inline uint32_t umax32(uint32_t x, uint32_t y)
{
    return x < y ? y : x;
}
static inline uint64_t umax64(uint64_t x, uint64_t y)
{
    return x < y ? y : x;
}
static inline uint8_t shl8(uint8_t x, uint8_t y)
{
    return x << y;
}
static inline uint16_t shl16(uint16_t x, uint16_t y)
{
    return x << y;
}
static inline uint32_t shl32(uint32_t x, uint32_t y)
{
    return x << y;
}
static inline uint64_t shl64(uint64_t x, uint64_t y)
{
    return x << y;
}
static inline uint8_t lshr8(uint8_t x, uint8_t y)
{
    return x >> y;
}
static inline uint16_t lshr16(uint16_t x, uint16_t y)
{
    return x >> y;
}
static inline uint32_t lshr32(uint32_t x, uint32_t y)
{
    return x >> y;
}
static inline uint64_t lshr64(uint64_t x, uint64_t y)
{
    return x >> y;
}
static inline int8_t ashr8(int8_t x, int8_t y)
{
    return x >> y;
}
static inline int16_t ashr16(int16_t x, int16_t y)
{
    return x >> y;
}
static inline int32_t ashr32(int32_t x, int32_t y)
{
    return x >> y;
}
static inline int64_t ashr64(int64_t x, int64_t y)
{
    return x >> y;
}
static inline uint8_t and8(uint8_t x, uint8_t y)
{
    return x & y;
}
static inline uint16_t and16(uint16_t x, uint16_t y)
{
    return x & y;
}
static inline uint32_t and32(uint32_t x, uint32_t y)
{
    return x & y;
}
static inline uint64_t and64(uint64_t x, uint64_t y)
{
    return x & y;
}
static inline uint8_t or8(uint8_t x, uint8_t y)
{
    return x | y;
}
static inline uint16_t or16(uint16_t x, uint16_t y)
{
    return x | y;
}
static inline uint32_t or32(uint32_t x, uint32_t y)
{
    return x | y;
}
static inline uint64_t or64(uint64_t x, uint64_t y)
{
    return x | y;
}
static inline uint8_t xor8(uint8_t x, uint8_t y)
{
    return x ^ y;
}
static inline uint16_t xor16(uint16_t x, uint16_t y)
{
    return x ^ y;
}
static inline uint32_t xor32(uint32_t x, uint32_t y)
{
    return x ^ y;
}
static inline uint64_t xor64(uint64_t x, uint64_t y)
{
    return x ^ y;
}
static inline bool ult8(uint8_t x, uint8_t y)
{
    return x < y;
}
static inline bool ult16(uint16_t x, uint16_t y)
{
    return x < y;
}
static inline bool ult32(uint32_t x, uint32_t y)
{
    return x < y;
}
static inline bool ult64(uint64_t x, uint64_t y)
{
    return x < y;
}
static inline bool ule8(uint8_t x, uint8_t y)
{
    return x <= y;
}
static inline bool ule16(uint16_t x, uint16_t y)
{
    return x <= y;
}
static inline bool ule32(uint32_t x, uint32_t y)
{
    return x <= y;
}
static inline bool ule64(uint64_t x, uint64_t y)
{
    return x <= y;
}
static inline bool slt8(int8_t x, int8_t y)
{
    return x < y;
}
static inline bool slt16(int16_t x, int16_t y)
{
    return x < y;
}
static inline bool slt32(int32_t x, int32_t y)
{
    return x < y;
}
static inline bool slt64(int64_t x, int64_t y)
{
    return x < y;
}
static inline bool sle8(int8_t x, int8_t y)
{
    return x <= y;
}
static inline bool sle16(int16_t x, int16_t y)
{
    return x <= y;
}
static inline bool sle32(int32_t x, int32_t y)
{
    return x <= y;
}
static inline bool sle64(int64_t x, int64_t y)
{
    return x <= y;
}
static inline int8_t pow8(int8_t x, int8_t y)
{
    int8_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline int16_t pow16(int16_t x, int16_t y)
{
    int16_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline int32_t pow32(int32_t x, int32_t y)
{
    int32_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline int64_t pow64(int64_t x, int64_t y)
{
    int64_t res = 1, rem = y;
    
    while (rem != 0) {
        if (rem & 1)
            res *= x;
        rem >>= 1;
        x *= x;
    }
    return res;
}
static inline bool itob_i8_bool(int8_t x)
{
    return x;
}
static inline bool itob_i16_bool(int16_t x)
{
    return x;
}
static inline bool itob_i32_bool(int32_t x)
{
    return x;
}
static inline bool itob_i64_bool(int64_t x)
{
    return x;
}
static inline int8_t btoi_bool_i8(bool x)
{
    return x;
}
static inline int16_t btoi_bool_i16(bool x)
{
    return x;
}
static inline int32_t btoi_bool_i32(bool x)
{
    return x;
}
static inline int64_t btoi_bool_i64(bool x)
{
    return x;
}
#define sext_i8_i8(x) ((int8_t) (int8_t) x)
#define sext_i8_i16(x) ((int16_t) (int8_t) x)
#define sext_i8_i32(x) ((int32_t) (int8_t) x)
#define sext_i8_i64(x) ((int64_t) (int8_t) x)
#define sext_i16_i8(x) ((int8_t) (int16_t) x)
#define sext_i16_i16(x) ((int16_t) (int16_t) x)
#define sext_i16_i32(x) ((int32_t) (int16_t) x)
#define sext_i16_i64(x) ((int64_t) (int16_t) x)
#define sext_i32_i8(x) ((int8_t) (int32_t) x)
#define sext_i32_i16(x) ((int16_t) (int32_t) x)
#define sext_i32_i32(x) ((int32_t) (int32_t) x)
#define sext_i32_i64(x) ((int64_t) (int32_t) x)
#define sext_i64_i8(x) ((int8_t) (int64_t) x)
#define sext_i64_i16(x) ((int16_t) (int64_t) x)
#define sext_i64_i32(x) ((int32_t) (int64_t) x)
#define sext_i64_i64(x) ((int64_t) (int64_t) x)
#define zext_i8_i8(x) ((int8_t) (uint8_t) x)
#define zext_i8_i16(x) ((int16_t) (uint8_t) x)
#define zext_i8_i32(x) ((int32_t) (uint8_t) x)
#define zext_i8_i64(x) ((int64_t) (uint8_t) x)
#define zext_i16_i8(x) ((int8_t) (uint16_t) x)
#define zext_i16_i16(x) ((int16_t) (uint16_t) x)
#define zext_i16_i32(x) ((int32_t) (uint16_t) x)
#define zext_i16_i64(x) ((int64_t) (uint16_t) x)
#define zext_i32_i8(x) ((int8_t) (uint32_t) x)
#define zext_i32_i16(x) ((int16_t) (uint32_t) x)
#define zext_i32_i32(x) ((int32_t) (uint32_t) x)
#define zext_i32_i64(x) ((int64_t) (uint32_t) x)
#define zext_i64_i8(x) ((int8_t) (uint64_t) x)
#define zext_i64_i16(x) ((int16_t) (uint64_t) x)
#define zext_i64_i32(x) ((int32_t) (uint64_t) x)
#define zext_i64_i64(x) ((int64_t) (uint64_t) x)
static int8_t abs8(int8_t x)
{
    return abs(x);
}
static int16_t abs16(int16_t x)
{
    return abs(x);
}
static int32_t abs32(int32_t x)
{
    return abs(x);
}
#if defined(__OPENCL_VERSION__)
static int64_t abs64(int64_t x)
{
    return abs(x);
}
#else
static int64_t abs64(int64_t x)
{
    return llabs(x);
}
#endif
#if defined(__OPENCL_VERSION__)
static int32_t futrts_popc8(int8_t x)
{
    return popcount(x);
}
static int32_t futrts_popc16(int16_t x)
{
    return popcount(x);
}
static int32_t futrts_popc32(int32_t x)
{
    return popcount(x);
}
static int32_t futrts_popc64(int64_t x)
{
    return popcount(x);
}
#elif defined(__CUDA_ARCH__)
static int32_t futrts_popc8(int8_t x)
{
    return __popc(zext_i8_i32(x));
}
static int32_t futrts_popc16(int16_t x)
{
    return __popc(zext_i16_i32(x));
}
static int32_t futrts_popc32(int32_t x)
{
    return __popc(x);
}
static int32_t futrts_popc64(int64_t x)
{
    return __popcll(x);
}
#else
static int32_t futrts_popc8(int8_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
static int32_t futrts_popc16(int16_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
static int32_t futrts_popc32(int32_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
static int32_t futrts_popc64(int64_t x)
{
    int c = 0;
    
    for (; x; ++c)
        x &= x - 1;
    return c;
}
#endif
#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b)
{
    return mul_hi(a, b);
}
static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b)
{
    return mul_hi(a, b);
}
static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b)
{
    return mul_hi(a, b);
}
static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b)
{
    return mul_hi(a, b);
}
#elif defined(__CUDA_ARCH__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b)
{
    uint16_t aa = a;
    uint16_t bb = b;
    
    return aa * bb >> 8;
}
static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b)
{
    uint32_t aa = a;
    uint32_t bb = b;
    
    return aa * bb >> 16;
}
static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b)
{
    return mulhi(a, b);
}
static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b)
{
    return mul64hi(a, b);
}
#else
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b)
{
    uint16_t aa = a;
    uint16_t bb = b;
    
    return aa * bb >> 8;
}
static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b)
{
    uint32_t aa = a;
    uint32_t bb = b;
    
    return aa * bb >> 16;
}
static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b)
{
    uint64_t aa = a;
    uint64_t bb = b;
    
    return aa * bb >> 32;
}
#ifdef __EMSCRIPTEN__
static uint64_t futrts_mul_hi64(uint64_t x, uint64_t y)
{
    uint64_t a = x >> 32, b = x & 0xffffffff;
    uint64_t c = y >> 32, d = y & 0xffffffff;
    uint64_t ac = a * c;
    uint64_t bc = b * c;
    uint64_t ad = a * d;
    uint64_t bd = b * d;
    uint64_t mid34 = (bd >> 32) + (bc & 0xffffffff) + (ad & 0xffffffff);
    uint64_t upper64 = ac + (bc >> 32) + (ad >> 32) + (mid34 >> 32);
    
    return upper64;
}
#else
static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b)
{
    __uint128_t aa = a;
    __uint128_t bb = b;
    
    return aa * bb >> 64;
}
#endif
#endif
#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c)
{
    return mad_hi(a, b, c);
}
static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c)
{
    return mad_hi(a, b, c);
}
static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c)
{
    return mad_hi(a, b, c);
}
static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c)
{
    return mad_hi(a, b, c);
}
#else
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c)
{
    return futrts_mul_hi8(a, b) + c;
}
static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c)
{
    return futrts_mul_hi16(a, b) + c;
}
static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c)
{
    return futrts_mul_hi32(a, b) + c;
}
static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c)
{
    return futrts_mul_hi64(a, b) + c;
}
#endif
#if defined(__OPENCL_VERSION__)
static int32_t futrts_clzz8(int8_t x)
{
    return clz(x);
}
static int32_t futrts_clzz16(int16_t x)
{
    return clz(x);
}
static int32_t futrts_clzz32(int32_t x)
{
    return clz(x);
}
static int32_t futrts_clzz64(int64_t x)
{
    return clz(x);
}
#elif defined(__CUDA_ARCH__)
static int32_t futrts_clzz8(int8_t x)
{
    return __clz(zext_i8_i32(x)) - 24;
}
static int32_t futrts_clzz16(int16_t x)
{
    return __clz(zext_i16_i32(x)) - 16;
}
static int32_t futrts_clzz32(int32_t x)
{
    return __clz(x);
}
static int32_t futrts_clzz64(int64_t x)
{
    return __clzll(x);
}
#else
static int32_t futrts_clzz8(int8_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
static int32_t futrts_clzz16(int16_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
static int32_t futrts_clzz32(int32_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
static int32_t futrts_clzz64(int64_t x)
{
    int n = 0;
    int bits = sizeof(x) * 8;
    
    for (int i = 0; i < bits; i++) {
        if (x < 0)
            break;
        n++;
        x <<= 1;
    }
    return n;
}
#endif
#if defined(__OPENCL_VERSION__)
static int32_t futrts_ctzz8(int8_t x)
{
    int i = 0;
    
    for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
static int32_t futrts_ctzz16(int16_t x)
{
    int i = 0;
    
    for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
static int32_t futrts_ctzz32(int32_t x)
{
    int i = 0;
    
    for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
static int32_t futrts_ctzz64(int64_t x)
{
    int i = 0;
    
    for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
        ;
    return i;
}
#elif defined(__CUDA_ARCH__)
static int32_t futrts_ctzz8(int8_t x)
{
    int y = __ffs(x);
    
    return y == 0 ? 8 : y - 1;
}
static int32_t futrts_ctzz16(int16_t x)
{
    int y = __ffs(x);
    
    return y == 0 ? 16 : y - 1;
}
static int32_t futrts_ctzz32(int32_t x)
{
    int y = __ffs(x);
    
    return y == 0 ? 32 : y - 1;
}
static int32_t futrts_ctzz64(int64_t x)
{
    int y = __ffsll(x);
    
    return y == 0 ? 64 : y - 1;
}
#else
static int32_t futrts_ctzz8(int8_t x)
{
    return x == 0 ? 8 : __builtin_ctz((uint32_t) x);
}
static int32_t futrts_ctzz16(int16_t x)
{
    return x == 0 ? 16 : __builtin_ctz((uint32_t) x);
}
static int32_t futrts_ctzz32(int32_t x)
{
    return x == 0 ? 32 : __builtin_ctz(x);
}
static int32_t futrts_ctzz64(int64_t x)
{
    return x == 0 ? 64 : __builtin_ctzll(x);
}
#endif
static inline float fdiv32(float x, float y)
{
    return x / y;
}
static inline float fadd32(float x, float y)
{
    return x + y;
}
static inline float fsub32(float x, float y)
{
    return x - y;
}
static inline float fmul32(float x, float y)
{
    return x * y;
}
static inline bool cmplt32(float x, float y)
{
    return x < y;
}
static inline bool cmple32(float x, float y)
{
    return x <= y;
}
static inline float sitofp_i8_f32(int8_t x)
{
    return (float) x;
}
static inline float sitofp_i16_f32(int16_t x)
{
    return (float) x;
}
static inline float sitofp_i32_f32(int32_t x)
{
    return (float) x;
}
static inline float sitofp_i64_f32(int64_t x)
{
    return (float) x;
}
static inline float uitofp_i8_f32(uint8_t x)
{
    return (float) x;
}
static inline float uitofp_i16_f32(uint16_t x)
{
    return (float) x;
}
static inline float uitofp_i32_f32(uint32_t x)
{
    return (float) x;
}
static inline float uitofp_i64_f32(uint64_t x)
{
    return (float) x;
}
static inline int8_t fptosi_f32_i8(float x)
{
    return (int8_t) x;
}
static inline int16_t fptosi_f32_i16(float x)
{
    return (int16_t) x;
}
static inline int32_t fptosi_f32_i32(float x)
{
    return (int32_t) x;
}
static inline int64_t fptosi_f32_i64(float x)
{
    return (int64_t) x;
}
static inline uint8_t fptoui_f32_i8(float x)
{
    return (uint8_t) x;
}
static inline uint16_t fptoui_f32_i16(float x)
{
    return (uint16_t) x;
}
static inline uint32_t fptoui_f32_i32(float x)
{
    return (uint32_t) x;
}
static inline uint64_t fptoui_f32_i64(float x)
{
    return (uint64_t) x;
}
static inline double fdiv64(double x, double y)
{
    return x / y;
}
static inline double fadd64(double x, double y)
{
    return x + y;
}
static inline double fsub64(double x, double y)
{
    return x - y;
}
static inline double fmul64(double x, double y)
{
    return x * y;
}
static inline bool cmplt64(double x, double y)
{
    return x < y;
}
static inline bool cmple64(double x, double y)
{
    return x <= y;
}
static inline double sitofp_i8_f64(int8_t x)
{
    return (double) x;
}
static inline double sitofp_i16_f64(int16_t x)
{
    return (double) x;
}
static inline double sitofp_i32_f64(int32_t x)
{
    return (double) x;
}
static inline double sitofp_i64_f64(int64_t x)
{
    return (double) x;
}
static inline double uitofp_i8_f64(uint8_t x)
{
    return (double) x;
}
static inline double uitofp_i16_f64(uint16_t x)
{
    return (double) x;
}
static inline double uitofp_i32_f64(uint32_t x)
{
    return (double) x;
}
static inline double uitofp_i64_f64(uint64_t x)
{
    return (double) x;
}
static inline int8_t fptosi_f64_i8(double x)
{
    return (int8_t) x;
}
static inline int16_t fptosi_f64_i16(double x)
{
    return (int16_t) x;
}
static inline int32_t fptosi_f64_i32(double x)
{
    return (int32_t) x;
}
static inline int64_t fptosi_f64_i64(double x)
{
    return (int64_t) x;
}
static inline uint8_t fptoui_f64_i8(double x)
{
    return (uint8_t) x;
}
static inline uint16_t fptoui_f64_i16(double x)
{
    return (uint16_t) x;
}
static inline uint32_t fptoui_f64_i32(double x)
{
    return (uint32_t) x;
}
static inline uint64_t fptoui_f64_i64(double x)
{
    return (uint64_t) x;
}
static inline float fpconv_f32_f32(float x)
{
    return (float) x;
}
static inline double fpconv_f32_f64(float x)
{
    return (double) x;
}
static inline float fpconv_f64_f32(double x)
{
    return (float) x;
}
static inline double fpconv_f64_f64(double x)
{
    return (double) x;
}
#ifdef __OPENCL_VERSION__
static inline float fabs32(float x)
{
    return fabs(x);
}
static inline float fmax32(float x, float y)
{
    return fmax(x, y);
}
static inline float fmin32(float x, float y)
{
    return fmin(x, y);
}
static inline float fpow32(float x, float y)
{
    return pow(x, y);
}
#else
static inline float fabs32(float x)
{
    return fabsf(x);
}
static inline float fmax32(float x, float y)
{
    return fmaxf(x, y);
}
static inline float fmin32(float x, float y)
{
    return fminf(x, y);
}
static inline float fpow32(float x, float y)
{
    return powf(x, y);
}
#endif
static inline bool futrts_isnan32(float x)
{
    return isnan(x);
}
static inline bool futrts_isinf32(float x)
{
    return isinf(x);
}
#ifdef __OPENCL_VERSION__
static inline float futrts_log32(float x)
{
    return log(x);
}
static inline float futrts_log2_32(float x)
{
    return log2(x);
}
static inline float futrts_log10_32(float x)
{
    return log10(x);
}
static inline float futrts_sqrt32(float x)
{
    return sqrt(x);
}
static inline float futrts_exp32(float x)
{
    return exp(x);
}
static inline float futrts_cos32(float x)
{
    return cos(x);
}
static inline float futrts_sin32(float x)
{
    return sin(x);
}
static inline float futrts_tan32(float x)
{
    return tan(x);
}
static inline float futrts_acos32(float x)
{
    return acos(x);
}
static inline float futrts_asin32(float x)
{
    return asin(x);
}
static inline float futrts_atan32(float x)
{
    return atan(x);
}
static inline float futrts_cosh32(float x)
{
    return cosh(x);
}
static inline float futrts_sinh32(float x)
{
    return sinh(x);
}
static inline float futrts_tanh32(float x)
{
    return tanh(x);
}
static inline float futrts_acosh32(float x)
{
    return acosh(x);
}
static inline float futrts_asinh32(float x)
{
    return asinh(x);
}
static inline float futrts_atanh32(float x)
{
    return atanh(x);
}
static inline float futrts_atan2_32(float x, float y)
{
    return atan2(x, y);
}
static inline float futrts_hypot32(float x, float y)
{
    return hypot(x, y);
}
static inline float futrts_gamma32(float x)
{
    return tgamma(x);
}
static inline float futrts_lgamma32(float x)
{
    return lgamma(x);
}
static inline float fmod32(float x, float y)
{
    return fmod(x, y);
}
static inline float futrts_round32(float x)
{
    return rint(x);
}
static inline float futrts_floor32(float x)
{
    return floor(x);
}
static inline float futrts_ceil32(float x)
{
    return ceil(x);
}
static inline float futrts_lerp32(float v0, float v1, float t)
{
    return mix(v0, v1, t);
}
static inline float futrts_mad32(float a, float b, float c)
{
    return mad(a, b, c);
}
static inline float futrts_fma32(float a, float b, float c)
{
    return fma(a, b, c);
}
#else
static inline float futrts_log32(float x)
{
    return logf(x);
}
static inline float futrts_log2_32(float x)
{
    return log2f(x);
}
static inline float futrts_log10_32(float x)
{
    return log10f(x);
}
static inline float futrts_sqrt32(float x)
{
    return sqrtf(x);
}
static inline float futrts_exp32(float x)
{
    return expf(x);
}
static inline float futrts_cos32(float x)
{
    return cosf(x);
}
static inline float futrts_sin32(float x)
{
    return sinf(x);
}
static inline float futrts_tan32(float x)
{
    return tanf(x);
}
static inline float futrts_acos32(float x)
{
    return acosf(x);
}
static inline float futrts_asin32(float x)
{
    return asinf(x);
}
static inline float futrts_atan32(float x)
{
    return atanf(x);
}
static inline float futrts_cosh32(float x)
{
    return coshf(x);
}
static inline float futrts_sinh32(float x)
{
    return sinhf(x);
}
static inline float futrts_tanh32(float x)
{
    return tanhf(x);
}
static inline float futrts_acosh32(float x)
{
    return acoshf(x);
}
static inline float futrts_asinh32(float x)
{
    return asinhf(x);
}
static inline float futrts_atanh32(float x)
{
    return atanhf(x);
}
static inline float futrts_atan2_32(float x, float y)
{
    return atan2f(x, y);
}
static inline float futrts_hypot32(float x, float y)
{
    return hypotf(x, y);
}
static inline float futrts_gamma32(float x)
{
    return tgammaf(x);
}
static inline float futrts_lgamma32(float x)
{
    return lgammaf(x);
}
static inline float fmod32(float x, float y)
{
    return fmodf(x, y);
}
static inline float futrts_round32(float x)
{
    return rintf(x);
}
static inline float futrts_floor32(float x)
{
    return floorf(x);
}
static inline float futrts_ceil32(float x)
{
    return ceilf(x);
}
static inline float futrts_lerp32(float v0, float v1, float t)
{
    return v0 + (v1 - v0) * t;
}
static inline float futrts_mad32(float a, float b, float c)
{
    return a * b + c;
}
static inline float futrts_fma32(float a, float b, float c)
{
    return fmaf(a, b, c);
}
#endif
static inline int32_t futrts_to_bits32(float x)
{
    union {
        float f;
        int32_t t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline float futrts_from_bits32(int32_t x)
{
    union {
        int32_t f;
        float t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline float fsignum32(float x)
{
    return futrts_isnan32(x) ? x : (x > 0) - (x < 0);
}
static inline double fabs64(double x)
{
    return fabs(x);
}
static inline float fmax64(double x, double y)
{
    return fmax(x, y);
}
static inline float fmin64(double x, double y)
{
    return fmin(x, y);
}
static inline double fpow64(double x, double y)
{
    return pow(x, y);
}
static inline double futrts_log64(double x)
{
    return log(x);
}
static inline double futrts_log2_64(double x)
{
    return log2(x);
}
static inline double futrts_log10_64(double x)
{
    return log10(x);
}
static inline double futrts_sqrt64(double x)
{
    return sqrt(x);
}
static inline double futrts_exp64(double x)
{
    return exp(x);
}
static inline double futrts_cos64(double x)
{
    return cos(x);
}
static inline double futrts_sin64(double x)
{
    return sin(x);
}
static inline double futrts_tan64(double x)
{
    return tan(x);
}
static inline double futrts_acos64(double x)
{
    return acos(x);
}
static inline double futrts_asin64(double x)
{
    return asin(x);
}
static inline double futrts_atan64(double x)
{
    return atan(x);
}
static inline double futrts_cosh64(double x)
{
    return cosh(x);
}
static inline double futrts_sinh64(double x)
{
    return sinh(x);
}
static inline double futrts_tanh64(double x)
{
    return tanh(x);
}
static inline double futrts_acosh64(double x)
{
    return acosh(x);
}
static inline double futrts_asinh64(double x)
{
    return asinh(x);
}
static inline double futrts_atanh64(double x)
{
    return atanh(x);
}
static inline double futrts_atan2_64(double x, double y)
{
    return atan2(x, y);
}
static inline double futrts_hypot64(double x, double y)
{
    return hypot(x, y);
}
static inline double futrts_gamma64(double x)
{
    return tgamma(x);
}
static inline double futrts_lgamma64(double x)
{
    return lgamma(x);
}
static inline double futrts_fma64(double a, double b, double c)
{
    return fma(a, b, c);
}
static inline double futrts_round64(double x)
{
    return rint(x);
}
static inline double futrts_ceil64(double x)
{
    return ceil(x);
}
static inline double futrts_floor64(double x)
{
    return floor(x);
}
static inline bool futrts_isnan64(double x)
{
    return isnan(x);
}
static inline bool futrts_isinf64(double x)
{
    return isinf(x);
}
static inline int64_t futrts_to_bits64(double x)
{
    union {
        double f;
        int64_t t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline double futrts_from_bits64(int64_t x)
{
    union {
        int64_t f;
        double t;
    } p;
    
    p.f = x;
    return p.t;
}
static inline double fmod64(double x, double y)
{
    return fmod(x, y);
}
static inline double fsignum64(double x)
{
    return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}
#ifdef __OPENCL_VERSION__
static inline double futrts_lerp64(double v0, double v1, double t)
{
    return mix(v0, v1, t);
}
static inline double futrts_mad64(double a, double b, double c)
{
    return mad(a, b, c);
}
#else
static inline double futrts_lerp64(double v0, double v1, double t)
{
    return v0 + (v1 - v0) * t;
}
static inline double futrts_mad64(double a, double b, double c)
{
    return a * b + c;
}
#endif
static int init_constants(struct futhark_context *);
static int free_constants(struct futhark_context *);
struct memblock {
    int *references;
    char *mem;
    int64_t size;
    const char *desc;
};
// start of scheduler.h

// First, the API that the generated code will access.  In principle,
// we could then compile the scheduler separately and link an object
// file with the generated code.  In practice, we will embed all of
// this in the generated code.

// Scheduler handle.
struct scheduler;

// Initialise a scheduler (and start worker threads).
static int scheduler_init(struct scheduler *scheduler,
                          int num_workers,
                          double kappa);

// Shut down a scheduler (and destroy worker threads).
static int scheduler_destroy(struct scheduler *scheduler);

// Figure out the smallest amount of work that amortises task
// creation.
static int determine_kappa(double *kappa);

// How a segop should be scheduled.
enum scheduling {
  DYNAMIC,
  STATIC
};

// How a given task should be executed.  Filled out by the scheduler
// and passed to the segop function
struct scheduler_info {
  int64_t iter_pr_subtask;
  int64_t remainder;
  int nsubtasks;
  enum scheduling sched;
  int wake_up_threads;

  int64_t *task_time;
  int64_t *task_iter;
};

// A segop function.  This is what you hand the scheduler for
// execution.
typedef int (*segop_fn)(void* args,
                        int64_t iterations,
                        int tid,
                        struct scheduler_info info);

// A task for the scheduler to execute.
struct scheduler_segop {
  void *args;
  segop_fn top_level_fn;
  segop_fn nested_fn;
  int64_t iterations;
  enum scheduling sched;

  // Pointers to timer and iter associated with the task
  int64_t *task_time;
  int64_t *task_iter;

  // For debugging
  const char* name;
};

static inline int scheduler_prepare_task(struct scheduler *scheduler,
                                         struct scheduler_segop *task);

typedef int (*parloop_fn)(void* args,
                          int64_t start,
                          int64_t end,
                          int subtask_id,
                          int tid);

// A parallel parloop task.
struct scheduler_parloop {
  void* args;
  parloop_fn fn;
  int64_t iterations;
  struct scheduler_info info;

  // For debugging
  const char* name;
};

static inline int scheduler_execute_task(struct scheduler *scheduler,
                                         struct scheduler_parloop *task);

// Then the API implementation.

#include <signal.h>

#if defined(_WIN32)
#include <windows.h>
#elif defined(__APPLE__)
#include <sys/sysctl.h>
// For getting cpu usage of threads
#include <mach/mach.h>
#include <sys/resource.h>
#elif defined(__linux__)
#include <sys/sysinfo.h>
#include <sys/resource.h>
#include <signal.h>
#elif defined(__EMSCRIPTEN__)
#include <emscripten/threading.h>
#include <sys/sysinfo.h>
#include <sys/resource.h>
#include <signal.h>
#endif

/* Multicore Utility functions */

/* A wrapper for getting rusage on Linux and MacOS */
/* TODO maybe figure out this for windows */
static inline int getrusage_thread(struct rusage *rusage)
{
  int err = -1;
#if  defined(__APPLE__)
    thread_basic_info_data_t info = { 0 };
    mach_msg_type_number_t info_count = THREAD_BASIC_INFO_COUNT;
    kern_return_t kern_err;

    kern_err = thread_info(mach_thread_self(),
                           THREAD_BASIC_INFO,
                           (thread_info_t)&info,
                           &info_count);
    if (kern_err == KERN_SUCCESS) {
        memset(rusage, 0, sizeof(struct rusage));
        rusage->ru_utime.tv_sec = info.user_time.seconds;
        rusage->ru_utime.tv_usec = info.user_time.microseconds;
        rusage->ru_stime.tv_sec = info.system_time.seconds;
        rusage->ru_stime.tv_usec = info.system_time.microseconds;
        err = 0;
    } else {
        errno = EINVAL;
    }
#elif defined(__linux__) || __EMSCRIPTEN__
    err = getrusage(RUSAGE_THREAD, rusage);
#endif
    return err;
}

/* returns the number of logical cores */
static int num_processors()
{
#if  defined(_WIN32)
/* https://docs.microsoft.com/en-us/windows/win32/api/sysinfoapi/ns-sysinfoapi-system_info */
    SYSTEM_INFO sysinfo;
    GetSystemInfo(&sysinfo);
    int ncores = sysinfo.dwNumberOfProcessors;
    fprintf(stderr, "Found %d cores on your Windows machine\n Is that correct?\n", ncores);
    return ncores;
#elif defined(__APPLE__)
    int ncores;
    size_t ncores_size = sizeof(ncores);
    CHECK_ERRNO(sysctlbyname("hw.logicalcpu", &ncores, &ncores_size, NULL, 0),
                "sysctlbyname (hw.logicalcpu)");
    return ncores;
#elif defined(__linux__)
  return get_nprocs();
#elif __EMSCRIPTEN__
  return emscripten_num_logical_cores();
#else
  fprintf(stderr, "operating system not recognised\n");
  return -1;
#endif
}

static unsigned int g_seed;

// Used to seed the generator.
static inline void fast_srand(unsigned int seed) {
    g_seed = seed;
}

// Compute a pseudorandom integer.
// Output value in range [0, 32767]
static inline unsigned int fast_rand(void) {
    g_seed = (214013*g_seed+2531011);
    return (g_seed>>16)&0x7FFF;
}

struct subtask_queue {
  int capacity;             // Size of the buffer.
  int first;                // Index of the start of the ring buffer.
  int num_used;             // Number of used elements in the buffer.
  struct subtask **buffer;

  pthread_mutex_t mutex;    // Mutex used for synchronisation.
  pthread_cond_t cond;      // Condition variable used for synchronisation.
  int dead;

#if defined(MCPROFILE)
  /* Profiling fields */
  uint64_t time_enqueue;
  uint64_t time_dequeue;
  uint64_t n_dequeues;
  uint64_t n_enqueues;
#endif
};

/* A subtask that can be executed by a worker */
struct subtask {
  /* The parloop function */
  parloop_fn fn;
  /* Execution parameters */
  void* args;
  int64_t start, end;
  int id;

  /* Dynamic scheduling parameters */
  int chunkable;
  int64_t chunk_size;

  /* Shared variables across subtasks */
  volatile int *counter; // Counter for ongoing subtasks
  // Shared task timers and iterators
  int64_t *task_time;
  int64_t *task_iter;

  /* For debugging */
  const char *name;
};


struct worker {
  pthread_t thread;
  struct scheduler *scheduler;  /* Reference to the scheduler struct the worker belongs to*/
  struct subtask_queue q;
  int dead;
  int tid;                      /* Just a thread id */

  /* "thread local" time fields used for online algorithm */
  uint64_t timer;
  uint64_t total;
  int nested; /* How nested the current computation is */

  // Profiling fields
  int output_usage;            /* Whether to dump thread usage */
  uint64_t time_spent_working; /* Time spent in parloop functions */
};

static inline void output_worker_usage(struct worker *worker)
{
  struct rusage usage;
  CHECK_ERRNO(getrusage_thread(&usage), "getrusage_thread");
  struct timeval user_cpu_time = usage.ru_utime;
  struct timeval sys_cpu_time = usage.ru_stime;
  fprintf(stderr, "tid: %2d - work time %10llu us - user time: %10llu us - sys: %10llu us\n",
          worker->tid,
          (long long unsigned)worker->time_spent_working / 1000,
          (long long unsigned)(user_cpu_time.tv_sec * 1000000 + user_cpu_time.tv_usec),
          (long long unsigned)(sys_cpu_time.tv_sec * 1000000 + sys_cpu_time.tv_usec));
}

/* Doubles the size of the queue */
static inline int subtask_queue_grow_queue(struct subtask_queue *subtask_queue) {

  int new_capacity = 2 * subtask_queue->capacity;
#ifdef MCDEBUG
  fprintf(stderr, "Growing queue to %d\n", subtask_queue->capacity * 2);
#endif

  struct subtask **new_buffer = calloc(new_capacity, sizeof(struct subtask*));
  for (int i = 0; i < subtask_queue->num_used; i++) {
    new_buffer[i] = subtask_queue->buffer[(subtask_queue->first + i) % subtask_queue->capacity];
  }

  free(subtask_queue->buffer);
  subtask_queue->buffer = new_buffer;
  subtask_queue->capacity = new_capacity;
  subtask_queue->first = 0;

  return 0;
}

// Initialise a job queue with the given capacity.  The queue starts out
// empty.  Returns non-zero on error.
static inline int subtask_queue_init(struct subtask_queue *subtask_queue, int capacity)
{
  assert(subtask_queue != NULL);
  memset(subtask_queue, 0, sizeof(struct subtask_queue));

  subtask_queue->capacity = capacity;
  subtask_queue->buffer = calloc(capacity, sizeof(struct subtask*));
  if (subtask_queue->buffer == NULL) {
    return -1;
  }

  CHECK_ERRNO(pthread_mutex_init(&subtask_queue->mutex, NULL), "pthread_mutex_init");
  CHECK_ERRNO(pthread_cond_init(&subtask_queue->cond, NULL), "pthread_cond_init");

  return 0;
}

// Destroy the job queue.  Blocks until the queue is empty before it
// is destroyed.
static inline int subtask_queue_destroy(struct subtask_queue *subtask_queue)
{
  assert(subtask_queue != NULL);

  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");

  while (subtask_queue->num_used != 0) {
    CHECK_ERR(pthread_cond_wait(&subtask_queue->cond, &subtask_queue->mutex), "pthread_cond_wait");
  }

  // Queue is now empty.  Let's kill it!
  subtask_queue->dead = 1;
  free(subtask_queue->buffer);
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");

  return 0;
}

static inline void dump_queue(struct worker *worker)
{
  struct subtask_queue *subtask_queue = &worker->q;
  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");
  for (int i = 0; i < subtask_queue->num_used; i++) {
    struct subtask * subtask = subtask_queue->buffer[(subtask_queue->first + i) % subtask_queue->capacity];
    printf("queue tid %d with %d task %s\n", worker->tid, i, subtask->name);
  }
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
}

// Push an element onto the end of the job queue.  Blocks if the
// subtask_queue is full (its size is equal to its capacity).  Returns
// non-zero on error.  It is an error to push a job onto a queue that
// has been destroyed.
static inline int subtask_queue_enqueue(struct worker *worker, struct subtask *subtask )
{
  assert(worker != NULL);
  struct subtask_queue *subtask_queue = &worker->q;

#ifdef MCPROFILE
  uint64_t start = get_wall_time();
#endif

  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");
  // Wait until there is room in the subtask_queue.
  while (subtask_queue->num_used == subtask_queue->capacity && !subtask_queue->dead) {
    if (subtask_queue->num_used == subtask_queue->capacity) {
      CHECK_ERR(subtask_queue_grow_queue(subtask_queue), "subtask_queue_grow_queue");
      continue;
    }
    CHECK_ERR(pthread_cond_wait(&subtask_queue->cond, &subtask_queue->mutex), "pthread_cond_wait");
  }

  if (subtask_queue->dead) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return -1;
  }

  // If we made it past the loop, there is room in the subtask_queue.
  subtask_queue->buffer[(subtask_queue->first + subtask_queue->num_used) % subtask_queue->capacity] = subtask;
  subtask_queue->num_used++;

#ifdef MCPROFILE
  uint64_t end = get_wall_time();
  subtask_queue->time_enqueue += (end - start);
  subtask_queue->n_enqueues++;
#endif
  // Broadcast a reader (if any) that there is now an element.
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");

  return 0;
}


/* Like subtask_queue_dequeue, but with two differences:
   1) the subtask is stolen from the __front__ of the queue
   2) returns immediately if there is no subtasks queued,
      as we dont' want to block on another workers queue and
*/
static inline int subtask_queue_steal(struct worker *worker,
                                      struct subtask **subtask)
{
  struct subtask_queue *subtask_queue = &worker->q;
  assert(subtask_queue != NULL);

#ifdef MCPROFILE
  uint64_t start = get_wall_time();
#endif
  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");

  if (subtask_queue->num_used == 0) {
    CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return 1;
  }

  if (subtask_queue->dead) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return -1;
  }

  // Tasks gets stolen from the "front"
  struct subtask *cur_back = subtask_queue->buffer[subtask_queue->first];
  struct subtask *new_subtask = NULL;
  int remaining_iter = cur_back->end - cur_back->start;
  // If subtask is chunkable, we steal half of the iterations
  if (cur_back->chunkable && remaining_iter > 1) {
      int64_t half = remaining_iter / 2;
      new_subtask = malloc(sizeof(struct subtask));
      *new_subtask = *cur_back;
      new_subtask->start = cur_back->end - half;
      cur_back->end = new_subtask->start;
      __atomic_fetch_add(cur_back->counter, 1, __ATOMIC_RELAXED);
  } else {
    new_subtask = cur_back;
    subtask_queue->num_used--;
    subtask_queue->first = (subtask_queue->first + 1) % subtask_queue->capacity;
  }
  *subtask = new_subtask;

  if (*subtask == NULL) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthred_mutex_unlock");
    return 1;
  }

#ifdef MCPROFILE
  uint64_t end = get_wall_time();
  subtask_queue->time_dequeue += (end - start);
  subtask_queue->n_dequeues++;
#endif

  // Broadcast a writer (if any) that there is now room for more.
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");

  return 0;
}


// Pop an element from the back of the job queue.
// Optional argument can be provided to block or not
static inline int subtask_queue_dequeue(struct worker *worker,
                                        struct subtask **subtask, int blocking)
{
  assert(worker != NULL);
  struct subtask_queue *subtask_queue = &worker->q;

#ifdef MCPROFILE
  uint64_t start = get_wall_time();
#endif

  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");
  if (subtask_queue->num_used == 0 && !blocking) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return 1;
  }
  // Try to steal some work while the subtask_queue is empty
  while (subtask_queue->num_used == 0 && !subtask_queue->dead) {
    pthread_cond_wait(&subtask_queue->cond, &subtask_queue->mutex);
  }

  if (subtask_queue->dead) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return -1;
  }

  // dequeue pops from the back
  *subtask = subtask_queue->buffer[(subtask_queue->first + subtask_queue->num_used - 1) % subtask_queue->capacity];
  subtask_queue->num_used--;

  if (*subtask == NULL) {
    assert(!"got NULL ptr");
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthred_mutex_unlock");
    return -1;
  }

#ifdef MCPROFILE
  uint64_t end = get_wall_time();
  subtask_queue->time_dequeue += (end - start);
  subtask_queue->n_dequeues++;
#endif

  // Broadcast a writer (if any) that there is now room for more.
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");

  return 0;
}

static inline int subtask_queue_is_empty(struct subtask_queue *subtask_queue)
{
  return subtask_queue->num_used == 0;
}

/* Scheduler definitions */

struct scheduler {
  struct worker *workers;
  int num_threads;

  // If there is work to steal => active_work > 0
  volatile int active_work;

  // Only one error can be returned at the time now.  Maybe we can
  // provide a stack like structure for pushing errors onto if we wish
  // to backpropagte multiple errors
  volatile int error;

  // kappa time unit in nanoseconds
  double kappa;
};


// Thread local variable worker struct
// Note that, accesses to tls variables are expensive
// Minimize direct references to this variable
__thread struct worker* worker_local = NULL;

static int64_t total_now(int64_t total, int64_t time) {
  return total + (get_wall_time_ns() - time);
}

static int random_other_worker(struct scheduler *scheduler, int my_id) {
  int my_num_workers = scheduler->num_threads;
  assert(my_num_workers != 1);
  int i = fast_rand() % (my_num_workers - 1);
  if (i >= my_id) {
    i++;
  }
#ifdef MCDEBUG
  assert(i >= 0);
  assert(i < my_num_workers);
  assert(i != my_id);
#endif

  return i;
}


static inline int64_t compute_chunk_size(double kappa, struct subtask* subtask)
{
  double C = (double)*subtask->task_time / (double)*subtask->task_iter;
  if (C == 0.0F) C += DBL_EPSILON;
  return smax64((int64_t)(kappa / C), 1);
}

/* Takes a chunk from subtask and enqueues the remaining iterations onto the worker's queue */
/* A no-op if the subtask is not chunkable */
static inline struct subtask* chunk_subtask(struct worker* worker, struct subtask *subtask)
{
  if (subtask->chunkable) {
    // Do we have information from previous runs avaliable
    if (*subtask->task_iter > 0) {
      subtask->chunk_size = compute_chunk_size(worker->scheduler->kappa, subtask);
      assert(subtask->chunk_size > 0);
    }
    int64_t remaining_iter = subtask->end - subtask->start;
    assert(remaining_iter > 0);
    if (remaining_iter > subtask->chunk_size) {
      struct subtask *new_subtask = malloc(sizeof(struct subtask));
      *new_subtask = *subtask;
      // increment the subtask join counter to account for new subtask
      __atomic_fetch_add(subtask->counter, 1, __ATOMIC_RELAXED);
      // Update range parameters
      subtask->end = subtask->start + subtask->chunk_size;
      new_subtask->start = subtask->end;
      subtask_queue_enqueue(worker, new_subtask);
    }
  }
  return subtask;
}

static inline int run_subtask(struct worker* worker, struct subtask* subtask)
{
  assert(subtask != NULL);
  assert(worker != NULL);

  subtask = chunk_subtask(worker, subtask);
  worker->total = 0;
  worker->timer = get_wall_time_ns();
#if defined(MCPROFILE)
  int64_t start = worker->timer;
#endif
  worker->nested++;
  int err = subtask->fn(subtask->args, subtask->start, subtask->end,
                        subtask->chunkable ? worker->tid : subtask->id,
                        worker->tid);
  worker->nested--;
  // Some error occured during some other subtask
  // so we just clean-up and return
  if (worker->scheduler->error != 0) {
    // Even a failed task counts as finished.
    __atomic_fetch_sub(subtask->counter, 1, __ATOMIC_RELAXED);
    free(subtask);
    return 0;
  }
  if (err != 0) {
    __atomic_store_n(&worker->scheduler->error, err, __ATOMIC_RELAXED);
  }
  // Total sequential time spent
  int64_t time_elapsed = total_now(worker->total, worker->timer);
#if defined(MCPROFILE)
  worker->time_spent_working += get_wall_time_ns() - start;
#endif
  int64_t iter = subtask->end - subtask->start;
  // report measurements
  // These updates should really be done using a single atomic CAS operation
  __atomic_fetch_add(subtask->task_time, time_elapsed, __ATOMIC_RELAXED);
  __atomic_fetch_add(subtask->task_iter, iter, __ATOMIC_RELAXED);
  // We need a fence here, since if the counter is decremented before either
  // of the two above are updated bad things can happen, e.g. if they are stack-allocated
  __atomic_thread_fence(__ATOMIC_SEQ_CST);
  __atomic_fetch_sub(subtask->counter, 1, __ATOMIC_RELAXED);
  free(subtask);
  return 0;
}


static inline int is_small(struct scheduler_segop *task, struct scheduler *scheduler, int *nsubtasks)
{
  int64_t time = *task->task_time;
  int64_t iter = *task->task_iter;

  if (task->sched == DYNAMIC || iter == 0) {
    *nsubtasks = scheduler->num_threads;
    return 0;
  }

  // Estimate the constant C
  double C = (double)time / (double)iter;
  double cur_task_iter = (double) task->iterations;

  // Returns true if the task is small i.e.
  // if the number of iterations times C is smaller
  // than the overhead of subtask creation
  if (C == 0.0F || C * cur_task_iter < scheduler->kappa) {
    *nsubtasks = 1;
    return 1;
  }

  // Else compute how many subtasks this tasks should create
  int64_t min_iter_pr_subtask = smax64(scheduler->kappa / C, 1);
  *nsubtasks = smin64(smax64(task->iterations / min_iter_pr_subtask, 1), scheduler->num_threads);

  return 0;
}

// TODO make this prettier
static inline struct subtask* create_subtask(parloop_fn fn,
                                             void* args,
                                             const char* name,
                                             volatile int* counter,
                                             int64_t *timer,
                                             int64_t *iter,
                                             int64_t start, int64_t end,
                                             int chunkable,
                                             int64_t chunk_size,
                                             int id)
{
  struct subtask* subtask = malloc(sizeof(struct subtask));
  if (subtask == NULL) {
    assert(!"malloc failed in create_subtask");
    return NULL;
  }
  subtask->fn         = fn;
  subtask->args       = args;

  subtask->counter    = counter;
  subtask->task_time  = timer;
  subtask->task_iter  = iter;

  subtask->start      = start;
  subtask->end        = end;
  subtask->id         = id;
  subtask->chunkable  = chunkable;
  subtask->chunk_size = chunk_size;

  subtask->name       = name;
  return subtask;
}

static int dummy_counter = 0;
static int64_t dummy_timer = 0;
static int64_t dummy_iter = 0;

static int dummy_fn(void *args, int64_t start, int64_t end, int subtask_id, int tid) {
  (void)args;
  (void)start;
  (void)end;
  (void)subtask_id;
  (void)tid;
  return 0;
}

// Wake up threads, who are blocking by pushing a dummy task
// onto their queue
static inline void wake_up_threads(struct scheduler *scheduler, int start_tid, int end_tid) {

#if defined(MCDEBUG)
  assert(start_tid >= 1);
  assert(end_tid <= scheduler->num_threads);
#endif
  for (int i = start_tid; i < end_tid; i++) {
    struct subtask *subtask = create_subtask(dummy_fn, NULL, "dummy_fn",
                                            &dummy_counter,
                                            &dummy_timer, &dummy_iter,
                                            0, 0,
                                            0, 0,
                                            0);
    CHECK_ERR(subtask_queue_enqueue(&scheduler->workers[i], subtask), "subtask_queue_enqueue");
  }
}

static inline int is_finished(struct worker *worker) {
  return worker->dead && subtask_queue_is_empty(&worker->q);
}

// Try to steal from a random queue
static inline int steal_from_random_worker(struct worker* worker)
{
  int my_id = worker->tid;
  struct scheduler* scheduler = worker->scheduler;
  int k = random_other_worker(scheduler, my_id);
  struct worker *worker_k = &scheduler->workers[k];
  struct subtask* subtask =  NULL;
  int retval = subtask_queue_steal(worker_k, &subtask);
  if (retval == 0) {
    subtask_queue_enqueue(worker, subtask);
    return 1;
  }
  return 0;
}


static inline void *scheduler_worker(void* args)
{
  struct worker *worker = (struct worker*) args;
  struct scheduler *scheduler = worker->scheduler;
  worker_local = worker;
  struct subtask *subtask = NULL;

  while(!is_finished(worker)) {
    if (!subtask_queue_is_empty(&worker->q)) {
      int retval = subtask_queue_dequeue(worker, &subtask, 0);
      if (retval == 0) {
        assert(subtask != NULL);
        CHECK_ERR(run_subtask(worker, subtask), "run_subtask");
      } // else someone stole our work

    } else if (scheduler->active_work) { /* steal */
      while (!is_finished(worker) && scheduler->active_work) {
        if (steal_from_random_worker(worker)) {
          break;
        }
      }
    } else { /* go back to sleep and wait for work */
      int retval = subtask_queue_dequeue(worker, &subtask, 1);
      if (retval == 0) {
        assert(subtask != NULL);
        CHECK_ERR(run_subtask(worker, subtask), "run_subtask");
      }
    }
  }

  assert(subtask_queue_is_empty(&worker->q));
#if defined(MCPROFILE)
  if (worker->output_usage)
    output_worker_usage(worker);
#endif
  return NULL;
}


static inline int scheduler_execute_parloop(struct scheduler *scheduler,
                                            struct scheduler_parloop *task,
                                            int64_t *timer)
{

  struct worker *worker = worker_local;

  struct scheduler_info info = task->info;
  int64_t iter_pr_subtask = info.iter_pr_subtask;
  int64_t remainder = info.remainder;
  int nsubtasks = info.nsubtasks;
  volatile int join_counter = nsubtasks;

  // Shared timer used to sum up all
  // sequential work from each subtask
  int64_t task_timer = 0;
  int64_t task_iter = 0;

  enum scheduling sched = info.sched;
  /* If each subtasks should be processed in chunks */
  int chunkable = sched == STATIC ? 0 : 1;
  int64_t chunk_size = 1; // The initial chunk size when no info is avaliable


  if (info.wake_up_threads || sched == DYNAMIC)
    __atomic_add_fetch(&scheduler->active_work, nsubtasks, __ATOMIC_RELAXED);

  int64_t start = 0;
  int64_t end = iter_pr_subtask + (int64_t)(remainder != 0);
  for (int subtask_id = 0; subtask_id < nsubtasks; subtask_id++) {
    struct subtask *subtask = create_subtask(task->fn, task->args, task->name,
                                              &join_counter,
                                              &task_timer, &task_iter,
                                              start, end,
                                              chunkable, chunk_size,
                                              subtask_id);
    assert(subtask != NULL);
    // In most cases we will never have more subtasks than workers,
    // but there can be exceptions (e.g. the kappa tuning function).
    struct worker *subtask_worker =
      worker->nested
      ? &scheduler->workers[worker->tid]
      : &scheduler->workers[subtask_id % scheduler->num_threads];
    CHECK_ERR(subtask_queue_enqueue(subtask_worker, subtask),
              "subtask_queue_enqueue");
    // Update range params
    start = end;
    end += iter_pr_subtask + ((subtask_id + 1) < remainder);
  }

  if (info.wake_up_threads) {
    wake_up_threads(scheduler, nsubtasks, scheduler->num_threads);
  }

  // Join (wait for subtasks to finish)
  while(join_counter != 0) {
    if (!subtask_queue_is_empty(&worker->q)) {
      struct subtask *subtask = NULL;
      int err = subtask_queue_dequeue(worker, &subtask, 0);
      if (err == 0 ) {
        CHECK_ERR(run_subtask(worker, subtask), "run_subtask");
      }
    } else {
      if (steal_from_random_worker(worker)) {
        struct subtask *subtask = NULL;
        int err = subtask_queue_dequeue(worker, &subtask, 0);
        if (err == 0) {
          CHECK_ERR(run_subtask(worker, subtask), "run_subtask");
        }
      }
    }
  }


  if (info.wake_up_threads || sched == DYNAMIC) {
    __atomic_sub_fetch(&scheduler->active_work, nsubtasks, __ATOMIC_RELAXED);
  }

  // Write back timing results of all sequential work
  (*timer) += task_timer;
  return scheduler->error;
}


static inline int scheduler_execute_task(struct scheduler *scheduler,
                                         struct scheduler_parloop *task)
{

  struct worker *worker = worker_local;

  int err = 0;

  // How much sequential work was performed by the task
  int64_t task_timer = 0;

  /* Execute task sequential or parallel based on decision made earlier */
  if (task->info.nsubtasks == 1) {
    int64_t start = get_wall_time_ns();
    err = task->fn(task->args, 0, task->iterations, 0, worker->tid);
    int64_t end = get_wall_time_ns();
    task_timer = end - start;
    worker->time_spent_working += task_timer;
    // Report time measurements
    // TODO the update of both of these should really be a single atomic!!
    __atomic_fetch_add(task->info.task_time, task_timer, __ATOMIC_RELAXED);
    __atomic_fetch_add(task->info.task_iter, task->iterations, __ATOMIC_RELAXED);
  } else {
    // Add "before" time if we already are inside a task
    int64_t time_before = 0;
    if (worker->nested > 0) {
      time_before = total_now(worker->total, worker->timer);
    }

    err = scheduler_execute_parloop(scheduler, task, &task_timer);

    // Report time measurements
    // TODO the update of both of these should really be a single atomic!!
    __atomic_fetch_add(task->info.task_time, task_timer, __ATOMIC_RELAXED);
    __atomic_fetch_add(task->info.task_iter, task->iterations, __ATOMIC_RELAXED);

    // Update timers to account for new timings
    worker->total = time_before + task_timer;
    worker->timer = get_wall_time_ns();
  }


  return err;
}

/* Decide on how schedule the incoming task i.e. how many subtasks and
   to run sequential or (potentially nested) parallel code body */
static inline int scheduler_prepare_task(struct scheduler* scheduler,
                                         struct scheduler_segop *task)
{
  assert(task != NULL);

  struct worker *worker = worker_local;
  struct scheduler_info info;
  info.task_time = task->task_time;
  info.task_iter = task->task_iter;

  int nsubtasks;
  // Decide if task should be scheduled sequentially
  if (is_small(task, scheduler, &nsubtasks)) {
    info.iter_pr_subtask = task->iterations;
    info.remainder = 0;
    info.nsubtasks = nsubtasks;
    return task->top_level_fn(task->args, task->iterations, worker->tid, info);
  } else {
    info.iter_pr_subtask = task->iterations / nsubtasks;
    info.remainder = task->iterations % nsubtasks;
    info.sched = task->sched;
    switch (task->sched) {
    case STATIC:
      info.nsubtasks = info.iter_pr_subtask == 0 ? info.remainder : ((task->iterations - info.remainder) / info.iter_pr_subtask);
      break;
    case DYNAMIC:
      // As any thread can take any subtasks, we are being safe with using
      // an upper bound on the number of tasks such that the task allocate enough memory
      info.nsubtasks = info.iter_pr_subtask == 0 ? info.remainder : nsubtasks;
      break;
    default:
      assert(!"Got unknown scheduling");
    }
  }

  info.wake_up_threads = 0;
  // We only use the nested parallel segop function if we can't exchaust all cores
  // using the outer most level
  if (task->nested_fn != NULL && info.nsubtasks < scheduler->num_threads && info.nsubtasks == task->iterations) {
    if (worker->nested == 0)
      info.wake_up_threads = 1;
    return task->nested_fn(task->args, task->iterations, worker->tid, info);
  }

  return task->top_level_fn(task->args, task->iterations, worker->tid, info);
}

// Now some code for finding the proper value of kappa on a given
// machine (the smallest amount of work that amortises the cost of
// task creation).

struct tuning_struct {
  int32_t *free_tuning_res;
  int32_t *array;
};

// Reduction function over an integer array
static int tuning_loop(void *args, int64_t start, int64_t end,
                                     int flat_tid, int tid) {
  (void)flat_tid;
  (void)tid;

  int err = 0;
  struct tuning_struct *tuning_struct = (struct tuning_struct *) args;
  int32_t *array = tuning_struct->array;
  int32_t *tuning_res = tuning_struct->free_tuning_res;

  int32_t sum = 0;
  for (int i = start; i < end; i++) {
    int32_t y = array[i];
    sum = add32(sum, y);
  }
  *tuning_res = sum;
  return err;
}

// The main entry point for the tuning process.  Sets the provided
// variable ``kappa``.
static int determine_kappa(double *kappa) {
  int err = 0;

  int64_t iterations = 100000000;
  int64_t tuning_time = 0;
  int64_t tuning_iter = 0;

  int32_t *array = malloc(sizeof(int32_t) * iterations);
  for (int64_t i = 0; i < iterations; i++) {
    array[i] = fast_rand();
  }

  int64_t start_tuning = get_wall_time_ns();
  /* **************************** */
  /* Run sequential reduce first' */
  /* **************************** */
  int64_t tuning_sequentiual_start = get_wall_time_ns();
  struct tuning_struct tuning_struct;
  int32_t tuning_res;
  tuning_struct.free_tuning_res = &tuning_res;
  tuning_struct.array = array;

  err = tuning_loop(&tuning_struct, 0, iterations, 0, 0);
  int64_t tuning_sequentiual_end = get_wall_time_ns();
  int64_t sequential_elapsed = tuning_sequentiual_end - tuning_sequentiual_start;

  double C = (double)sequential_elapsed / (double)iterations;
  fprintf(stderr, " Time for sequential run is %lld - Found C %f\n", (long long)sequential_elapsed, C);

  /* ********************** */
  /* Now run tuning process */
  /* ********************** */
  // Setup a scheduler with a single worker
  struct scheduler scheduler;
  scheduler.num_threads = 1;
  scheduler.workers = malloc(sizeof(struct worker));
  worker_local = &scheduler.workers[0];
  worker_local->tid = 0;
  CHECK_ERR(subtask_queue_init(&scheduler.workers[0].q, 1024),
            "failed to init queue for worker %d\n", 0);

  // Start tuning for kappa
  double kappa_tune = 1000; // Initial kappa is 1 us
  double ratio;
  int64_t time_elapsed;
  while(1) {
    int64_t min_iter_pr_subtask = (int64_t) (kappa_tune / C) == 0 ? 1 : (kappa_tune / C);
    int nsubtasks = iterations / min_iter_pr_subtask;
    struct scheduler_info info;
    info.iter_pr_subtask = min_iter_pr_subtask;

    info.nsubtasks = iterations / min_iter_pr_subtask;
    info.remainder = iterations % min_iter_pr_subtask;
    info.task_time = &tuning_time;
    info.task_iter = &tuning_iter;
    info.sched = STATIC;

    struct scheduler_parloop parloop;
    parloop.name = "tuning_loop";
    parloop.fn = tuning_loop;
    parloop.args = &tuning_struct;
    parloop.iterations = iterations;
    parloop.info = info;

    int64_t tuning_chunked_start = get_wall_time_ns();
    int determine_kappa_err =
      scheduler_execute_task(&scheduler,
                             &parloop);
    assert(determine_kappa_err == 0);
    int64_t tuning_chunked_end = get_wall_time_ns();
    time_elapsed =  tuning_chunked_end - tuning_chunked_start;

    ratio = (double)time_elapsed / (double)sequential_elapsed;
    if (ratio < 1.055) {
      break;
    }
    kappa_tune += 100; // Increase by 100 ns at the time
    fprintf(stderr, "nsubtask %d - kappa %f - ratio %f\n", nsubtasks, kappa_tune, ratio);
  }

  int64_t end_tuning = get_wall_time_ns();
  fprintf(stderr, "tuning took %lld ns and found kappa %f - time %lld - ratio %f\n",
          (long long)end_tuning - start_tuning,
          kappa_tune,
          (long long)time_elapsed,
          ratio);
  *kappa = kappa_tune;

  // Clean-up
  CHECK_ERR(subtask_queue_destroy(&scheduler.workers[0].q), "failed to destroy queue");
  free(array);
  free(scheduler.workers);
  return err;
}

static int scheduler_init(struct scheduler *scheduler,
                          int num_workers,
                          double kappa) {
  assert(num_workers > 0);

  scheduler->kappa = kappa;
  scheduler->num_threads = num_workers;
  scheduler->active_work = 0;
  scheduler->error = 0;

  scheduler->workers = calloc(num_workers, sizeof(struct worker));

  const int queue_capacity = 1024;

  worker_local = &scheduler->workers[0];
  worker_local->tid = 0;
  worker_local->scheduler = scheduler;
  CHECK_ERR(subtask_queue_init(&worker_local->q, queue_capacity),
            "failed to init queue for worker %d\n", 0);

  for (int i = 1; i < num_workers; i++) {
    struct worker *cur_worker = &scheduler->workers[i];
    memset(cur_worker, 0, sizeof(struct worker));
    cur_worker->tid = i;
    cur_worker->output_usage = 0;
    cur_worker->scheduler = scheduler;
    CHECK_ERR(subtask_queue_init(&cur_worker->q, queue_capacity),
              "failed to init queue for worker %d\n", i);

    CHECK_ERR(pthread_create(&cur_worker->thread,
                             NULL,
                             &scheduler_worker,
                             cur_worker),
              "Failed to create worker %d\n", i);
  }

  return 0;
}

static int scheduler_destroy(struct scheduler *scheduler) {
  // First mark them all as dead.
  for (int i = 1; i < scheduler->num_threads; i++) {
    struct worker *cur_worker = &scheduler->workers[i];
    cur_worker->dead = 1;
  }

  // Then destroy their task queues (this will wake up the threads and
  // make them do their shutdown).
  for (int i = 1; i < scheduler->num_threads; i++) {
    struct worker *cur_worker = &scheduler->workers[i];
    subtask_queue_destroy(&cur_worker->q);
  }

  // Then actually wait for them to stop.
  for (int i = 1; i < scheduler->num_threads; i++) {
    struct worker *cur_worker = &scheduler->workers[i];
    CHECK_ERR(pthread_join(scheduler->workers[i].thread, NULL), "pthread_join");
  }

  free(scheduler->workers);

  return 0;
}

// End of scheduler.h

struct futhark_context_config {
    int debugging;
    int profiling;
    int num_threads;
};
struct futhark_context_config *futhark_context_config_new(void)
{
    struct futhark_context_config *cfg =
                                  (struct futhark_context_config *) malloc(sizeof(struct futhark_context_config));
    
    if (cfg == NULL)
        return NULL;
    cfg->debugging = 0;
    cfg->profiling = 0;
    cfg->num_threads = 0;
    return cfg;
}
void futhark_context_config_free(struct futhark_context_config *cfg)
{
    free(cfg);
}
void futhark_context_config_set_debugging(struct futhark_context_config *cfg,
                                          int detail)
{
    cfg->debugging = detail;
}
void futhark_context_config_set_profiling(struct futhark_context_config *cfg,
                                          int flag)
{
    cfg->profiling = flag;
}
void futhark_context_config_set_logging(struct futhark_context_config *cfg,
                                        int detail)
{
    /* Does nothing for this backend. */
    (void) cfg;
    (void) detail;
}
void futhark_context_config_set_num_threads(struct futhark_context_config *cfg,
                                            int n)
{
    cfg->num_threads = n;
}
struct futhark_context {
    struct scheduler scheduler;
    int detail_memory;
    int debugging;
    int profiling;
    int profiling_paused;
    int logging;
    lock_t lock;
    char *error;
    FILE *log;
    int total_runs;
    long total_runtime;
    int64_t peak_mem_usage_default;
    int64_t cur_mem_usage_default;
    struct {
        int dummy;
    } constants;
    int64_t *futhark_mc_segmap_parloop_129751_total_runtime;
    int *futhark_mc_segmap_parloop_129751_runs;
    int64_t *futhark_mc_segmap_parloop_129751_iter;
    int64_t futhark_mc_segmap_parloop_129751_total_total_runtime;
    int futhark_mc_segmap_parloop_129751_total_runs;
    int64_t futhark_mc_segmap_parloop_129751_total_iter;
    int64_t *futhark_mc_segmap_task_129749_total_runtime;
    int *futhark_mc_segmap_task_129749_runs;
    int64_t *futhark_mc_segmap_task_129749_iter;
    int64_t futhark_mc_segmap_task_129749_total_time;
    int64_t futhark_mc_segmap_task_129749_total_iter;
    int64_t *futhark_mc_scan_stage_1_parloop_129763_total_runtime;
    int *futhark_mc_scan_stage_1_parloop_129763_runs;
    int64_t *futhark_mc_scan_stage_1_parloop_129763_iter;
    int64_t futhark_mc_scan_stage_1_parloop_129763_total_total_runtime;
    int futhark_mc_scan_stage_1_parloop_129763_total_runs;
    int64_t futhark_mc_scan_stage_1_parloop_129763_total_iter;
    int64_t *futhark_mc_scan_stage_3_parloop_129765_total_runtime;
    int *futhark_mc_scan_stage_3_parloop_129765_runs;
    int64_t *futhark_mc_scan_stage_3_parloop_129765_iter;
    int64_t futhark_mc_scan_stage_3_parloop_129765_total_total_runtime;
    int futhark_mc_scan_stage_3_parloop_129765_total_runs;
    int64_t futhark_mc_scan_stage_3_parloop_129765_total_iter;
    int64_t *futhark_mc_segscan_task_129760_total_runtime;
    int *futhark_mc_segscan_task_129760_runs;
    int64_t *futhark_mc_segscan_task_129760_iter;
    int64_t futhark_mc_segscan_task_129760_total_time;
    int64_t futhark_mc_segscan_task_129760_total_iter;
    int64_t *futhark_mc_segmap_parloop_129769_total_runtime;
    int *futhark_mc_segmap_parloop_129769_runs;
    int64_t *futhark_mc_segmap_parloop_129769_iter;
    int64_t futhark_mc_segmap_parloop_129769_total_total_runtime;
    int futhark_mc_segmap_parloop_129769_total_runs;
    int64_t futhark_mc_segmap_parloop_129769_total_iter;
    int64_t *futhark_mc_segmap_task_129767_total_runtime;
    int *futhark_mc_segmap_task_129767_runs;
    int64_t *futhark_mc_segmap_task_129767_iter;
    int64_t futhark_mc_segmap_task_129767_total_time;
    int64_t futhark_mc_segmap_task_129767_total_iter;
    int64_t *futhark_mc_segmap_parloop_129756_total_runtime;
    int *futhark_mc_segmap_parloop_129756_runs;
    int64_t *futhark_mc_segmap_parloop_129756_iter;
    int64_t futhark_mc_segmap_parloop_129756_total_total_runtime;
    int futhark_mc_segmap_parloop_129756_total_runs;
    int64_t futhark_mc_segmap_parloop_129756_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129754_total_runtime;
    int *futhark_mc_segmap_nested_task_129754_runs;
    int64_t *futhark_mc_segmap_nested_task_129754_iter;
    int64_t *futhark_mc_segmap_parloop_129773_total_runtime;
    int *futhark_mc_segmap_parloop_129773_runs;
    int64_t *futhark_mc_segmap_parloop_129773_iter;
    int64_t futhark_mc_segmap_parloop_129773_total_total_runtime;
    int futhark_mc_segmap_parloop_129773_total_runs;
    int64_t futhark_mc_segmap_parloop_129773_total_iter;
    int64_t *futhark_mc_segmap_task_129771_total_runtime;
    int *futhark_mc_segmap_task_129771_runs;
    int64_t *futhark_mc_segmap_task_129771_iter;
    int64_t futhark_mc_segmap_task_129771_total_time;
    int64_t futhark_mc_segmap_task_129771_total_iter;
    int64_t *futhark_mc_segmap_parloop_129782_total_runtime;
    int *futhark_mc_segmap_parloop_129782_runs;
    int64_t *futhark_mc_segmap_parloop_129782_iter;
    int64_t futhark_mc_segmap_parloop_129782_total_total_runtime;
    int futhark_mc_segmap_parloop_129782_total_runs;
    int64_t futhark_mc_segmap_parloop_129782_total_iter;
    int64_t *futhark_mc_segmap_task_129780_total_runtime;
    int *futhark_mc_segmap_task_129780_runs;
    int64_t *futhark_mc_segmap_task_129780_iter;
    int64_t futhark_mc_segmap_task_129780_total_time;
    int64_t futhark_mc_segmap_task_129780_total_iter;
    int64_t *futhark_mc_segmap_parloop_129777_total_runtime;
    int *futhark_mc_segmap_parloop_129777_runs;
    int64_t *futhark_mc_segmap_parloop_129777_iter;
    int64_t futhark_mc_segmap_parloop_129777_total_total_runtime;
    int futhark_mc_segmap_parloop_129777_total_runs;
    int64_t futhark_mc_segmap_parloop_129777_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129775_total_runtime;
    int *futhark_mc_segmap_nested_task_129775_runs;
    int64_t *futhark_mc_segmap_nested_task_129775_iter;
    int64_t *futhark_mc_segmap_parloop_129786_total_runtime;
    int *futhark_mc_segmap_parloop_129786_runs;
    int64_t *futhark_mc_segmap_parloop_129786_iter;
    int64_t futhark_mc_segmap_parloop_129786_total_total_runtime;
    int futhark_mc_segmap_parloop_129786_total_runs;
    int64_t futhark_mc_segmap_parloop_129786_total_iter;
    int64_t *futhark_mc_segmap_task_129784_total_runtime;
    int *futhark_mc_segmap_task_129784_runs;
    int64_t *futhark_mc_segmap_task_129784_iter;
    int64_t futhark_mc_segmap_task_129784_total_time;
    int64_t futhark_mc_segmap_task_129784_total_iter;
    int64_t *futhark_mc_segmap_parloop_129795_total_runtime;
    int *futhark_mc_segmap_parloop_129795_runs;
    int64_t *futhark_mc_segmap_parloop_129795_iter;
    int64_t futhark_mc_segmap_parloop_129795_total_total_runtime;
    int futhark_mc_segmap_parloop_129795_total_runs;
    int64_t futhark_mc_segmap_parloop_129795_total_iter;
    int64_t *futhark_mc_segmap_task_129793_total_runtime;
    int *futhark_mc_segmap_task_129793_runs;
    int64_t *futhark_mc_segmap_task_129793_iter;
    int64_t futhark_mc_segmap_task_129793_total_time;
    int64_t futhark_mc_segmap_task_129793_total_iter;
    int64_t *futhark_mc_segmap_parloop_129790_total_runtime;
    int *futhark_mc_segmap_parloop_129790_runs;
    int64_t *futhark_mc_segmap_parloop_129790_iter;
    int64_t futhark_mc_segmap_parloop_129790_total_total_runtime;
    int futhark_mc_segmap_parloop_129790_total_runs;
    int64_t futhark_mc_segmap_parloop_129790_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129788_total_runtime;
    int *futhark_mc_segmap_nested_task_129788_runs;
    int64_t *futhark_mc_segmap_nested_task_129788_iter;
    int64_t *futhark_mc_segmap_parloop_129799_total_runtime;
    int *futhark_mc_segmap_parloop_129799_runs;
    int64_t *futhark_mc_segmap_parloop_129799_iter;
    int64_t futhark_mc_segmap_parloop_129799_total_total_runtime;
    int futhark_mc_segmap_parloop_129799_total_runs;
    int64_t futhark_mc_segmap_parloop_129799_total_iter;
    int64_t *futhark_mc_segmap_task_129797_total_runtime;
    int *futhark_mc_segmap_task_129797_runs;
    int64_t *futhark_mc_segmap_task_129797_iter;
    int64_t futhark_mc_segmap_task_129797_total_time;
    int64_t futhark_mc_segmap_task_129797_total_iter;
    int64_t *futhark_mc_segmap_parloop_129808_total_runtime;
    int *futhark_mc_segmap_parloop_129808_runs;
    int64_t *futhark_mc_segmap_parloop_129808_iter;
    int64_t futhark_mc_segmap_parloop_129808_total_total_runtime;
    int futhark_mc_segmap_parloop_129808_total_runs;
    int64_t futhark_mc_segmap_parloop_129808_total_iter;
    int64_t *futhark_mc_segmap_task_129806_total_runtime;
    int *futhark_mc_segmap_task_129806_runs;
    int64_t *futhark_mc_segmap_task_129806_iter;
    int64_t futhark_mc_segmap_task_129806_total_time;
    int64_t futhark_mc_segmap_task_129806_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_129816_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_129816_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_129816_iter;
    int64_t futhark_mc_segred_stage_1_parloop_129816_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_129816_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_129816_total_iter;
    int64_t *futhark_mc_segred_task_129813_total_runtime;
    int *futhark_mc_segred_task_129813_runs;
    int64_t *futhark_mc_segred_task_129813_iter;
    int64_t futhark_mc_segred_task_129813_total_time;
    int64_t futhark_mc_segred_task_129813_total_iter;
    int64_t *futhark_mc_segmap_parloop_129811_total_runtime;
    int *futhark_mc_segmap_parloop_129811_runs;
    int64_t *futhark_mc_segmap_parloop_129811_iter;
    int64_t futhark_mc_segmap_parloop_129811_total_total_runtime;
    int futhark_mc_segmap_parloop_129811_total_runs;
    int64_t futhark_mc_segmap_parloop_129811_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129809_total_runtime;
    int *futhark_mc_segmap_nested_task_129809_runs;
    int64_t *futhark_mc_segmap_nested_task_129809_iter;
    int64_t *futhark_mc_segmap_parloop_129803_total_runtime;
    int *futhark_mc_segmap_parloop_129803_runs;
    int64_t *futhark_mc_segmap_parloop_129803_iter;
    int64_t futhark_mc_segmap_parloop_129803_total_total_runtime;
    int futhark_mc_segmap_parloop_129803_total_runs;
    int64_t futhark_mc_segmap_parloop_129803_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129801_total_runtime;
    int *futhark_mc_segmap_nested_task_129801_runs;
    int64_t *futhark_mc_segmap_nested_task_129801_iter;
    int64_t *futhark_mc_segmap_parloop_129820_total_runtime;
    int *futhark_mc_segmap_parloop_129820_runs;
    int64_t *futhark_mc_segmap_parloop_129820_iter;
    int64_t futhark_mc_segmap_parloop_129820_total_total_runtime;
    int futhark_mc_segmap_parloop_129820_total_runs;
    int64_t futhark_mc_segmap_parloop_129820_total_iter;
    int64_t *futhark_mc_segmap_task_129818_total_runtime;
    int *futhark_mc_segmap_task_129818_runs;
    int64_t *futhark_mc_segmap_task_129818_iter;
    int64_t futhark_mc_segmap_task_129818_total_time;
    int64_t futhark_mc_segmap_task_129818_total_iter;
    int64_t *futhark_mc_segmap_parloop_129833_total_runtime;
    int *futhark_mc_segmap_parloop_129833_runs;
    int64_t *futhark_mc_segmap_parloop_129833_iter;
    int64_t futhark_mc_segmap_parloop_129833_total_total_runtime;
    int futhark_mc_segmap_parloop_129833_total_runs;
    int64_t futhark_mc_segmap_parloop_129833_total_iter;
    int64_t *futhark_mc_segmap_task_129831_total_runtime;
    int *futhark_mc_segmap_task_129831_runs;
    int64_t *futhark_mc_segmap_task_129831_iter;
    int64_t futhark_mc_segmap_task_129831_total_time;
    int64_t futhark_mc_segmap_task_129831_total_iter;
    int64_t *futhark_mc_segmap_parloop_129837_total_runtime;
    int *futhark_mc_segmap_parloop_129837_runs;
    int64_t *futhark_mc_segmap_parloop_129837_iter;
    int64_t futhark_mc_segmap_parloop_129837_total_total_runtime;
    int futhark_mc_segmap_parloop_129837_total_runs;
    int64_t futhark_mc_segmap_parloop_129837_total_iter;
    int64_t *futhark_mc_segmap_task_129835_total_runtime;
    int *futhark_mc_segmap_task_129835_runs;
    int64_t *futhark_mc_segmap_task_129835_iter;
    int64_t futhark_mc_segmap_task_129835_total_time;
    int64_t futhark_mc_segmap_task_129835_total_iter;
    int64_t *futhark_mc_segmap_parloop_129826_total_runtime;
    int *futhark_mc_segmap_parloop_129826_runs;
    int64_t *futhark_mc_segmap_parloop_129826_iter;
    int64_t futhark_mc_segmap_parloop_129826_total_total_runtime;
    int futhark_mc_segmap_parloop_129826_total_runs;
    int64_t futhark_mc_segmap_parloop_129826_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129824_total_runtime;
    int *futhark_mc_segmap_nested_task_129824_runs;
    int64_t *futhark_mc_segmap_nested_task_129824_iter;
    int64_t *futhark_mc_segmap_parloop_129841_total_runtime;
    int *futhark_mc_segmap_parloop_129841_runs;
    int64_t *futhark_mc_segmap_parloop_129841_iter;
    int64_t futhark_mc_segmap_parloop_129841_total_total_runtime;
    int futhark_mc_segmap_parloop_129841_total_runs;
    int64_t futhark_mc_segmap_parloop_129841_total_iter;
    int64_t *futhark_mc_segmap_task_129839_total_runtime;
    int *futhark_mc_segmap_task_129839_runs;
    int64_t *futhark_mc_segmap_task_129839_iter;
    int64_t futhark_mc_segmap_task_129839_total_time;
    int64_t futhark_mc_segmap_task_129839_total_iter;
    int64_t *futhark_mc_segmap_parloop_129854_total_runtime;
    int *futhark_mc_segmap_parloop_129854_runs;
    int64_t *futhark_mc_segmap_parloop_129854_iter;
    int64_t futhark_mc_segmap_parloop_129854_total_total_runtime;
    int futhark_mc_segmap_parloop_129854_total_runs;
    int64_t futhark_mc_segmap_parloop_129854_total_iter;
    int64_t *futhark_mc_segmap_task_129852_total_runtime;
    int *futhark_mc_segmap_task_129852_runs;
    int64_t *futhark_mc_segmap_task_129852_iter;
    int64_t futhark_mc_segmap_task_129852_total_time;
    int64_t futhark_mc_segmap_task_129852_total_iter;
    int64_t *futhark_mc_segmap_parloop_129858_total_runtime;
    int *futhark_mc_segmap_parloop_129858_runs;
    int64_t *futhark_mc_segmap_parloop_129858_iter;
    int64_t futhark_mc_segmap_parloop_129858_total_total_runtime;
    int futhark_mc_segmap_parloop_129858_total_runs;
    int64_t futhark_mc_segmap_parloop_129858_total_iter;
    int64_t *futhark_mc_segmap_task_129856_total_runtime;
    int *futhark_mc_segmap_task_129856_runs;
    int64_t *futhark_mc_segmap_task_129856_iter;
    int64_t futhark_mc_segmap_task_129856_total_time;
    int64_t futhark_mc_segmap_task_129856_total_iter;
    int64_t *futhark_mc_segmap_parloop_129847_total_runtime;
    int *futhark_mc_segmap_parloop_129847_runs;
    int64_t *futhark_mc_segmap_parloop_129847_iter;
    int64_t futhark_mc_segmap_parloop_129847_total_total_runtime;
    int futhark_mc_segmap_parloop_129847_total_runs;
    int64_t futhark_mc_segmap_parloop_129847_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129845_total_runtime;
    int *futhark_mc_segmap_nested_task_129845_runs;
    int64_t *futhark_mc_segmap_nested_task_129845_iter;
    int64_t *futhark_mc_segmap_parloop_129862_total_runtime;
    int *futhark_mc_segmap_parloop_129862_runs;
    int64_t *futhark_mc_segmap_parloop_129862_iter;
    int64_t futhark_mc_segmap_parloop_129862_total_total_runtime;
    int futhark_mc_segmap_parloop_129862_total_runs;
    int64_t futhark_mc_segmap_parloop_129862_total_iter;
    int64_t *futhark_mc_segmap_task_129860_total_runtime;
    int *futhark_mc_segmap_task_129860_runs;
    int64_t *futhark_mc_segmap_task_129860_iter;
    int64_t futhark_mc_segmap_task_129860_total_time;
    int64_t futhark_mc_segmap_task_129860_total_iter;
    int64_t *futhark_mc_segmap_parloop_129871_total_runtime;
    int *futhark_mc_segmap_parloop_129871_runs;
    int64_t *futhark_mc_segmap_parloop_129871_iter;
    int64_t futhark_mc_segmap_parloop_129871_total_total_runtime;
    int futhark_mc_segmap_parloop_129871_total_runs;
    int64_t futhark_mc_segmap_parloop_129871_total_iter;
    int64_t *futhark_mc_segmap_task_129869_total_runtime;
    int *futhark_mc_segmap_task_129869_runs;
    int64_t *futhark_mc_segmap_task_129869_iter;
    int64_t futhark_mc_segmap_task_129869_total_time;
    int64_t futhark_mc_segmap_task_129869_total_iter;
    int64_t *futhark_mc_segmap_parloop_129866_total_runtime;
    int *futhark_mc_segmap_parloop_129866_runs;
    int64_t *futhark_mc_segmap_parloop_129866_iter;
    int64_t futhark_mc_segmap_parloop_129866_total_total_runtime;
    int futhark_mc_segmap_parloop_129866_total_runs;
    int64_t futhark_mc_segmap_parloop_129866_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129864_total_runtime;
    int *futhark_mc_segmap_nested_task_129864_runs;
    int64_t *futhark_mc_segmap_nested_task_129864_iter;
    int64_t *futhark_mc_segmap_parloop_129875_total_runtime;
    int *futhark_mc_segmap_parloop_129875_runs;
    int64_t *futhark_mc_segmap_parloop_129875_iter;
    int64_t futhark_mc_segmap_parloop_129875_total_total_runtime;
    int futhark_mc_segmap_parloop_129875_total_runs;
    int64_t futhark_mc_segmap_parloop_129875_total_iter;
    int64_t *futhark_mc_segmap_task_129873_total_runtime;
    int *futhark_mc_segmap_task_129873_runs;
    int64_t *futhark_mc_segmap_task_129873_iter;
    int64_t futhark_mc_segmap_task_129873_total_time;
    int64_t futhark_mc_segmap_task_129873_total_iter;
    int64_t *futhark_mc_segmap_parloop_129884_total_runtime;
    int *futhark_mc_segmap_parloop_129884_runs;
    int64_t *futhark_mc_segmap_parloop_129884_iter;
    int64_t futhark_mc_segmap_parloop_129884_total_total_runtime;
    int futhark_mc_segmap_parloop_129884_total_runs;
    int64_t futhark_mc_segmap_parloop_129884_total_iter;
    int64_t *futhark_mc_segmap_task_129882_total_runtime;
    int *futhark_mc_segmap_task_129882_runs;
    int64_t *futhark_mc_segmap_task_129882_iter;
    int64_t futhark_mc_segmap_task_129882_total_time;
    int64_t futhark_mc_segmap_task_129882_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_129892_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_129892_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_129892_iter;
    int64_t futhark_mc_segred_stage_1_parloop_129892_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_129892_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_129892_total_iter;
    int64_t *futhark_mc_segred_task_129889_total_runtime;
    int *futhark_mc_segred_task_129889_runs;
    int64_t *futhark_mc_segred_task_129889_iter;
    int64_t futhark_mc_segred_task_129889_total_time;
    int64_t futhark_mc_segred_task_129889_total_iter;
    int64_t *futhark_mc_segmap_parloop_129887_total_runtime;
    int *futhark_mc_segmap_parloop_129887_runs;
    int64_t *futhark_mc_segmap_parloop_129887_iter;
    int64_t futhark_mc_segmap_parloop_129887_total_total_runtime;
    int futhark_mc_segmap_parloop_129887_total_runs;
    int64_t futhark_mc_segmap_parloop_129887_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129885_total_runtime;
    int *futhark_mc_segmap_nested_task_129885_runs;
    int64_t *futhark_mc_segmap_nested_task_129885_iter;
    int64_t *futhark_mc_segmap_parloop_129879_total_runtime;
    int *futhark_mc_segmap_parloop_129879_runs;
    int64_t *futhark_mc_segmap_parloop_129879_iter;
    int64_t futhark_mc_segmap_parloop_129879_total_total_runtime;
    int futhark_mc_segmap_parloop_129879_total_runs;
    int64_t futhark_mc_segmap_parloop_129879_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129877_total_runtime;
    int *futhark_mc_segmap_nested_task_129877_runs;
    int64_t *futhark_mc_segmap_nested_task_129877_iter;
    int64_t *futhark_mc_segmap_parloop_129896_total_runtime;
    int *futhark_mc_segmap_parloop_129896_runs;
    int64_t *futhark_mc_segmap_parloop_129896_iter;
    int64_t futhark_mc_segmap_parloop_129896_total_total_runtime;
    int futhark_mc_segmap_parloop_129896_total_runs;
    int64_t futhark_mc_segmap_parloop_129896_total_iter;
    int64_t *futhark_mc_segmap_task_129894_total_runtime;
    int *futhark_mc_segmap_task_129894_runs;
    int64_t *futhark_mc_segmap_task_129894_iter;
    int64_t futhark_mc_segmap_task_129894_total_time;
    int64_t futhark_mc_segmap_task_129894_total_iter;
    int64_t *futhark_mc_segmap_parloop_129905_total_runtime;
    int *futhark_mc_segmap_parloop_129905_runs;
    int64_t *futhark_mc_segmap_parloop_129905_iter;
    int64_t futhark_mc_segmap_parloop_129905_total_total_runtime;
    int futhark_mc_segmap_parloop_129905_total_runs;
    int64_t futhark_mc_segmap_parloop_129905_total_iter;
    int64_t *futhark_mc_segmap_task_129903_total_runtime;
    int *futhark_mc_segmap_task_129903_runs;
    int64_t *futhark_mc_segmap_task_129903_iter;
    int64_t futhark_mc_segmap_task_129903_total_time;
    int64_t futhark_mc_segmap_task_129903_total_iter;
    int64_t *futhark_mc_segmap_parloop_129900_total_runtime;
    int *futhark_mc_segmap_parloop_129900_runs;
    int64_t *futhark_mc_segmap_parloop_129900_iter;
    int64_t futhark_mc_segmap_parloop_129900_total_total_runtime;
    int futhark_mc_segmap_parloop_129900_total_runs;
    int64_t futhark_mc_segmap_parloop_129900_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129898_total_runtime;
    int *futhark_mc_segmap_nested_task_129898_runs;
    int64_t *futhark_mc_segmap_nested_task_129898_iter;
    int64_t *futhark_mc_segmap_parloop_129909_total_runtime;
    int *futhark_mc_segmap_parloop_129909_runs;
    int64_t *futhark_mc_segmap_parloop_129909_iter;
    int64_t futhark_mc_segmap_parloop_129909_total_total_runtime;
    int futhark_mc_segmap_parloop_129909_total_runs;
    int64_t futhark_mc_segmap_parloop_129909_total_iter;
    int64_t *futhark_mc_segmap_task_129907_total_runtime;
    int *futhark_mc_segmap_task_129907_runs;
    int64_t *futhark_mc_segmap_task_129907_iter;
    int64_t futhark_mc_segmap_task_129907_total_time;
    int64_t futhark_mc_segmap_task_129907_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_129917_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_129917_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_129917_iter;
    int64_t futhark_mc_segred_stage_1_parloop_129917_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_129917_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_129917_total_iter;
    int64_t *futhark_mc_segred_task_129914_total_runtime;
    int *futhark_mc_segred_task_129914_runs;
    int64_t *futhark_mc_segred_task_129914_iter;
    int64_t futhark_mc_segred_task_129914_total_time;
    int64_t futhark_mc_segred_task_129914_total_iter;
    int64_t *futhark_mc_segmap_parloop_129912_total_runtime;
    int *futhark_mc_segmap_parloop_129912_runs;
    int64_t *futhark_mc_segmap_parloop_129912_iter;
    int64_t futhark_mc_segmap_parloop_129912_total_total_runtime;
    int futhark_mc_segmap_parloop_129912_total_runs;
    int64_t futhark_mc_segmap_parloop_129912_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129910_total_runtime;
    int *futhark_mc_segmap_nested_task_129910_runs;
    int64_t *futhark_mc_segmap_nested_task_129910_iter;
    int64_t *futhark_mc_segmap_parloop_129921_total_runtime;
    int *futhark_mc_segmap_parloop_129921_runs;
    int64_t *futhark_mc_segmap_parloop_129921_iter;
    int64_t futhark_mc_segmap_parloop_129921_total_total_runtime;
    int futhark_mc_segmap_parloop_129921_total_runs;
    int64_t futhark_mc_segmap_parloop_129921_total_iter;
    int64_t *futhark_mc_segmap_task_129919_total_runtime;
    int *futhark_mc_segmap_task_129919_runs;
    int64_t *futhark_mc_segmap_task_129919_iter;
    int64_t futhark_mc_segmap_task_129919_total_time;
    int64_t futhark_mc_segmap_task_129919_total_iter;
    int64_t *futhark_mc_scan_stage_1_parloop_129931_total_runtime;
    int *futhark_mc_scan_stage_1_parloop_129931_runs;
    int64_t *futhark_mc_scan_stage_1_parloop_129931_iter;
    int64_t futhark_mc_scan_stage_1_parloop_129931_total_total_runtime;
    int futhark_mc_scan_stage_1_parloop_129931_total_runs;
    int64_t futhark_mc_scan_stage_1_parloop_129931_total_iter;
    int64_t *futhark_mc_scan_stage_3_parloop_129933_total_runtime;
    int *futhark_mc_scan_stage_3_parloop_129933_runs;
    int64_t *futhark_mc_scan_stage_3_parloop_129933_iter;
    int64_t futhark_mc_scan_stage_3_parloop_129933_total_total_runtime;
    int futhark_mc_scan_stage_3_parloop_129933_total_runs;
    int64_t futhark_mc_scan_stage_3_parloop_129933_total_iter;
    int64_t *futhark_mc_segscan_task_129928_total_runtime;
    int *futhark_mc_segscan_task_129928_runs;
    int64_t *futhark_mc_segscan_task_129928_iter;
    int64_t futhark_mc_segscan_task_129928_total_time;
    int64_t futhark_mc_segscan_task_129928_total_iter;
    int64_t *futhark_mc_segmap_parloop_129925_total_runtime;
    int *futhark_mc_segmap_parloop_129925_runs;
    int64_t *futhark_mc_segmap_parloop_129925_iter;
    int64_t futhark_mc_segmap_parloop_129925_total_total_runtime;
    int futhark_mc_segmap_parloop_129925_total_runs;
    int64_t futhark_mc_segmap_parloop_129925_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129923_total_runtime;
    int *futhark_mc_segmap_nested_task_129923_runs;
    int64_t *futhark_mc_segmap_nested_task_129923_iter;
    int64_t *futhark_mc_segmap_parloop_129937_total_runtime;
    int *futhark_mc_segmap_parloop_129937_runs;
    int64_t *futhark_mc_segmap_parloop_129937_iter;
    int64_t futhark_mc_segmap_parloop_129937_total_total_runtime;
    int futhark_mc_segmap_parloop_129937_total_runs;
    int64_t futhark_mc_segmap_parloop_129937_total_iter;
    int64_t *futhark_mc_segmap_task_129935_total_runtime;
    int *futhark_mc_segmap_task_129935_runs;
    int64_t *futhark_mc_segmap_task_129935_iter;
    int64_t futhark_mc_segmap_task_129935_total_time;
    int64_t futhark_mc_segmap_task_129935_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_129945_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_129945_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_129945_iter;
    int64_t futhark_mc_segred_stage_1_parloop_129945_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_129945_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_129945_total_iter;
    int64_t *futhark_mc_segred_task_129942_total_runtime;
    int *futhark_mc_segred_task_129942_runs;
    int64_t *futhark_mc_segred_task_129942_iter;
    int64_t futhark_mc_segred_task_129942_total_time;
    int64_t futhark_mc_segred_task_129942_total_iter;
    int64_t *futhark_mc_segmap_parloop_129940_total_runtime;
    int *futhark_mc_segmap_parloop_129940_runs;
    int64_t *futhark_mc_segmap_parloop_129940_iter;
    int64_t futhark_mc_segmap_parloop_129940_total_total_runtime;
    int futhark_mc_segmap_parloop_129940_total_runs;
    int64_t futhark_mc_segmap_parloop_129940_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129938_total_runtime;
    int *futhark_mc_segmap_nested_task_129938_runs;
    int64_t *futhark_mc_segmap_nested_task_129938_iter;
    int64_t *futhark_mc_segmap_parloop_129949_total_runtime;
    int *futhark_mc_segmap_parloop_129949_runs;
    int64_t *futhark_mc_segmap_parloop_129949_iter;
    int64_t futhark_mc_segmap_parloop_129949_total_total_runtime;
    int futhark_mc_segmap_parloop_129949_total_runs;
    int64_t futhark_mc_segmap_parloop_129949_total_iter;
    int64_t *futhark_mc_segmap_task_129947_total_runtime;
    int *futhark_mc_segmap_task_129947_runs;
    int64_t *futhark_mc_segmap_task_129947_iter;
    int64_t futhark_mc_segmap_task_129947_total_time;
    int64_t futhark_mc_segmap_task_129947_total_iter;
    int64_t *futhark_mc_scan_stage_1_parloop_129959_total_runtime;
    int *futhark_mc_scan_stage_1_parloop_129959_runs;
    int64_t *futhark_mc_scan_stage_1_parloop_129959_iter;
    int64_t futhark_mc_scan_stage_1_parloop_129959_total_total_runtime;
    int futhark_mc_scan_stage_1_parloop_129959_total_runs;
    int64_t futhark_mc_scan_stage_1_parloop_129959_total_iter;
    int64_t *futhark_mc_scan_stage_3_parloop_129961_total_runtime;
    int *futhark_mc_scan_stage_3_parloop_129961_runs;
    int64_t *futhark_mc_scan_stage_3_parloop_129961_iter;
    int64_t futhark_mc_scan_stage_3_parloop_129961_total_total_runtime;
    int futhark_mc_scan_stage_3_parloop_129961_total_runs;
    int64_t futhark_mc_scan_stage_3_parloop_129961_total_iter;
    int64_t *futhark_mc_segscan_task_129956_total_runtime;
    int *futhark_mc_segscan_task_129956_runs;
    int64_t *futhark_mc_segscan_task_129956_iter;
    int64_t futhark_mc_segscan_task_129956_total_time;
    int64_t futhark_mc_segscan_task_129956_total_iter;
    int64_t *futhark_mc_segmap_parloop_129953_total_runtime;
    int *futhark_mc_segmap_parloop_129953_runs;
    int64_t *futhark_mc_segmap_parloop_129953_iter;
    int64_t futhark_mc_segmap_parloop_129953_total_total_runtime;
    int futhark_mc_segmap_parloop_129953_total_runs;
    int64_t futhark_mc_segmap_parloop_129953_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129951_total_runtime;
    int *futhark_mc_segmap_nested_task_129951_runs;
    int64_t *futhark_mc_segmap_nested_task_129951_iter;
    int64_t *futhark_mc_segmap_parloop_129965_total_runtime;
    int *futhark_mc_segmap_parloop_129965_runs;
    int64_t *futhark_mc_segmap_parloop_129965_iter;
    int64_t futhark_mc_segmap_parloop_129965_total_total_runtime;
    int futhark_mc_segmap_parloop_129965_total_runs;
    int64_t futhark_mc_segmap_parloop_129965_total_iter;
    int64_t *futhark_mc_segmap_task_129963_total_runtime;
    int *futhark_mc_segmap_task_129963_runs;
    int64_t *futhark_mc_segmap_task_129963_iter;
    int64_t futhark_mc_segmap_task_129963_total_time;
    int64_t futhark_mc_segmap_task_129963_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_129973_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_129973_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_129973_iter;
    int64_t futhark_mc_segred_stage_1_parloop_129973_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_129973_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_129973_total_iter;
    int64_t *futhark_mc_segred_task_129970_total_runtime;
    int *futhark_mc_segred_task_129970_runs;
    int64_t *futhark_mc_segred_task_129970_iter;
    int64_t futhark_mc_segred_task_129970_total_time;
    int64_t futhark_mc_segred_task_129970_total_iter;
    int64_t *futhark_mc_segmap_parloop_129968_total_runtime;
    int *futhark_mc_segmap_parloop_129968_runs;
    int64_t *futhark_mc_segmap_parloop_129968_iter;
    int64_t futhark_mc_segmap_parloop_129968_total_total_runtime;
    int futhark_mc_segmap_parloop_129968_total_runs;
    int64_t futhark_mc_segmap_parloop_129968_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129966_total_runtime;
    int *futhark_mc_segmap_nested_task_129966_runs;
    int64_t *futhark_mc_segmap_nested_task_129966_iter;
    int64_t *futhark_mc_segmap_parloop_129977_total_runtime;
    int *futhark_mc_segmap_parloop_129977_runs;
    int64_t *futhark_mc_segmap_parloop_129977_iter;
    int64_t futhark_mc_segmap_parloop_129977_total_total_runtime;
    int futhark_mc_segmap_parloop_129977_total_runs;
    int64_t futhark_mc_segmap_parloop_129977_total_iter;
    int64_t *futhark_mc_segmap_task_129975_total_runtime;
    int *futhark_mc_segmap_task_129975_runs;
    int64_t *futhark_mc_segmap_task_129975_iter;
    int64_t futhark_mc_segmap_task_129975_total_time;
    int64_t futhark_mc_segmap_task_129975_total_iter;
    int64_t *futhark_mc_scan_stage_1_parloop_129987_total_runtime;
    int *futhark_mc_scan_stage_1_parloop_129987_runs;
    int64_t *futhark_mc_scan_stage_1_parloop_129987_iter;
    int64_t futhark_mc_scan_stage_1_parloop_129987_total_total_runtime;
    int futhark_mc_scan_stage_1_parloop_129987_total_runs;
    int64_t futhark_mc_scan_stage_1_parloop_129987_total_iter;
    int64_t *futhark_mc_scan_stage_3_parloop_129989_total_runtime;
    int *futhark_mc_scan_stage_3_parloop_129989_runs;
    int64_t *futhark_mc_scan_stage_3_parloop_129989_iter;
    int64_t futhark_mc_scan_stage_3_parloop_129989_total_total_runtime;
    int futhark_mc_scan_stage_3_parloop_129989_total_runs;
    int64_t futhark_mc_scan_stage_3_parloop_129989_total_iter;
    int64_t *futhark_mc_segscan_task_129984_total_runtime;
    int *futhark_mc_segscan_task_129984_runs;
    int64_t *futhark_mc_segscan_task_129984_iter;
    int64_t futhark_mc_segscan_task_129984_total_time;
    int64_t futhark_mc_segscan_task_129984_total_iter;
    int64_t *futhark_mc_segmap_parloop_129981_total_runtime;
    int *futhark_mc_segmap_parloop_129981_runs;
    int64_t *futhark_mc_segmap_parloop_129981_iter;
    int64_t futhark_mc_segmap_parloop_129981_total_total_runtime;
    int futhark_mc_segmap_parloop_129981_total_runs;
    int64_t futhark_mc_segmap_parloop_129981_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129979_total_runtime;
    int *futhark_mc_segmap_nested_task_129979_runs;
    int64_t *futhark_mc_segmap_nested_task_129979_iter;
    int64_t *futhark_mc_segmap_parloop_129993_total_runtime;
    int *futhark_mc_segmap_parloop_129993_runs;
    int64_t *futhark_mc_segmap_parloop_129993_iter;
    int64_t futhark_mc_segmap_parloop_129993_total_total_runtime;
    int futhark_mc_segmap_parloop_129993_total_runs;
    int64_t futhark_mc_segmap_parloop_129993_total_iter;
    int64_t *futhark_mc_segmap_task_129991_total_runtime;
    int *futhark_mc_segmap_task_129991_runs;
    int64_t *futhark_mc_segmap_task_129991_iter;
    int64_t futhark_mc_segmap_task_129991_total_time;
    int64_t futhark_mc_segmap_task_129991_total_iter;
    int64_t *futhark_mc_segmap_parloop_130002_total_runtime;
    int *futhark_mc_segmap_parloop_130002_runs;
    int64_t *futhark_mc_segmap_parloop_130002_iter;
    int64_t futhark_mc_segmap_parloop_130002_total_total_runtime;
    int futhark_mc_segmap_parloop_130002_total_runs;
    int64_t futhark_mc_segmap_parloop_130002_total_iter;
    int64_t *futhark_mc_segmap_task_130000_total_runtime;
    int *futhark_mc_segmap_task_130000_runs;
    int64_t *futhark_mc_segmap_task_130000_iter;
    int64_t futhark_mc_segmap_task_130000_total_time;
    int64_t futhark_mc_segmap_task_130000_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130010_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130010_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130010_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130010_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130010_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130010_total_iter;
    int64_t *futhark_mc_segred_task_130007_total_runtime;
    int *futhark_mc_segred_task_130007_runs;
    int64_t *futhark_mc_segred_task_130007_iter;
    int64_t futhark_mc_segred_task_130007_total_time;
    int64_t futhark_mc_segred_task_130007_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130015_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130015_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130015_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130015_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130015_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130015_total_iter;
    int64_t *futhark_mc_segred_task_130012_total_runtime;
    int *futhark_mc_segred_task_130012_runs;
    int64_t *futhark_mc_segred_task_130012_iter;
    int64_t futhark_mc_segred_task_130012_total_time;
    int64_t futhark_mc_segred_task_130012_total_iter;
    int64_t *futhark_mc_segmap_parloop_130005_total_runtime;
    int *futhark_mc_segmap_parloop_130005_runs;
    int64_t *futhark_mc_segmap_parloop_130005_iter;
    int64_t futhark_mc_segmap_parloop_130005_total_total_runtime;
    int futhark_mc_segmap_parloop_130005_total_runs;
    int64_t futhark_mc_segmap_parloop_130005_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130003_total_runtime;
    int *futhark_mc_segmap_nested_task_130003_runs;
    int64_t *futhark_mc_segmap_nested_task_130003_iter;
    int64_t *futhark_mc_segmap_parloop_129997_total_runtime;
    int *futhark_mc_segmap_parloop_129997_runs;
    int64_t *futhark_mc_segmap_parloop_129997_iter;
    int64_t futhark_mc_segmap_parloop_129997_total_total_runtime;
    int futhark_mc_segmap_parloop_129997_total_runs;
    int64_t futhark_mc_segmap_parloop_129997_total_iter;
    int64_t *futhark_mc_segmap_nested_task_129995_total_runtime;
    int *futhark_mc_segmap_nested_task_129995_runs;
    int64_t *futhark_mc_segmap_nested_task_129995_iter;
    int64_t *futhark_mc_segmap_parloop_130019_total_runtime;
    int *futhark_mc_segmap_parloop_130019_runs;
    int64_t *futhark_mc_segmap_parloop_130019_iter;
    int64_t futhark_mc_segmap_parloop_130019_total_total_runtime;
    int futhark_mc_segmap_parloop_130019_total_runs;
    int64_t futhark_mc_segmap_parloop_130019_total_iter;
    int64_t *futhark_mc_segmap_task_130017_total_runtime;
    int *futhark_mc_segmap_task_130017_runs;
    int64_t *futhark_mc_segmap_task_130017_iter;
    int64_t futhark_mc_segmap_task_130017_total_time;
    int64_t futhark_mc_segmap_task_130017_total_iter;
    int64_t *futhark_mc_segmap_parloop_130030_total_runtime;
    int *futhark_mc_segmap_parloop_130030_runs;
    int64_t *futhark_mc_segmap_parloop_130030_iter;
    int64_t futhark_mc_segmap_parloop_130030_total_total_runtime;
    int futhark_mc_segmap_parloop_130030_total_runs;
    int64_t futhark_mc_segmap_parloop_130030_total_iter;
    int64_t *futhark_mc_segmap_task_130028_total_runtime;
    int *futhark_mc_segmap_task_130028_runs;
    int64_t *futhark_mc_segmap_task_130028_iter;
    int64_t futhark_mc_segmap_task_130028_total_time;
    int64_t futhark_mc_segmap_task_130028_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130040_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130040_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130040_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130040_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130040_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130040_total_iter;
    int64_t *futhark_mc_segred_task_130035_total_runtime;
    int *futhark_mc_segred_task_130035_runs;
    int64_t *futhark_mc_segred_task_130035_iter;
    int64_t futhark_mc_segred_task_130035_total_time;
    int64_t futhark_mc_segred_task_130035_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130046_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130046_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130046_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130046_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130046_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130046_total_iter;
    int64_t *futhark_mc_segred_task_130042_total_runtime;
    int *futhark_mc_segred_task_130042_runs;
    int64_t *futhark_mc_segred_task_130042_iter;
    int64_t futhark_mc_segred_task_130042_total_time;
    int64_t futhark_mc_segred_task_130042_total_iter;
    int64_t *futhark_mc_segmap_parloop_130033_total_runtime;
    int *futhark_mc_segmap_parloop_130033_runs;
    int64_t *futhark_mc_segmap_parloop_130033_iter;
    int64_t futhark_mc_segmap_parloop_130033_total_total_runtime;
    int futhark_mc_segmap_parloop_130033_total_runs;
    int64_t futhark_mc_segmap_parloop_130033_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130031_total_runtime;
    int *futhark_mc_segmap_nested_task_130031_runs;
    int64_t *futhark_mc_segmap_nested_task_130031_iter;
    int64_t *futhark_mc_segmap_parloop_130024_total_runtime;
    int *futhark_mc_segmap_parloop_130024_runs;
    int64_t *futhark_mc_segmap_parloop_130024_iter;
    int64_t futhark_mc_segmap_parloop_130024_total_total_runtime;
    int futhark_mc_segmap_parloop_130024_total_runs;
    int64_t futhark_mc_segmap_parloop_130024_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130022_total_runtime;
    int *futhark_mc_segmap_nested_task_130022_runs;
    int64_t *futhark_mc_segmap_nested_task_130022_iter;
    int64_t *futhark_mc_segmap_parloop_130050_total_runtime;
    int *futhark_mc_segmap_parloop_130050_runs;
    int64_t *futhark_mc_segmap_parloop_130050_iter;
    int64_t futhark_mc_segmap_parloop_130050_total_total_runtime;
    int futhark_mc_segmap_parloop_130050_total_runs;
    int64_t futhark_mc_segmap_parloop_130050_total_iter;
    int64_t *futhark_mc_segmap_task_130048_total_runtime;
    int *futhark_mc_segmap_task_130048_runs;
    int64_t *futhark_mc_segmap_task_130048_iter;
    int64_t futhark_mc_segmap_task_130048_total_time;
    int64_t futhark_mc_segmap_task_130048_total_iter;
    int64_t *futhark_mc_segmap_parloop_130061_total_runtime;
    int *futhark_mc_segmap_parloop_130061_runs;
    int64_t *futhark_mc_segmap_parloop_130061_iter;
    int64_t futhark_mc_segmap_parloop_130061_total_total_runtime;
    int futhark_mc_segmap_parloop_130061_total_runs;
    int64_t futhark_mc_segmap_parloop_130061_total_iter;
    int64_t *futhark_mc_segmap_task_130059_total_runtime;
    int *futhark_mc_segmap_task_130059_runs;
    int64_t *futhark_mc_segmap_task_130059_iter;
    int64_t futhark_mc_segmap_task_130059_total_time;
    int64_t futhark_mc_segmap_task_130059_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130073_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130073_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130073_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130073_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130073_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130073_total_iter;
    int64_t *futhark_mc_segred_task_130066_total_runtime;
    int *futhark_mc_segred_task_130066_runs;
    int64_t *futhark_mc_segred_task_130066_iter;
    int64_t futhark_mc_segred_task_130066_total_time;
    int64_t futhark_mc_segred_task_130066_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130079_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130079_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130079_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130079_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130079_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130079_total_iter;
    int64_t *futhark_mc_segred_task_130075_total_runtime;
    int *futhark_mc_segred_task_130075_runs;
    int64_t *futhark_mc_segred_task_130075_iter;
    int64_t futhark_mc_segred_task_130075_total_time;
    int64_t futhark_mc_segred_task_130075_total_iter;
    int64_t *futhark_mc_segmap_parloop_130064_total_runtime;
    int *futhark_mc_segmap_parloop_130064_runs;
    int64_t *futhark_mc_segmap_parloop_130064_iter;
    int64_t futhark_mc_segmap_parloop_130064_total_total_runtime;
    int futhark_mc_segmap_parloop_130064_total_runs;
    int64_t futhark_mc_segmap_parloop_130064_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130062_total_runtime;
    int *futhark_mc_segmap_nested_task_130062_runs;
    int64_t *futhark_mc_segmap_nested_task_130062_iter;
    int64_t *futhark_mc_segmap_parloop_130055_total_runtime;
    int *futhark_mc_segmap_parloop_130055_runs;
    int64_t *futhark_mc_segmap_parloop_130055_iter;
    int64_t futhark_mc_segmap_parloop_130055_total_total_runtime;
    int futhark_mc_segmap_parloop_130055_total_runs;
    int64_t futhark_mc_segmap_parloop_130055_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130053_total_runtime;
    int *futhark_mc_segmap_nested_task_130053_runs;
    int64_t *futhark_mc_segmap_nested_task_130053_iter;
    int64_t *futhark_mc_segmap_parloop_130083_total_runtime;
    int *futhark_mc_segmap_parloop_130083_runs;
    int64_t *futhark_mc_segmap_parloop_130083_iter;
    int64_t futhark_mc_segmap_parloop_130083_total_total_runtime;
    int futhark_mc_segmap_parloop_130083_total_runs;
    int64_t futhark_mc_segmap_parloop_130083_total_iter;
    int64_t *futhark_mc_segmap_task_130081_total_runtime;
    int *futhark_mc_segmap_task_130081_runs;
    int64_t *futhark_mc_segmap_task_130081_iter;
    int64_t futhark_mc_segmap_task_130081_total_time;
    int64_t futhark_mc_segmap_task_130081_total_iter;
    int64_t *futhark_mc_segmap_parloop_130093_total_runtime;
    int *futhark_mc_segmap_parloop_130093_runs;
    int64_t *futhark_mc_segmap_parloop_130093_iter;
    int64_t futhark_mc_segmap_parloop_130093_total_total_runtime;
    int futhark_mc_segmap_parloop_130093_total_runs;
    int64_t futhark_mc_segmap_parloop_130093_total_iter;
    int64_t *futhark_mc_segmap_task_130091_total_runtime;
    int *futhark_mc_segmap_task_130091_runs;
    int64_t *futhark_mc_segmap_task_130091_iter;
    int64_t futhark_mc_segmap_task_130091_total_time;
    int64_t futhark_mc_segmap_task_130091_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130103_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130103_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130103_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130103_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130103_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130103_total_iter;
    int64_t *futhark_mc_segred_task_130100_total_runtime;
    int *futhark_mc_segred_task_130100_runs;
    int64_t *futhark_mc_segred_task_130100_iter;
    int64_t futhark_mc_segred_task_130100_total_time;
    int64_t futhark_mc_segred_task_130100_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130108_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130108_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130108_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130108_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130108_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130108_total_iter;
    int64_t *futhark_mc_segred_task_130105_total_runtime;
    int *futhark_mc_segred_task_130105_runs;
    int64_t *futhark_mc_segred_task_130105_iter;
    int64_t futhark_mc_segred_task_130105_total_time;
    int64_t futhark_mc_segred_task_130105_total_iter;
    int64_t *futhark_mc_segmap_parloop_130097_total_runtime;
    int *futhark_mc_segmap_parloop_130097_runs;
    int64_t *futhark_mc_segmap_parloop_130097_iter;
    int64_t futhark_mc_segmap_parloop_130097_total_total_runtime;
    int futhark_mc_segmap_parloop_130097_total_runs;
    int64_t futhark_mc_segmap_parloop_130097_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130095_total_runtime;
    int *futhark_mc_segmap_nested_task_130095_runs;
    int64_t *futhark_mc_segmap_nested_task_130095_iter;
    int64_t *futhark_mc_segmap_parloop_130088_total_runtime;
    int *futhark_mc_segmap_parloop_130088_runs;
    int64_t *futhark_mc_segmap_parloop_130088_iter;
    int64_t futhark_mc_segmap_parloop_130088_total_total_runtime;
    int futhark_mc_segmap_parloop_130088_total_runs;
    int64_t futhark_mc_segmap_parloop_130088_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130086_total_runtime;
    int *futhark_mc_segmap_nested_task_130086_runs;
    int64_t *futhark_mc_segmap_nested_task_130086_iter;
    int64_t *futhark_mc_segmap_parloop_130112_total_runtime;
    int *futhark_mc_segmap_parloop_130112_runs;
    int64_t *futhark_mc_segmap_parloop_130112_iter;
    int64_t futhark_mc_segmap_parloop_130112_total_total_runtime;
    int futhark_mc_segmap_parloop_130112_total_runs;
    int64_t futhark_mc_segmap_parloop_130112_total_iter;
    int64_t *futhark_mc_segmap_task_130110_total_runtime;
    int *futhark_mc_segmap_task_130110_runs;
    int64_t *futhark_mc_segmap_task_130110_iter;
    int64_t futhark_mc_segmap_task_130110_total_time;
    int64_t futhark_mc_segmap_task_130110_total_iter;
    int64_t *futhark_mc_segmap_parloop_130125_total_runtime;
    int *futhark_mc_segmap_parloop_130125_runs;
    int64_t *futhark_mc_segmap_parloop_130125_iter;
    int64_t futhark_mc_segmap_parloop_130125_total_total_runtime;
    int futhark_mc_segmap_parloop_130125_total_runs;
    int64_t futhark_mc_segmap_parloop_130125_total_iter;
    int64_t *futhark_mc_segmap_task_130123_total_runtime;
    int *futhark_mc_segmap_task_130123_runs;
    int64_t *futhark_mc_segmap_task_130123_iter;
    int64_t futhark_mc_segmap_task_130123_total_time;
    int64_t futhark_mc_segmap_task_130123_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130139_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130139_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130139_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130139_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130139_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130139_total_iter;
    int64_t *futhark_mc_segred_task_130134_total_runtime;
    int *futhark_mc_segred_task_130134_runs;
    int64_t *futhark_mc_segred_task_130134_iter;
    int64_t futhark_mc_segred_task_130134_total_time;
    int64_t futhark_mc_segred_task_130134_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130145_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130145_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130145_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130145_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130145_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130145_total_iter;
    int64_t *futhark_mc_segred_task_130141_total_runtime;
    int *futhark_mc_segred_task_130141_runs;
    int64_t *futhark_mc_segred_task_130141_iter;
    int64_t futhark_mc_segred_task_130141_total_time;
    int64_t futhark_mc_segred_task_130141_total_iter;
    int64_t *futhark_mc_segmap_parloop_130130_total_runtime;
    int *futhark_mc_segmap_parloop_130130_runs;
    int64_t *futhark_mc_segmap_parloop_130130_iter;
    int64_t futhark_mc_segmap_parloop_130130_total_total_runtime;
    int futhark_mc_segmap_parloop_130130_total_runs;
    int64_t futhark_mc_segmap_parloop_130130_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130128_total_runtime;
    int *futhark_mc_segmap_nested_task_130128_runs;
    int64_t *futhark_mc_segmap_nested_task_130128_iter;
    int64_t *futhark_mc_segmap_parloop_130119_total_runtime;
    int *futhark_mc_segmap_parloop_130119_runs;
    int64_t *futhark_mc_segmap_parloop_130119_iter;
    int64_t futhark_mc_segmap_parloop_130119_total_total_runtime;
    int futhark_mc_segmap_parloop_130119_total_runs;
    int64_t futhark_mc_segmap_parloop_130119_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130117_total_runtime;
    int *futhark_mc_segmap_nested_task_130117_runs;
    int64_t *futhark_mc_segmap_nested_task_130117_iter;
    int64_t *futhark_mc_segmap_parloop_130149_total_runtime;
    int *futhark_mc_segmap_parloop_130149_runs;
    int64_t *futhark_mc_segmap_parloop_130149_iter;
    int64_t futhark_mc_segmap_parloop_130149_total_total_runtime;
    int futhark_mc_segmap_parloop_130149_total_runs;
    int64_t futhark_mc_segmap_parloop_130149_total_iter;
    int64_t *futhark_mc_segmap_task_130147_total_runtime;
    int *futhark_mc_segmap_task_130147_runs;
    int64_t *futhark_mc_segmap_task_130147_iter;
    int64_t futhark_mc_segmap_task_130147_total_time;
    int64_t futhark_mc_segmap_task_130147_total_iter;
    int64_t *futhark_mc_segmap_parloop_130164_total_runtime;
    int *futhark_mc_segmap_parloop_130164_runs;
    int64_t *futhark_mc_segmap_parloop_130164_iter;
    int64_t futhark_mc_segmap_parloop_130164_total_total_runtime;
    int futhark_mc_segmap_parloop_130164_total_runs;
    int64_t futhark_mc_segmap_parloop_130164_total_iter;
    int64_t *futhark_mc_segmap_task_130162_total_runtime;
    int *futhark_mc_segmap_task_130162_runs;
    int64_t *futhark_mc_segmap_task_130162_iter;
    int64_t futhark_mc_segmap_task_130162_total_time;
    int64_t futhark_mc_segmap_task_130162_total_iter;
    int64_t *futhark_mc_segmap_parloop_130179_total_runtime;
    int *futhark_mc_segmap_parloop_130179_runs;
    int64_t *futhark_mc_segmap_parloop_130179_iter;
    int64_t futhark_mc_segmap_parloop_130179_total_total_runtime;
    int futhark_mc_segmap_parloop_130179_total_runs;
    int64_t futhark_mc_segmap_parloop_130179_total_iter;
    int64_t *futhark_mc_segmap_task_130177_total_runtime;
    int *futhark_mc_segmap_task_130177_runs;
    int64_t *futhark_mc_segmap_task_130177_iter;
    int64_t futhark_mc_segmap_task_130177_total_time;
    int64_t futhark_mc_segmap_task_130177_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130188_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130188_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130188_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130188_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130188_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130188_total_iter;
    int64_t *futhark_mc_segred_task_130181_total_runtime;
    int *futhark_mc_segred_task_130181_runs;
    int64_t *futhark_mc_segred_task_130181_iter;
    int64_t futhark_mc_segred_task_130181_total_time;
    int64_t futhark_mc_segred_task_130181_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130194_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130194_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130194_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130194_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130194_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130194_total_iter;
    int64_t *futhark_mc_segred_task_130190_total_runtime;
    int *futhark_mc_segred_task_130190_runs;
    int64_t *futhark_mc_segred_task_130190_iter;
    int64_t futhark_mc_segred_task_130190_total_time;
    int64_t futhark_mc_segred_task_130190_total_iter;
    int64_t *futhark_mc_segmap_parloop_130171_total_runtime;
    int *futhark_mc_segmap_parloop_130171_runs;
    int64_t *futhark_mc_segmap_parloop_130171_iter;
    int64_t futhark_mc_segmap_parloop_130171_total_total_runtime;
    int futhark_mc_segmap_parloop_130171_total_runs;
    int64_t futhark_mc_segmap_parloop_130171_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130169_total_runtime;
    int *futhark_mc_segmap_nested_task_130169_runs;
    int64_t *futhark_mc_segmap_nested_task_130169_iter;
    int64_t *futhark_mc_segmap_parloop_130158_total_runtime;
    int *futhark_mc_segmap_parloop_130158_runs;
    int64_t *futhark_mc_segmap_parloop_130158_iter;
    int64_t futhark_mc_segmap_parloop_130158_total_total_runtime;
    int futhark_mc_segmap_parloop_130158_total_runs;
    int64_t futhark_mc_segmap_parloop_130158_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130156_total_runtime;
    int *futhark_mc_segmap_nested_task_130156_runs;
    int64_t *futhark_mc_segmap_nested_task_130156_iter;
    int64_t *futhark_mc_segmap_parloop_130198_total_runtime;
    int *futhark_mc_segmap_parloop_130198_runs;
    int64_t *futhark_mc_segmap_parloop_130198_iter;
    int64_t futhark_mc_segmap_parloop_130198_total_total_runtime;
    int futhark_mc_segmap_parloop_130198_total_runs;
    int64_t futhark_mc_segmap_parloop_130198_total_iter;
    int64_t *futhark_mc_segmap_task_130196_total_runtime;
    int *futhark_mc_segmap_task_130196_runs;
    int64_t *futhark_mc_segmap_task_130196_iter;
    int64_t futhark_mc_segmap_task_130196_total_time;
    int64_t futhark_mc_segmap_task_130196_total_iter;
    int64_t *futhark_mc_segmap_parloop_130207_total_runtime;
    int *futhark_mc_segmap_parloop_130207_runs;
    int64_t *futhark_mc_segmap_parloop_130207_iter;
    int64_t futhark_mc_segmap_parloop_130207_total_total_runtime;
    int futhark_mc_segmap_parloop_130207_total_runs;
    int64_t futhark_mc_segmap_parloop_130207_total_iter;
    int64_t *futhark_mc_segmap_task_130205_total_runtime;
    int *futhark_mc_segmap_task_130205_runs;
    int64_t *futhark_mc_segmap_task_130205_iter;
    int64_t futhark_mc_segmap_task_130205_total_time;
    int64_t futhark_mc_segmap_task_130205_total_iter;
    int64_t *futhark_mc_segmap_parloop_130202_total_runtime;
    int *futhark_mc_segmap_parloop_130202_runs;
    int64_t *futhark_mc_segmap_parloop_130202_iter;
    int64_t futhark_mc_segmap_parloop_130202_total_total_runtime;
    int futhark_mc_segmap_parloop_130202_total_runs;
    int64_t futhark_mc_segmap_parloop_130202_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130200_total_runtime;
    int *futhark_mc_segmap_nested_task_130200_runs;
    int64_t *futhark_mc_segmap_nested_task_130200_iter;
    int64_t *futhark_mc_segmap_parloop_130211_total_runtime;
    int *futhark_mc_segmap_parloop_130211_runs;
    int64_t *futhark_mc_segmap_parloop_130211_iter;
    int64_t futhark_mc_segmap_parloop_130211_total_total_runtime;
    int futhark_mc_segmap_parloop_130211_total_runs;
    int64_t futhark_mc_segmap_parloop_130211_total_iter;
    int64_t *futhark_mc_segmap_task_130209_total_runtime;
    int *futhark_mc_segmap_task_130209_runs;
    int64_t *futhark_mc_segmap_task_130209_iter;
    int64_t futhark_mc_segmap_task_130209_total_time;
    int64_t futhark_mc_segmap_task_130209_total_iter;
    int64_t *futhark_mc_segmap_parloop_130226_total_runtime;
    int *futhark_mc_segmap_parloop_130226_runs;
    int64_t *futhark_mc_segmap_parloop_130226_iter;
    int64_t futhark_mc_segmap_parloop_130226_total_total_runtime;
    int futhark_mc_segmap_parloop_130226_total_runs;
    int64_t futhark_mc_segmap_parloop_130226_total_iter;
    int64_t *futhark_mc_segmap_task_130224_total_runtime;
    int *futhark_mc_segmap_task_130224_runs;
    int64_t *futhark_mc_segmap_task_130224_iter;
    int64_t futhark_mc_segmap_task_130224_total_time;
    int64_t futhark_mc_segmap_task_130224_total_iter;
    int64_t *futhark_mc_segmap_parloop_130230_total_runtime;
    int *futhark_mc_segmap_parloop_130230_runs;
    int64_t *futhark_mc_segmap_parloop_130230_iter;
    int64_t futhark_mc_segmap_parloop_130230_total_total_runtime;
    int futhark_mc_segmap_parloop_130230_total_runs;
    int64_t futhark_mc_segmap_parloop_130230_total_iter;
    int64_t *futhark_mc_segmap_task_130228_total_runtime;
    int *futhark_mc_segmap_task_130228_runs;
    int64_t *futhark_mc_segmap_task_130228_iter;
    int64_t futhark_mc_segmap_task_130228_total_time;
    int64_t futhark_mc_segmap_task_130228_total_iter;
    int64_t *futhark_mc_segmap_parloop_130218_total_runtime;
    int *futhark_mc_segmap_parloop_130218_runs;
    int64_t *futhark_mc_segmap_parloop_130218_iter;
    int64_t futhark_mc_segmap_parloop_130218_total_total_runtime;
    int futhark_mc_segmap_parloop_130218_total_runs;
    int64_t futhark_mc_segmap_parloop_130218_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130216_total_runtime;
    int *futhark_mc_segmap_nested_task_130216_runs;
    int64_t *futhark_mc_segmap_nested_task_130216_iter;
    int64_t *futhark_mc_segmap_parloop_130234_total_runtime;
    int *futhark_mc_segmap_parloop_130234_runs;
    int64_t *futhark_mc_segmap_parloop_130234_iter;
    int64_t futhark_mc_segmap_parloop_130234_total_total_runtime;
    int futhark_mc_segmap_parloop_130234_total_runs;
    int64_t futhark_mc_segmap_parloop_130234_total_iter;
    int64_t *futhark_mc_segmap_task_130232_total_runtime;
    int *futhark_mc_segmap_task_130232_runs;
    int64_t *futhark_mc_segmap_task_130232_iter;
    int64_t futhark_mc_segmap_task_130232_total_time;
    int64_t futhark_mc_segmap_task_130232_total_iter;
    int64_t *futhark_mc_segmap_parloop_130243_total_runtime;
    int *futhark_mc_segmap_parloop_130243_runs;
    int64_t *futhark_mc_segmap_parloop_130243_iter;
    int64_t futhark_mc_segmap_parloop_130243_total_total_runtime;
    int futhark_mc_segmap_parloop_130243_total_runs;
    int64_t futhark_mc_segmap_parloop_130243_total_iter;
    int64_t *futhark_mc_segmap_task_130241_total_runtime;
    int *futhark_mc_segmap_task_130241_runs;
    int64_t *futhark_mc_segmap_task_130241_iter;
    int64_t futhark_mc_segmap_task_130241_total_time;
    int64_t futhark_mc_segmap_task_130241_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130251_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130251_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130251_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130251_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130251_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130251_total_iter;
    int64_t *futhark_mc_segred_task_130248_total_runtime;
    int *futhark_mc_segred_task_130248_runs;
    int64_t *futhark_mc_segred_task_130248_iter;
    int64_t futhark_mc_segred_task_130248_total_time;
    int64_t futhark_mc_segred_task_130248_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130256_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130256_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130256_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130256_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130256_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130256_total_iter;
    int64_t *futhark_mc_segred_task_130253_total_runtime;
    int *futhark_mc_segred_task_130253_runs;
    int64_t *futhark_mc_segred_task_130253_iter;
    int64_t futhark_mc_segred_task_130253_total_time;
    int64_t futhark_mc_segred_task_130253_total_iter;
    int64_t *futhark_mc_segmap_parloop_130246_total_runtime;
    int *futhark_mc_segmap_parloop_130246_runs;
    int64_t *futhark_mc_segmap_parloop_130246_iter;
    int64_t futhark_mc_segmap_parloop_130246_total_total_runtime;
    int futhark_mc_segmap_parloop_130246_total_runs;
    int64_t futhark_mc_segmap_parloop_130246_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130244_total_runtime;
    int *futhark_mc_segmap_nested_task_130244_runs;
    int64_t *futhark_mc_segmap_nested_task_130244_iter;
    int64_t *futhark_mc_segmap_parloop_130238_total_runtime;
    int *futhark_mc_segmap_parloop_130238_runs;
    int64_t *futhark_mc_segmap_parloop_130238_iter;
    int64_t futhark_mc_segmap_parloop_130238_total_total_runtime;
    int futhark_mc_segmap_parloop_130238_total_runs;
    int64_t futhark_mc_segmap_parloop_130238_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130236_total_runtime;
    int *futhark_mc_segmap_nested_task_130236_runs;
    int64_t *futhark_mc_segmap_nested_task_130236_iter;
    int64_t *futhark_mc_segmap_parloop_130260_total_runtime;
    int *futhark_mc_segmap_parloop_130260_runs;
    int64_t *futhark_mc_segmap_parloop_130260_iter;
    int64_t futhark_mc_segmap_parloop_130260_total_total_runtime;
    int futhark_mc_segmap_parloop_130260_total_runs;
    int64_t futhark_mc_segmap_parloop_130260_total_iter;
    int64_t *futhark_mc_segmap_task_130258_total_runtime;
    int *futhark_mc_segmap_task_130258_runs;
    int64_t *futhark_mc_segmap_task_130258_iter;
    int64_t futhark_mc_segmap_task_130258_total_time;
    int64_t futhark_mc_segmap_task_130258_total_iter;
    int64_t *futhark_mc_segmap_parloop_130271_total_runtime;
    int *futhark_mc_segmap_parloop_130271_runs;
    int64_t *futhark_mc_segmap_parloop_130271_iter;
    int64_t futhark_mc_segmap_parloop_130271_total_total_runtime;
    int futhark_mc_segmap_parloop_130271_total_runs;
    int64_t futhark_mc_segmap_parloop_130271_total_iter;
    int64_t *futhark_mc_segmap_task_130269_total_runtime;
    int *futhark_mc_segmap_task_130269_runs;
    int64_t *futhark_mc_segmap_task_130269_iter;
    int64_t futhark_mc_segmap_task_130269_total_time;
    int64_t futhark_mc_segmap_task_130269_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130281_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130281_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130281_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130281_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130281_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130281_total_iter;
    int64_t *futhark_mc_segred_task_130276_total_runtime;
    int *futhark_mc_segred_task_130276_runs;
    int64_t *futhark_mc_segred_task_130276_iter;
    int64_t futhark_mc_segred_task_130276_total_time;
    int64_t futhark_mc_segred_task_130276_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130287_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130287_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130287_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130287_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130287_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130287_total_iter;
    int64_t *futhark_mc_segred_task_130283_total_runtime;
    int *futhark_mc_segred_task_130283_runs;
    int64_t *futhark_mc_segred_task_130283_iter;
    int64_t futhark_mc_segred_task_130283_total_time;
    int64_t futhark_mc_segred_task_130283_total_iter;
    int64_t *futhark_mc_segmap_parloop_130274_total_runtime;
    int *futhark_mc_segmap_parloop_130274_runs;
    int64_t *futhark_mc_segmap_parloop_130274_iter;
    int64_t futhark_mc_segmap_parloop_130274_total_total_runtime;
    int futhark_mc_segmap_parloop_130274_total_runs;
    int64_t futhark_mc_segmap_parloop_130274_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130272_total_runtime;
    int *futhark_mc_segmap_nested_task_130272_runs;
    int64_t *futhark_mc_segmap_nested_task_130272_iter;
    int64_t *futhark_mc_segmap_parloop_130265_total_runtime;
    int *futhark_mc_segmap_parloop_130265_runs;
    int64_t *futhark_mc_segmap_parloop_130265_iter;
    int64_t futhark_mc_segmap_parloop_130265_total_total_runtime;
    int futhark_mc_segmap_parloop_130265_total_runs;
    int64_t futhark_mc_segmap_parloop_130265_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130263_total_runtime;
    int *futhark_mc_segmap_nested_task_130263_runs;
    int64_t *futhark_mc_segmap_nested_task_130263_iter;
    int64_t *futhark_mc_segmap_parloop_130291_total_runtime;
    int *futhark_mc_segmap_parloop_130291_runs;
    int64_t *futhark_mc_segmap_parloop_130291_iter;
    int64_t futhark_mc_segmap_parloop_130291_total_total_runtime;
    int futhark_mc_segmap_parloop_130291_total_runs;
    int64_t futhark_mc_segmap_parloop_130291_total_iter;
    int64_t *futhark_mc_segmap_task_130289_total_runtime;
    int *futhark_mc_segmap_task_130289_runs;
    int64_t *futhark_mc_segmap_task_130289_iter;
    int64_t futhark_mc_segmap_task_130289_total_time;
    int64_t futhark_mc_segmap_task_130289_total_iter;
    int64_t *futhark_mc_segmap_parloop_130302_total_runtime;
    int *futhark_mc_segmap_parloop_130302_runs;
    int64_t *futhark_mc_segmap_parloop_130302_iter;
    int64_t futhark_mc_segmap_parloop_130302_total_total_runtime;
    int futhark_mc_segmap_parloop_130302_total_runs;
    int64_t futhark_mc_segmap_parloop_130302_total_iter;
    int64_t *futhark_mc_segmap_task_130300_total_runtime;
    int *futhark_mc_segmap_task_130300_runs;
    int64_t *futhark_mc_segmap_task_130300_iter;
    int64_t futhark_mc_segmap_task_130300_total_time;
    int64_t futhark_mc_segmap_task_130300_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130314_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130314_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130314_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130314_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130314_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130314_total_iter;
    int64_t *futhark_mc_segred_task_130307_total_runtime;
    int *futhark_mc_segred_task_130307_runs;
    int64_t *futhark_mc_segred_task_130307_iter;
    int64_t futhark_mc_segred_task_130307_total_time;
    int64_t futhark_mc_segred_task_130307_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130320_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130320_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130320_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130320_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130320_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130320_total_iter;
    int64_t *futhark_mc_segred_task_130316_total_runtime;
    int *futhark_mc_segred_task_130316_runs;
    int64_t *futhark_mc_segred_task_130316_iter;
    int64_t futhark_mc_segred_task_130316_total_time;
    int64_t futhark_mc_segred_task_130316_total_iter;
    int64_t *futhark_mc_segmap_parloop_130305_total_runtime;
    int *futhark_mc_segmap_parloop_130305_runs;
    int64_t *futhark_mc_segmap_parloop_130305_iter;
    int64_t futhark_mc_segmap_parloop_130305_total_total_runtime;
    int futhark_mc_segmap_parloop_130305_total_runs;
    int64_t futhark_mc_segmap_parloop_130305_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130303_total_runtime;
    int *futhark_mc_segmap_nested_task_130303_runs;
    int64_t *futhark_mc_segmap_nested_task_130303_iter;
    int64_t *futhark_mc_segmap_parloop_130296_total_runtime;
    int *futhark_mc_segmap_parloop_130296_runs;
    int64_t *futhark_mc_segmap_parloop_130296_iter;
    int64_t futhark_mc_segmap_parloop_130296_total_total_runtime;
    int futhark_mc_segmap_parloop_130296_total_runs;
    int64_t futhark_mc_segmap_parloop_130296_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130294_total_runtime;
    int *futhark_mc_segmap_nested_task_130294_runs;
    int64_t *futhark_mc_segmap_nested_task_130294_iter;
    int64_t *futhark_mc_segmap_parloop_130324_total_runtime;
    int *futhark_mc_segmap_parloop_130324_runs;
    int64_t *futhark_mc_segmap_parloop_130324_iter;
    int64_t futhark_mc_segmap_parloop_130324_total_total_runtime;
    int futhark_mc_segmap_parloop_130324_total_runs;
    int64_t futhark_mc_segmap_parloop_130324_total_iter;
    int64_t *futhark_mc_segmap_task_130322_total_runtime;
    int *futhark_mc_segmap_task_130322_runs;
    int64_t *futhark_mc_segmap_task_130322_iter;
    int64_t futhark_mc_segmap_task_130322_total_time;
    int64_t futhark_mc_segmap_task_130322_total_iter;
    int64_t *futhark_mc_segmap_parloop_130334_total_runtime;
    int *futhark_mc_segmap_parloop_130334_runs;
    int64_t *futhark_mc_segmap_parloop_130334_iter;
    int64_t futhark_mc_segmap_parloop_130334_total_total_runtime;
    int futhark_mc_segmap_parloop_130334_total_runs;
    int64_t futhark_mc_segmap_parloop_130334_total_iter;
    int64_t *futhark_mc_segmap_task_130332_total_runtime;
    int *futhark_mc_segmap_task_130332_runs;
    int64_t *futhark_mc_segmap_task_130332_iter;
    int64_t futhark_mc_segmap_task_130332_total_time;
    int64_t futhark_mc_segmap_task_130332_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130344_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130344_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130344_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130344_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130344_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130344_total_iter;
    int64_t *futhark_mc_segred_task_130341_total_runtime;
    int *futhark_mc_segred_task_130341_runs;
    int64_t *futhark_mc_segred_task_130341_iter;
    int64_t futhark_mc_segred_task_130341_total_time;
    int64_t futhark_mc_segred_task_130341_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130349_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130349_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130349_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130349_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130349_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130349_total_iter;
    int64_t *futhark_mc_segred_task_130346_total_runtime;
    int *futhark_mc_segred_task_130346_runs;
    int64_t *futhark_mc_segred_task_130346_iter;
    int64_t futhark_mc_segred_task_130346_total_time;
    int64_t futhark_mc_segred_task_130346_total_iter;
    int64_t *futhark_mc_segmap_parloop_130338_total_runtime;
    int *futhark_mc_segmap_parloop_130338_runs;
    int64_t *futhark_mc_segmap_parloop_130338_iter;
    int64_t futhark_mc_segmap_parloop_130338_total_total_runtime;
    int futhark_mc_segmap_parloop_130338_total_runs;
    int64_t futhark_mc_segmap_parloop_130338_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130336_total_runtime;
    int *futhark_mc_segmap_nested_task_130336_runs;
    int64_t *futhark_mc_segmap_nested_task_130336_iter;
    int64_t *futhark_mc_segmap_parloop_130329_total_runtime;
    int *futhark_mc_segmap_parloop_130329_runs;
    int64_t *futhark_mc_segmap_parloop_130329_iter;
    int64_t futhark_mc_segmap_parloop_130329_total_total_runtime;
    int futhark_mc_segmap_parloop_130329_total_runs;
    int64_t futhark_mc_segmap_parloop_130329_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130327_total_runtime;
    int *futhark_mc_segmap_nested_task_130327_runs;
    int64_t *futhark_mc_segmap_nested_task_130327_iter;
    int64_t *futhark_mc_segmap_parloop_130353_total_runtime;
    int *futhark_mc_segmap_parloop_130353_runs;
    int64_t *futhark_mc_segmap_parloop_130353_iter;
    int64_t futhark_mc_segmap_parloop_130353_total_total_runtime;
    int futhark_mc_segmap_parloop_130353_total_runs;
    int64_t futhark_mc_segmap_parloop_130353_total_iter;
    int64_t *futhark_mc_segmap_task_130351_total_runtime;
    int *futhark_mc_segmap_task_130351_runs;
    int64_t *futhark_mc_segmap_task_130351_iter;
    int64_t futhark_mc_segmap_task_130351_total_time;
    int64_t futhark_mc_segmap_task_130351_total_iter;
    int64_t *futhark_mc_segmap_parloop_130366_total_runtime;
    int *futhark_mc_segmap_parloop_130366_runs;
    int64_t *futhark_mc_segmap_parloop_130366_iter;
    int64_t futhark_mc_segmap_parloop_130366_total_total_runtime;
    int futhark_mc_segmap_parloop_130366_total_runs;
    int64_t futhark_mc_segmap_parloop_130366_total_iter;
    int64_t *futhark_mc_segmap_task_130364_total_runtime;
    int *futhark_mc_segmap_task_130364_runs;
    int64_t *futhark_mc_segmap_task_130364_iter;
    int64_t futhark_mc_segmap_task_130364_total_time;
    int64_t futhark_mc_segmap_task_130364_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130380_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130380_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130380_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130380_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130380_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130380_total_iter;
    int64_t *futhark_mc_segred_task_130375_total_runtime;
    int *futhark_mc_segred_task_130375_runs;
    int64_t *futhark_mc_segred_task_130375_iter;
    int64_t futhark_mc_segred_task_130375_total_time;
    int64_t futhark_mc_segred_task_130375_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130386_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130386_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130386_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130386_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130386_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130386_total_iter;
    int64_t *futhark_mc_segred_task_130382_total_runtime;
    int *futhark_mc_segred_task_130382_runs;
    int64_t *futhark_mc_segred_task_130382_iter;
    int64_t futhark_mc_segred_task_130382_total_time;
    int64_t futhark_mc_segred_task_130382_total_iter;
    int64_t *futhark_mc_segmap_parloop_130371_total_runtime;
    int *futhark_mc_segmap_parloop_130371_runs;
    int64_t *futhark_mc_segmap_parloop_130371_iter;
    int64_t futhark_mc_segmap_parloop_130371_total_total_runtime;
    int futhark_mc_segmap_parloop_130371_total_runs;
    int64_t futhark_mc_segmap_parloop_130371_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130369_total_runtime;
    int *futhark_mc_segmap_nested_task_130369_runs;
    int64_t *futhark_mc_segmap_nested_task_130369_iter;
    int64_t *futhark_mc_segmap_parloop_130360_total_runtime;
    int *futhark_mc_segmap_parloop_130360_runs;
    int64_t *futhark_mc_segmap_parloop_130360_iter;
    int64_t futhark_mc_segmap_parloop_130360_total_total_runtime;
    int futhark_mc_segmap_parloop_130360_total_runs;
    int64_t futhark_mc_segmap_parloop_130360_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130358_total_runtime;
    int *futhark_mc_segmap_nested_task_130358_runs;
    int64_t *futhark_mc_segmap_nested_task_130358_iter;
    int64_t *futhark_mc_segmap_parloop_130390_total_runtime;
    int *futhark_mc_segmap_parloop_130390_runs;
    int64_t *futhark_mc_segmap_parloop_130390_iter;
    int64_t futhark_mc_segmap_parloop_130390_total_total_runtime;
    int futhark_mc_segmap_parloop_130390_total_runs;
    int64_t futhark_mc_segmap_parloop_130390_total_iter;
    int64_t *futhark_mc_segmap_task_130388_total_runtime;
    int *futhark_mc_segmap_task_130388_runs;
    int64_t *futhark_mc_segmap_task_130388_iter;
    int64_t futhark_mc_segmap_task_130388_total_time;
    int64_t futhark_mc_segmap_task_130388_total_iter;
    int64_t *futhark_mc_segmap_parloop_130405_total_runtime;
    int *futhark_mc_segmap_parloop_130405_runs;
    int64_t *futhark_mc_segmap_parloop_130405_iter;
    int64_t futhark_mc_segmap_parloop_130405_total_total_runtime;
    int futhark_mc_segmap_parloop_130405_total_runs;
    int64_t futhark_mc_segmap_parloop_130405_total_iter;
    int64_t *futhark_mc_segmap_task_130403_total_runtime;
    int *futhark_mc_segmap_task_130403_runs;
    int64_t *futhark_mc_segmap_task_130403_iter;
    int64_t futhark_mc_segmap_task_130403_total_time;
    int64_t futhark_mc_segmap_task_130403_total_iter;
    int64_t *futhark_mc_segmap_parloop_130420_total_runtime;
    int *futhark_mc_segmap_parloop_130420_runs;
    int64_t *futhark_mc_segmap_parloop_130420_iter;
    int64_t futhark_mc_segmap_parloop_130420_total_total_runtime;
    int futhark_mc_segmap_parloop_130420_total_runs;
    int64_t futhark_mc_segmap_parloop_130420_total_iter;
    int64_t *futhark_mc_segmap_task_130418_total_runtime;
    int *futhark_mc_segmap_task_130418_runs;
    int64_t *futhark_mc_segmap_task_130418_iter;
    int64_t futhark_mc_segmap_task_130418_total_time;
    int64_t futhark_mc_segmap_task_130418_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130429_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130429_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130429_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130429_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130429_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130429_total_iter;
    int64_t *futhark_mc_segred_task_130422_total_runtime;
    int *futhark_mc_segred_task_130422_runs;
    int64_t *futhark_mc_segred_task_130422_iter;
    int64_t futhark_mc_segred_task_130422_total_time;
    int64_t futhark_mc_segred_task_130422_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130435_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130435_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130435_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130435_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130435_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130435_total_iter;
    int64_t *futhark_mc_segred_task_130431_total_runtime;
    int *futhark_mc_segred_task_130431_runs;
    int64_t *futhark_mc_segred_task_130431_iter;
    int64_t futhark_mc_segred_task_130431_total_time;
    int64_t futhark_mc_segred_task_130431_total_iter;
    int64_t *futhark_mc_segmap_parloop_130412_total_runtime;
    int *futhark_mc_segmap_parloop_130412_runs;
    int64_t *futhark_mc_segmap_parloop_130412_iter;
    int64_t futhark_mc_segmap_parloop_130412_total_total_runtime;
    int futhark_mc_segmap_parloop_130412_total_runs;
    int64_t futhark_mc_segmap_parloop_130412_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130410_total_runtime;
    int *futhark_mc_segmap_nested_task_130410_runs;
    int64_t *futhark_mc_segmap_nested_task_130410_iter;
    int64_t *futhark_mc_segmap_parloop_130399_total_runtime;
    int *futhark_mc_segmap_parloop_130399_runs;
    int64_t *futhark_mc_segmap_parloop_130399_iter;
    int64_t futhark_mc_segmap_parloop_130399_total_total_runtime;
    int futhark_mc_segmap_parloop_130399_total_runs;
    int64_t futhark_mc_segmap_parloop_130399_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130397_total_runtime;
    int *futhark_mc_segmap_nested_task_130397_runs;
    int64_t *futhark_mc_segmap_nested_task_130397_iter;
    int64_t *futhark_mc_segmap_parloop_130439_total_runtime;
    int *futhark_mc_segmap_parloop_130439_runs;
    int64_t *futhark_mc_segmap_parloop_130439_iter;
    int64_t futhark_mc_segmap_parloop_130439_total_total_runtime;
    int futhark_mc_segmap_parloop_130439_total_runs;
    int64_t futhark_mc_segmap_parloop_130439_total_iter;
    int64_t *futhark_mc_segmap_task_130437_total_runtime;
    int *futhark_mc_segmap_task_130437_runs;
    int64_t *futhark_mc_segmap_task_130437_iter;
    int64_t futhark_mc_segmap_task_130437_total_time;
    int64_t futhark_mc_segmap_task_130437_total_iter;
    int64_t *futhark_mc_segmap_parloop_130448_total_runtime;
    int *futhark_mc_segmap_parloop_130448_runs;
    int64_t *futhark_mc_segmap_parloop_130448_iter;
    int64_t futhark_mc_segmap_parloop_130448_total_total_runtime;
    int futhark_mc_segmap_parloop_130448_total_runs;
    int64_t futhark_mc_segmap_parloop_130448_total_iter;
    int64_t *futhark_mc_segmap_task_130446_total_runtime;
    int *futhark_mc_segmap_task_130446_runs;
    int64_t *futhark_mc_segmap_task_130446_iter;
    int64_t futhark_mc_segmap_task_130446_total_time;
    int64_t futhark_mc_segmap_task_130446_total_iter;
    int64_t *futhark_mc_segmap_parloop_130443_total_runtime;
    int *futhark_mc_segmap_parloop_130443_runs;
    int64_t *futhark_mc_segmap_parloop_130443_iter;
    int64_t futhark_mc_segmap_parloop_130443_total_total_runtime;
    int futhark_mc_segmap_parloop_130443_total_runs;
    int64_t futhark_mc_segmap_parloop_130443_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130441_total_runtime;
    int *futhark_mc_segmap_nested_task_130441_runs;
    int64_t *futhark_mc_segmap_nested_task_130441_iter;
    int64_t *futhark_mc_segmap_parloop_130452_total_runtime;
    int *futhark_mc_segmap_parloop_130452_runs;
    int64_t *futhark_mc_segmap_parloop_130452_iter;
    int64_t futhark_mc_segmap_parloop_130452_total_total_runtime;
    int futhark_mc_segmap_parloop_130452_total_runs;
    int64_t futhark_mc_segmap_parloop_130452_total_iter;
    int64_t *futhark_mc_segmap_task_130450_total_runtime;
    int *futhark_mc_segmap_task_130450_runs;
    int64_t *futhark_mc_segmap_task_130450_iter;
    int64_t futhark_mc_segmap_task_130450_total_time;
    int64_t futhark_mc_segmap_task_130450_total_iter;
    int64_t *futhark_mc_segmap_parloop_130461_total_runtime;
    int *futhark_mc_segmap_parloop_130461_runs;
    int64_t *futhark_mc_segmap_parloop_130461_iter;
    int64_t futhark_mc_segmap_parloop_130461_total_total_runtime;
    int futhark_mc_segmap_parloop_130461_total_runs;
    int64_t futhark_mc_segmap_parloop_130461_total_iter;
    int64_t *futhark_mc_segmap_task_130459_total_runtime;
    int *futhark_mc_segmap_task_130459_runs;
    int64_t *futhark_mc_segmap_task_130459_iter;
    int64_t futhark_mc_segmap_task_130459_total_time;
    int64_t futhark_mc_segmap_task_130459_total_iter;
    int64_t *futhark_mc_segmap_parloop_130456_total_runtime;
    int *futhark_mc_segmap_parloop_130456_runs;
    int64_t *futhark_mc_segmap_parloop_130456_iter;
    int64_t futhark_mc_segmap_parloop_130456_total_total_runtime;
    int futhark_mc_segmap_parloop_130456_total_runs;
    int64_t futhark_mc_segmap_parloop_130456_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130454_total_runtime;
    int *futhark_mc_segmap_nested_task_130454_runs;
    int64_t *futhark_mc_segmap_nested_task_130454_iter;
    int64_t *futhark_mc_segmap_parloop_130465_total_runtime;
    int *futhark_mc_segmap_parloop_130465_runs;
    int64_t *futhark_mc_segmap_parloop_130465_iter;
    int64_t futhark_mc_segmap_parloop_130465_total_total_runtime;
    int futhark_mc_segmap_parloop_130465_total_runs;
    int64_t futhark_mc_segmap_parloop_130465_total_iter;
    int64_t *futhark_mc_segmap_task_130463_total_runtime;
    int *futhark_mc_segmap_task_130463_runs;
    int64_t *futhark_mc_segmap_task_130463_iter;
    int64_t futhark_mc_segmap_task_130463_total_time;
    int64_t futhark_mc_segmap_task_130463_total_iter;
    int64_t *futhark_mc_segmap_parloop_130474_total_runtime;
    int *futhark_mc_segmap_parloop_130474_runs;
    int64_t *futhark_mc_segmap_parloop_130474_iter;
    int64_t futhark_mc_segmap_parloop_130474_total_total_runtime;
    int futhark_mc_segmap_parloop_130474_total_runs;
    int64_t futhark_mc_segmap_parloop_130474_total_iter;
    int64_t *futhark_mc_segmap_task_130472_total_runtime;
    int *futhark_mc_segmap_task_130472_runs;
    int64_t *futhark_mc_segmap_task_130472_iter;
    int64_t futhark_mc_segmap_task_130472_total_time;
    int64_t futhark_mc_segmap_task_130472_total_iter;
    int64_t *futhark_mc_segmap_parloop_130469_total_runtime;
    int *futhark_mc_segmap_parloop_130469_runs;
    int64_t *futhark_mc_segmap_parloop_130469_iter;
    int64_t futhark_mc_segmap_parloop_130469_total_total_runtime;
    int futhark_mc_segmap_parloop_130469_total_runs;
    int64_t futhark_mc_segmap_parloop_130469_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130467_total_runtime;
    int *futhark_mc_segmap_nested_task_130467_runs;
    int64_t *futhark_mc_segmap_nested_task_130467_iter;
    int64_t *futhark_mc_segmap_parloop_130478_total_runtime;
    int *futhark_mc_segmap_parloop_130478_runs;
    int64_t *futhark_mc_segmap_parloop_130478_iter;
    int64_t futhark_mc_segmap_parloop_130478_total_total_runtime;
    int futhark_mc_segmap_parloop_130478_total_runs;
    int64_t futhark_mc_segmap_parloop_130478_total_iter;
    int64_t *futhark_mc_segmap_task_130476_total_runtime;
    int *futhark_mc_segmap_task_130476_runs;
    int64_t *futhark_mc_segmap_task_130476_iter;
    int64_t futhark_mc_segmap_task_130476_total_time;
    int64_t futhark_mc_segmap_task_130476_total_iter;
    int64_t *futhark_mc_scan_stage_1_parloop_130503_total_runtime;
    int *futhark_mc_scan_stage_1_parloop_130503_runs;
    int64_t *futhark_mc_scan_stage_1_parloop_130503_iter;
    int64_t futhark_mc_scan_stage_1_parloop_130503_total_total_runtime;
    int futhark_mc_scan_stage_1_parloop_130503_total_runs;
    int64_t futhark_mc_scan_stage_1_parloop_130503_total_iter;
    int64_t *futhark_mc_scan_stage_3_parloop_130505_total_runtime;
    int *futhark_mc_scan_stage_3_parloop_130505_runs;
    int64_t *futhark_mc_scan_stage_3_parloop_130505_iter;
    int64_t futhark_mc_scan_stage_3_parloop_130505_total_total_runtime;
    int futhark_mc_scan_stage_3_parloop_130505_total_runs;
    int64_t futhark_mc_scan_stage_3_parloop_130505_total_iter;
    int64_t *futhark_mc_segscan_task_130497_total_runtime;
    int *futhark_mc_segscan_task_130497_runs;
    int64_t *futhark_mc_segscan_task_130497_iter;
    int64_t futhark_mc_segscan_task_130497_total_time;
    int64_t futhark_mc_segscan_task_130497_total_iter;
    int64_t *futhark_mc_segmap_parloop_130509_total_runtime;
    int *futhark_mc_segmap_parloop_130509_runs;
    int64_t *futhark_mc_segmap_parloop_130509_iter;
    int64_t futhark_mc_segmap_parloop_130509_total_total_runtime;
    int futhark_mc_segmap_parloop_130509_total_runs;
    int64_t futhark_mc_segmap_parloop_130509_total_iter;
    int64_t *futhark_mc_segmap_task_130507_total_runtime;
    int *futhark_mc_segmap_task_130507_runs;
    int64_t *futhark_mc_segmap_task_130507_iter;
    int64_t futhark_mc_segmap_task_130507_total_time;
    int64_t futhark_mc_segmap_task_130507_total_iter;
    int64_t *futhark_mc_segmap_parloop_130488_total_runtime;
    int *futhark_mc_segmap_parloop_130488_runs;
    int64_t *futhark_mc_segmap_parloop_130488_iter;
    int64_t futhark_mc_segmap_parloop_130488_total_total_runtime;
    int futhark_mc_segmap_parloop_130488_total_runs;
    int64_t futhark_mc_segmap_parloop_130488_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130486_total_runtime;
    int *futhark_mc_segmap_nested_task_130486_runs;
    int64_t *futhark_mc_segmap_nested_task_130486_iter;
    int64_t *futhark_mc_segmap_parloop_130513_total_runtime;
    int *futhark_mc_segmap_parloop_130513_runs;
    int64_t *futhark_mc_segmap_parloop_130513_iter;
    int64_t futhark_mc_segmap_parloop_130513_total_total_runtime;
    int futhark_mc_segmap_parloop_130513_total_runs;
    int64_t futhark_mc_segmap_parloop_130513_total_iter;
    int64_t *futhark_mc_segmap_task_130511_total_runtime;
    int *futhark_mc_segmap_task_130511_runs;
    int64_t *futhark_mc_segmap_task_130511_iter;
    int64_t futhark_mc_segmap_task_130511_total_time;
    int64_t futhark_mc_segmap_task_130511_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_130521_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_130521_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_130521_iter;
    int64_t futhark_mc_segred_stage_1_parloop_130521_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_130521_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_130521_total_iter;
    int64_t *futhark_mc_segred_task_130518_total_runtime;
    int *futhark_mc_segred_task_130518_runs;
    int64_t *futhark_mc_segred_task_130518_iter;
    int64_t futhark_mc_segred_task_130518_total_time;
    int64_t futhark_mc_segred_task_130518_total_iter;
    int64_t *futhark_mc_segmap_parloop_130516_total_runtime;
    int *futhark_mc_segmap_parloop_130516_runs;
    int64_t *futhark_mc_segmap_parloop_130516_iter;
    int64_t futhark_mc_segmap_parloop_130516_total_total_runtime;
    int futhark_mc_segmap_parloop_130516_total_runs;
    int64_t futhark_mc_segmap_parloop_130516_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130514_total_runtime;
    int *futhark_mc_segmap_nested_task_130514_runs;
    int64_t *futhark_mc_segmap_nested_task_130514_iter;
    int64_t *futhark_mc_segmap_parloop_130525_total_runtime;
    int *futhark_mc_segmap_parloop_130525_runs;
    int64_t *futhark_mc_segmap_parloop_130525_iter;
    int64_t futhark_mc_segmap_parloop_130525_total_total_runtime;
    int futhark_mc_segmap_parloop_130525_total_runs;
    int64_t futhark_mc_segmap_parloop_130525_total_iter;
    int64_t *futhark_mc_segmap_task_130523_total_runtime;
    int *futhark_mc_segmap_task_130523_runs;
    int64_t *futhark_mc_segmap_task_130523_iter;
    int64_t futhark_mc_segmap_task_130523_total_time;
    int64_t futhark_mc_segmap_task_130523_total_iter;
    int64_t *futhark_mc_segmap_parloop_130534_total_runtime;
    int *futhark_mc_segmap_parloop_130534_runs;
    int64_t *futhark_mc_segmap_parloop_130534_iter;
    int64_t futhark_mc_segmap_parloop_130534_total_total_runtime;
    int futhark_mc_segmap_parloop_130534_total_runs;
    int64_t futhark_mc_segmap_parloop_130534_total_iter;
    int64_t *futhark_mc_segmap_task_130532_total_runtime;
    int *futhark_mc_segmap_task_130532_runs;
    int64_t *futhark_mc_segmap_task_130532_iter;
    int64_t futhark_mc_segmap_task_130532_total_time;
    int64_t futhark_mc_segmap_task_130532_total_iter;
    int64_t *futhark_mc_segmap_parloop_130529_total_runtime;
    int *futhark_mc_segmap_parloop_130529_runs;
    int64_t *futhark_mc_segmap_parloop_130529_iter;
    int64_t futhark_mc_segmap_parloop_130529_total_total_runtime;
    int futhark_mc_segmap_parloop_130529_total_runs;
    int64_t futhark_mc_segmap_parloop_130529_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130527_total_runtime;
    int *futhark_mc_segmap_nested_task_130527_runs;
    int64_t *futhark_mc_segmap_nested_task_130527_iter;
    int64_t *futhark_mc_segmap_parloop_130538_total_runtime;
    int *futhark_mc_segmap_parloop_130538_runs;
    int64_t *futhark_mc_segmap_parloop_130538_iter;
    int64_t futhark_mc_segmap_parloop_130538_total_total_runtime;
    int futhark_mc_segmap_parloop_130538_total_runs;
    int64_t futhark_mc_segmap_parloop_130538_total_iter;
    int64_t *futhark_mc_segmap_task_130536_total_runtime;
    int *futhark_mc_segmap_task_130536_runs;
    int64_t *futhark_mc_segmap_task_130536_iter;
    int64_t futhark_mc_segmap_task_130536_total_time;
    int64_t futhark_mc_segmap_task_130536_total_iter;
    int64_t *futhark_mc_segmap_parloop_130547_total_runtime;
    int *futhark_mc_segmap_parloop_130547_runs;
    int64_t *futhark_mc_segmap_parloop_130547_iter;
    int64_t futhark_mc_segmap_parloop_130547_total_total_runtime;
    int futhark_mc_segmap_parloop_130547_total_runs;
    int64_t futhark_mc_segmap_parloop_130547_total_iter;
    int64_t *futhark_mc_segmap_task_130545_total_runtime;
    int *futhark_mc_segmap_task_130545_runs;
    int64_t *futhark_mc_segmap_task_130545_iter;
    int64_t futhark_mc_segmap_task_130545_total_time;
    int64_t futhark_mc_segmap_task_130545_total_iter;
    int64_t *futhark_mc_segmap_parloop_130542_total_runtime;
    int *futhark_mc_segmap_parloop_130542_runs;
    int64_t *futhark_mc_segmap_parloop_130542_iter;
    int64_t futhark_mc_segmap_parloop_130542_total_total_runtime;
    int futhark_mc_segmap_parloop_130542_total_runs;
    int64_t futhark_mc_segmap_parloop_130542_total_iter;
    int64_t *futhark_mc_segmap_nested_task_130540_total_runtime;
    int *futhark_mc_segmap_nested_task_130540_runs;
    int64_t *futhark_mc_segmap_nested_task_130540_iter;
    int64_t tuning_timing;
    int64_t tuning_iter;
};
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg)
{
    struct futhark_context *ctx =
                           (struct futhark_context *) malloc(sizeof(struct futhark_context));
    
    if (ctx == NULL)
        return NULL;
    fast_srand(time(0));
    ctx->detail_memory = cfg->debugging;
    ctx->debugging = cfg->debugging;
    ctx->profiling = cfg->profiling;
    ctx->profiling_paused = 0;
    ctx->logging = 0;
    ctx->error = NULL;
    ctx->log = stderr;
    create_lock(&ctx->lock);
    
    int tune_kappa = 0;
    double kappa = 5.1f * 1000;
    
    if (tune_kappa) {
        if (determine_kappa(&kappa) != 0)
            return NULL;
    }
    if (scheduler_init(&ctx->scheduler, cfg->num_threads >
                       0 ? cfg->num_threads : num_processors(), kappa) != 0)
        return NULL;
    ctx->peak_mem_usage_default = 0;
    ctx->cur_mem_usage_default = 0;
    ctx->futhark_mc_segmap_parloop_129751_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129751_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129751_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129751_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129751_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129751_total_iter = 0;
    ctx->futhark_mc_segmap_task_129749_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129749_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129749_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129749_total_time = 0;
    ctx->futhark_mc_segmap_task_129749_total_iter = 0;
    ctx->futhark_mc_scan_stage_1_parloop_129763_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_129763_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_129763_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_129763_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_1_parloop_129763_total_runs = 0;
    ctx->futhark_mc_scan_stage_1_parloop_129763_total_iter = 0;
    ctx->futhark_mc_scan_stage_3_parloop_129765_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_129765_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_129765_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_129765_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_3_parloop_129765_total_runs = 0;
    ctx->futhark_mc_scan_stage_3_parloop_129765_total_iter = 0;
    ctx->futhark_mc_segscan_task_129760_total_runtime = calloc(sizeof(int64_t),
                                                               ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_129760_runs = calloc(sizeof(int),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_129760_iter = calloc(sizeof(sizeof(int64_t)),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_129760_total_time = 0;
    ctx->futhark_mc_segscan_task_129760_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129769_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129769_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129769_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129769_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129769_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129769_total_iter = 0;
    ctx->futhark_mc_segmap_task_129767_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129767_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129767_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129767_total_time = 0;
    ctx->futhark_mc_segmap_task_129767_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129756_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129756_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129756_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129756_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129756_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129756_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129754_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129754_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129754_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129773_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129773_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129773_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129773_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129773_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129773_total_iter = 0;
    ctx->futhark_mc_segmap_task_129771_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129771_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129771_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129771_total_time = 0;
    ctx->futhark_mc_segmap_task_129771_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129782_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129782_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129782_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129782_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129782_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129782_total_iter = 0;
    ctx->futhark_mc_segmap_task_129780_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129780_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129780_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129780_total_time = 0;
    ctx->futhark_mc_segmap_task_129780_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129777_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129777_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129777_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129777_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129777_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129777_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129775_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129775_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129775_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129786_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129786_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129786_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129786_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129786_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129786_total_iter = 0;
    ctx->futhark_mc_segmap_task_129784_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129784_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129784_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129784_total_time = 0;
    ctx->futhark_mc_segmap_task_129784_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129795_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129795_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129795_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129795_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129795_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129795_total_iter = 0;
    ctx->futhark_mc_segmap_task_129793_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129793_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129793_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129793_total_time = 0;
    ctx->futhark_mc_segmap_task_129793_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129790_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129790_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129790_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129790_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129790_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129790_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129788_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129788_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129788_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129799_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129799_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129799_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129799_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129799_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129799_total_iter = 0;
    ctx->futhark_mc_segmap_task_129797_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129797_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129797_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129797_total_time = 0;
    ctx->futhark_mc_segmap_task_129797_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129808_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129808_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129808_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129808_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129808_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129808_total_iter = 0;
    ctx->futhark_mc_segmap_task_129806_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129806_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129806_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129806_total_time = 0;
    ctx->futhark_mc_segmap_task_129806_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129816_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129816_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129816_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129816_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129816_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129816_total_iter = 0;
    ctx->futhark_mc_segred_task_129813_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129813_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129813_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129813_total_time = 0;
    ctx->futhark_mc_segred_task_129813_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129811_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129811_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129811_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129811_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129811_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129811_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129809_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129809_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129809_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129803_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129803_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129803_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129803_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129803_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129803_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129801_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129801_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129801_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129820_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129820_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129820_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129820_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129820_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129820_total_iter = 0;
    ctx->futhark_mc_segmap_task_129818_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129818_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129818_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129818_total_time = 0;
    ctx->futhark_mc_segmap_task_129818_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129833_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129833_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129833_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129833_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129833_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129833_total_iter = 0;
    ctx->futhark_mc_segmap_task_129831_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129831_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129831_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129831_total_time = 0;
    ctx->futhark_mc_segmap_task_129831_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129837_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129837_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129837_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129837_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129837_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129837_total_iter = 0;
    ctx->futhark_mc_segmap_task_129835_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129835_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129835_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129835_total_time = 0;
    ctx->futhark_mc_segmap_task_129835_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129826_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129826_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129826_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129826_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129826_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129826_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129824_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129824_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129824_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129841_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129841_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129841_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129841_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129841_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129841_total_iter = 0;
    ctx->futhark_mc_segmap_task_129839_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129839_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129839_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129839_total_time = 0;
    ctx->futhark_mc_segmap_task_129839_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129854_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129854_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129854_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129854_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129854_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129854_total_iter = 0;
    ctx->futhark_mc_segmap_task_129852_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129852_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129852_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129852_total_time = 0;
    ctx->futhark_mc_segmap_task_129852_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129858_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129858_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129858_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129858_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129858_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129858_total_iter = 0;
    ctx->futhark_mc_segmap_task_129856_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129856_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129856_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129856_total_time = 0;
    ctx->futhark_mc_segmap_task_129856_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129847_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129847_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129847_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129847_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129847_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129847_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129845_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129845_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129845_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129862_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129862_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129862_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129862_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129862_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129862_total_iter = 0;
    ctx->futhark_mc_segmap_task_129860_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129860_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129860_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129860_total_time = 0;
    ctx->futhark_mc_segmap_task_129860_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129871_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129871_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129871_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129871_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129871_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129871_total_iter = 0;
    ctx->futhark_mc_segmap_task_129869_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129869_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129869_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129869_total_time = 0;
    ctx->futhark_mc_segmap_task_129869_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129866_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129866_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129866_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129866_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129866_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129866_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129864_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129864_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129864_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129875_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129875_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129875_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129875_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129875_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129875_total_iter = 0;
    ctx->futhark_mc_segmap_task_129873_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129873_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129873_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129873_total_time = 0;
    ctx->futhark_mc_segmap_task_129873_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129884_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129884_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129884_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129884_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129884_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129884_total_iter = 0;
    ctx->futhark_mc_segmap_task_129882_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129882_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129882_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129882_total_time = 0;
    ctx->futhark_mc_segmap_task_129882_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129892_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129892_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129892_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129892_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129892_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129892_total_iter = 0;
    ctx->futhark_mc_segred_task_129889_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129889_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129889_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129889_total_time = 0;
    ctx->futhark_mc_segred_task_129889_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129887_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129887_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129887_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129887_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129887_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129887_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129885_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129885_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129885_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129879_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129879_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129879_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129879_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129879_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129879_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129877_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129877_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129877_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129896_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129896_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129896_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129896_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129896_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129896_total_iter = 0;
    ctx->futhark_mc_segmap_task_129894_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129894_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129894_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129894_total_time = 0;
    ctx->futhark_mc_segmap_task_129894_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129905_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129905_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129905_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129905_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129905_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129905_total_iter = 0;
    ctx->futhark_mc_segmap_task_129903_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129903_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129903_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129903_total_time = 0;
    ctx->futhark_mc_segmap_task_129903_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129900_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129900_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129900_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129900_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129900_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129900_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129898_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129898_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129898_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129909_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129909_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129909_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129909_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129909_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129909_total_iter = 0;
    ctx->futhark_mc_segmap_task_129907_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129907_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129907_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129907_total_time = 0;
    ctx->futhark_mc_segmap_task_129907_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129917_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129917_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129917_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129917_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129917_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129917_total_iter = 0;
    ctx->futhark_mc_segred_task_129914_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129914_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129914_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129914_total_time = 0;
    ctx->futhark_mc_segred_task_129914_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129912_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129912_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129912_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129912_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129912_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129912_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129910_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129910_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129910_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129921_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129921_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129921_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129921_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129921_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129921_total_iter = 0;
    ctx->futhark_mc_segmap_task_129919_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129919_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129919_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129919_total_time = 0;
    ctx->futhark_mc_segmap_task_129919_total_iter = 0;
    ctx->futhark_mc_scan_stage_1_parloop_129931_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_129931_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_129931_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_129931_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_1_parloop_129931_total_runs = 0;
    ctx->futhark_mc_scan_stage_1_parloop_129931_total_iter = 0;
    ctx->futhark_mc_scan_stage_3_parloop_129933_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_129933_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_129933_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_129933_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_3_parloop_129933_total_runs = 0;
    ctx->futhark_mc_scan_stage_3_parloop_129933_total_iter = 0;
    ctx->futhark_mc_segscan_task_129928_total_runtime = calloc(sizeof(int64_t),
                                                               ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_129928_runs = calloc(sizeof(int),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_129928_iter = calloc(sizeof(sizeof(int64_t)),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_129928_total_time = 0;
    ctx->futhark_mc_segscan_task_129928_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129925_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129925_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129925_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129925_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129925_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129925_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129923_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129923_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129923_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129937_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129937_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129937_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129937_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129937_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129937_total_iter = 0;
    ctx->futhark_mc_segmap_task_129935_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129935_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129935_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129935_total_time = 0;
    ctx->futhark_mc_segmap_task_129935_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129945_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129945_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129945_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129945_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129945_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129945_total_iter = 0;
    ctx->futhark_mc_segred_task_129942_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129942_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129942_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129942_total_time = 0;
    ctx->futhark_mc_segred_task_129942_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129940_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129940_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129940_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129940_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129940_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129940_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129938_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129938_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129938_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129949_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129949_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129949_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129949_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129949_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129949_total_iter = 0;
    ctx->futhark_mc_segmap_task_129947_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129947_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129947_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129947_total_time = 0;
    ctx->futhark_mc_segmap_task_129947_total_iter = 0;
    ctx->futhark_mc_scan_stage_1_parloop_129959_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_129959_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_129959_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_129959_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_1_parloop_129959_total_runs = 0;
    ctx->futhark_mc_scan_stage_1_parloop_129959_total_iter = 0;
    ctx->futhark_mc_scan_stage_3_parloop_129961_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_129961_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_129961_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_129961_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_3_parloop_129961_total_runs = 0;
    ctx->futhark_mc_scan_stage_3_parloop_129961_total_iter = 0;
    ctx->futhark_mc_segscan_task_129956_total_runtime = calloc(sizeof(int64_t),
                                                               ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_129956_runs = calloc(sizeof(int),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_129956_iter = calloc(sizeof(sizeof(int64_t)),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_129956_total_time = 0;
    ctx->futhark_mc_segscan_task_129956_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129953_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129953_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129953_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129953_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129953_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129953_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129951_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129951_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129951_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129965_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129965_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129965_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129965_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129965_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129965_total_iter = 0;
    ctx->futhark_mc_segmap_task_129963_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129963_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129963_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129963_total_time = 0;
    ctx->futhark_mc_segmap_task_129963_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129973_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129973_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129973_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_129973_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129973_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_129973_total_iter = 0;
    ctx->futhark_mc_segred_task_129970_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129970_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129970_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_129970_total_time = 0;
    ctx->futhark_mc_segred_task_129970_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129968_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129968_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129968_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129968_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129968_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129968_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129966_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129966_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129966_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129977_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129977_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129977_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129977_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129977_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129977_total_iter = 0;
    ctx->futhark_mc_segmap_task_129975_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129975_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129975_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129975_total_time = 0;
    ctx->futhark_mc_segmap_task_129975_total_iter = 0;
    ctx->futhark_mc_scan_stage_1_parloop_129987_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_129987_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_129987_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_129987_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_1_parloop_129987_total_runs = 0;
    ctx->futhark_mc_scan_stage_1_parloop_129987_total_iter = 0;
    ctx->futhark_mc_scan_stage_3_parloop_129989_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_129989_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_129989_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_129989_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_3_parloop_129989_total_runs = 0;
    ctx->futhark_mc_scan_stage_3_parloop_129989_total_iter = 0;
    ctx->futhark_mc_segscan_task_129984_total_runtime = calloc(sizeof(int64_t),
                                                               ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_129984_runs = calloc(sizeof(int),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_129984_iter = calloc(sizeof(sizeof(int64_t)),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_129984_total_time = 0;
    ctx->futhark_mc_segscan_task_129984_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_129981_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129981_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129981_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129981_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129981_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129981_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129979_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129979_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129979_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129993_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129993_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129993_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129993_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129993_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129993_total_iter = 0;
    ctx->futhark_mc_segmap_task_129991_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129991_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129991_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_129991_total_time = 0;
    ctx->futhark_mc_segmap_task_129991_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130002_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130002_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130002_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130002_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130002_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130002_total_iter = 0;
    ctx->futhark_mc_segmap_task_130000_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130000_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130000_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130000_total_time = 0;
    ctx->futhark_mc_segmap_task_130000_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130010_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130010_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130010_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130010_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130010_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130010_total_iter = 0;
    ctx->futhark_mc_segred_task_130007_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130007_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130007_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130007_total_time = 0;
    ctx->futhark_mc_segred_task_130007_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130015_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130015_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130015_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130015_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130015_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130015_total_iter = 0;
    ctx->futhark_mc_segred_task_130012_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130012_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130012_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130012_total_time = 0;
    ctx->futhark_mc_segred_task_130012_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130005_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130005_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130005_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130005_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130005_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130005_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130003_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130003_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130003_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129997_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129997_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129997_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_129997_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_129997_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_129997_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_129995_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129995_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_129995_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130019_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130019_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130019_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130019_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130019_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130019_total_iter = 0;
    ctx->futhark_mc_segmap_task_130017_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130017_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130017_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130017_total_time = 0;
    ctx->futhark_mc_segmap_task_130017_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130030_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130030_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130030_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130030_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130030_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130030_total_iter = 0;
    ctx->futhark_mc_segmap_task_130028_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130028_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130028_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130028_total_time = 0;
    ctx->futhark_mc_segmap_task_130028_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130040_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130040_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130040_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130040_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130040_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130040_total_iter = 0;
    ctx->futhark_mc_segred_task_130035_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130035_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130035_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130035_total_time = 0;
    ctx->futhark_mc_segred_task_130035_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130046_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130046_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130046_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130046_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130046_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130046_total_iter = 0;
    ctx->futhark_mc_segred_task_130042_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130042_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130042_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130042_total_time = 0;
    ctx->futhark_mc_segred_task_130042_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130033_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130033_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130033_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130033_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130033_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130033_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130031_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130031_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130031_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130024_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130024_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130024_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130024_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130024_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130024_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130022_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130022_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130022_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130050_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130050_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130050_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130050_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130050_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130050_total_iter = 0;
    ctx->futhark_mc_segmap_task_130048_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130048_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130048_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130048_total_time = 0;
    ctx->futhark_mc_segmap_task_130048_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130061_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130061_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130061_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130061_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130061_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130061_total_iter = 0;
    ctx->futhark_mc_segmap_task_130059_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130059_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130059_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130059_total_time = 0;
    ctx->futhark_mc_segmap_task_130059_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130073_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130073_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130073_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130073_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130073_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130073_total_iter = 0;
    ctx->futhark_mc_segred_task_130066_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130066_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130066_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130066_total_time = 0;
    ctx->futhark_mc_segred_task_130066_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130079_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130079_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130079_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130079_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130079_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130079_total_iter = 0;
    ctx->futhark_mc_segred_task_130075_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130075_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130075_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130075_total_time = 0;
    ctx->futhark_mc_segred_task_130075_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130064_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130064_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130064_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130064_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130064_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130064_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130062_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130062_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130062_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130055_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130055_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130055_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130055_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130055_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130055_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130053_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130053_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130053_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130083_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130083_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130083_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130083_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130083_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130083_total_iter = 0;
    ctx->futhark_mc_segmap_task_130081_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130081_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130081_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130081_total_time = 0;
    ctx->futhark_mc_segmap_task_130081_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130093_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130093_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130093_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130093_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130093_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130093_total_iter = 0;
    ctx->futhark_mc_segmap_task_130091_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130091_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130091_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130091_total_time = 0;
    ctx->futhark_mc_segmap_task_130091_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130103_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130103_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130103_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130103_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130103_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130103_total_iter = 0;
    ctx->futhark_mc_segred_task_130100_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130100_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130100_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130100_total_time = 0;
    ctx->futhark_mc_segred_task_130100_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130108_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130108_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130108_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130108_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130108_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130108_total_iter = 0;
    ctx->futhark_mc_segred_task_130105_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130105_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130105_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130105_total_time = 0;
    ctx->futhark_mc_segred_task_130105_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130097_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130097_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130097_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130097_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130097_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130097_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130095_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130095_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130095_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130088_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130088_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130088_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130088_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130088_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130088_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130086_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130086_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130086_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130112_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130112_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130112_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130112_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130112_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130112_total_iter = 0;
    ctx->futhark_mc_segmap_task_130110_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130110_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130110_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130110_total_time = 0;
    ctx->futhark_mc_segmap_task_130110_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130125_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130125_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130125_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130125_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130125_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130125_total_iter = 0;
    ctx->futhark_mc_segmap_task_130123_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130123_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130123_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130123_total_time = 0;
    ctx->futhark_mc_segmap_task_130123_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130139_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130139_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130139_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130139_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130139_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130139_total_iter = 0;
    ctx->futhark_mc_segred_task_130134_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130134_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130134_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130134_total_time = 0;
    ctx->futhark_mc_segred_task_130134_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130145_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130145_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130145_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130145_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130145_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130145_total_iter = 0;
    ctx->futhark_mc_segred_task_130141_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130141_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130141_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130141_total_time = 0;
    ctx->futhark_mc_segred_task_130141_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130130_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130130_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130130_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130130_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130130_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130130_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130128_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130128_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130128_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130119_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130119_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130119_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130119_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130119_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130119_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130117_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130117_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130117_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130149_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130149_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130149_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130149_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130149_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130149_total_iter = 0;
    ctx->futhark_mc_segmap_task_130147_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130147_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130147_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130147_total_time = 0;
    ctx->futhark_mc_segmap_task_130147_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130164_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130164_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130164_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130164_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130164_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130164_total_iter = 0;
    ctx->futhark_mc_segmap_task_130162_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130162_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130162_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130162_total_time = 0;
    ctx->futhark_mc_segmap_task_130162_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130179_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130179_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130179_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130179_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130179_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130179_total_iter = 0;
    ctx->futhark_mc_segmap_task_130177_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130177_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130177_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130177_total_time = 0;
    ctx->futhark_mc_segmap_task_130177_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130188_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130188_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130188_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130188_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130188_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130188_total_iter = 0;
    ctx->futhark_mc_segred_task_130181_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130181_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130181_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130181_total_time = 0;
    ctx->futhark_mc_segred_task_130181_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130194_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130194_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130194_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130194_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130194_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130194_total_iter = 0;
    ctx->futhark_mc_segred_task_130190_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130190_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130190_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130190_total_time = 0;
    ctx->futhark_mc_segred_task_130190_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130171_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130171_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130171_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130171_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130171_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130171_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130169_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130169_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130169_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130158_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130158_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130158_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130158_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130158_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130158_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130156_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130156_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130156_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130198_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130198_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130198_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130198_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130198_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130198_total_iter = 0;
    ctx->futhark_mc_segmap_task_130196_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130196_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130196_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130196_total_time = 0;
    ctx->futhark_mc_segmap_task_130196_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130207_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130207_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130207_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130207_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130207_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130207_total_iter = 0;
    ctx->futhark_mc_segmap_task_130205_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130205_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130205_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130205_total_time = 0;
    ctx->futhark_mc_segmap_task_130205_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130202_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130202_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130202_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130202_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130202_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130202_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130200_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130200_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130200_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130211_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130211_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130211_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130211_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130211_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130211_total_iter = 0;
    ctx->futhark_mc_segmap_task_130209_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130209_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130209_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130209_total_time = 0;
    ctx->futhark_mc_segmap_task_130209_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130226_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130226_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130226_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130226_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130226_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130226_total_iter = 0;
    ctx->futhark_mc_segmap_task_130224_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130224_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130224_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130224_total_time = 0;
    ctx->futhark_mc_segmap_task_130224_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130230_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130230_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130230_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130230_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130230_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130230_total_iter = 0;
    ctx->futhark_mc_segmap_task_130228_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130228_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130228_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130228_total_time = 0;
    ctx->futhark_mc_segmap_task_130228_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130218_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130218_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130218_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130218_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130218_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130218_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130216_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130216_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130216_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130234_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130234_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130234_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130234_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130234_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130234_total_iter = 0;
    ctx->futhark_mc_segmap_task_130232_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130232_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130232_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130232_total_time = 0;
    ctx->futhark_mc_segmap_task_130232_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130243_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130243_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130243_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130243_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130243_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130243_total_iter = 0;
    ctx->futhark_mc_segmap_task_130241_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130241_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130241_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130241_total_time = 0;
    ctx->futhark_mc_segmap_task_130241_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130251_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130251_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130251_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130251_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130251_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130251_total_iter = 0;
    ctx->futhark_mc_segred_task_130248_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130248_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130248_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130248_total_time = 0;
    ctx->futhark_mc_segred_task_130248_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130256_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130256_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130256_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130256_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130256_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130256_total_iter = 0;
    ctx->futhark_mc_segred_task_130253_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130253_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130253_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130253_total_time = 0;
    ctx->futhark_mc_segred_task_130253_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130246_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130246_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130246_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130246_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130246_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130246_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130244_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130244_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130244_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130238_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130238_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130238_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130238_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130238_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130238_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130236_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130236_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130236_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130260_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130260_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130260_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130260_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130260_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130260_total_iter = 0;
    ctx->futhark_mc_segmap_task_130258_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130258_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130258_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130258_total_time = 0;
    ctx->futhark_mc_segmap_task_130258_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130271_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130271_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130271_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130271_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130271_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130271_total_iter = 0;
    ctx->futhark_mc_segmap_task_130269_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130269_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130269_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130269_total_time = 0;
    ctx->futhark_mc_segmap_task_130269_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130281_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130281_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130281_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130281_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130281_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130281_total_iter = 0;
    ctx->futhark_mc_segred_task_130276_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130276_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130276_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130276_total_time = 0;
    ctx->futhark_mc_segred_task_130276_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130287_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130287_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130287_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130287_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130287_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130287_total_iter = 0;
    ctx->futhark_mc_segred_task_130283_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130283_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130283_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130283_total_time = 0;
    ctx->futhark_mc_segred_task_130283_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130274_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130274_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130274_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130274_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130274_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130274_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130272_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130272_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130272_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130265_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130265_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130265_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130265_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130265_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130265_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130263_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130263_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130263_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130291_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130291_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130291_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130291_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130291_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130291_total_iter = 0;
    ctx->futhark_mc_segmap_task_130289_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130289_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130289_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130289_total_time = 0;
    ctx->futhark_mc_segmap_task_130289_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130302_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130302_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130302_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130302_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130302_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130302_total_iter = 0;
    ctx->futhark_mc_segmap_task_130300_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130300_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130300_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130300_total_time = 0;
    ctx->futhark_mc_segmap_task_130300_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130314_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130314_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130314_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130314_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130314_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130314_total_iter = 0;
    ctx->futhark_mc_segred_task_130307_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130307_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130307_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130307_total_time = 0;
    ctx->futhark_mc_segred_task_130307_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130320_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130320_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130320_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130320_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130320_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130320_total_iter = 0;
    ctx->futhark_mc_segred_task_130316_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130316_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130316_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130316_total_time = 0;
    ctx->futhark_mc_segred_task_130316_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130305_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130305_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130305_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130305_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130305_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130305_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130303_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130303_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130303_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130296_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130296_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130296_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130296_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130296_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130296_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130294_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130294_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130294_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130324_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130324_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130324_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130324_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130324_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130324_total_iter = 0;
    ctx->futhark_mc_segmap_task_130322_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130322_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130322_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130322_total_time = 0;
    ctx->futhark_mc_segmap_task_130322_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130334_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130334_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130334_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130334_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130334_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130334_total_iter = 0;
    ctx->futhark_mc_segmap_task_130332_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130332_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130332_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130332_total_time = 0;
    ctx->futhark_mc_segmap_task_130332_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130344_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130344_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130344_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130344_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130344_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130344_total_iter = 0;
    ctx->futhark_mc_segred_task_130341_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130341_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130341_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130341_total_time = 0;
    ctx->futhark_mc_segred_task_130341_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130349_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130349_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130349_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130349_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130349_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130349_total_iter = 0;
    ctx->futhark_mc_segred_task_130346_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130346_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130346_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130346_total_time = 0;
    ctx->futhark_mc_segred_task_130346_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130338_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130338_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130338_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130338_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130338_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130338_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130336_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130336_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130336_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130329_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130329_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130329_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130329_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130329_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130329_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130327_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130327_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130327_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130353_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130353_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130353_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130353_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130353_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130353_total_iter = 0;
    ctx->futhark_mc_segmap_task_130351_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130351_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130351_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130351_total_time = 0;
    ctx->futhark_mc_segmap_task_130351_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130366_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130366_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130366_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130366_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130366_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130366_total_iter = 0;
    ctx->futhark_mc_segmap_task_130364_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130364_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130364_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130364_total_time = 0;
    ctx->futhark_mc_segmap_task_130364_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130380_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130380_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130380_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130380_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130380_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130380_total_iter = 0;
    ctx->futhark_mc_segred_task_130375_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130375_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130375_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130375_total_time = 0;
    ctx->futhark_mc_segred_task_130375_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130386_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130386_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130386_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130386_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130386_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130386_total_iter = 0;
    ctx->futhark_mc_segred_task_130382_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130382_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130382_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130382_total_time = 0;
    ctx->futhark_mc_segred_task_130382_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130371_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130371_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130371_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130371_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130371_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130371_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130369_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130369_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130369_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130360_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130360_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130360_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130360_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130360_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130360_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130358_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130358_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130358_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130390_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130390_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130390_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130390_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130390_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130390_total_iter = 0;
    ctx->futhark_mc_segmap_task_130388_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130388_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130388_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130388_total_time = 0;
    ctx->futhark_mc_segmap_task_130388_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130405_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130405_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130405_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130405_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130405_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130405_total_iter = 0;
    ctx->futhark_mc_segmap_task_130403_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130403_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130403_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130403_total_time = 0;
    ctx->futhark_mc_segmap_task_130403_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130420_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130420_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130420_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130420_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130420_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130420_total_iter = 0;
    ctx->futhark_mc_segmap_task_130418_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130418_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130418_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130418_total_time = 0;
    ctx->futhark_mc_segmap_task_130418_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130429_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130429_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130429_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130429_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130429_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130429_total_iter = 0;
    ctx->futhark_mc_segred_task_130422_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130422_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130422_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130422_total_time = 0;
    ctx->futhark_mc_segred_task_130422_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130435_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130435_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130435_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130435_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130435_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130435_total_iter = 0;
    ctx->futhark_mc_segred_task_130431_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130431_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130431_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130431_total_time = 0;
    ctx->futhark_mc_segred_task_130431_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130412_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130412_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130412_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130412_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130412_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130412_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130410_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130410_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130410_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130399_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130399_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130399_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130399_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130399_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130399_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130397_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130397_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130397_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130439_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130439_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130439_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130439_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130439_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130439_total_iter = 0;
    ctx->futhark_mc_segmap_task_130437_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130437_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130437_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130437_total_time = 0;
    ctx->futhark_mc_segmap_task_130437_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130448_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130448_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130448_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130448_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130448_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130448_total_iter = 0;
    ctx->futhark_mc_segmap_task_130446_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130446_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130446_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130446_total_time = 0;
    ctx->futhark_mc_segmap_task_130446_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130443_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130443_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130443_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130443_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130443_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130443_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130441_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130441_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130441_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130452_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130452_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130452_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130452_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130452_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130452_total_iter = 0;
    ctx->futhark_mc_segmap_task_130450_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130450_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130450_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130450_total_time = 0;
    ctx->futhark_mc_segmap_task_130450_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130461_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130461_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130461_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130461_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130461_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130461_total_iter = 0;
    ctx->futhark_mc_segmap_task_130459_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130459_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130459_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130459_total_time = 0;
    ctx->futhark_mc_segmap_task_130459_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130456_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130456_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130456_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130456_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130456_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130456_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130454_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130454_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130454_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130465_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130465_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130465_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130465_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130465_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130465_total_iter = 0;
    ctx->futhark_mc_segmap_task_130463_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130463_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130463_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130463_total_time = 0;
    ctx->futhark_mc_segmap_task_130463_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130474_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130474_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130474_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130474_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130474_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130474_total_iter = 0;
    ctx->futhark_mc_segmap_task_130472_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130472_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130472_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130472_total_time = 0;
    ctx->futhark_mc_segmap_task_130472_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130469_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130469_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130469_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130469_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130469_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130469_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130467_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130467_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130467_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130478_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130478_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130478_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130478_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130478_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130478_total_iter = 0;
    ctx->futhark_mc_segmap_task_130476_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130476_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130476_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130476_total_time = 0;
    ctx->futhark_mc_segmap_task_130476_total_iter = 0;
    ctx->futhark_mc_scan_stage_1_parloop_130503_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_130503_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_130503_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_1_parloop_130503_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_1_parloop_130503_total_runs = 0;
    ctx->futhark_mc_scan_stage_1_parloop_130503_total_iter = 0;
    ctx->futhark_mc_scan_stage_3_parloop_130505_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_130505_runs = calloc(sizeof(int),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_130505_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_scan_stage_3_parloop_130505_total_total_runtime = 0;
    ctx->futhark_mc_scan_stage_3_parloop_130505_total_runs = 0;
    ctx->futhark_mc_scan_stage_3_parloop_130505_total_iter = 0;
    ctx->futhark_mc_segscan_task_130497_total_runtime = calloc(sizeof(int64_t),
                                                               ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_130497_runs = calloc(sizeof(int),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_130497_iter = calloc(sizeof(sizeof(int64_t)),
                                                      ctx->scheduler.num_threads);
    ctx->futhark_mc_segscan_task_130497_total_time = 0;
    ctx->futhark_mc_segscan_task_130497_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130509_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130509_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130509_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130509_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130509_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130509_total_iter = 0;
    ctx->futhark_mc_segmap_task_130507_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130507_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130507_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130507_total_time = 0;
    ctx->futhark_mc_segmap_task_130507_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130488_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130488_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130488_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130488_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130488_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130488_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130486_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130486_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130486_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130513_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130513_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130513_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130513_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130513_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130513_total_iter = 0;
    ctx->futhark_mc_segmap_task_130511_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130511_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130511_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130511_total_time = 0;
    ctx->futhark_mc_segmap_task_130511_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130521_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130521_runs = calloc(sizeof(int),
                                                                ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130521_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_130521_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130521_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_130521_total_iter = 0;
    ctx->futhark_mc_segred_task_130518_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130518_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130518_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_130518_total_time = 0;
    ctx->futhark_mc_segred_task_130518_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130516_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130516_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130516_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130516_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130516_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130516_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130514_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130514_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130514_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130525_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130525_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130525_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130525_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130525_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130525_total_iter = 0;
    ctx->futhark_mc_segmap_task_130523_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130523_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130523_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130523_total_time = 0;
    ctx->futhark_mc_segmap_task_130523_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130534_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130534_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130534_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130534_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130534_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130534_total_iter = 0;
    ctx->futhark_mc_segmap_task_130532_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130532_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130532_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130532_total_time = 0;
    ctx->futhark_mc_segmap_task_130532_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130529_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130529_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130529_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130529_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130529_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130529_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130527_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130527_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130527_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130538_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130538_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130538_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130538_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130538_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130538_total_iter = 0;
    ctx->futhark_mc_segmap_task_130536_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130536_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130536_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130536_total_time = 0;
    ctx->futhark_mc_segmap_task_130536_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130547_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130547_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130547_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130547_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130547_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130547_total_iter = 0;
    ctx->futhark_mc_segmap_task_130545_total_runtime = calloc(sizeof(int64_t),
                                                              ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130545_runs = calloc(sizeof(int),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130545_iter = calloc(sizeof(sizeof(int64_t)),
                                                     ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_130545_total_time = 0;
    ctx->futhark_mc_segmap_task_130545_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_130542_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130542_runs = calloc(sizeof(int),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130542_iter = calloc(sizeof(sizeof(int64_t)),
                                                        ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_130542_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_130542_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_130542_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_130540_total_runtime =
        calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130540_runs = calloc(sizeof(int),
                                                            ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_130540_iter =
        calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    init_constants(ctx);
    return ctx;
}
void futhark_context_free(struct futhark_context *ctx)
{
    free_constants(ctx);
    (void) scheduler_destroy(&ctx->scheduler);
    free_lock(&ctx->lock);
    free(ctx);
}
int futhark_context_sync(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
static const char *size_names[0];
static const char *size_vars[0];
static const char *size_classes[0];
int futhark_context_config_set_size(struct futhark_context_config *cfg, const
                                    char *size_name, size_t size_value)
{
    (void) cfg;
    (void) size_name;
    (void) size_value;
    return 1;
}
static int memblock_unref(struct futhark_context *ctx, struct memblock *block,
                          const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log,
                    "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n",
                    desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            free(block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log,
                        "%lld bytes freed (now allocated: %lld bytes)\n",
                        (long long) block->size,
                        (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
static int memblock_alloc(struct futhark_context *ctx, struct memblock *block,
                          int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1,
                      "Negative allocation of %lld bytes attempted for %s in %s.\n",
                      (long long) size, desc, "default space",
                      ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    ctx->cur_mem_usage_default += size;
    if (ctx->detail_memory)
        fprintf(ctx->log,
                "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)",
                (long long) size, desc, "default space",
                (long long) ctx->cur_mem_usage_default);
    if (ctx->cur_mem_usage_default > ctx->peak_mem_usage_default) {
        ctx->peak_mem_usage_default = ctx->cur_mem_usage_default;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    block->mem = (char *) malloc(size);
    block->references = (int *) malloc(sizeof(int));
    *block->references = 1;
    block->size = size;
    block->desc = desc;
    return ret;
}
static int memblock_set(struct futhark_context *ctx, struct memblock *lhs,
                        struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
int futhark_get_num_sizes(void)
{
    return sizeof(size_names) / sizeof(size_names[0]);
}
const char *futhark_get_size_name(int i)
{
    return size_names[i];
}
const char *futhark_get_size_class(int i)
{
    return size_classes[i];
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    if (ctx->detail_memory || ctx->profiling || ctx->logging) {
        { }
    }
    if (ctx->profiling) {
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129751         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129751_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129751_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129751_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129751_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129751_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129751_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129751_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129751_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129751_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129751_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129751_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129751_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129751_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129751_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129751_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129751_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129751_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129751_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129751_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129751_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129751_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129751_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129751_total_iter /
                (ctx->futhark_mc_segmap_parloop_129751_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129751_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129751_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129751_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_1_parloop_129763   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_1_parloop_129763_runs[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129763_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_129763_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_129763_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129763_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_1_parloop_129763_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_129763_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_129763_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129763_iter[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129763_iter[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_129763_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_129763_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_1_parloop_129763_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_1_parloop_129763_total_runs,
                (long) ctx->futhark_mc_scan_stage_1_parloop_129763_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_129763_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_129763_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_1_parloop_129763_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_1_parloop_129763_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_129763_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_129763_total_iter),
                (long) ctx->futhark_mc_scan_stage_1_parloop_129763_total_iter,
                (long) ctx->futhark_mc_scan_stage_1_parloop_129763_total_iter /
                (ctx->futhark_mc_scan_stage_1_parloop_129763_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_129763_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_1_parloop_129763_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_1_parloop_129763_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_3_parloop_129765   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_3_parloop_129765_runs[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129765_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_129765_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_129765_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129765_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_3_parloop_129765_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_129765_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_129765_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129765_iter[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129765_iter[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_129765_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_129765_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_3_parloop_129765_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_3_parloop_129765_total_runs,
                (long) ctx->futhark_mc_scan_stage_3_parloop_129765_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_129765_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_129765_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_3_parloop_129765_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_3_parloop_129765_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_129765_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_129765_total_iter),
                (long) ctx->futhark_mc_scan_stage_3_parloop_129765_total_iter,
                (long) ctx->futhark_mc_scan_stage_3_parloop_129765_total_iter /
                (ctx->futhark_mc_scan_stage_3_parloop_129765_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_129765_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_3_parloop_129765_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_3_parloop_129765_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segscan_task_129760           ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segscan_task_129760_runs[i],
                    (long) ctx->futhark_mc_segscan_task_129760_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_129760_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_129760_runs[i] : 1),
                    (long) ctx->futhark_mc_segscan_task_129760_total_runtime[i],
                    (double) ctx->futhark_mc_segscan_task_129760_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_129760_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segscan_task_129760_iter[i]),
                    (long) ctx->futhark_mc_segscan_task_129760_iter[i],
                    (long) ctx->futhark_mc_segscan_task_129760_iter[i] /
                    (ctx->futhark_mc_segscan_task_129760_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_129760_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129769         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129769_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129769_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129769_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129769_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129769_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129769_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129769_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129769_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129769_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129769_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129769_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129769_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129769_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129769_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129769_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129769_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129769_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129769_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129769_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129769_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129769_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129769_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129769_total_iter /
                (ctx->futhark_mc_segmap_parloop_129769_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129769_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129769_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129769_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129767            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129767_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129767_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129767_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129767_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129767_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129767_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129767_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129767_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129767_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129767_iter[i] /
                    (ctx->futhark_mc_segmap_task_129767_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129767_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129756         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129756_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129756_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129756_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129756_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129756_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129756_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129756_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129756_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129756_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129756_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129756_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129756_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129756_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129756_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129756_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129756_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129756_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129756_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129756_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129756_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129756_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129756_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129756_total_iter /
                (ctx->futhark_mc_segmap_parloop_129756_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129756_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129756_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129756_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129749            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129749_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129749_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129749_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129749_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129749_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129749_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129749_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129749_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129749_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129749_iter[i] /
                    (ctx->futhark_mc_segmap_task_129749_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129749_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129754     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129754_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129754_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129754_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129754_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129754_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129754_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129754_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129754_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129754_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129754_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129754_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129754_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129773         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129773_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129773_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129773_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129773_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129773_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129773_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129773_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129773_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129773_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129773_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129773_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129773_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129773_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129773_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129773_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129773_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129773_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129773_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129773_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129773_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129773_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129773_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129773_total_iter /
                (ctx->futhark_mc_segmap_parloop_129773_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129773_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129773_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129773_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129782         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129782_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129782_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129782_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129782_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129782_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129782_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129782_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129782_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129782_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129782_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129782_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129782_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129782_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129782_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129782_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129782_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129782_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129782_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129782_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129782_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129782_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129782_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129782_total_iter /
                (ctx->futhark_mc_segmap_parloop_129782_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129782_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129782_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129782_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129780            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129780_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129780_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129780_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129780_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129780_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129780_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129780_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129780_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129780_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129780_iter[i] /
                    (ctx->futhark_mc_segmap_task_129780_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129780_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129777         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129777_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129777_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129777_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129777_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129777_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129777_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129777_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129777_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129777_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129777_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129777_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129777_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129777_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129777_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129777_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129777_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129777_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129777_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129777_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129777_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129777_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129777_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129777_total_iter /
                (ctx->futhark_mc_segmap_parloop_129777_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129777_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129777_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129777_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129771            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129771_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129771_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129771_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129771_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129771_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129771_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129771_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129771_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129771_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129771_iter[i] /
                    (ctx->futhark_mc_segmap_task_129771_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129771_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129775     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129775_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129775_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129775_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129775_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129775_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129775_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129775_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129775_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129775_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129775_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129775_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129775_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129786         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129786_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129786_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129786_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129786_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129786_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129786_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129786_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129786_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129786_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129786_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129786_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129786_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129786_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129786_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129786_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129786_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129786_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129786_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129786_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129786_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129786_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129786_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129786_total_iter /
                (ctx->futhark_mc_segmap_parloop_129786_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129786_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129786_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129786_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129795         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129795_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129795_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129795_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129795_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129795_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129795_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129795_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129795_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129795_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129795_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129795_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129795_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129795_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129795_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129795_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129795_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129795_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129795_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129795_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129795_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129795_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129795_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129795_total_iter /
                (ctx->futhark_mc_segmap_parloop_129795_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129795_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129795_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129795_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129793            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129793_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129793_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129793_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129793_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129793_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129793_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129793_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129793_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129793_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129793_iter[i] /
                    (ctx->futhark_mc_segmap_task_129793_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129793_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129790         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129790_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129790_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129790_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129790_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129790_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129790_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129790_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129790_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129790_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129790_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129790_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129790_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129790_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129790_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129790_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129790_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129790_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129790_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129790_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129790_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129790_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129790_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129790_total_iter /
                (ctx->futhark_mc_segmap_parloop_129790_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129790_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129790_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129790_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129784            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129784_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129784_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129784_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129784_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129784_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129784_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129784_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129784_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129784_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129784_iter[i] /
                    (ctx->futhark_mc_segmap_task_129784_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129784_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129788     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129788_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129788_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129788_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129788_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129788_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129788_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129788_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129788_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129788_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129788_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129788_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129788_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129799         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129799_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129799_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129799_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129799_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129799_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129799_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129799_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129799_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129799_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129799_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129799_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129799_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129799_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129799_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129799_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129799_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129799_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129799_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129799_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129799_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129799_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129799_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129799_total_iter /
                (ctx->futhark_mc_segmap_parloop_129799_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129799_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129799_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129799_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129808         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129808_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129808_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129808_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129808_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129808_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129808_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129808_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129808_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129808_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129808_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129808_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129808_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129808_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129808_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129808_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129808_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129808_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129808_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129808_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129808_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129808_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129808_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129808_total_iter /
                (ctx->futhark_mc_segmap_parloop_129808_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129808_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129808_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129808_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_129816 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_129816_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129816_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129816_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_129816_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129816_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_129816_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129816_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_129816_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129816_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129816_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129816_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_129816_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_129816_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_129816_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_129816_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_129816_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_129816_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_129816_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_129816_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_129816_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_129816_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_129816_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_129816_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_129816_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_129816_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_129816_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_129816_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_129813            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_129813_runs[i],
                    (long) ctx->futhark_mc_segred_task_129813_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_129813_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_129813_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_129813_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_129813_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_129813_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_129813_iter[i]),
                    (long) ctx->futhark_mc_segred_task_129813_iter[i],
                    (long) ctx->futhark_mc_segred_task_129813_iter[i] /
                    (ctx->futhark_mc_segred_task_129813_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_129813_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129811         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129811_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129811_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129811_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129811_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129811_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129811_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129811_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129811_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129811_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129811_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129811_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129811_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129811_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129811_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129811_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129811_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129811_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129811_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129811_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129811_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129811_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129811_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129811_total_iter /
                (ctx->futhark_mc_segmap_parloop_129811_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129811_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129811_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129811_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129806            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129806_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129806_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129806_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129806_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129806_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129806_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129806_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129806_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129806_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129806_iter[i] /
                    (ctx->futhark_mc_segmap_task_129806_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129806_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129809     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129809_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129809_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129809_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129809_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129809_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129809_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129809_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129809_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129809_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129809_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129809_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129809_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129803         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129803_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129803_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129803_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129803_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129803_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129803_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129803_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129803_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129803_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129803_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129803_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129803_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129803_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129803_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129803_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129803_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129803_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129803_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129803_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129803_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129803_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129803_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129803_total_iter /
                (ctx->futhark_mc_segmap_parloop_129803_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129803_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129803_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129803_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129797            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129797_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129797_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129797_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129797_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129797_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129797_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129797_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129797_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129797_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129797_iter[i] /
                    (ctx->futhark_mc_segmap_task_129797_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129797_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129801     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129801_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129801_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129801_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129801_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129801_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129801_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129801_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129801_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129801_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129801_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129801_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129801_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129820         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129820_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129820_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129820_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129820_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129820_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129820_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129820_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129820_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129820_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129820_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129820_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129820_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129820_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129820_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129820_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129820_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129820_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129820_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129820_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129820_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129820_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129820_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129820_total_iter /
                (ctx->futhark_mc_segmap_parloop_129820_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129820_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129820_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129820_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129833         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129833_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129833_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129833_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129833_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129833_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129833_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129833_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129833_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129833_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129833_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129833_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129833_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129833_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129833_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129833_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129833_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129833_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129833_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129833_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129833_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129833_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129833_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129833_total_iter /
                (ctx->futhark_mc_segmap_parloop_129833_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129833_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129833_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129833_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129831            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129831_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129831_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129831_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129831_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129831_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129831_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129831_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129831_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129831_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129831_iter[i] /
                    (ctx->futhark_mc_segmap_task_129831_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129831_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129837         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129837_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129837_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129837_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129837_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129837_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129837_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129837_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129837_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129837_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129837_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129837_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129837_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129837_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129837_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129837_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129837_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129837_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129837_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129837_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129837_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129837_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129837_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129837_total_iter /
                (ctx->futhark_mc_segmap_parloop_129837_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129837_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129837_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129837_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129835            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129835_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129835_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129835_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129835_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129835_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129835_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129835_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129835_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129835_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129835_iter[i] /
                    (ctx->futhark_mc_segmap_task_129835_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129835_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129826         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129826_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129826_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129826_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129826_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129826_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129826_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129826_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129826_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129826_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129826_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129826_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129826_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129826_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129826_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129826_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129826_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129826_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129826_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129826_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129826_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129826_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129826_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129826_total_iter /
                (ctx->futhark_mc_segmap_parloop_129826_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129826_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129826_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129826_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129818            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129818_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129818_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129818_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129818_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129818_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129818_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129818_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129818_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129818_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129818_iter[i] /
                    (ctx->futhark_mc_segmap_task_129818_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129818_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129824     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129824_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129824_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129824_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129824_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129824_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129824_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129824_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129824_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129824_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129824_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129824_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129824_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129841         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129841_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129841_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129841_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129841_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129841_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129841_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129841_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129841_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129841_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129841_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129841_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129841_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129841_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129841_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129841_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129841_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129841_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129841_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129841_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129841_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129841_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129841_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129841_total_iter /
                (ctx->futhark_mc_segmap_parloop_129841_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129841_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129841_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129841_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129854         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129854_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129854_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129854_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129854_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129854_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129854_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129854_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129854_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129854_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129854_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129854_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129854_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129854_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129854_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129854_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129854_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129854_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129854_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129854_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129854_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129854_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129854_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129854_total_iter /
                (ctx->futhark_mc_segmap_parloop_129854_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129854_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129854_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129854_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129852            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129852_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129852_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129852_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129852_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129852_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129852_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129852_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129852_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129852_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129852_iter[i] /
                    (ctx->futhark_mc_segmap_task_129852_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129852_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129858         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129858_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129858_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129858_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129858_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129858_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129858_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129858_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129858_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129858_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129858_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129858_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129858_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129858_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129858_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129858_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129858_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129858_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129858_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129858_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129858_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129858_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129858_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129858_total_iter /
                (ctx->futhark_mc_segmap_parloop_129858_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129858_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129858_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129858_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129856            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129856_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129856_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129856_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129856_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129856_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129856_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129856_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129856_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129856_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129856_iter[i] /
                    (ctx->futhark_mc_segmap_task_129856_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129856_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129847         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129847_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129847_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129847_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129847_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129847_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129847_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129847_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129847_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129847_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129847_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129847_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129847_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129847_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129847_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129847_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129847_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129847_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129847_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129847_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129847_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129847_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129847_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129847_total_iter /
                (ctx->futhark_mc_segmap_parloop_129847_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129847_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129847_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129847_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129839            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129839_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129839_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129839_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129839_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129839_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129839_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129839_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129839_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129839_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129839_iter[i] /
                    (ctx->futhark_mc_segmap_task_129839_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129839_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129845     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129845_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129845_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129845_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129845_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129845_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129845_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129845_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129845_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129845_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129845_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129845_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129845_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129862         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129862_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129862_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129862_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129862_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129862_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129862_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129862_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129862_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129862_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129862_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129862_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129862_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129862_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129862_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129862_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129862_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129862_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129862_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129862_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129862_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129862_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129862_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129862_total_iter /
                (ctx->futhark_mc_segmap_parloop_129862_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129862_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129862_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129862_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129871         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129871_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129871_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129871_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129871_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129871_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129871_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129871_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129871_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129871_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129871_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129871_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129871_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129871_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129871_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129871_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129871_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129871_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129871_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129871_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129871_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129871_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129871_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129871_total_iter /
                (ctx->futhark_mc_segmap_parloop_129871_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129871_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129871_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129871_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129869            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129869_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129869_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129869_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129869_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129869_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129869_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129869_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129869_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129869_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129869_iter[i] /
                    (ctx->futhark_mc_segmap_task_129869_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129869_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129866         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129866_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129866_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129866_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129866_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129866_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129866_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129866_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129866_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129866_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129866_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129866_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129866_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129866_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129866_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129866_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129866_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129866_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129866_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129866_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129866_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129866_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129866_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129866_total_iter /
                (ctx->futhark_mc_segmap_parloop_129866_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129866_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129866_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129866_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129860            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129860_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129860_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129860_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129860_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129860_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129860_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129860_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129860_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129860_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129860_iter[i] /
                    (ctx->futhark_mc_segmap_task_129860_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129860_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129864     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129864_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129864_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129864_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129864_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129864_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129864_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129864_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129864_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129864_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129864_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129864_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129864_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129875         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129875_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129875_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129875_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129875_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129875_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129875_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129875_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129875_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129875_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129875_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129875_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129875_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129875_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129875_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129875_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129875_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129875_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129875_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129875_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129875_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129875_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129875_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129875_total_iter /
                (ctx->futhark_mc_segmap_parloop_129875_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129875_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129875_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129875_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129884         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129884_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129884_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129884_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129884_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129884_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129884_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129884_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129884_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129884_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129884_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129884_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129884_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129884_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129884_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129884_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129884_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129884_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129884_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129884_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129884_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129884_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129884_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129884_total_iter /
                (ctx->futhark_mc_segmap_parloop_129884_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129884_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129884_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129884_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_129892 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_129892_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129892_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129892_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_129892_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129892_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_129892_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129892_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_129892_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129892_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129892_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129892_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_129892_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_129892_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_129892_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_129892_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_129892_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_129892_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_129892_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_129892_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_129892_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_129892_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_129892_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_129892_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_129892_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_129892_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_129892_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_129892_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_129889            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_129889_runs[i],
                    (long) ctx->futhark_mc_segred_task_129889_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_129889_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_129889_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_129889_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_129889_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_129889_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_129889_iter[i]),
                    (long) ctx->futhark_mc_segred_task_129889_iter[i],
                    (long) ctx->futhark_mc_segred_task_129889_iter[i] /
                    (ctx->futhark_mc_segred_task_129889_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_129889_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129887         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129887_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129887_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129887_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129887_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129887_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129887_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129887_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129887_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129887_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129887_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129887_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129887_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129887_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129887_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129887_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129887_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129887_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129887_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129887_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129887_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129887_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129887_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129887_total_iter /
                (ctx->futhark_mc_segmap_parloop_129887_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129887_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129887_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129887_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129882            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129882_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129882_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129882_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129882_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129882_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129882_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129882_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129882_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129882_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129882_iter[i] /
                    (ctx->futhark_mc_segmap_task_129882_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129882_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129885     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129885_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129885_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129885_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129885_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129885_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129885_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129885_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129885_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129885_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129885_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129885_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129885_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129879         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129879_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129879_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129879_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129879_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129879_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129879_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129879_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129879_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129879_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129879_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129879_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129879_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129879_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129879_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129879_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129879_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129879_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129879_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129879_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129879_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129879_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129879_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129879_total_iter /
                (ctx->futhark_mc_segmap_parloop_129879_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129879_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129879_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129879_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129873            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129873_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129873_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129873_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129873_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129873_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129873_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129873_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129873_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129873_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129873_iter[i] /
                    (ctx->futhark_mc_segmap_task_129873_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129873_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129877     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129877_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129877_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129877_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129877_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129877_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129877_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129877_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129877_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129877_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129877_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129877_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129877_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129896         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129896_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129896_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129896_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129896_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129896_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129896_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129896_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129896_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129896_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129896_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129896_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129896_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129896_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129896_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129896_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129896_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129896_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129896_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129896_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129896_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129896_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129896_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129896_total_iter /
                (ctx->futhark_mc_segmap_parloop_129896_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129896_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129896_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129896_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129905         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129905_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129905_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129905_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129905_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129905_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129905_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129905_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129905_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129905_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129905_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129905_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129905_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129905_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129905_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129905_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129905_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129905_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129905_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129905_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129905_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129905_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129905_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129905_total_iter /
                (ctx->futhark_mc_segmap_parloop_129905_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129905_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129905_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129905_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129903            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129903_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129903_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129903_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129903_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129903_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129903_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129903_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129903_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129903_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129903_iter[i] /
                    (ctx->futhark_mc_segmap_task_129903_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129903_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129900         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129900_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129900_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129900_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129900_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129900_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129900_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129900_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129900_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129900_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129900_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129900_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129900_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129900_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129900_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129900_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129900_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129900_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129900_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129900_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129900_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129900_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129900_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129900_total_iter /
                (ctx->futhark_mc_segmap_parloop_129900_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129900_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129900_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129900_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129894            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129894_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129894_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129894_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129894_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129894_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129894_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129894_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129894_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129894_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129894_iter[i] /
                    (ctx->futhark_mc_segmap_task_129894_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129894_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129898     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129898_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129898_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129898_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129898_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129898_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129898_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129898_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129898_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129898_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129898_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129898_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129898_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129909         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129909_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129909_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129909_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129909_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129909_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129909_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129909_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129909_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129909_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129909_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129909_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129909_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129909_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129909_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129909_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129909_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129909_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129909_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129909_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129909_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129909_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129909_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129909_total_iter /
                (ctx->futhark_mc_segmap_parloop_129909_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129909_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129909_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129909_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_129917 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_129917_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129917_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129917_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_129917_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129917_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_129917_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129917_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_129917_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129917_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129917_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129917_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_129917_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_129917_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_129917_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_129917_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_129917_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_129917_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_129917_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_129917_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_129917_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_129917_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_129917_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_129917_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_129917_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_129917_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_129917_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_129917_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_129914            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_129914_runs[i],
                    (long) ctx->futhark_mc_segred_task_129914_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_129914_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_129914_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_129914_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_129914_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_129914_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_129914_iter[i]),
                    (long) ctx->futhark_mc_segred_task_129914_iter[i],
                    (long) ctx->futhark_mc_segred_task_129914_iter[i] /
                    (ctx->futhark_mc_segred_task_129914_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_129914_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129912         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129912_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129912_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129912_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129912_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129912_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129912_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129912_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129912_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129912_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129912_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129912_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129912_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129912_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129912_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129912_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129912_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129912_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129912_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129912_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129912_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129912_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129912_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129912_total_iter /
                (ctx->futhark_mc_segmap_parloop_129912_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129912_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129912_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129912_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129907            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129907_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129907_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129907_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129907_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129907_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129907_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129907_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129907_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129907_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129907_iter[i] /
                    (ctx->futhark_mc_segmap_task_129907_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129907_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129910     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129910_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129910_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129910_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129910_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129910_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129910_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129910_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129910_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129910_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129910_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129910_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129910_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129921         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129921_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129921_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129921_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129921_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129921_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129921_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129921_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129921_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129921_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129921_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129921_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129921_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129921_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129921_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129921_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129921_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129921_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129921_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129921_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129921_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129921_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129921_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129921_total_iter /
                (ctx->futhark_mc_segmap_parloop_129921_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129921_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129921_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129921_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_1_parloop_129931   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_1_parloop_129931_runs[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129931_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_129931_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_129931_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129931_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_1_parloop_129931_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_129931_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_129931_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129931_iter[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129931_iter[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_129931_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_129931_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_1_parloop_129931_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_1_parloop_129931_total_runs,
                (long) ctx->futhark_mc_scan_stage_1_parloop_129931_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_129931_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_129931_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_1_parloop_129931_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_1_parloop_129931_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_129931_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_129931_total_iter),
                (long) ctx->futhark_mc_scan_stage_1_parloop_129931_total_iter,
                (long) ctx->futhark_mc_scan_stage_1_parloop_129931_total_iter /
                (ctx->futhark_mc_scan_stage_1_parloop_129931_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_129931_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_1_parloop_129931_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_1_parloop_129931_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_3_parloop_129933   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_3_parloop_129933_runs[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129933_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_129933_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_129933_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129933_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_3_parloop_129933_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_129933_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_129933_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129933_iter[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129933_iter[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_129933_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_129933_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_3_parloop_129933_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_3_parloop_129933_total_runs,
                (long) ctx->futhark_mc_scan_stage_3_parloop_129933_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_129933_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_129933_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_3_parloop_129933_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_3_parloop_129933_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_129933_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_129933_total_iter),
                (long) ctx->futhark_mc_scan_stage_3_parloop_129933_total_iter,
                (long) ctx->futhark_mc_scan_stage_3_parloop_129933_total_iter /
                (ctx->futhark_mc_scan_stage_3_parloop_129933_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_129933_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_3_parloop_129933_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_3_parloop_129933_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segscan_task_129928           ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segscan_task_129928_runs[i],
                    (long) ctx->futhark_mc_segscan_task_129928_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_129928_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_129928_runs[i] : 1),
                    (long) ctx->futhark_mc_segscan_task_129928_total_runtime[i],
                    (double) ctx->futhark_mc_segscan_task_129928_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_129928_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segscan_task_129928_iter[i]),
                    (long) ctx->futhark_mc_segscan_task_129928_iter[i],
                    (long) ctx->futhark_mc_segscan_task_129928_iter[i] /
                    (ctx->futhark_mc_segscan_task_129928_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_129928_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129925         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129925_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129925_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129925_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129925_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129925_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129925_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129925_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129925_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129925_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129925_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129925_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129925_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129925_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129925_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129925_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129925_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129925_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129925_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129925_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129925_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129925_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129925_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129925_total_iter /
                (ctx->futhark_mc_segmap_parloop_129925_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129925_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129925_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129925_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129919            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129919_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129919_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129919_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129919_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129919_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129919_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129919_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129919_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129919_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129919_iter[i] /
                    (ctx->futhark_mc_segmap_task_129919_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129919_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129923     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129923_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129923_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129923_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129923_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129923_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129923_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129923_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129923_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129923_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129923_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129923_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129923_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129937         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129937_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129937_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129937_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129937_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129937_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129937_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129937_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129937_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129937_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129937_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129937_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129937_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129937_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129937_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129937_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129937_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129937_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129937_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129937_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129937_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129937_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129937_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129937_total_iter /
                (ctx->futhark_mc_segmap_parloop_129937_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129937_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129937_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129937_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_129945 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_129945_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129945_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129945_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_129945_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129945_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_129945_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129945_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_129945_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129945_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129945_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129945_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_129945_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_129945_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_129945_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_129945_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_129945_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_129945_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_129945_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_129945_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_129945_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_129945_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_129945_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_129945_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_129945_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_129945_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_129945_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_129945_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_129942            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_129942_runs[i],
                    (long) ctx->futhark_mc_segred_task_129942_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_129942_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_129942_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_129942_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_129942_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_129942_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_129942_iter[i]),
                    (long) ctx->futhark_mc_segred_task_129942_iter[i],
                    (long) ctx->futhark_mc_segred_task_129942_iter[i] /
                    (ctx->futhark_mc_segred_task_129942_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_129942_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129940         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129940_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129940_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129940_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129940_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129940_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129940_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129940_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129940_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129940_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129940_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129940_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129940_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129940_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129940_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129940_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129940_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129940_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129940_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129940_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129940_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129940_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129940_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129940_total_iter /
                (ctx->futhark_mc_segmap_parloop_129940_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129940_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129940_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129940_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129935            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129935_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129935_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129935_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129935_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129935_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129935_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129935_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129935_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129935_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129935_iter[i] /
                    (ctx->futhark_mc_segmap_task_129935_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129935_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129938     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129938_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129938_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129938_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129938_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129938_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129938_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129938_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129938_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129938_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129938_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129938_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129938_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129949         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129949_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129949_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129949_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129949_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129949_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129949_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129949_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129949_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129949_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129949_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129949_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129949_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129949_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129949_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129949_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129949_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129949_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129949_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129949_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129949_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129949_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129949_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129949_total_iter /
                (ctx->futhark_mc_segmap_parloop_129949_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129949_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129949_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129949_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_1_parloop_129959   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_1_parloop_129959_runs[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129959_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_129959_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_129959_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129959_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_1_parloop_129959_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_129959_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_129959_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129959_iter[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129959_iter[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_129959_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_129959_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_1_parloop_129959_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_1_parloop_129959_total_runs,
                (long) ctx->futhark_mc_scan_stage_1_parloop_129959_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_129959_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_129959_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_1_parloop_129959_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_1_parloop_129959_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_129959_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_129959_total_iter),
                (long) ctx->futhark_mc_scan_stage_1_parloop_129959_total_iter,
                (long) ctx->futhark_mc_scan_stage_1_parloop_129959_total_iter /
                (ctx->futhark_mc_scan_stage_1_parloop_129959_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_129959_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_1_parloop_129959_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_1_parloop_129959_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_3_parloop_129961   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_3_parloop_129961_runs[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129961_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_129961_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_129961_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129961_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_3_parloop_129961_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_129961_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_129961_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129961_iter[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129961_iter[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_129961_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_129961_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_3_parloop_129961_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_3_parloop_129961_total_runs,
                (long) ctx->futhark_mc_scan_stage_3_parloop_129961_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_129961_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_129961_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_3_parloop_129961_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_3_parloop_129961_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_129961_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_129961_total_iter),
                (long) ctx->futhark_mc_scan_stage_3_parloop_129961_total_iter,
                (long) ctx->futhark_mc_scan_stage_3_parloop_129961_total_iter /
                (ctx->futhark_mc_scan_stage_3_parloop_129961_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_129961_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_3_parloop_129961_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_3_parloop_129961_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segscan_task_129956           ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segscan_task_129956_runs[i],
                    (long) ctx->futhark_mc_segscan_task_129956_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_129956_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_129956_runs[i] : 1),
                    (long) ctx->futhark_mc_segscan_task_129956_total_runtime[i],
                    (double) ctx->futhark_mc_segscan_task_129956_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_129956_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segscan_task_129956_iter[i]),
                    (long) ctx->futhark_mc_segscan_task_129956_iter[i],
                    (long) ctx->futhark_mc_segscan_task_129956_iter[i] /
                    (ctx->futhark_mc_segscan_task_129956_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_129956_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129953         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129953_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129953_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129953_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129953_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129953_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129953_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129953_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129953_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129953_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129953_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129953_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129953_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129953_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129953_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129953_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129953_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129953_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129953_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129953_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129953_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129953_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129953_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129953_total_iter /
                (ctx->futhark_mc_segmap_parloop_129953_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129953_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129953_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129953_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129947            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129947_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129947_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129947_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129947_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129947_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129947_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129947_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129947_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129947_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129947_iter[i] /
                    (ctx->futhark_mc_segmap_task_129947_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129947_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129951     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129951_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129951_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129951_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129951_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129951_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129951_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129951_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129951_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129951_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129951_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129951_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129951_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129965         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129965_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129965_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129965_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129965_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129965_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129965_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129965_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129965_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129965_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129965_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129965_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129965_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129965_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129965_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129965_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129965_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129965_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129965_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129965_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129965_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129965_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129965_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129965_total_iter /
                (ctx->futhark_mc_segmap_parloop_129965_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129965_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129965_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129965_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_129973 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_129973_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129973_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129973_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_129973_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129973_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_129973_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129973_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_129973_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129973_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_129973_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_129973_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_129973_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_129973_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_129973_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_129973_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_129973_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_129973_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_129973_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_129973_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_129973_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_129973_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_129973_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_129973_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_129973_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_129973_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_129973_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_129973_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_129970            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_129970_runs[i],
                    (long) ctx->futhark_mc_segred_task_129970_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_129970_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_129970_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_129970_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_129970_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_129970_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_129970_iter[i]),
                    (long) ctx->futhark_mc_segred_task_129970_iter[i],
                    (long) ctx->futhark_mc_segred_task_129970_iter[i] /
                    (ctx->futhark_mc_segred_task_129970_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_129970_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129968         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129968_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129968_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129968_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129968_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129968_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129968_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129968_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129968_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129968_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129968_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129968_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129968_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129968_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129968_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129968_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129968_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129968_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129968_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129968_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129968_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129968_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129968_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129968_total_iter /
                (ctx->futhark_mc_segmap_parloop_129968_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129968_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129968_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129968_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129963            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129963_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129963_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129963_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129963_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129963_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129963_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129963_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129963_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129963_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129963_iter[i] /
                    (ctx->futhark_mc_segmap_task_129963_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129963_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129966     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129966_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129966_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129966_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129966_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129966_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129966_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129966_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129966_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129966_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129966_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129966_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129966_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129977         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129977_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129977_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129977_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129977_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129977_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129977_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129977_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129977_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129977_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129977_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129977_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129977_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129977_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129977_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129977_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129977_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129977_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129977_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129977_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129977_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129977_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129977_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129977_total_iter /
                (ctx->futhark_mc_segmap_parloop_129977_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129977_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129977_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129977_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_1_parloop_129987   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_1_parloop_129987_runs[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129987_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_129987_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_129987_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129987_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_1_parloop_129987_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_129987_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_129987_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129987_iter[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_129987_iter[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_129987_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_129987_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_1_parloop_129987_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_1_parloop_129987_total_runs,
                (long) ctx->futhark_mc_scan_stage_1_parloop_129987_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_129987_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_129987_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_1_parloop_129987_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_1_parloop_129987_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_129987_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_129987_total_iter),
                (long) ctx->futhark_mc_scan_stage_1_parloop_129987_total_iter,
                (long) ctx->futhark_mc_scan_stage_1_parloop_129987_total_iter /
                (ctx->futhark_mc_scan_stage_1_parloop_129987_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_129987_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_1_parloop_129987_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_1_parloop_129987_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_3_parloop_129989   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_3_parloop_129989_runs[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129989_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_129989_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_129989_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129989_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_3_parloop_129989_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_129989_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_129989_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129989_iter[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_129989_iter[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_129989_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_129989_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_3_parloop_129989_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_3_parloop_129989_total_runs,
                (long) ctx->futhark_mc_scan_stage_3_parloop_129989_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_129989_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_129989_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_3_parloop_129989_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_3_parloop_129989_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_129989_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_129989_total_iter),
                (long) ctx->futhark_mc_scan_stage_3_parloop_129989_total_iter,
                (long) ctx->futhark_mc_scan_stage_3_parloop_129989_total_iter /
                (ctx->futhark_mc_scan_stage_3_parloop_129989_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_129989_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_3_parloop_129989_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_3_parloop_129989_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segscan_task_129984           ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segscan_task_129984_runs[i],
                    (long) ctx->futhark_mc_segscan_task_129984_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_129984_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_129984_runs[i] : 1),
                    (long) ctx->futhark_mc_segscan_task_129984_total_runtime[i],
                    (double) ctx->futhark_mc_segscan_task_129984_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_129984_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segscan_task_129984_iter[i]),
                    (long) ctx->futhark_mc_segscan_task_129984_iter[i],
                    (long) ctx->futhark_mc_segscan_task_129984_iter[i] /
                    (ctx->futhark_mc_segscan_task_129984_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_129984_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129981         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129981_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129981_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129981_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129981_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129981_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129981_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129981_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129981_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129981_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129981_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129981_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129981_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129981_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129981_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129981_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129981_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129981_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129981_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129981_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129981_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129981_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129981_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129981_total_iter /
                (ctx->futhark_mc_segmap_parloop_129981_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129981_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129981_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129981_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129975            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129975_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129975_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129975_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129975_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129975_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129975_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129975_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129975_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129975_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129975_iter[i] /
                    (ctx->futhark_mc_segmap_task_129975_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129975_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129979     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129979_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129979_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129979_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129979_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129979_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129979_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129979_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129979_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129979_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129979_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129979_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129979_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129993         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129993_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129993_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129993_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129993_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129993_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129993_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129993_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129993_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129993_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129993_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129993_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129993_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129993_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129993_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129993_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129993_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129993_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129993_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129993_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129993_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129993_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129993_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129993_total_iter /
                (ctx->futhark_mc_segmap_parloop_129993_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129993_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129993_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129993_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130002         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130002_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130002_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130002_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130002_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130002_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130002_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130002_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130002_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130002_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130002_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130002_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130002_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130002_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130002_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130002_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130002_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130002_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130002_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130002_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130002_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130002_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130002_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130002_total_iter /
                (ctx->futhark_mc_segmap_parloop_130002_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130002_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130002_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130002_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130010 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130010_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130010_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130010_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130010_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130010_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130010_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130010_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130010_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130010_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130010_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130010_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130010_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130010_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130010_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130010_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130010_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130010_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130010_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130010_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130010_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130010_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130010_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130010_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130010_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130010_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130010_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130010_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130007            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130007_runs[i],
                    (long) ctx->futhark_mc_segred_task_130007_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130007_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130007_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130007_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130007_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130007_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130007_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130007_iter[i],
                    (long) ctx->futhark_mc_segred_task_130007_iter[i] /
                    (ctx->futhark_mc_segred_task_130007_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130007_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130015 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130015_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130015_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130015_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130015_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130015_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130015_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130015_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130015_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130015_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130015_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130015_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130015_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130015_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130015_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130015_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130015_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130015_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130015_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130015_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130015_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130015_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130015_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130015_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130015_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130015_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130015_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130015_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130012            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130012_runs[i],
                    (long) ctx->futhark_mc_segred_task_130012_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130012_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130012_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130012_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130012_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130012_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130012_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130012_iter[i],
                    (long) ctx->futhark_mc_segred_task_130012_iter[i] /
                    (ctx->futhark_mc_segred_task_130012_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130012_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130005         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130005_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130005_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130005_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130005_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130005_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130005_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130005_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130005_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130005_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130005_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130005_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130005_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130005_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130005_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130005_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130005_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130005_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130005_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130005_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130005_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130005_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130005_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130005_total_iter /
                (ctx->futhark_mc_segmap_parloop_130005_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130005_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130005_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130005_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130000            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130000_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130000_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130000_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130000_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130000_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130000_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130000_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130000_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130000_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130000_iter[i] /
                    (ctx->futhark_mc_segmap_task_130000_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130000_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130003     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130003_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130003_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130003_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130003_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130003_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130003_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130003_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130003_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130003_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130003_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130003_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130003_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_129997         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_129997_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_129997_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129997_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129997_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_129997_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_129997_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_129997_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129997_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_129997_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_129997_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_129997_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_129997_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_129997_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_129997_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_129997_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129997_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129997_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_129997_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_129997_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_129997_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_129997_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_129997_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_129997_total_iter /
                (ctx->futhark_mc_segmap_parloop_129997_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_129997_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_129997_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_129997_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_129991            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_129991_runs[i],
                    (long) ctx->futhark_mc_segmap_task_129991_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129991_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129991_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_129991_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_129991_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_129991_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_129991_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_129991_iter[i],
                    (long) ctx->futhark_mc_segmap_task_129991_iter[i] /
                    (ctx->futhark_mc_segmap_task_129991_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_129991_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_129995     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_129995_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129995_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129995_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129995_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_129995_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_129995_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_129995_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_129995_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_129995_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_129995_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_129995_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_129995_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130019         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130019_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130019_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130019_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130019_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130019_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130019_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130019_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130019_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130019_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130019_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130019_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130019_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130019_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130019_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130019_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130019_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130019_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130019_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130019_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130019_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130019_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130019_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130019_total_iter /
                (ctx->futhark_mc_segmap_parloop_130019_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130019_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130019_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130019_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130030         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130030_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130030_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130030_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130030_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130030_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130030_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130030_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130030_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130030_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130030_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130030_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130030_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130030_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130030_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130030_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130030_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130030_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130030_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130030_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130030_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130030_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130030_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130030_total_iter /
                (ctx->futhark_mc_segmap_parloop_130030_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130030_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130030_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130030_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130040 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130040_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130040_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130040_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130040_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130040_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130040_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130040_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130040_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130040_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130040_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130040_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130040_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130040_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130040_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130040_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130040_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130040_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130040_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130040_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130040_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130040_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130040_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130040_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130040_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130040_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130040_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130040_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130035            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130035_runs[i],
                    (long) ctx->futhark_mc_segred_task_130035_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130035_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130035_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130035_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130035_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130035_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130035_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130035_iter[i],
                    (long) ctx->futhark_mc_segred_task_130035_iter[i] /
                    (ctx->futhark_mc_segred_task_130035_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130035_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130046 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130046_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130046_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130046_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130046_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130046_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130046_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130046_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130046_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130046_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130046_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130046_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130046_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130046_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130046_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130046_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130046_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130046_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130046_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130046_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130046_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130046_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130046_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130046_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130046_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130046_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130046_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130046_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130042            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130042_runs[i],
                    (long) ctx->futhark_mc_segred_task_130042_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130042_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130042_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130042_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130042_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130042_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130042_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130042_iter[i],
                    (long) ctx->futhark_mc_segred_task_130042_iter[i] /
                    (ctx->futhark_mc_segred_task_130042_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130042_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130033         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130033_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130033_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130033_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130033_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130033_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130033_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130033_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130033_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130033_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130033_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130033_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130033_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130033_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130033_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130033_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130033_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130033_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130033_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130033_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130033_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130033_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130033_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130033_total_iter /
                (ctx->futhark_mc_segmap_parloop_130033_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130033_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130033_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130033_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130028            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130028_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130028_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130028_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130028_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130028_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130028_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130028_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130028_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130028_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130028_iter[i] /
                    (ctx->futhark_mc_segmap_task_130028_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130028_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130031     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130031_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130031_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130031_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130031_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130031_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130031_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130031_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130031_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130031_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130031_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130031_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130031_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130024         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130024_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130024_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130024_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130024_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130024_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130024_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130024_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130024_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130024_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130024_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130024_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130024_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130024_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130024_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130024_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130024_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130024_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130024_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130024_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130024_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130024_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130024_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130024_total_iter /
                (ctx->futhark_mc_segmap_parloop_130024_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130024_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130024_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130024_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130017            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130017_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130017_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130017_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130017_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130017_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130017_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130017_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130017_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130017_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130017_iter[i] /
                    (ctx->futhark_mc_segmap_task_130017_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130017_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130022     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130022_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130022_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130022_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130022_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130022_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130022_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130022_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130022_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130022_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130022_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130022_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130022_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130050         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130050_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130050_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130050_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130050_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130050_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130050_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130050_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130050_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130050_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130050_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130050_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130050_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130050_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130050_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130050_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130050_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130050_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130050_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130050_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130050_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130050_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130050_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130050_total_iter /
                (ctx->futhark_mc_segmap_parloop_130050_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130050_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130050_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130050_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130061         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130061_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130061_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130061_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130061_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130061_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130061_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130061_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130061_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130061_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130061_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130061_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130061_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130061_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130061_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130061_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130061_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130061_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130061_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130061_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130061_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130061_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130061_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130061_total_iter /
                (ctx->futhark_mc_segmap_parloop_130061_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130061_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130061_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130061_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130073 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130073_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130073_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130073_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130073_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130073_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130073_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130073_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130073_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130073_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130073_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130073_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130073_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130073_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130073_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130073_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130073_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130073_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130073_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130073_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130073_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130073_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130073_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130073_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130073_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130073_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130073_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130073_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130066            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130066_runs[i],
                    (long) ctx->futhark_mc_segred_task_130066_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130066_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130066_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130066_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130066_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130066_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130066_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130066_iter[i],
                    (long) ctx->futhark_mc_segred_task_130066_iter[i] /
                    (ctx->futhark_mc_segred_task_130066_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130066_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130079 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130079_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130079_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130079_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130079_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130079_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130079_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130079_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130079_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130079_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130079_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130079_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130079_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130079_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130079_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130079_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130079_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130079_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130079_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130079_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130079_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130079_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130079_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130079_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130079_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130079_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130079_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130079_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130075            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130075_runs[i],
                    (long) ctx->futhark_mc_segred_task_130075_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130075_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130075_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130075_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130075_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130075_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130075_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130075_iter[i],
                    (long) ctx->futhark_mc_segred_task_130075_iter[i] /
                    (ctx->futhark_mc_segred_task_130075_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130075_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130064         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130064_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130064_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130064_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130064_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130064_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130064_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130064_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130064_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130064_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130064_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130064_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130064_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130064_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130064_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130064_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130064_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130064_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130064_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130064_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130064_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130064_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130064_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130064_total_iter /
                (ctx->futhark_mc_segmap_parloop_130064_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130064_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130064_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130064_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130059            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130059_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130059_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130059_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130059_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130059_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130059_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130059_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130059_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130059_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130059_iter[i] /
                    (ctx->futhark_mc_segmap_task_130059_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130059_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130062     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130062_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130062_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130062_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130062_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130062_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130062_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130062_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130062_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130062_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130062_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130062_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130062_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130055         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130055_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130055_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130055_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130055_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130055_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130055_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130055_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130055_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130055_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130055_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130055_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130055_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130055_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130055_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130055_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130055_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130055_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130055_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130055_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130055_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130055_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130055_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130055_total_iter /
                (ctx->futhark_mc_segmap_parloop_130055_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130055_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130055_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130055_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130048            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130048_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130048_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130048_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130048_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130048_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130048_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130048_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130048_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130048_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130048_iter[i] /
                    (ctx->futhark_mc_segmap_task_130048_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130048_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130053     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130053_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130053_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130053_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130053_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130053_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130053_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130053_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130053_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130053_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130053_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130053_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130053_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130083         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130083_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130083_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130083_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130083_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130083_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130083_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130083_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130083_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130083_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130083_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130083_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130083_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130083_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130083_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130083_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130083_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130083_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130083_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130083_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130083_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130083_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130083_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130083_total_iter /
                (ctx->futhark_mc_segmap_parloop_130083_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130083_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130083_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130083_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130093         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130093_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130093_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130093_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130093_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130093_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130093_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130093_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130093_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130093_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130093_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130093_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130093_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130093_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130093_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130093_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130093_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130093_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130093_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130093_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130093_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130093_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130093_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130093_total_iter /
                (ctx->futhark_mc_segmap_parloop_130093_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130093_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130093_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130093_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130103 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130103_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130103_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130103_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130103_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130103_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130103_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130103_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130103_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130103_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130103_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130103_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130103_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130103_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130103_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130103_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130103_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130103_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130103_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130103_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130103_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130103_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130103_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130103_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130103_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130103_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130103_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130103_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130100            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130100_runs[i],
                    (long) ctx->futhark_mc_segred_task_130100_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130100_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130100_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130100_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130100_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130100_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130100_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130100_iter[i],
                    (long) ctx->futhark_mc_segred_task_130100_iter[i] /
                    (ctx->futhark_mc_segred_task_130100_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130100_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130108 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130108_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130108_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130108_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130108_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130108_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130108_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130108_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130108_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130108_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130108_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130108_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130108_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130108_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130108_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130108_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130108_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130108_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130108_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130108_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130108_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130108_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130108_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130108_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130108_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130108_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130108_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130108_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130105            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130105_runs[i],
                    (long) ctx->futhark_mc_segred_task_130105_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130105_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130105_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130105_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130105_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130105_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130105_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130105_iter[i],
                    (long) ctx->futhark_mc_segred_task_130105_iter[i] /
                    (ctx->futhark_mc_segred_task_130105_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130105_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130097         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130097_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130097_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130097_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130097_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130097_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130097_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130097_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130097_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130097_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130097_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130097_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130097_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130097_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130097_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130097_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130097_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130097_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130097_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130097_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130097_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130097_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130097_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130097_total_iter /
                (ctx->futhark_mc_segmap_parloop_130097_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130097_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130097_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130097_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130091            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130091_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130091_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130091_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130091_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130091_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130091_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130091_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130091_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130091_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130091_iter[i] /
                    (ctx->futhark_mc_segmap_task_130091_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130091_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130095     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130095_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130095_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130095_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130095_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130095_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130095_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130095_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130095_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130095_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130095_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130095_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130095_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130088         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130088_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130088_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130088_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130088_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130088_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130088_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130088_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130088_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130088_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130088_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130088_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130088_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130088_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130088_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130088_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130088_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130088_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130088_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130088_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130088_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130088_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130088_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130088_total_iter /
                (ctx->futhark_mc_segmap_parloop_130088_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130088_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130088_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130088_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130081            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130081_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130081_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130081_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130081_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130081_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130081_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130081_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130081_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130081_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130081_iter[i] /
                    (ctx->futhark_mc_segmap_task_130081_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130081_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130086     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130086_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130086_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130086_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130086_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130086_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130086_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130086_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130086_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130086_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130086_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130086_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130086_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130112         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130112_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130112_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130112_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130112_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130112_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130112_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130112_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130112_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130112_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130112_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130112_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130112_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130112_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130112_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130112_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130112_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130112_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130112_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130112_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130112_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130112_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130112_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130112_total_iter /
                (ctx->futhark_mc_segmap_parloop_130112_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130112_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130112_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130112_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130125         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130125_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130125_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130125_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130125_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130125_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130125_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130125_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130125_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130125_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130125_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130125_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130125_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130125_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130125_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130125_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130125_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130125_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130125_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130125_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130125_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130125_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130125_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130125_total_iter /
                (ctx->futhark_mc_segmap_parloop_130125_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130125_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130125_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130125_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130139 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130139_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130139_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130139_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130139_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130139_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130139_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130139_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130139_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130139_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130139_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130139_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130139_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130139_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130139_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130139_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130139_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130139_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130139_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130139_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130139_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130139_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130139_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130139_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130139_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130139_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130139_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130139_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130134            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130134_runs[i],
                    (long) ctx->futhark_mc_segred_task_130134_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130134_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130134_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130134_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130134_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130134_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130134_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130134_iter[i],
                    (long) ctx->futhark_mc_segred_task_130134_iter[i] /
                    (ctx->futhark_mc_segred_task_130134_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130134_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130145 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130145_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130145_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130145_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130145_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130145_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130145_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130145_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130145_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130145_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130145_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130145_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130145_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130145_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130145_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130145_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130145_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130145_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130145_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130145_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130145_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130145_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130145_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130145_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130145_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130145_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130145_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130145_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130141            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130141_runs[i],
                    (long) ctx->futhark_mc_segred_task_130141_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130141_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130141_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130141_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130141_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130141_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130141_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130141_iter[i],
                    (long) ctx->futhark_mc_segred_task_130141_iter[i] /
                    (ctx->futhark_mc_segred_task_130141_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130141_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130130         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130130_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130130_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130130_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130130_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130130_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130130_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130130_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130130_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130130_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130130_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130130_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130130_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130130_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130130_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130130_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130130_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130130_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130130_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130130_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130130_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130130_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130130_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130130_total_iter /
                (ctx->futhark_mc_segmap_parloop_130130_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130130_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130130_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130130_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130123            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130123_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130123_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130123_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130123_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130123_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130123_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130123_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130123_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130123_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130123_iter[i] /
                    (ctx->futhark_mc_segmap_task_130123_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130123_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130128     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130128_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130128_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130128_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130128_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130128_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130128_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130128_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130128_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130128_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130128_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130128_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130128_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130119         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130119_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130119_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130119_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130119_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130119_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130119_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130119_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130119_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130119_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130119_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130119_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130119_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130119_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130119_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130119_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130119_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130119_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130119_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130119_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130119_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130119_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130119_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130119_total_iter /
                (ctx->futhark_mc_segmap_parloop_130119_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130119_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130119_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130119_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130110            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130110_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130110_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130110_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130110_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130110_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130110_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130110_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130110_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130110_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130110_iter[i] /
                    (ctx->futhark_mc_segmap_task_130110_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130110_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130117     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130117_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130117_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130117_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130117_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130117_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130117_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130117_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130117_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130117_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130117_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130117_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130117_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130149         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130149_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130149_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130149_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130149_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130149_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130149_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130149_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130149_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130149_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130149_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130149_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130149_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130149_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130149_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130149_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130149_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130149_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130149_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130149_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130149_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130149_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130149_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130149_total_iter /
                (ctx->futhark_mc_segmap_parloop_130149_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130149_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130149_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130149_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130164         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130164_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130164_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130164_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130164_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130164_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130164_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130164_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130164_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130164_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130164_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130164_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130164_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130164_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130164_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130164_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130164_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130164_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130164_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130164_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130164_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130164_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130164_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130164_total_iter /
                (ctx->futhark_mc_segmap_parloop_130164_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130164_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130164_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130164_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130179         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130179_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130179_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130179_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130179_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130179_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130179_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130179_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130179_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130179_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130179_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130179_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130179_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130179_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130179_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130179_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130179_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130179_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130179_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130179_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130179_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130179_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130179_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130179_total_iter /
                (ctx->futhark_mc_segmap_parloop_130179_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130179_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130179_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130179_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130177            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130177_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130177_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130177_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130177_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130177_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130177_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130177_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130177_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130177_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130177_iter[i] /
                    (ctx->futhark_mc_segmap_task_130177_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130177_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130188 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130188_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130188_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130188_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130188_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130188_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130188_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130188_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130188_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130188_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130188_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130188_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130188_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130188_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130188_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130188_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130188_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130188_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130188_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130188_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130188_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130188_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130188_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130188_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130188_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130188_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130188_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130188_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130181            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130181_runs[i],
                    (long) ctx->futhark_mc_segred_task_130181_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130181_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130181_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130181_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130181_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130181_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130181_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130181_iter[i],
                    (long) ctx->futhark_mc_segred_task_130181_iter[i] /
                    (ctx->futhark_mc_segred_task_130181_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130181_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130194 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130194_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130194_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130194_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130194_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130194_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130194_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130194_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130194_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130194_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130194_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130194_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130194_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130194_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130194_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130194_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130194_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130194_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130194_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130194_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130194_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130194_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130194_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130194_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130194_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130194_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130194_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130194_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130190            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130190_runs[i],
                    (long) ctx->futhark_mc_segred_task_130190_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130190_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130190_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130190_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130190_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130190_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130190_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130190_iter[i],
                    (long) ctx->futhark_mc_segred_task_130190_iter[i] /
                    (ctx->futhark_mc_segred_task_130190_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130190_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130171         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130171_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130171_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130171_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130171_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130171_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130171_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130171_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130171_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130171_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130171_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130171_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130171_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130171_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130171_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130171_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130171_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130171_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130171_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130171_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130171_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130171_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130171_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130171_total_iter /
                (ctx->futhark_mc_segmap_parloop_130171_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130171_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130171_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130171_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130162            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130162_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130162_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130162_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130162_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130162_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130162_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130162_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130162_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130162_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130162_iter[i] /
                    (ctx->futhark_mc_segmap_task_130162_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130162_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130169     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130169_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130169_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130169_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130169_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130169_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130169_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130169_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130169_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130169_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130169_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130169_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130169_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130158         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130158_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130158_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130158_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130158_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130158_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130158_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130158_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130158_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130158_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130158_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130158_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130158_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130158_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130158_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130158_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130158_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130158_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130158_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130158_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130158_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130158_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130158_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130158_total_iter /
                (ctx->futhark_mc_segmap_parloop_130158_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130158_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130158_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130158_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130147            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130147_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130147_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130147_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130147_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130147_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130147_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130147_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130147_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130147_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130147_iter[i] /
                    (ctx->futhark_mc_segmap_task_130147_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130147_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130156     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130156_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130156_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130156_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130156_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130156_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130156_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130156_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130156_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130156_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130156_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130156_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130156_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130198         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130198_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130198_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130198_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130198_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130198_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130198_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130198_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130198_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130198_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130198_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130198_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130198_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130198_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130198_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130198_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130198_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130198_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130198_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130198_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130198_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130198_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130198_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130198_total_iter /
                (ctx->futhark_mc_segmap_parloop_130198_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130198_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130198_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130198_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130207         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130207_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130207_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130207_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130207_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130207_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130207_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130207_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130207_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130207_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130207_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130207_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130207_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130207_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130207_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130207_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130207_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130207_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130207_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130207_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130207_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130207_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130207_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130207_total_iter /
                (ctx->futhark_mc_segmap_parloop_130207_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130207_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130207_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130207_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130205            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130205_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130205_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130205_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130205_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130205_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130205_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130205_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130205_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130205_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130205_iter[i] /
                    (ctx->futhark_mc_segmap_task_130205_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130205_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130202         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130202_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130202_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130202_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130202_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130202_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130202_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130202_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130202_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130202_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130202_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130202_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130202_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130202_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130202_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130202_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130202_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130202_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130202_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130202_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130202_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130202_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130202_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130202_total_iter /
                (ctx->futhark_mc_segmap_parloop_130202_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130202_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130202_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130202_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130196            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130196_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130196_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130196_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130196_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130196_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130196_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130196_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130196_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130196_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130196_iter[i] /
                    (ctx->futhark_mc_segmap_task_130196_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130196_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130200     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130200_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130200_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130200_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130200_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130200_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130200_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130200_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130200_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130200_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130200_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130200_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130200_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130211         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130211_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130211_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130211_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130211_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130211_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130211_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130211_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130211_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130211_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130211_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130211_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130211_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130211_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130211_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130211_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130211_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130211_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130211_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130211_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130211_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130211_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130211_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130211_total_iter /
                (ctx->futhark_mc_segmap_parloop_130211_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130211_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130211_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130211_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130226         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130226_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130226_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130226_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130226_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130226_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130226_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130226_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130226_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130226_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130226_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130226_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130226_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130226_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130226_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130226_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130226_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130226_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130226_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130226_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130226_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130226_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130226_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130226_total_iter /
                (ctx->futhark_mc_segmap_parloop_130226_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130226_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130226_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130226_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130224            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130224_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130224_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130224_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130224_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130224_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130224_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130224_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130224_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130224_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130224_iter[i] /
                    (ctx->futhark_mc_segmap_task_130224_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130224_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130230         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130230_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130230_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130230_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130230_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130230_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130230_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130230_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130230_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130230_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130230_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130230_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130230_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130230_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130230_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130230_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130230_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130230_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130230_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130230_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130230_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130230_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130230_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130230_total_iter /
                (ctx->futhark_mc_segmap_parloop_130230_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130230_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130230_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130230_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130228            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130228_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130228_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130228_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130228_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130228_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130228_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130228_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130228_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130228_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130228_iter[i] /
                    (ctx->futhark_mc_segmap_task_130228_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130228_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130218         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130218_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130218_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130218_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130218_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130218_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130218_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130218_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130218_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130218_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130218_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130218_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130218_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130218_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130218_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130218_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130218_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130218_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130218_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130218_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130218_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130218_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130218_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130218_total_iter /
                (ctx->futhark_mc_segmap_parloop_130218_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130218_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130218_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130218_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130209            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130209_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130209_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130209_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130209_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130209_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130209_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130209_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130209_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130209_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130209_iter[i] /
                    (ctx->futhark_mc_segmap_task_130209_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130209_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130216     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130216_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130216_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130216_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130216_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130216_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130216_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130216_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130216_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130216_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130216_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130216_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130216_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130234         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130234_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130234_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130234_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130234_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130234_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130234_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130234_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130234_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130234_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130234_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130234_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130234_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130234_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130234_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130234_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130234_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130234_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130234_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130234_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130234_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130234_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130234_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130234_total_iter /
                (ctx->futhark_mc_segmap_parloop_130234_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130234_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130234_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130234_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130243         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130243_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130243_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130243_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130243_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130243_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130243_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130243_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130243_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130243_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130243_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130243_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130243_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130243_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130243_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130243_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130243_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130243_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130243_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130243_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130243_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130243_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130243_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130243_total_iter /
                (ctx->futhark_mc_segmap_parloop_130243_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130243_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130243_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130243_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130251 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130251_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130251_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130251_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130251_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130251_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130251_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130251_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130251_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130251_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130251_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130251_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130251_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130251_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130251_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130251_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130251_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130251_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130251_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130251_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130251_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130251_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130251_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130251_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130251_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130251_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130251_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130251_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130248            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130248_runs[i],
                    (long) ctx->futhark_mc_segred_task_130248_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130248_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130248_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130248_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130248_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130248_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130248_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130248_iter[i],
                    (long) ctx->futhark_mc_segred_task_130248_iter[i] /
                    (ctx->futhark_mc_segred_task_130248_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130248_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130256 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130256_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130256_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130256_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130256_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130256_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130256_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130256_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130256_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130256_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130256_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130256_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130256_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130256_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130256_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130256_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130256_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130256_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130256_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130256_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130256_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130256_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130256_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130256_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130256_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130256_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130256_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130256_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130253            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130253_runs[i],
                    (long) ctx->futhark_mc_segred_task_130253_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130253_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130253_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130253_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130253_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130253_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130253_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130253_iter[i],
                    (long) ctx->futhark_mc_segred_task_130253_iter[i] /
                    (ctx->futhark_mc_segred_task_130253_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130253_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130246         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130246_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130246_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130246_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130246_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130246_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130246_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130246_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130246_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130246_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130246_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130246_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130246_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130246_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130246_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130246_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130246_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130246_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130246_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130246_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130246_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130246_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130246_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130246_total_iter /
                (ctx->futhark_mc_segmap_parloop_130246_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130246_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130246_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130246_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130241            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130241_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130241_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130241_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130241_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130241_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130241_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130241_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130241_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130241_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130241_iter[i] /
                    (ctx->futhark_mc_segmap_task_130241_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130241_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130244     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130244_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130244_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130244_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130244_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130244_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130244_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130244_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130244_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130244_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130244_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130244_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130244_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130238         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130238_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130238_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130238_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130238_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130238_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130238_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130238_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130238_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130238_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130238_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130238_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130238_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130238_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130238_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130238_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130238_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130238_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130238_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130238_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130238_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130238_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130238_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130238_total_iter /
                (ctx->futhark_mc_segmap_parloop_130238_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130238_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130238_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130238_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130232            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130232_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130232_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130232_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130232_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130232_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130232_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130232_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130232_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130232_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130232_iter[i] /
                    (ctx->futhark_mc_segmap_task_130232_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130232_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130236     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130236_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130236_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130236_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130236_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130236_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130236_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130236_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130236_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130236_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130236_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130236_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130236_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130260         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130260_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130260_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130260_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130260_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130260_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130260_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130260_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130260_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130260_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130260_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130260_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130260_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130260_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130260_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130260_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130260_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130260_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130260_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130260_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130260_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130260_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130260_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130260_total_iter /
                (ctx->futhark_mc_segmap_parloop_130260_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130260_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130260_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130260_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130271         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130271_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130271_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130271_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130271_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130271_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130271_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130271_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130271_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130271_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130271_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130271_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130271_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130271_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130271_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130271_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130271_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130271_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130271_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130271_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130271_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130271_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130271_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130271_total_iter /
                (ctx->futhark_mc_segmap_parloop_130271_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130271_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130271_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130271_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130281 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130281_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130281_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130281_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130281_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130281_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130281_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130281_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130281_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130281_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130281_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130281_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130281_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130281_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130281_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130281_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130281_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130281_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130281_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130281_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130281_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130281_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130281_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130281_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130281_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130281_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130281_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130281_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130276            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130276_runs[i],
                    (long) ctx->futhark_mc_segred_task_130276_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130276_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130276_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130276_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130276_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130276_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130276_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130276_iter[i],
                    (long) ctx->futhark_mc_segred_task_130276_iter[i] /
                    (ctx->futhark_mc_segred_task_130276_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130276_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130287 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130287_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130287_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130287_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130287_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130287_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130287_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130287_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130287_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130287_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130287_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130287_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130287_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130287_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130287_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130287_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130287_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130287_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130287_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130287_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130287_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130287_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130287_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130287_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130287_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130287_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130287_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130287_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130283            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130283_runs[i],
                    (long) ctx->futhark_mc_segred_task_130283_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130283_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130283_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130283_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130283_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130283_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130283_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130283_iter[i],
                    (long) ctx->futhark_mc_segred_task_130283_iter[i] /
                    (ctx->futhark_mc_segred_task_130283_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130283_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130274         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130274_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130274_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130274_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130274_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130274_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130274_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130274_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130274_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130274_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130274_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130274_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130274_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130274_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130274_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130274_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130274_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130274_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130274_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130274_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130274_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130274_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130274_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130274_total_iter /
                (ctx->futhark_mc_segmap_parloop_130274_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130274_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130274_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130274_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130269            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130269_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130269_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130269_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130269_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130269_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130269_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130269_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130269_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130269_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130269_iter[i] /
                    (ctx->futhark_mc_segmap_task_130269_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130269_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130272     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130272_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130272_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130272_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130272_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130272_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130272_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130272_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130272_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130272_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130272_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130272_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130272_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130265         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130265_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130265_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130265_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130265_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130265_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130265_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130265_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130265_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130265_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130265_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130265_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130265_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130265_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130265_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130265_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130265_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130265_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130265_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130265_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130265_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130265_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130265_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130265_total_iter /
                (ctx->futhark_mc_segmap_parloop_130265_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130265_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130265_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130265_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130258            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130258_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130258_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130258_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130258_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130258_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130258_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130258_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130258_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130258_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130258_iter[i] /
                    (ctx->futhark_mc_segmap_task_130258_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130258_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130263     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130263_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130263_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130263_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130263_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130263_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130263_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130263_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130263_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130263_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130263_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130263_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130263_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130291         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130291_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130291_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130291_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130291_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130291_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130291_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130291_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130291_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130291_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130291_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130291_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130291_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130291_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130291_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130291_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130291_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130291_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130291_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130291_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130291_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130291_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130291_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130291_total_iter /
                (ctx->futhark_mc_segmap_parloop_130291_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130291_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130291_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130291_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130302         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130302_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130302_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130302_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130302_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130302_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130302_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130302_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130302_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130302_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130302_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130302_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130302_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130302_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130302_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130302_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130302_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130302_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130302_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130302_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130302_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130302_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130302_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130302_total_iter /
                (ctx->futhark_mc_segmap_parloop_130302_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130302_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130302_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130302_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130314 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130314_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130314_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130314_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130314_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130314_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130314_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130314_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130314_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130314_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130314_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130314_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130314_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130314_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130314_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130314_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130314_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130314_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130314_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130314_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130314_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130314_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130314_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130314_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130314_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130314_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130314_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130314_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130307            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130307_runs[i],
                    (long) ctx->futhark_mc_segred_task_130307_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130307_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130307_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130307_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130307_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130307_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130307_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130307_iter[i],
                    (long) ctx->futhark_mc_segred_task_130307_iter[i] /
                    (ctx->futhark_mc_segred_task_130307_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130307_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130320 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130320_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130320_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130320_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130320_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130320_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130320_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130320_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130320_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130320_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130320_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130320_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130320_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130320_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130320_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130320_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130320_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130320_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130320_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130320_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130320_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130320_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130320_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130320_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130320_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130320_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130320_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130320_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130316            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130316_runs[i],
                    (long) ctx->futhark_mc_segred_task_130316_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130316_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130316_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130316_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130316_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130316_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130316_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130316_iter[i],
                    (long) ctx->futhark_mc_segred_task_130316_iter[i] /
                    (ctx->futhark_mc_segred_task_130316_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130316_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130305         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130305_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130305_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130305_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130305_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130305_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130305_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130305_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130305_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130305_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130305_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130305_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130305_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130305_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130305_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130305_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130305_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130305_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130305_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130305_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130305_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130305_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130305_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130305_total_iter /
                (ctx->futhark_mc_segmap_parloop_130305_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130305_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130305_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130305_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130300            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130300_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130300_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130300_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130300_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130300_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130300_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130300_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130300_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130300_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130300_iter[i] /
                    (ctx->futhark_mc_segmap_task_130300_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130300_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130303     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130303_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130303_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130303_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130303_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130303_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130303_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130303_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130303_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130303_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130303_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130303_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130303_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130296         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130296_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130296_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130296_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130296_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130296_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130296_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130296_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130296_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130296_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130296_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130296_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130296_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130296_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130296_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130296_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130296_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130296_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130296_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130296_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130296_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130296_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130296_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130296_total_iter /
                (ctx->futhark_mc_segmap_parloop_130296_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130296_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130296_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130296_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130289            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130289_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130289_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130289_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130289_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130289_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130289_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130289_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130289_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130289_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130289_iter[i] /
                    (ctx->futhark_mc_segmap_task_130289_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130289_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130294     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130294_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130294_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130294_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130294_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130294_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130294_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130294_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130294_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130294_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130294_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130294_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130294_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130324         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130324_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130324_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130324_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130324_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130324_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130324_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130324_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130324_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130324_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130324_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130324_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130324_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130324_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130324_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130324_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130324_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130324_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130324_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130324_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130324_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130324_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130324_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130324_total_iter /
                (ctx->futhark_mc_segmap_parloop_130324_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130324_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130324_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130324_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130334         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130334_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130334_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130334_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130334_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130334_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130334_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130334_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130334_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130334_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130334_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130334_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130334_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130334_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130334_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130334_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130334_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130334_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130334_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130334_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130334_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130334_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130334_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130334_total_iter /
                (ctx->futhark_mc_segmap_parloop_130334_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130334_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130334_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130334_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130344 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130344_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130344_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130344_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130344_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130344_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130344_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130344_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130344_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130344_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130344_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130344_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130344_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130344_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130344_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130344_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130344_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130344_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130344_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130344_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130344_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130344_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130344_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130344_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130344_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130344_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130344_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130344_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130341            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130341_runs[i],
                    (long) ctx->futhark_mc_segred_task_130341_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130341_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130341_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130341_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130341_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130341_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130341_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130341_iter[i],
                    (long) ctx->futhark_mc_segred_task_130341_iter[i] /
                    (ctx->futhark_mc_segred_task_130341_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130341_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130349 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130349_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130349_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130349_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130349_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130349_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130349_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130349_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130349_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130349_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130349_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130349_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130349_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130349_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130349_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130349_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130349_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130349_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130349_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130349_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130349_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130349_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130349_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130349_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130349_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130349_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130349_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130349_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130346            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130346_runs[i],
                    (long) ctx->futhark_mc_segred_task_130346_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130346_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130346_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130346_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130346_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130346_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130346_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130346_iter[i],
                    (long) ctx->futhark_mc_segred_task_130346_iter[i] /
                    (ctx->futhark_mc_segred_task_130346_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130346_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130338         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130338_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130338_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130338_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130338_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130338_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130338_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130338_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130338_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130338_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130338_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130338_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130338_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130338_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130338_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130338_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130338_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130338_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130338_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130338_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130338_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130338_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130338_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130338_total_iter /
                (ctx->futhark_mc_segmap_parloop_130338_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130338_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130338_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130338_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130332            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130332_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130332_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130332_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130332_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130332_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130332_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130332_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130332_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130332_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130332_iter[i] /
                    (ctx->futhark_mc_segmap_task_130332_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130332_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130336     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130336_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130336_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130336_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130336_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130336_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130336_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130336_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130336_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130336_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130336_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130336_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130336_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130329         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130329_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130329_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130329_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130329_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130329_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130329_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130329_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130329_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130329_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130329_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130329_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130329_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130329_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130329_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130329_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130329_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130329_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130329_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130329_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130329_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130329_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130329_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130329_total_iter /
                (ctx->futhark_mc_segmap_parloop_130329_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130329_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130329_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130329_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130322            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130322_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130322_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130322_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130322_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130322_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130322_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130322_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130322_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130322_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130322_iter[i] /
                    (ctx->futhark_mc_segmap_task_130322_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130322_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130327     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130327_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130327_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130327_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130327_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130327_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130327_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130327_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130327_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130327_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130327_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130327_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130327_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130353         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130353_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130353_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130353_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130353_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130353_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130353_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130353_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130353_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130353_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130353_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130353_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130353_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130353_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130353_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130353_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130353_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130353_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130353_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130353_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130353_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130353_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130353_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130353_total_iter /
                (ctx->futhark_mc_segmap_parloop_130353_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130353_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130353_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130353_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130366         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130366_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130366_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130366_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130366_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130366_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130366_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130366_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130366_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130366_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130366_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130366_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130366_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130366_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130366_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130366_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130366_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130366_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130366_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130366_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130366_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130366_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130366_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130366_total_iter /
                (ctx->futhark_mc_segmap_parloop_130366_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130366_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130366_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130366_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130380 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130380_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130380_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130380_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130380_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130380_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130380_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130380_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130380_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130380_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130380_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130380_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130380_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130380_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130380_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130380_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130380_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130380_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130380_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130380_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130380_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130380_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130380_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130380_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130380_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130380_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130380_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130380_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130375            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130375_runs[i],
                    (long) ctx->futhark_mc_segred_task_130375_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130375_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130375_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130375_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130375_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130375_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130375_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130375_iter[i],
                    (long) ctx->futhark_mc_segred_task_130375_iter[i] /
                    (ctx->futhark_mc_segred_task_130375_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130375_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130386 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130386_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130386_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130386_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130386_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130386_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130386_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130386_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130386_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130386_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130386_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130386_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130386_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130386_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130386_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130386_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130386_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130386_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130386_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130386_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130386_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130386_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130386_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130386_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130386_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130386_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130386_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130386_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130382            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130382_runs[i],
                    (long) ctx->futhark_mc_segred_task_130382_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130382_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130382_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130382_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130382_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130382_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130382_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130382_iter[i],
                    (long) ctx->futhark_mc_segred_task_130382_iter[i] /
                    (ctx->futhark_mc_segred_task_130382_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130382_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130371         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130371_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130371_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130371_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130371_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130371_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130371_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130371_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130371_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130371_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130371_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130371_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130371_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130371_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130371_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130371_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130371_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130371_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130371_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130371_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130371_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130371_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130371_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130371_total_iter /
                (ctx->futhark_mc_segmap_parloop_130371_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130371_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130371_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130371_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130364            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130364_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130364_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130364_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130364_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130364_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130364_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130364_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130364_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130364_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130364_iter[i] /
                    (ctx->futhark_mc_segmap_task_130364_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130364_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130369     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130369_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130369_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130369_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130369_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130369_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130369_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130369_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130369_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130369_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130369_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130369_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130369_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130360         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130360_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130360_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130360_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130360_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130360_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130360_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130360_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130360_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130360_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130360_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130360_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130360_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130360_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130360_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130360_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130360_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130360_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130360_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130360_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130360_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130360_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130360_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130360_total_iter /
                (ctx->futhark_mc_segmap_parloop_130360_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130360_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130360_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130360_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130351            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130351_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130351_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130351_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130351_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130351_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130351_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130351_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130351_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130351_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130351_iter[i] /
                    (ctx->futhark_mc_segmap_task_130351_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130351_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130358     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130358_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130358_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130358_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130358_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130358_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130358_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130358_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130358_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130358_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130358_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130358_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130358_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130390         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130390_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130390_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130390_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130390_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130390_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130390_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130390_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130390_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130390_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130390_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130390_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130390_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130390_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130390_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130390_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130390_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130390_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130390_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130390_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130390_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130390_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130390_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130390_total_iter /
                (ctx->futhark_mc_segmap_parloop_130390_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130390_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130390_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130390_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130405         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130405_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130405_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130405_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130405_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130405_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130405_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130405_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130405_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130405_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130405_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130405_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130405_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130405_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130405_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130405_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130405_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130405_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130405_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130405_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130405_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130405_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130405_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130405_total_iter /
                (ctx->futhark_mc_segmap_parloop_130405_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130405_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130405_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130405_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130420         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130420_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130420_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130420_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130420_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130420_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130420_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130420_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130420_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130420_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130420_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130420_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130420_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130420_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130420_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130420_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130420_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130420_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130420_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130420_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130420_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130420_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130420_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130420_total_iter /
                (ctx->futhark_mc_segmap_parloop_130420_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130420_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130420_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130420_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130418            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130418_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130418_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130418_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130418_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130418_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130418_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130418_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130418_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130418_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130418_iter[i] /
                    (ctx->futhark_mc_segmap_task_130418_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130418_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130429 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130429_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130429_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130429_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130429_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130429_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130429_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130429_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130429_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130429_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130429_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130429_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130429_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130429_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130429_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130429_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130429_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130429_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130429_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130429_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130429_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130429_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130429_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130429_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130429_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130429_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130429_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130429_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130422            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130422_runs[i],
                    (long) ctx->futhark_mc_segred_task_130422_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130422_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130422_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130422_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130422_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130422_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130422_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130422_iter[i],
                    (long) ctx->futhark_mc_segred_task_130422_iter[i] /
                    (ctx->futhark_mc_segred_task_130422_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130422_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130435 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130435_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130435_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130435_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130435_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130435_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130435_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130435_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130435_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130435_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130435_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130435_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130435_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130435_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130435_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130435_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130435_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130435_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130435_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130435_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130435_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130435_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130435_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130435_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130435_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130435_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130435_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130435_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130431            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130431_runs[i],
                    (long) ctx->futhark_mc_segred_task_130431_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130431_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130431_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130431_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130431_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130431_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130431_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130431_iter[i],
                    (long) ctx->futhark_mc_segred_task_130431_iter[i] /
                    (ctx->futhark_mc_segred_task_130431_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130431_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130412         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130412_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130412_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130412_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130412_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130412_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130412_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130412_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130412_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130412_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130412_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130412_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130412_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130412_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130412_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130412_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130412_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130412_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130412_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130412_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130412_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130412_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130412_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130412_total_iter /
                (ctx->futhark_mc_segmap_parloop_130412_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130412_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130412_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130412_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130403            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130403_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130403_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130403_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130403_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130403_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130403_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130403_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130403_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130403_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130403_iter[i] /
                    (ctx->futhark_mc_segmap_task_130403_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130403_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130410     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130410_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130410_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130410_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130410_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130410_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130410_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130410_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130410_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130410_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130410_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130410_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130410_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130399         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130399_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130399_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130399_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130399_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130399_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130399_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130399_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130399_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130399_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130399_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130399_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130399_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130399_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130399_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130399_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130399_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130399_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130399_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130399_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130399_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130399_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130399_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130399_total_iter /
                (ctx->futhark_mc_segmap_parloop_130399_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130399_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130399_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130399_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130388            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130388_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130388_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130388_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130388_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130388_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130388_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130388_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130388_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130388_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130388_iter[i] /
                    (ctx->futhark_mc_segmap_task_130388_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130388_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130397     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130397_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130397_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130397_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130397_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130397_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130397_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130397_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130397_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130397_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130397_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130397_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130397_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130439         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130439_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130439_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130439_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130439_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130439_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130439_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130439_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130439_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130439_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130439_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130439_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130439_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130439_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130439_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130439_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130439_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130439_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130439_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130439_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130439_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130439_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130439_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130439_total_iter /
                (ctx->futhark_mc_segmap_parloop_130439_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130439_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130439_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130439_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130448         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130448_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130448_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130448_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130448_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130448_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130448_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130448_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130448_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130448_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130448_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130448_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130448_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130448_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130448_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130448_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130448_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130448_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130448_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130448_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130448_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130448_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130448_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130448_total_iter /
                (ctx->futhark_mc_segmap_parloop_130448_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130448_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130448_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130448_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130446            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130446_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130446_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130446_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130446_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130446_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130446_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130446_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130446_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130446_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130446_iter[i] /
                    (ctx->futhark_mc_segmap_task_130446_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130446_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130443         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130443_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130443_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130443_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130443_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130443_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130443_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130443_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130443_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130443_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130443_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130443_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130443_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130443_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130443_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130443_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130443_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130443_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130443_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130443_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130443_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130443_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130443_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130443_total_iter /
                (ctx->futhark_mc_segmap_parloop_130443_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130443_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130443_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130443_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130437            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130437_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130437_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130437_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130437_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130437_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130437_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130437_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130437_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130437_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130437_iter[i] /
                    (ctx->futhark_mc_segmap_task_130437_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130437_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130441     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130441_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130441_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130441_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130441_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130441_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130441_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130441_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130441_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130441_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130441_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130441_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130441_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130452         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130452_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130452_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130452_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130452_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130452_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130452_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130452_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130452_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130452_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130452_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130452_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130452_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130452_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130452_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130452_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130452_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130452_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130452_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130452_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130452_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130452_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130452_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130452_total_iter /
                (ctx->futhark_mc_segmap_parloop_130452_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130452_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130452_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130452_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130461         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130461_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130461_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130461_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130461_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130461_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130461_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130461_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130461_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130461_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130461_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130461_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130461_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130461_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130461_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130461_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130461_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130461_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130461_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130461_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130461_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130461_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130461_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130461_total_iter /
                (ctx->futhark_mc_segmap_parloop_130461_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130461_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130461_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130461_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130459            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130459_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130459_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130459_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130459_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130459_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130459_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130459_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130459_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130459_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130459_iter[i] /
                    (ctx->futhark_mc_segmap_task_130459_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130459_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130456         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130456_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130456_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130456_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130456_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130456_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130456_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130456_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130456_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130456_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130456_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130456_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130456_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130456_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130456_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130456_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130456_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130456_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130456_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130456_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130456_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130456_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130456_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130456_total_iter /
                (ctx->futhark_mc_segmap_parloop_130456_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130456_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130456_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130456_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130450            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130450_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130450_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130450_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130450_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130450_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130450_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130450_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130450_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130450_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130450_iter[i] /
                    (ctx->futhark_mc_segmap_task_130450_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130450_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130454     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130454_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130454_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130454_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130454_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130454_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130454_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130454_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130454_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130454_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130454_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130454_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130454_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130465         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130465_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130465_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130465_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130465_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130465_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130465_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130465_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130465_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130465_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130465_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130465_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130465_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130465_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130465_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130465_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130465_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130465_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130465_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130465_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130465_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130465_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130465_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130465_total_iter /
                (ctx->futhark_mc_segmap_parloop_130465_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130465_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130465_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130465_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130474         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130474_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130474_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130474_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130474_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130474_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130474_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130474_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130474_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130474_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130474_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130474_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130474_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130474_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130474_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130474_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130474_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130474_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130474_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130474_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130474_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130474_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130474_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130474_total_iter /
                (ctx->futhark_mc_segmap_parloop_130474_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130474_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130474_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130474_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130472            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130472_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130472_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130472_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130472_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130472_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130472_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130472_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130472_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130472_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130472_iter[i] /
                    (ctx->futhark_mc_segmap_task_130472_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130472_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130469         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130469_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130469_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130469_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130469_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130469_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130469_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130469_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130469_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130469_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130469_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130469_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130469_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130469_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130469_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130469_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130469_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130469_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130469_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130469_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130469_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130469_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130469_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130469_total_iter /
                (ctx->futhark_mc_segmap_parloop_130469_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130469_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130469_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130469_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130463            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130463_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130463_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130463_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130463_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130463_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130463_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130463_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130463_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130463_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130463_iter[i] /
                    (ctx->futhark_mc_segmap_task_130463_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130463_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130467     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130467_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130467_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130467_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130467_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130467_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130467_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130467_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130467_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130467_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130467_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130467_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130467_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130478         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130478_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130478_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130478_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130478_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130478_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130478_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130478_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130478_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130478_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130478_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130478_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130478_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130478_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130478_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130478_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130478_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130478_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130478_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130478_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130478_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130478_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130478_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130478_total_iter /
                (ctx->futhark_mc_segmap_parloop_130478_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130478_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130478_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130478_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_1_parloop_130503   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_1_parloop_130503_runs[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_130503_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_130503_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_130503_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_130503_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_1_parloop_130503_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_130503_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_130503_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_1_parloop_130503_iter[i],
                    (long) ctx->futhark_mc_scan_stage_1_parloop_130503_iter[i] /
                    (ctx->futhark_mc_scan_stage_1_parloop_130503_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_1_parloop_130503_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_1_parloop_130503_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_1_parloop_130503_total_runs,
                (long) ctx->futhark_mc_scan_stage_1_parloop_130503_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_130503_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_130503_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_1_parloop_130503_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_1_parloop_130503_total_total_runtime /
                (ctx->futhark_mc_scan_stage_1_parloop_130503_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_1_parloop_130503_total_iter),
                (long) ctx->futhark_mc_scan_stage_1_parloop_130503_total_iter,
                (long) ctx->futhark_mc_scan_stage_1_parloop_130503_total_iter /
                (ctx->futhark_mc_scan_stage_1_parloop_130503_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_1_parloop_130503_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_1_parloop_130503_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_1_parloop_130503_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_scan_stage_3_parloop_130505   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_scan_stage_3_parloop_130505_runs[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_130505_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_130505_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_130505_runs[i] : 1),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_130505_total_runtime[i],
                    (double) ctx->futhark_mc_scan_stage_3_parloop_130505_total_runtime[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_130505_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_130505_iter[i]),
                    (long) ctx->futhark_mc_scan_stage_3_parloop_130505_iter[i],
                    (long) ctx->futhark_mc_scan_stage_3_parloop_130505_iter[i] /
                    (ctx->futhark_mc_scan_stage_3_parloop_130505_runs[i] !=
                     0 ? ctx->futhark_mc_scan_stage_3_parloop_130505_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_scan_stage_3_parloop_130505_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_scan_stage_3_parloop_130505_total_runs,
                (long) ctx->futhark_mc_scan_stage_3_parloop_130505_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_130505_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_130505_total_runs : 1),
                (long) ctx->futhark_mc_scan_stage_3_parloop_130505_total_total_runtime,
                (double) ctx->futhark_mc_scan_stage_3_parloop_130505_total_total_runtime /
                (ctx->futhark_mc_scan_stage_3_parloop_130505_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_scan_stage_3_parloop_130505_total_iter),
                (long) ctx->futhark_mc_scan_stage_3_parloop_130505_total_iter,
                (long) ctx->futhark_mc_scan_stage_3_parloop_130505_total_iter /
                (ctx->futhark_mc_scan_stage_3_parloop_130505_total_runs !=
                 0 ? ctx->futhark_mc_scan_stage_3_parloop_130505_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_scan_stage_3_parloop_130505_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_scan_stage_3_parloop_130505_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segscan_task_130497           ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segscan_task_130497_runs[i],
                    (long) ctx->futhark_mc_segscan_task_130497_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_130497_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_130497_runs[i] : 1),
                    (long) ctx->futhark_mc_segscan_task_130497_total_runtime[i],
                    (double) ctx->futhark_mc_segscan_task_130497_total_runtime[i] /
                    (ctx->futhark_mc_segscan_task_130497_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segscan_task_130497_iter[i]),
                    (long) ctx->futhark_mc_segscan_task_130497_iter[i],
                    (long) ctx->futhark_mc_segscan_task_130497_iter[i] /
                    (ctx->futhark_mc_segscan_task_130497_runs[i] !=
                     0 ? ctx->futhark_mc_segscan_task_130497_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130509         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130509_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130509_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130509_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130509_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130509_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130509_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130509_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130509_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130509_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130509_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130509_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130509_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130509_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130509_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130509_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130509_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130509_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130509_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130509_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130509_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130509_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130509_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130509_total_iter /
                (ctx->futhark_mc_segmap_parloop_130509_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130509_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130509_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130509_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130507            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130507_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130507_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130507_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130507_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130507_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130507_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130507_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130507_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130507_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130507_iter[i] /
                    (ctx->futhark_mc_segmap_task_130507_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130507_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130488         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130488_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130488_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130488_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130488_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130488_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130488_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130488_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130488_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130488_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130488_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130488_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130488_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130488_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130488_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130488_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130488_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130488_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130488_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130488_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130488_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130488_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130488_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130488_total_iter /
                (ctx->futhark_mc_segmap_parloop_130488_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130488_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130488_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130488_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130476            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130476_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130476_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130476_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130476_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130476_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130476_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130476_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130476_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130476_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130476_iter[i] /
                    (ctx->futhark_mc_segmap_task_130476_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130476_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130486     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130486_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130486_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130486_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130486_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130486_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130486_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130486_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130486_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130486_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130486_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130486_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130486_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130513         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130513_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130513_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130513_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130513_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130513_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130513_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130513_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130513_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130513_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130513_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130513_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130513_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130513_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130513_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130513_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130513_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130513_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130513_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130513_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130513_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130513_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130513_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130513_total_iter /
                (ctx->futhark_mc_segmap_parloop_130513_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130513_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130513_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130513_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_stage_1_parloop_130521 ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_stage_1_parloop_130521_runs[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130521_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130521_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130521_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130521_total_runtime[i],
                    (double) ctx->futhark_mc_segred_stage_1_parloop_130521_total_runtime[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130521_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130521_iter[i]),
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130521_iter[i],
                    (long) ctx->futhark_mc_segred_stage_1_parloop_130521_iter[i] /
                    (ctx->futhark_mc_segred_stage_1_parloop_130521_runs[i] !=
                     0 ? ctx->futhark_mc_segred_stage_1_parloop_130521_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segred_stage_1_parloop_130521_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segred_stage_1_parloop_130521_total_runs,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130521_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130521_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130521_total_runs : 1),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130521_total_total_runtime,
                (double) ctx->futhark_mc_segred_stage_1_parloop_130521_total_total_runtime /
                (ctx->futhark_mc_segred_stage_1_parloop_130521_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_130521_total_iter),
                (long) ctx->futhark_mc_segred_stage_1_parloop_130521_total_iter,
                (long) ctx->futhark_mc_segred_stage_1_parloop_130521_total_iter /
                (ctx->futhark_mc_segred_stage_1_parloop_130521_total_runs !=
                 0 ? ctx->futhark_mc_segred_stage_1_parloop_130521_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segred_stage_1_parloop_130521_total_total_runtime;
        ctx->total_runs +=
            ctx->futhark_mc_segred_stage_1_parloop_130521_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segred_task_130518            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segred_task_130518_runs[i],
                    (long) ctx->futhark_mc_segred_task_130518_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130518_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130518_runs[i] : 1),
                    (long) ctx->futhark_mc_segred_task_130518_total_runtime[i],
                    (double) ctx->futhark_mc_segred_task_130518_total_runtime[i] /
                    (ctx->futhark_mc_segred_task_130518_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segred_task_130518_iter[i]),
                    (long) ctx->futhark_mc_segred_task_130518_iter[i],
                    (long) ctx->futhark_mc_segred_task_130518_iter[i] /
                    (ctx->futhark_mc_segred_task_130518_runs[i] !=
                     0 ? ctx->futhark_mc_segred_task_130518_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130516         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130516_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130516_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130516_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130516_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130516_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130516_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130516_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130516_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130516_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130516_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130516_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130516_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130516_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130516_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130516_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130516_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130516_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130516_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130516_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130516_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130516_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130516_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130516_total_iter /
                (ctx->futhark_mc_segmap_parloop_130516_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130516_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130516_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130516_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130511            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130511_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130511_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130511_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130511_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130511_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130511_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130511_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130511_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130511_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130511_iter[i] /
                    (ctx->futhark_mc_segmap_task_130511_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130511_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130514     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130514_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130514_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130514_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130514_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130514_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130514_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130514_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130514_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130514_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130514_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130514_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130514_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130525         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130525_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130525_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130525_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130525_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130525_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130525_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130525_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130525_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130525_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130525_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130525_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130525_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130525_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130525_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130525_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130525_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130525_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130525_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130525_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130525_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130525_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130525_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130525_total_iter /
                (ctx->futhark_mc_segmap_parloop_130525_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130525_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130525_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130525_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130534         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130534_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130534_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130534_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130534_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130534_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130534_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130534_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130534_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130534_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130534_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130534_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130534_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130534_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130534_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130534_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130534_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130534_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130534_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130534_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130534_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130534_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130534_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130534_total_iter /
                (ctx->futhark_mc_segmap_parloop_130534_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130534_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130534_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130534_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130532            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130532_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130532_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130532_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130532_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130532_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130532_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130532_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130532_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130532_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130532_iter[i] /
                    (ctx->futhark_mc_segmap_task_130532_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130532_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130529         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130529_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130529_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130529_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130529_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130529_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130529_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130529_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130529_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130529_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130529_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130529_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130529_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130529_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130529_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130529_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130529_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130529_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130529_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130529_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130529_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130529_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130529_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130529_total_iter /
                (ctx->futhark_mc_segmap_parloop_130529_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130529_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130529_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130529_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130523            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130523_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130523_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130523_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130523_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130523_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130523_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130523_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130523_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130523_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130523_iter[i] /
                    (ctx->futhark_mc_segmap_task_130523_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130523_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130527     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130527_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130527_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130527_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130527_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130527_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130527_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130527_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130527_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130527_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130527_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130527_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130527_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130538         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130538_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130538_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130538_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130538_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130538_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130538_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130538_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130538_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130538_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130538_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130538_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130538_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130538_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130538_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130538_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130538_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130538_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130538_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130538_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130538_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130538_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130538_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130538_total_iter /
                (ctx->futhark_mc_segmap_parloop_130538_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130538_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130538_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130538_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130547         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130547_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130547_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130547_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130547_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130547_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130547_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130547_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130547_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130547_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130547_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130547_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130547_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130547_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130547_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130547_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130547_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130547_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130547_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130547_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130547_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130547_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130547_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130547_total_iter /
                (ctx->futhark_mc_segmap_parloop_130547_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130547_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130547_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130547_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130545            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130545_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130545_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130545_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130545_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130545_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130545_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130545_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130545_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130545_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130545_iter[i] /
                    (ctx->futhark_mc_segmap_task_130545_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130545_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_parloop_130542         ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_parloop_130542_runs[i],
                    (long) ctx->futhark_mc_segmap_parloop_130542_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130542_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130542_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_parloop_130542_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_parloop_130542_total_runtime[i] /
                    (ctx->futhark_mc_segmap_parloop_130542_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130542_iter[i]),
                    (long) ctx->futhark_mc_segmap_parloop_130542_iter[i],
                    (long) ctx->futhark_mc_segmap_parloop_130542_iter[i] /
                    (ctx->futhark_mc_segmap_parloop_130542_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_parloop_130542_runs[i] : 1));
        fprintf(ctx->log,
                "         futhark_mc_segmap_parloop_130542_total   ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                ctx->futhark_mc_segmap_parloop_130542_total_runs,
                (long) ctx->futhark_mc_segmap_parloop_130542_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130542_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130542_total_runs : 1),
                (long) ctx->futhark_mc_segmap_parloop_130542_total_total_runtime,
                (double) ctx->futhark_mc_segmap_parloop_130542_total_total_runtime /
                (ctx->futhark_mc_segmap_parloop_130542_total_iter ==
                 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_130542_total_iter),
                (long) ctx->futhark_mc_segmap_parloop_130542_total_iter,
                (long) ctx->futhark_mc_segmap_parloop_130542_total_iter /
                (ctx->futhark_mc_segmap_parloop_130542_total_runs !=
                 0 ? ctx->futhark_mc_segmap_parloop_130542_total_runs : 1));
        ctx->total_runtime +=
            ctx->futhark_mc_segmap_parloop_130542_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_130542_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_task_130536            ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_task_130536_runs[i],
                    (long) ctx->futhark_mc_segmap_task_130536_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130536_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130536_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_task_130536_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_task_130536_total_runtime[i] /
                    (ctx->futhark_mc_segmap_task_130536_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_task_130536_iter[i]),
                    (long) ctx->futhark_mc_segmap_task_130536_iter[i],
                    (long) ctx->futhark_mc_segmap_task_130536_iter[i] /
                    (ctx->futhark_mc_segmap_task_130536_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_task_130536_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log,
                    "tid %2d - futhark_mc_segmap_nested_task_130540     ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n",
                    i, ctx->futhark_mc_segmap_nested_task_130540_runs[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130540_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130540_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130540_runs[i] : 1),
                    (long) ctx->futhark_mc_segmap_nested_task_130540_total_runtime[i],
                    (double) ctx->futhark_mc_segmap_nested_task_130540_total_runtime[i] /
                    (ctx->futhark_mc_segmap_nested_task_130540_iter[i] ==
                     0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_130540_iter[i]),
                    (long) ctx->futhark_mc_segmap_nested_task_130540_iter[i],
                    (long) ctx->futhark_mc_segmap_nested_task_130540_iter[i] /
                    (ctx->futhark_mc_segmap_nested_task_130540_runs[i] !=
                     0 ? ctx->futhark_mc_segmap_nested_task_130540_runs[i] : 1));
    }
    return builder.str;
}
char *futhark_context_get_error(struct futhark_context *ctx)
{
    char *error = ctx->error;
    
    ctx->error = NULL;
    return error;
}
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f)
{
    ctx->log = f;
}
void futhark_context_pause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 1;
}
void futhark_context_unpause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 0;
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_129719,
                             struct memblock *mem_out_p_129720,
                             struct memblock *mem_out_p_129721,
                             struct memblock Y_mem_121004, int64_t m_114104,
                             int64_t n_114105, int64_t n_p_114107,
                             int64_t t_window_114108, int64_t l_window_114109,
                             int64_t t_degree_114110, int64_t l_degree_114111,
                             int64_t t_jump_114112, int64_t l_jump_114113,
                             int64_t inner_114114, int64_t outer_114115,
                             int64_t jump_threshold_114116,
                             int64_t max_group_sizze_114117);
static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_mc_task_129748 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_i_114181;
    char *free_Y_mem_121004;
    int64_t free_bytes_121005;
    char *free_mem_121044;
    char *free_mem_121047;
};
struct futhark_mc_segmap_parloop_struct_129750 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_i_114181;
    char *free_Y_mem_121004;
    int64_t free_bytes_121005;
    char *free_mem_121044;
    char *free_mem_121047;
};
static int futhark_mc_segmap_parloop_129751(void *args, int64_t start,
                                            int64_t end, int flat_tid_116293,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129750
    *futhark_mc_segmap_parloop_struct_129750 =
    (struct futhark_mc_segmap_parloop_struct_129750 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129750->ctx;
    uint64_t futhark_mc_segmap_parloop_129751_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129751_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129750->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129750->free_n_114105;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_129750->free_i_114181;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_129750->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121005 =
            futhark_mc_segmap_parloop_struct_129750->free_bytes_121005;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_129750->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_129750->free_mem_121047,
                                  .size =0, .references =NULL};
    size_t mem_121013_cached_sizze_129752 = 0;
    char *mem_121013 = NULL;
    size_t mem_121028_cached_sizze_129753 = 0;
    char *mem_121028 = NULL;
    int64_t iterations = end - start;
    int64_t iter_122888 = start;
    
    if (mem_121013_cached_sizze_129752 < (size_t) bytes_121005) {
        mem_121013 = realloc(mem_121013, bytes_121005);
        mem_121013_cached_sizze_129752 = bytes_121005;
    }
    if (mem_121028_cached_sizze_129753 < (size_t) bytes_121005) {
        mem_121028 = realloc(mem_121028, bytes_121005);
        mem_121028_cached_sizze_129753 = bytes_121005;
    }
    for (; iter_122888 < end; iter_122888++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_122907 = m_114104;
        int64_t gtid_116294 = iter_122888;
        int64_t remnant_122908 = iter_122888 - gtid_116294;
        int64_t discard_120380;
        int64_t scanacc_122890 = (int64_t) 0;
        
        for (int64_t i_122889 = 0; i_122889 < n_114105; i_122889++) {
            float x_122892 = ((float *) Y_mem_121004.mem)[gtid_116294 *
                                                          n_114105 + i_122889];
            bool isnan_res_122893;
            
            isnan_res_122893 = futrts_isnan32(x_122892);
            
            bool defunc_0_p_res_122894 = !isnan_res_122893;
            int64_t defunc_0_f_res_122895 =
                    btoi_bool_i64(defunc_0_p_res_122894);
            int64_t defunc_1_op_res_122896 = add64(defunc_0_f_res_122895,
                                                   scanacc_122890);
            
            ((int64_t *) mem_121013)[i_122889] = defunc_1_op_res_122896;
            
            int64_t scanacc_tmp_122909 = defunc_1_op_res_122896;
            
            scanacc_122890 = scanacc_tmp_122909;
        }
        discard_120380 = scanacc_122890;
        
        int64_t last_res_114198 = ((int64_t *) mem_121013)[i_114181];
        
        for (int64_t i_122911 = 0; i_122911 < n_114105; i_122911++) {
            ((int64_t *) mem_121028)[i_122911] = (int64_t) -1;
        }
        for (int64_t write_iter_122898 = 0; write_iter_122898 < n_114105;
             write_iter_122898++) {
            float write_iv_122900 = ((float *) Y_mem_121004.mem)[gtid_116294 *
                                                                 n_114105 +
                                                                 write_iter_122898];
            bool isnan_res_122901;
            
            isnan_res_122901 = futrts_isnan32(write_iv_122900);
            
            bool defunc_0_p_res_122902 = !isnan_res_122901;
            int64_t defunc_1_f_res_122903;
            
            if (defunc_0_p_res_122902) {
                int64_t write_iv_122904 =
                        ((int64_t *) mem_121013)[write_iter_122898];
                int64_t defunc_1_f_res_t_res_122905 = sub64(write_iv_122904,
                                                            (int64_t) 1);
                
                defunc_1_f_res_122903 = defunc_1_f_res_t_res_122905;
            } else {
                defunc_1_f_res_122903 = (int64_t) -1;
            }
            if (sle64((int64_t) 0, defunc_1_f_res_122903) &&
                slt64(defunc_1_f_res_122903, n_114105)) {
                ((int64_t *) mem_121028)[defunc_1_f_res_122903] =
                    write_iter_122898;
            }
        }
        memmove(mem_121044.mem + gtid_116294 * n_114105 * (int64_t) 8,
                mem_121028 + (int64_t) 0, n_114105 * (int64_t) 8);
        ((int64_t *) mem_121047.mem)[gtid_116294] = last_res_114198;
    }
    
  cleanup:
    { }
    free(mem_121013);
    free(mem_121028);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129751_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129751_end -
                 futhark_mc_segmap_parloop_129751_start;
        
        ctx->futhark_mc_segmap_parloop_129751_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129751_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129751_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129749(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116293 = tid;
    int num_tasks_122887 = info.nsubtasks;
    struct futhark_mc_task_129748 *futhark_mc_task_129748 =
                                  (struct futhark_mc_task_129748 *) args;
    struct futhark_context *ctx = futhark_mc_task_129748->ctx;
    uint64_t futhark_mc_segmap_task_129749_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129749_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129748->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129748->free_n_114105;
    int64_t i_114181 = futhark_mc_task_129748->free_i_114181;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_129748->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121005 = futhark_mc_task_129748->free_bytes_121005;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_129748->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_129748->free_mem_121047,
                                  .size =0, .references =NULL};
    int64_t iter_122888;
    struct futhark_mc_segmap_parloop_struct_129750
    futhark_mc_segmap_parloop_struct_129750;
    
    futhark_mc_segmap_parloop_struct_129750.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129750.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129750.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129750.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_129750.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_129750.free_bytes_121005 = bytes_121005;
    futhark_mc_segmap_parloop_struct_129750.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_129750.free_mem_121047 = mem_121047.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129751_task;
    
    futhark_mc_segmap_parloop_129751_task.name =
        "futhark_mc_segmap_parloop_129751";
    futhark_mc_segmap_parloop_129751_task.fn = futhark_mc_segmap_parloop_129751;
    futhark_mc_segmap_parloop_129751_task.args =
        &futhark_mc_segmap_parloop_struct_129750;
    futhark_mc_segmap_parloop_129751_task.iterations = iterations;
    futhark_mc_segmap_parloop_129751_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129751_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129751_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129751_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129751_task);
    
    if (futhark_mc_segmap_parloop_129751_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129751_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129751_total_end -
                 futhark_mc_segmap_parloop_129751_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129751_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129751_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129751_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129749_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129749_end -
                 futhark_mc_segmap_task_129749_start;
        
        ctx->futhark_mc_segmap_task_129749_runs[tid]++;
        ctx->futhark_mc_segmap_task_129749_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129749_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129755 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_i_114181;
    char *free_Y_mem_121004;
    int64_t free_bytes_121005;
    char *free_mem_121044;
    char *free_mem_121047;
};
struct futhark_mc_task_129759 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116296;
    char *free_Y_mem_121004;
    char *free_mem_121007;
};
struct futhark_mc_scan_stage_1_parloop_struct_129762 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116296;
    char *free_Y_mem_121004;
    char *free_mem_121007;
};
static int futhark_mc_scan_stage_1_parloop_129763(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_116297, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_1_parloop_struct_129762
    *futhark_mc_scan_stage_1_parloop_struct_129762 =
    (struct futhark_mc_scan_stage_1_parloop_struct_129762 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_1_parloop_struct_129762->ctx;
    uint64_t futhark_mc_scan_stage_1_parloop_129763_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_129763_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_scan_stage_1_parloop_struct_129762->free_n_114105;
    int64_t gtid_116296 =
            futhark_mc_scan_stage_1_parloop_struct_129762->free_gtid_116296;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_scan_stage_1_parloop_struct_129762->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121007 = {.desc ="mem_121007", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_129762->free_mem_121007,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_122930 = start;
    int64_t x_122914;
    int64_t x_122915;
    
    x_122914 = (int64_t) 0;
    for (; iter_122930 < end; iter_122930++) {
        int64_t gtid_116298 = iter_122930;
        
        // stage 1 scan body
        {
            float x_122917 = ((float *) Y_mem_121004.mem)[gtid_116296 *
                                                          n_114105 +
                                                          gtid_116298];
            bool isnan_res_122918;
            
            isnan_res_122918 = futrts_isnan32(x_122917);
            
            bool defunc_0_p_res_122919 = !isnan_res_122918;
            int64_t defunc_0_f_res_122920 =
                    btoi_bool_i64(defunc_0_p_res_122919);
            
            // write mapped values results to memory
            { }
            x_122914 = x_122914;
            // Read next values
            {
                x_122915 = defunc_0_f_res_122920;
            }
            
            int64_t defunc_1_op_res_122916 = add64(x_122914, x_122915);
            
            ((int64_t *) mem_121007.mem)[gtid_116298] = defunc_1_op_res_122916;
            x_122914 = defunc_1_op_res_122916;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_129763_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_129763_end -
                 futhark_mc_scan_stage_1_parloop_129763_start;
        
        ctx->futhark_mc_scan_stage_1_parloop_129763_runs[tid]++;
        ctx->futhark_mc_scan_stage_1_parloop_129763_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_1_parloop_129763_iter[tid] += iterations;
    }
    return err;
}
struct futhark_mc_scan_stage_3_parloop_struct_129764 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116296;
    char *free_Y_mem_121004;
    char *free_mem_121007;
};
static int futhark_mc_scan_stage_3_parloop_129765(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_116297, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_3_parloop_struct_129764
    *futhark_mc_scan_stage_3_parloop_struct_129764 =
    (struct futhark_mc_scan_stage_3_parloop_struct_129764 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_3_parloop_struct_129764->ctx;
    uint64_t futhark_mc_scan_stage_3_parloop_129765_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_3_parloop_129765_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_scan_stage_3_parloop_struct_129764->free_n_114105;
    int64_t gtid_116296 =
            futhark_mc_scan_stage_3_parloop_struct_129764->free_gtid_116296;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_scan_stage_3_parloop_struct_129764->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121007 = {.desc ="mem_121007", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_129764->free_mem_121007,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_122942 = start;
    int64_t x_122939;
    int64_t x_122940;
    
    if (iter_122942 == (int64_t) 0) {
        x_122939 = (int64_t) 0;
    } else {
        x_122939 = ((int64_t *) mem_121007.mem)[iter_122942 - (int64_t) 1];
    }
    for (; iter_122942 < end; iter_122942++) {
        int64_t gtid_116298 = iter_122942;
        
        // stage 3 scan body
        {
            float x_122917 = ((float *) Y_mem_121004.mem)[gtid_116296 *
                                                          n_114105 +
                                                          gtid_116298];
            bool isnan_res_122918;
            
            isnan_res_122918 = futrts_isnan32(x_122917);
            
            bool defunc_0_p_res_122919 = !isnan_res_122918;
            int64_t defunc_0_f_res_122920 =
                    btoi_bool_i64(defunc_0_p_res_122919);
            
            x_122939 = x_122939;
            x_122940 = defunc_0_f_res_122920;
            
            int64_t defunc_1_op_res_122941 = add64(x_122939, x_122940);
            
            ((int64_t *) mem_121007.mem)[gtid_116298] = defunc_1_op_res_122941;
            x_122939 = defunc_1_op_res_122941;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_3_parloop_129765_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_3_parloop_129765_end -
                 futhark_mc_scan_stage_3_parloop_129765_start;
        
        ctx->futhark_mc_scan_stage_3_parloop_129765_runs[tid]++;
        ctx->futhark_mc_scan_stage_3_parloop_129765_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_3_parloop_129765_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segscan_task_129760(void *args, int64_t iterations, int tid,
                                   struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116297 = tid;
    int num_tasks_122929 = info.nsubtasks;
    struct futhark_mc_task_129759 *futhark_mc_task_129759 =
                                  (struct futhark_mc_task_129759 *) args;
    struct futhark_context *ctx = futhark_mc_task_129759->ctx;
    uint64_t futhark_mc_segscan_task_129760_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segscan_task_129760_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129759->free_n_114105;
    int64_t gtid_116296 = futhark_mc_task_129759->free_gtid_116296;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_129759->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121007 = {.desc ="mem_121007", .mem =
                                  futhark_mc_task_129759->free_mem_121007,
                                  .size =0, .references =NULL};
    size_t scan_stage_2_accum_mem_122936_cached_sizze_129761 = 0;
    char *scan_stage_2_accum_mem_122936 = NULL;
    int64_t iter_122930;
    struct futhark_mc_scan_stage_1_parloop_struct_129762
    futhark_mc_scan_stage_1_parloop_struct_129762;
    
    futhark_mc_scan_stage_1_parloop_struct_129762.ctx = ctx;
    futhark_mc_scan_stage_1_parloop_struct_129762.free_n_114105 = n_114105;
    futhark_mc_scan_stage_1_parloop_struct_129762.free_gtid_116296 =
        gtid_116296;
    futhark_mc_scan_stage_1_parloop_struct_129762.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_scan_stage_1_parloop_struct_129762.free_mem_121007 =
        mem_121007.mem;
    
    struct scheduler_parloop futhark_mc_scan_stage_1_parloop_129763_task;
    
    futhark_mc_scan_stage_1_parloop_129763_task.name =
        "futhark_mc_scan_stage_1_parloop_129763";
    futhark_mc_scan_stage_1_parloop_129763_task.fn =
        futhark_mc_scan_stage_1_parloop_129763;
    futhark_mc_scan_stage_1_parloop_129763_task.args =
        &futhark_mc_scan_stage_1_parloop_struct_129762;
    futhark_mc_scan_stage_1_parloop_129763_task.iterations = iterations;
    futhark_mc_scan_stage_1_parloop_129763_task.info = info;
    
    uint64_t futhark_mc_scan_stage_1_parloop_129763_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_129763_total_start = get_wall_time();
    
    int futhark_mc_scan_stage_1_parloop_129763_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_scan_stage_1_parloop_129763_task);
    
    if (futhark_mc_scan_stage_1_parloop_129763_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_129763_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_129763_total_end -
                 futhark_mc_scan_stage_1_parloop_129763_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_129763_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_129763_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_129763_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (slt32(1, num_tasks_122929)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmentedScan stage 2");
        
        int64_t x_122931;
        int64_t x_122932;
        int64_t offset_122934 = (int64_t) 0;
        int64_t offset_index_122935 = (int64_t) 0;
        
        if (scan_stage_2_accum_mem_122936_cached_sizze_129761 <
            (size_t) (int64_t) 8) {
            scan_stage_2_accum_mem_122936 =
                realloc(scan_stage_2_accum_mem_122936, (int64_t) 8);
            scan_stage_2_accum_mem_122936_cached_sizze_129761 = (int64_t) 8;
        }
        ((int64_t *) scan_stage_2_accum_mem_122936)[(int64_t) 0] = (int64_t) 0;
        for (int32_t i_122938 = 0; i_122938 < num_tasks_122929 - 1;
             i_122938++) {
            offset_122934 = squot64(n_114105, sext_i32_i64(num_tasks_122929));
            if (slt64(sext_i32_i64(i_122938), srem64(n_114105,
                                                     sext_i32_i64(num_tasks_122929)))) {
                offset_122934 += (int64_t) 1;
            }
            offset_index_122935 += offset_122934;
            
            int64_t gtid_116298 = offset_index_122935;
            float x_122917 = ((float *) Y_mem_121004.mem)[gtid_116296 *
                                                          n_114105 +
                                                          gtid_116298];
            bool isnan_res_122918;
            
            isnan_res_122918 = futrts_isnan32(x_122917);
            
            bool defunc_0_p_res_122919 = !isnan_res_122918;
            int64_t defunc_0_f_res_122920 =
                    btoi_bool_i64(defunc_0_p_res_122919);
            
            // Read carry in
            {
                x_122931 =
                    ((int64_t *) scan_stage_2_accum_mem_122936)[(int64_t) 0];
            }
            // Read next values
            {
                x_122932 = ((int64_t *) mem_121007.mem)[offset_index_122935 -
                                                        (int64_t) 1];
            }
            
            int64_t defunc_1_op_res_122933 = add64(x_122931, x_122932);
            
            ((int64_t *) mem_121007.mem)[offset_index_122935 - (int64_t) 1] =
                defunc_1_op_res_122933;
            ((int64_t *) scan_stage_2_accum_mem_122936)[(int64_t) 0] =
                defunc_1_op_res_122933;
        }
        
        int64_t iter_122942 = (int64_t) 0;
        struct futhark_mc_scan_stage_3_parloop_struct_129764
        futhark_mc_scan_stage_3_parloop_struct_129764;
        
        futhark_mc_scan_stage_3_parloop_struct_129764.ctx = ctx;
        futhark_mc_scan_stage_3_parloop_struct_129764.free_n_114105 = n_114105;
        futhark_mc_scan_stage_3_parloop_struct_129764.free_gtid_116296 =
            gtid_116296;
        futhark_mc_scan_stage_3_parloop_struct_129764.free_Y_mem_121004 =
            Y_mem_121004.mem;
        futhark_mc_scan_stage_3_parloop_struct_129764.free_mem_121007 =
            mem_121007.mem;
        
        struct scheduler_parloop futhark_mc_scan_stage_3_parloop_129765_task;
        
        futhark_mc_scan_stage_3_parloop_129765_task.name =
            "futhark_mc_scan_stage_3_parloop_129765";
        futhark_mc_scan_stage_3_parloop_129765_task.fn =
            futhark_mc_scan_stage_3_parloop_129765;
        futhark_mc_scan_stage_3_parloop_129765_task.args =
            &futhark_mc_scan_stage_3_parloop_struct_129764;
        futhark_mc_scan_stage_3_parloop_129765_task.iterations = iterations;
        futhark_mc_scan_stage_3_parloop_129765_task.info = info;
        
        uint64_t futhark_mc_scan_stage_3_parloop_129765_total_start = 0;
        
        if (ctx->profiling && !ctx->profiling_paused)
            futhark_mc_scan_stage_3_parloop_129765_total_start =
                get_wall_time();
        
        int futhark_mc_scan_stage_3_parloop_129765_err =
            scheduler_execute_task(&ctx->scheduler,
                                   &futhark_mc_scan_stage_3_parloop_129765_task);
        
        if (futhark_mc_scan_stage_3_parloop_129765_err != 0) {
            err = 1;
            goto cleanup;
        }
        if (ctx->profiling && !ctx->profiling_paused) {
            uint64_t futhark_mc_scan_stage_3_parloop_129765_total_end =
                     get_wall_time();
            uint64_t elapsed =
                     futhark_mc_scan_stage_3_parloop_129765_total_end -
                     futhark_mc_scan_stage_3_parloop_129765_total_start;
            
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_129765_total_runs,
                               1, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_129765_total_total_runtime,
                               elapsed, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_129765_total_iter,
                               iterations, __ATOMIC_RELAXED);
        }
    }
    free(scan_stage_2_accum_mem_122936);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segscan_task_129760_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segscan_task_129760_end -
                 futhark_mc_segscan_task_129760_start;
        
        ctx->futhark_mc_segscan_task_129760_runs[tid]++;
        ctx->futhark_mc_segscan_task_129760_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segscan_task_129760_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129766 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116296;
    char *free_Y_mem_121004;
    char *free_mem_121007;
    char *free_mem_121010;
};
struct futhark_mc_segmap_parloop_struct_129768 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116296;
    char *free_Y_mem_121004;
    char *free_mem_121007;
    char *free_mem_121010;
};
static int futhark_mc_segmap_parloop_129769(void *args, int64_t start,
                                            int64_t end, int flat_tid_116299,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129768
    *futhark_mc_segmap_parloop_struct_129768 =
    (struct futhark_mc_segmap_parloop_struct_129768 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129768->ctx;
    uint64_t futhark_mc_segmap_parloop_129769_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129769_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129768->free_n_114105;
    int64_t gtid_116296 =
            futhark_mc_segmap_parloop_struct_129768->free_gtid_116296;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_129768->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121007 = {.desc ="mem_121007", .mem =
                                  futhark_mc_segmap_parloop_struct_129768->free_mem_121007,
                                  .size =0, .references =NULL};
    struct memblock mem_121010 = {.desc ="mem_121010", .mem =
                                  futhark_mc_segmap_parloop_struct_129768->free_mem_121010,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_122945 = start;
    
    for (; iter_122945 < end; iter_122945++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_122948 = n_114105;
        int64_t gtid_116300 = iter_122945;
        int64_t remnant_122949 = iter_122945 - gtid_116300;
        float x_122921 = ((float *) Y_mem_121004.mem)[gtid_116296 * n_114105 +
                                                      gtid_116300];
        bool isnan_res_122922;
        
        isnan_res_122922 = futrts_isnan32(x_122921);
        
        bool defunc_0_p_res_122923 = !isnan_res_122922;
        int64_t defunc_1_f_res_122924;
        
        if (defunc_0_p_res_122923) {
            int64_t x_122946 = ((int64_t *) mem_121007.mem)[gtid_116300];
            int64_t defunc_1_f_res_t_res_122947 = sub64(x_122946, (int64_t) 1);
            
            defunc_1_f_res_122924 = defunc_1_f_res_t_res_122947;
        } else {
            defunc_1_f_res_122924 = (int64_t) -1;
        }
        if (sle64((int64_t) 0, defunc_1_f_res_122924) &&
            slt64(defunc_1_f_res_122924, n_114105)) {
            ((int64_t *) mem_121010.mem)[defunc_1_f_res_122924] = gtid_116300;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129769_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129769_end -
                 futhark_mc_segmap_parloop_129769_start;
        
        ctx->futhark_mc_segmap_parloop_129769_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129769_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129769_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129767(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116299 = tid;
    int num_tasks_122944 = info.nsubtasks;
    struct futhark_mc_task_129766 *futhark_mc_task_129766 =
                                  (struct futhark_mc_task_129766 *) args;
    struct futhark_context *ctx = futhark_mc_task_129766->ctx;
    uint64_t futhark_mc_segmap_task_129767_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129767_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129766->free_n_114105;
    int64_t gtid_116296 = futhark_mc_task_129766->free_gtid_116296;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_129766->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121007 = {.desc ="mem_121007", .mem =
                                  futhark_mc_task_129766->free_mem_121007,
                                  .size =0, .references =NULL};
    struct memblock mem_121010 = {.desc ="mem_121010", .mem =
                                  futhark_mc_task_129766->free_mem_121010,
                                  .size =0, .references =NULL};
    int64_t iter_122945;
    struct futhark_mc_segmap_parloop_struct_129768
    futhark_mc_segmap_parloop_struct_129768;
    
    futhark_mc_segmap_parloop_struct_129768.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129768.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129768.free_gtid_116296 = gtid_116296;
    futhark_mc_segmap_parloop_struct_129768.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_129768.free_mem_121007 = mem_121007.mem;
    futhark_mc_segmap_parloop_struct_129768.free_mem_121010 = mem_121010.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129769_task;
    
    futhark_mc_segmap_parloop_129769_task.name =
        "futhark_mc_segmap_parloop_129769";
    futhark_mc_segmap_parloop_129769_task.fn = futhark_mc_segmap_parloop_129769;
    futhark_mc_segmap_parloop_129769_task.args =
        &futhark_mc_segmap_parloop_struct_129768;
    futhark_mc_segmap_parloop_129769_task.iterations = iterations;
    futhark_mc_segmap_parloop_129769_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129769_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129769_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129769_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129769_task);
    
    if (futhark_mc_segmap_parloop_129769_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129769_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129769_total_end -
                 futhark_mc_segmap_parloop_129769_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129769_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129769_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129769_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129767_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129767_end -
                 futhark_mc_segmap_task_129767_start;
        
        ctx->futhark_mc_segmap_task_129767_runs[tid]++;
        ctx->futhark_mc_segmap_task_129767_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129767_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129756(void *args, int64_t start,
                                            int64_t end, int flat_tid_116295,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129755
    *futhark_mc_segmap_parloop_struct_129755 =
    (struct futhark_mc_segmap_parloop_struct_129755 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129755->ctx;
    uint64_t futhark_mc_segmap_parloop_129756_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129756_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129755->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129755->free_n_114105;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_129755->free_i_114181;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_129755->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121005 =
            futhark_mc_segmap_parloop_struct_129755->free_bytes_121005;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_129755->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_129755->free_mem_121047,
                                  .size =0, .references =NULL};
    size_t mem_121007_cached_sizze_129757 = 0;
    char *mem_121007 = NULL;
    size_t mem_121010_cached_sizze_129758 = 0;
    char *mem_121010 = NULL;
    int64_t iterations = end - start;
    int64_t iter_122913 = start;
    
    if (mem_121007_cached_sizze_129757 < (size_t) bytes_121005) {
        mem_121007 = realloc(mem_121007, bytes_121005);
        mem_121007_cached_sizze_129757 = bytes_121005;
    }
    if (mem_121010_cached_sizze_129758 < (size_t) bytes_121005) {
        mem_121010 = realloc(mem_121010, bytes_121005);
        mem_121010_cached_sizze_129758 = bytes_121005;
    }
    for (; iter_122913 < end; iter_122913++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_122927 = m_114104;
        int64_t gtid_116296 = iter_122913;
        int64_t remnant_122928 = iter_122913 - gtid_116296;
        int64_t flat_tid_116297 = (int64_t) 0;
        int32_t num_tasks_122929;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmented segScan");
        
        struct futhark_mc_task_129759 futhark_mc_task_129759;
        
        futhark_mc_task_129759.ctx = ctx;
        futhark_mc_task_129759.free_n_114105 = n_114105;
        futhark_mc_task_129759.free_gtid_116296 = gtid_116296;
        futhark_mc_task_129759.free_Y_mem_121004 = Y_mem_121004.mem;
        futhark_mc_task_129759.free_mem_121007 = mem_121007;
        
        struct scheduler_segop futhark_mc_task_129759_task;
        
        futhark_mc_task_129759_task.args = &futhark_mc_task_129759;
        futhark_mc_task_129759_task.top_level_fn =
            futhark_mc_segscan_task_129760;
        futhark_mc_task_129759_task.name = "futhark_mc_segscan_task_129760";
        futhark_mc_task_129759_task.iterations = n_114105;
        futhark_mc_task_129759_task.task_time =
            &ctx->futhark_mc_segscan_task_129760_total_time;
        futhark_mc_task_129759_task.task_iter =
            &ctx->futhark_mc_segscan_task_129760_total_iter;
        futhark_mc_task_129759_task.sched = STATIC;
        futhark_mc_task_129759_task.nested_fn = NULL;
        
        int futhark_mc_segscan_task_129760_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129759_task);
        
        if (futhark_mc_segscan_task_129760_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t last_res_116310 = ((int64_t *) mem_121007)[i_114181];
        
        for (int64_t i_122943 = 0; i_122943 < n_114105; i_122943++) {
            ((int64_t *) mem_121010)[i_122943] = (int64_t) -1;
        }
        
        int64_t flat_tid_116299 = (int64_t) 0;
        int32_t num_tasks_122944;
        struct futhark_mc_task_129766 futhark_mc_task_129766;
        
        futhark_mc_task_129766.ctx = ctx;
        futhark_mc_task_129766.free_n_114105 = n_114105;
        futhark_mc_task_129766.free_gtid_116296 = gtid_116296;
        futhark_mc_task_129766.free_Y_mem_121004 = Y_mem_121004.mem;
        futhark_mc_task_129766.free_mem_121007 = mem_121007;
        futhark_mc_task_129766.free_mem_121010 = mem_121010;
        
        struct scheduler_segop futhark_mc_task_129766_task;
        
        futhark_mc_task_129766_task.args = &futhark_mc_task_129766;
        futhark_mc_task_129766_task.top_level_fn =
            futhark_mc_segmap_task_129767;
        futhark_mc_task_129766_task.name = "futhark_mc_segmap_task_129767";
        futhark_mc_task_129766_task.iterations = n_114105;
        futhark_mc_task_129766_task.task_time =
            &ctx->futhark_mc_segmap_task_129767_total_time;
        futhark_mc_task_129766_task.task_iter =
            &ctx->futhark_mc_segmap_task_129767_total_iter;
        futhark_mc_task_129766_task.sched = STATIC;
        futhark_mc_task_129766_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_129767_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129766_task);
        
        if (futhark_mc_segmap_task_129767_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121044.mem + gtid_116296 * n_114105 * (int64_t) 8,
                mem_121010 + (int64_t) 0, n_114105 * (int64_t) 8);
        ((int64_t *) mem_121047.mem)[gtid_116296] = last_res_116310;
    }
    
  cleanup:
    { }
    free(mem_121007);
    free(mem_121010);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129756_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129756_end -
                 futhark_mc_segmap_parloop_129756_start;
        
        ctx->futhark_mc_segmap_parloop_129756_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129756_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129756_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129754(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116295 = tid;
    int num_tasks_122887 = info.nsubtasks;
    struct futhark_mc_task_129748 *futhark_mc_task_129748 =
                                  (struct futhark_mc_task_129748 *) args;
    struct futhark_context *ctx = futhark_mc_task_129748->ctx;
    uint64_t futhark_mc_segmap_nested_task_129754_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129754_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129748->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129748->free_n_114105;
    int64_t i_114181 = futhark_mc_task_129748->free_i_114181;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_129748->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121005 = futhark_mc_task_129748->free_bytes_121005;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_129748->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_129748->free_mem_121047,
                                  .size =0, .references =NULL};
    int64_t iter_122913;
    struct futhark_mc_segmap_parloop_struct_129755
    futhark_mc_segmap_parloop_struct_129755;
    
    futhark_mc_segmap_parloop_struct_129755.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129755.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129755.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129755.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_129755.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_129755.free_bytes_121005 = bytes_121005;
    futhark_mc_segmap_parloop_struct_129755.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_129755.free_mem_121047 = mem_121047.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129756_task;
    
    futhark_mc_segmap_parloop_129756_task.name =
        "futhark_mc_segmap_parloop_129756";
    futhark_mc_segmap_parloop_129756_task.fn = futhark_mc_segmap_parloop_129756;
    futhark_mc_segmap_parloop_129756_task.args =
        &futhark_mc_segmap_parloop_struct_129755;
    futhark_mc_segmap_parloop_129756_task.iterations = iterations;
    futhark_mc_segmap_parloop_129756_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129756_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129756_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129756_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129756_task);
    
    if (futhark_mc_segmap_parloop_129756_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129756_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129756_total_end -
                 futhark_mc_segmap_parloop_129756_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129756_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129756_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129756_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129754_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129754_end -
                 futhark_mc_segmap_nested_task_129754_start;
        
        ctx->futhark_mc_segmap_nested_task_129754_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129754_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129754_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129770 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_mem_121044;
    int64_t free_bytes_121048;
    char *free_mem_121069;
};
struct futhark_mc_segmap_parloop_struct_129772 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_mem_121044;
    int64_t free_bytes_121048;
    char *free_mem_121069;
};
static int futhark_mc_segmap_parloop_129773(void *args, int64_t start,
                                            int64_t end, int flat_tid_116320,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129772
    *futhark_mc_segmap_parloop_struct_129772 =
    (struct futhark_mc_segmap_parloop_struct_129772 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129772->ctx;
    uint64_t futhark_mc_segmap_parloop_129773_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129773_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129772->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129772->free_n_114105;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_129772->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_129772->free_bytes_121048;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_129772->free_mem_121069,
                                  .size =0, .references =NULL};
    size_t mem_121053_cached_sizze_129774 = 0;
    char *mem_121053 = NULL;
    int64_t iterations = end - start;
    int64_t iter_122951 = start;
    
    if (mem_121053_cached_sizze_129774 < (size_t) bytes_121048) {
        mem_121053 = realloc(mem_121053, bytes_121048);
        mem_121053_cached_sizze_129774 = bytes_121048;
    }
    for (; iter_122951 < end; iter_122951++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_122957 = m_114104;
        int64_t gtid_116321 = iter_122951;
        int64_t remnant_122958 = iter_122951 - gtid_116321;
        
        for (int64_t i_122952 = 0; i_122952 < n_114105; i_122952++) {
            int64_t x_122954 = ((int64_t *) mem_121044.mem)[gtid_116321 *
                                                            n_114105 +
                                                            i_122952];
            float i64_res_122955 = sitofp_i64_f32(x_122954);
            
            ((float *) mem_121053)[i_122952] = i64_res_122955;
        }
        memmove(mem_121069.mem + gtid_116321 * n_114105 * (int64_t) 4,
                mem_121053 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121053);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129773_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129773_end -
                 futhark_mc_segmap_parloop_129773_start;
        
        ctx->futhark_mc_segmap_parloop_129773_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129773_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129773_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129771(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116320 = tid;
    int num_tasks_122950 = info.nsubtasks;
    struct futhark_mc_task_129770 *futhark_mc_task_129770 =
                                  (struct futhark_mc_task_129770 *) args;
    struct futhark_context *ctx = futhark_mc_task_129770->ctx;
    uint64_t futhark_mc_segmap_task_129771_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129771_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129770->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129770->free_n_114105;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_129770->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t bytes_121048 = futhark_mc_task_129770->free_bytes_121048;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_129770->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t iter_122951;
    struct futhark_mc_segmap_parloop_struct_129772
    futhark_mc_segmap_parloop_struct_129772;
    
    futhark_mc_segmap_parloop_struct_129772.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129772.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129772.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129772.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_129772.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_129772.free_mem_121069 = mem_121069.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129773_task;
    
    futhark_mc_segmap_parloop_129773_task.name =
        "futhark_mc_segmap_parloop_129773";
    futhark_mc_segmap_parloop_129773_task.fn = futhark_mc_segmap_parloop_129773;
    futhark_mc_segmap_parloop_129773_task.args =
        &futhark_mc_segmap_parloop_struct_129772;
    futhark_mc_segmap_parloop_129773_task.iterations = iterations;
    futhark_mc_segmap_parloop_129773_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129773_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129773_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129773_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129773_task);
    
    if (futhark_mc_segmap_parloop_129773_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129773_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129773_total_end -
                 futhark_mc_segmap_parloop_129773_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129773_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129773_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129773_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129771_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129771_end -
                 futhark_mc_segmap_task_129771_start;
        
        ctx->futhark_mc_segmap_task_129771_runs[tid]++;
        ctx->futhark_mc_segmap_task_129771_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129771_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129776 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_mem_121044;
    int64_t free_bytes_121048;
    char *free_mem_121069;
};
struct futhark_mc_task_129779 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116323;
    char *free_mem_121044;
    char *free_mem_121050;
};
struct futhark_mc_segmap_parloop_struct_129781 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116323;
    char *free_mem_121044;
    char *free_mem_121050;
};
static int futhark_mc_segmap_parloop_129782(void *args, int64_t start,
                                            int64_t end, int flat_tid_116324,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129781
    *futhark_mc_segmap_parloop_struct_129781 =
    (struct futhark_mc_segmap_parloop_struct_129781 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129781->ctx;
    uint64_t futhark_mc_segmap_parloop_129782_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129782_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129781->free_n_114105;
    int64_t gtid_116323 =
            futhark_mc_segmap_parloop_struct_129781->free_gtid_116323;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_129781->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121050 = {.desc ="mem_121050", .mem =
                                  futhark_mc_segmap_parloop_struct_129781->free_mem_121050,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_122966 = start;
    
    for (; iter_122966 < end; iter_122966++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_122967 = n_114105;
        int64_t gtid_116325 = iter_122966;
        int64_t remnant_122968 = iter_122966 - gtid_116325;
        int64_t x_122961 = ((int64_t *) mem_121044.mem)[gtid_116323 * n_114105 +
                                                        gtid_116325];
        float i64_res_122962 = sitofp_i64_f32(x_122961);
        
        ((float *) mem_121050.mem)[gtid_116325] = i64_res_122962;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129782_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129782_end -
                 futhark_mc_segmap_parloop_129782_start;
        
        ctx->futhark_mc_segmap_parloop_129782_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129782_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129782_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129780(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116324 = tid;
    int num_tasks_122965 = info.nsubtasks;
    struct futhark_mc_task_129779 *futhark_mc_task_129779 =
                                  (struct futhark_mc_task_129779 *) args;
    struct futhark_context *ctx = futhark_mc_task_129779->ctx;
    uint64_t futhark_mc_segmap_task_129780_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129780_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129779->free_n_114105;
    int64_t gtid_116323 = futhark_mc_task_129779->free_gtid_116323;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_129779->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121050 = {.desc ="mem_121050", .mem =
                                  futhark_mc_task_129779->free_mem_121050,
                                  .size =0, .references =NULL};
    int64_t iter_122966;
    struct futhark_mc_segmap_parloop_struct_129781
    futhark_mc_segmap_parloop_struct_129781;
    
    futhark_mc_segmap_parloop_struct_129781.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129781.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129781.free_gtid_116323 = gtid_116323;
    futhark_mc_segmap_parloop_struct_129781.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_129781.free_mem_121050 = mem_121050.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129782_task;
    
    futhark_mc_segmap_parloop_129782_task.name =
        "futhark_mc_segmap_parloop_129782";
    futhark_mc_segmap_parloop_129782_task.fn = futhark_mc_segmap_parloop_129782;
    futhark_mc_segmap_parloop_129782_task.args =
        &futhark_mc_segmap_parloop_struct_129781;
    futhark_mc_segmap_parloop_129782_task.iterations = iterations;
    futhark_mc_segmap_parloop_129782_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129782_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129782_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129782_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129782_task);
    
    if (futhark_mc_segmap_parloop_129782_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129782_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129782_total_end -
                 futhark_mc_segmap_parloop_129782_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129782_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129782_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129782_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129780_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129780_end -
                 futhark_mc_segmap_task_129780_start;
        
        ctx->futhark_mc_segmap_task_129780_runs[tid]++;
        ctx->futhark_mc_segmap_task_129780_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129780_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129777(void *args, int64_t start,
                                            int64_t end, int flat_tid_116322,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129776
    *futhark_mc_segmap_parloop_struct_129776 =
    (struct futhark_mc_segmap_parloop_struct_129776 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129776->ctx;
    uint64_t futhark_mc_segmap_parloop_129777_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129777_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129776->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129776->free_n_114105;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_129776->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_129776->free_bytes_121048;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_129776->free_mem_121069,
                                  .size =0, .references =NULL};
    size_t mem_121050_cached_sizze_129778 = 0;
    char *mem_121050 = NULL;
    int64_t iterations = end - start;
    int64_t iter_122960 = start;
    
    if (mem_121050_cached_sizze_129778 < (size_t) bytes_121048) {
        mem_121050 = realloc(mem_121050, bytes_121048);
        mem_121050_cached_sizze_129778 = bytes_121048;
    }
    for (; iter_122960 < end; iter_122960++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_122963 = m_114104;
        int64_t gtid_116323 = iter_122960;
        int64_t remnant_122964 = iter_122960 - gtid_116323;
        int64_t flat_tid_116324 = (int64_t) 0;
        int32_t num_tasks_122965;
        struct futhark_mc_task_129779 futhark_mc_task_129779;
        
        futhark_mc_task_129779.ctx = ctx;
        futhark_mc_task_129779.free_n_114105 = n_114105;
        futhark_mc_task_129779.free_gtid_116323 = gtid_116323;
        futhark_mc_task_129779.free_mem_121044 = mem_121044.mem;
        futhark_mc_task_129779.free_mem_121050 = mem_121050;
        
        struct scheduler_segop futhark_mc_task_129779_task;
        
        futhark_mc_task_129779_task.args = &futhark_mc_task_129779;
        futhark_mc_task_129779_task.top_level_fn =
            futhark_mc_segmap_task_129780;
        futhark_mc_task_129779_task.name = "futhark_mc_segmap_task_129780";
        futhark_mc_task_129779_task.iterations = n_114105;
        futhark_mc_task_129779_task.task_time =
            &ctx->futhark_mc_segmap_task_129780_total_time;
        futhark_mc_task_129779_task.task_iter =
            &ctx->futhark_mc_segmap_task_129780_total_iter;
        futhark_mc_task_129779_task.sched = STATIC;
        futhark_mc_task_129779_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_129780_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129779_task);
        
        if (futhark_mc_segmap_task_129780_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121069.mem + gtid_116323 * n_114105 * (int64_t) 4,
                mem_121050 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121050);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129777_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129777_end -
                 futhark_mc_segmap_parloop_129777_start;
        
        ctx->futhark_mc_segmap_parloop_129777_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129777_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129777_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129775(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116322 = tid;
    int num_tasks_122950 = info.nsubtasks;
    struct futhark_mc_task_129770 *futhark_mc_task_129770 =
                                  (struct futhark_mc_task_129770 *) args;
    struct futhark_context *ctx = futhark_mc_task_129770->ctx;
    uint64_t futhark_mc_segmap_nested_task_129775_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129775_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129770->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129770->free_n_114105;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_129770->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t bytes_121048 = futhark_mc_task_129770->free_bytes_121048;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_129770->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t iter_122960;
    struct futhark_mc_segmap_parloop_struct_129776
    futhark_mc_segmap_parloop_struct_129776;
    
    futhark_mc_segmap_parloop_struct_129776.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129776.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129776.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129776.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_129776.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_129776.free_mem_121069 = mem_121069.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129777_task;
    
    futhark_mc_segmap_parloop_129777_task.name =
        "futhark_mc_segmap_parloop_129777";
    futhark_mc_segmap_parloop_129777_task.fn = futhark_mc_segmap_parloop_129777;
    futhark_mc_segmap_parloop_129777_task.args =
        &futhark_mc_segmap_parloop_struct_129776;
    futhark_mc_segmap_parloop_129777_task.iterations = iterations;
    futhark_mc_segmap_parloop_129777_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129777_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129777_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129777_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129777_task);
    
    if (futhark_mc_segmap_parloop_129777_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129777_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129777_total_end -
                 futhark_mc_segmap_parloop_129777_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129777_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129777_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129777_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129775_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129775_end -
                 futhark_mc_segmap_nested_task_129775_start;
        
        ctx->futhark_mc_segmap_nested_task_129775_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129775_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129775_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129783 {
    struct futhark_context *ctx;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    int64_t free_i_114181;
    int64_t free_bytes_121070;
    char *free_mem_121091;
};
struct futhark_mc_segmap_parloop_struct_129785 {
    struct futhark_context *ctx;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    int64_t free_i_114181;
    int64_t free_bytes_121070;
    char *free_mem_121091;
};
static int futhark_mc_segmap_parloop_129786(void *args, int64_t start,
                                            int64_t end, int flat_tid_116330,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129785
    *futhark_mc_segmap_parloop_struct_129785 =
    (struct futhark_mc_segmap_parloop_struct_129785 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129785->ctx;
    uint64_t futhark_mc_segmap_parloop_129786_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129786_start = get_wall_time();
    
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129785->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_segmap_parloop_struct_129785->free_css_chunk_len_114151;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_129785->free_i_114181;
    int64_t bytes_121070 =
            futhark_mc_segmap_parloop_struct_129785->free_bytes_121070;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_segmap_parloop_struct_129785->free_mem_121091,
                                  .size =0, .references =NULL};
    size_t mem_121075_cached_sizze_129787 = 0;
    char *mem_121075 = NULL;
    int64_t iterations = end - start;
    int64_t iter_122970 = start;
    
    if (mem_121075_cached_sizze_129787 < (size_t) bytes_121070) {
        mem_121075 = realloc(mem_121075, bytes_121070);
        mem_121075_cached_sizze_129787 = bytes_121070;
    }
    for (; iter_122970 < end; iter_122970++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_122978 = n_p_114107;
        int64_t gtid_116331 = iter_122970;
        int64_t remnant_122979 = iter_122970 - gtid_116331;
        
        for (int64_t i_122971 = 0; i_122971 < css_chunk_len_114151;
             i_122971++) {
            int64_t y_122973 = mul64(n_p_114107, i_122971);
            int64_t res_idx_122974 = add64(y_122973, gtid_116331);
            bool cond_122975 = slt64(i_114181, res_idx_122974);
            int64_t defunc_0_f_res_122976;
            
            if (cond_122975) {
                defunc_0_f_res_122976 = (int64_t) -1;
            } else {
                defunc_0_f_res_122976 = res_idx_122974;
            }
            ((int64_t *) mem_121075)[i_122971] = defunc_0_f_res_122976;
        }
        memmove(mem_121091.mem + gtid_116331 * css_chunk_len_114151 *
                (int64_t) 8, mem_121075 + (int64_t) 0, css_chunk_len_114151 *
                (int64_t) 8);
    }
    
  cleanup:
    { }
    free(mem_121075);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129786_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129786_end -
                 futhark_mc_segmap_parloop_129786_start;
        
        ctx->futhark_mc_segmap_parloop_129786_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129786_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129786_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129784(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116330 = tid;
    int num_tasks_122969 = info.nsubtasks;
    struct futhark_mc_task_129783 *futhark_mc_task_129783 =
                                  (struct futhark_mc_task_129783 *) args;
    struct futhark_context *ctx = futhark_mc_task_129783->ctx;
    uint64_t futhark_mc_segmap_task_129784_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129784_start = get_wall_time();
    
    int64_t n_p_114107 = futhark_mc_task_129783->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_task_129783->free_css_chunk_len_114151;
    int64_t i_114181 = futhark_mc_task_129783->free_i_114181;
    int64_t bytes_121070 = futhark_mc_task_129783->free_bytes_121070;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_task_129783->free_mem_121091,
                                  .size =0, .references =NULL};
    int64_t iter_122970;
    struct futhark_mc_segmap_parloop_struct_129785
    futhark_mc_segmap_parloop_struct_129785;
    
    futhark_mc_segmap_parloop_struct_129785.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129785.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129785.free_css_chunk_len_114151 =
        css_chunk_len_114151;
    futhark_mc_segmap_parloop_struct_129785.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_129785.free_bytes_121070 = bytes_121070;
    futhark_mc_segmap_parloop_struct_129785.free_mem_121091 = mem_121091.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129786_task;
    
    futhark_mc_segmap_parloop_129786_task.name =
        "futhark_mc_segmap_parloop_129786";
    futhark_mc_segmap_parloop_129786_task.fn = futhark_mc_segmap_parloop_129786;
    futhark_mc_segmap_parloop_129786_task.args =
        &futhark_mc_segmap_parloop_struct_129785;
    futhark_mc_segmap_parloop_129786_task.iterations = iterations;
    futhark_mc_segmap_parloop_129786_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129786_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129786_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129786_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129786_task);
    
    if (futhark_mc_segmap_parloop_129786_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129786_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129786_total_end -
                 futhark_mc_segmap_parloop_129786_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129786_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129786_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129786_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129784_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129784_end -
                 futhark_mc_segmap_task_129784_start;
        
        ctx->futhark_mc_segmap_task_129784_runs[tid]++;
        ctx->futhark_mc_segmap_task_129784_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129784_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129789 {
    struct futhark_context *ctx;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    int64_t free_i_114181;
    int64_t free_bytes_121070;
    char *free_mem_121091;
};
struct futhark_mc_task_129792 {
    struct futhark_context *ctx;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    int64_t free_i_114181;
    int64_t free_gtid_116333;
    char *free_mem_121072;
};
struct futhark_mc_segmap_parloop_struct_129794 {
    struct futhark_context *ctx;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    int64_t free_i_114181;
    int64_t free_gtid_116333;
    char *free_mem_121072;
};
static int futhark_mc_segmap_parloop_129795(void *args, int64_t start,
                                            int64_t end, int flat_tid_116334,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129794
    *futhark_mc_segmap_parloop_struct_129794 =
    (struct futhark_mc_segmap_parloop_struct_129794 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129794->ctx;
    uint64_t futhark_mc_segmap_parloop_129795_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129795_start = get_wall_time();
    
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129794->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_segmap_parloop_struct_129794->free_css_chunk_len_114151;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_129794->free_i_114181;
    int64_t gtid_116333 =
            futhark_mc_segmap_parloop_struct_129794->free_gtid_116333;
    struct memblock mem_121072 = {.desc ="mem_121072", .mem =
                                  futhark_mc_segmap_parloop_struct_129794->free_mem_121072,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_122989 = start;
    
    for (; iter_122989 < end; iter_122989++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_122990 = css_chunk_len_114151;
        int64_t gtid_116335 = iter_122989;
        int64_t remnant_122991 = iter_122989 - gtid_116335;
        int64_t y_122982 = mul64(n_p_114107, gtid_116335);
        int64_t res_idx_122983 = add64(gtid_116333, y_122982);
        bool cond_122984 = slt64(i_114181, res_idx_122983);
        int64_t defunc_0_f_res_122985;
        
        if (cond_122984) {
            defunc_0_f_res_122985 = (int64_t) -1;
        } else {
            defunc_0_f_res_122985 = res_idx_122983;
        }
        ((int64_t *) mem_121072.mem)[gtid_116335] = defunc_0_f_res_122985;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129795_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129795_end -
                 futhark_mc_segmap_parloop_129795_start;
        
        ctx->futhark_mc_segmap_parloop_129795_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129795_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129795_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129793(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116334 = tid;
    int num_tasks_122988 = info.nsubtasks;
    struct futhark_mc_task_129792 *futhark_mc_task_129792 =
                                  (struct futhark_mc_task_129792 *) args;
    struct futhark_context *ctx = futhark_mc_task_129792->ctx;
    uint64_t futhark_mc_segmap_task_129793_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129793_start = get_wall_time();
    
    int64_t n_p_114107 = futhark_mc_task_129792->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_task_129792->free_css_chunk_len_114151;
    int64_t i_114181 = futhark_mc_task_129792->free_i_114181;
    int64_t gtid_116333 = futhark_mc_task_129792->free_gtid_116333;
    struct memblock mem_121072 = {.desc ="mem_121072", .mem =
                                  futhark_mc_task_129792->free_mem_121072,
                                  .size =0, .references =NULL};
    int64_t iter_122989;
    struct futhark_mc_segmap_parloop_struct_129794
    futhark_mc_segmap_parloop_struct_129794;
    
    futhark_mc_segmap_parloop_struct_129794.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129794.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129794.free_css_chunk_len_114151 =
        css_chunk_len_114151;
    futhark_mc_segmap_parloop_struct_129794.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_129794.free_gtid_116333 = gtid_116333;
    futhark_mc_segmap_parloop_struct_129794.free_mem_121072 = mem_121072.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129795_task;
    
    futhark_mc_segmap_parloop_129795_task.name =
        "futhark_mc_segmap_parloop_129795";
    futhark_mc_segmap_parloop_129795_task.fn = futhark_mc_segmap_parloop_129795;
    futhark_mc_segmap_parloop_129795_task.args =
        &futhark_mc_segmap_parloop_struct_129794;
    futhark_mc_segmap_parloop_129795_task.iterations = iterations;
    futhark_mc_segmap_parloop_129795_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129795_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129795_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129795_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129795_task);
    
    if (futhark_mc_segmap_parloop_129795_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129795_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129795_total_end -
                 futhark_mc_segmap_parloop_129795_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129795_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129795_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129795_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129793_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129793_end -
                 futhark_mc_segmap_task_129793_start;
        
        ctx->futhark_mc_segmap_task_129793_runs[tid]++;
        ctx->futhark_mc_segmap_task_129793_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129793_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129790(void *args, int64_t start,
                                            int64_t end, int flat_tid_116332,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129789
    *futhark_mc_segmap_parloop_struct_129789 =
    (struct futhark_mc_segmap_parloop_struct_129789 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129789->ctx;
    uint64_t futhark_mc_segmap_parloop_129790_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129790_start = get_wall_time();
    
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129789->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_segmap_parloop_struct_129789->free_css_chunk_len_114151;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_129789->free_i_114181;
    int64_t bytes_121070 =
            futhark_mc_segmap_parloop_struct_129789->free_bytes_121070;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_segmap_parloop_struct_129789->free_mem_121091,
                                  .size =0, .references =NULL};
    size_t mem_121072_cached_sizze_129791 = 0;
    char *mem_121072 = NULL;
    int64_t iterations = end - start;
    int64_t iter_122981 = start;
    
    if (mem_121072_cached_sizze_129791 < (size_t) bytes_121070) {
        mem_121072 = realloc(mem_121072, bytes_121070);
        mem_121072_cached_sizze_129791 = bytes_121070;
    }
    for (; iter_122981 < end; iter_122981++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_122986 = n_p_114107;
        int64_t gtid_116333 = iter_122981;
        int64_t remnant_122987 = iter_122981 - gtid_116333;
        int64_t flat_tid_116334 = (int64_t) 0;
        int32_t num_tasks_122988;
        struct futhark_mc_task_129792 futhark_mc_task_129792;
        
        futhark_mc_task_129792.ctx = ctx;
        futhark_mc_task_129792.free_n_p_114107 = n_p_114107;
        futhark_mc_task_129792.free_css_chunk_len_114151 = css_chunk_len_114151;
        futhark_mc_task_129792.free_i_114181 = i_114181;
        futhark_mc_task_129792.free_gtid_116333 = gtid_116333;
        futhark_mc_task_129792.free_mem_121072 = mem_121072;
        
        struct scheduler_segop futhark_mc_task_129792_task;
        
        futhark_mc_task_129792_task.args = &futhark_mc_task_129792;
        futhark_mc_task_129792_task.top_level_fn =
            futhark_mc_segmap_task_129793;
        futhark_mc_task_129792_task.name = "futhark_mc_segmap_task_129793";
        futhark_mc_task_129792_task.iterations = css_chunk_len_114151;
        futhark_mc_task_129792_task.task_time =
            &ctx->futhark_mc_segmap_task_129793_total_time;
        futhark_mc_task_129792_task.task_iter =
            &ctx->futhark_mc_segmap_task_129793_total_iter;
        futhark_mc_task_129792_task.sched = STATIC;
        futhark_mc_task_129792_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_129793_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129792_task);
        
        if (futhark_mc_segmap_task_129793_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121091.mem + gtid_116333 * css_chunk_len_114151 *
                (int64_t) 8, mem_121072 + (int64_t) 0, css_chunk_len_114151 *
                (int64_t) 8);
    }
    
  cleanup:
    { }
    free(mem_121072);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129790_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129790_end -
                 futhark_mc_segmap_parloop_129790_start;
        
        ctx->futhark_mc_segmap_parloop_129790_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129790_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129790_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129788(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116332 = tid;
    int num_tasks_122969 = info.nsubtasks;
    struct futhark_mc_task_129783 *futhark_mc_task_129783 =
                                  (struct futhark_mc_task_129783 *) args;
    struct futhark_context *ctx = futhark_mc_task_129783->ctx;
    uint64_t futhark_mc_segmap_nested_task_129788_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129788_start = get_wall_time();
    
    int64_t n_p_114107 = futhark_mc_task_129783->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_task_129783->free_css_chunk_len_114151;
    int64_t i_114181 = futhark_mc_task_129783->free_i_114181;
    int64_t bytes_121070 = futhark_mc_task_129783->free_bytes_121070;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_task_129783->free_mem_121091,
                                  .size =0, .references =NULL};
    int64_t iter_122981;
    struct futhark_mc_segmap_parloop_struct_129789
    futhark_mc_segmap_parloop_struct_129789;
    
    futhark_mc_segmap_parloop_struct_129789.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129789.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129789.free_css_chunk_len_114151 =
        css_chunk_len_114151;
    futhark_mc_segmap_parloop_struct_129789.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_129789.free_bytes_121070 = bytes_121070;
    futhark_mc_segmap_parloop_struct_129789.free_mem_121091 = mem_121091.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129790_task;
    
    futhark_mc_segmap_parloop_129790_task.name =
        "futhark_mc_segmap_parloop_129790";
    futhark_mc_segmap_parloop_129790_task.fn = futhark_mc_segmap_parloop_129790;
    futhark_mc_segmap_parloop_129790_task.args =
        &futhark_mc_segmap_parloop_struct_129789;
    futhark_mc_segmap_parloop_129790_task.iterations = iterations;
    futhark_mc_segmap_parloop_129790_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129790_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129790_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129790_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129790_task);
    
    if (futhark_mc_segmap_parloop_129790_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129790_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129790_total_end -
                 futhark_mc_segmap_parloop_129790_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129790_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129790_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129790_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129788_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129788_end -
                 futhark_mc_segmap_nested_task_129788_start;
        
        ctx->futhark_mc_segmap_nested_task_129788_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129788_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129788_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129796 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    char *free_Y_mem_121004;
    char *free_mem_121091;
    int64_t free_bytes_121092;
    char *free_mem_121113;
};
struct futhark_mc_segmap_parloop_struct_129798 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    char *free_Y_mem_121004;
    char *free_mem_121091;
    int64_t free_bytes_121092;
    char *free_mem_121113;
};
static int futhark_mc_segmap_parloop_129799(void *args, int64_t start,
                                            int64_t end, int flat_tid_116343,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129798
    *futhark_mc_segmap_parloop_struct_129798 =
    (struct futhark_mc_segmap_parloop_struct_129798 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129798->ctx;
    uint64_t futhark_mc_segmap_parloop_129799_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129799_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129798->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129798->free_n_114105;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129798->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_segmap_parloop_struct_129798->free_css_chunk_len_114151;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_129798->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_segmap_parloop_struct_129798->free_mem_121091,
                                  .size =0, .references =NULL};
    int64_t bytes_121092 =
            futhark_mc_segmap_parloop_struct_129798->free_bytes_121092;
    struct memblock mem_121113 = {.desc ="mem_121113", .mem =
                                  futhark_mc_segmap_parloop_struct_129798->free_mem_121113,
                                  .size =0, .references =NULL};
    size_t mem_121097_cached_sizze_129800 = 0;
    char *mem_121097 = NULL;
    int64_t iterations = end - start;
    int64_t iter_122993 = start;
    
    if (mem_121097_cached_sizze_129800 < (size_t) bytes_121092) {
        mem_121097 = realloc(mem_121097, bytes_121092);
        mem_121097_cached_sizze_129800 = bytes_121092;
    }
    for (; iter_122993 < end; iter_122993++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123012 = m_114104;
        int64_t gtid_116344 = iter_122993;
        int64_t remnant_123013 = iter_122993 - gtid_116344;
        
        for (int64_t i_122994 = 0; i_122994 < n_p_114107; i_122994++) {
            float defunc_2_reduce_res_122996;
            float redout_122998 = 0.0F;
            
            for (int64_t i_122997 = 0; i_122997 < css_chunk_len_114151;
                 i_122997++) {
                int64_t x_122999 = ((int64_t *) mem_121091.mem)[i_122994 *
                                                                css_chunk_len_114151 +
                                                                i_122997];
                bool cond_123000 = sle64((int64_t) 0, x_122999);
                float defunc_0_f_res_123001;
                
                if (cond_123000) {
                    bool y_123002 = slt64(x_122999, n_114105);
                    bool bounds_check_123003 = cond_123000 && y_123002;
                    bool index_certs_123004;
                    
                    if (!bounds_check_123003) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) x_122999,
                                      "] out of bounds for array of shape [",
                                      (long long) n_114105, "].",
                                      "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:131:30-55\n   #3  stl.fut:129:13-138:26\n   #4  stl.fut:127:5-139:11\n   #5  stl.fut:365:3-376:33\n   #6  stl.fut:352:1-376:33\n");
                        return 1;
                    }
                    
                    float defunc_0_f_res_t_res_123005 =
                          ((float *) Y_mem_121004.mem)[gtid_116344 * n_114105 +
                                                       x_122999];
                    
                    defunc_0_f_res_123001 = defunc_0_f_res_t_res_123005;
                } else {
                    defunc_0_f_res_123001 = NAN;
                }
                
                bool isnan_res_123006;
                
                isnan_res_123006 = futrts_isnan32(defunc_0_f_res_123001);
                
                float defunc_0_f_res_123007;
                
                if (isnan_res_123006) {
                    defunc_0_f_res_123007 = 0.0F;
                } else {
                    defunc_0_f_res_123007 = 1.0F;
                }
                
                float defunc_1_op_res_123008 = defunc_0_f_res_123007 +
                      redout_122998;
                float redout_tmp_123015 = defunc_1_op_res_123008;
                
                redout_122998 = redout_tmp_123015;
            }
            defunc_2_reduce_res_122996 = redout_122998;
            
            bool sub_series_is_not_all_nan_123009 = 0.0F <
                 defunc_2_reduce_res_122996;
            bool assert_c_123010;
            
            if (!sub_series_is_not_all_nan_123009) {
                ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                       "Assertion is false: sub_series_is_not_all_nan",
                                       "-> #0  stl.fut:136:34-75\n   #1  stl.fut:129:13-138:26\n   #2  stl.fut:127:5-139:11\n   #3  stl.fut:365:3-376:33\n   #4  stl.fut:352:1-376:33\n");
                return 1;
            }
            ((float *) mem_121097)[i_122994] = defunc_2_reduce_res_122996;
        }
        memmove(mem_121113.mem + gtid_116344 * n_p_114107 * (int64_t) 4,
                mem_121097 + (int64_t) 0, n_p_114107 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121097);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129799_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129799_end -
                 futhark_mc_segmap_parloop_129799_start;
        
        ctx->futhark_mc_segmap_parloop_129799_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129799_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129799_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129797(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116343 = tid;
    int num_tasks_122992 = info.nsubtasks;
    struct futhark_mc_task_129796 *futhark_mc_task_129796 =
                                  (struct futhark_mc_task_129796 *) args;
    struct futhark_context *ctx = futhark_mc_task_129796->ctx;
    uint64_t futhark_mc_segmap_task_129797_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129797_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129796->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129796->free_n_114105;
    int64_t n_p_114107 = futhark_mc_task_129796->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_task_129796->free_css_chunk_len_114151;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_129796->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_task_129796->free_mem_121091,
                                  .size =0, .references =NULL};
    int64_t bytes_121092 = futhark_mc_task_129796->free_bytes_121092;
    struct memblock mem_121113 = {.desc ="mem_121113", .mem =
                                  futhark_mc_task_129796->free_mem_121113,
                                  .size =0, .references =NULL};
    int64_t iter_122993;
    struct futhark_mc_segmap_parloop_struct_129798
    futhark_mc_segmap_parloop_struct_129798;
    
    futhark_mc_segmap_parloop_struct_129798.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129798.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129798.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129798.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129798.free_css_chunk_len_114151 =
        css_chunk_len_114151;
    futhark_mc_segmap_parloop_struct_129798.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_129798.free_mem_121091 = mem_121091.mem;
    futhark_mc_segmap_parloop_struct_129798.free_bytes_121092 = bytes_121092;
    futhark_mc_segmap_parloop_struct_129798.free_mem_121113 = mem_121113.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129799_task;
    
    futhark_mc_segmap_parloop_129799_task.name =
        "futhark_mc_segmap_parloop_129799";
    futhark_mc_segmap_parloop_129799_task.fn = futhark_mc_segmap_parloop_129799;
    futhark_mc_segmap_parloop_129799_task.args =
        &futhark_mc_segmap_parloop_struct_129798;
    futhark_mc_segmap_parloop_129799_task.iterations = iterations;
    futhark_mc_segmap_parloop_129799_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129799_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129799_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129799_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129799_task);
    
    if (futhark_mc_segmap_parloop_129799_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129799_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129799_total_end -
                 futhark_mc_segmap_parloop_129799_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129799_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129799_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129799_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129797_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129797_end -
                 futhark_mc_segmap_task_129797_start;
        
        ctx->futhark_mc_segmap_task_129797_runs[tid]++;
        ctx->futhark_mc_segmap_task_129797_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129797_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129802 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    char *free_Y_mem_121004;
    char *free_mem_121091;
    int64_t free_bytes_121092;
    char *free_mem_121113;
};
struct futhark_mc_task_129805 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    int64_t free_gtid_116346;
    char *free_Y_mem_121004;
    char *free_mem_121091;
    char *free_mem_121094;
};
struct futhark_mc_segmap_parloop_struct_129807 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    int64_t free_gtid_116346;
    char *free_Y_mem_121004;
    char *free_mem_121091;
    char *free_mem_121094;
};
static int futhark_mc_segmap_parloop_129808(void *args, int64_t start,
                                            int64_t end, int flat_tid_116347,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129807
    *futhark_mc_segmap_parloop_struct_129807 =
    (struct futhark_mc_segmap_parloop_struct_129807 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129807->ctx;
    uint64_t futhark_mc_segmap_parloop_129808_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129808_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129807->free_n_114105;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129807->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_segmap_parloop_struct_129807->free_css_chunk_len_114151;
    int64_t gtid_116346 =
            futhark_mc_segmap_parloop_struct_129807->free_gtid_116346;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_129807->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_segmap_parloop_struct_129807->free_mem_121091,
                                  .size =0, .references =NULL};
    struct memblock mem_121094 = {.desc ="mem_121094", .mem =
                                  futhark_mc_segmap_parloop_struct_129807->free_mem_121094,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123050 = start;
    
    for (; iter_123050 < end; iter_123050++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123063 = n_p_114107;
        int64_t gtid_116348 = iter_123050;
        int64_t remnant_123064 = iter_123050 - gtid_116348;
        float defunc_2_reduce_res_123032;
        float redout_123052 = 0.0F;
        
        for (int64_t i_123051 = 0; i_123051 < css_chunk_len_114151;
             i_123051++) {
            int64_t x_123053 = ((int64_t *) mem_121091.mem)[gtid_116348 *
                                                            css_chunk_len_114151 +
                                                            i_123051];
            bool cond_123054 = sle64((int64_t) 0, x_123053);
            float defunc_0_f_res_123055;
            
            if (cond_123054) {
                bool y_123056 = slt64(x_123053, n_114105);
                bool bounds_check_123057 = cond_123054 && y_123056;
                bool index_certs_123058;
                
                if (!bounds_check_123057) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) x_123053,
                                  "] out of bounds for array of shape [",
                                  (long long) n_114105, "].",
                                  "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:131:30-55\n   #3  stl.fut:129:13-138:26\n   #4  stl.fut:127:5-139:11\n   #5  stl.fut:365:3-376:33\n   #6  stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float defunc_0_f_res_t_res_123059 =
                      ((float *) Y_mem_121004.mem)[gtid_116346 * n_114105 +
                                                   x_123053];
                
                defunc_0_f_res_123055 = defunc_0_f_res_t_res_123059;
            } else {
                defunc_0_f_res_123055 = NAN;
            }
            
            bool isnan_res_123060;
            
            isnan_res_123060 = futrts_isnan32(defunc_0_f_res_123055);
            
            float defunc_0_f_res_123061;
            
            if (isnan_res_123060) {
                defunc_0_f_res_123061 = 0.0F;
            } else {
                defunc_0_f_res_123061 = 1.0F;
            }
            
            float defunc_1_op_res_123062 = defunc_0_f_res_123061 +
                  redout_123052;
            float redout_tmp_123065 = defunc_1_op_res_123062;
            
            redout_123052 = redout_tmp_123065;
        }
        defunc_2_reduce_res_123032 = redout_123052;
        
        bool sub_series_is_not_all_nan_123045 = 0.0F <
             defunc_2_reduce_res_123032;
        bool assert_c_123046;
        
        if (!sub_series_is_not_all_nan_123045) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "Assertion is false: sub_series_is_not_all_nan",
                                   "-> #0  stl.fut:136:34-75\n   #1  stl.fut:129:13-138:26\n   #2  stl.fut:127:5-139:11\n   #3  stl.fut:365:3-376:33\n   #4  stl.fut:352:1-376:33\n");
            return 1;
        }
        ((float *) mem_121094.mem)[gtid_116348] = defunc_2_reduce_res_123032;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129808_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129808_end -
                 futhark_mc_segmap_parloop_129808_start;
        
        ctx->futhark_mc_segmap_parloop_129808_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129808_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129808_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129806(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116347 = tid;
    int num_tasks_123049 = info.nsubtasks;
    struct futhark_mc_task_129805 *futhark_mc_task_129805 =
                                  (struct futhark_mc_task_129805 *) args;
    struct futhark_context *ctx = futhark_mc_task_129805->ctx;
    uint64_t futhark_mc_segmap_task_129806_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129806_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129805->free_n_114105;
    int64_t n_p_114107 = futhark_mc_task_129805->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_task_129805->free_css_chunk_len_114151;
    int64_t gtid_116346 = futhark_mc_task_129805->free_gtid_116346;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_129805->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_task_129805->free_mem_121091,
                                  .size =0, .references =NULL};
    struct memblock mem_121094 = {.desc ="mem_121094", .mem =
                                  futhark_mc_task_129805->free_mem_121094,
                                  .size =0, .references =NULL};
    int64_t iter_123050;
    struct futhark_mc_segmap_parloop_struct_129807
    futhark_mc_segmap_parloop_struct_129807;
    
    futhark_mc_segmap_parloop_struct_129807.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129807.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129807.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129807.free_css_chunk_len_114151 =
        css_chunk_len_114151;
    futhark_mc_segmap_parloop_struct_129807.free_gtid_116346 = gtid_116346;
    futhark_mc_segmap_parloop_struct_129807.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_129807.free_mem_121091 = mem_121091.mem;
    futhark_mc_segmap_parloop_struct_129807.free_mem_121094 = mem_121094.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129808_task;
    
    futhark_mc_segmap_parloop_129808_task.name =
        "futhark_mc_segmap_parloop_129808";
    futhark_mc_segmap_parloop_129808_task.fn = futhark_mc_segmap_parloop_129808;
    futhark_mc_segmap_parloop_129808_task.args =
        &futhark_mc_segmap_parloop_struct_129807;
    futhark_mc_segmap_parloop_129808_task.iterations = iterations;
    futhark_mc_segmap_parloop_129808_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129808_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129808_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129808_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129808_task);
    
    if (futhark_mc_segmap_parloop_129808_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129808_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129808_total_end -
                 futhark_mc_segmap_parloop_129808_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129808_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129808_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129808_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129806_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129806_end -
                 futhark_mc_segmap_task_129806_start;
        
        ctx->futhark_mc_segmap_task_129806_runs[tid]++;
        ctx->futhark_mc_segmap_task_129806_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129806_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129810 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    int64_t free_gtid_116346;
    char *free_Y_mem_121004;
    char *free_mem_121091;
    char *free_mem_121094;
};
struct futhark_mc_task_129812 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_css_chunk_len_114151;
    int64_t free_gtid_116346;
    int64_t free_gtid_116350;
    char *free_Y_mem_121004;
    char *free_mem_121091;
    float *retval_defunc_2_reduce_res_123017;
};
struct futhark_mc_segred_stage_1_parloop_struct_129815 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_css_chunk_len_114151;
    int64_t free_gtid_116346;
    int64_t free_gtid_116350;
    char *free_Y_mem_121004;
    char *free_mem_121091;
    char *free_reduce_stage_1_tid_res_arr_mem_123082;
};
static int futhark_mc_segred_stage_1_parloop_129816(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_116351,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_129815
    *futhark_mc_segred_stage_1_parloop_struct_129815 =
    (struct futhark_mc_segred_stage_1_parloop_struct_129815 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_129815->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_129816_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_129816_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_129815->free_n_114105;
    int64_t css_chunk_len_114151 =
            futhark_mc_segred_stage_1_parloop_struct_129815->free_css_chunk_len_114151;
    int64_t gtid_116346 =
            futhark_mc_segred_stage_1_parloop_struct_129815->free_gtid_116346;
    int64_t gtid_116350 =
            futhark_mc_segred_stage_1_parloop_struct_129815->free_gtid_116350;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segred_stage_1_parloop_struct_129815->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_129815->free_mem_121091,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_123082 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_123082",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_129815->free_reduce_stage_1_tid_res_arr_mem_123082,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123084 = start;
    float x_123067;
    float x_123068;
    float local_acc_123085 = 0.0F;
    
    for (; iter_123084 < end; iter_123084++) {
        int64_t gtid_116352 = iter_123084;
        int64_t x_123070 = ((int64_t *) mem_121091.mem)[gtid_116350 *
                                                        css_chunk_len_114151 +
                                                        gtid_116352];
        bool cond_123071 = sle64((int64_t) 0, x_123070);
        float defunc_0_f_res_123072;
        
        if (cond_123071) {
            bool y_123073 = slt64(x_123070, n_114105);
            bool bounds_check_123074 = cond_123071 && y_123073;
            bool index_certs_123075;
            
            if (!bounds_check_123074) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) x_123070,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:131:30-55\n   #3  stl.fut:129:13-138:26\n   #4  stl.fut:127:5-139:11\n   #5  stl.fut:365:3-376:33\n   #6  stl.fut:352:1-376:33\n");
                return 1;
            }
            
            float defunc_0_f_res_t_res_123076 =
                  ((float *) Y_mem_121004.mem)[gtid_116346 * n_114105 +
                                               x_123070];
            
            defunc_0_f_res_123072 = defunc_0_f_res_t_res_123076;
        } else {
            defunc_0_f_res_123072 = NAN;
        }
        
        bool isnan_res_123077;
        
        isnan_res_123077 = futrts_isnan32(defunc_0_f_res_123072);
        
        float defunc_0_f_res_123078;
        
        if (isnan_res_123077) {
            defunc_0_f_res_123078 = 0.0F;
        } else {
            defunc_0_f_res_123078 = 1.0F;
        }
        // save map-out results
        { }
        // Load accum params
        {
            x_123067 = local_acc_123085;
        }
        // Load next params
        {
            x_123068 = defunc_0_f_res_123078;
        }
        // Red body
        {
            float defunc_1_op_res_123069 = x_123067 + x_123068;
            
            local_acc_123085 = defunc_1_op_res_123069;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_123082.mem)[flat_tid_116351] =
        local_acc_123085;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_129816_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_129816_end -
                 futhark_mc_segred_stage_1_parloop_129816_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_129816_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_129816_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_129816_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_129813(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116351 = tid;
    int num_tasks_123081 = info.nsubtasks;
    struct futhark_mc_task_129812 *futhark_mc_task_129812 =
                                  (struct futhark_mc_task_129812 *) args;
    struct futhark_context *ctx = futhark_mc_task_129812->ctx;
    uint64_t futhark_mc_segred_task_129813_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_129813_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129812->free_n_114105;
    int64_t css_chunk_len_114151 =
            futhark_mc_task_129812->free_css_chunk_len_114151;
    int64_t gtid_116346 = futhark_mc_task_129812->free_gtid_116346;
    int64_t gtid_116350 = futhark_mc_task_129812->free_gtid_116350;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_129812->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_task_129812->free_mem_121091,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_123017 =
          *futhark_mc_task_129812->retval_defunc_2_reduce_res_123017;
    size_t reduce_stage_1_tid_res_arr_mem_123082_cached_sizze_129814 = 0;
    char *reduce_stage_1_tid_res_arr_mem_123082 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_123082_cached_sizze_129814 <
        (size_t) ((int64_t) 4 * num_tasks_123081)) {
        reduce_stage_1_tid_res_arr_mem_123082 =
            realloc(reduce_stage_1_tid_res_arr_mem_123082, (int64_t) 4 *
                    num_tasks_123081);
        reduce_stage_1_tid_res_arr_mem_123082_cached_sizze_129814 =
            (int64_t) 4 * num_tasks_123081;
    }
    
    int64_t iter_123084;
    struct futhark_mc_segred_stage_1_parloop_struct_129815
    futhark_mc_segred_stage_1_parloop_struct_129815;
    
    futhark_mc_segred_stage_1_parloop_struct_129815.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_129815.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_129815.free_css_chunk_len_114151 =
        css_chunk_len_114151;
    futhark_mc_segred_stage_1_parloop_struct_129815.free_gtid_116346 =
        gtid_116346;
    futhark_mc_segred_stage_1_parloop_struct_129815.free_gtid_116350 =
        gtid_116350;
    futhark_mc_segred_stage_1_parloop_struct_129815.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segred_stage_1_parloop_struct_129815.free_mem_121091 =
        mem_121091.mem;
    futhark_mc_segred_stage_1_parloop_struct_129815.free_reduce_stage_1_tid_res_arr_mem_123082 =
        reduce_stage_1_tid_res_arr_mem_123082;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_129816_task;
    
    futhark_mc_segred_stage_1_parloop_129816_task.name =
        "futhark_mc_segred_stage_1_parloop_129816";
    futhark_mc_segred_stage_1_parloop_129816_task.fn =
        futhark_mc_segred_stage_1_parloop_129816;
    futhark_mc_segred_stage_1_parloop_129816_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_129815;
    futhark_mc_segred_stage_1_parloop_129816_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_129816_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_129816_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_129816_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_129816_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_129816_task);
    
    if (futhark_mc_segred_stage_1_parloop_129816_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_129816_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_129816_total_end -
                 futhark_mc_segred_stage_1_parloop_129816_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129816_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129816_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129816_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_123017 = 0.0F;
    }
    
    float x_123086;
    float x_123087;
    
    for (int32_t i_123089 = 0; i_123089 < num_tasks_123081; i_123089++) {
        flat_tid_116351 = i_123089;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_123086 = defunc_2_reduce_res_123017;
            }
            // load next params
            {
                x_123087 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_123082)[flat_tid_116351];
            }
            // red body
            {
                float defunc_1_op_res_123088 = x_123086 + x_123087;
                
                defunc_2_reduce_res_123017 = defunc_1_op_res_123088;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_123082);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_129813_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_129813_end -
                 futhark_mc_segred_task_129813_start;
        
        ctx->futhark_mc_segred_task_129813_runs[tid]++;
        ctx->futhark_mc_segred_task_129813_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_129813_iter[tid] += iterations;
    }
    *futhark_mc_task_129812->retval_defunc_2_reduce_res_123017 =
        defunc_2_reduce_res_123017;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129811(void *args, int64_t start,
                                            int64_t end, int flat_tid_116349,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129810
    *futhark_mc_segmap_parloop_struct_129810 =
    (struct futhark_mc_segmap_parloop_struct_129810 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129810->ctx;
    uint64_t futhark_mc_segmap_parloop_129811_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129811_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129810->free_n_114105;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129810->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_segmap_parloop_struct_129810->free_css_chunk_len_114151;
    int64_t gtid_116346 =
            futhark_mc_segmap_parloop_struct_129810->free_gtid_116346;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_129810->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_segmap_parloop_struct_129810->free_mem_121091,
                                  .size =0, .references =NULL};
    struct memblock mem_121094 = {.desc ="mem_121094", .mem =
                                  futhark_mc_segmap_parloop_struct_129810->free_mem_121094,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123066 = start;
    
    for (; iter_123066 < end; iter_123066++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123079 = n_p_114107;
        int64_t gtid_116350 = iter_123066;
        int64_t remnant_123080 = iter_123066 - gtid_116350;
        float defunc_2_reduce_res_123017;
        int64_t flat_tid_116351 = (int64_t) 0;
        int32_t num_tasks_123081;
        struct futhark_mc_task_129812 futhark_mc_task_129812;
        
        futhark_mc_task_129812.ctx = ctx;
        futhark_mc_task_129812.free_n_114105 = n_114105;
        futhark_mc_task_129812.free_css_chunk_len_114151 = css_chunk_len_114151;
        futhark_mc_task_129812.free_gtid_116346 = gtid_116346;
        futhark_mc_task_129812.free_gtid_116350 = gtid_116350;
        futhark_mc_task_129812.free_Y_mem_121004 = Y_mem_121004.mem;
        futhark_mc_task_129812.free_mem_121091 = mem_121091.mem;
        futhark_mc_task_129812.retval_defunc_2_reduce_res_123017 =
            &defunc_2_reduce_res_123017;
        
        struct scheduler_segop futhark_mc_task_129812_task;
        
        futhark_mc_task_129812_task.args = &futhark_mc_task_129812;
        futhark_mc_task_129812_task.top_level_fn =
            futhark_mc_segred_task_129813;
        futhark_mc_task_129812_task.name = "futhark_mc_segred_task_129813";
        futhark_mc_task_129812_task.iterations = css_chunk_len_114151;
        futhark_mc_task_129812_task.task_time =
            &ctx->futhark_mc_segred_task_129813_total_time;
        futhark_mc_task_129812_task.task_iter =
            &ctx->futhark_mc_segred_task_129813_total_iter;
        futhark_mc_task_129812_task.sched = STATIC;
        futhark_mc_task_129812_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_129813_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129812_task);
        
        if (futhark_mc_segred_task_129813_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        bool sub_series_is_not_all_nan_123030 = 0.0F <
             defunc_2_reduce_res_123017;
        bool assert_c_123031;
        
        if (!sub_series_is_not_all_nan_123030) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "Assertion is false: sub_series_is_not_all_nan",
                                   "-> #0  stl.fut:136:34-75\n   #1  stl.fut:129:13-138:26\n   #2  stl.fut:127:5-139:11\n   #3  stl.fut:365:3-376:33\n   #4  stl.fut:352:1-376:33\n");
            return 1;
        }
        ((float *) mem_121094.mem)[gtid_116350] = defunc_2_reduce_res_123017;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129811_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129811_end -
                 futhark_mc_segmap_parloop_129811_start;
        
        ctx->futhark_mc_segmap_parloop_129811_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129811_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129811_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129809(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116349 = tid;
    int num_tasks_123049 = info.nsubtasks;
    struct futhark_mc_task_129805 *futhark_mc_task_129805 =
                                  (struct futhark_mc_task_129805 *) args;
    struct futhark_context *ctx = futhark_mc_task_129805->ctx;
    uint64_t futhark_mc_segmap_nested_task_129809_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129809_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129805->free_n_114105;
    int64_t n_p_114107 = futhark_mc_task_129805->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_task_129805->free_css_chunk_len_114151;
    int64_t gtid_116346 = futhark_mc_task_129805->free_gtid_116346;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_129805->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_task_129805->free_mem_121091,
                                  .size =0, .references =NULL};
    struct memblock mem_121094 = {.desc ="mem_121094", .mem =
                                  futhark_mc_task_129805->free_mem_121094,
                                  .size =0, .references =NULL};
    int64_t iter_123066;
    struct futhark_mc_segmap_parloop_struct_129810
    futhark_mc_segmap_parloop_struct_129810;
    
    futhark_mc_segmap_parloop_struct_129810.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129810.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129810.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129810.free_css_chunk_len_114151 =
        css_chunk_len_114151;
    futhark_mc_segmap_parloop_struct_129810.free_gtid_116346 = gtid_116346;
    futhark_mc_segmap_parloop_struct_129810.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_129810.free_mem_121091 = mem_121091.mem;
    futhark_mc_segmap_parloop_struct_129810.free_mem_121094 = mem_121094.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129811_task;
    
    futhark_mc_segmap_parloop_129811_task.name =
        "futhark_mc_segmap_parloop_129811";
    futhark_mc_segmap_parloop_129811_task.fn = futhark_mc_segmap_parloop_129811;
    futhark_mc_segmap_parloop_129811_task.args =
        &futhark_mc_segmap_parloop_struct_129810;
    futhark_mc_segmap_parloop_129811_task.iterations = iterations;
    futhark_mc_segmap_parloop_129811_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129811_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129811_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129811_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129811_task);
    
    if (futhark_mc_segmap_parloop_129811_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129811_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129811_total_end -
                 futhark_mc_segmap_parloop_129811_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129811_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129811_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129811_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129809_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129809_end -
                 futhark_mc_segmap_nested_task_129809_start;
        
        ctx->futhark_mc_segmap_nested_task_129809_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129809_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129809_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129803(void *args, int64_t start,
                                            int64_t end, int flat_tid_116345,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129802
    *futhark_mc_segmap_parloop_struct_129802 =
    (struct futhark_mc_segmap_parloop_struct_129802 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129802->ctx;
    uint64_t futhark_mc_segmap_parloop_129803_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129803_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129802->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129802->free_n_114105;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129802->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_segmap_parloop_struct_129802->free_css_chunk_len_114151;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_129802->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_segmap_parloop_struct_129802->free_mem_121091,
                                  .size =0, .references =NULL};
    int64_t bytes_121092 =
            futhark_mc_segmap_parloop_struct_129802->free_bytes_121092;
    struct memblock mem_121113 = {.desc ="mem_121113", .mem =
                                  futhark_mc_segmap_parloop_struct_129802->free_mem_121113,
                                  .size =0, .references =NULL};
    size_t mem_121094_cached_sizze_129804 = 0;
    char *mem_121094 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123016 = start;
    
    if (mem_121094_cached_sizze_129804 < (size_t) bytes_121092) {
        mem_121094 = realloc(mem_121094, bytes_121092);
        mem_121094_cached_sizze_129804 = bytes_121092;
    }
    for (; iter_123016 < end; iter_123016++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123047 = m_114104;
        int64_t gtid_116346 = iter_123016;
        int64_t remnant_123048 = iter_123016 - gtid_116346;
        int64_t flat_tid_116347 = (int64_t) 0;
        int32_t num_tasks_123049;
        int64_t flat_tid_116349 = (int64_t) 0;
        struct futhark_mc_task_129805 futhark_mc_task_129805;
        
        futhark_mc_task_129805.ctx = ctx;
        futhark_mc_task_129805.free_n_114105 = n_114105;
        futhark_mc_task_129805.free_n_p_114107 = n_p_114107;
        futhark_mc_task_129805.free_css_chunk_len_114151 = css_chunk_len_114151;
        futhark_mc_task_129805.free_gtid_116346 = gtid_116346;
        futhark_mc_task_129805.free_Y_mem_121004 = Y_mem_121004.mem;
        futhark_mc_task_129805.free_mem_121091 = mem_121091.mem;
        futhark_mc_task_129805.free_mem_121094 = mem_121094;
        
        struct scheduler_segop futhark_mc_task_129805_task;
        
        futhark_mc_task_129805_task.args = &futhark_mc_task_129805;
        futhark_mc_task_129805_task.top_level_fn =
            futhark_mc_segmap_task_129806;
        futhark_mc_task_129805_task.name = "futhark_mc_segmap_task_129806";
        futhark_mc_task_129805_task.iterations = n_p_114107;
        futhark_mc_task_129805_task.task_time =
            &ctx->futhark_mc_segmap_task_129806_total_time;
        futhark_mc_task_129805_task.task_iter =
            &ctx->futhark_mc_segmap_task_129806_total_iter;
        futhark_mc_task_129805_task.sched = STATIC;
        futhark_mc_task_129805_task.nested_fn =
            futhark_mc_segmap_nested_task_129809;
        
        int futhark_mc_segmap_task_129806_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129805_task);
        
        if (futhark_mc_segmap_task_129806_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121113.mem + gtid_116346 * n_p_114107 * (int64_t) 4,
                mem_121094 + (int64_t) 0, n_p_114107 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121094);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129803_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129803_end -
                 futhark_mc_segmap_parloop_129803_start;
        
        ctx->futhark_mc_segmap_parloop_129803_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129803_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129803_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129801(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116345 = tid;
    int num_tasks_122992 = info.nsubtasks;
    struct futhark_mc_task_129796 *futhark_mc_task_129796 =
                                  (struct futhark_mc_task_129796 *) args;
    struct futhark_context *ctx = futhark_mc_task_129796->ctx;
    uint64_t futhark_mc_segmap_nested_task_129801_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129801_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129796->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129796->free_n_114105;
    int64_t n_p_114107 = futhark_mc_task_129796->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_task_129796->free_css_chunk_len_114151;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_129796->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_task_129796->free_mem_121091,
                                  .size =0, .references =NULL};
    int64_t bytes_121092 = futhark_mc_task_129796->free_bytes_121092;
    struct memblock mem_121113 = {.desc ="mem_121113", .mem =
                                  futhark_mc_task_129796->free_mem_121113,
                                  .size =0, .references =NULL};
    int64_t iter_123016;
    struct futhark_mc_segmap_parloop_struct_129802
    futhark_mc_segmap_parloop_struct_129802;
    
    futhark_mc_segmap_parloop_struct_129802.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129802.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129802.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129802.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129802.free_css_chunk_len_114151 =
        css_chunk_len_114151;
    futhark_mc_segmap_parloop_struct_129802.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_129802.free_mem_121091 = mem_121091.mem;
    futhark_mc_segmap_parloop_struct_129802.free_bytes_121092 = bytes_121092;
    futhark_mc_segmap_parloop_struct_129802.free_mem_121113 = mem_121113.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129803_task;
    
    futhark_mc_segmap_parloop_129803_task.name =
        "futhark_mc_segmap_parloop_129803";
    futhark_mc_segmap_parloop_129803_task.fn = futhark_mc_segmap_parloop_129803;
    futhark_mc_segmap_parloop_129803_task.args =
        &futhark_mc_segmap_parloop_struct_129802;
    futhark_mc_segmap_parloop_129803_task.iterations = iterations;
    futhark_mc_segmap_parloop_129803_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129803_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129803_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129803_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129803_task);
    
    if (futhark_mc_segmap_parloop_129803_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129803_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129803_total_end -
                 futhark_mc_segmap_parloop_129803_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129803_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129803_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129803_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129801_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129801_end -
                 futhark_mc_segmap_nested_task_129801_start;
        
        ctx->futhark_mc_segmap_nested_task_129801_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129801_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129801_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129817 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_l_jump_114113;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    bool free_x_114182;
    int64_t free_min_res_114253;
    bool free_loop_cond_114258;
    float free_i64_res_114259;
    int64_t free_bytes_121005;
    char *free_mem_121044;
    char *free_mem_121047;
    int64_t free_bytes_121117;
    int64_t free_bytes_121120;
    char *free_mem_121171;
    char *free_mem_121175;
};
struct futhark_mc_segmap_parloop_struct_129819 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_l_jump_114113;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    bool free_x_114182;
    int64_t free_min_res_114253;
    bool free_loop_cond_114258;
    float free_i64_res_114259;
    int64_t free_bytes_121005;
    char *free_mem_121044;
    char *free_mem_121047;
    int64_t free_bytes_121117;
    int64_t free_bytes_121120;
    char *free_mem_121171;
    char *free_mem_121175;
};
static int futhark_mc_segmap_parloop_129820(void *args, int64_t start,
                                            int64_t end, int flat_tid_116403,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129819
    *futhark_mc_segmap_parloop_struct_129819 =
    (struct futhark_mc_segmap_parloop_struct_129819 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129819->ctx;
    uint64_t futhark_mc_segmap_parloop_129820_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129820_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129819->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129819->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_129819->free_l_window_114109;
    int64_t l_jump_114113 =
            futhark_mc_segmap_parloop_struct_129819->free_l_jump_114113;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_129819->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_129819->free_i_114181;
    bool x_114182 = futhark_mc_segmap_parloop_struct_129819->free_x_114182;
    int64_t min_res_114253 =
            futhark_mc_segmap_parloop_struct_129819->free_min_res_114253;
    bool loop_cond_114258 =
         futhark_mc_segmap_parloop_struct_129819->free_loop_cond_114258;
    float i64_res_114259 =
          futhark_mc_segmap_parloop_struct_129819->free_i64_res_114259;
    int64_t bytes_121005 =
            futhark_mc_segmap_parloop_struct_129819->free_bytes_121005;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_129819->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_129819->free_mem_121047,
                                  .size =0, .references =NULL};
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_129819->free_bytes_121117;
    int64_t bytes_121120 =
            futhark_mc_segmap_parloop_struct_129819->free_bytes_121120;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_129819->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_129819->free_mem_121175,
                                  .size =0, .references =NULL};
    size_t mem_121125_cached_sizze_129821 = 0;
    char *mem_121125 = NULL;
    size_t mem_121140_cached_sizze_129822 = 0;
    char *mem_121140 = NULL;
    size_t mem_121143_cached_sizze_129823 = 0;
    char *mem_121143 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123091 = start;
    
    if (mem_121125_cached_sizze_129821 < (size_t) bytes_121005) {
        mem_121125 = realloc(mem_121125, bytes_121005);
        mem_121125_cached_sizze_129821 = bytes_121005;
    }
    if (mem_121140_cached_sizze_129822 < (size_t) bytes_121117) {
        mem_121140 = realloc(mem_121140, bytes_121117);
        mem_121140_cached_sizze_129822 = bytes_121117;
    }
    if (mem_121143_cached_sizze_129823 < (size_t) bytes_121120) {
        mem_121143 = realloc(mem_121143, bytes_121120);
        mem_121143_cached_sizze_129823 = bytes_121120;
    }
    for (; iter_123091 < end; iter_123091++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123188 = m_114104;
        int64_t gtid_116404 = iter_123091;
        int64_t remnant_123189 = iter_123091 - gtid_116404;
        int64_t x_114263 = ((int64_t *) mem_121047.mem)[gtid_116404];
        
        for (int64_t i_123092 = 0; i_123092 < n_114105; i_123092++) {
            int64_t x_123094 = ((int64_t *) mem_121044.mem)[gtid_116404 *
                                                            n_114105 +
                                                            i_123092];
            int64_t defunc_0_f_res_123095 = add64((int64_t) 1, x_123094);
            
            ((int64_t *) mem_121125)[i_123092] = defunc_0_f_res_123095;
        }
        
        int64_t min_arg_114267 = sub64(x_114263, (int64_t) 1);
        int64_t min_arg_114268 = sub64(x_114263, min_res_114253);
        int64_t min_res_114269 = smin64(l_window_114109, x_114263);
        float i64_res_114270 = sitofp_i64_f32(x_114263);
        float x_114271 = i64_res_114259 - i64_res_114270;
        float max_arg_114272 = x_114271 / 2.0F;
        float max_res_114273 = fmax32(0.0F, max_arg_114272);
        
        for (int64_t i_123097 = 0; i_123097 < l_n_m_114155; i_123097++) {
            int64_t min_arg_123100 = mul64(l_jump_114113, i_123097);
            int64_t min_res_123101 = smin64(i_114181, min_arg_123100);
            int64_t defunc_0_g_res_123102 = add64((int64_t) 1, min_res_123101);
            bool init_idx_123103;
            int64_t init_idx_123104;
            int64_t init_idx_123105;
            bool loop_while_123106;
            int64_t low_123107;
            int64_t high_123108;
            
            loop_while_123106 = x_114182;
            low_123107 = (int64_t) 0;
            high_123108 = i_114181;
            while (loop_while_123106) {
                int64_t x_123109 = add64(low_123107, high_123108);
                int64_t mid_123110 = sdiv64(x_123109, (int64_t) 2);
                bool x_123111 = sle64((int64_t) 0, mid_123110);
                bool y_123112 = slt64(mid_123110, n_114105);
                bool bounds_check_123113 = x_123111 && y_123112;
                bool index_certs_123114;
                
                if (!bounds_check_123113) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) mid_123110,
                                  "] out of bounds for array of shape [",
                                  (long long) n_114105, "].",
                                  "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:145:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:143:5-146:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                int64_t mid_id_123115 = ((int64_t *) mem_121125)[mid_123110];
                bool cond_123116 = slt64(mid_id_123115, (int64_t) 0);
                int64_t mid_idx_123117;
                
                if (cond_123116) {
                    mid_idx_123117 = (int64_t) 9223372036854775807;
                } else {
                    mid_idx_123117 = mid_id_123115;
                }
                
                bool cond_123118 = sle64(defunc_0_g_res_123102, mid_idx_123117);
                int64_t loopres_123119;
                int64_t loopres_123120;
                
                if (cond_123118) {
                    int64_t loopres_t_res_123121 = sub64(mid_123110,
                                                         (int64_t) 1);
                    
                    loopres_123119 = low_123107;
                    loopres_123120 = loopres_t_res_123121;
                } else {
                    int64_t loopres_f_res_123122 = add64((int64_t) 1,
                                                         mid_123110);
                    
                    loopres_123119 = loopres_f_res_123122;
                    loopres_123120 = high_123108;
                }
                
                bool loop_cond_123123 = sle64(loopres_123119, loopres_123120);
                bool loop_while_tmp_123193 = loop_cond_123123;
                int64_t low_tmp_123194 = loopres_123119;
                int64_t high_tmp_123195 = loopres_123120;
                
                loop_while_123106 = loop_while_tmp_123193;
                low_123107 = low_tmp_123194;
                high_123108 = high_tmp_123195;
            }
            init_idx_123103 = loop_while_123106;
            init_idx_123104 = low_123107;
            init_idx_123105 = high_123108;
            
            bool idx_123124;
            int64_t idx_123125;
            int64_t idx_123126;
            int64_t idx_123127;
            bool loop_while_123128;
            int64_t l_idx_123129;
            int64_t r_idx_123130;
            int64_t span_123131;
            
            loop_while_123128 = loop_cond_114258;
            l_idx_123129 = init_idx_123104;
            r_idx_123130 = init_idx_123104;
            span_123131 = (int64_t) 1;
            while (loop_while_123128) {
                int64_t max_arg_123132 = sub64(l_idx_123129, (int64_t) 1);
                int64_t max_res_123133 = smax64((int64_t) 0, max_arg_123132);
                int64_t min_arg_123134 = add64((int64_t) 1, r_idx_123130);
                int64_t min_res_123135 = smin64(min_arg_114267, min_arg_123134);
                bool x_123136 = sle64((int64_t) 0, max_res_123133);
                bool y_123137 = slt64(max_res_123133, n_114105);
                bool bounds_check_123138 = x_123136 && y_123137;
                bool index_certs_123139;
                
                if (!bounds_check_123138) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) max_res_123133,
                                  "] out of bounds for array of shape [",
                                  (long long) n_114105, "].",
                                  "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:145:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:143:5-146:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                int64_t x_123140 = ((int64_t *) mem_121125)[max_res_123133];
                int64_t abs_arg_123141 = sub64(x_123140, defunc_0_g_res_123102);
                int64_t abs_res_123142 = abs64(abs_arg_123141);
                bool x_123143 = sle64((int64_t) 0, min_res_123135);
                bool y_123144 = slt64(min_res_123135, n_114105);
                bool bounds_check_123145 = x_123143 && y_123144;
                bool index_certs_123146;
                
                if (!bounds_check_123145) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) min_res_123135,
                                  "] out of bounds for array of shape [",
                                  (long long) n_114105, "].",
                                  "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:145:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:143:5-146:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                int64_t x_123147 = ((int64_t *) mem_121125)[min_res_123135];
                int64_t abs_arg_123148 = sub64(x_123147, defunc_0_g_res_123102);
                int64_t abs_res_123149 = abs64(abs_arg_123148);
                bool cond_123150 = max_res_123133 == l_idx_123129;
                int64_t loopres_123151;
                int64_t loopres_123152;
                int64_t loopres_123153;
                
                if (cond_123150) {
                    loopres_123151 = l_idx_123129;
                    loopres_123152 = r_idx_123130;
                    loopres_123153 = min_res_114253;
                } else {
                    bool cond_123154 = slt64(abs_res_123142, abs_res_123149);
                    bool cond_f_res_123155 = min_res_123135 == r_idx_123130;
                    bool x_123156 = !cond_123154;
                    bool y_123157 = cond_f_res_123155 && x_123156;
                    bool cond_123158 = cond_123154 || y_123157;
                    int64_t loopres_f_res_123159;
                    
                    if (cond_123158) {
                        loopres_f_res_123159 = max_res_123133;
                    } else {
                        loopres_f_res_123159 = l_idx_123129;
                    }
                    
                    int64_t loopres_f_res_123160;
                    
                    if (cond_123158) {
                        loopres_f_res_123160 = r_idx_123130;
                    } else {
                        loopres_f_res_123160 = min_res_123135;
                    }
                    
                    int64_t loopres_f_res_123161;
                    
                    if (cond_123158) {
                        int64_t loopres_f_res_t_res_123162 = add64((int64_t) 1,
                                                                   span_123131);
                        
                        loopres_f_res_123161 = loopres_f_res_t_res_123162;
                    } else {
                        int64_t loopres_f_res_f_res_123163 = add64((int64_t) 1,
                                                                   span_123131);
                        
                        loopres_f_res_123161 = loopres_f_res_f_res_123163;
                    }
                    loopres_123151 = loopres_f_res_123159;
                    loopres_123152 = loopres_f_res_123160;
                    loopres_123153 = loopres_f_res_123161;
                }
                
                bool loop_cond_123164 = slt64(loopres_123153, min_res_114253);
                bool loop_while_tmp_123196 = loop_cond_123164;
                int64_t l_idx_tmp_123197 = loopres_123151;
                int64_t r_idx_tmp_123198 = loopres_123152;
                int64_t span_tmp_123199 = loopres_123153;
                
                loop_while_123128 = loop_while_tmp_123196;
                l_idx_123129 = l_idx_tmp_123197;
                r_idx_123130 = r_idx_tmp_123198;
                span_123131 = span_tmp_123199;
            }
            idx_123124 = loop_while_123128;
            idx_123125 = l_idx_123129;
            idx_123126 = r_idx_123130;
            idx_123127 = span_123131;
            
            int64_t min_res_123165 = smin64(min_arg_114268, idx_123125);
            int64_t max_res_123166 = smax64((int64_t) 0, min_res_123165);
            int64_t x_123167 = add64(min_res_114269, max_res_123166);
            int64_t r_123168 = sub64(x_123167, (int64_t) 1);
            bool x_123169 = sle64((int64_t) 0, r_123168);
            bool y_123170 = slt64(r_123168, n_114105);
            bool bounds_check_123171 = x_123169 && y_123170;
            bool index_certs_123172;
            
            if (!bounds_check_123171) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) r_123168,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:145:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:143:5-146:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                return 1;
            }
            
            int64_t x_123173 = ((int64_t *) mem_121044.mem)[gtid_116404 *
                                                            n_114105 +
                                                            r_123168];
            int64_t abs_arg_123174 = sub64(x_123173, min_res_123101);
            int64_t abs_res_123175 = abs64(abs_arg_123174);
            bool x_123176 = sle64((int64_t) 0, max_res_123166);
            bool y_123177 = slt64(max_res_123166, n_114105);
            bool bounds_check_123178 = x_123176 && y_123177;
            bool index_certs_123179;
            
            if (!bounds_check_123178) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) max_res_123166,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:145:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:143:5-146:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                return 1;
            }
            
            int64_t x_123180 = ((int64_t *) mem_121044.mem)[gtid_116404 *
                                                            n_114105 +
                                                            max_res_123166];
            int64_t abs_arg_123181 = sub64(x_123180, min_res_123101);
            int64_t abs_res_123182 = abs64(abs_arg_123181);
            int64_t max_res_123183 = smax64(abs_res_123175, abs_res_123182);
            float defunc_0_f_res_123184 = sitofp_i64_f32(max_res_123183);
            float defunc_1_f_res_123185 = max_res_114273 +
                  defunc_0_f_res_123184;
            
            ((float *) mem_121140)[i_123097] = defunc_1_f_res_123185;
            ((int64_t *) mem_121143)[i_123097] = max_res_123166;
        }
        memmove(mem_121171.mem + gtid_116404 * l_n_m_114155 * (int64_t) 8,
                mem_121143 + (int64_t) 0, l_n_m_114155 * (int64_t) 8);
        memmove(mem_121175.mem + gtid_116404 * l_n_m_114155 * (int64_t) 4,
                mem_121140 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121125);
    free(mem_121140);
    free(mem_121143);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129820_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129820_end -
                 futhark_mc_segmap_parloop_129820_start;
        
        ctx->futhark_mc_segmap_parloop_129820_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129820_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129820_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129818(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116403 = tid;
    int num_tasks_123090 = info.nsubtasks;
    struct futhark_mc_task_129817 *futhark_mc_task_129817 =
                                  (struct futhark_mc_task_129817 *) args;
    struct futhark_context *ctx = futhark_mc_task_129817->ctx;
    uint64_t futhark_mc_segmap_task_129818_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129818_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129817->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129817->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_129817->free_l_window_114109;
    int64_t l_jump_114113 = futhark_mc_task_129817->free_l_jump_114113;
    int64_t l_n_m_114155 = futhark_mc_task_129817->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_129817->free_i_114181;
    bool x_114182 = futhark_mc_task_129817->free_x_114182;
    int64_t min_res_114253 = futhark_mc_task_129817->free_min_res_114253;
    bool loop_cond_114258 = futhark_mc_task_129817->free_loop_cond_114258;
    float i64_res_114259 = futhark_mc_task_129817->free_i64_res_114259;
    int64_t bytes_121005 = futhark_mc_task_129817->free_bytes_121005;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_129817->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_129817->free_mem_121047,
                                  .size =0, .references =NULL};
    int64_t bytes_121117 = futhark_mc_task_129817->free_bytes_121117;
    int64_t bytes_121120 = futhark_mc_task_129817->free_bytes_121120;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_129817->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_129817->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t iter_123091;
    struct futhark_mc_segmap_parloop_struct_129819
    futhark_mc_segmap_parloop_struct_129819;
    
    futhark_mc_segmap_parloop_struct_129819.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129819.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129819.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129819.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_129819.free_l_jump_114113 = l_jump_114113;
    futhark_mc_segmap_parloop_struct_129819.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_129819.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_129819.free_x_114182 = x_114182;
    futhark_mc_segmap_parloop_struct_129819.free_min_res_114253 =
        min_res_114253;
    futhark_mc_segmap_parloop_struct_129819.free_loop_cond_114258 =
        loop_cond_114258;
    futhark_mc_segmap_parloop_struct_129819.free_i64_res_114259 =
        i64_res_114259;
    futhark_mc_segmap_parloop_struct_129819.free_bytes_121005 = bytes_121005;
    futhark_mc_segmap_parloop_struct_129819.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_129819.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_129819.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_129819.free_bytes_121120 = bytes_121120;
    futhark_mc_segmap_parloop_struct_129819.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_129819.free_mem_121175 = mem_121175.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129820_task;
    
    futhark_mc_segmap_parloop_129820_task.name =
        "futhark_mc_segmap_parloop_129820";
    futhark_mc_segmap_parloop_129820_task.fn = futhark_mc_segmap_parloop_129820;
    futhark_mc_segmap_parloop_129820_task.args =
        &futhark_mc_segmap_parloop_struct_129819;
    futhark_mc_segmap_parloop_129820_task.iterations = iterations;
    futhark_mc_segmap_parloop_129820_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129820_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129820_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129820_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129820_task);
    
    if (futhark_mc_segmap_parloop_129820_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129820_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129820_total_end -
                 futhark_mc_segmap_parloop_129820_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129820_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129820_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129820_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129818_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129818_end -
                 futhark_mc_segmap_task_129818_start;
        
        ctx->futhark_mc_segmap_task_129818_runs[tid]++;
        ctx->futhark_mc_segmap_task_129818_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129818_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129825 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_l_jump_114113;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    bool free_x_114182;
    int64_t free_min_res_114253;
    bool free_loop_cond_114258;
    float free_i64_res_114259;
    int64_t free_bytes_121005;
    char *free_mem_121044;
    char *free_mem_121047;
    int64_t free_bytes_121117;
    int64_t free_bytes_121120;
    char *free_mem_121171;
    char *free_mem_121175;
};
struct futhark_mc_task_129830 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116406;
    char *free_mem_121044;
    char *free_mem_121116;
};
struct futhark_mc_segmap_parloop_struct_129832 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116406;
    char *free_mem_121044;
    char *free_mem_121116;
};
static int futhark_mc_segmap_parloop_129833(void *args, int64_t start,
                                            int64_t end, int flat_tid_116407,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129832
    *futhark_mc_segmap_parloop_struct_129832 =
    (struct futhark_mc_segmap_parloop_struct_129832 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129832->ctx;
    uint64_t futhark_mc_segmap_parloop_129833_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129833_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129832->free_n_114105;
    int64_t gtid_116406 =
            futhark_mc_segmap_parloop_struct_129832->free_gtid_116406;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_129832->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121116 = {.desc ="mem_121116", .mem =
                                  futhark_mc_segmap_parloop_struct_129832->free_mem_121116,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123292 = start;
    
    for (; iter_123292 < end; iter_123292++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123293 = n_114105;
        int64_t gtid_116408 = iter_123292;
        int64_t remnant_123294 = iter_123292 - gtid_116408;
        int64_t x_123201 = ((int64_t *) mem_121044.mem)[gtid_116406 * n_114105 +
                                                        gtid_116408];
        int64_t defunc_0_f_res_123202 = add64((int64_t) 1, x_123201);
        
        ((int64_t *) mem_121116.mem)[gtid_116408] = defunc_0_f_res_123202;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129833_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129833_end -
                 futhark_mc_segmap_parloop_129833_start;
        
        ctx->futhark_mc_segmap_parloop_129833_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129833_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129833_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129831(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116407 = tid;
    int num_tasks_123291 = info.nsubtasks;
    struct futhark_mc_task_129830 *futhark_mc_task_129830 =
                                  (struct futhark_mc_task_129830 *) args;
    struct futhark_context *ctx = futhark_mc_task_129830->ctx;
    uint64_t futhark_mc_segmap_task_129831_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129831_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129830->free_n_114105;
    int64_t gtid_116406 = futhark_mc_task_129830->free_gtid_116406;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_129830->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121116 = {.desc ="mem_121116", .mem =
                                  futhark_mc_task_129830->free_mem_121116,
                                  .size =0, .references =NULL};
    int64_t iter_123292;
    struct futhark_mc_segmap_parloop_struct_129832
    futhark_mc_segmap_parloop_struct_129832;
    
    futhark_mc_segmap_parloop_struct_129832.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129832.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129832.free_gtid_116406 = gtid_116406;
    futhark_mc_segmap_parloop_struct_129832.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_129832.free_mem_121116 = mem_121116.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129833_task;
    
    futhark_mc_segmap_parloop_129833_task.name =
        "futhark_mc_segmap_parloop_129833";
    futhark_mc_segmap_parloop_129833_task.fn = futhark_mc_segmap_parloop_129833;
    futhark_mc_segmap_parloop_129833_task.args =
        &futhark_mc_segmap_parloop_struct_129832;
    futhark_mc_segmap_parloop_129833_task.iterations = iterations;
    futhark_mc_segmap_parloop_129833_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129833_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129833_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129833_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129833_task);
    
    if (futhark_mc_segmap_parloop_129833_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129833_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129833_total_end -
                 futhark_mc_segmap_parloop_129833_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129833_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129833_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129833_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129831_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129831_end -
                 futhark_mc_segmap_task_129831_start;
        
        ctx->futhark_mc_segmap_task_129831_runs[tid]++;
        ctx->futhark_mc_segmap_task_129831_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129831_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129834 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_jump_114113;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    bool free_x_114182;
    int64_t free_min_res_114253;
    bool free_loop_cond_114258;
    int64_t free_gtid_116406;
    int64_t free_min_arg_116416;
    int64_t free_min_arg_116417;
    int64_t free_min_res_116418;
    float free_max_res_116422;
    char *free_mem_121044;
    char *free_mem_121116;
    char *free_mem_121119;
    char *free_mem_121122;
};
struct futhark_mc_segmap_parloop_struct_129836 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_jump_114113;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    bool free_x_114182;
    int64_t free_min_res_114253;
    bool free_loop_cond_114258;
    int64_t free_gtid_116406;
    int64_t free_min_arg_116416;
    int64_t free_min_arg_116417;
    int64_t free_min_res_116418;
    float free_max_res_116422;
    char *free_mem_121044;
    char *free_mem_121116;
    char *free_mem_121119;
    char *free_mem_121122;
};
static int futhark_mc_segmap_parloop_129837(void *args, int64_t start,
                                            int64_t end, int flat_tid_116409,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129836
    *futhark_mc_segmap_parloop_struct_129836 =
    (struct futhark_mc_segmap_parloop_struct_129836 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129836->ctx;
    uint64_t futhark_mc_segmap_parloop_129837_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129837_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129836->free_n_114105;
    int64_t l_jump_114113 =
            futhark_mc_segmap_parloop_struct_129836->free_l_jump_114113;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_129836->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_129836->free_i_114181;
    bool x_114182 = futhark_mc_segmap_parloop_struct_129836->free_x_114182;
    int64_t min_res_114253 =
            futhark_mc_segmap_parloop_struct_129836->free_min_res_114253;
    bool loop_cond_114258 =
         futhark_mc_segmap_parloop_struct_129836->free_loop_cond_114258;
    int64_t gtid_116406 =
            futhark_mc_segmap_parloop_struct_129836->free_gtid_116406;
    int64_t min_arg_116416 =
            futhark_mc_segmap_parloop_struct_129836->free_min_arg_116416;
    int64_t min_arg_116417 =
            futhark_mc_segmap_parloop_struct_129836->free_min_arg_116417;
    int64_t min_res_116418 =
            futhark_mc_segmap_parloop_struct_129836->free_min_res_116418;
    float max_res_116422 =
          futhark_mc_segmap_parloop_struct_129836->free_max_res_116422;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_129836->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121116 = {.desc ="mem_121116", .mem =
                                  futhark_mc_segmap_parloop_struct_129836->free_mem_121116,
                                  .size =0, .references =NULL};
    struct memblock mem_121119 = {.desc ="mem_121119", .mem =
                                  futhark_mc_segmap_parloop_struct_129836->free_mem_121119,
                                  .size =0, .references =NULL};
    struct memblock mem_121122 = {.desc ="mem_121122", .mem =
                                  futhark_mc_segmap_parloop_struct_129836->free_mem_121122,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123296 = start;
    
    for (; iter_123296 < end; iter_123296++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123352 = l_n_m_114155;
        int64_t gtid_116410 = iter_123296;
        int64_t remnant_123353 = iter_123296 - gtid_116410;
        int64_t min_arg_123203 = mul64(l_jump_114113, gtid_116410);
        int64_t min_res_123204 = smin64(i_114181, min_arg_123203);
        int64_t defunc_0_g_res_123205 = add64((int64_t) 1, min_res_123204);
        bool init_idx_123206;
        int64_t init_idx_123207;
        int64_t init_idx_123208;
        bool loop_while_123297;
        int64_t low_123298;
        int64_t high_123299;
        
        loop_while_123297 = x_114182;
        low_123298 = (int64_t) 0;
        high_123299 = i_114181;
        while (loop_while_123297) {
            int64_t x_123300 = add64(low_123298, high_123299);
            int64_t mid_123301 = sdiv64(x_123300, (int64_t) 2);
            bool x_123302 = sle64((int64_t) 0, mid_123301);
            bool y_123303 = slt64(mid_123301, n_114105);
            bool bounds_check_123304 = x_123302 && y_123303;
            bool index_certs_123305;
            
            if (!bounds_check_123304) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) mid_123301,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:145:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:143:5-146:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                return 1;
            }
            
            int64_t mid_id_123306 = ((int64_t *) mem_121116.mem)[mid_123301];
            bool cond_123307 = slt64(mid_id_123306, (int64_t) 0);
            int64_t mid_idx_123308;
            
            if (cond_123307) {
                mid_idx_123308 = (int64_t) 9223372036854775807;
            } else {
                mid_idx_123308 = mid_id_123306;
            }
            
            bool cond_123309 = sle64(defunc_0_g_res_123205, mid_idx_123308);
            int64_t loopres_123310;
            int64_t loopres_123311;
            
            if (cond_123309) {
                int64_t loopres_t_res_123312 = sub64(mid_123301, (int64_t) 1);
                
                loopres_123310 = low_123298;
                loopres_123311 = loopres_t_res_123312;
            } else {
                int64_t loopres_f_res_123313 = add64((int64_t) 1, mid_123301);
                
                loopres_123310 = loopres_f_res_123313;
                loopres_123311 = high_123299;
            }
            
            bool loop_cond_123314 = sle64(loopres_123310, loopres_123311);
            bool loop_while_tmp_123354 = loop_cond_123314;
            int64_t low_tmp_123355 = loopres_123310;
            int64_t high_tmp_123356 = loopres_123311;
            
            loop_while_123297 = loop_while_tmp_123354;
            low_123298 = low_tmp_123355;
            high_123299 = high_tmp_123356;
        }
        init_idx_123206 = loop_while_123297;
        init_idx_123207 = low_123298;
        init_idx_123208 = high_123299;
        
        bool idx_123227;
        int64_t idx_123228;
        int64_t idx_123229;
        int64_t idx_123230;
        bool loop_while_123315;
        int64_t l_idx_123316;
        int64_t r_idx_123317;
        int64_t span_123318;
        
        loop_while_123315 = loop_cond_114258;
        l_idx_123316 = init_idx_123207;
        r_idx_123317 = init_idx_123207;
        span_123318 = (int64_t) 1;
        while (loop_while_123315) {
            int64_t max_arg_123319 = sub64(l_idx_123316, (int64_t) 1);
            int64_t max_res_123320 = smax64((int64_t) 0, max_arg_123319);
            int64_t min_arg_123321 = add64((int64_t) 1, r_idx_123317);
            int64_t min_res_123322 = smin64(min_arg_116416, min_arg_123321);
            bool x_123323 = sle64((int64_t) 0, max_res_123320);
            bool y_123324 = slt64(max_res_123320, n_114105);
            bool bounds_check_123325 = x_123323 && y_123324;
            bool index_certs_123326;
            
            if (!bounds_check_123325) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) max_res_123320,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:145:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:143:5-146:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                return 1;
            }
            
            int64_t x_123327 = ((int64_t *) mem_121116.mem)[max_res_123320];
            int64_t abs_arg_123328 = sub64(x_123327, defunc_0_g_res_123205);
            int64_t abs_res_123329 = abs64(abs_arg_123328);
            bool x_123330 = sle64((int64_t) 0, min_res_123322);
            bool y_123331 = slt64(min_res_123322, n_114105);
            bool bounds_check_123332 = x_123330 && y_123331;
            bool index_certs_123333;
            
            if (!bounds_check_123332) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) min_res_123322,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:145:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:143:5-146:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                return 1;
            }
            
            int64_t x_123334 = ((int64_t *) mem_121116.mem)[min_res_123322];
            int64_t abs_arg_123335 = sub64(x_123334, defunc_0_g_res_123205);
            int64_t abs_res_123336 = abs64(abs_arg_123335);
            bool cond_123337 = max_res_123320 == l_idx_123316;
            int64_t loopres_123338;
            int64_t loopres_123339;
            int64_t loopres_123340;
            
            if (cond_123337) {
                loopres_123338 = l_idx_123316;
                loopres_123339 = r_idx_123317;
                loopres_123340 = min_res_114253;
            } else {
                bool cond_123341 = slt64(abs_res_123329, abs_res_123336);
                bool cond_f_res_123342 = min_res_123322 == r_idx_123317;
                bool x_123343 = !cond_123341;
                bool y_123344 = cond_f_res_123342 && x_123343;
                bool cond_123345 = cond_123341 || y_123344;
                int64_t loopres_f_res_123346;
                
                if (cond_123345) {
                    loopres_f_res_123346 = max_res_123320;
                } else {
                    loopres_f_res_123346 = l_idx_123316;
                }
                
                int64_t loopres_f_res_123347;
                
                if (cond_123345) {
                    loopres_f_res_123347 = r_idx_123317;
                } else {
                    loopres_f_res_123347 = min_res_123322;
                }
                
                int64_t loopres_f_res_123348;
                
                if (cond_123345) {
                    int64_t loopres_f_res_t_res_123349 = add64((int64_t) 1,
                                                               span_123318);
                    
                    loopres_f_res_123348 = loopres_f_res_t_res_123349;
                } else {
                    int64_t loopres_f_res_f_res_123350 = add64((int64_t) 1,
                                                               span_123318);
                    
                    loopres_f_res_123348 = loopres_f_res_f_res_123350;
                }
                loopres_123338 = loopres_f_res_123346;
                loopres_123339 = loopres_f_res_123347;
                loopres_123340 = loopres_f_res_123348;
            }
            
            bool loop_cond_123351 = slt64(loopres_123340, min_res_114253);
            bool loop_while_tmp_123357 = loop_cond_123351;
            int64_t l_idx_tmp_123358 = loopres_123338;
            int64_t r_idx_tmp_123359 = loopres_123339;
            int64_t span_tmp_123360 = loopres_123340;
            
            loop_while_123315 = loop_while_tmp_123357;
            l_idx_123316 = l_idx_tmp_123358;
            r_idx_123317 = r_idx_tmp_123359;
            span_123318 = span_tmp_123360;
        }
        idx_123227 = loop_while_123315;
        idx_123228 = l_idx_123316;
        idx_123229 = r_idx_123317;
        idx_123230 = span_123318;
        
        int64_t min_res_123268 = smin64(min_arg_116417, idx_123228);
        int64_t max_res_123269 = smax64((int64_t) 0, min_res_123268);
        int64_t x_123270 = add64(min_res_116418, max_res_123269);
        int64_t r_123271 = sub64(x_123270, (int64_t) 1);
        bool x_123272 = sle64((int64_t) 0, r_123271);
        bool y_123273 = slt64(r_123271, n_114105);
        bool bounds_check_123274 = x_123272 && y_123273;
        bool index_certs_123275;
        
        if (!bounds_check_123274) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) r_123271,
                                   "] out of bounds for array of shape [",
                                   (long long) n_114105, "].",
                                   "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:145:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:143:5-146:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
            return 1;
        }
        
        int64_t x_123276 = ((int64_t *) mem_121044.mem)[gtid_116406 * n_114105 +
                                                        r_123271];
        int64_t abs_arg_123277 = sub64(x_123276, min_res_123204);
        int64_t abs_res_123278 = abs64(abs_arg_123277);
        bool x_123279 = sle64((int64_t) 0, max_res_123269);
        bool y_123280 = slt64(max_res_123269, n_114105);
        bool bounds_check_123281 = x_123279 && y_123280;
        bool index_certs_123282;
        
        if (!bounds_check_123281) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) max_res_123269,
                                   "] out of bounds for array of shape [",
                                   (long long) n_114105, "].",
                                   "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:145:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:143:5-146:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
            return 1;
        }
        
        int64_t x_123283 = ((int64_t *) mem_121044.mem)[gtid_116406 * n_114105 +
                                                        max_res_123269];
        int64_t abs_arg_123284 = sub64(x_123283, min_res_123204);
        int64_t abs_res_123285 = abs64(abs_arg_123284);
        int64_t max_res_123286 = smax64(abs_res_123278, abs_res_123285);
        float defunc_0_f_res_123287 = sitofp_i64_f32(max_res_123286);
        float defunc_1_f_res_123288 = max_res_116422 + defunc_0_f_res_123287;
        
        ((float *) mem_121119.mem)[gtid_116410] = defunc_1_f_res_123288;
        ((int64_t *) mem_121122.mem)[gtid_116410] = max_res_123269;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129837_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129837_end -
                 futhark_mc_segmap_parloop_129837_start;
        
        ctx->futhark_mc_segmap_parloop_129837_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129837_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129837_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129835(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116409 = tid;
    int num_tasks_123295 = info.nsubtasks;
    struct futhark_mc_task_129834 *futhark_mc_task_129834 =
                                  (struct futhark_mc_task_129834 *) args;
    struct futhark_context *ctx = futhark_mc_task_129834->ctx;
    uint64_t futhark_mc_segmap_task_129835_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129835_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129834->free_n_114105;
    int64_t l_jump_114113 = futhark_mc_task_129834->free_l_jump_114113;
    int64_t l_n_m_114155 = futhark_mc_task_129834->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_129834->free_i_114181;
    bool x_114182 = futhark_mc_task_129834->free_x_114182;
    int64_t min_res_114253 = futhark_mc_task_129834->free_min_res_114253;
    bool loop_cond_114258 = futhark_mc_task_129834->free_loop_cond_114258;
    int64_t gtid_116406 = futhark_mc_task_129834->free_gtid_116406;
    int64_t min_arg_116416 = futhark_mc_task_129834->free_min_arg_116416;
    int64_t min_arg_116417 = futhark_mc_task_129834->free_min_arg_116417;
    int64_t min_res_116418 = futhark_mc_task_129834->free_min_res_116418;
    float max_res_116422 = futhark_mc_task_129834->free_max_res_116422;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_129834->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121116 = {.desc ="mem_121116", .mem =
                                  futhark_mc_task_129834->free_mem_121116,
                                  .size =0, .references =NULL};
    struct memblock mem_121119 = {.desc ="mem_121119", .mem =
                                  futhark_mc_task_129834->free_mem_121119,
                                  .size =0, .references =NULL};
    struct memblock mem_121122 = {.desc ="mem_121122", .mem =
                                  futhark_mc_task_129834->free_mem_121122,
                                  .size =0, .references =NULL};
    int64_t iter_123296;
    struct futhark_mc_segmap_parloop_struct_129836
    futhark_mc_segmap_parloop_struct_129836;
    
    futhark_mc_segmap_parloop_struct_129836.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129836.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129836.free_l_jump_114113 = l_jump_114113;
    futhark_mc_segmap_parloop_struct_129836.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_129836.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_129836.free_x_114182 = x_114182;
    futhark_mc_segmap_parloop_struct_129836.free_min_res_114253 =
        min_res_114253;
    futhark_mc_segmap_parloop_struct_129836.free_loop_cond_114258 =
        loop_cond_114258;
    futhark_mc_segmap_parloop_struct_129836.free_gtid_116406 = gtid_116406;
    futhark_mc_segmap_parloop_struct_129836.free_min_arg_116416 =
        min_arg_116416;
    futhark_mc_segmap_parloop_struct_129836.free_min_arg_116417 =
        min_arg_116417;
    futhark_mc_segmap_parloop_struct_129836.free_min_res_116418 =
        min_res_116418;
    futhark_mc_segmap_parloop_struct_129836.free_max_res_116422 =
        max_res_116422;
    futhark_mc_segmap_parloop_struct_129836.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_129836.free_mem_121116 = mem_121116.mem;
    futhark_mc_segmap_parloop_struct_129836.free_mem_121119 = mem_121119.mem;
    futhark_mc_segmap_parloop_struct_129836.free_mem_121122 = mem_121122.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129837_task;
    
    futhark_mc_segmap_parloop_129837_task.name =
        "futhark_mc_segmap_parloop_129837";
    futhark_mc_segmap_parloop_129837_task.fn = futhark_mc_segmap_parloop_129837;
    futhark_mc_segmap_parloop_129837_task.args =
        &futhark_mc_segmap_parloop_struct_129836;
    futhark_mc_segmap_parloop_129837_task.iterations = iterations;
    futhark_mc_segmap_parloop_129837_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129837_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129837_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129837_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129837_task);
    
    if (futhark_mc_segmap_parloop_129837_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129837_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129837_total_end -
                 futhark_mc_segmap_parloop_129837_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129837_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129837_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129837_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129835_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129835_end -
                 futhark_mc_segmap_task_129835_start;
        
        ctx->futhark_mc_segmap_task_129835_runs[tid]++;
        ctx->futhark_mc_segmap_task_129835_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129835_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129826(void *args, int64_t start,
                                            int64_t end, int flat_tid_116405,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129825
    *futhark_mc_segmap_parloop_struct_129825 =
    (struct futhark_mc_segmap_parloop_struct_129825 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129825->ctx;
    uint64_t futhark_mc_segmap_parloop_129826_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129826_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129825->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129825->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_129825->free_l_window_114109;
    int64_t l_jump_114113 =
            futhark_mc_segmap_parloop_struct_129825->free_l_jump_114113;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_129825->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_129825->free_i_114181;
    bool x_114182 = futhark_mc_segmap_parloop_struct_129825->free_x_114182;
    int64_t min_res_114253 =
            futhark_mc_segmap_parloop_struct_129825->free_min_res_114253;
    bool loop_cond_114258 =
         futhark_mc_segmap_parloop_struct_129825->free_loop_cond_114258;
    float i64_res_114259 =
          futhark_mc_segmap_parloop_struct_129825->free_i64_res_114259;
    int64_t bytes_121005 =
            futhark_mc_segmap_parloop_struct_129825->free_bytes_121005;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_129825->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_129825->free_mem_121047,
                                  .size =0, .references =NULL};
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_129825->free_bytes_121117;
    int64_t bytes_121120 =
            futhark_mc_segmap_parloop_struct_129825->free_bytes_121120;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_129825->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_129825->free_mem_121175,
                                  .size =0, .references =NULL};
    size_t mem_121116_cached_sizze_129827 = 0;
    char *mem_121116 = NULL;
    size_t mem_121119_cached_sizze_129828 = 0;
    char *mem_121119 = NULL;
    size_t mem_121122_cached_sizze_129829 = 0;
    char *mem_121122 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123200 = start;
    
    if (mem_121116_cached_sizze_129827 < (size_t) bytes_121005) {
        mem_121116 = realloc(mem_121116, bytes_121005);
        mem_121116_cached_sizze_129827 = bytes_121005;
    }
    if (mem_121119_cached_sizze_129828 < (size_t) bytes_121117) {
        mem_121119 = realloc(mem_121119, bytes_121117);
        mem_121119_cached_sizze_129828 = bytes_121117;
    }
    if (mem_121122_cached_sizze_129829 < (size_t) bytes_121120) {
        mem_121122 = realloc(mem_121122, bytes_121120);
        mem_121122_cached_sizze_129829 = bytes_121120;
    }
    for (; iter_123200 < end; iter_123200++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123289 = m_114104;
        int64_t gtid_116406 = iter_123200;
        int64_t remnant_123290 = iter_123200 - gtid_116406;
        int64_t x_116412 = ((int64_t *) mem_121047.mem)[gtid_116406];
        int64_t flat_tid_116407 = (int64_t) 0;
        int32_t num_tasks_123291;
        struct futhark_mc_task_129830 futhark_mc_task_129830;
        
        futhark_mc_task_129830.ctx = ctx;
        futhark_mc_task_129830.free_n_114105 = n_114105;
        futhark_mc_task_129830.free_gtid_116406 = gtid_116406;
        futhark_mc_task_129830.free_mem_121044 = mem_121044.mem;
        futhark_mc_task_129830.free_mem_121116 = mem_121116;
        
        struct scheduler_segop futhark_mc_task_129830_task;
        
        futhark_mc_task_129830_task.args = &futhark_mc_task_129830;
        futhark_mc_task_129830_task.top_level_fn =
            futhark_mc_segmap_task_129831;
        futhark_mc_task_129830_task.name = "futhark_mc_segmap_task_129831";
        futhark_mc_task_129830_task.iterations = n_114105;
        futhark_mc_task_129830_task.task_time =
            &ctx->futhark_mc_segmap_task_129831_total_time;
        futhark_mc_task_129830_task.task_iter =
            &ctx->futhark_mc_segmap_task_129831_total_iter;
        futhark_mc_task_129830_task.sched = STATIC;
        futhark_mc_task_129830_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_129831_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129830_task);
        
        if (futhark_mc_segmap_task_129831_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t min_arg_116416 = sub64(x_116412, (int64_t) 1);
        int64_t min_arg_116417 = sub64(x_116412, min_res_114253);
        int64_t min_res_116418 = smin64(l_window_114109, x_116412);
        float i64_res_116419 = sitofp_i64_f32(x_116412);
        float x_116420 = i64_res_114259 - i64_res_116419;
        float max_arg_116421 = x_116420 / 2.0F;
        float max_res_116422 = fmax32(0.0F, max_arg_116421);
        int64_t flat_tid_116409 = (int64_t) 0;
        int32_t num_tasks_123295;
        struct futhark_mc_task_129834 futhark_mc_task_129834;
        
        futhark_mc_task_129834.ctx = ctx;
        futhark_mc_task_129834.free_n_114105 = n_114105;
        futhark_mc_task_129834.free_l_jump_114113 = l_jump_114113;
        futhark_mc_task_129834.free_l_n_m_114155 = l_n_m_114155;
        futhark_mc_task_129834.free_i_114181 = i_114181;
        futhark_mc_task_129834.free_x_114182 = x_114182;
        futhark_mc_task_129834.free_min_res_114253 = min_res_114253;
        futhark_mc_task_129834.free_loop_cond_114258 = loop_cond_114258;
        futhark_mc_task_129834.free_gtid_116406 = gtid_116406;
        futhark_mc_task_129834.free_min_arg_116416 = min_arg_116416;
        futhark_mc_task_129834.free_min_arg_116417 = min_arg_116417;
        futhark_mc_task_129834.free_min_res_116418 = min_res_116418;
        futhark_mc_task_129834.free_max_res_116422 = max_res_116422;
        futhark_mc_task_129834.free_mem_121044 = mem_121044.mem;
        futhark_mc_task_129834.free_mem_121116 = mem_121116;
        futhark_mc_task_129834.free_mem_121119 = mem_121119;
        futhark_mc_task_129834.free_mem_121122 = mem_121122;
        
        struct scheduler_segop futhark_mc_task_129834_task;
        
        futhark_mc_task_129834_task.args = &futhark_mc_task_129834;
        futhark_mc_task_129834_task.top_level_fn =
            futhark_mc_segmap_task_129835;
        futhark_mc_task_129834_task.name = "futhark_mc_segmap_task_129835";
        futhark_mc_task_129834_task.iterations = l_n_m_114155;
        futhark_mc_task_129834_task.task_time =
            &ctx->futhark_mc_segmap_task_129835_total_time;
        futhark_mc_task_129834_task.task_iter =
            &ctx->futhark_mc_segmap_task_129835_total_iter;
        futhark_mc_task_129834_task.sched = DYNAMIC;
        futhark_mc_task_129834_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_129835_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129834_task);
        
        if (futhark_mc_segmap_task_129835_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121171.mem + gtid_116406 * l_n_m_114155 * (int64_t) 8,
                mem_121122 + (int64_t) 0, l_n_m_114155 * (int64_t) 8);
        memmove(mem_121175.mem + gtid_116406 * l_n_m_114155 * (int64_t) 4,
                mem_121119 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121116);
    free(mem_121119);
    free(mem_121122);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129826_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129826_end -
                 futhark_mc_segmap_parloop_129826_start;
        
        ctx->futhark_mc_segmap_parloop_129826_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129826_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129826_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129824(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116405 = tid;
    int num_tasks_123090 = info.nsubtasks;
    struct futhark_mc_task_129817 *futhark_mc_task_129817 =
                                  (struct futhark_mc_task_129817 *) args;
    struct futhark_context *ctx = futhark_mc_task_129817->ctx;
    uint64_t futhark_mc_segmap_nested_task_129824_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129824_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129817->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129817->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_129817->free_l_window_114109;
    int64_t l_jump_114113 = futhark_mc_task_129817->free_l_jump_114113;
    int64_t l_n_m_114155 = futhark_mc_task_129817->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_129817->free_i_114181;
    bool x_114182 = futhark_mc_task_129817->free_x_114182;
    int64_t min_res_114253 = futhark_mc_task_129817->free_min_res_114253;
    bool loop_cond_114258 = futhark_mc_task_129817->free_loop_cond_114258;
    float i64_res_114259 = futhark_mc_task_129817->free_i64_res_114259;
    int64_t bytes_121005 = futhark_mc_task_129817->free_bytes_121005;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_129817->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_129817->free_mem_121047,
                                  .size =0, .references =NULL};
    int64_t bytes_121117 = futhark_mc_task_129817->free_bytes_121117;
    int64_t bytes_121120 = futhark_mc_task_129817->free_bytes_121120;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_129817->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_129817->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t iter_123200;
    struct futhark_mc_segmap_parloop_struct_129825
    futhark_mc_segmap_parloop_struct_129825;
    
    futhark_mc_segmap_parloop_struct_129825.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129825.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129825.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129825.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_129825.free_l_jump_114113 = l_jump_114113;
    futhark_mc_segmap_parloop_struct_129825.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_129825.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_129825.free_x_114182 = x_114182;
    futhark_mc_segmap_parloop_struct_129825.free_min_res_114253 =
        min_res_114253;
    futhark_mc_segmap_parloop_struct_129825.free_loop_cond_114258 =
        loop_cond_114258;
    futhark_mc_segmap_parloop_struct_129825.free_i64_res_114259 =
        i64_res_114259;
    futhark_mc_segmap_parloop_struct_129825.free_bytes_121005 = bytes_121005;
    futhark_mc_segmap_parloop_struct_129825.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_129825.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_129825.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_129825.free_bytes_121120 = bytes_121120;
    futhark_mc_segmap_parloop_struct_129825.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_129825.free_mem_121175 = mem_121175.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129826_task;
    
    futhark_mc_segmap_parloop_129826_task.name =
        "futhark_mc_segmap_parloop_129826";
    futhark_mc_segmap_parloop_129826_task.fn = futhark_mc_segmap_parloop_129826;
    futhark_mc_segmap_parloop_129826_task.args =
        &futhark_mc_segmap_parloop_struct_129825;
    futhark_mc_segmap_parloop_129826_task.iterations = iterations;
    futhark_mc_segmap_parloop_129826_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129826_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129826_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129826_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129826_task);
    
    if (futhark_mc_segmap_parloop_129826_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129826_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129826_total_end -
                 futhark_mc_segmap_parloop_129826_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129826_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129826_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129826_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129824_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129824_end -
                 futhark_mc_segmap_nested_task_129824_start;
        
        ctx->futhark_mc_segmap_nested_task_129824_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129824_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129824_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129838 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    bool free_x_114182;
    int64_t free_min_res_114365;
    bool free_loop_cond_114370;
    float free_i64_res_114371;
    int64_t free_bytes_121005;
    char *free_mem_121044;
    char *free_mem_121047;
    int64_t free_bytes_121179;
    int64_t free_bytes_121182;
    char *free_mem_121233;
    char *free_mem_121237;
};
struct futhark_mc_segmap_parloop_struct_129840 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    bool free_x_114182;
    int64_t free_min_res_114365;
    bool free_loop_cond_114370;
    float free_i64_res_114371;
    int64_t free_bytes_121005;
    char *free_mem_121044;
    char *free_mem_121047;
    int64_t free_bytes_121179;
    int64_t free_bytes_121182;
    char *free_mem_121233;
    char *free_mem_121237;
};
static int futhark_mc_segmap_parloop_129841(void *args, int64_t start,
                                            int64_t end, int flat_tid_116512,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129840
    *futhark_mc_segmap_parloop_struct_129840 =
    (struct futhark_mc_segmap_parloop_struct_129840 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129840->ctx;
    uint64_t futhark_mc_segmap_parloop_129841_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129841_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129840->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129840->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_129840->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_129840->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_129840->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_129840->free_i_114181;
    bool x_114182 = futhark_mc_segmap_parloop_struct_129840->free_x_114182;
    int64_t min_res_114365 =
            futhark_mc_segmap_parloop_struct_129840->free_min_res_114365;
    bool loop_cond_114370 =
         futhark_mc_segmap_parloop_struct_129840->free_loop_cond_114370;
    float i64_res_114371 =
          futhark_mc_segmap_parloop_struct_129840->free_i64_res_114371;
    int64_t bytes_121005 =
            futhark_mc_segmap_parloop_struct_129840->free_bytes_121005;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_129840->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_129840->free_mem_121047,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_129840->free_bytes_121179;
    int64_t bytes_121182 =
            futhark_mc_segmap_parloop_struct_129840->free_bytes_121182;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_129840->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_129840->free_mem_121237,
                                  .size =0, .references =NULL};
    size_t mem_121187_cached_sizze_129842 = 0;
    char *mem_121187 = NULL;
    size_t mem_121202_cached_sizze_129843 = 0;
    char *mem_121202 = NULL;
    size_t mem_121205_cached_sizze_129844 = 0;
    char *mem_121205 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123362 = start;
    
    if (mem_121187_cached_sizze_129842 < (size_t) bytes_121005) {
        mem_121187 = realloc(mem_121187, bytes_121005);
        mem_121187_cached_sizze_129842 = bytes_121005;
    }
    if (mem_121202_cached_sizze_129843 < (size_t) bytes_121179) {
        mem_121202 = realloc(mem_121202, bytes_121179);
        mem_121202_cached_sizze_129843 = bytes_121179;
    }
    if (mem_121205_cached_sizze_129844 < (size_t) bytes_121182) {
        mem_121205 = realloc(mem_121205, bytes_121182);
        mem_121205_cached_sizze_129844 = bytes_121182;
    }
    for (; iter_123362 < end; iter_123362++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123459 = m_114104;
        int64_t gtid_116513 = iter_123362;
        int64_t remnant_123460 = iter_123362 - gtid_116513;
        int64_t x_114375 = ((int64_t *) mem_121047.mem)[gtid_116513];
        
        for (int64_t i_123363 = 0; i_123363 < n_114105; i_123363++) {
            int64_t x_123365 = ((int64_t *) mem_121044.mem)[gtid_116513 *
                                                            n_114105 +
                                                            i_123363];
            int64_t defunc_0_f_res_123366 = add64((int64_t) 1, x_123365);
            
            ((int64_t *) mem_121187)[i_123363] = defunc_0_f_res_123366;
        }
        
        int64_t min_arg_114379 = sub64(x_114375, (int64_t) 1);
        int64_t min_arg_114380 = sub64(x_114375, min_res_114365);
        int64_t min_res_114381 = smin64(t_window_114108, x_114375);
        float i64_res_114382 = sitofp_i64_f32(x_114375);
        float x_114383 = i64_res_114371 - i64_res_114382;
        float max_arg_114384 = x_114383 / 2.0F;
        float max_res_114385 = fmax32(0.0F, max_arg_114384);
        
        for (int64_t i_123368 = 0; i_123368 < t_n_m_114162; i_123368++) {
            int64_t min_arg_123371 = mul64(t_jump_114112, i_123368);
            int64_t min_res_123372 = smin64(i_114181, min_arg_123371);
            int64_t defunc_0_g_res_123373 = add64((int64_t) 1, min_res_123372);
            bool init_idx_123374;
            int64_t init_idx_123375;
            int64_t init_idx_123376;
            bool loop_while_123377;
            int64_t low_123378;
            int64_t high_123379;
            
            loop_while_123377 = x_114182;
            low_123378 = (int64_t) 0;
            high_123379 = i_114181;
            while (loop_while_123377) {
                int64_t x_123380 = add64(low_123378, high_123379);
                int64_t mid_123381 = sdiv64(x_123380, (int64_t) 2);
                bool x_123382 = sle64((int64_t) 0, mid_123381);
                bool y_123383 = slt64(mid_123381, n_114105);
                bool bounds_check_123384 = x_123382 && y_123383;
                bool index_certs_123385;
                
                if (!bounds_check_123384) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) mid_123381,
                                  "] out of bounds for array of shape [",
                                  (long long) n_114105, "].",
                                  "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:152:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:150:5-153:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                int64_t mid_id_123386 = ((int64_t *) mem_121187)[mid_123381];
                bool cond_123387 = slt64(mid_id_123386, (int64_t) 0);
                int64_t mid_idx_123388;
                
                if (cond_123387) {
                    mid_idx_123388 = (int64_t) 9223372036854775807;
                } else {
                    mid_idx_123388 = mid_id_123386;
                }
                
                bool cond_123389 = sle64(defunc_0_g_res_123373, mid_idx_123388);
                int64_t loopres_123390;
                int64_t loopres_123391;
                
                if (cond_123389) {
                    int64_t loopres_t_res_123392 = sub64(mid_123381,
                                                         (int64_t) 1);
                    
                    loopres_123390 = low_123378;
                    loopres_123391 = loopres_t_res_123392;
                } else {
                    int64_t loopres_f_res_123393 = add64((int64_t) 1,
                                                         mid_123381);
                    
                    loopres_123390 = loopres_f_res_123393;
                    loopres_123391 = high_123379;
                }
                
                bool loop_cond_123394 = sle64(loopres_123390, loopres_123391);
                bool loop_while_tmp_123464 = loop_cond_123394;
                int64_t low_tmp_123465 = loopres_123390;
                int64_t high_tmp_123466 = loopres_123391;
                
                loop_while_123377 = loop_while_tmp_123464;
                low_123378 = low_tmp_123465;
                high_123379 = high_tmp_123466;
            }
            init_idx_123374 = loop_while_123377;
            init_idx_123375 = low_123378;
            init_idx_123376 = high_123379;
            
            bool idx_123395;
            int64_t idx_123396;
            int64_t idx_123397;
            int64_t idx_123398;
            bool loop_while_123399;
            int64_t l_idx_123400;
            int64_t r_idx_123401;
            int64_t span_123402;
            
            loop_while_123399 = loop_cond_114370;
            l_idx_123400 = init_idx_123375;
            r_idx_123401 = init_idx_123375;
            span_123402 = (int64_t) 1;
            while (loop_while_123399) {
                int64_t max_arg_123403 = sub64(l_idx_123400, (int64_t) 1);
                int64_t max_res_123404 = smax64((int64_t) 0, max_arg_123403);
                int64_t min_arg_123405 = add64((int64_t) 1, r_idx_123401);
                int64_t min_res_123406 = smin64(min_arg_114379, min_arg_123405);
                bool x_123407 = sle64((int64_t) 0, max_res_123404);
                bool y_123408 = slt64(max_res_123404, n_114105);
                bool bounds_check_123409 = x_123407 && y_123408;
                bool index_certs_123410;
                
                if (!bounds_check_123409) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) max_res_123404,
                                  "] out of bounds for array of shape [",
                                  (long long) n_114105, "].",
                                  "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:152:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:150:5-153:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                int64_t x_123411 = ((int64_t *) mem_121187)[max_res_123404];
                int64_t abs_arg_123412 = sub64(x_123411, defunc_0_g_res_123373);
                int64_t abs_res_123413 = abs64(abs_arg_123412);
                bool x_123414 = sle64((int64_t) 0, min_res_123406);
                bool y_123415 = slt64(min_res_123406, n_114105);
                bool bounds_check_123416 = x_123414 && y_123415;
                bool index_certs_123417;
                
                if (!bounds_check_123416) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) min_res_123406,
                                  "] out of bounds for array of shape [",
                                  (long long) n_114105, "].",
                                  "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:152:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:150:5-153:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                int64_t x_123418 = ((int64_t *) mem_121187)[min_res_123406];
                int64_t abs_arg_123419 = sub64(x_123418, defunc_0_g_res_123373);
                int64_t abs_res_123420 = abs64(abs_arg_123419);
                bool cond_123421 = max_res_123404 == l_idx_123400;
                int64_t loopres_123422;
                int64_t loopres_123423;
                int64_t loopres_123424;
                
                if (cond_123421) {
                    loopres_123422 = l_idx_123400;
                    loopres_123423 = r_idx_123401;
                    loopres_123424 = min_res_114365;
                } else {
                    bool cond_123425 = slt64(abs_res_123413, abs_res_123420);
                    bool cond_f_res_123426 = min_res_123406 == r_idx_123401;
                    bool x_123427 = !cond_123425;
                    bool y_123428 = cond_f_res_123426 && x_123427;
                    bool cond_123429 = cond_123425 || y_123428;
                    int64_t loopres_f_res_123430;
                    
                    if (cond_123429) {
                        loopres_f_res_123430 = max_res_123404;
                    } else {
                        loopres_f_res_123430 = l_idx_123400;
                    }
                    
                    int64_t loopres_f_res_123431;
                    
                    if (cond_123429) {
                        loopres_f_res_123431 = r_idx_123401;
                    } else {
                        loopres_f_res_123431 = min_res_123406;
                    }
                    
                    int64_t loopres_f_res_123432;
                    
                    if (cond_123429) {
                        int64_t loopres_f_res_t_res_123433 = add64((int64_t) 1,
                                                                   span_123402);
                        
                        loopres_f_res_123432 = loopres_f_res_t_res_123433;
                    } else {
                        int64_t loopres_f_res_f_res_123434 = add64((int64_t) 1,
                                                                   span_123402);
                        
                        loopres_f_res_123432 = loopres_f_res_f_res_123434;
                    }
                    loopres_123422 = loopres_f_res_123430;
                    loopres_123423 = loopres_f_res_123431;
                    loopres_123424 = loopres_f_res_123432;
                }
                
                bool loop_cond_123435 = slt64(loopres_123424, min_res_114365);
                bool loop_while_tmp_123467 = loop_cond_123435;
                int64_t l_idx_tmp_123468 = loopres_123422;
                int64_t r_idx_tmp_123469 = loopres_123423;
                int64_t span_tmp_123470 = loopres_123424;
                
                loop_while_123399 = loop_while_tmp_123467;
                l_idx_123400 = l_idx_tmp_123468;
                r_idx_123401 = r_idx_tmp_123469;
                span_123402 = span_tmp_123470;
            }
            idx_123395 = loop_while_123399;
            idx_123396 = l_idx_123400;
            idx_123397 = r_idx_123401;
            idx_123398 = span_123402;
            
            int64_t min_res_123436 = smin64(min_arg_114380, idx_123396);
            int64_t max_res_123437 = smax64((int64_t) 0, min_res_123436);
            int64_t x_123438 = add64(min_res_114381, max_res_123437);
            int64_t r_123439 = sub64(x_123438, (int64_t) 1);
            bool x_123440 = sle64((int64_t) 0, r_123439);
            bool y_123441 = slt64(r_123439, n_114105);
            bool bounds_check_123442 = x_123440 && y_123441;
            bool index_certs_123443;
            
            if (!bounds_check_123442) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) r_123439,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:152:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:150:5-153:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                return 1;
            }
            
            int64_t x_123444 = ((int64_t *) mem_121044.mem)[gtid_116513 *
                                                            n_114105 +
                                                            r_123439];
            int64_t abs_arg_123445 = sub64(x_123444, min_res_123372);
            int64_t abs_res_123446 = abs64(abs_arg_123445);
            bool x_123447 = sle64((int64_t) 0, max_res_123437);
            bool y_123448 = slt64(max_res_123437, n_114105);
            bool bounds_check_123449 = x_123447 && y_123448;
            bool index_certs_123450;
            
            if (!bounds_check_123449) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) max_res_123437,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:152:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:150:5-153:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                return 1;
            }
            
            int64_t x_123451 = ((int64_t *) mem_121044.mem)[gtid_116513 *
                                                            n_114105 +
                                                            max_res_123437];
            int64_t abs_arg_123452 = sub64(x_123451, min_res_123372);
            int64_t abs_res_123453 = abs64(abs_arg_123452);
            int64_t max_res_123454 = smax64(abs_res_123446, abs_res_123453);
            float defunc_0_f_res_123455 = sitofp_i64_f32(max_res_123454);
            float defunc_1_f_res_123456 = max_res_114385 +
                  defunc_0_f_res_123455;
            
            ((float *) mem_121202)[i_123368] = defunc_1_f_res_123456;
            ((int64_t *) mem_121205)[i_123368] = max_res_123437;
        }
        memmove(mem_121233.mem + gtid_116513 * t_n_m_114162 * (int64_t) 8,
                mem_121205 + (int64_t) 0, t_n_m_114162 * (int64_t) 8);
        memmove(mem_121237.mem + gtid_116513 * t_n_m_114162 * (int64_t) 4,
                mem_121202 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121187);
    free(mem_121202);
    free(mem_121205);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129841_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129841_end -
                 futhark_mc_segmap_parloop_129841_start;
        
        ctx->futhark_mc_segmap_parloop_129841_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129841_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129841_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129839(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116512 = tid;
    int num_tasks_123361 = info.nsubtasks;
    struct futhark_mc_task_129838 *futhark_mc_task_129838 =
                                  (struct futhark_mc_task_129838 *) args;
    struct futhark_context *ctx = futhark_mc_task_129838->ctx;
    uint64_t futhark_mc_segmap_task_129839_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129839_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129838->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129838->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_129838->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_129838->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_129838->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_129838->free_i_114181;
    bool x_114182 = futhark_mc_task_129838->free_x_114182;
    int64_t min_res_114365 = futhark_mc_task_129838->free_min_res_114365;
    bool loop_cond_114370 = futhark_mc_task_129838->free_loop_cond_114370;
    float i64_res_114371 = futhark_mc_task_129838->free_i64_res_114371;
    int64_t bytes_121005 = futhark_mc_task_129838->free_bytes_121005;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_129838->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_129838->free_mem_121047,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_129838->free_bytes_121179;
    int64_t bytes_121182 = futhark_mc_task_129838->free_bytes_121182;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_129838->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_129838->free_mem_121237,
                                  .size =0, .references =NULL};
    int64_t iter_123362;
    struct futhark_mc_segmap_parloop_struct_129840
    futhark_mc_segmap_parloop_struct_129840;
    
    futhark_mc_segmap_parloop_struct_129840.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129840.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129840.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129840.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_129840.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_129840.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_129840.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_129840.free_x_114182 = x_114182;
    futhark_mc_segmap_parloop_struct_129840.free_min_res_114365 =
        min_res_114365;
    futhark_mc_segmap_parloop_struct_129840.free_loop_cond_114370 =
        loop_cond_114370;
    futhark_mc_segmap_parloop_struct_129840.free_i64_res_114371 =
        i64_res_114371;
    futhark_mc_segmap_parloop_struct_129840.free_bytes_121005 = bytes_121005;
    futhark_mc_segmap_parloop_struct_129840.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_129840.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_129840.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_129840.free_bytes_121182 = bytes_121182;
    futhark_mc_segmap_parloop_struct_129840.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_129840.free_mem_121237 = mem_121237.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129841_task;
    
    futhark_mc_segmap_parloop_129841_task.name =
        "futhark_mc_segmap_parloop_129841";
    futhark_mc_segmap_parloop_129841_task.fn = futhark_mc_segmap_parloop_129841;
    futhark_mc_segmap_parloop_129841_task.args =
        &futhark_mc_segmap_parloop_struct_129840;
    futhark_mc_segmap_parloop_129841_task.iterations = iterations;
    futhark_mc_segmap_parloop_129841_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129841_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129841_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129841_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129841_task);
    
    if (futhark_mc_segmap_parloop_129841_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129841_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129841_total_end -
                 futhark_mc_segmap_parloop_129841_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129841_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129841_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129841_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129839_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129839_end -
                 futhark_mc_segmap_task_129839_start;
        
        ctx->futhark_mc_segmap_task_129839_runs[tid]++;
        ctx->futhark_mc_segmap_task_129839_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129839_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129846 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    bool free_x_114182;
    int64_t free_min_res_114365;
    bool free_loop_cond_114370;
    float free_i64_res_114371;
    int64_t free_bytes_121005;
    char *free_mem_121044;
    char *free_mem_121047;
    int64_t free_bytes_121179;
    int64_t free_bytes_121182;
    char *free_mem_121233;
    char *free_mem_121237;
};
struct futhark_mc_task_129851 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116515;
    char *free_mem_121044;
    char *free_mem_121178;
};
struct futhark_mc_segmap_parloop_struct_129853 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116515;
    char *free_mem_121044;
    char *free_mem_121178;
};
static int futhark_mc_segmap_parloop_129854(void *args, int64_t start,
                                            int64_t end, int flat_tid_116516,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129853
    *futhark_mc_segmap_parloop_struct_129853 =
    (struct futhark_mc_segmap_parloop_struct_129853 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129853->ctx;
    uint64_t futhark_mc_segmap_parloop_129854_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129854_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129853->free_n_114105;
    int64_t gtid_116515 =
            futhark_mc_segmap_parloop_struct_129853->free_gtid_116515;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_129853->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121178 = {.desc ="mem_121178", .mem =
                                  futhark_mc_segmap_parloop_struct_129853->free_mem_121178,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123563 = start;
    
    for (; iter_123563 < end; iter_123563++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123564 = n_114105;
        int64_t gtid_116517 = iter_123563;
        int64_t remnant_123565 = iter_123563 - gtid_116517;
        int64_t x_123472 = ((int64_t *) mem_121044.mem)[gtid_116515 * n_114105 +
                                                        gtid_116517];
        int64_t defunc_0_f_res_123473 = add64((int64_t) 1, x_123472);
        
        ((int64_t *) mem_121178.mem)[gtid_116517] = defunc_0_f_res_123473;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129854_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129854_end -
                 futhark_mc_segmap_parloop_129854_start;
        
        ctx->futhark_mc_segmap_parloop_129854_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129854_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129854_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129852(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116516 = tid;
    int num_tasks_123562 = info.nsubtasks;
    struct futhark_mc_task_129851 *futhark_mc_task_129851 =
                                  (struct futhark_mc_task_129851 *) args;
    struct futhark_context *ctx = futhark_mc_task_129851->ctx;
    uint64_t futhark_mc_segmap_task_129852_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129852_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129851->free_n_114105;
    int64_t gtid_116515 = futhark_mc_task_129851->free_gtid_116515;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_129851->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121178 = {.desc ="mem_121178", .mem =
                                  futhark_mc_task_129851->free_mem_121178,
                                  .size =0, .references =NULL};
    int64_t iter_123563;
    struct futhark_mc_segmap_parloop_struct_129853
    futhark_mc_segmap_parloop_struct_129853;
    
    futhark_mc_segmap_parloop_struct_129853.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129853.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129853.free_gtid_116515 = gtid_116515;
    futhark_mc_segmap_parloop_struct_129853.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_129853.free_mem_121178 = mem_121178.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129854_task;
    
    futhark_mc_segmap_parloop_129854_task.name =
        "futhark_mc_segmap_parloop_129854";
    futhark_mc_segmap_parloop_129854_task.fn = futhark_mc_segmap_parloop_129854;
    futhark_mc_segmap_parloop_129854_task.args =
        &futhark_mc_segmap_parloop_struct_129853;
    futhark_mc_segmap_parloop_129854_task.iterations = iterations;
    futhark_mc_segmap_parloop_129854_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129854_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129854_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129854_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129854_task);
    
    if (futhark_mc_segmap_parloop_129854_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129854_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129854_total_end -
                 futhark_mc_segmap_parloop_129854_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129854_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129854_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129854_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129852_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129852_end -
                 futhark_mc_segmap_task_129852_start;
        
        ctx->futhark_mc_segmap_task_129852_runs[tid]++;
        ctx->futhark_mc_segmap_task_129852_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129852_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129855 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    bool free_x_114182;
    int64_t free_min_res_114365;
    bool free_loop_cond_114370;
    int64_t free_gtid_116515;
    int64_t free_min_arg_116525;
    int64_t free_min_arg_116526;
    int64_t free_min_res_116527;
    float free_max_res_116531;
    char *free_mem_121044;
    char *free_mem_121178;
    char *free_mem_121181;
    char *free_mem_121184;
};
struct futhark_mc_segmap_parloop_struct_129857 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    bool free_x_114182;
    int64_t free_min_res_114365;
    bool free_loop_cond_114370;
    int64_t free_gtid_116515;
    int64_t free_min_arg_116525;
    int64_t free_min_arg_116526;
    int64_t free_min_res_116527;
    float free_max_res_116531;
    char *free_mem_121044;
    char *free_mem_121178;
    char *free_mem_121181;
    char *free_mem_121184;
};
static int futhark_mc_segmap_parloop_129858(void *args, int64_t start,
                                            int64_t end, int flat_tid_116518,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129857
    *futhark_mc_segmap_parloop_struct_129857 =
    (struct futhark_mc_segmap_parloop_struct_129857 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129857->ctx;
    uint64_t futhark_mc_segmap_parloop_129858_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129858_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129857->free_n_114105;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_129857->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_129857->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_129857->free_i_114181;
    bool x_114182 = futhark_mc_segmap_parloop_struct_129857->free_x_114182;
    int64_t min_res_114365 =
            futhark_mc_segmap_parloop_struct_129857->free_min_res_114365;
    bool loop_cond_114370 =
         futhark_mc_segmap_parloop_struct_129857->free_loop_cond_114370;
    int64_t gtid_116515 =
            futhark_mc_segmap_parloop_struct_129857->free_gtid_116515;
    int64_t min_arg_116525 =
            futhark_mc_segmap_parloop_struct_129857->free_min_arg_116525;
    int64_t min_arg_116526 =
            futhark_mc_segmap_parloop_struct_129857->free_min_arg_116526;
    int64_t min_res_116527 =
            futhark_mc_segmap_parloop_struct_129857->free_min_res_116527;
    float max_res_116531 =
          futhark_mc_segmap_parloop_struct_129857->free_max_res_116531;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_129857->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121178 = {.desc ="mem_121178", .mem =
                                  futhark_mc_segmap_parloop_struct_129857->free_mem_121178,
                                  .size =0, .references =NULL};
    struct memblock mem_121181 = {.desc ="mem_121181", .mem =
                                  futhark_mc_segmap_parloop_struct_129857->free_mem_121181,
                                  .size =0, .references =NULL};
    struct memblock mem_121184 = {.desc ="mem_121184", .mem =
                                  futhark_mc_segmap_parloop_struct_129857->free_mem_121184,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123567 = start;
    
    for (; iter_123567 < end; iter_123567++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123623 = t_n_m_114162;
        int64_t gtid_116519 = iter_123567;
        int64_t remnant_123624 = iter_123567 - gtid_116519;
        int64_t min_arg_123474 = mul64(t_jump_114112, gtid_116519);
        int64_t min_res_123475 = smin64(i_114181, min_arg_123474);
        int64_t defunc_0_g_res_123476 = add64((int64_t) 1, min_res_123475);
        bool init_idx_123477;
        int64_t init_idx_123478;
        int64_t init_idx_123479;
        bool loop_while_123568;
        int64_t low_123569;
        int64_t high_123570;
        
        loop_while_123568 = x_114182;
        low_123569 = (int64_t) 0;
        high_123570 = i_114181;
        while (loop_while_123568) {
            int64_t x_123571 = add64(low_123569, high_123570);
            int64_t mid_123572 = sdiv64(x_123571, (int64_t) 2);
            bool x_123573 = sle64((int64_t) 0, mid_123572);
            bool y_123574 = slt64(mid_123572, n_114105);
            bool bounds_check_123575 = x_123573 && y_123574;
            bool index_certs_123576;
            
            if (!bounds_check_123575) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) mid_123572,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  loess.fut:352:25-35\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:152:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:150:5-153:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                return 1;
            }
            
            int64_t mid_id_123577 = ((int64_t *) mem_121178.mem)[mid_123572];
            bool cond_123578 = slt64(mid_id_123577, (int64_t) 0);
            int64_t mid_idx_123579;
            
            if (cond_123578) {
                mid_idx_123579 = (int64_t) 9223372036854775807;
            } else {
                mid_idx_123579 = mid_id_123577;
            }
            
            bool cond_123580 = sle64(defunc_0_g_res_123476, mid_idx_123579);
            int64_t loopres_123581;
            int64_t loopres_123582;
            
            if (cond_123580) {
                int64_t loopres_t_res_123583 = sub64(mid_123572, (int64_t) 1);
                
                loopres_123581 = low_123569;
                loopres_123582 = loopres_t_res_123583;
            } else {
                int64_t loopres_f_res_123584 = add64((int64_t) 1, mid_123572);
                
                loopres_123581 = loopres_f_res_123584;
                loopres_123582 = high_123570;
            }
            
            bool loop_cond_123585 = sle64(loopres_123581, loopres_123582);
            bool loop_while_tmp_123625 = loop_cond_123585;
            int64_t low_tmp_123626 = loopres_123581;
            int64_t high_tmp_123627 = loopres_123582;
            
            loop_while_123568 = loop_while_tmp_123625;
            low_123569 = low_tmp_123626;
            high_123570 = high_tmp_123627;
        }
        init_idx_123477 = loop_while_123568;
        init_idx_123478 = low_123569;
        init_idx_123479 = high_123570;
        
        bool idx_123498;
        int64_t idx_123499;
        int64_t idx_123500;
        int64_t idx_123501;
        bool loop_while_123586;
        int64_t l_idx_123587;
        int64_t r_idx_123588;
        int64_t span_123589;
        
        loop_while_123586 = loop_cond_114370;
        l_idx_123587 = init_idx_123478;
        r_idx_123588 = init_idx_123478;
        span_123589 = (int64_t) 1;
        while (loop_while_123586) {
            int64_t max_arg_123590 = sub64(l_idx_123587, (int64_t) 1);
            int64_t max_res_123591 = smax64((int64_t) 0, max_arg_123590);
            int64_t min_arg_123592 = add64((int64_t) 1, r_idx_123588);
            int64_t min_res_123593 = smin64(min_arg_116525, min_arg_123592);
            bool x_123594 = sle64((int64_t) 0, max_res_123591);
            bool y_123595 = slt64(max_res_123591, n_114105);
            bool bounds_check_123596 = x_123594 && y_123595;
            bool index_certs_123597;
            
            if (!bounds_check_123596) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) max_res_123591,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  loess.fut:364:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:152:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:150:5-153:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                return 1;
            }
            
            int64_t x_123598 = ((int64_t *) mem_121178.mem)[max_res_123591];
            int64_t abs_arg_123599 = sub64(x_123598, defunc_0_g_res_123476);
            int64_t abs_res_123600 = abs64(abs_arg_123599);
            bool x_123601 = sle64((int64_t) 0, min_res_123593);
            bool y_123602 = slt64(min_res_123593, n_114105);
            bool bounds_check_123603 = x_123601 && y_123602;
            bool index_certs_123604;
            
            if (!bounds_check_123603) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) min_res_123593,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  loess.fut:365:36-49\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:345:3-374:7\n   #4  loess.fut:409:15-61\n   #5  stl.fut:152:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:150:5-153:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                return 1;
            }
            
            int64_t x_123605 = ((int64_t *) mem_121178.mem)[min_res_123593];
            int64_t abs_arg_123606 = sub64(x_123605, defunc_0_g_res_123476);
            int64_t abs_res_123607 = abs64(abs_arg_123606);
            bool cond_123608 = max_res_123591 == l_idx_123587;
            int64_t loopres_123609;
            int64_t loopres_123610;
            int64_t loopres_123611;
            
            if (cond_123608) {
                loopres_123609 = l_idx_123587;
                loopres_123610 = r_idx_123588;
                loopres_123611 = min_res_114365;
            } else {
                bool cond_123612 = slt64(abs_res_123600, abs_res_123607);
                bool cond_f_res_123613 = min_res_123593 == r_idx_123588;
                bool x_123614 = !cond_123612;
                bool y_123615 = cond_f_res_123613 && x_123614;
                bool cond_123616 = cond_123612 || y_123615;
                int64_t loopres_f_res_123617;
                
                if (cond_123616) {
                    loopres_f_res_123617 = max_res_123591;
                } else {
                    loopres_f_res_123617 = l_idx_123587;
                }
                
                int64_t loopres_f_res_123618;
                
                if (cond_123616) {
                    loopres_f_res_123618 = r_idx_123588;
                } else {
                    loopres_f_res_123618 = min_res_123593;
                }
                
                int64_t loopres_f_res_123619;
                
                if (cond_123616) {
                    int64_t loopres_f_res_t_res_123620 = add64((int64_t) 1,
                                                               span_123589);
                    
                    loopres_f_res_123619 = loopres_f_res_t_res_123620;
                } else {
                    int64_t loopres_f_res_f_res_123621 = add64((int64_t) 1,
                                                               span_123589);
                    
                    loopres_f_res_123619 = loopres_f_res_f_res_123621;
                }
                loopres_123609 = loopres_f_res_123617;
                loopres_123610 = loopres_f_res_123618;
                loopres_123611 = loopres_f_res_123619;
            }
            
            bool loop_cond_123622 = slt64(loopres_123611, min_res_114365);
            bool loop_while_tmp_123628 = loop_cond_123622;
            int64_t l_idx_tmp_123629 = loopres_123609;
            int64_t r_idx_tmp_123630 = loopres_123610;
            int64_t span_tmp_123631 = loopres_123611;
            
            loop_while_123586 = loop_while_tmp_123628;
            l_idx_123587 = l_idx_tmp_123629;
            r_idx_123588 = r_idx_tmp_123630;
            span_123589 = span_tmp_123631;
        }
        idx_123498 = loop_while_123586;
        idx_123499 = l_idx_123587;
        idx_123500 = r_idx_123588;
        idx_123501 = span_123589;
        
        int64_t min_res_123539 = smin64(min_arg_116526, idx_123499);
        int64_t max_res_123540 = smax64((int64_t) 0, min_res_123539);
        int64_t x_123541 = add64(min_res_116527, max_res_123540);
        int64_t r_123542 = sub64(x_123541, (int64_t) 1);
        bool x_123543 = sle64((int64_t) 0, r_123542);
        bool y_123544 = slt64(r_123542, n_114105);
        bool bounds_check_123545 = x_123543 && y_123544;
        bool index_certs_123546;
        
        if (!bounds_check_123545) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) r_123542,
                                   "] out of bounds for array of shape [",
                                   (long long) n_114105, "].",
                                   "-> #0  loess.fut:391:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:152:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:150:5-153:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
            return 1;
        }
        
        int64_t x_123547 = ((int64_t *) mem_121044.mem)[gtid_116515 * n_114105 +
                                                        r_123542];
        int64_t abs_arg_123548 = sub64(x_123547, min_res_123475);
        int64_t abs_res_123549 = abs64(abs_arg_123548);
        bool x_123550 = sle64((int64_t) 0, max_res_123540);
        bool y_123551 = slt64(max_res_123540, n_114105);
        bool bounds_check_123552 = x_123550 && y_123551;
        bool index_certs_123553;
        
        if (!bounds_check_123552) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) max_res_123540,
                                   "] out of bounds for array of shape [",
                                   (long long) n_114105, "].",
                                   "-> #0  loess.fut:390:40-47\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  loess.fut:386:3-394:25\n   #4  loess.fut:410:18-55\n   #5  stl.fut:152:13-65\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:150:5-153:26\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
            return 1;
        }
        
        int64_t x_123554 = ((int64_t *) mem_121044.mem)[gtid_116515 * n_114105 +
                                                        max_res_123540];
        int64_t abs_arg_123555 = sub64(x_123554, min_res_123475);
        int64_t abs_res_123556 = abs64(abs_arg_123555);
        int64_t max_res_123557 = smax64(abs_res_123549, abs_res_123556);
        float defunc_0_f_res_123558 = sitofp_i64_f32(max_res_123557);
        float defunc_1_f_res_123559 = max_res_116531 + defunc_0_f_res_123558;
        
        ((float *) mem_121181.mem)[gtid_116519] = defunc_1_f_res_123559;
        ((int64_t *) mem_121184.mem)[gtid_116519] = max_res_123540;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129858_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129858_end -
                 futhark_mc_segmap_parloop_129858_start;
        
        ctx->futhark_mc_segmap_parloop_129858_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129858_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129858_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129856(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116518 = tid;
    int num_tasks_123566 = info.nsubtasks;
    struct futhark_mc_task_129855 *futhark_mc_task_129855 =
                                  (struct futhark_mc_task_129855 *) args;
    struct futhark_context *ctx = futhark_mc_task_129855->ctx;
    uint64_t futhark_mc_segmap_task_129856_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129856_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129855->free_n_114105;
    int64_t t_jump_114112 = futhark_mc_task_129855->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_129855->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_129855->free_i_114181;
    bool x_114182 = futhark_mc_task_129855->free_x_114182;
    int64_t min_res_114365 = futhark_mc_task_129855->free_min_res_114365;
    bool loop_cond_114370 = futhark_mc_task_129855->free_loop_cond_114370;
    int64_t gtid_116515 = futhark_mc_task_129855->free_gtid_116515;
    int64_t min_arg_116525 = futhark_mc_task_129855->free_min_arg_116525;
    int64_t min_arg_116526 = futhark_mc_task_129855->free_min_arg_116526;
    int64_t min_res_116527 = futhark_mc_task_129855->free_min_res_116527;
    float max_res_116531 = futhark_mc_task_129855->free_max_res_116531;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_129855->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121178 = {.desc ="mem_121178", .mem =
                                  futhark_mc_task_129855->free_mem_121178,
                                  .size =0, .references =NULL};
    struct memblock mem_121181 = {.desc ="mem_121181", .mem =
                                  futhark_mc_task_129855->free_mem_121181,
                                  .size =0, .references =NULL};
    struct memblock mem_121184 = {.desc ="mem_121184", .mem =
                                  futhark_mc_task_129855->free_mem_121184,
                                  .size =0, .references =NULL};
    int64_t iter_123567;
    struct futhark_mc_segmap_parloop_struct_129857
    futhark_mc_segmap_parloop_struct_129857;
    
    futhark_mc_segmap_parloop_struct_129857.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129857.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129857.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_129857.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_129857.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_129857.free_x_114182 = x_114182;
    futhark_mc_segmap_parloop_struct_129857.free_min_res_114365 =
        min_res_114365;
    futhark_mc_segmap_parloop_struct_129857.free_loop_cond_114370 =
        loop_cond_114370;
    futhark_mc_segmap_parloop_struct_129857.free_gtid_116515 = gtid_116515;
    futhark_mc_segmap_parloop_struct_129857.free_min_arg_116525 =
        min_arg_116525;
    futhark_mc_segmap_parloop_struct_129857.free_min_arg_116526 =
        min_arg_116526;
    futhark_mc_segmap_parloop_struct_129857.free_min_res_116527 =
        min_res_116527;
    futhark_mc_segmap_parloop_struct_129857.free_max_res_116531 =
        max_res_116531;
    futhark_mc_segmap_parloop_struct_129857.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_129857.free_mem_121178 = mem_121178.mem;
    futhark_mc_segmap_parloop_struct_129857.free_mem_121181 = mem_121181.mem;
    futhark_mc_segmap_parloop_struct_129857.free_mem_121184 = mem_121184.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129858_task;
    
    futhark_mc_segmap_parloop_129858_task.name =
        "futhark_mc_segmap_parloop_129858";
    futhark_mc_segmap_parloop_129858_task.fn = futhark_mc_segmap_parloop_129858;
    futhark_mc_segmap_parloop_129858_task.args =
        &futhark_mc_segmap_parloop_struct_129857;
    futhark_mc_segmap_parloop_129858_task.iterations = iterations;
    futhark_mc_segmap_parloop_129858_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129858_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129858_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129858_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129858_task);
    
    if (futhark_mc_segmap_parloop_129858_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129858_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129858_total_end -
                 futhark_mc_segmap_parloop_129858_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129858_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129858_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129858_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129856_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129856_end -
                 futhark_mc_segmap_task_129856_start;
        
        ctx->futhark_mc_segmap_task_129856_runs[tid]++;
        ctx->futhark_mc_segmap_task_129856_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129856_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129847(void *args, int64_t start,
                                            int64_t end, int flat_tid_116514,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129846
    *futhark_mc_segmap_parloop_struct_129846 =
    (struct futhark_mc_segmap_parloop_struct_129846 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129846->ctx;
    uint64_t futhark_mc_segmap_parloop_129847_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129847_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129846->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129846->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_129846->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_129846->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_129846->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_129846->free_i_114181;
    bool x_114182 = futhark_mc_segmap_parloop_struct_129846->free_x_114182;
    int64_t min_res_114365 =
            futhark_mc_segmap_parloop_struct_129846->free_min_res_114365;
    bool loop_cond_114370 =
         futhark_mc_segmap_parloop_struct_129846->free_loop_cond_114370;
    float i64_res_114371 =
          futhark_mc_segmap_parloop_struct_129846->free_i64_res_114371;
    int64_t bytes_121005 =
            futhark_mc_segmap_parloop_struct_129846->free_bytes_121005;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_129846->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_129846->free_mem_121047,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_129846->free_bytes_121179;
    int64_t bytes_121182 =
            futhark_mc_segmap_parloop_struct_129846->free_bytes_121182;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_129846->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_129846->free_mem_121237,
                                  .size =0, .references =NULL};
    size_t mem_121178_cached_sizze_129848 = 0;
    char *mem_121178 = NULL;
    size_t mem_121181_cached_sizze_129849 = 0;
    char *mem_121181 = NULL;
    size_t mem_121184_cached_sizze_129850 = 0;
    char *mem_121184 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123471 = start;
    
    if (mem_121178_cached_sizze_129848 < (size_t) bytes_121005) {
        mem_121178 = realloc(mem_121178, bytes_121005);
        mem_121178_cached_sizze_129848 = bytes_121005;
    }
    if (mem_121181_cached_sizze_129849 < (size_t) bytes_121179) {
        mem_121181 = realloc(mem_121181, bytes_121179);
        mem_121181_cached_sizze_129849 = bytes_121179;
    }
    if (mem_121184_cached_sizze_129850 < (size_t) bytes_121182) {
        mem_121184 = realloc(mem_121184, bytes_121182);
        mem_121184_cached_sizze_129850 = bytes_121182;
    }
    for (; iter_123471 < end; iter_123471++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123560 = m_114104;
        int64_t gtid_116515 = iter_123471;
        int64_t remnant_123561 = iter_123471 - gtid_116515;
        int64_t x_116521 = ((int64_t *) mem_121047.mem)[gtid_116515];
        int64_t flat_tid_116516 = (int64_t) 0;
        int32_t num_tasks_123562;
        struct futhark_mc_task_129851 futhark_mc_task_129851;
        
        futhark_mc_task_129851.ctx = ctx;
        futhark_mc_task_129851.free_n_114105 = n_114105;
        futhark_mc_task_129851.free_gtid_116515 = gtid_116515;
        futhark_mc_task_129851.free_mem_121044 = mem_121044.mem;
        futhark_mc_task_129851.free_mem_121178 = mem_121178;
        
        struct scheduler_segop futhark_mc_task_129851_task;
        
        futhark_mc_task_129851_task.args = &futhark_mc_task_129851;
        futhark_mc_task_129851_task.top_level_fn =
            futhark_mc_segmap_task_129852;
        futhark_mc_task_129851_task.name = "futhark_mc_segmap_task_129852";
        futhark_mc_task_129851_task.iterations = n_114105;
        futhark_mc_task_129851_task.task_time =
            &ctx->futhark_mc_segmap_task_129852_total_time;
        futhark_mc_task_129851_task.task_iter =
            &ctx->futhark_mc_segmap_task_129852_total_iter;
        futhark_mc_task_129851_task.sched = STATIC;
        futhark_mc_task_129851_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_129852_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129851_task);
        
        if (futhark_mc_segmap_task_129852_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t min_arg_116525 = sub64(x_116521, (int64_t) 1);
        int64_t min_arg_116526 = sub64(x_116521, min_res_114365);
        int64_t min_res_116527 = smin64(t_window_114108, x_116521);
        float i64_res_116528 = sitofp_i64_f32(x_116521);
        float x_116529 = i64_res_114371 - i64_res_116528;
        float max_arg_116530 = x_116529 / 2.0F;
        float max_res_116531 = fmax32(0.0F, max_arg_116530);
        int64_t flat_tid_116518 = (int64_t) 0;
        int32_t num_tasks_123566;
        struct futhark_mc_task_129855 futhark_mc_task_129855;
        
        futhark_mc_task_129855.ctx = ctx;
        futhark_mc_task_129855.free_n_114105 = n_114105;
        futhark_mc_task_129855.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_129855.free_t_n_m_114162 = t_n_m_114162;
        futhark_mc_task_129855.free_i_114181 = i_114181;
        futhark_mc_task_129855.free_x_114182 = x_114182;
        futhark_mc_task_129855.free_min_res_114365 = min_res_114365;
        futhark_mc_task_129855.free_loop_cond_114370 = loop_cond_114370;
        futhark_mc_task_129855.free_gtid_116515 = gtid_116515;
        futhark_mc_task_129855.free_min_arg_116525 = min_arg_116525;
        futhark_mc_task_129855.free_min_arg_116526 = min_arg_116526;
        futhark_mc_task_129855.free_min_res_116527 = min_res_116527;
        futhark_mc_task_129855.free_max_res_116531 = max_res_116531;
        futhark_mc_task_129855.free_mem_121044 = mem_121044.mem;
        futhark_mc_task_129855.free_mem_121178 = mem_121178;
        futhark_mc_task_129855.free_mem_121181 = mem_121181;
        futhark_mc_task_129855.free_mem_121184 = mem_121184;
        
        struct scheduler_segop futhark_mc_task_129855_task;
        
        futhark_mc_task_129855_task.args = &futhark_mc_task_129855;
        futhark_mc_task_129855_task.top_level_fn =
            futhark_mc_segmap_task_129856;
        futhark_mc_task_129855_task.name = "futhark_mc_segmap_task_129856";
        futhark_mc_task_129855_task.iterations = t_n_m_114162;
        futhark_mc_task_129855_task.task_time =
            &ctx->futhark_mc_segmap_task_129856_total_time;
        futhark_mc_task_129855_task.task_iter =
            &ctx->futhark_mc_segmap_task_129856_total_iter;
        futhark_mc_task_129855_task.sched = DYNAMIC;
        futhark_mc_task_129855_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_129856_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129855_task);
        
        if (futhark_mc_segmap_task_129856_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121233.mem + gtid_116515 * t_n_m_114162 * (int64_t) 8,
                mem_121184 + (int64_t) 0, t_n_m_114162 * (int64_t) 8);
        memmove(mem_121237.mem + gtid_116515 * t_n_m_114162 * (int64_t) 4,
                mem_121181 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121178);
    free(mem_121181);
    free(mem_121184);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129847_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129847_end -
                 futhark_mc_segmap_parloop_129847_start;
        
        ctx->futhark_mc_segmap_parloop_129847_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129847_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129847_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129845(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116514 = tid;
    int num_tasks_123361 = info.nsubtasks;
    struct futhark_mc_task_129838 *futhark_mc_task_129838 =
                                  (struct futhark_mc_task_129838 *) args;
    struct futhark_context *ctx = futhark_mc_task_129838->ctx;
    uint64_t futhark_mc_segmap_nested_task_129845_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129845_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129838->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129838->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_129838->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_129838->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_129838->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_129838->free_i_114181;
    bool x_114182 = futhark_mc_task_129838->free_x_114182;
    int64_t min_res_114365 = futhark_mc_task_129838->free_min_res_114365;
    bool loop_cond_114370 = futhark_mc_task_129838->free_loop_cond_114370;
    float i64_res_114371 = futhark_mc_task_129838->free_i64_res_114371;
    int64_t bytes_121005 = futhark_mc_task_129838->free_bytes_121005;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_129838->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_129838->free_mem_121047,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_129838->free_bytes_121179;
    int64_t bytes_121182 = futhark_mc_task_129838->free_bytes_121182;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_129838->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_129838->free_mem_121237,
                                  .size =0, .references =NULL};
    int64_t iter_123471;
    struct futhark_mc_segmap_parloop_struct_129846
    futhark_mc_segmap_parloop_struct_129846;
    
    futhark_mc_segmap_parloop_struct_129846.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129846.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129846.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129846.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_129846.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_129846.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_129846.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_129846.free_x_114182 = x_114182;
    futhark_mc_segmap_parloop_struct_129846.free_min_res_114365 =
        min_res_114365;
    futhark_mc_segmap_parloop_struct_129846.free_loop_cond_114370 =
        loop_cond_114370;
    futhark_mc_segmap_parloop_struct_129846.free_i64_res_114371 =
        i64_res_114371;
    futhark_mc_segmap_parloop_struct_129846.free_bytes_121005 = bytes_121005;
    futhark_mc_segmap_parloop_struct_129846.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_129846.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_129846.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_129846.free_bytes_121182 = bytes_121182;
    futhark_mc_segmap_parloop_struct_129846.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_129846.free_mem_121237 = mem_121237.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129847_task;
    
    futhark_mc_segmap_parloop_129847_task.name =
        "futhark_mc_segmap_parloop_129847";
    futhark_mc_segmap_parloop_129847_task.fn = futhark_mc_segmap_parloop_129847;
    futhark_mc_segmap_parloop_129847_task.args =
        &futhark_mc_segmap_parloop_struct_129846;
    futhark_mc_segmap_parloop_129847_task.iterations = iterations;
    futhark_mc_segmap_parloop_129847_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129847_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129847_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129847_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129847_task);
    
    if (futhark_mc_segmap_parloop_129847_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129847_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129847_total_end -
                 futhark_mc_segmap_parloop_129847_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129847_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129847_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129847_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129845_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129845_end -
                 futhark_mc_segmap_nested_task_129845_start;
        
        ctx->futhark_mc_segmap_nested_task_129845_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129845_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129845_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129859 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_Y_mem_121004;
    int64_t free_bytes_121048;
    int64_t free_ctx_param_ext_121287;
    char *free_mem_param_121291;
    char *free_mem_121313;
};
struct futhark_mc_segmap_parloop_struct_129861 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_Y_mem_121004;
    int64_t free_bytes_121048;
    int64_t free_ctx_param_ext_121287;
    char *free_mem_param_121291;
    char *free_mem_121313;
};
static int futhark_mc_segmap_parloop_129862(void *args, int64_t start,
                                            int64_t end, int flat_tid_116621,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129861
    *futhark_mc_segmap_parloop_struct_129861 =
    (struct futhark_mc_segmap_parloop_struct_129861 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129861->ctx;
    uint64_t futhark_mc_segmap_parloop_129862_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129862_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129861->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129861->free_n_114105;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_129861->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_129861->free_bytes_121048;
    int64_t ctx_param_ext_121287 =
            futhark_mc_segmap_parloop_struct_129861->free_ctx_param_ext_121287;
    struct memblock mem_param_121291 = {.desc ="mem_param_121291", .mem =
                                        futhark_mc_segmap_parloop_struct_129861->free_mem_param_121291,
                                        .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_segmap_parloop_struct_129861->free_mem_121313,
                                  .size =0, .references =NULL};
    size_t mem_121297_cached_sizze_129863 = 0;
    char *mem_121297 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123658 = start;
    
    if (mem_121297_cached_sizze_129863 < (size_t) bytes_121048) {
        mem_121297 = realloc(mem_121297, bytes_121048);
        mem_121297_cached_sizze_129863 = bytes_121048;
    }
    for (; iter_123658 < end; iter_123658++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123665 = m_114104;
        int64_t gtid_116622 = iter_123658;
        int64_t remnant_123666 = iter_123658 - gtid_116622;
        
        for (int64_t i_123659 = 0; i_123659 < n_114105; i_123659++) {
            float x_123661 = ((float *) Y_mem_121004.mem)[gtid_116622 *
                                                          n_114105 + i_123659];
            float x_123662 = ((float *) mem_param_121291.mem)[gtid_116622 *
                                                              ctx_param_ext_121287 +
                                                              i_123659];
            float defunc_1_f_res_123663 = x_123661 - x_123662;
            
            ((float *) mem_121297)[i_123659] = defunc_1_f_res_123663;
        }
        memmove(mem_121313.mem + gtid_116622 * n_114105 * (int64_t) 4,
                mem_121297 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121297);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129862_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129862_end -
                 futhark_mc_segmap_parloop_129862_start;
        
        ctx->futhark_mc_segmap_parloop_129862_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129862_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129862_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129860(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116621 = tid;
    int num_tasks_123657 = info.nsubtasks;
    struct futhark_mc_task_129859 *futhark_mc_task_129859 =
                                  (struct futhark_mc_task_129859 *) args;
    struct futhark_context *ctx = futhark_mc_task_129859->ctx;
    uint64_t futhark_mc_segmap_task_129860_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129860_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129859->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129859->free_n_114105;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_129859->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121048 = futhark_mc_task_129859->free_bytes_121048;
    int64_t ctx_param_ext_121287 =
            futhark_mc_task_129859->free_ctx_param_ext_121287;
    struct memblock mem_param_121291 = {.desc ="mem_param_121291", .mem =
                                        futhark_mc_task_129859->free_mem_param_121291,
                                        .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_task_129859->free_mem_121313,
                                  .size =0, .references =NULL};
    int64_t iter_123658;
    struct futhark_mc_segmap_parloop_struct_129861
    futhark_mc_segmap_parloop_struct_129861;
    
    futhark_mc_segmap_parloop_struct_129861.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129861.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129861.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129861.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_129861.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_129861.free_ctx_param_ext_121287 =
        ctx_param_ext_121287;
    futhark_mc_segmap_parloop_struct_129861.free_mem_param_121291 =
        mem_param_121291.mem;
    futhark_mc_segmap_parloop_struct_129861.free_mem_121313 = mem_121313.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129862_task;
    
    futhark_mc_segmap_parloop_129862_task.name =
        "futhark_mc_segmap_parloop_129862";
    futhark_mc_segmap_parloop_129862_task.fn = futhark_mc_segmap_parloop_129862;
    futhark_mc_segmap_parloop_129862_task.args =
        &futhark_mc_segmap_parloop_struct_129861;
    futhark_mc_segmap_parloop_129862_task.iterations = iterations;
    futhark_mc_segmap_parloop_129862_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129862_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129862_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129862_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129862_task);
    
    if (futhark_mc_segmap_parloop_129862_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129862_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129862_total_end -
                 futhark_mc_segmap_parloop_129862_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129862_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129862_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129862_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129860_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129860_end -
                 futhark_mc_segmap_task_129860_start;
        
        ctx->futhark_mc_segmap_task_129860_runs[tid]++;
        ctx->futhark_mc_segmap_task_129860_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129860_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129865 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_Y_mem_121004;
    int64_t free_bytes_121048;
    int64_t free_ctx_param_ext_121287;
    char *free_mem_param_121291;
    char *free_mem_121313;
};
struct futhark_mc_task_129868 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116624;
    char *free_Y_mem_121004;
    int64_t free_ctx_param_ext_121287;
    char *free_mem_param_121291;
    char *free_mem_121294;
};
struct futhark_mc_segmap_parloop_struct_129870 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116624;
    char *free_Y_mem_121004;
    int64_t free_ctx_param_ext_121287;
    char *free_mem_param_121291;
    char *free_mem_121294;
};
static int futhark_mc_segmap_parloop_129871(void *args, int64_t start,
                                            int64_t end, int flat_tid_116625,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129870
    *futhark_mc_segmap_parloop_struct_129870 =
    (struct futhark_mc_segmap_parloop_struct_129870 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129870->ctx;
    uint64_t futhark_mc_segmap_parloop_129871_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129871_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129870->free_n_114105;
    int64_t gtid_116624 =
            futhark_mc_segmap_parloop_struct_129870->free_gtid_116624;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_129870->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t ctx_param_ext_121287 =
            futhark_mc_segmap_parloop_struct_129870->free_ctx_param_ext_121287;
    struct memblock mem_param_121291 = {.desc ="mem_param_121291", .mem =
                                        futhark_mc_segmap_parloop_struct_129870->free_mem_param_121291,
                                        .size =0, .references =NULL};
    struct memblock mem_121294 = {.desc ="mem_121294", .mem =
                                  futhark_mc_segmap_parloop_struct_129870->free_mem_121294,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123675 = start;
    
    for (; iter_123675 < end; iter_123675++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123676 = n_114105;
        int64_t gtid_116626 = iter_123675;
        int64_t remnant_123677 = iter_123675 - gtid_116626;
        float x_123669 = ((float *) Y_mem_121004.mem)[gtid_116624 * n_114105 +
                                                      gtid_116626];
        float x_123670 = ((float *) mem_param_121291.mem)[gtid_116624 *
                                                          ctx_param_ext_121287 +
                                                          gtid_116626];
        float defunc_1_f_res_123671 = x_123669 - x_123670;
        
        ((float *) mem_121294.mem)[gtid_116626] = defunc_1_f_res_123671;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129871_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129871_end -
                 futhark_mc_segmap_parloop_129871_start;
        
        ctx->futhark_mc_segmap_parloop_129871_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129871_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129871_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129869(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116625 = tid;
    int num_tasks_123674 = info.nsubtasks;
    struct futhark_mc_task_129868 *futhark_mc_task_129868 =
                                  (struct futhark_mc_task_129868 *) args;
    struct futhark_context *ctx = futhark_mc_task_129868->ctx;
    uint64_t futhark_mc_segmap_task_129869_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129869_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129868->free_n_114105;
    int64_t gtid_116624 = futhark_mc_task_129868->free_gtid_116624;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_129868->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t ctx_param_ext_121287 =
            futhark_mc_task_129868->free_ctx_param_ext_121287;
    struct memblock mem_param_121291 = {.desc ="mem_param_121291", .mem =
                                        futhark_mc_task_129868->free_mem_param_121291,
                                        .size =0, .references =NULL};
    struct memblock mem_121294 = {.desc ="mem_121294", .mem =
                                  futhark_mc_task_129868->free_mem_121294,
                                  .size =0, .references =NULL};
    int64_t iter_123675;
    struct futhark_mc_segmap_parloop_struct_129870
    futhark_mc_segmap_parloop_struct_129870;
    
    futhark_mc_segmap_parloop_struct_129870.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129870.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129870.free_gtid_116624 = gtid_116624;
    futhark_mc_segmap_parloop_struct_129870.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_129870.free_ctx_param_ext_121287 =
        ctx_param_ext_121287;
    futhark_mc_segmap_parloop_struct_129870.free_mem_param_121291 =
        mem_param_121291.mem;
    futhark_mc_segmap_parloop_struct_129870.free_mem_121294 = mem_121294.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129871_task;
    
    futhark_mc_segmap_parloop_129871_task.name =
        "futhark_mc_segmap_parloop_129871";
    futhark_mc_segmap_parloop_129871_task.fn = futhark_mc_segmap_parloop_129871;
    futhark_mc_segmap_parloop_129871_task.args =
        &futhark_mc_segmap_parloop_struct_129870;
    futhark_mc_segmap_parloop_129871_task.iterations = iterations;
    futhark_mc_segmap_parloop_129871_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129871_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129871_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129871_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129871_task);
    
    if (futhark_mc_segmap_parloop_129871_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129871_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129871_total_end -
                 futhark_mc_segmap_parloop_129871_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129871_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129871_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129871_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129869_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129869_end -
                 futhark_mc_segmap_task_129869_start;
        
        ctx->futhark_mc_segmap_task_129869_runs[tid]++;
        ctx->futhark_mc_segmap_task_129869_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129869_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129866(void *args, int64_t start,
                                            int64_t end, int flat_tid_116623,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129865
    *futhark_mc_segmap_parloop_struct_129865 =
    (struct futhark_mc_segmap_parloop_struct_129865 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129865->ctx;
    uint64_t futhark_mc_segmap_parloop_129866_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129866_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129865->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129865->free_n_114105;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_129865->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_129865->free_bytes_121048;
    int64_t ctx_param_ext_121287 =
            futhark_mc_segmap_parloop_struct_129865->free_ctx_param_ext_121287;
    struct memblock mem_param_121291 = {.desc ="mem_param_121291", .mem =
                                        futhark_mc_segmap_parloop_struct_129865->free_mem_param_121291,
                                        .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_segmap_parloop_struct_129865->free_mem_121313,
                                  .size =0, .references =NULL};
    size_t mem_121294_cached_sizze_129867 = 0;
    char *mem_121294 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123668 = start;
    
    if (mem_121294_cached_sizze_129867 < (size_t) bytes_121048) {
        mem_121294 = realloc(mem_121294, bytes_121048);
        mem_121294_cached_sizze_129867 = bytes_121048;
    }
    for (; iter_123668 < end; iter_123668++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123672 = m_114104;
        int64_t gtid_116624 = iter_123668;
        int64_t remnant_123673 = iter_123668 - gtid_116624;
        int64_t flat_tid_116625 = (int64_t) 0;
        int32_t num_tasks_123674;
        struct futhark_mc_task_129868 futhark_mc_task_129868;
        
        futhark_mc_task_129868.ctx = ctx;
        futhark_mc_task_129868.free_n_114105 = n_114105;
        futhark_mc_task_129868.free_gtid_116624 = gtid_116624;
        futhark_mc_task_129868.free_Y_mem_121004 = Y_mem_121004.mem;
        futhark_mc_task_129868.free_ctx_param_ext_121287 = ctx_param_ext_121287;
        futhark_mc_task_129868.free_mem_param_121291 = mem_param_121291.mem;
        futhark_mc_task_129868.free_mem_121294 = mem_121294;
        
        struct scheduler_segop futhark_mc_task_129868_task;
        
        futhark_mc_task_129868_task.args = &futhark_mc_task_129868;
        futhark_mc_task_129868_task.top_level_fn =
            futhark_mc_segmap_task_129869;
        futhark_mc_task_129868_task.name = "futhark_mc_segmap_task_129869";
        futhark_mc_task_129868_task.iterations = n_114105;
        futhark_mc_task_129868_task.task_time =
            &ctx->futhark_mc_segmap_task_129869_total_time;
        futhark_mc_task_129868_task.task_iter =
            &ctx->futhark_mc_segmap_task_129869_total_iter;
        futhark_mc_task_129868_task.sched = STATIC;
        futhark_mc_task_129868_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_129869_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129868_task);
        
        if (futhark_mc_segmap_task_129869_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121313.mem + gtid_116624 * n_114105 * (int64_t) 4,
                mem_121294 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121294);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129866_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129866_end -
                 futhark_mc_segmap_parloop_129866_start;
        
        ctx->futhark_mc_segmap_parloop_129866_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129866_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129866_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129864(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116623 = tid;
    int num_tasks_123657 = info.nsubtasks;
    struct futhark_mc_task_129859 *futhark_mc_task_129859 =
                                  (struct futhark_mc_task_129859 *) args;
    struct futhark_context *ctx = futhark_mc_task_129859->ctx;
    uint64_t futhark_mc_segmap_nested_task_129864_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129864_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129859->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129859->free_n_114105;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_129859->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121048 = futhark_mc_task_129859->free_bytes_121048;
    int64_t ctx_param_ext_121287 =
            futhark_mc_task_129859->free_ctx_param_ext_121287;
    struct memblock mem_param_121291 = {.desc ="mem_param_121291", .mem =
                                        futhark_mc_task_129859->free_mem_param_121291,
                                        .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_task_129859->free_mem_121313,
                                  .size =0, .references =NULL};
    int64_t iter_123668;
    struct futhark_mc_segmap_parloop_struct_129865
    futhark_mc_segmap_parloop_struct_129865;
    
    futhark_mc_segmap_parloop_struct_129865.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129865.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129865.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129865.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_129865.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_129865.free_ctx_param_ext_121287 =
        ctx_param_ext_121287;
    futhark_mc_segmap_parloop_struct_129865.free_mem_param_121291 =
        mem_param_121291.mem;
    futhark_mc_segmap_parloop_struct_129865.free_mem_121313 = mem_121313.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129866_task;
    
    futhark_mc_segmap_parloop_129866_task.name =
        "futhark_mc_segmap_parloop_129866";
    futhark_mc_segmap_parloop_129866_task.fn = futhark_mc_segmap_parloop_129866;
    futhark_mc_segmap_parloop_129866_task.args =
        &futhark_mc_segmap_parloop_struct_129865;
    futhark_mc_segmap_parloop_129866_task.iterations = iterations;
    futhark_mc_segmap_parloop_129866_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129866_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129866_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129866_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129866_task);
    
    if (futhark_mc_segmap_parloop_129866_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129866_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129866_total_end -
                 futhark_mc_segmap_parloop_129866_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129866_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129866_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129866_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129864_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129864_end -
                 futhark_mc_segmap_nested_task_129864_start;
        
        ctx->futhark_mc_segmap_nested_task_129864_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129864_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129864_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129872 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    char *free_mem_121091;
    int64_t free_bytes_121092;
    char *free_mem_121113;
    char *free_mem_121313;
    char *free_mem_121335;
};
struct futhark_mc_segmap_parloop_struct_129874 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    char *free_mem_121091;
    int64_t free_bytes_121092;
    char *free_mem_121113;
    char *free_mem_121313;
    char *free_mem_121335;
};
static int futhark_mc_segmap_parloop_129875(void *args, int64_t start,
                                            int64_t end, int flat_tid_116633,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129874
    *futhark_mc_segmap_parloop_struct_129874 =
    (struct futhark_mc_segmap_parloop_struct_129874 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129874->ctx;
    uint64_t futhark_mc_segmap_parloop_129875_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129875_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129874->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129874->free_n_114105;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129874->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_segmap_parloop_struct_129874->free_css_chunk_len_114151;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_segmap_parloop_struct_129874->free_mem_121091,
                                  .size =0, .references =NULL};
    int64_t bytes_121092 =
            futhark_mc_segmap_parloop_struct_129874->free_bytes_121092;
    struct memblock mem_121113 = {.desc ="mem_121113", .mem =
                                  futhark_mc_segmap_parloop_struct_129874->free_mem_121113,
                                  .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_segmap_parloop_struct_129874->free_mem_121313,
                                  .size =0, .references =NULL};
    struct memblock mem_121335 = {.desc ="mem_121335", .mem =
                                  futhark_mc_segmap_parloop_struct_129874->free_mem_121335,
                                  .size =0, .references =NULL};
    size_t mem_121319_cached_sizze_129876 = 0;
    char *mem_121319 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123679 = start;
    
    if (mem_121319_cached_sizze_129876 < (size_t) bytes_121092) {
        mem_121319 = realloc(mem_121319, bytes_121092);
        mem_121319_cached_sizze_129876 = bytes_121092;
    }
    for (; iter_123679 < end; iter_123679++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123698 = m_114104;
        int64_t gtid_116634 = iter_123679;
        int64_t remnant_123699 = iter_123679 - gtid_116634;
        
        for (int64_t i_123680 = 0; i_123680 < n_p_114107; i_123680++) {
            float x_123682 = ((float *) mem_121113.mem)[gtid_116634 *
                                                        n_p_114107 + i_123680];
            float defunc_2_reduce_res_123683;
            float redout_123685 = 0.0F;
            
            for (int64_t i_123684 = 0; i_123684 < css_chunk_len_114151;
                 i_123684++) {
                int64_t x_123686 = ((int64_t *) mem_121091.mem)[i_123680 *
                                                                css_chunk_len_114151 +
                                                                i_123684];
                bool cond_123687 = sle64((int64_t) 0, x_123686);
                float defunc_0_f_res_123688;
                
                if (cond_123687) {
                    bool y_123689 = slt64(x_123686, n_114105);
                    bool bounds_check_123690 = cond_123687 && y_123689;
                    bool index_certs_123691;
                    
                    if (!bounds_check_123690) {
                        ctx->error =
                            msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                      "Index [", (long long) x_123686,
                                      "] out of bounds for array of shape [",
                                      (long long) n_114105, "].",
                                      "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:186:40-75\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:184:21-189:44\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:182:13-190:43\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                        return 1;
                    }
                    
                    float defunc_0_f_res_t_res_123692 =
                          ((float *) mem_121313.mem)[gtid_116634 * n_114105 +
                                                     x_123686];
                    
                    defunc_0_f_res_123688 = defunc_0_f_res_t_res_123692;
                } else {
                    defunc_0_f_res_123688 = NAN;
                }
                
                bool isnan_res_123693;
                
                isnan_res_123693 = futrts_isnan32(defunc_0_f_res_123688);
                
                float defunc_0_f_res_123694;
                
                if (isnan_res_123693) {
                    defunc_0_f_res_123694 = 0.0F;
                } else {
                    defunc_0_f_res_123694 = defunc_0_f_res_123688;
                }
                
                float defunc_1_op_res_123695 = defunc_0_f_res_123694 +
                      redout_123685;
                float redout_tmp_123701 = defunc_1_op_res_123695;
                
                redout_123685 = redout_tmp_123701;
            }
            defunc_2_reduce_res_123683 = redout_123685;
            
            float defunc_1_f_res_123696 = defunc_2_reduce_res_123683 / x_123682;
            
            ((float *) mem_121319)[i_123680] = defunc_1_f_res_123696;
        }
        memmove(mem_121335.mem + gtid_116634 * n_p_114107 * (int64_t) 4,
                mem_121319 + (int64_t) 0, n_p_114107 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121319);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129875_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129875_end -
                 futhark_mc_segmap_parloop_129875_start;
        
        ctx->futhark_mc_segmap_parloop_129875_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129875_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129875_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129873(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116633 = tid;
    int num_tasks_123678 = info.nsubtasks;
    struct futhark_mc_task_129872 *futhark_mc_task_129872 =
                                  (struct futhark_mc_task_129872 *) args;
    struct futhark_context *ctx = futhark_mc_task_129872->ctx;
    uint64_t futhark_mc_segmap_task_129873_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129873_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129872->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129872->free_n_114105;
    int64_t n_p_114107 = futhark_mc_task_129872->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_task_129872->free_css_chunk_len_114151;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_task_129872->free_mem_121091,
                                  .size =0, .references =NULL};
    int64_t bytes_121092 = futhark_mc_task_129872->free_bytes_121092;
    struct memblock mem_121113 = {.desc ="mem_121113", .mem =
                                  futhark_mc_task_129872->free_mem_121113,
                                  .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_task_129872->free_mem_121313,
                                  .size =0, .references =NULL};
    struct memblock mem_121335 = {.desc ="mem_121335", .mem =
                                  futhark_mc_task_129872->free_mem_121335,
                                  .size =0, .references =NULL};
    int64_t iter_123679;
    struct futhark_mc_segmap_parloop_struct_129874
    futhark_mc_segmap_parloop_struct_129874;
    
    futhark_mc_segmap_parloop_struct_129874.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129874.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129874.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129874.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129874.free_css_chunk_len_114151 =
        css_chunk_len_114151;
    futhark_mc_segmap_parloop_struct_129874.free_mem_121091 = mem_121091.mem;
    futhark_mc_segmap_parloop_struct_129874.free_bytes_121092 = bytes_121092;
    futhark_mc_segmap_parloop_struct_129874.free_mem_121113 = mem_121113.mem;
    futhark_mc_segmap_parloop_struct_129874.free_mem_121313 = mem_121313.mem;
    futhark_mc_segmap_parloop_struct_129874.free_mem_121335 = mem_121335.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129875_task;
    
    futhark_mc_segmap_parloop_129875_task.name =
        "futhark_mc_segmap_parloop_129875";
    futhark_mc_segmap_parloop_129875_task.fn = futhark_mc_segmap_parloop_129875;
    futhark_mc_segmap_parloop_129875_task.args =
        &futhark_mc_segmap_parloop_struct_129874;
    futhark_mc_segmap_parloop_129875_task.iterations = iterations;
    futhark_mc_segmap_parloop_129875_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129875_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129875_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129875_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129875_task);
    
    if (futhark_mc_segmap_parloop_129875_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129875_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129875_total_end -
                 futhark_mc_segmap_parloop_129875_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129875_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129875_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129875_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129873_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129873_end -
                 futhark_mc_segmap_task_129873_start;
        
        ctx->futhark_mc_segmap_task_129873_runs[tid]++;
        ctx->futhark_mc_segmap_task_129873_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129873_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129878 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    char *free_mem_121091;
    int64_t free_bytes_121092;
    char *free_mem_121113;
    char *free_mem_121313;
    char *free_mem_121335;
};
struct futhark_mc_task_129881 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    int64_t free_gtid_116636;
    char *free_mem_121091;
    char *free_mem_121113;
    char *free_mem_121313;
    char *free_mem_121316;
};
struct futhark_mc_segmap_parloop_struct_129883 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    int64_t free_gtid_116636;
    char *free_mem_121091;
    char *free_mem_121113;
    char *free_mem_121313;
    char *free_mem_121316;
};
static int futhark_mc_segmap_parloop_129884(void *args, int64_t start,
                                            int64_t end, int flat_tid_116637,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129883
    *futhark_mc_segmap_parloop_struct_129883 =
    (struct futhark_mc_segmap_parloop_struct_129883 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129883->ctx;
    uint64_t futhark_mc_segmap_parloop_129884_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129884_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129883->free_n_114105;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129883->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_segmap_parloop_struct_129883->free_css_chunk_len_114151;
    int64_t gtid_116636 =
            futhark_mc_segmap_parloop_struct_129883->free_gtid_116636;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_segmap_parloop_struct_129883->free_mem_121091,
                                  .size =0, .references =NULL};
    struct memblock mem_121113 = {.desc ="mem_121113", .mem =
                                  futhark_mc_segmap_parloop_struct_129883->free_mem_121113,
                                  .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_segmap_parloop_struct_129883->free_mem_121313,
                                  .size =0, .references =NULL};
    struct memblock mem_121316 = {.desc ="mem_121316", .mem =
                                  futhark_mc_segmap_parloop_struct_129883->free_mem_121316,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123736 = start;
    
    for (; iter_123736 < end; iter_123736++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123749 = n_p_114107;
        int64_t gtid_116638 = iter_123736;
        int64_t remnant_123750 = iter_123736 - gtid_116638;
        float x_123718 = ((float *) mem_121113.mem)[gtid_116636 * n_p_114107 +
                                                    gtid_116638];
        float defunc_2_reduce_res_123719;
        float redout_123738 = 0.0F;
        
        for (int64_t i_123737 = 0; i_123737 < css_chunk_len_114151;
             i_123737++) {
            int64_t x_123739 = ((int64_t *) mem_121091.mem)[gtid_116638 *
                                                            css_chunk_len_114151 +
                                                            i_123737];
            bool cond_123740 = sle64((int64_t) 0, x_123739);
            float defunc_0_f_res_123741;
            
            if (cond_123740) {
                bool y_123742 = slt64(x_123739, n_114105);
                bool bounds_check_123743 = cond_123740 && y_123742;
                bool index_certs_123744;
                
                if (!bounds_check_123743) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) x_123739,
                                  "] out of bounds for array of shape [",
                                  (long long) n_114105, "].",
                                  "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:186:40-75\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:184:21-189:44\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:182:13-190:43\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float defunc_0_f_res_t_res_123745 =
                      ((float *) mem_121313.mem)[gtid_116636 * n_114105 +
                                                 x_123739];
                
                defunc_0_f_res_123741 = defunc_0_f_res_t_res_123745;
            } else {
                defunc_0_f_res_123741 = NAN;
            }
            
            bool isnan_res_123746;
            
            isnan_res_123746 = futrts_isnan32(defunc_0_f_res_123741);
            
            float defunc_0_f_res_123747;
            
            if (isnan_res_123746) {
                defunc_0_f_res_123747 = 0.0F;
            } else {
                defunc_0_f_res_123747 = defunc_0_f_res_123741;
            }
            
            float defunc_1_op_res_123748 = defunc_0_f_res_123747 +
                  redout_123738;
            float redout_tmp_123751 = defunc_1_op_res_123748;
            
            redout_123738 = redout_tmp_123751;
        }
        defunc_2_reduce_res_123719 = redout_123738;
        
        float defunc_1_f_res_123732 = defunc_2_reduce_res_123719 / x_123718;
        
        ((float *) mem_121316.mem)[gtid_116638] = defunc_1_f_res_123732;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129884_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129884_end -
                 futhark_mc_segmap_parloop_129884_start;
        
        ctx->futhark_mc_segmap_parloop_129884_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129884_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129884_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129882(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116637 = tid;
    int num_tasks_123735 = info.nsubtasks;
    struct futhark_mc_task_129881 *futhark_mc_task_129881 =
                                  (struct futhark_mc_task_129881 *) args;
    struct futhark_context *ctx = futhark_mc_task_129881->ctx;
    uint64_t futhark_mc_segmap_task_129882_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129882_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129881->free_n_114105;
    int64_t n_p_114107 = futhark_mc_task_129881->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_task_129881->free_css_chunk_len_114151;
    int64_t gtid_116636 = futhark_mc_task_129881->free_gtid_116636;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_task_129881->free_mem_121091,
                                  .size =0, .references =NULL};
    struct memblock mem_121113 = {.desc ="mem_121113", .mem =
                                  futhark_mc_task_129881->free_mem_121113,
                                  .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_task_129881->free_mem_121313,
                                  .size =0, .references =NULL};
    struct memblock mem_121316 = {.desc ="mem_121316", .mem =
                                  futhark_mc_task_129881->free_mem_121316,
                                  .size =0, .references =NULL};
    int64_t iter_123736;
    struct futhark_mc_segmap_parloop_struct_129883
    futhark_mc_segmap_parloop_struct_129883;
    
    futhark_mc_segmap_parloop_struct_129883.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129883.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129883.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129883.free_css_chunk_len_114151 =
        css_chunk_len_114151;
    futhark_mc_segmap_parloop_struct_129883.free_gtid_116636 = gtid_116636;
    futhark_mc_segmap_parloop_struct_129883.free_mem_121091 = mem_121091.mem;
    futhark_mc_segmap_parloop_struct_129883.free_mem_121113 = mem_121113.mem;
    futhark_mc_segmap_parloop_struct_129883.free_mem_121313 = mem_121313.mem;
    futhark_mc_segmap_parloop_struct_129883.free_mem_121316 = mem_121316.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129884_task;
    
    futhark_mc_segmap_parloop_129884_task.name =
        "futhark_mc_segmap_parloop_129884";
    futhark_mc_segmap_parloop_129884_task.fn = futhark_mc_segmap_parloop_129884;
    futhark_mc_segmap_parloop_129884_task.args =
        &futhark_mc_segmap_parloop_struct_129883;
    futhark_mc_segmap_parloop_129884_task.iterations = iterations;
    futhark_mc_segmap_parloop_129884_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129884_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129884_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129884_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129884_task);
    
    if (futhark_mc_segmap_parloop_129884_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129884_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129884_total_end -
                 futhark_mc_segmap_parloop_129884_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129884_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129884_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129884_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129882_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129882_end -
                 futhark_mc_segmap_task_129882_start;
        
        ctx->futhark_mc_segmap_task_129882_runs[tid]++;
        ctx->futhark_mc_segmap_task_129882_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129882_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129886 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_css_chunk_len_114151;
    int64_t free_gtid_116636;
    char *free_mem_121091;
    char *free_mem_121113;
    char *free_mem_121313;
    char *free_mem_121316;
};
struct futhark_mc_task_129888 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_css_chunk_len_114151;
    int64_t free_gtid_116636;
    int64_t free_gtid_116640;
    char *free_mem_121091;
    char *free_mem_121313;
    float *retval_defunc_2_reduce_res_123704;
};
struct futhark_mc_segred_stage_1_parloop_struct_129891 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_css_chunk_len_114151;
    int64_t free_gtid_116636;
    int64_t free_gtid_116640;
    char *free_mem_121091;
    char *free_mem_121313;
    char *free_reduce_stage_1_tid_res_arr_mem_123768;
};
static int futhark_mc_segred_stage_1_parloop_129892(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_116641,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_129891
    *futhark_mc_segred_stage_1_parloop_struct_129891 =
    (struct futhark_mc_segred_stage_1_parloop_struct_129891 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_129891->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_129892_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_129892_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_129891->free_n_114105;
    int64_t css_chunk_len_114151 =
            futhark_mc_segred_stage_1_parloop_struct_129891->free_css_chunk_len_114151;
    int64_t gtid_116636 =
            futhark_mc_segred_stage_1_parloop_struct_129891->free_gtid_116636;
    int64_t gtid_116640 =
            futhark_mc_segred_stage_1_parloop_struct_129891->free_gtid_116640;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_129891->free_mem_121091,
                                  .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_129891->free_mem_121313,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_123768 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_123768",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_129891->free_reduce_stage_1_tid_res_arr_mem_123768,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123770 = start;
    float x_123753;
    float x_123754;
    float local_acc_123771 = 0.0F;
    
    for (; iter_123770 < end; iter_123770++) {
        int64_t gtid_116642 = iter_123770;
        int64_t x_123756 = ((int64_t *) mem_121091.mem)[gtid_116640 *
                                                        css_chunk_len_114151 +
                                                        gtid_116642];
        bool cond_123757 = sle64((int64_t) 0, x_123756);
        float defunc_0_f_res_123758;
        
        if (cond_123757) {
            bool y_123759 = slt64(x_123756, n_114105);
            bool bounds_check_123760 = cond_123757 && y_123759;
            bool index_certs_123761;
            
            if (!bounds_check_123760) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) x_123756,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:186:40-75\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:184:21-189:44\n   #6  /prelude/soacs.fut:67:19-23\n   #7  /prelude/soacs.fut:67:3-37\n   #8  stl.fut:182:13-190:43\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                return 1;
            }
            
            float defunc_0_f_res_t_res_123762 =
                  ((float *) mem_121313.mem)[gtid_116636 * n_114105 + x_123756];
            
            defunc_0_f_res_123758 = defunc_0_f_res_t_res_123762;
        } else {
            defunc_0_f_res_123758 = NAN;
        }
        
        bool isnan_res_123763;
        
        isnan_res_123763 = futrts_isnan32(defunc_0_f_res_123758);
        
        float defunc_0_f_res_123764;
        
        if (isnan_res_123763) {
            defunc_0_f_res_123764 = 0.0F;
        } else {
            defunc_0_f_res_123764 = defunc_0_f_res_123758;
        }
        // save map-out results
        { }
        // Load accum params
        {
            x_123753 = local_acc_123771;
        }
        // Load next params
        {
            x_123754 = defunc_0_f_res_123764;
        }
        // Red body
        {
            float defunc_1_op_res_123755 = x_123753 + x_123754;
            
            local_acc_123771 = defunc_1_op_res_123755;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_123768.mem)[flat_tid_116641] =
        local_acc_123771;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_129892_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_129892_end -
                 futhark_mc_segred_stage_1_parloop_129892_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_129892_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_129892_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_129892_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_129889(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116641 = tid;
    int num_tasks_123767 = info.nsubtasks;
    struct futhark_mc_task_129888 *futhark_mc_task_129888 =
                                  (struct futhark_mc_task_129888 *) args;
    struct futhark_context *ctx = futhark_mc_task_129888->ctx;
    uint64_t futhark_mc_segred_task_129889_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_129889_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129888->free_n_114105;
    int64_t css_chunk_len_114151 =
            futhark_mc_task_129888->free_css_chunk_len_114151;
    int64_t gtid_116636 = futhark_mc_task_129888->free_gtid_116636;
    int64_t gtid_116640 = futhark_mc_task_129888->free_gtid_116640;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_task_129888->free_mem_121091,
                                  .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_task_129888->free_mem_121313,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_123704 =
          *futhark_mc_task_129888->retval_defunc_2_reduce_res_123704;
    size_t reduce_stage_1_tid_res_arr_mem_123768_cached_sizze_129890 = 0;
    char *reduce_stage_1_tid_res_arr_mem_123768 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_123768_cached_sizze_129890 <
        (size_t) ((int64_t) 4 * num_tasks_123767)) {
        reduce_stage_1_tid_res_arr_mem_123768 =
            realloc(reduce_stage_1_tid_res_arr_mem_123768, (int64_t) 4 *
                    num_tasks_123767);
        reduce_stage_1_tid_res_arr_mem_123768_cached_sizze_129890 =
            (int64_t) 4 * num_tasks_123767;
    }
    
    int64_t iter_123770;
    struct futhark_mc_segred_stage_1_parloop_struct_129891
    futhark_mc_segred_stage_1_parloop_struct_129891;
    
    futhark_mc_segred_stage_1_parloop_struct_129891.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_129891.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_129891.free_css_chunk_len_114151 =
        css_chunk_len_114151;
    futhark_mc_segred_stage_1_parloop_struct_129891.free_gtid_116636 =
        gtid_116636;
    futhark_mc_segred_stage_1_parloop_struct_129891.free_gtid_116640 =
        gtid_116640;
    futhark_mc_segred_stage_1_parloop_struct_129891.free_mem_121091 =
        mem_121091.mem;
    futhark_mc_segred_stage_1_parloop_struct_129891.free_mem_121313 =
        mem_121313.mem;
    futhark_mc_segred_stage_1_parloop_struct_129891.free_reduce_stage_1_tid_res_arr_mem_123768 =
        reduce_stage_1_tid_res_arr_mem_123768;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_129892_task;
    
    futhark_mc_segred_stage_1_parloop_129892_task.name =
        "futhark_mc_segred_stage_1_parloop_129892";
    futhark_mc_segred_stage_1_parloop_129892_task.fn =
        futhark_mc_segred_stage_1_parloop_129892;
    futhark_mc_segred_stage_1_parloop_129892_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_129891;
    futhark_mc_segred_stage_1_parloop_129892_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_129892_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_129892_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_129892_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_129892_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_129892_task);
    
    if (futhark_mc_segred_stage_1_parloop_129892_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_129892_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_129892_total_end -
                 futhark_mc_segred_stage_1_parloop_129892_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129892_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129892_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129892_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_123704 = 0.0F;
    }
    
    float x_123772;
    float x_123773;
    
    for (int32_t i_123775 = 0; i_123775 < num_tasks_123767; i_123775++) {
        flat_tid_116641 = i_123775;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_123772 = defunc_2_reduce_res_123704;
            }
            // load next params
            {
                x_123773 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_123768)[flat_tid_116641];
            }
            // red body
            {
                float defunc_1_op_res_123774 = x_123772 + x_123773;
                
                defunc_2_reduce_res_123704 = defunc_1_op_res_123774;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_123768);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_129889_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_129889_end -
                 futhark_mc_segred_task_129889_start;
        
        ctx->futhark_mc_segred_task_129889_runs[tid]++;
        ctx->futhark_mc_segred_task_129889_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_129889_iter[tid] += iterations;
    }
    *futhark_mc_task_129888->retval_defunc_2_reduce_res_123704 =
        defunc_2_reduce_res_123704;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129887(void *args, int64_t start,
                                            int64_t end, int flat_tid_116639,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129886
    *futhark_mc_segmap_parloop_struct_129886 =
    (struct futhark_mc_segmap_parloop_struct_129886 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129886->ctx;
    uint64_t futhark_mc_segmap_parloop_129887_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129887_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129886->free_n_114105;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129886->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_segmap_parloop_struct_129886->free_css_chunk_len_114151;
    int64_t gtid_116636 =
            futhark_mc_segmap_parloop_struct_129886->free_gtid_116636;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_segmap_parloop_struct_129886->free_mem_121091,
                                  .size =0, .references =NULL};
    struct memblock mem_121113 = {.desc ="mem_121113", .mem =
                                  futhark_mc_segmap_parloop_struct_129886->free_mem_121113,
                                  .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_segmap_parloop_struct_129886->free_mem_121313,
                                  .size =0, .references =NULL};
    struct memblock mem_121316 = {.desc ="mem_121316", .mem =
                                  futhark_mc_segmap_parloop_struct_129886->free_mem_121316,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123752 = start;
    
    for (; iter_123752 < end; iter_123752++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123765 = n_p_114107;
        int64_t gtid_116640 = iter_123752;
        int64_t remnant_123766 = iter_123752 - gtid_116640;
        float x_123703 = ((float *) mem_121113.mem)[gtid_116636 * n_p_114107 +
                                                    gtid_116640];
        float defunc_2_reduce_res_123704;
        int64_t flat_tid_116641 = (int64_t) 0;
        int32_t num_tasks_123767;
        struct futhark_mc_task_129888 futhark_mc_task_129888;
        
        futhark_mc_task_129888.ctx = ctx;
        futhark_mc_task_129888.free_n_114105 = n_114105;
        futhark_mc_task_129888.free_css_chunk_len_114151 = css_chunk_len_114151;
        futhark_mc_task_129888.free_gtid_116636 = gtid_116636;
        futhark_mc_task_129888.free_gtid_116640 = gtid_116640;
        futhark_mc_task_129888.free_mem_121091 = mem_121091.mem;
        futhark_mc_task_129888.free_mem_121313 = mem_121313.mem;
        futhark_mc_task_129888.retval_defunc_2_reduce_res_123704 =
            &defunc_2_reduce_res_123704;
        
        struct scheduler_segop futhark_mc_task_129888_task;
        
        futhark_mc_task_129888_task.args = &futhark_mc_task_129888;
        futhark_mc_task_129888_task.top_level_fn =
            futhark_mc_segred_task_129889;
        futhark_mc_task_129888_task.name = "futhark_mc_segred_task_129889";
        futhark_mc_task_129888_task.iterations = css_chunk_len_114151;
        futhark_mc_task_129888_task.task_time =
            &ctx->futhark_mc_segred_task_129889_total_time;
        futhark_mc_task_129888_task.task_iter =
            &ctx->futhark_mc_segred_task_129889_total_iter;
        futhark_mc_task_129888_task.sched = STATIC;
        futhark_mc_task_129888_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_129889_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129888_task);
        
        if (futhark_mc_segred_task_129889_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float defunc_1_f_res_123717 = defunc_2_reduce_res_123704 / x_123703;
        
        ((float *) mem_121316.mem)[gtid_116640] = defunc_1_f_res_123717;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129887_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129887_end -
                 futhark_mc_segmap_parloop_129887_start;
        
        ctx->futhark_mc_segmap_parloop_129887_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129887_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129887_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129885(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116639 = tid;
    int num_tasks_123735 = info.nsubtasks;
    struct futhark_mc_task_129881 *futhark_mc_task_129881 =
                                  (struct futhark_mc_task_129881 *) args;
    struct futhark_context *ctx = futhark_mc_task_129881->ctx;
    uint64_t futhark_mc_segmap_nested_task_129885_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129885_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129881->free_n_114105;
    int64_t n_p_114107 = futhark_mc_task_129881->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_task_129881->free_css_chunk_len_114151;
    int64_t gtid_116636 = futhark_mc_task_129881->free_gtid_116636;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_task_129881->free_mem_121091,
                                  .size =0, .references =NULL};
    struct memblock mem_121113 = {.desc ="mem_121113", .mem =
                                  futhark_mc_task_129881->free_mem_121113,
                                  .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_task_129881->free_mem_121313,
                                  .size =0, .references =NULL};
    struct memblock mem_121316 = {.desc ="mem_121316", .mem =
                                  futhark_mc_task_129881->free_mem_121316,
                                  .size =0, .references =NULL};
    int64_t iter_123752;
    struct futhark_mc_segmap_parloop_struct_129886
    futhark_mc_segmap_parloop_struct_129886;
    
    futhark_mc_segmap_parloop_struct_129886.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129886.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129886.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129886.free_css_chunk_len_114151 =
        css_chunk_len_114151;
    futhark_mc_segmap_parloop_struct_129886.free_gtid_116636 = gtid_116636;
    futhark_mc_segmap_parloop_struct_129886.free_mem_121091 = mem_121091.mem;
    futhark_mc_segmap_parloop_struct_129886.free_mem_121113 = mem_121113.mem;
    futhark_mc_segmap_parloop_struct_129886.free_mem_121313 = mem_121313.mem;
    futhark_mc_segmap_parloop_struct_129886.free_mem_121316 = mem_121316.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129887_task;
    
    futhark_mc_segmap_parloop_129887_task.name =
        "futhark_mc_segmap_parloop_129887";
    futhark_mc_segmap_parloop_129887_task.fn = futhark_mc_segmap_parloop_129887;
    futhark_mc_segmap_parloop_129887_task.args =
        &futhark_mc_segmap_parloop_struct_129886;
    futhark_mc_segmap_parloop_129887_task.iterations = iterations;
    futhark_mc_segmap_parloop_129887_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129887_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129887_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129887_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129887_task);
    
    if (futhark_mc_segmap_parloop_129887_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129887_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129887_total_end -
                 futhark_mc_segmap_parloop_129887_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129887_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129887_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129887_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129885_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129885_end -
                 futhark_mc_segmap_nested_task_129885_start;
        
        ctx->futhark_mc_segmap_nested_task_129885_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129885_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129885_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129879(void *args, int64_t start,
                                            int64_t end, int flat_tid_116635,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129878
    *futhark_mc_segmap_parloop_struct_129878 =
    (struct futhark_mc_segmap_parloop_struct_129878 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129878->ctx;
    uint64_t futhark_mc_segmap_parloop_129879_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129879_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129878->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129878->free_n_114105;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129878->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_segmap_parloop_struct_129878->free_css_chunk_len_114151;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_segmap_parloop_struct_129878->free_mem_121091,
                                  .size =0, .references =NULL};
    int64_t bytes_121092 =
            futhark_mc_segmap_parloop_struct_129878->free_bytes_121092;
    struct memblock mem_121113 = {.desc ="mem_121113", .mem =
                                  futhark_mc_segmap_parloop_struct_129878->free_mem_121113,
                                  .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_segmap_parloop_struct_129878->free_mem_121313,
                                  .size =0, .references =NULL};
    struct memblock mem_121335 = {.desc ="mem_121335", .mem =
                                  futhark_mc_segmap_parloop_struct_129878->free_mem_121335,
                                  .size =0, .references =NULL};
    size_t mem_121316_cached_sizze_129880 = 0;
    char *mem_121316 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123702 = start;
    
    if (mem_121316_cached_sizze_129880 < (size_t) bytes_121092) {
        mem_121316 = realloc(mem_121316, bytes_121092);
        mem_121316_cached_sizze_129880 = bytes_121092;
    }
    for (; iter_123702 < end; iter_123702++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123733 = m_114104;
        int64_t gtid_116636 = iter_123702;
        int64_t remnant_123734 = iter_123702 - gtid_116636;
        int64_t flat_tid_116637 = (int64_t) 0;
        int32_t num_tasks_123735;
        int64_t flat_tid_116639 = (int64_t) 0;
        struct futhark_mc_task_129881 futhark_mc_task_129881;
        
        futhark_mc_task_129881.ctx = ctx;
        futhark_mc_task_129881.free_n_114105 = n_114105;
        futhark_mc_task_129881.free_n_p_114107 = n_p_114107;
        futhark_mc_task_129881.free_css_chunk_len_114151 = css_chunk_len_114151;
        futhark_mc_task_129881.free_gtid_116636 = gtid_116636;
        futhark_mc_task_129881.free_mem_121091 = mem_121091.mem;
        futhark_mc_task_129881.free_mem_121113 = mem_121113.mem;
        futhark_mc_task_129881.free_mem_121313 = mem_121313.mem;
        futhark_mc_task_129881.free_mem_121316 = mem_121316;
        
        struct scheduler_segop futhark_mc_task_129881_task;
        
        futhark_mc_task_129881_task.args = &futhark_mc_task_129881;
        futhark_mc_task_129881_task.top_level_fn =
            futhark_mc_segmap_task_129882;
        futhark_mc_task_129881_task.name = "futhark_mc_segmap_task_129882";
        futhark_mc_task_129881_task.iterations = n_p_114107;
        futhark_mc_task_129881_task.task_time =
            &ctx->futhark_mc_segmap_task_129882_total_time;
        futhark_mc_task_129881_task.task_iter =
            &ctx->futhark_mc_segmap_task_129882_total_iter;
        futhark_mc_task_129881_task.sched = STATIC;
        futhark_mc_task_129881_task.nested_fn =
            futhark_mc_segmap_nested_task_129885;
        
        int futhark_mc_segmap_task_129882_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129881_task);
        
        if (futhark_mc_segmap_task_129882_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121335.mem + gtid_116636 * n_p_114107 * (int64_t) 4,
                mem_121316 + (int64_t) 0, n_p_114107 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121316);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129879_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129879_end -
                 futhark_mc_segmap_parloop_129879_start;
        
        ctx->futhark_mc_segmap_parloop_129879_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129879_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129879_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129877(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116635 = tid;
    int num_tasks_123678 = info.nsubtasks;
    struct futhark_mc_task_129872 *futhark_mc_task_129872 =
                                  (struct futhark_mc_task_129872 *) args;
    struct futhark_context *ctx = futhark_mc_task_129872->ctx;
    uint64_t futhark_mc_segmap_nested_task_129877_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129877_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129872->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129872->free_n_114105;
    int64_t n_p_114107 = futhark_mc_task_129872->free_n_p_114107;
    int64_t css_chunk_len_114151 =
            futhark_mc_task_129872->free_css_chunk_len_114151;
    struct memblock mem_121091 = {.desc ="mem_121091", .mem =
                                  futhark_mc_task_129872->free_mem_121091,
                                  .size =0, .references =NULL};
    int64_t bytes_121092 = futhark_mc_task_129872->free_bytes_121092;
    struct memblock mem_121113 = {.desc ="mem_121113", .mem =
                                  futhark_mc_task_129872->free_mem_121113,
                                  .size =0, .references =NULL};
    struct memblock mem_121313 = {.desc ="mem_121313", .mem =
                                  futhark_mc_task_129872->free_mem_121313,
                                  .size =0, .references =NULL};
    struct memblock mem_121335 = {.desc ="mem_121335", .mem =
                                  futhark_mc_task_129872->free_mem_121335,
                                  .size =0, .references =NULL};
    int64_t iter_123702;
    struct futhark_mc_segmap_parloop_struct_129878
    futhark_mc_segmap_parloop_struct_129878;
    
    futhark_mc_segmap_parloop_struct_129878.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129878.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129878.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129878.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129878.free_css_chunk_len_114151 =
        css_chunk_len_114151;
    futhark_mc_segmap_parloop_struct_129878.free_mem_121091 = mem_121091.mem;
    futhark_mc_segmap_parloop_struct_129878.free_bytes_121092 = bytes_121092;
    futhark_mc_segmap_parloop_struct_129878.free_mem_121113 = mem_121113.mem;
    futhark_mc_segmap_parloop_struct_129878.free_mem_121313 = mem_121313.mem;
    futhark_mc_segmap_parloop_struct_129878.free_mem_121335 = mem_121335.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129879_task;
    
    futhark_mc_segmap_parloop_129879_task.name =
        "futhark_mc_segmap_parloop_129879";
    futhark_mc_segmap_parloop_129879_task.fn = futhark_mc_segmap_parloop_129879;
    futhark_mc_segmap_parloop_129879_task.args =
        &futhark_mc_segmap_parloop_struct_129878;
    futhark_mc_segmap_parloop_129879_task.iterations = iterations;
    futhark_mc_segmap_parloop_129879_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129879_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129879_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129879_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129879_task);
    
    if (futhark_mc_segmap_parloop_129879_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129879_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129879_total_end -
                 futhark_mc_segmap_parloop_129879_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129879_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129879_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129879_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129877_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129877_end -
                 futhark_mc_segmap_nested_task_129877_start;
        
        ctx->futhark_mc_segmap_nested_task_129877_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129877_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129877_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129893 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    int64_t free_C_len_114153;
    char *free_mem_121335;
    int64_t free_bytes_121336;
    char *free_mem_121357;
};
struct futhark_mc_segmap_parloop_struct_129895 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    int64_t free_C_len_114153;
    char *free_mem_121335;
    int64_t free_bytes_121336;
    char *free_mem_121357;
};
static int futhark_mc_segmap_parloop_129896(void *args, int64_t start,
                                            int64_t end, int flat_tid_116694,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129895
    *futhark_mc_segmap_parloop_struct_129895 =
    (struct futhark_mc_segmap_parloop_struct_129895 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129895->ctx;
    uint64_t futhark_mc_segmap_parloop_129896_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129896_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129895->free_m_114104;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129895->free_n_p_114107;
    int64_t C_len_114153 =
            futhark_mc_segmap_parloop_struct_129895->free_C_len_114153;
    struct memblock mem_121335 = {.desc ="mem_121335", .mem =
                                  futhark_mc_segmap_parloop_struct_129895->free_mem_121335,
                                  .size =0, .references =NULL};
    int64_t bytes_121336 =
            futhark_mc_segmap_parloop_struct_129895->free_bytes_121336;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_segmap_parloop_struct_129895->free_mem_121357,
                                  .size =0, .references =NULL};
    size_t mem_121341_cached_sizze_129897 = 0;
    char *mem_121341 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123777 = start;
    
    if (mem_121341_cached_sizze_129897 < (size_t) bytes_121336) {
        mem_121341 = realloc(mem_121341, bytes_121336);
        mem_121341_cached_sizze_129897 = bytes_121336;
    }
    for (; iter_123777 < end; iter_123777++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123787 = m_114104;
        int64_t gtid_116695 = iter_123777;
        int64_t remnant_123788 = iter_123777 - gtid_116695;
        
        for (int64_t i_123778 = 0; i_123778 < C_len_114153; i_123778++) {
            int64_t i_123780 = smod64(i_123778, n_p_114107);
            bool x_123781 = sle64((int64_t) 0, i_123780);
            bool y_123782 = slt64(i_123780, n_p_114107);
            bool bounds_check_123783 = x_123781 && y_123782;
            bool index_certs_123784;
            
            if (!bounds_check_123783) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) i_123780,
                              "] out of bounds for array of shape [",
                              (long long) n_p_114107, "].",
                              "-> #0  stl.fut:196:42-58\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:196:20-59\n   #4  stl.fut:194:13-197:24\n   #5  stl.fut:365:3-376:33\n   #6  stl.fut:352:1-376:33\n");
                return 1;
            }
            memmove(mem_121341 + i_123778 * (int64_t) 4, mem_121335.mem +
                    (gtid_116695 * n_p_114107 + i_123780) * (int64_t) 4,
                    (int64_t) 4);
        }
        memmove(mem_121357.mem + gtid_116695 * C_len_114153 * (int64_t) 4,
                mem_121341 + (int64_t) 0, C_len_114153 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121341);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129896_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129896_end -
                 futhark_mc_segmap_parloop_129896_start;
        
        ctx->futhark_mc_segmap_parloop_129896_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129896_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129896_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129894(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116694 = tid;
    int num_tasks_123776 = info.nsubtasks;
    struct futhark_mc_task_129893 *futhark_mc_task_129893 =
                                  (struct futhark_mc_task_129893 *) args;
    struct futhark_context *ctx = futhark_mc_task_129893->ctx;
    uint64_t futhark_mc_segmap_task_129894_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129894_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129893->free_m_114104;
    int64_t n_p_114107 = futhark_mc_task_129893->free_n_p_114107;
    int64_t C_len_114153 = futhark_mc_task_129893->free_C_len_114153;
    struct memblock mem_121335 = {.desc ="mem_121335", .mem =
                                  futhark_mc_task_129893->free_mem_121335,
                                  .size =0, .references =NULL};
    int64_t bytes_121336 = futhark_mc_task_129893->free_bytes_121336;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_task_129893->free_mem_121357,
                                  .size =0, .references =NULL};
    int64_t iter_123777;
    struct futhark_mc_segmap_parloop_struct_129895
    futhark_mc_segmap_parloop_struct_129895;
    
    futhark_mc_segmap_parloop_struct_129895.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129895.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129895.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129895.free_C_len_114153 = C_len_114153;
    futhark_mc_segmap_parloop_struct_129895.free_mem_121335 = mem_121335.mem;
    futhark_mc_segmap_parloop_struct_129895.free_bytes_121336 = bytes_121336;
    futhark_mc_segmap_parloop_struct_129895.free_mem_121357 = mem_121357.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129896_task;
    
    futhark_mc_segmap_parloop_129896_task.name =
        "futhark_mc_segmap_parloop_129896";
    futhark_mc_segmap_parloop_129896_task.fn = futhark_mc_segmap_parloop_129896;
    futhark_mc_segmap_parloop_129896_task.args =
        &futhark_mc_segmap_parloop_struct_129895;
    futhark_mc_segmap_parloop_129896_task.iterations = iterations;
    futhark_mc_segmap_parloop_129896_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129896_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129896_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129896_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129896_task);
    
    if (futhark_mc_segmap_parloop_129896_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129896_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129896_total_end -
                 futhark_mc_segmap_parloop_129896_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129896_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129896_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129896_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129894_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129894_end -
                 futhark_mc_segmap_task_129894_start;
        
        ctx->futhark_mc_segmap_task_129894_runs[tid]++;
        ctx->futhark_mc_segmap_task_129894_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129894_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129899 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    int64_t free_C_len_114153;
    char *free_mem_121335;
    int64_t free_bytes_121336;
    char *free_mem_121357;
};
struct futhark_mc_task_129902 {
    struct futhark_context *ctx;
    int64_t free_n_p_114107;
    int64_t free_C_len_114153;
    int64_t free_gtid_116697;
    char *free_mem_121335;
    char *free_mem_121338;
};
struct futhark_mc_segmap_parloop_struct_129904 {
    struct futhark_context *ctx;
    int64_t free_n_p_114107;
    int64_t free_C_len_114153;
    int64_t free_gtid_116697;
    char *free_mem_121335;
    char *free_mem_121338;
};
static int futhark_mc_segmap_parloop_129905(void *args, int64_t start,
                                            int64_t end, int flat_tid_116698,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129904
    *futhark_mc_segmap_parloop_struct_129904 =
    (struct futhark_mc_segmap_parloop_struct_129904 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129904->ctx;
    uint64_t futhark_mc_segmap_parloop_129905_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129905_start = get_wall_time();
    
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129904->free_n_p_114107;
    int64_t C_len_114153 =
            futhark_mc_segmap_parloop_struct_129904->free_C_len_114153;
    int64_t gtid_116697 =
            futhark_mc_segmap_parloop_struct_129904->free_gtid_116697;
    struct memblock mem_121335 = {.desc ="mem_121335", .mem =
                                  futhark_mc_segmap_parloop_struct_129904->free_mem_121335,
                                  .size =0, .references =NULL};
    struct memblock mem_121338 = {.desc ="mem_121338", .mem =
                                  futhark_mc_segmap_parloop_struct_129904->free_mem_121338,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123800 = start;
    
    for (; iter_123800 < end; iter_123800++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123801 = C_len_114153;
        int64_t gtid_116699 = iter_123800;
        int64_t remnant_123802 = iter_123800 - gtid_116699;
        int64_t i_123791 = smod64(gtid_116699, n_p_114107);
        bool x_123792 = sle64((int64_t) 0, i_123791);
        bool y_123793 = slt64(i_123791, n_p_114107);
        bool bounds_check_123794 = x_123792 && y_123793;
        bool index_certs_123795;
        
        if (!bounds_check_123794) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) i_123791,
                                   "] out of bounds for array of shape [",
                                   (long long) n_p_114107, "].",
                                   "-> #0  stl.fut:196:42-58\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:196:20-59\n   #4  stl.fut:194:13-197:24\n   #5  stl.fut:365:3-376:33\n   #6  stl.fut:352:1-376:33\n");
            return 1;
        }
        
        float defunc_0_f_res_123796 = ((float *) mem_121335.mem)[gtid_116697 *
                                                                 n_p_114107 +
                                                                 i_123791];
        
        ((float *) mem_121338.mem)[gtid_116699] = defunc_0_f_res_123796;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129905_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129905_end -
                 futhark_mc_segmap_parloop_129905_start;
        
        ctx->futhark_mc_segmap_parloop_129905_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129905_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129905_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129903(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116698 = tid;
    int num_tasks_123799 = info.nsubtasks;
    struct futhark_mc_task_129902 *futhark_mc_task_129902 =
                                  (struct futhark_mc_task_129902 *) args;
    struct futhark_context *ctx = futhark_mc_task_129902->ctx;
    uint64_t futhark_mc_segmap_task_129903_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129903_start = get_wall_time();
    
    int64_t n_p_114107 = futhark_mc_task_129902->free_n_p_114107;
    int64_t C_len_114153 = futhark_mc_task_129902->free_C_len_114153;
    int64_t gtid_116697 = futhark_mc_task_129902->free_gtid_116697;
    struct memblock mem_121335 = {.desc ="mem_121335", .mem =
                                  futhark_mc_task_129902->free_mem_121335,
                                  .size =0, .references =NULL};
    struct memblock mem_121338 = {.desc ="mem_121338", .mem =
                                  futhark_mc_task_129902->free_mem_121338,
                                  .size =0, .references =NULL};
    int64_t iter_123800;
    struct futhark_mc_segmap_parloop_struct_129904
    futhark_mc_segmap_parloop_struct_129904;
    
    futhark_mc_segmap_parloop_struct_129904.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129904.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129904.free_C_len_114153 = C_len_114153;
    futhark_mc_segmap_parloop_struct_129904.free_gtid_116697 = gtid_116697;
    futhark_mc_segmap_parloop_struct_129904.free_mem_121335 = mem_121335.mem;
    futhark_mc_segmap_parloop_struct_129904.free_mem_121338 = mem_121338.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129905_task;
    
    futhark_mc_segmap_parloop_129905_task.name =
        "futhark_mc_segmap_parloop_129905";
    futhark_mc_segmap_parloop_129905_task.fn = futhark_mc_segmap_parloop_129905;
    futhark_mc_segmap_parloop_129905_task.args =
        &futhark_mc_segmap_parloop_struct_129904;
    futhark_mc_segmap_parloop_129905_task.iterations = iterations;
    futhark_mc_segmap_parloop_129905_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129905_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129905_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129905_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129905_task);
    
    if (futhark_mc_segmap_parloop_129905_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129905_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129905_total_end -
                 futhark_mc_segmap_parloop_129905_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129905_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129905_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129905_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129903_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129903_end -
                 futhark_mc_segmap_task_129903_start;
        
        ctx->futhark_mc_segmap_task_129903_runs[tid]++;
        ctx->futhark_mc_segmap_task_129903_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129903_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129900(void *args, int64_t start,
                                            int64_t end, int flat_tid_116696,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129899
    *futhark_mc_segmap_parloop_struct_129899 =
    (struct futhark_mc_segmap_parloop_struct_129899 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129899->ctx;
    uint64_t futhark_mc_segmap_parloop_129900_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129900_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129899->free_m_114104;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129899->free_n_p_114107;
    int64_t C_len_114153 =
            futhark_mc_segmap_parloop_struct_129899->free_C_len_114153;
    struct memblock mem_121335 = {.desc ="mem_121335", .mem =
                                  futhark_mc_segmap_parloop_struct_129899->free_mem_121335,
                                  .size =0, .references =NULL};
    int64_t bytes_121336 =
            futhark_mc_segmap_parloop_struct_129899->free_bytes_121336;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_segmap_parloop_struct_129899->free_mem_121357,
                                  .size =0, .references =NULL};
    size_t mem_121338_cached_sizze_129901 = 0;
    char *mem_121338 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123790 = start;
    
    if (mem_121338_cached_sizze_129901 < (size_t) bytes_121336) {
        mem_121338 = realloc(mem_121338, bytes_121336);
        mem_121338_cached_sizze_129901 = bytes_121336;
    }
    for (; iter_123790 < end; iter_123790++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123797 = m_114104;
        int64_t gtid_116697 = iter_123790;
        int64_t remnant_123798 = iter_123790 - gtid_116697;
        int64_t flat_tid_116698 = (int64_t) 0;
        int32_t num_tasks_123799;
        struct futhark_mc_task_129902 futhark_mc_task_129902;
        
        futhark_mc_task_129902.ctx = ctx;
        futhark_mc_task_129902.free_n_p_114107 = n_p_114107;
        futhark_mc_task_129902.free_C_len_114153 = C_len_114153;
        futhark_mc_task_129902.free_gtid_116697 = gtid_116697;
        futhark_mc_task_129902.free_mem_121335 = mem_121335.mem;
        futhark_mc_task_129902.free_mem_121338 = mem_121338;
        
        struct scheduler_segop futhark_mc_task_129902_task;
        
        futhark_mc_task_129902_task.args = &futhark_mc_task_129902;
        futhark_mc_task_129902_task.top_level_fn =
            futhark_mc_segmap_task_129903;
        futhark_mc_task_129902_task.name = "futhark_mc_segmap_task_129903";
        futhark_mc_task_129902_task.iterations = C_len_114153;
        futhark_mc_task_129902_task.task_time =
            &ctx->futhark_mc_segmap_task_129903_total_time;
        futhark_mc_task_129902_task.task_iter =
            &ctx->futhark_mc_segmap_task_129903_total_iter;
        futhark_mc_task_129902_task.sched = STATIC;
        futhark_mc_task_129902_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_129903_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129902_task);
        
        if (futhark_mc_segmap_task_129903_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121357.mem + gtid_116697 * C_len_114153 * (int64_t) 4,
                mem_121338 + (int64_t) 0, C_len_114153 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121338);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129900_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129900_end -
                 futhark_mc_segmap_parloop_129900_start;
        
        ctx->futhark_mc_segmap_parloop_129900_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129900_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129900_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129898(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116696 = tid;
    int num_tasks_123776 = info.nsubtasks;
    struct futhark_mc_task_129893 *futhark_mc_task_129893 =
                                  (struct futhark_mc_task_129893 *) args;
    struct futhark_context *ctx = futhark_mc_task_129893->ctx;
    uint64_t futhark_mc_segmap_nested_task_129898_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129898_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129893->free_m_114104;
    int64_t n_p_114107 = futhark_mc_task_129893->free_n_p_114107;
    int64_t C_len_114153 = futhark_mc_task_129893->free_C_len_114153;
    struct memblock mem_121335 = {.desc ="mem_121335", .mem =
                                  futhark_mc_task_129893->free_mem_121335,
                                  .size =0, .references =NULL};
    int64_t bytes_121336 = futhark_mc_task_129893->free_bytes_121336;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_task_129893->free_mem_121357,
                                  .size =0, .references =NULL};
    int64_t iter_123790;
    struct futhark_mc_segmap_parloop_struct_129899
    futhark_mc_segmap_parloop_struct_129899;
    
    futhark_mc_segmap_parloop_struct_129899.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129899.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129899.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129899.free_C_len_114153 = C_len_114153;
    futhark_mc_segmap_parloop_struct_129899.free_mem_121335 = mem_121335.mem;
    futhark_mc_segmap_parloop_struct_129899.free_bytes_121336 = bytes_121336;
    futhark_mc_segmap_parloop_struct_129899.free_mem_121357 = mem_121357.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129900_task;
    
    futhark_mc_segmap_parloop_129900_task.name =
        "futhark_mc_segmap_parloop_129900";
    futhark_mc_segmap_parloop_129900_task.fn = futhark_mc_segmap_parloop_129900;
    futhark_mc_segmap_parloop_129900_task.args =
        &futhark_mc_segmap_parloop_struct_129899;
    futhark_mc_segmap_parloop_129900_task.iterations = iterations;
    futhark_mc_segmap_parloop_129900_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129900_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129900_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129900_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129900_task);
    
    if (futhark_mc_segmap_parloop_129900_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129900_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129900_total_end -
                 futhark_mc_segmap_parloop_129900_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129900_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129900_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129900_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129898_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129898_end -
                 futhark_mc_segmap_nested_task_129898_start;
        
        ctx->futhark_mc_segmap_nested_task_129898_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129898_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129898_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129906 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    int64_t free_C_len_114153;
    char *free_mem_121357;
    char *free_mem_121360;
};
struct futhark_mc_segmap_parloop_struct_129908 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    int64_t free_C_len_114153;
    char *free_mem_121357;
    char *free_mem_121360;
};
static int futhark_mc_segmap_parloop_129909(void *args, int64_t start,
                                            int64_t end, int flat_tid_116709,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129908
    *futhark_mc_segmap_parloop_struct_129908 =
    (struct futhark_mc_segmap_parloop_struct_129908 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129908->ctx;
    uint64_t futhark_mc_segmap_parloop_129909_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129909_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129908->free_m_114104;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129908->free_n_p_114107;
    int64_t C_len_114153 =
            futhark_mc_segmap_parloop_struct_129908->free_C_len_114153;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_segmap_parloop_struct_129908->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock mem_121360 = {.desc ="mem_121360", .mem =
                                  futhark_mc_segmap_parloop_struct_129908->free_mem_121360,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123804 = start;
    
    for (; iter_123804 < end; iter_123804++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123809 = m_114104;
        int64_t gtid_116710 = iter_123804;
        int64_t remnant_123810 = iter_123804 - gtid_116710;
        float defunc_2_reduce_res_114611;
        float redout_123806 = 0.0F;
        
        for (int64_t i_123805 = 0; i_123805 < n_p_114107; i_123805++) {
            float x_123807 = ((float *) mem_121357.mem)[gtid_116710 *
                                                        C_len_114153 +
                                                        i_123805];
            float defunc_1_op_res_123808 = x_123807 + redout_123806;
            float redout_tmp_123811 = defunc_1_op_res_123808;
            
            redout_123806 = redout_tmp_123811;
        }
        defunc_2_reduce_res_114611 = redout_123806;
        ((float *) mem_121360.mem)[gtid_116710] = defunc_2_reduce_res_114611;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129909_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129909_end -
                 futhark_mc_segmap_parloop_129909_start;
        
        ctx->futhark_mc_segmap_parloop_129909_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129909_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129909_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129907(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116709 = tid;
    int num_tasks_123803 = info.nsubtasks;
    struct futhark_mc_task_129906 *futhark_mc_task_129906 =
                                  (struct futhark_mc_task_129906 *) args;
    struct futhark_context *ctx = futhark_mc_task_129906->ctx;
    uint64_t futhark_mc_segmap_task_129907_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129907_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129906->free_m_114104;
    int64_t n_p_114107 = futhark_mc_task_129906->free_n_p_114107;
    int64_t C_len_114153 = futhark_mc_task_129906->free_C_len_114153;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_task_129906->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock mem_121360 = {.desc ="mem_121360", .mem =
                                  futhark_mc_task_129906->free_mem_121360,
                                  .size =0, .references =NULL};
    int64_t iter_123804;
    struct futhark_mc_segmap_parloop_struct_129908
    futhark_mc_segmap_parloop_struct_129908;
    
    futhark_mc_segmap_parloop_struct_129908.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129908.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129908.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129908.free_C_len_114153 = C_len_114153;
    futhark_mc_segmap_parloop_struct_129908.free_mem_121357 = mem_121357.mem;
    futhark_mc_segmap_parloop_struct_129908.free_mem_121360 = mem_121360.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129909_task;
    
    futhark_mc_segmap_parloop_129909_task.name =
        "futhark_mc_segmap_parloop_129909";
    futhark_mc_segmap_parloop_129909_task.fn = futhark_mc_segmap_parloop_129909;
    futhark_mc_segmap_parloop_129909_task.args =
        &futhark_mc_segmap_parloop_struct_129908;
    futhark_mc_segmap_parloop_129909_task.iterations = iterations;
    futhark_mc_segmap_parloop_129909_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129909_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129909_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129909_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129909_task);
    
    if (futhark_mc_segmap_parloop_129909_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129909_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129909_total_end -
                 futhark_mc_segmap_parloop_129909_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129909_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129909_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129909_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129907_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129907_end -
                 futhark_mc_segmap_task_129907_start;
        
        ctx->futhark_mc_segmap_task_129907_runs[tid]++;
        ctx->futhark_mc_segmap_task_129907_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129907_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129911 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    int64_t free_C_len_114153;
    char *free_mem_121357;
    char *free_mem_121360;
};
struct futhark_mc_task_129913 {
    struct futhark_context *ctx;
    int64_t free_C_len_114153;
    int64_t free_gtid_116712;
    char *free_mem_121357;
    float *retval_defunc_2_reduce_res_116716;
};
struct futhark_mc_segred_stage_1_parloop_struct_129916 {
    struct futhark_context *ctx;
    int64_t free_C_len_114153;
    int64_t free_gtid_116712;
    char *free_mem_121357;
    char *free_reduce_stage_1_tid_res_arr_mem_123820;
};
static int futhark_mc_segred_stage_1_parloop_129917(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_116713,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_129916
    *futhark_mc_segred_stage_1_parloop_struct_129916 =
    (struct futhark_mc_segred_stage_1_parloop_struct_129916 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_129916->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_129917_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_129917_start = get_wall_time();
    
    int64_t C_len_114153 =
            futhark_mc_segred_stage_1_parloop_struct_129916->free_C_len_114153;
    int64_t gtid_116712 =
            futhark_mc_segred_stage_1_parloop_struct_129916->free_gtid_116712;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_129916->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_123820 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_123820",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_129916->free_reduce_stage_1_tid_res_arr_mem_123820,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123822 = start;
    float x_123813;
    float x_123814;
    float local_acc_123823 = 0.0F;
    
    for (; iter_123822 < end; iter_123822++) {
        int64_t gtid_116714 = iter_123822;
        float x_123816 = ((float *) mem_121357.mem)[gtid_116712 * C_len_114153 +
                                                    gtid_116714];
        
        // save map-out results
        { }
        // Load accum params
        {
            x_123813 = local_acc_123823;
        }
        // Load next params
        {
            x_123814 = x_123816;
        }
        // Red body
        {
            float defunc_1_op_res_123815 = x_123813 + x_123814;
            
            local_acc_123823 = defunc_1_op_res_123815;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_123820.mem)[flat_tid_116713] =
        local_acc_123823;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_129917_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_129917_end -
                 futhark_mc_segred_stage_1_parloop_129917_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_129917_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_129917_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_129917_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_129914(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116713 = tid;
    int num_tasks_123819 = info.nsubtasks;
    struct futhark_mc_task_129913 *futhark_mc_task_129913 =
                                  (struct futhark_mc_task_129913 *) args;
    struct futhark_context *ctx = futhark_mc_task_129913->ctx;
    uint64_t futhark_mc_segred_task_129914_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_129914_start = get_wall_time();
    
    int64_t C_len_114153 = futhark_mc_task_129913->free_C_len_114153;
    int64_t gtid_116712 = futhark_mc_task_129913->free_gtid_116712;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_task_129913->free_mem_121357,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_116716 =
          *futhark_mc_task_129913->retval_defunc_2_reduce_res_116716;
    size_t reduce_stage_1_tid_res_arr_mem_123820_cached_sizze_129915 = 0;
    char *reduce_stage_1_tid_res_arr_mem_123820 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_123820_cached_sizze_129915 <
        (size_t) ((int64_t) 4 * num_tasks_123819)) {
        reduce_stage_1_tid_res_arr_mem_123820 =
            realloc(reduce_stage_1_tid_res_arr_mem_123820, (int64_t) 4 *
                    num_tasks_123819);
        reduce_stage_1_tid_res_arr_mem_123820_cached_sizze_129915 =
            (int64_t) 4 * num_tasks_123819;
    }
    
    int64_t iter_123822;
    struct futhark_mc_segred_stage_1_parloop_struct_129916
    futhark_mc_segred_stage_1_parloop_struct_129916;
    
    futhark_mc_segred_stage_1_parloop_struct_129916.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_129916.free_C_len_114153 =
        C_len_114153;
    futhark_mc_segred_stage_1_parloop_struct_129916.free_gtid_116712 =
        gtid_116712;
    futhark_mc_segred_stage_1_parloop_struct_129916.free_mem_121357 =
        mem_121357.mem;
    futhark_mc_segred_stage_1_parloop_struct_129916.free_reduce_stage_1_tid_res_arr_mem_123820 =
        reduce_stage_1_tid_res_arr_mem_123820;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_129917_task;
    
    futhark_mc_segred_stage_1_parloop_129917_task.name =
        "futhark_mc_segred_stage_1_parloop_129917";
    futhark_mc_segred_stage_1_parloop_129917_task.fn =
        futhark_mc_segred_stage_1_parloop_129917;
    futhark_mc_segred_stage_1_parloop_129917_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_129916;
    futhark_mc_segred_stage_1_parloop_129917_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_129917_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_129917_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_129917_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_129917_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_129917_task);
    
    if (futhark_mc_segred_stage_1_parloop_129917_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_129917_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_129917_total_end -
                 futhark_mc_segred_stage_1_parloop_129917_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129917_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129917_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129917_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_116716 = 0.0F;
    }
    
    float x_123824;
    float x_123825;
    
    for (int32_t i_123827 = 0; i_123827 < num_tasks_123819; i_123827++) {
        flat_tid_116713 = i_123827;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_123824 = defunc_2_reduce_res_116716;
            }
            // load next params
            {
                x_123825 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_123820)[flat_tid_116713];
            }
            // red body
            {
                float defunc_1_op_res_123826 = x_123824 + x_123825;
                
                defunc_2_reduce_res_116716 = defunc_1_op_res_123826;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_123820);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_129914_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_129914_end -
                 futhark_mc_segred_task_129914_start;
        
        ctx->futhark_mc_segred_task_129914_runs[tid]++;
        ctx->futhark_mc_segred_task_129914_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_129914_iter[tid] += iterations;
    }
    *futhark_mc_task_129913->retval_defunc_2_reduce_res_116716 =
        defunc_2_reduce_res_116716;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129912(void *args, int64_t start,
                                            int64_t end, int flat_tid_116711,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129911
    *futhark_mc_segmap_parloop_struct_129911 =
    (struct futhark_mc_segmap_parloop_struct_129911 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129911->ctx;
    uint64_t futhark_mc_segmap_parloop_129912_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129912_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129911->free_m_114104;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129911->free_n_p_114107;
    int64_t C_len_114153 =
            futhark_mc_segmap_parloop_struct_129911->free_C_len_114153;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_segmap_parloop_struct_129911->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock mem_121360 = {.desc ="mem_121360", .mem =
                                  futhark_mc_segmap_parloop_struct_129911->free_mem_121360,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123812 = start;
    
    for (; iter_123812 < end; iter_123812++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123817 = m_114104;
        int64_t gtid_116712 = iter_123812;
        int64_t remnant_123818 = iter_123812 - gtid_116712;
        float defunc_2_reduce_res_116716;
        int64_t flat_tid_116713 = (int64_t) 0;
        int32_t num_tasks_123819;
        struct futhark_mc_task_129913 futhark_mc_task_129913;
        
        futhark_mc_task_129913.ctx = ctx;
        futhark_mc_task_129913.free_C_len_114153 = C_len_114153;
        futhark_mc_task_129913.free_gtid_116712 = gtid_116712;
        futhark_mc_task_129913.free_mem_121357 = mem_121357.mem;
        futhark_mc_task_129913.retval_defunc_2_reduce_res_116716 =
            &defunc_2_reduce_res_116716;
        
        struct scheduler_segop futhark_mc_task_129913_task;
        
        futhark_mc_task_129913_task.args = &futhark_mc_task_129913;
        futhark_mc_task_129913_task.top_level_fn =
            futhark_mc_segred_task_129914;
        futhark_mc_task_129913_task.name = "futhark_mc_segred_task_129914";
        futhark_mc_task_129913_task.iterations = n_p_114107;
        futhark_mc_task_129913_task.task_time =
            &ctx->futhark_mc_segred_task_129914_total_time;
        futhark_mc_task_129913_task.task_iter =
            &ctx->futhark_mc_segred_task_129914_total_iter;
        futhark_mc_task_129913_task.sched = STATIC;
        futhark_mc_task_129913_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_129914_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129913_task);
        
        if (futhark_mc_segred_task_129914_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_121360.mem)[gtid_116712] = defunc_2_reduce_res_116716;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129912_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129912_end -
                 futhark_mc_segmap_parloop_129912_start;
        
        ctx->futhark_mc_segmap_parloop_129912_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129912_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129912_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129910(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116711 = tid;
    int num_tasks_123803 = info.nsubtasks;
    struct futhark_mc_task_129906 *futhark_mc_task_129906 =
                                  (struct futhark_mc_task_129906 *) args;
    struct futhark_context *ctx = futhark_mc_task_129906->ctx;
    uint64_t futhark_mc_segmap_nested_task_129910_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129910_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129906->free_m_114104;
    int64_t n_p_114107 = futhark_mc_task_129906->free_n_p_114107;
    int64_t C_len_114153 = futhark_mc_task_129906->free_C_len_114153;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_task_129906->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock mem_121360 = {.desc ="mem_121360", .mem =
                                  futhark_mc_task_129906->free_mem_121360,
                                  .size =0, .references =NULL};
    int64_t iter_123812;
    struct futhark_mc_segmap_parloop_struct_129911
    futhark_mc_segmap_parloop_struct_129911;
    
    futhark_mc_segmap_parloop_struct_129911.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129911.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129911.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129911.free_C_len_114153 = C_len_114153;
    futhark_mc_segmap_parloop_struct_129911.free_mem_121357 = mem_121357.mem;
    futhark_mc_segmap_parloop_struct_129911.free_mem_121360 = mem_121360.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129912_task;
    
    futhark_mc_segmap_parloop_129912_task.name =
        "futhark_mc_segmap_parloop_129912";
    futhark_mc_segmap_parloop_129912_task.fn = futhark_mc_segmap_parloop_129912;
    futhark_mc_segmap_parloop_129912_task.args =
        &futhark_mc_segmap_parloop_struct_129911;
    futhark_mc_segmap_parloop_129912_task.iterations = iterations;
    futhark_mc_segmap_parloop_129912_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129912_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129912_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129912_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129912_task);
    
    if (futhark_mc_segmap_parloop_129912_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129912_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129912_total_end -
                 futhark_mc_segmap_parloop_129912_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129912_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129912_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129912_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129910_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129910_end -
                 futhark_mc_segmap_nested_task_129910_start;
        
        ctx->futhark_mc_segmap_nested_task_129910_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129910_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129910_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129918 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    float free_i64_res_114147;
    int64_t free_C_len_114153;
    int64_t free_lifted_single_ma_l_arg_114512;
    char *free_mem_121357;
    char *free_mem_121360;
    int64_t free_bytes_121361;
    char *free_mem_121382;
};
struct futhark_mc_segmap_parloop_struct_129920 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    float free_i64_res_114147;
    int64_t free_C_len_114153;
    int64_t free_lifted_single_ma_l_arg_114512;
    char *free_mem_121357;
    char *free_mem_121360;
    int64_t free_bytes_121361;
    char *free_mem_121382;
};
static int futhark_mc_segmap_parloop_129921(void *args, int64_t start,
                                            int64_t end, int flat_tid_116721,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129920
    *futhark_mc_segmap_parloop_struct_129920 =
    (struct futhark_mc_segmap_parloop_struct_129920 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129920->ctx;
    uint64_t futhark_mc_segmap_parloop_129921_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129921_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129920->free_m_114104;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129920->free_n_p_114107;
    float i64_res_114147 =
          futhark_mc_segmap_parloop_struct_129920->free_i64_res_114147;
    int64_t C_len_114153 =
            futhark_mc_segmap_parloop_struct_129920->free_C_len_114153;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_segmap_parloop_struct_129920->free_lifted_single_ma_l_arg_114512;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_segmap_parloop_struct_129920->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock mem_121360 = {.desc ="mem_121360", .mem =
                                  futhark_mc_segmap_parloop_struct_129920->free_mem_121360,
                                  .size =0, .references =NULL};
    int64_t bytes_121361 =
            futhark_mc_segmap_parloop_struct_129920->free_bytes_121361;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_segmap_parloop_struct_129920->free_mem_121382,
                                  .size =0, .references =NULL};
    size_t mem_121366_cached_sizze_129922 = 0;
    char *mem_121366 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123829 = start;
    
    if (mem_121366_cached_sizze_129922 < (size_t) bytes_121361) {
        mem_121366 = realloc(mem_121366, bytes_121361);
        mem_121366_cached_sizze_129922 = bytes_121361;
    }
    for (; iter_123829 < end; iter_123829++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123853 = m_114104;
        int64_t gtid_116722 = iter_123829;
        int64_t remnant_123854 = iter_123829 - gtid_116722;
        float x_114619 = ((float *) mem_121360.mem)[gtid_116722];
        float discard_120448;
        float scanacc_123831 = 0.0F;
        
        for (int64_t i_123830 = 0; i_123830 < lifted_single_ma_l_arg_114512;
             i_123830++) {
            bool cond_123833 = i_123830 == (int64_t) 0;
            float defunc_0_f_res_123834;
            
            if (cond_123833) {
                float defunc_0_f_res_t_res_123835 = x_114619 / i64_res_114147;
                
                defunc_0_f_res_123834 = defunc_0_f_res_t_res_123835;
            } else {
                int64_t x_123836 = add64(n_p_114107, i_123830);
                int64_t i_123837 = sub64(x_123836, (int64_t) 1);
                bool x_123838 = sle64((int64_t) 0, i_123837);
                bool y_123839 = slt64(i_123837, C_len_114153);
                bool bounds_check_123840 = x_123838 && y_123839;
                bool index_certs_123841;
                
                if (!bounds_check_123840) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123837,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_114153, "].",
                                  "-> #0  stl.fut:39:29-42\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  stl.fut:45:3-36\n   #8  stl.fut:201:23-47\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float x_123842 = ((float *) mem_121357.mem)[gtid_116722 *
                                                            C_len_114153 +
                                                            i_123837];
                int64_t i_123843 = sub64(i_123830, (int64_t) 1);
                bool x_123844 = sle64((int64_t) 0, i_123843);
                bool y_123845 = slt64(i_123843, C_len_114153);
                bool bounds_check_123846 = x_123844 && y_123845;
                bool index_certs_123847;
                
                if (!bounds_check_123846) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123843,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_114153, "].",
                                  "-> #0  stl.fut:39:46-53\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  stl.fut:45:3-36\n   #8  stl.fut:201:23-47\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float y_123848 = ((float *) mem_121357.mem)[gtid_116722 *
                                                            C_len_114153 +
                                                            i_123843];
                float x_123849 = x_123842 - y_123848;
                float defunc_0_f_res_f_res_123850 = x_123849 / i64_res_114147;
                
                defunc_0_f_res_123834 = defunc_0_f_res_f_res_123850;
            }
            
            float defunc_1_op_res_123851 = defunc_0_f_res_123834 +
                  scanacc_123831;
            
            ((float *) mem_121366)[i_123830] = defunc_1_op_res_123851;
            
            float scanacc_tmp_123855 = defunc_1_op_res_123851;
            
            scanacc_123831 = scanacc_tmp_123855;
        }
        discard_120448 = scanacc_123831;
        memmove(mem_121382.mem + gtid_116722 * lifted_single_ma_l_arg_114512 *
                (int64_t) 4, mem_121366 + (int64_t) 0,
                lifted_single_ma_l_arg_114512 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121366);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129921_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129921_end -
                 futhark_mc_segmap_parloop_129921_start;
        
        ctx->futhark_mc_segmap_parloop_129921_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129921_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129921_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129919(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116721 = tid;
    int num_tasks_123828 = info.nsubtasks;
    struct futhark_mc_task_129918 *futhark_mc_task_129918 =
                                  (struct futhark_mc_task_129918 *) args;
    struct futhark_context *ctx = futhark_mc_task_129918->ctx;
    uint64_t futhark_mc_segmap_task_129919_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129919_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129918->free_m_114104;
    int64_t n_p_114107 = futhark_mc_task_129918->free_n_p_114107;
    float i64_res_114147 = futhark_mc_task_129918->free_i64_res_114147;
    int64_t C_len_114153 = futhark_mc_task_129918->free_C_len_114153;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_task_129918->free_lifted_single_ma_l_arg_114512;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_task_129918->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock mem_121360 = {.desc ="mem_121360", .mem =
                                  futhark_mc_task_129918->free_mem_121360,
                                  .size =0, .references =NULL};
    int64_t bytes_121361 = futhark_mc_task_129918->free_bytes_121361;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_task_129918->free_mem_121382,
                                  .size =0, .references =NULL};
    int64_t iter_123829;
    struct futhark_mc_segmap_parloop_struct_129920
    futhark_mc_segmap_parloop_struct_129920;
    
    futhark_mc_segmap_parloop_struct_129920.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129920.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129920.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129920.free_i64_res_114147 =
        i64_res_114147;
    futhark_mc_segmap_parloop_struct_129920.free_C_len_114153 = C_len_114153;
    futhark_mc_segmap_parloop_struct_129920.free_lifted_single_ma_l_arg_114512 =
        lifted_single_ma_l_arg_114512;
    futhark_mc_segmap_parloop_struct_129920.free_mem_121357 = mem_121357.mem;
    futhark_mc_segmap_parloop_struct_129920.free_mem_121360 = mem_121360.mem;
    futhark_mc_segmap_parloop_struct_129920.free_bytes_121361 = bytes_121361;
    futhark_mc_segmap_parloop_struct_129920.free_mem_121382 = mem_121382.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129921_task;
    
    futhark_mc_segmap_parloop_129921_task.name =
        "futhark_mc_segmap_parloop_129921";
    futhark_mc_segmap_parloop_129921_task.fn = futhark_mc_segmap_parloop_129921;
    futhark_mc_segmap_parloop_129921_task.args =
        &futhark_mc_segmap_parloop_struct_129920;
    futhark_mc_segmap_parloop_129921_task.iterations = iterations;
    futhark_mc_segmap_parloop_129921_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129921_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129921_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129921_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129921_task);
    
    if (futhark_mc_segmap_parloop_129921_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129921_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129921_total_end -
                 futhark_mc_segmap_parloop_129921_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129921_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129921_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129921_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129919_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129919_end -
                 futhark_mc_segmap_task_129919_start;
        
        ctx->futhark_mc_segmap_task_129919_runs[tid]++;
        ctx->futhark_mc_segmap_task_129919_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129919_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129924 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    float free_i64_res_114147;
    int64_t free_C_len_114153;
    int64_t free_lifted_single_ma_l_arg_114512;
    char *free_mem_121357;
    char *free_mem_121360;
    int64_t free_bytes_121361;
    char *free_mem_121382;
};
struct futhark_mc_task_129927 {
    struct futhark_context *ctx;
    int64_t free_n_p_114107;
    float free_i64_res_114147;
    int64_t free_C_len_114153;
    int64_t free_lifted_single_ma_l_arg_114512;
    int64_t free_gtid_116724;
    float free_x_116728;
    char *free_mem_121357;
    char *free_mem_121363;
};
struct futhark_mc_scan_stage_1_parloop_struct_129930 {
    struct futhark_context *ctx;
    int64_t free_n_p_114107;
    float free_i64_res_114147;
    int64_t free_C_len_114153;
    int64_t free_gtid_116724;
    float free_x_116728;
    char *free_mem_121357;
    char *free_mem_121363;
};
static int futhark_mc_scan_stage_1_parloop_129931(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_116725, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_1_parloop_struct_129930
    *futhark_mc_scan_stage_1_parloop_struct_129930 =
    (struct futhark_mc_scan_stage_1_parloop_struct_129930 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_1_parloop_struct_129930->ctx;
    uint64_t futhark_mc_scan_stage_1_parloop_129931_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_129931_start = get_wall_time();
    
    int64_t n_p_114107 =
            futhark_mc_scan_stage_1_parloop_struct_129930->free_n_p_114107;
    float i64_res_114147 =
          futhark_mc_scan_stage_1_parloop_struct_129930->free_i64_res_114147;
    int64_t C_len_114153 =
            futhark_mc_scan_stage_1_parloop_struct_129930->free_C_len_114153;
    int64_t gtid_116724 =
            futhark_mc_scan_stage_1_parloop_struct_129930->free_gtid_116724;
    float x_116728 =
          futhark_mc_scan_stage_1_parloop_struct_129930->free_x_116728;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_129930->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock mem_121363 = {.desc ="mem_121363", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_129930->free_mem_121363,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123882 = start;
    float x_123858;
    float x_123859;
    
    x_123858 = 0.0F;
    for (; iter_123882 < end; iter_123882++) {
        int64_t gtid_116726 = iter_123882;
        
        // stage 1 scan body
        {
            bool cond_123861 = gtid_116726 == (int64_t) 0;
            float defunc_0_f_res_123862;
            
            if (cond_123861) {
                float defunc_0_f_res_t_res_123863 = x_116728 / i64_res_114147;
                
                defunc_0_f_res_123862 = defunc_0_f_res_t_res_123863;
            } else {
                int64_t x_123864 = add64(n_p_114107, gtid_116726);
                int64_t i_123865 = sub64(x_123864, (int64_t) 1);
                bool x_123866 = sle64((int64_t) 0, i_123865);
                bool y_123867 = slt64(i_123865, C_len_114153);
                bool bounds_check_123868 = x_123866 && y_123867;
                bool index_certs_123869;
                
                if (!bounds_check_123868) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123865,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_114153, "].",
                                  "-> #0  stl.fut:39:29-42\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  stl.fut:45:3-36\n   #8  stl.fut:201:23-47\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float x_123870 = ((float *) mem_121357.mem)[gtid_116724 *
                                                            C_len_114153 +
                                                            i_123865];
                int64_t i_123871 = sub64(gtid_116726, (int64_t) 1);
                bool x_123872 = sle64((int64_t) 0, i_123871);
                bool y_123873 = slt64(i_123871, C_len_114153);
                bool bounds_check_123874 = x_123872 && y_123873;
                bool index_certs_123875;
                
                if (!bounds_check_123874) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123871,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_114153, "].",
                                  "-> #0  stl.fut:39:46-53\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  stl.fut:45:3-36\n   #8  stl.fut:201:23-47\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float y_123876 = ((float *) mem_121357.mem)[gtid_116724 *
                                                            C_len_114153 +
                                                            i_123871];
                float x_123877 = x_123870 - y_123876;
                float defunc_0_f_res_f_res_123878 = x_123877 / i64_res_114147;
                
                defunc_0_f_res_123862 = defunc_0_f_res_f_res_123878;
            }
            // write mapped values results to memory
            { }
            x_123858 = x_123858;
            // Read next values
            {
                x_123859 = defunc_0_f_res_123862;
            }
            
            float defunc_1_op_res_123860 = x_123858 + x_123859;
            
            ((float *) mem_121363.mem)[gtid_116726] = defunc_1_op_res_123860;
            x_123858 = defunc_1_op_res_123860;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_129931_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_129931_end -
                 futhark_mc_scan_stage_1_parloop_129931_start;
        
        ctx->futhark_mc_scan_stage_1_parloop_129931_runs[tid]++;
        ctx->futhark_mc_scan_stage_1_parloop_129931_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_1_parloop_129931_iter[tid] += iterations;
    }
    return err;
}
struct futhark_mc_scan_stage_3_parloop_struct_129932 {
    struct futhark_context *ctx;
    int64_t free_n_p_114107;
    float free_i64_res_114147;
    int64_t free_C_len_114153;
    int64_t free_gtid_116724;
    float free_x_116728;
    char *free_mem_121357;
    char *free_mem_121363;
};
static int futhark_mc_scan_stage_3_parloop_129933(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_116725, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_3_parloop_struct_129932
    *futhark_mc_scan_stage_3_parloop_struct_129932 =
    (struct futhark_mc_scan_stage_3_parloop_struct_129932 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_3_parloop_struct_129932->ctx;
    uint64_t futhark_mc_scan_stage_3_parloop_129933_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_3_parloop_129933_start = get_wall_time();
    
    int64_t n_p_114107 =
            futhark_mc_scan_stage_3_parloop_struct_129932->free_n_p_114107;
    float i64_res_114147 =
          futhark_mc_scan_stage_3_parloop_struct_129932->free_i64_res_114147;
    int64_t C_len_114153 =
            futhark_mc_scan_stage_3_parloop_struct_129932->free_C_len_114153;
    int64_t gtid_116724 =
            futhark_mc_scan_stage_3_parloop_struct_129932->free_gtid_116724;
    float x_116728 =
          futhark_mc_scan_stage_3_parloop_struct_129932->free_x_116728;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_129932->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock mem_121363 = {.desc ="mem_121363", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_129932->free_mem_121363,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123894 = start;
    float x_123891;
    float x_123892;
    
    if (iter_123894 == (int64_t) 0) {
        x_123891 = 0.0F;
    } else {
        x_123891 = ((float *) mem_121363.mem)[iter_123894 - (int64_t) 1];
    }
    for (; iter_123894 < end; iter_123894++) {
        int64_t gtid_116726 = iter_123894;
        
        // stage 3 scan body
        {
            bool cond_123861 = gtid_116726 == (int64_t) 0;
            float defunc_0_f_res_123862;
            
            if (cond_123861) {
                float defunc_0_f_res_t_res_123863 = x_116728 / i64_res_114147;
                
                defunc_0_f_res_123862 = defunc_0_f_res_t_res_123863;
            } else {
                int64_t x_123864 = add64(n_p_114107, gtid_116726);
                int64_t i_123865 = sub64(x_123864, (int64_t) 1);
                bool x_123866 = sle64((int64_t) 0, i_123865);
                bool y_123867 = slt64(i_123865, C_len_114153);
                bool bounds_check_123868 = x_123866 && y_123867;
                bool index_certs_123869;
                
                if (!bounds_check_123868) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123865,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_114153, "].",
                                  "-> #0  stl.fut:39:29-42\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  stl.fut:45:3-36\n   #8  stl.fut:201:23-47\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float x_123870 = ((float *) mem_121357.mem)[gtid_116724 *
                                                            C_len_114153 +
                                                            i_123865];
                int64_t i_123871 = sub64(gtid_116726, (int64_t) 1);
                bool x_123872 = sle64((int64_t) 0, i_123871);
                bool y_123873 = slt64(i_123871, C_len_114153);
                bool bounds_check_123874 = x_123872 && y_123873;
                bool index_certs_123875;
                
                if (!bounds_check_123874) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123871,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_114153, "].",
                                  "-> #0  stl.fut:39:46-53\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  stl.fut:45:3-36\n   #8  stl.fut:201:23-47\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float y_123876 = ((float *) mem_121357.mem)[gtid_116724 *
                                                            C_len_114153 +
                                                            i_123871];
                float x_123877 = x_123870 - y_123876;
                float defunc_0_f_res_f_res_123878 = x_123877 / i64_res_114147;
                
                defunc_0_f_res_123862 = defunc_0_f_res_f_res_123878;
            }
            x_123891 = x_123891;
            x_123892 = defunc_0_f_res_123862;
            
            float defunc_1_op_res_123893 = x_123891 + x_123892;
            
            ((float *) mem_121363.mem)[gtid_116726] = defunc_1_op_res_123893;
            x_123891 = defunc_1_op_res_123893;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_3_parloop_129933_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_3_parloop_129933_end -
                 futhark_mc_scan_stage_3_parloop_129933_start;
        
        ctx->futhark_mc_scan_stage_3_parloop_129933_runs[tid]++;
        ctx->futhark_mc_scan_stage_3_parloop_129933_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_3_parloop_129933_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segscan_task_129928(void *args, int64_t iterations, int tid,
                                   struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116725 = tid;
    int num_tasks_123881 = info.nsubtasks;
    struct futhark_mc_task_129927 *futhark_mc_task_129927 =
                                  (struct futhark_mc_task_129927 *) args;
    struct futhark_context *ctx = futhark_mc_task_129927->ctx;
    uint64_t futhark_mc_segscan_task_129928_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segscan_task_129928_start = get_wall_time();
    
    int64_t n_p_114107 = futhark_mc_task_129927->free_n_p_114107;
    float i64_res_114147 = futhark_mc_task_129927->free_i64_res_114147;
    int64_t C_len_114153 = futhark_mc_task_129927->free_C_len_114153;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_task_129927->free_lifted_single_ma_l_arg_114512;
    int64_t gtid_116724 = futhark_mc_task_129927->free_gtid_116724;
    float x_116728 = futhark_mc_task_129927->free_x_116728;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_task_129927->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock mem_121363 = {.desc ="mem_121363", .mem =
                                  futhark_mc_task_129927->free_mem_121363,
                                  .size =0, .references =NULL};
    size_t scan_stage_2_accum_mem_123888_cached_sizze_129929 = 0;
    char *scan_stage_2_accum_mem_123888 = NULL;
    int64_t iter_123882;
    struct futhark_mc_scan_stage_1_parloop_struct_129930
    futhark_mc_scan_stage_1_parloop_struct_129930;
    
    futhark_mc_scan_stage_1_parloop_struct_129930.ctx = ctx;
    futhark_mc_scan_stage_1_parloop_struct_129930.free_n_p_114107 = n_p_114107;
    futhark_mc_scan_stage_1_parloop_struct_129930.free_i64_res_114147 =
        i64_res_114147;
    futhark_mc_scan_stage_1_parloop_struct_129930.free_C_len_114153 =
        C_len_114153;
    futhark_mc_scan_stage_1_parloop_struct_129930.free_gtid_116724 =
        gtid_116724;
    futhark_mc_scan_stage_1_parloop_struct_129930.free_x_116728 = x_116728;
    futhark_mc_scan_stage_1_parloop_struct_129930.free_mem_121357 =
        mem_121357.mem;
    futhark_mc_scan_stage_1_parloop_struct_129930.free_mem_121363 =
        mem_121363.mem;
    
    struct scheduler_parloop futhark_mc_scan_stage_1_parloop_129931_task;
    
    futhark_mc_scan_stage_1_parloop_129931_task.name =
        "futhark_mc_scan_stage_1_parloop_129931";
    futhark_mc_scan_stage_1_parloop_129931_task.fn =
        futhark_mc_scan_stage_1_parloop_129931;
    futhark_mc_scan_stage_1_parloop_129931_task.args =
        &futhark_mc_scan_stage_1_parloop_struct_129930;
    futhark_mc_scan_stage_1_parloop_129931_task.iterations = iterations;
    futhark_mc_scan_stage_1_parloop_129931_task.info = info;
    
    uint64_t futhark_mc_scan_stage_1_parloop_129931_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_129931_total_start = get_wall_time();
    
    int futhark_mc_scan_stage_1_parloop_129931_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_scan_stage_1_parloop_129931_task);
    
    if (futhark_mc_scan_stage_1_parloop_129931_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_129931_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_129931_total_end -
                 futhark_mc_scan_stage_1_parloop_129931_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_129931_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_129931_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_129931_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (slt32(1, num_tasks_123881)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmentedScan stage 2");
        
        float x_123883;
        float x_123884;
        int64_t offset_123886 = (int64_t) 0;
        int64_t offset_index_123887 = (int64_t) 0;
        
        if (scan_stage_2_accum_mem_123888_cached_sizze_129929 <
            (size_t) (int64_t) 4) {
            scan_stage_2_accum_mem_123888 =
                realloc(scan_stage_2_accum_mem_123888, (int64_t) 4);
            scan_stage_2_accum_mem_123888_cached_sizze_129929 = (int64_t) 4;
        }
        ((float *) scan_stage_2_accum_mem_123888)[(int64_t) 0] = 0.0F;
        for (int32_t i_123890 = 0; i_123890 < num_tasks_123881 - 1;
             i_123890++) {
            offset_123886 = squot64(lifted_single_ma_l_arg_114512,
                                    sext_i32_i64(num_tasks_123881));
            if (slt64(sext_i32_i64(i_123890),
                      srem64(lifted_single_ma_l_arg_114512,
                             sext_i32_i64(num_tasks_123881)))) {
                offset_123886 += (int64_t) 1;
            }
            offset_index_123887 += offset_123886;
            
            int64_t gtid_116726 = offset_index_123887;
            bool cond_123861 = gtid_116726 == (int64_t) 0;
            float defunc_0_f_res_123862;
            
            if (cond_123861) {
                float defunc_0_f_res_t_res_123863 = x_116728 / i64_res_114147;
                
                defunc_0_f_res_123862 = defunc_0_f_res_t_res_123863;
            } else {
                int64_t x_123864 = add64(n_p_114107, gtid_116726);
                int64_t i_123865 = sub64(x_123864, (int64_t) 1);
                bool x_123866 = sle64((int64_t) 0, i_123865);
                bool y_123867 = slt64(i_123865, C_len_114153);
                bool bounds_check_123868 = x_123866 && y_123867;
                bool index_certs_123869;
                
                if (!bounds_check_123868) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123865,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_114153, "].",
                                  "-> #0  stl.fut:39:29-42\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  stl.fut:45:3-36\n   #8  stl.fut:201:23-47\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float x_123870 = ((float *) mem_121357.mem)[gtid_116724 *
                                                            C_len_114153 +
                                                            i_123865];
                int64_t i_123871 = sub64(gtid_116726, (int64_t) 1);
                bool x_123872 = sle64((int64_t) 0, i_123871);
                bool y_123873 = slt64(i_123871, C_len_114153);
                bool bounds_check_123874 = x_123872 && y_123873;
                bool index_certs_123875;
                
                if (!bounds_check_123874) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123871,
                                  "] out of bounds for array of shape [",
                                  (long long) C_len_114153, "].",
                                  "-> #0  stl.fut:39:46-53\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  stl.fut:45:3-36\n   #8  stl.fut:201:23-47\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float y_123876 = ((float *) mem_121357.mem)[gtid_116724 *
                                                            C_len_114153 +
                                                            i_123871];
                float x_123877 = x_123870 - y_123876;
                float defunc_0_f_res_f_res_123878 = x_123877 / i64_res_114147;
                
                defunc_0_f_res_123862 = defunc_0_f_res_f_res_123878;
            }
            // Read carry in
            {
                x_123883 =
                    ((float *) scan_stage_2_accum_mem_123888)[(int64_t) 0];
            }
            // Read next values
            {
                x_123884 = ((float *) mem_121363.mem)[offset_index_123887 -
                                                      (int64_t) 1];
            }
            
            float defunc_1_op_res_123885 = x_123883 + x_123884;
            
            ((float *) mem_121363.mem)[offset_index_123887 - (int64_t) 1] =
                defunc_1_op_res_123885;
            ((float *) scan_stage_2_accum_mem_123888)[(int64_t) 0] =
                defunc_1_op_res_123885;
        }
        
        int64_t iter_123894 = (int64_t) 0;
        struct futhark_mc_scan_stage_3_parloop_struct_129932
        futhark_mc_scan_stage_3_parloop_struct_129932;
        
        futhark_mc_scan_stage_3_parloop_struct_129932.ctx = ctx;
        futhark_mc_scan_stage_3_parloop_struct_129932.free_n_p_114107 =
            n_p_114107;
        futhark_mc_scan_stage_3_parloop_struct_129932.free_i64_res_114147 =
            i64_res_114147;
        futhark_mc_scan_stage_3_parloop_struct_129932.free_C_len_114153 =
            C_len_114153;
        futhark_mc_scan_stage_3_parloop_struct_129932.free_gtid_116724 =
            gtid_116724;
        futhark_mc_scan_stage_3_parloop_struct_129932.free_x_116728 = x_116728;
        futhark_mc_scan_stage_3_parloop_struct_129932.free_mem_121357 =
            mem_121357.mem;
        futhark_mc_scan_stage_3_parloop_struct_129932.free_mem_121363 =
            mem_121363.mem;
        
        struct scheduler_parloop futhark_mc_scan_stage_3_parloop_129933_task;
        
        futhark_mc_scan_stage_3_parloop_129933_task.name =
            "futhark_mc_scan_stage_3_parloop_129933";
        futhark_mc_scan_stage_3_parloop_129933_task.fn =
            futhark_mc_scan_stage_3_parloop_129933;
        futhark_mc_scan_stage_3_parloop_129933_task.args =
            &futhark_mc_scan_stage_3_parloop_struct_129932;
        futhark_mc_scan_stage_3_parloop_129933_task.iterations = iterations;
        futhark_mc_scan_stage_3_parloop_129933_task.info = info;
        
        uint64_t futhark_mc_scan_stage_3_parloop_129933_total_start = 0;
        
        if (ctx->profiling && !ctx->profiling_paused)
            futhark_mc_scan_stage_3_parloop_129933_total_start =
                get_wall_time();
        
        int futhark_mc_scan_stage_3_parloop_129933_err =
            scheduler_execute_task(&ctx->scheduler,
                                   &futhark_mc_scan_stage_3_parloop_129933_task);
        
        if (futhark_mc_scan_stage_3_parloop_129933_err != 0) {
            err = 1;
            goto cleanup;
        }
        if (ctx->profiling && !ctx->profiling_paused) {
            uint64_t futhark_mc_scan_stage_3_parloop_129933_total_end =
                     get_wall_time();
            uint64_t elapsed =
                     futhark_mc_scan_stage_3_parloop_129933_total_end -
                     futhark_mc_scan_stage_3_parloop_129933_total_start;
            
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_129933_total_runs,
                               1, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_129933_total_total_runtime,
                               elapsed, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_129933_total_iter,
                               iterations, __ATOMIC_RELAXED);
        }
    }
    free(scan_stage_2_accum_mem_123888);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segscan_task_129928_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segscan_task_129928_end -
                 futhark_mc_segscan_task_129928_start;
        
        ctx->futhark_mc_segscan_task_129928_runs[tid]++;
        ctx->futhark_mc_segscan_task_129928_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segscan_task_129928_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129925(void *args, int64_t start,
                                            int64_t end, int flat_tid_116723,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129924
    *futhark_mc_segmap_parloop_struct_129924 =
    (struct futhark_mc_segmap_parloop_struct_129924 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129924->ctx;
    uint64_t futhark_mc_segmap_parloop_129925_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129925_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129924->free_m_114104;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129924->free_n_p_114107;
    float i64_res_114147 =
          futhark_mc_segmap_parloop_struct_129924->free_i64_res_114147;
    int64_t C_len_114153 =
            futhark_mc_segmap_parloop_struct_129924->free_C_len_114153;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_segmap_parloop_struct_129924->free_lifted_single_ma_l_arg_114512;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_segmap_parloop_struct_129924->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock mem_121360 = {.desc ="mem_121360", .mem =
                                  futhark_mc_segmap_parloop_struct_129924->free_mem_121360,
                                  .size =0, .references =NULL};
    int64_t bytes_121361 =
            futhark_mc_segmap_parloop_struct_129924->free_bytes_121361;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_segmap_parloop_struct_129924->free_mem_121382,
                                  .size =0, .references =NULL};
    size_t mem_121363_cached_sizze_129926 = 0;
    char *mem_121363 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123857 = start;
    
    if (mem_121363_cached_sizze_129926 < (size_t) bytes_121361) {
        mem_121363 = realloc(mem_121363, bytes_121361);
        mem_121363_cached_sizze_129926 = bytes_121361;
    }
    for (; iter_123857 < end; iter_123857++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123879 = m_114104;
        int64_t gtid_116724 = iter_123857;
        int64_t remnant_123880 = iter_123857 - gtid_116724;
        float x_116728 = ((float *) mem_121360.mem)[gtid_116724];
        int64_t flat_tid_116725 = (int64_t) 0;
        int32_t num_tasks_123881;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmented segScan");
        
        struct futhark_mc_task_129927 futhark_mc_task_129927;
        
        futhark_mc_task_129927.ctx = ctx;
        futhark_mc_task_129927.free_n_p_114107 = n_p_114107;
        futhark_mc_task_129927.free_i64_res_114147 = i64_res_114147;
        futhark_mc_task_129927.free_C_len_114153 = C_len_114153;
        futhark_mc_task_129927.free_lifted_single_ma_l_arg_114512 =
            lifted_single_ma_l_arg_114512;
        futhark_mc_task_129927.free_gtid_116724 = gtid_116724;
        futhark_mc_task_129927.free_x_116728 = x_116728;
        futhark_mc_task_129927.free_mem_121357 = mem_121357.mem;
        futhark_mc_task_129927.free_mem_121363 = mem_121363;
        
        struct scheduler_segop futhark_mc_task_129927_task;
        
        futhark_mc_task_129927_task.args = &futhark_mc_task_129927;
        futhark_mc_task_129927_task.top_level_fn =
            futhark_mc_segscan_task_129928;
        futhark_mc_task_129927_task.name = "futhark_mc_segscan_task_129928";
        futhark_mc_task_129927_task.iterations = lifted_single_ma_l_arg_114512;
        futhark_mc_task_129927_task.task_time =
            &ctx->futhark_mc_segscan_task_129928_total_time;
        futhark_mc_task_129927_task.task_iter =
            &ctx->futhark_mc_segscan_task_129928_total_iter;
        futhark_mc_task_129927_task.sched = STATIC;
        futhark_mc_task_129927_task.nested_fn = NULL;
        
        int futhark_mc_segscan_task_129928_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129927_task);
        
        if (futhark_mc_segscan_task_129928_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121382.mem + gtid_116724 * lifted_single_ma_l_arg_114512 *
                (int64_t) 4, mem_121363 + (int64_t) 0,
                lifted_single_ma_l_arg_114512 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121363);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129925_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129925_end -
                 futhark_mc_segmap_parloop_129925_start;
        
        ctx->futhark_mc_segmap_parloop_129925_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129925_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129925_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129923(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116723 = tid;
    int num_tasks_123828 = info.nsubtasks;
    struct futhark_mc_task_129918 *futhark_mc_task_129918 =
                                  (struct futhark_mc_task_129918 *) args;
    struct futhark_context *ctx = futhark_mc_task_129918->ctx;
    uint64_t futhark_mc_segmap_nested_task_129923_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129923_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129918->free_m_114104;
    int64_t n_p_114107 = futhark_mc_task_129918->free_n_p_114107;
    float i64_res_114147 = futhark_mc_task_129918->free_i64_res_114147;
    int64_t C_len_114153 = futhark_mc_task_129918->free_C_len_114153;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_task_129918->free_lifted_single_ma_l_arg_114512;
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_task_129918->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock mem_121360 = {.desc ="mem_121360", .mem =
                                  futhark_mc_task_129918->free_mem_121360,
                                  .size =0, .references =NULL};
    int64_t bytes_121361 = futhark_mc_task_129918->free_bytes_121361;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_task_129918->free_mem_121382,
                                  .size =0, .references =NULL};
    int64_t iter_123857;
    struct futhark_mc_segmap_parloop_struct_129924
    futhark_mc_segmap_parloop_struct_129924;
    
    futhark_mc_segmap_parloop_struct_129924.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129924.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129924.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129924.free_i64_res_114147 =
        i64_res_114147;
    futhark_mc_segmap_parloop_struct_129924.free_C_len_114153 = C_len_114153;
    futhark_mc_segmap_parloop_struct_129924.free_lifted_single_ma_l_arg_114512 =
        lifted_single_ma_l_arg_114512;
    futhark_mc_segmap_parloop_struct_129924.free_mem_121357 = mem_121357.mem;
    futhark_mc_segmap_parloop_struct_129924.free_mem_121360 = mem_121360.mem;
    futhark_mc_segmap_parloop_struct_129924.free_bytes_121361 = bytes_121361;
    futhark_mc_segmap_parloop_struct_129924.free_mem_121382 = mem_121382.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129925_task;
    
    futhark_mc_segmap_parloop_129925_task.name =
        "futhark_mc_segmap_parloop_129925";
    futhark_mc_segmap_parloop_129925_task.fn = futhark_mc_segmap_parloop_129925;
    futhark_mc_segmap_parloop_129925_task.args =
        &futhark_mc_segmap_parloop_struct_129924;
    futhark_mc_segmap_parloop_129925_task.iterations = iterations;
    futhark_mc_segmap_parloop_129925_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129925_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129925_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129925_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129925_task);
    
    if (futhark_mc_segmap_parloop_129925_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129925_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129925_total_end -
                 futhark_mc_segmap_parloop_129925_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129925_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129925_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129925_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129923_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129923_end -
                 futhark_mc_segmap_nested_task_129923_start;
        
        ctx->futhark_mc_segmap_nested_task_129923_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129923_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129923_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129934 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    int64_t free_lifted_single_ma_l_arg_114512;
    char *free_mem_121382;
    char *free_mem_121385;
};
struct futhark_mc_segmap_parloop_struct_129936 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    int64_t free_lifted_single_ma_l_arg_114512;
    char *free_mem_121382;
    char *free_mem_121385;
};
static int futhark_mc_segmap_parloop_129937(void *args, int64_t start,
                                            int64_t end, int flat_tid_116752,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129936
    *futhark_mc_segmap_parloop_struct_129936 =
    (struct futhark_mc_segmap_parloop_struct_129936 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129936->ctx;
    uint64_t futhark_mc_segmap_parloop_129937_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129937_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129936->free_m_114104;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129936->free_n_p_114107;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_segmap_parloop_struct_129936->free_lifted_single_ma_l_arg_114512;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_segmap_parloop_struct_129936->free_mem_121382,
                                  .size =0, .references =NULL};
    struct memblock mem_121385 = {.desc ="mem_121385", .mem =
                                  futhark_mc_segmap_parloop_struct_129936->free_mem_121385,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123896 = start;
    
    for (; iter_123896 < end; iter_123896++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123901 = m_114104;
        int64_t gtid_116753 = iter_123896;
        int64_t remnant_123902 = iter_123896 - gtid_116753;
        float defunc_2_reduce_res_114647;
        float redout_123898 = 0.0F;
        
        for (int64_t i_123897 = 0; i_123897 < n_p_114107; i_123897++) {
            float x_123899 = ((float *) mem_121382.mem)[gtid_116753 *
                                                        lifted_single_ma_l_arg_114512 +
                                                        i_123897];
            float defunc_1_op_res_123900 = x_123899 + redout_123898;
            float redout_tmp_123903 = defunc_1_op_res_123900;
            
            redout_123898 = redout_tmp_123903;
        }
        defunc_2_reduce_res_114647 = redout_123898;
        ((float *) mem_121385.mem)[gtid_116753] = defunc_2_reduce_res_114647;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129937_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129937_end -
                 futhark_mc_segmap_parloop_129937_start;
        
        ctx->futhark_mc_segmap_parloop_129937_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129937_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129937_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129935(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116752 = tid;
    int num_tasks_123895 = info.nsubtasks;
    struct futhark_mc_task_129934 *futhark_mc_task_129934 =
                                  (struct futhark_mc_task_129934 *) args;
    struct futhark_context *ctx = futhark_mc_task_129934->ctx;
    uint64_t futhark_mc_segmap_task_129935_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129935_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129934->free_m_114104;
    int64_t n_p_114107 = futhark_mc_task_129934->free_n_p_114107;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_task_129934->free_lifted_single_ma_l_arg_114512;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_task_129934->free_mem_121382,
                                  .size =0, .references =NULL};
    struct memblock mem_121385 = {.desc ="mem_121385", .mem =
                                  futhark_mc_task_129934->free_mem_121385,
                                  .size =0, .references =NULL};
    int64_t iter_123896;
    struct futhark_mc_segmap_parloop_struct_129936
    futhark_mc_segmap_parloop_struct_129936;
    
    futhark_mc_segmap_parloop_struct_129936.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129936.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129936.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129936.free_lifted_single_ma_l_arg_114512 =
        lifted_single_ma_l_arg_114512;
    futhark_mc_segmap_parloop_struct_129936.free_mem_121382 = mem_121382.mem;
    futhark_mc_segmap_parloop_struct_129936.free_mem_121385 = mem_121385.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129937_task;
    
    futhark_mc_segmap_parloop_129937_task.name =
        "futhark_mc_segmap_parloop_129937";
    futhark_mc_segmap_parloop_129937_task.fn = futhark_mc_segmap_parloop_129937;
    futhark_mc_segmap_parloop_129937_task.args =
        &futhark_mc_segmap_parloop_struct_129936;
    futhark_mc_segmap_parloop_129937_task.iterations = iterations;
    futhark_mc_segmap_parloop_129937_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129937_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129937_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129937_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129937_task);
    
    if (futhark_mc_segmap_parloop_129937_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129937_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129937_total_end -
                 futhark_mc_segmap_parloop_129937_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129937_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129937_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129937_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129935_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129935_end -
                 futhark_mc_segmap_task_129935_start;
        
        ctx->futhark_mc_segmap_task_129935_runs[tid]++;
        ctx->futhark_mc_segmap_task_129935_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129935_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129939 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    int64_t free_lifted_single_ma_l_arg_114512;
    char *free_mem_121382;
    char *free_mem_121385;
};
struct futhark_mc_task_129941 {
    struct futhark_context *ctx;
    int64_t free_lifted_single_ma_l_arg_114512;
    int64_t free_gtid_116755;
    char *free_mem_121382;
    float *retval_defunc_2_reduce_res_116759;
};
struct futhark_mc_segred_stage_1_parloop_struct_129944 {
    struct futhark_context *ctx;
    int64_t free_lifted_single_ma_l_arg_114512;
    int64_t free_gtid_116755;
    char *free_mem_121382;
    char *free_reduce_stage_1_tid_res_arr_mem_123912;
};
static int futhark_mc_segred_stage_1_parloop_129945(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_116756,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_129944
    *futhark_mc_segred_stage_1_parloop_struct_129944 =
    (struct futhark_mc_segred_stage_1_parloop_struct_129944 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_129944->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_129945_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_129945_start = get_wall_time();
    
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_segred_stage_1_parloop_struct_129944->free_lifted_single_ma_l_arg_114512;
    int64_t gtid_116755 =
            futhark_mc_segred_stage_1_parloop_struct_129944->free_gtid_116755;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_129944->free_mem_121382,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_123912 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_123912",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_129944->free_reduce_stage_1_tid_res_arr_mem_123912,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123914 = start;
    float x_123905;
    float x_123906;
    float local_acc_123915 = 0.0F;
    
    for (; iter_123914 < end; iter_123914++) {
        int64_t gtid_116757 = iter_123914;
        float x_123908 = ((float *) mem_121382.mem)[gtid_116755 *
                                                    lifted_single_ma_l_arg_114512 +
                                                    gtid_116757];
        
        // save map-out results
        { }
        // Load accum params
        {
            x_123905 = local_acc_123915;
        }
        // Load next params
        {
            x_123906 = x_123908;
        }
        // Red body
        {
            float defunc_1_op_res_123907 = x_123905 + x_123906;
            
            local_acc_123915 = defunc_1_op_res_123907;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_123912.mem)[flat_tid_116756] =
        local_acc_123915;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_129945_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_129945_end -
                 futhark_mc_segred_stage_1_parloop_129945_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_129945_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_129945_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_129945_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_129942(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116756 = tid;
    int num_tasks_123911 = info.nsubtasks;
    struct futhark_mc_task_129941 *futhark_mc_task_129941 =
                                  (struct futhark_mc_task_129941 *) args;
    struct futhark_context *ctx = futhark_mc_task_129941->ctx;
    uint64_t futhark_mc_segred_task_129942_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_129942_start = get_wall_time();
    
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_task_129941->free_lifted_single_ma_l_arg_114512;
    int64_t gtid_116755 = futhark_mc_task_129941->free_gtid_116755;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_task_129941->free_mem_121382,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_116759 =
          *futhark_mc_task_129941->retval_defunc_2_reduce_res_116759;
    size_t reduce_stage_1_tid_res_arr_mem_123912_cached_sizze_129943 = 0;
    char *reduce_stage_1_tid_res_arr_mem_123912 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_123912_cached_sizze_129943 <
        (size_t) ((int64_t) 4 * num_tasks_123911)) {
        reduce_stage_1_tid_res_arr_mem_123912 =
            realloc(reduce_stage_1_tid_res_arr_mem_123912, (int64_t) 4 *
                    num_tasks_123911);
        reduce_stage_1_tid_res_arr_mem_123912_cached_sizze_129943 =
            (int64_t) 4 * num_tasks_123911;
    }
    
    int64_t iter_123914;
    struct futhark_mc_segred_stage_1_parloop_struct_129944
    futhark_mc_segred_stage_1_parloop_struct_129944;
    
    futhark_mc_segred_stage_1_parloop_struct_129944.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_129944.free_lifted_single_ma_l_arg_114512 =
        lifted_single_ma_l_arg_114512;
    futhark_mc_segred_stage_1_parloop_struct_129944.free_gtid_116755 =
        gtid_116755;
    futhark_mc_segred_stage_1_parloop_struct_129944.free_mem_121382 =
        mem_121382.mem;
    futhark_mc_segred_stage_1_parloop_struct_129944.free_reduce_stage_1_tid_res_arr_mem_123912 =
        reduce_stage_1_tid_res_arr_mem_123912;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_129945_task;
    
    futhark_mc_segred_stage_1_parloop_129945_task.name =
        "futhark_mc_segred_stage_1_parloop_129945";
    futhark_mc_segred_stage_1_parloop_129945_task.fn =
        futhark_mc_segred_stage_1_parloop_129945;
    futhark_mc_segred_stage_1_parloop_129945_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_129944;
    futhark_mc_segred_stage_1_parloop_129945_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_129945_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_129945_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_129945_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_129945_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_129945_task);
    
    if (futhark_mc_segred_stage_1_parloop_129945_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_129945_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_129945_total_end -
                 futhark_mc_segred_stage_1_parloop_129945_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129945_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129945_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129945_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_116759 = 0.0F;
    }
    
    float x_123916;
    float x_123917;
    
    for (int32_t i_123919 = 0; i_123919 < num_tasks_123911; i_123919++) {
        flat_tid_116756 = i_123919;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_123916 = defunc_2_reduce_res_116759;
            }
            // load next params
            {
                x_123917 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_123912)[flat_tid_116756];
            }
            // red body
            {
                float defunc_1_op_res_123918 = x_123916 + x_123917;
                
                defunc_2_reduce_res_116759 = defunc_1_op_res_123918;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_123912);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_129942_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_129942_end -
                 futhark_mc_segred_task_129942_start;
        
        ctx->futhark_mc_segred_task_129942_runs[tid]++;
        ctx->futhark_mc_segred_task_129942_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_129942_iter[tid] += iterations;
    }
    *futhark_mc_task_129941->retval_defunc_2_reduce_res_116759 =
        defunc_2_reduce_res_116759;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129940(void *args, int64_t start,
                                            int64_t end, int flat_tid_116754,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129939
    *futhark_mc_segmap_parloop_struct_129939 =
    (struct futhark_mc_segmap_parloop_struct_129939 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129939->ctx;
    uint64_t futhark_mc_segmap_parloop_129940_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129940_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129939->free_m_114104;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129939->free_n_p_114107;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_segmap_parloop_struct_129939->free_lifted_single_ma_l_arg_114512;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_segmap_parloop_struct_129939->free_mem_121382,
                                  .size =0, .references =NULL};
    struct memblock mem_121385 = {.desc ="mem_121385", .mem =
                                  futhark_mc_segmap_parloop_struct_129939->free_mem_121385,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123904 = start;
    
    for (; iter_123904 < end; iter_123904++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123909 = m_114104;
        int64_t gtid_116755 = iter_123904;
        int64_t remnant_123910 = iter_123904 - gtid_116755;
        float defunc_2_reduce_res_116759;
        int64_t flat_tid_116756 = (int64_t) 0;
        int32_t num_tasks_123911;
        struct futhark_mc_task_129941 futhark_mc_task_129941;
        
        futhark_mc_task_129941.ctx = ctx;
        futhark_mc_task_129941.free_lifted_single_ma_l_arg_114512 =
            lifted_single_ma_l_arg_114512;
        futhark_mc_task_129941.free_gtid_116755 = gtid_116755;
        futhark_mc_task_129941.free_mem_121382 = mem_121382.mem;
        futhark_mc_task_129941.retval_defunc_2_reduce_res_116759 =
            &defunc_2_reduce_res_116759;
        
        struct scheduler_segop futhark_mc_task_129941_task;
        
        futhark_mc_task_129941_task.args = &futhark_mc_task_129941;
        futhark_mc_task_129941_task.top_level_fn =
            futhark_mc_segred_task_129942;
        futhark_mc_task_129941_task.name = "futhark_mc_segred_task_129942";
        futhark_mc_task_129941_task.iterations = n_p_114107;
        futhark_mc_task_129941_task.task_time =
            &ctx->futhark_mc_segred_task_129942_total_time;
        futhark_mc_task_129941_task.task_iter =
            &ctx->futhark_mc_segred_task_129942_total_iter;
        futhark_mc_task_129941_task.sched = STATIC;
        futhark_mc_task_129941_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_129942_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129941_task);
        
        if (futhark_mc_segred_task_129942_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_121385.mem)[gtid_116755] = defunc_2_reduce_res_116759;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129940_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129940_end -
                 futhark_mc_segmap_parloop_129940_start;
        
        ctx->futhark_mc_segmap_parloop_129940_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129940_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129940_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129938(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116754 = tid;
    int num_tasks_123895 = info.nsubtasks;
    struct futhark_mc_task_129934 *futhark_mc_task_129934 =
                                  (struct futhark_mc_task_129934 *) args;
    struct futhark_context *ctx = futhark_mc_task_129934->ctx;
    uint64_t futhark_mc_segmap_nested_task_129938_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129938_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129934->free_m_114104;
    int64_t n_p_114107 = futhark_mc_task_129934->free_n_p_114107;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_task_129934->free_lifted_single_ma_l_arg_114512;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_task_129934->free_mem_121382,
                                  .size =0, .references =NULL};
    struct memblock mem_121385 = {.desc ="mem_121385", .mem =
                                  futhark_mc_task_129934->free_mem_121385,
                                  .size =0, .references =NULL};
    int64_t iter_123904;
    struct futhark_mc_segmap_parloop_struct_129939
    futhark_mc_segmap_parloop_struct_129939;
    
    futhark_mc_segmap_parloop_struct_129939.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129939.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129939.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129939.free_lifted_single_ma_l_arg_114512 =
        lifted_single_ma_l_arg_114512;
    futhark_mc_segmap_parloop_struct_129939.free_mem_121382 = mem_121382.mem;
    futhark_mc_segmap_parloop_struct_129939.free_mem_121385 = mem_121385.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129940_task;
    
    futhark_mc_segmap_parloop_129940_task.name =
        "futhark_mc_segmap_parloop_129940";
    futhark_mc_segmap_parloop_129940_task.fn = futhark_mc_segmap_parloop_129940;
    futhark_mc_segmap_parloop_129940_task.args =
        &futhark_mc_segmap_parloop_struct_129939;
    futhark_mc_segmap_parloop_129940_task.iterations = iterations;
    futhark_mc_segmap_parloop_129940_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129940_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129940_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129940_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129940_task);
    
    if (futhark_mc_segmap_parloop_129940_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129940_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129940_total_end -
                 futhark_mc_segmap_parloop_129940_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129940_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129940_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129940_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129938_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129938_end -
                 futhark_mc_segmap_nested_task_129938_start;
        
        ctx->futhark_mc_segmap_nested_task_129938_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129938_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129938_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129946 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    float free_i64_res_114147;
    int64_t free_lifted_single_ma_l_arg_114512;
    int64_t free_lifted_single_ma_l_arg_114528;
    char *free_mem_121382;
    char *free_mem_121385;
    int64_t free_bytes_121386;
    char *free_mem_121407;
};
struct futhark_mc_segmap_parloop_struct_129948 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    float free_i64_res_114147;
    int64_t free_lifted_single_ma_l_arg_114512;
    int64_t free_lifted_single_ma_l_arg_114528;
    char *free_mem_121382;
    char *free_mem_121385;
    int64_t free_bytes_121386;
    char *free_mem_121407;
};
static int futhark_mc_segmap_parloop_129949(void *args, int64_t start,
                                            int64_t end, int flat_tid_116764,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129948
    *futhark_mc_segmap_parloop_struct_129948 =
    (struct futhark_mc_segmap_parloop_struct_129948 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129948->ctx;
    uint64_t futhark_mc_segmap_parloop_129949_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129949_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129948->free_m_114104;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129948->free_n_p_114107;
    float i64_res_114147 =
          futhark_mc_segmap_parloop_struct_129948->free_i64_res_114147;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_segmap_parloop_struct_129948->free_lifted_single_ma_l_arg_114512;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_segmap_parloop_struct_129948->free_lifted_single_ma_l_arg_114528;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_segmap_parloop_struct_129948->free_mem_121382,
                                  .size =0, .references =NULL};
    struct memblock mem_121385 = {.desc ="mem_121385", .mem =
                                  futhark_mc_segmap_parloop_struct_129948->free_mem_121385,
                                  .size =0, .references =NULL};
    int64_t bytes_121386 =
            futhark_mc_segmap_parloop_struct_129948->free_bytes_121386;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_segmap_parloop_struct_129948->free_mem_121407,
                                  .size =0, .references =NULL};
    size_t mem_121391_cached_sizze_129950 = 0;
    char *mem_121391 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123921 = start;
    
    if (mem_121391_cached_sizze_129950 < (size_t) bytes_121386) {
        mem_121391 = realloc(mem_121391, bytes_121386);
        mem_121391_cached_sizze_129950 = bytes_121386;
    }
    for (; iter_123921 < end; iter_123921++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123945 = m_114104;
        int64_t gtid_116765 = iter_123921;
        int64_t remnant_123946 = iter_123921 - gtid_116765;
        float x_114655 = ((float *) mem_121385.mem)[gtid_116765];
        float discard_120456;
        float scanacc_123923 = 0.0F;
        
        for (int64_t i_123922 = 0; i_123922 < lifted_single_ma_l_arg_114528;
             i_123922++) {
            bool cond_123925 = i_123922 == (int64_t) 0;
            float defunc_0_f_res_123926;
            
            if (cond_123925) {
                float defunc_0_f_res_t_res_123927 = x_114655 / i64_res_114147;
                
                defunc_0_f_res_123926 = defunc_0_f_res_t_res_123927;
            } else {
                int64_t x_123928 = add64(n_p_114107, i_123922);
                int64_t i_123929 = sub64(x_123928, (int64_t) 1);
                bool x_123930 = sle64((int64_t) 0, i_123929);
                bool y_123931 = slt64(i_123929, lifted_single_ma_l_arg_114512);
                bool bounds_check_123932 = x_123930 && y_123931;
                bool index_certs_123933;
                
                if (!bounds_check_123932) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123929,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114512,
                                  "].",
                                  "-> #0  stl.fut:39:29-42\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-64\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float x_123934 = ((float *) mem_121382.mem)[gtid_116765 *
                                                            lifted_single_ma_l_arg_114512 +
                                                            i_123929];
                int64_t i_123935 = sub64(i_123922, (int64_t) 1);
                bool x_123936 = sle64((int64_t) 0, i_123935);
                bool y_123937 = slt64(i_123935, lifted_single_ma_l_arg_114512);
                bool bounds_check_123938 = x_123936 && y_123937;
                bool index_certs_123939;
                
                if (!bounds_check_123938) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123935,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114512,
                                  "].",
                                  "-> #0  stl.fut:39:46-53\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-64\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float y_123940 = ((float *) mem_121382.mem)[gtid_116765 *
                                                            lifted_single_ma_l_arg_114512 +
                                                            i_123935];
                float x_123941 = x_123934 - y_123940;
                float defunc_0_f_res_f_res_123942 = x_123941 / i64_res_114147;
                
                defunc_0_f_res_123926 = defunc_0_f_res_f_res_123942;
            }
            
            float defunc_1_op_res_123943 = defunc_0_f_res_123926 +
                  scanacc_123923;
            
            ((float *) mem_121391)[i_123922] = defunc_1_op_res_123943;
            
            float scanacc_tmp_123947 = defunc_1_op_res_123943;
            
            scanacc_123923 = scanacc_tmp_123947;
        }
        discard_120456 = scanacc_123923;
        memmove(mem_121407.mem + gtid_116765 * lifted_single_ma_l_arg_114528 *
                (int64_t) 4, mem_121391 + (int64_t) 0,
                lifted_single_ma_l_arg_114528 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121391);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129949_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129949_end -
                 futhark_mc_segmap_parloop_129949_start;
        
        ctx->futhark_mc_segmap_parloop_129949_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129949_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129949_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129947(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116764 = tid;
    int num_tasks_123920 = info.nsubtasks;
    struct futhark_mc_task_129946 *futhark_mc_task_129946 =
                                  (struct futhark_mc_task_129946 *) args;
    struct futhark_context *ctx = futhark_mc_task_129946->ctx;
    uint64_t futhark_mc_segmap_task_129947_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129947_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129946->free_m_114104;
    int64_t n_p_114107 = futhark_mc_task_129946->free_n_p_114107;
    float i64_res_114147 = futhark_mc_task_129946->free_i64_res_114147;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_task_129946->free_lifted_single_ma_l_arg_114512;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_task_129946->free_lifted_single_ma_l_arg_114528;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_task_129946->free_mem_121382,
                                  .size =0, .references =NULL};
    struct memblock mem_121385 = {.desc ="mem_121385", .mem =
                                  futhark_mc_task_129946->free_mem_121385,
                                  .size =0, .references =NULL};
    int64_t bytes_121386 = futhark_mc_task_129946->free_bytes_121386;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_task_129946->free_mem_121407,
                                  .size =0, .references =NULL};
    int64_t iter_123921;
    struct futhark_mc_segmap_parloop_struct_129948
    futhark_mc_segmap_parloop_struct_129948;
    
    futhark_mc_segmap_parloop_struct_129948.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129948.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129948.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129948.free_i64_res_114147 =
        i64_res_114147;
    futhark_mc_segmap_parloop_struct_129948.free_lifted_single_ma_l_arg_114512 =
        lifted_single_ma_l_arg_114512;
    futhark_mc_segmap_parloop_struct_129948.free_lifted_single_ma_l_arg_114528 =
        lifted_single_ma_l_arg_114528;
    futhark_mc_segmap_parloop_struct_129948.free_mem_121382 = mem_121382.mem;
    futhark_mc_segmap_parloop_struct_129948.free_mem_121385 = mem_121385.mem;
    futhark_mc_segmap_parloop_struct_129948.free_bytes_121386 = bytes_121386;
    futhark_mc_segmap_parloop_struct_129948.free_mem_121407 = mem_121407.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129949_task;
    
    futhark_mc_segmap_parloop_129949_task.name =
        "futhark_mc_segmap_parloop_129949";
    futhark_mc_segmap_parloop_129949_task.fn = futhark_mc_segmap_parloop_129949;
    futhark_mc_segmap_parloop_129949_task.args =
        &futhark_mc_segmap_parloop_struct_129948;
    futhark_mc_segmap_parloop_129949_task.iterations = iterations;
    futhark_mc_segmap_parloop_129949_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129949_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129949_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129949_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129949_task);
    
    if (futhark_mc_segmap_parloop_129949_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129949_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129949_total_end -
                 futhark_mc_segmap_parloop_129949_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129949_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129949_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129949_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129947_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129947_end -
                 futhark_mc_segmap_task_129947_start;
        
        ctx->futhark_mc_segmap_task_129947_runs[tid]++;
        ctx->futhark_mc_segmap_task_129947_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129947_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129952 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_p_114107;
    float free_i64_res_114147;
    int64_t free_lifted_single_ma_l_arg_114512;
    int64_t free_lifted_single_ma_l_arg_114528;
    char *free_mem_121382;
    char *free_mem_121385;
    int64_t free_bytes_121386;
    char *free_mem_121407;
};
struct futhark_mc_task_129955 {
    struct futhark_context *ctx;
    int64_t free_n_p_114107;
    float free_i64_res_114147;
    int64_t free_lifted_single_ma_l_arg_114512;
    int64_t free_lifted_single_ma_l_arg_114528;
    int64_t free_gtid_116767;
    float free_x_116771;
    char *free_mem_121382;
    char *free_mem_121388;
};
struct futhark_mc_scan_stage_1_parloop_struct_129958 {
    struct futhark_context *ctx;
    int64_t free_n_p_114107;
    float free_i64_res_114147;
    int64_t free_lifted_single_ma_l_arg_114512;
    int64_t free_gtid_116767;
    float free_x_116771;
    char *free_mem_121382;
    char *free_mem_121388;
};
static int futhark_mc_scan_stage_1_parloop_129959(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_116768, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_1_parloop_struct_129958
    *futhark_mc_scan_stage_1_parloop_struct_129958 =
    (struct futhark_mc_scan_stage_1_parloop_struct_129958 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_1_parloop_struct_129958->ctx;
    uint64_t futhark_mc_scan_stage_1_parloop_129959_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_129959_start = get_wall_time();
    
    int64_t n_p_114107 =
            futhark_mc_scan_stage_1_parloop_struct_129958->free_n_p_114107;
    float i64_res_114147 =
          futhark_mc_scan_stage_1_parloop_struct_129958->free_i64_res_114147;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_scan_stage_1_parloop_struct_129958->free_lifted_single_ma_l_arg_114512;
    int64_t gtid_116767 =
            futhark_mc_scan_stage_1_parloop_struct_129958->free_gtid_116767;
    float x_116771 =
          futhark_mc_scan_stage_1_parloop_struct_129958->free_x_116771;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_129958->free_mem_121382,
                                  .size =0, .references =NULL};
    struct memblock mem_121388 = {.desc ="mem_121388", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_129958->free_mem_121388,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123974 = start;
    float x_123950;
    float x_123951;
    
    x_123950 = 0.0F;
    for (; iter_123974 < end; iter_123974++) {
        int64_t gtid_116769 = iter_123974;
        
        // stage 1 scan body
        {
            bool cond_123953 = gtid_116769 == (int64_t) 0;
            float defunc_0_f_res_123954;
            
            if (cond_123953) {
                float defunc_0_f_res_t_res_123955 = x_116771 / i64_res_114147;
                
                defunc_0_f_res_123954 = defunc_0_f_res_t_res_123955;
            } else {
                int64_t x_123956 = add64(n_p_114107, gtid_116769);
                int64_t i_123957 = sub64(x_123956, (int64_t) 1);
                bool x_123958 = sle64((int64_t) 0, i_123957);
                bool y_123959 = slt64(i_123957, lifted_single_ma_l_arg_114512);
                bool bounds_check_123960 = x_123958 && y_123959;
                bool index_certs_123961;
                
                if (!bounds_check_123960) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123957,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114512,
                                  "].",
                                  "-> #0  stl.fut:39:29-42\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-64\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float x_123962 = ((float *) mem_121382.mem)[gtid_116767 *
                                                            lifted_single_ma_l_arg_114512 +
                                                            i_123957];
                int64_t i_123963 = sub64(gtid_116769, (int64_t) 1);
                bool x_123964 = sle64((int64_t) 0, i_123963);
                bool y_123965 = slt64(i_123963, lifted_single_ma_l_arg_114512);
                bool bounds_check_123966 = x_123964 && y_123965;
                bool index_certs_123967;
                
                if (!bounds_check_123966) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123963,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114512,
                                  "].",
                                  "-> #0  stl.fut:39:46-53\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-64\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float y_123968 = ((float *) mem_121382.mem)[gtid_116767 *
                                                            lifted_single_ma_l_arg_114512 +
                                                            i_123963];
                float x_123969 = x_123962 - y_123968;
                float defunc_0_f_res_f_res_123970 = x_123969 / i64_res_114147;
                
                defunc_0_f_res_123954 = defunc_0_f_res_f_res_123970;
            }
            // write mapped values results to memory
            { }
            x_123950 = x_123950;
            // Read next values
            {
                x_123951 = defunc_0_f_res_123954;
            }
            
            float defunc_1_op_res_123952 = x_123950 + x_123951;
            
            ((float *) mem_121388.mem)[gtid_116769] = defunc_1_op_res_123952;
            x_123950 = defunc_1_op_res_123952;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_129959_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_129959_end -
                 futhark_mc_scan_stage_1_parloop_129959_start;
        
        ctx->futhark_mc_scan_stage_1_parloop_129959_runs[tid]++;
        ctx->futhark_mc_scan_stage_1_parloop_129959_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_1_parloop_129959_iter[tid] += iterations;
    }
    return err;
}
struct futhark_mc_scan_stage_3_parloop_struct_129960 {
    struct futhark_context *ctx;
    int64_t free_n_p_114107;
    float free_i64_res_114147;
    int64_t free_lifted_single_ma_l_arg_114512;
    int64_t free_gtid_116767;
    float free_x_116771;
    char *free_mem_121382;
    char *free_mem_121388;
};
static int futhark_mc_scan_stage_3_parloop_129961(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_116768, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_3_parloop_struct_129960
    *futhark_mc_scan_stage_3_parloop_struct_129960 =
    (struct futhark_mc_scan_stage_3_parloop_struct_129960 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_3_parloop_struct_129960->ctx;
    uint64_t futhark_mc_scan_stage_3_parloop_129961_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_3_parloop_129961_start = get_wall_time();
    
    int64_t n_p_114107 =
            futhark_mc_scan_stage_3_parloop_struct_129960->free_n_p_114107;
    float i64_res_114147 =
          futhark_mc_scan_stage_3_parloop_struct_129960->free_i64_res_114147;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_scan_stage_3_parloop_struct_129960->free_lifted_single_ma_l_arg_114512;
    int64_t gtid_116767 =
            futhark_mc_scan_stage_3_parloop_struct_129960->free_gtid_116767;
    float x_116771 =
          futhark_mc_scan_stage_3_parloop_struct_129960->free_x_116771;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_129960->free_mem_121382,
                                  .size =0, .references =NULL};
    struct memblock mem_121388 = {.desc ="mem_121388", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_129960->free_mem_121388,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123986 = start;
    float x_123983;
    float x_123984;
    
    if (iter_123986 == (int64_t) 0) {
        x_123983 = 0.0F;
    } else {
        x_123983 = ((float *) mem_121388.mem)[iter_123986 - (int64_t) 1];
    }
    for (; iter_123986 < end; iter_123986++) {
        int64_t gtid_116769 = iter_123986;
        
        // stage 3 scan body
        {
            bool cond_123953 = gtid_116769 == (int64_t) 0;
            float defunc_0_f_res_123954;
            
            if (cond_123953) {
                float defunc_0_f_res_t_res_123955 = x_116771 / i64_res_114147;
                
                defunc_0_f_res_123954 = defunc_0_f_res_t_res_123955;
            } else {
                int64_t x_123956 = add64(n_p_114107, gtid_116769);
                int64_t i_123957 = sub64(x_123956, (int64_t) 1);
                bool x_123958 = sle64((int64_t) 0, i_123957);
                bool y_123959 = slt64(i_123957, lifted_single_ma_l_arg_114512);
                bool bounds_check_123960 = x_123958 && y_123959;
                bool index_certs_123961;
                
                if (!bounds_check_123960) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123957,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114512,
                                  "].",
                                  "-> #0  stl.fut:39:29-42\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-64\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float x_123962 = ((float *) mem_121382.mem)[gtid_116767 *
                                                            lifted_single_ma_l_arg_114512 +
                                                            i_123957];
                int64_t i_123963 = sub64(gtid_116769, (int64_t) 1);
                bool x_123964 = sle64((int64_t) 0, i_123963);
                bool y_123965 = slt64(i_123963, lifted_single_ma_l_arg_114512);
                bool bounds_check_123966 = x_123964 && y_123965;
                bool index_certs_123967;
                
                if (!bounds_check_123966) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123963,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114512,
                                  "].",
                                  "-> #0  stl.fut:39:46-53\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-64\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float y_123968 = ((float *) mem_121382.mem)[gtid_116767 *
                                                            lifted_single_ma_l_arg_114512 +
                                                            i_123963];
                float x_123969 = x_123962 - y_123968;
                float defunc_0_f_res_f_res_123970 = x_123969 / i64_res_114147;
                
                defunc_0_f_res_123954 = defunc_0_f_res_f_res_123970;
            }
            x_123983 = x_123983;
            x_123984 = defunc_0_f_res_123954;
            
            float defunc_1_op_res_123985 = x_123983 + x_123984;
            
            ((float *) mem_121388.mem)[gtid_116769] = defunc_1_op_res_123985;
            x_123983 = defunc_1_op_res_123985;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_3_parloop_129961_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_3_parloop_129961_end -
                 futhark_mc_scan_stage_3_parloop_129961_start;
        
        ctx->futhark_mc_scan_stage_3_parloop_129961_runs[tid]++;
        ctx->futhark_mc_scan_stage_3_parloop_129961_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_3_parloop_129961_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segscan_task_129956(void *args, int64_t iterations, int tid,
                                   struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116768 = tid;
    int num_tasks_123973 = info.nsubtasks;
    struct futhark_mc_task_129955 *futhark_mc_task_129955 =
                                  (struct futhark_mc_task_129955 *) args;
    struct futhark_context *ctx = futhark_mc_task_129955->ctx;
    uint64_t futhark_mc_segscan_task_129956_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segscan_task_129956_start = get_wall_time();
    
    int64_t n_p_114107 = futhark_mc_task_129955->free_n_p_114107;
    float i64_res_114147 = futhark_mc_task_129955->free_i64_res_114147;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_task_129955->free_lifted_single_ma_l_arg_114512;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_task_129955->free_lifted_single_ma_l_arg_114528;
    int64_t gtid_116767 = futhark_mc_task_129955->free_gtid_116767;
    float x_116771 = futhark_mc_task_129955->free_x_116771;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_task_129955->free_mem_121382,
                                  .size =0, .references =NULL};
    struct memblock mem_121388 = {.desc ="mem_121388", .mem =
                                  futhark_mc_task_129955->free_mem_121388,
                                  .size =0, .references =NULL};
    size_t scan_stage_2_accum_mem_123980_cached_sizze_129957 = 0;
    char *scan_stage_2_accum_mem_123980 = NULL;
    int64_t iter_123974;
    struct futhark_mc_scan_stage_1_parloop_struct_129958
    futhark_mc_scan_stage_1_parloop_struct_129958;
    
    futhark_mc_scan_stage_1_parloop_struct_129958.ctx = ctx;
    futhark_mc_scan_stage_1_parloop_struct_129958.free_n_p_114107 = n_p_114107;
    futhark_mc_scan_stage_1_parloop_struct_129958.free_i64_res_114147 =
        i64_res_114147;
    futhark_mc_scan_stage_1_parloop_struct_129958.free_lifted_single_ma_l_arg_114512 =
        lifted_single_ma_l_arg_114512;
    futhark_mc_scan_stage_1_parloop_struct_129958.free_gtid_116767 =
        gtid_116767;
    futhark_mc_scan_stage_1_parloop_struct_129958.free_x_116771 = x_116771;
    futhark_mc_scan_stage_1_parloop_struct_129958.free_mem_121382 =
        mem_121382.mem;
    futhark_mc_scan_stage_1_parloop_struct_129958.free_mem_121388 =
        mem_121388.mem;
    
    struct scheduler_parloop futhark_mc_scan_stage_1_parloop_129959_task;
    
    futhark_mc_scan_stage_1_parloop_129959_task.name =
        "futhark_mc_scan_stage_1_parloop_129959";
    futhark_mc_scan_stage_1_parloop_129959_task.fn =
        futhark_mc_scan_stage_1_parloop_129959;
    futhark_mc_scan_stage_1_parloop_129959_task.args =
        &futhark_mc_scan_stage_1_parloop_struct_129958;
    futhark_mc_scan_stage_1_parloop_129959_task.iterations = iterations;
    futhark_mc_scan_stage_1_parloop_129959_task.info = info;
    
    uint64_t futhark_mc_scan_stage_1_parloop_129959_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_129959_total_start = get_wall_time();
    
    int futhark_mc_scan_stage_1_parloop_129959_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_scan_stage_1_parloop_129959_task);
    
    if (futhark_mc_scan_stage_1_parloop_129959_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_129959_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_129959_total_end -
                 futhark_mc_scan_stage_1_parloop_129959_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_129959_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_129959_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_129959_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (slt32(1, num_tasks_123973)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmentedScan stage 2");
        
        float x_123975;
        float x_123976;
        int64_t offset_123978 = (int64_t) 0;
        int64_t offset_index_123979 = (int64_t) 0;
        
        if (scan_stage_2_accum_mem_123980_cached_sizze_129957 <
            (size_t) (int64_t) 4) {
            scan_stage_2_accum_mem_123980 =
                realloc(scan_stage_2_accum_mem_123980, (int64_t) 4);
            scan_stage_2_accum_mem_123980_cached_sizze_129957 = (int64_t) 4;
        }
        ((float *) scan_stage_2_accum_mem_123980)[(int64_t) 0] = 0.0F;
        for (int32_t i_123982 = 0; i_123982 < num_tasks_123973 - 1;
             i_123982++) {
            offset_123978 = squot64(lifted_single_ma_l_arg_114528,
                                    sext_i32_i64(num_tasks_123973));
            if (slt64(sext_i32_i64(i_123982),
                      srem64(lifted_single_ma_l_arg_114528,
                             sext_i32_i64(num_tasks_123973)))) {
                offset_123978 += (int64_t) 1;
            }
            offset_index_123979 += offset_123978;
            
            int64_t gtid_116769 = offset_index_123979;
            bool cond_123953 = gtid_116769 == (int64_t) 0;
            float defunc_0_f_res_123954;
            
            if (cond_123953) {
                float defunc_0_f_res_t_res_123955 = x_116771 / i64_res_114147;
                
                defunc_0_f_res_123954 = defunc_0_f_res_t_res_123955;
            } else {
                int64_t x_123956 = add64(n_p_114107, gtid_116769);
                int64_t i_123957 = sub64(x_123956, (int64_t) 1);
                bool x_123958 = sle64((int64_t) 0, i_123957);
                bool y_123959 = slt64(i_123957, lifted_single_ma_l_arg_114512);
                bool bounds_check_123960 = x_123958 && y_123959;
                bool index_certs_123961;
                
                if (!bounds_check_123960) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123957,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114512,
                                  "].",
                                  "-> #0  stl.fut:39:29-42\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-64\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float x_123962 = ((float *) mem_121382.mem)[gtid_116767 *
                                                            lifted_single_ma_l_arg_114512 +
                                                            i_123957];
                int64_t i_123963 = sub64(gtid_116769, (int64_t) 1);
                bool x_123964 = sle64((int64_t) 0, i_123963);
                bool y_123965 = slt64(i_123963, lifted_single_ma_l_arg_114512);
                bool bounds_check_123966 = x_123964 && y_123965;
                bool index_certs_123967;
                
                if (!bounds_check_123966) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_123963,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114512,
                                  "].",
                                  "-> #0  stl.fut:39:46-53\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-64\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float y_123968 = ((float *) mem_121382.mem)[gtid_116767 *
                                                            lifted_single_ma_l_arg_114512 +
                                                            i_123963];
                float x_123969 = x_123962 - y_123968;
                float defunc_0_f_res_f_res_123970 = x_123969 / i64_res_114147;
                
                defunc_0_f_res_123954 = defunc_0_f_res_f_res_123970;
            }
            // Read carry in
            {
                x_123975 =
                    ((float *) scan_stage_2_accum_mem_123980)[(int64_t) 0];
            }
            // Read next values
            {
                x_123976 = ((float *) mem_121388.mem)[offset_index_123979 -
                                                      (int64_t) 1];
            }
            
            float defunc_1_op_res_123977 = x_123975 + x_123976;
            
            ((float *) mem_121388.mem)[offset_index_123979 - (int64_t) 1] =
                defunc_1_op_res_123977;
            ((float *) scan_stage_2_accum_mem_123980)[(int64_t) 0] =
                defunc_1_op_res_123977;
        }
        
        int64_t iter_123986 = (int64_t) 0;
        struct futhark_mc_scan_stage_3_parloop_struct_129960
        futhark_mc_scan_stage_3_parloop_struct_129960;
        
        futhark_mc_scan_stage_3_parloop_struct_129960.ctx = ctx;
        futhark_mc_scan_stage_3_parloop_struct_129960.free_n_p_114107 =
            n_p_114107;
        futhark_mc_scan_stage_3_parloop_struct_129960.free_i64_res_114147 =
            i64_res_114147;
        futhark_mc_scan_stage_3_parloop_struct_129960.free_lifted_single_ma_l_arg_114512 =
            lifted_single_ma_l_arg_114512;
        futhark_mc_scan_stage_3_parloop_struct_129960.free_gtid_116767 =
            gtid_116767;
        futhark_mc_scan_stage_3_parloop_struct_129960.free_x_116771 = x_116771;
        futhark_mc_scan_stage_3_parloop_struct_129960.free_mem_121382 =
            mem_121382.mem;
        futhark_mc_scan_stage_3_parloop_struct_129960.free_mem_121388 =
            mem_121388.mem;
        
        struct scheduler_parloop futhark_mc_scan_stage_3_parloop_129961_task;
        
        futhark_mc_scan_stage_3_parloop_129961_task.name =
            "futhark_mc_scan_stage_3_parloop_129961";
        futhark_mc_scan_stage_3_parloop_129961_task.fn =
            futhark_mc_scan_stage_3_parloop_129961;
        futhark_mc_scan_stage_3_parloop_129961_task.args =
            &futhark_mc_scan_stage_3_parloop_struct_129960;
        futhark_mc_scan_stage_3_parloop_129961_task.iterations = iterations;
        futhark_mc_scan_stage_3_parloop_129961_task.info = info;
        
        uint64_t futhark_mc_scan_stage_3_parloop_129961_total_start = 0;
        
        if (ctx->profiling && !ctx->profiling_paused)
            futhark_mc_scan_stage_3_parloop_129961_total_start =
                get_wall_time();
        
        int futhark_mc_scan_stage_3_parloop_129961_err =
            scheduler_execute_task(&ctx->scheduler,
                                   &futhark_mc_scan_stage_3_parloop_129961_task);
        
        if (futhark_mc_scan_stage_3_parloop_129961_err != 0) {
            err = 1;
            goto cleanup;
        }
        if (ctx->profiling && !ctx->profiling_paused) {
            uint64_t futhark_mc_scan_stage_3_parloop_129961_total_end =
                     get_wall_time();
            uint64_t elapsed =
                     futhark_mc_scan_stage_3_parloop_129961_total_end -
                     futhark_mc_scan_stage_3_parloop_129961_total_start;
            
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_129961_total_runs,
                               1, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_129961_total_total_runtime,
                               elapsed, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_129961_total_iter,
                               iterations, __ATOMIC_RELAXED);
        }
    }
    free(scan_stage_2_accum_mem_123980);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segscan_task_129956_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segscan_task_129956_end -
                 futhark_mc_segscan_task_129956_start;
        
        ctx->futhark_mc_segscan_task_129956_runs[tid]++;
        ctx->futhark_mc_segscan_task_129956_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segscan_task_129956_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129953(void *args, int64_t start,
                                            int64_t end, int flat_tid_116766,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129952
    *futhark_mc_segmap_parloop_struct_129952 =
    (struct futhark_mc_segmap_parloop_struct_129952 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129952->ctx;
    uint64_t futhark_mc_segmap_parloop_129953_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129953_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129952->free_m_114104;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_129952->free_n_p_114107;
    float i64_res_114147 =
          futhark_mc_segmap_parloop_struct_129952->free_i64_res_114147;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_segmap_parloop_struct_129952->free_lifted_single_ma_l_arg_114512;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_segmap_parloop_struct_129952->free_lifted_single_ma_l_arg_114528;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_segmap_parloop_struct_129952->free_mem_121382,
                                  .size =0, .references =NULL};
    struct memblock mem_121385 = {.desc ="mem_121385", .mem =
                                  futhark_mc_segmap_parloop_struct_129952->free_mem_121385,
                                  .size =0, .references =NULL};
    int64_t bytes_121386 =
            futhark_mc_segmap_parloop_struct_129952->free_bytes_121386;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_segmap_parloop_struct_129952->free_mem_121407,
                                  .size =0, .references =NULL};
    size_t mem_121388_cached_sizze_129954 = 0;
    char *mem_121388 = NULL;
    int64_t iterations = end - start;
    int64_t iter_123949 = start;
    
    if (mem_121388_cached_sizze_129954 < (size_t) bytes_121386) {
        mem_121388 = realloc(mem_121388, bytes_121386);
        mem_121388_cached_sizze_129954 = bytes_121386;
    }
    for (; iter_123949 < end; iter_123949++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123971 = m_114104;
        int64_t gtid_116767 = iter_123949;
        int64_t remnant_123972 = iter_123949 - gtid_116767;
        float x_116771 = ((float *) mem_121385.mem)[gtid_116767];
        int64_t flat_tid_116768 = (int64_t) 0;
        int32_t num_tasks_123973;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmented segScan");
        
        struct futhark_mc_task_129955 futhark_mc_task_129955;
        
        futhark_mc_task_129955.ctx = ctx;
        futhark_mc_task_129955.free_n_p_114107 = n_p_114107;
        futhark_mc_task_129955.free_i64_res_114147 = i64_res_114147;
        futhark_mc_task_129955.free_lifted_single_ma_l_arg_114512 =
            lifted_single_ma_l_arg_114512;
        futhark_mc_task_129955.free_lifted_single_ma_l_arg_114528 =
            lifted_single_ma_l_arg_114528;
        futhark_mc_task_129955.free_gtid_116767 = gtid_116767;
        futhark_mc_task_129955.free_x_116771 = x_116771;
        futhark_mc_task_129955.free_mem_121382 = mem_121382.mem;
        futhark_mc_task_129955.free_mem_121388 = mem_121388;
        
        struct scheduler_segop futhark_mc_task_129955_task;
        
        futhark_mc_task_129955_task.args = &futhark_mc_task_129955;
        futhark_mc_task_129955_task.top_level_fn =
            futhark_mc_segscan_task_129956;
        futhark_mc_task_129955_task.name = "futhark_mc_segscan_task_129956";
        futhark_mc_task_129955_task.iterations = lifted_single_ma_l_arg_114528;
        futhark_mc_task_129955_task.task_time =
            &ctx->futhark_mc_segscan_task_129956_total_time;
        futhark_mc_task_129955_task.task_iter =
            &ctx->futhark_mc_segscan_task_129956_total_iter;
        futhark_mc_task_129955_task.sched = STATIC;
        futhark_mc_task_129955_task.nested_fn = NULL;
        
        int futhark_mc_segscan_task_129956_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129955_task);
        
        if (futhark_mc_segscan_task_129956_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121407.mem + gtid_116767 * lifted_single_ma_l_arg_114528 *
                (int64_t) 4, mem_121388 + (int64_t) 0,
                lifted_single_ma_l_arg_114528 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121388);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129953_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129953_end -
                 futhark_mc_segmap_parloop_129953_start;
        
        ctx->futhark_mc_segmap_parloop_129953_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129953_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129953_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129951(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116766 = tid;
    int num_tasks_123920 = info.nsubtasks;
    struct futhark_mc_task_129946 *futhark_mc_task_129946 =
                                  (struct futhark_mc_task_129946 *) args;
    struct futhark_context *ctx = futhark_mc_task_129946->ctx;
    uint64_t futhark_mc_segmap_nested_task_129951_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129951_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129946->free_m_114104;
    int64_t n_p_114107 = futhark_mc_task_129946->free_n_p_114107;
    float i64_res_114147 = futhark_mc_task_129946->free_i64_res_114147;
    int64_t lifted_single_ma_l_arg_114512 =
            futhark_mc_task_129946->free_lifted_single_ma_l_arg_114512;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_task_129946->free_lifted_single_ma_l_arg_114528;
    struct memblock mem_121382 = {.desc ="mem_121382", .mem =
                                  futhark_mc_task_129946->free_mem_121382,
                                  .size =0, .references =NULL};
    struct memblock mem_121385 = {.desc ="mem_121385", .mem =
                                  futhark_mc_task_129946->free_mem_121385,
                                  .size =0, .references =NULL};
    int64_t bytes_121386 = futhark_mc_task_129946->free_bytes_121386;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_task_129946->free_mem_121407,
                                  .size =0, .references =NULL};
    int64_t iter_123949;
    struct futhark_mc_segmap_parloop_struct_129952
    futhark_mc_segmap_parloop_struct_129952;
    
    futhark_mc_segmap_parloop_struct_129952.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129952.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129952.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_129952.free_i64_res_114147 =
        i64_res_114147;
    futhark_mc_segmap_parloop_struct_129952.free_lifted_single_ma_l_arg_114512 =
        lifted_single_ma_l_arg_114512;
    futhark_mc_segmap_parloop_struct_129952.free_lifted_single_ma_l_arg_114528 =
        lifted_single_ma_l_arg_114528;
    futhark_mc_segmap_parloop_struct_129952.free_mem_121382 = mem_121382.mem;
    futhark_mc_segmap_parloop_struct_129952.free_mem_121385 = mem_121385.mem;
    futhark_mc_segmap_parloop_struct_129952.free_bytes_121386 = bytes_121386;
    futhark_mc_segmap_parloop_struct_129952.free_mem_121407 = mem_121407.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129953_task;
    
    futhark_mc_segmap_parloop_129953_task.name =
        "futhark_mc_segmap_parloop_129953";
    futhark_mc_segmap_parloop_129953_task.fn = futhark_mc_segmap_parloop_129953;
    futhark_mc_segmap_parloop_129953_task.args =
        &futhark_mc_segmap_parloop_struct_129952;
    futhark_mc_segmap_parloop_129953_task.iterations = iterations;
    futhark_mc_segmap_parloop_129953_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129953_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129953_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129953_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129953_task);
    
    if (futhark_mc_segmap_parloop_129953_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129953_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129953_total_end -
                 futhark_mc_segmap_parloop_129953_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129953_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129953_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129953_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129951_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129951_end -
                 futhark_mc_segmap_nested_task_129951_start;
        
        ctx->futhark_mc_segmap_nested_task_129951_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129951_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129951_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129962 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_lifted_single_ma_l_arg_114528;
    char *free_mem_121407;
    char *free_mem_121410;
};
struct futhark_mc_segmap_parloop_struct_129964 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_lifted_single_ma_l_arg_114528;
    char *free_mem_121407;
    char *free_mem_121410;
};
static int futhark_mc_segmap_parloop_129965(void *args, int64_t start,
                                            int64_t end, int flat_tid_116795,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129964
    *futhark_mc_segmap_parloop_struct_129964 =
    (struct futhark_mc_segmap_parloop_struct_129964 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129964->ctx;
    uint64_t futhark_mc_segmap_parloop_129965_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129965_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129964->free_m_114104;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_segmap_parloop_struct_129964->free_lifted_single_ma_l_arg_114528;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_segmap_parloop_struct_129964->free_mem_121407,
                                  .size =0, .references =NULL};
    struct memblock mem_121410 = {.desc ="mem_121410", .mem =
                                  futhark_mc_segmap_parloop_struct_129964->free_mem_121410,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123988 = start;
    
    for (; iter_123988 < end; iter_123988++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_123994 = m_114104;
        int64_t gtid_116796 = iter_123988;
        int64_t remnant_123995 = iter_123988 - gtid_116796;
        float defunc_2_reduce_res_114683;
        float redout_123990 = 0.0F;
        
        for (int32_t i_123989 = 0; i_123989 < 3; i_123989++) {
            int64_t i_123991 = sext_i32_i64(i_123989);
            float x_123992 = ((float *) mem_121407.mem)[gtid_116796 *
                                                        lifted_single_ma_l_arg_114528 +
                                                        i_123991];
            float defunc_1_op_res_123993 = x_123992 + redout_123990;
            float redout_tmp_123996 = defunc_1_op_res_123993;
            
            redout_123990 = redout_tmp_123996;
        }
        defunc_2_reduce_res_114683 = redout_123990;
        ((float *) mem_121410.mem)[gtid_116796] = defunc_2_reduce_res_114683;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129965_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129965_end -
                 futhark_mc_segmap_parloop_129965_start;
        
        ctx->futhark_mc_segmap_parloop_129965_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129965_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129965_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129963(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116795 = tid;
    int num_tasks_123987 = info.nsubtasks;
    struct futhark_mc_task_129962 *futhark_mc_task_129962 =
                                  (struct futhark_mc_task_129962 *) args;
    struct futhark_context *ctx = futhark_mc_task_129962->ctx;
    uint64_t futhark_mc_segmap_task_129963_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129963_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129962->free_m_114104;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_task_129962->free_lifted_single_ma_l_arg_114528;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_task_129962->free_mem_121407,
                                  .size =0, .references =NULL};
    struct memblock mem_121410 = {.desc ="mem_121410", .mem =
                                  futhark_mc_task_129962->free_mem_121410,
                                  .size =0, .references =NULL};
    int64_t iter_123988;
    struct futhark_mc_segmap_parloop_struct_129964
    futhark_mc_segmap_parloop_struct_129964;
    
    futhark_mc_segmap_parloop_struct_129964.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129964.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129964.free_lifted_single_ma_l_arg_114528 =
        lifted_single_ma_l_arg_114528;
    futhark_mc_segmap_parloop_struct_129964.free_mem_121407 = mem_121407.mem;
    futhark_mc_segmap_parloop_struct_129964.free_mem_121410 = mem_121410.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129965_task;
    
    futhark_mc_segmap_parloop_129965_task.name =
        "futhark_mc_segmap_parloop_129965";
    futhark_mc_segmap_parloop_129965_task.fn = futhark_mc_segmap_parloop_129965;
    futhark_mc_segmap_parloop_129965_task.args =
        &futhark_mc_segmap_parloop_struct_129964;
    futhark_mc_segmap_parloop_129965_task.iterations = iterations;
    futhark_mc_segmap_parloop_129965_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129965_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129965_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129965_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129965_task);
    
    if (futhark_mc_segmap_parloop_129965_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129965_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129965_total_end -
                 futhark_mc_segmap_parloop_129965_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129965_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129965_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129965_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129963_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129963_end -
                 futhark_mc_segmap_task_129963_start;
        
        ctx->futhark_mc_segmap_task_129963_runs[tid]++;
        ctx->futhark_mc_segmap_task_129963_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129963_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129967 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_lifted_single_ma_l_arg_114528;
    char *free_mem_121407;
    char *free_mem_121410;
};
struct futhark_mc_task_129969 {
    struct futhark_context *ctx;
    int64_t free_lifted_single_ma_l_arg_114528;
    int64_t free_gtid_116798;
    char *free_mem_121407;
    float *retval_defunc_2_reduce_res_116802;
};
struct futhark_mc_segred_stage_1_parloop_struct_129972 {
    struct futhark_context *ctx;
    int64_t free_lifted_single_ma_l_arg_114528;
    int64_t free_gtid_116798;
    char *free_mem_121407;
    char *free_reduce_stage_1_tid_res_arr_mem_124005;
};
static int futhark_mc_segred_stage_1_parloop_129973(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_116799,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_129972
    *futhark_mc_segred_stage_1_parloop_struct_129972 =
    (struct futhark_mc_segred_stage_1_parloop_struct_129972 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_129972->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_129973_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_129973_start = get_wall_time();
    
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_segred_stage_1_parloop_struct_129972->free_lifted_single_ma_l_arg_114528;
    int64_t gtid_116798 =
            futhark_mc_segred_stage_1_parloop_struct_129972->free_gtid_116798;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_129972->free_mem_121407,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_124005 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_124005",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_129972->free_reduce_stage_1_tid_res_arr_mem_124005,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_124007 = start;
    float x_123998;
    float x_123999;
    float local_acc_124008 = 0.0F;
    
    for (; iter_124007 < end; iter_124007++) {
        int64_t gtid_116800 = iter_124007;
        float x_124001 = ((float *) mem_121407.mem)[gtid_116798 *
                                                    lifted_single_ma_l_arg_114528 +
                                                    gtid_116800];
        
        // save map-out results
        { }
        // Load accum params
        {
            x_123998 = local_acc_124008;
        }
        // Load next params
        {
            x_123999 = x_124001;
        }
        // Red body
        {
            float defunc_1_op_res_124000 = x_123998 + x_123999;
            
            local_acc_124008 = defunc_1_op_res_124000;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_124005.mem)[flat_tid_116799] =
        local_acc_124008;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_129973_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_129973_end -
                 futhark_mc_segred_stage_1_parloop_129973_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_129973_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_129973_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_129973_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_129970(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116799 = tid;
    int num_tasks_124004 = info.nsubtasks;
    struct futhark_mc_task_129969 *futhark_mc_task_129969 =
                                  (struct futhark_mc_task_129969 *) args;
    struct futhark_context *ctx = futhark_mc_task_129969->ctx;
    uint64_t futhark_mc_segred_task_129970_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_129970_start = get_wall_time();
    
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_task_129969->free_lifted_single_ma_l_arg_114528;
    int64_t gtid_116798 = futhark_mc_task_129969->free_gtid_116798;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_task_129969->free_mem_121407,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_116802 =
          *futhark_mc_task_129969->retval_defunc_2_reduce_res_116802;
    size_t reduce_stage_1_tid_res_arr_mem_124005_cached_sizze_129971 = 0;
    char *reduce_stage_1_tid_res_arr_mem_124005 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_124005_cached_sizze_129971 <
        (size_t) ((int64_t) 4 * num_tasks_124004)) {
        reduce_stage_1_tid_res_arr_mem_124005 =
            realloc(reduce_stage_1_tid_res_arr_mem_124005, (int64_t) 4 *
                    num_tasks_124004);
        reduce_stage_1_tid_res_arr_mem_124005_cached_sizze_129971 =
            (int64_t) 4 * num_tasks_124004;
    }
    
    int64_t iter_124007;
    struct futhark_mc_segred_stage_1_parloop_struct_129972
    futhark_mc_segred_stage_1_parloop_struct_129972;
    
    futhark_mc_segred_stage_1_parloop_struct_129972.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_129972.free_lifted_single_ma_l_arg_114528 =
        lifted_single_ma_l_arg_114528;
    futhark_mc_segred_stage_1_parloop_struct_129972.free_gtid_116798 =
        gtid_116798;
    futhark_mc_segred_stage_1_parloop_struct_129972.free_mem_121407 =
        mem_121407.mem;
    futhark_mc_segred_stage_1_parloop_struct_129972.free_reduce_stage_1_tid_res_arr_mem_124005 =
        reduce_stage_1_tid_res_arr_mem_124005;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_129973_task;
    
    futhark_mc_segred_stage_1_parloop_129973_task.name =
        "futhark_mc_segred_stage_1_parloop_129973";
    futhark_mc_segred_stage_1_parloop_129973_task.fn =
        futhark_mc_segred_stage_1_parloop_129973;
    futhark_mc_segred_stage_1_parloop_129973_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_129972;
    futhark_mc_segred_stage_1_parloop_129973_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_129973_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_129973_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_129973_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_129973_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_129973_task);
    
    if (futhark_mc_segred_stage_1_parloop_129973_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_129973_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_129973_total_end -
                 futhark_mc_segred_stage_1_parloop_129973_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129973_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129973_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_129973_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_116802 = 0.0F;
    }
    
    float x_124009;
    float x_124010;
    
    for (int32_t i_124012 = 0; i_124012 < num_tasks_124004; i_124012++) {
        flat_tid_116799 = i_124012;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_124009 = defunc_2_reduce_res_116802;
            }
            // load next params
            {
                x_124010 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_124005)[flat_tid_116799];
            }
            // red body
            {
                float defunc_1_op_res_124011 = x_124009 + x_124010;
                
                defunc_2_reduce_res_116802 = defunc_1_op_res_124011;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_124005);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_129970_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_129970_end -
                 futhark_mc_segred_task_129970_start;
        
        ctx->futhark_mc_segred_task_129970_runs[tid]++;
        ctx->futhark_mc_segred_task_129970_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_129970_iter[tid] += iterations;
    }
    *futhark_mc_task_129969->retval_defunc_2_reduce_res_116802 =
        defunc_2_reduce_res_116802;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129968(void *args, int64_t start,
                                            int64_t end, int flat_tid_116797,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129967
    *futhark_mc_segmap_parloop_struct_129967 =
    (struct futhark_mc_segmap_parloop_struct_129967 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129967->ctx;
    uint64_t futhark_mc_segmap_parloop_129968_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129968_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129967->free_m_114104;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_segmap_parloop_struct_129967->free_lifted_single_ma_l_arg_114528;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_segmap_parloop_struct_129967->free_mem_121407,
                                  .size =0, .references =NULL};
    struct memblock mem_121410 = {.desc ="mem_121410", .mem =
                                  futhark_mc_segmap_parloop_struct_129967->free_mem_121410,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_123997 = start;
    
    for (; iter_123997 < end; iter_123997++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_124002 = m_114104;
        int64_t gtid_116798 = iter_123997;
        int64_t remnant_124003 = iter_123997 - gtid_116798;
        float defunc_2_reduce_res_116802;
        int64_t flat_tid_116799 = (int64_t) 0;
        int32_t num_tasks_124004;
        struct futhark_mc_task_129969 futhark_mc_task_129969;
        
        futhark_mc_task_129969.ctx = ctx;
        futhark_mc_task_129969.free_lifted_single_ma_l_arg_114528 =
            lifted_single_ma_l_arg_114528;
        futhark_mc_task_129969.free_gtid_116798 = gtid_116798;
        futhark_mc_task_129969.free_mem_121407 = mem_121407.mem;
        futhark_mc_task_129969.retval_defunc_2_reduce_res_116802 =
            &defunc_2_reduce_res_116802;
        
        struct scheduler_segop futhark_mc_task_129969_task;
        
        futhark_mc_task_129969_task.args = &futhark_mc_task_129969;
        futhark_mc_task_129969_task.top_level_fn =
            futhark_mc_segred_task_129970;
        futhark_mc_task_129969_task.name = "futhark_mc_segred_task_129970";
        futhark_mc_task_129969_task.iterations = (int64_t) 3;
        futhark_mc_task_129969_task.task_time =
            &ctx->futhark_mc_segred_task_129970_total_time;
        futhark_mc_task_129969_task.task_iter =
            &ctx->futhark_mc_segred_task_129970_total_iter;
        futhark_mc_task_129969_task.sched = STATIC;
        futhark_mc_task_129969_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_129970_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129969_task);
        
        if (futhark_mc_segred_task_129970_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_121410.mem)[gtid_116798] = defunc_2_reduce_res_116802;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129968_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129968_end -
                 futhark_mc_segmap_parloop_129968_start;
        
        ctx->futhark_mc_segmap_parloop_129968_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129968_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129968_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129966(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116797 = tid;
    int num_tasks_123987 = info.nsubtasks;
    struct futhark_mc_task_129962 *futhark_mc_task_129962 =
                                  (struct futhark_mc_task_129962 *) args;
    struct futhark_context *ctx = futhark_mc_task_129962->ctx;
    uint64_t futhark_mc_segmap_nested_task_129966_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129966_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129962->free_m_114104;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_task_129962->free_lifted_single_ma_l_arg_114528;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_task_129962->free_mem_121407,
                                  .size =0, .references =NULL};
    struct memblock mem_121410 = {.desc ="mem_121410", .mem =
                                  futhark_mc_task_129962->free_mem_121410,
                                  .size =0, .references =NULL};
    int64_t iter_123997;
    struct futhark_mc_segmap_parloop_struct_129967
    futhark_mc_segmap_parloop_struct_129967;
    
    futhark_mc_segmap_parloop_struct_129967.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129967.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129967.free_lifted_single_ma_l_arg_114528 =
        lifted_single_ma_l_arg_114528;
    futhark_mc_segmap_parloop_struct_129967.free_mem_121407 = mem_121407.mem;
    futhark_mc_segmap_parloop_struct_129967.free_mem_121410 = mem_121410.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129968_task;
    
    futhark_mc_segmap_parloop_129968_task.name =
        "futhark_mc_segmap_parloop_129968";
    futhark_mc_segmap_parloop_129968_task.fn = futhark_mc_segmap_parloop_129968;
    futhark_mc_segmap_parloop_129968_task.args =
        &futhark_mc_segmap_parloop_struct_129967;
    futhark_mc_segmap_parloop_129968_task.iterations = iterations;
    futhark_mc_segmap_parloop_129968_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129968_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129968_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129968_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129968_task);
    
    if (futhark_mc_segmap_parloop_129968_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129968_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129968_total_end -
                 futhark_mc_segmap_parloop_129968_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129968_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129968_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129968_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129966_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129966_end -
                 futhark_mc_segmap_nested_task_129966_start;
        
        ctx->futhark_mc_segmap_nested_task_129966_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129966_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129966_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129974 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_lifted_single_ma_l_arg_114528;
    int64_t free_bytes_121048;
    char *free_mem_121407;
    char *free_mem_121410;
    char *free_mem_121432;
};
struct futhark_mc_segmap_parloop_struct_129976 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_lifted_single_ma_l_arg_114528;
    int64_t free_bytes_121048;
    char *free_mem_121407;
    char *free_mem_121410;
    char *free_mem_121432;
};
static int futhark_mc_segmap_parloop_129977(void *args, int64_t start,
                                            int64_t end, int flat_tid_116807,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129976
    *futhark_mc_segmap_parloop_struct_129976 =
    (struct futhark_mc_segmap_parloop_struct_129976 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129976->ctx;
    uint64_t futhark_mc_segmap_parloop_129977_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129977_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129976->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129976->free_n_114105;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_segmap_parloop_struct_129976->free_lifted_single_ma_l_arg_114528;
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_129976->free_bytes_121048;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_segmap_parloop_struct_129976->free_mem_121407,
                                  .size =0, .references =NULL};
    struct memblock mem_121410 = {.desc ="mem_121410", .mem =
                                  futhark_mc_segmap_parloop_struct_129976->free_mem_121410,
                                  .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_129976->free_mem_121432,
                                  .size =0, .references =NULL};
    size_t mem_121416_cached_sizze_129978 = 0;
    char *mem_121416 = NULL;
    int64_t iterations = end - start;
    int64_t iter_124014 = start;
    
    if (mem_121416_cached_sizze_129978 < (size_t) bytes_121048) {
        mem_121416 = realloc(mem_121416, bytes_121048);
        mem_121416_cached_sizze_129978 = bytes_121048;
    }
    for (; iter_124014 < end; iter_124014++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_124038 = m_114104;
        int64_t gtid_116808 = iter_124014;
        int64_t remnant_124039 = iter_124014 - gtid_116808;
        float x_114691 = ((float *) mem_121410.mem)[gtid_116808];
        float discard_120464;
        float scanacc_124016 = 0.0F;
        
        for (int64_t i_124015 = 0; i_124015 < n_114105; i_124015++) {
            bool cond_124018 = i_124015 == (int64_t) 0;
            float defunc_0_f_res_124019;
            
            if (cond_124018) {
                float defunc_0_f_res_t_res_124020 = x_114691 / 3.0F;
                
                defunc_0_f_res_124019 = defunc_0_f_res_t_res_124020;
            } else {
                int64_t x_124021 = add64((int64_t) 3, i_124015);
                int64_t i_124022 = sub64(x_124021, (int64_t) 1);
                bool x_124023 = sle64((int64_t) 0, i_124022);
                bool y_124024 = slt64(i_124022, lifted_single_ma_l_arg_114528);
                bool bounds_check_124025 = x_124023 && y_124024;
                bool index_certs_124026;
                
                if (!bounds_check_124025) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_124022,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114528,
                                  "].",
                                  "-> #0  stl.fut:39:29-42\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-84\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float x_124027 = ((float *) mem_121407.mem)[gtid_116808 *
                                                            lifted_single_ma_l_arg_114528 +
                                                            i_124022];
                int64_t i_124028 = sub64(i_124015, (int64_t) 1);
                bool x_124029 = sle64((int64_t) 0, i_124028);
                bool y_124030 = slt64(i_124028, lifted_single_ma_l_arg_114528);
                bool bounds_check_124031 = x_124029 && y_124030;
                bool index_certs_124032;
                
                if (!bounds_check_124031) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_124028,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114528,
                                  "].",
                                  "-> #0  stl.fut:39:46-53\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-84\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float y_124033 = ((float *) mem_121407.mem)[gtid_116808 *
                                                            lifted_single_ma_l_arg_114528 +
                                                            i_124028];
                float x_124034 = x_124027 - y_124033;
                float defunc_0_f_res_f_res_124035 = x_124034 / 3.0F;
                
                defunc_0_f_res_124019 = defunc_0_f_res_f_res_124035;
            }
            
            float defunc_1_op_res_124036 = defunc_0_f_res_124019 +
                  scanacc_124016;
            
            ((float *) mem_121416)[i_124015] = defunc_1_op_res_124036;
            
            float scanacc_tmp_124040 = defunc_1_op_res_124036;
            
            scanacc_124016 = scanacc_tmp_124040;
        }
        discard_120464 = scanacc_124016;
        memmove(mem_121432.mem + gtid_116808 * n_114105 * (int64_t) 4,
                mem_121416 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121416);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129977_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129977_end -
                 futhark_mc_segmap_parloop_129977_start;
        
        ctx->futhark_mc_segmap_parloop_129977_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129977_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129977_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129975(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116807 = tid;
    int num_tasks_124013 = info.nsubtasks;
    struct futhark_mc_task_129974 *futhark_mc_task_129974 =
                                  (struct futhark_mc_task_129974 *) args;
    struct futhark_context *ctx = futhark_mc_task_129974->ctx;
    uint64_t futhark_mc_segmap_task_129975_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129975_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129974->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129974->free_n_114105;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_task_129974->free_lifted_single_ma_l_arg_114528;
    int64_t bytes_121048 = futhark_mc_task_129974->free_bytes_121048;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_task_129974->free_mem_121407,
                                  .size =0, .references =NULL};
    struct memblock mem_121410 = {.desc ="mem_121410", .mem =
                                  futhark_mc_task_129974->free_mem_121410,
                                  .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_129974->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t iter_124014;
    struct futhark_mc_segmap_parloop_struct_129976
    futhark_mc_segmap_parloop_struct_129976;
    
    futhark_mc_segmap_parloop_struct_129976.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129976.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129976.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129976.free_lifted_single_ma_l_arg_114528 =
        lifted_single_ma_l_arg_114528;
    futhark_mc_segmap_parloop_struct_129976.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_129976.free_mem_121407 = mem_121407.mem;
    futhark_mc_segmap_parloop_struct_129976.free_mem_121410 = mem_121410.mem;
    futhark_mc_segmap_parloop_struct_129976.free_mem_121432 = mem_121432.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129977_task;
    
    futhark_mc_segmap_parloop_129977_task.name =
        "futhark_mc_segmap_parloop_129977";
    futhark_mc_segmap_parloop_129977_task.fn = futhark_mc_segmap_parloop_129977;
    futhark_mc_segmap_parloop_129977_task.args =
        &futhark_mc_segmap_parloop_struct_129976;
    futhark_mc_segmap_parloop_129977_task.iterations = iterations;
    futhark_mc_segmap_parloop_129977_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129977_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129977_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129977_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129977_task);
    
    if (futhark_mc_segmap_parloop_129977_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129977_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129977_total_end -
                 futhark_mc_segmap_parloop_129977_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129977_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129977_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129977_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129975_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129975_end -
                 futhark_mc_segmap_task_129975_start;
        
        ctx->futhark_mc_segmap_task_129975_runs[tid]++;
        ctx->futhark_mc_segmap_task_129975_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129975_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129980 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_lifted_single_ma_l_arg_114528;
    int64_t free_bytes_121048;
    char *free_mem_121407;
    char *free_mem_121410;
    char *free_mem_121432;
};
struct futhark_mc_task_129983 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_lifted_single_ma_l_arg_114528;
    int64_t free_gtid_116810;
    float free_x_116814;
    char *free_mem_121407;
    char *free_mem_121413;
};
struct futhark_mc_scan_stage_1_parloop_struct_129986 {
    struct futhark_context *ctx;
    int64_t free_lifted_single_ma_l_arg_114528;
    int64_t free_gtid_116810;
    float free_x_116814;
    char *free_mem_121407;
    char *free_mem_121413;
};
static int futhark_mc_scan_stage_1_parloop_129987(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_116811, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_1_parloop_struct_129986
    *futhark_mc_scan_stage_1_parloop_struct_129986 =
    (struct futhark_mc_scan_stage_1_parloop_struct_129986 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_1_parloop_struct_129986->ctx;
    uint64_t futhark_mc_scan_stage_1_parloop_129987_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_129987_start = get_wall_time();
    
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_scan_stage_1_parloop_struct_129986->free_lifted_single_ma_l_arg_114528;
    int64_t gtid_116810 =
            futhark_mc_scan_stage_1_parloop_struct_129986->free_gtid_116810;
    float x_116814 =
          futhark_mc_scan_stage_1_parloop_struct_129986->free_x_116814;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_129986->free_mem_121407,
                                  .size =0, .references =NULL};
    struct memblock mem_121413 = {.desc ="mem_121413", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_129986->free_mem_121413,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_124067 = start;
    float x_124043;
    float x_124044;
    
    x_124043 = 0.0F;
    for (; iter_124067 < end; iter_124067++) {
        int64_t gtid_116812 = iter_124067;
        
        // stage 1 scan body
        {
            bool cond_124046 = gtid_116812 == (int64_t) 0;
            float defunc_0_f_res_124047;
            
            if (cond_124046) {
                float defunc_0_f_res_t_res_124048 = x_116814 / 3.0F;
                
                defunc_0_f_res_124047 = defunc_0_f_res_t_res_124048;
            } else {
                int64_t x_124049 = add64((int64_t) 3, gtid_116812);
                int64_t i_124050 = sub64(x_124049, (int64_t) 1);
                bool x_124051 = sle64((int64_t) 0, i_124050);
                bool y_124052 = slt64(i_124050, lifted_single_ma_l_arg_114528);
                bool bounds_check_124053 = x_124051 && y_124052;
                bool index_certs_124054;
                
                if (!bounds_check_124053) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_124050,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114528,
                                  "].",
                                  "-> #0  stl.fut:39:29-42\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-84\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float x_124055 = ((float *) mem_121407.mem)[gtid_116810 *
                                                            lifted_single_ma_l_arg_114528 +
                                                            i_124050];
                int64_t i_124056 = sub64(gtid_116812, (int64_t) 1);
                bool x_124057 = sle64((int64_t) 0, i_124056);
                bool y_124058 = slt64(i_124056, lifted_single_ma_l_arg_114528);
                bool bounds_check_124059 = x_124057 && y_124058;
                bool index_certs_124060;
                
                if (!bounds_check_124059) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_124056,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114528,
                                  "].",
                                  "-> #0  stl.fut:39:46-53\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-84\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float y_124061 = ((float *) mem_121407.mem)[gtid_116810 *
                                                            lifted_single_ma_l_arg_114528 +
                                                            i_124056];
                float x_124062 = x_124055 - y_124061;
                float defunc_0_f_res_f_res_124063 = x_124062 / 3.0F;
                
                defunc_0_f_res_124047 = defunc_0_f_res_f_res_124063;
            }
            // write mapped values results to memory
            { }
            x_124043 = x_124043;
            // Read next values
            {
                x_124044 = defunc_0_f_res_124047;
            }
            
            float defunc_1_op_res_124045 = x_124043 + x_124044;
            
            ((float *) mem_121413.mem)[gtid_116812] = defunc_1_op_res_124045;
            x_124043 = defunc_1_op_res_124045;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_129987_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_129987_end -
                 futhark_mc_scan_stage_1_parloop_129987_start;
        
        ctx->futhark_mc_scan_stage_1_parloop_129987_runs[tid]++;
        ctx->futhark_mc_scan_stage_1_parloop_129987_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_1_parloop_129987_iter[tid] += iterations;
    }
    return err;
}
struct futhark_mc_scan_stage_3_parloop_struct_129988 {
    struct futhark_context *ctx;
    int64_t free_lifted_single_ma_l_arg_114528;
    int64_t free_gtid_116810;
    float free_x_116814;
    char *free_mem_121407;
    char *free_mem_121413;
};
static int futhark_mc_scan_stage_3_parloop_129989(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_116811, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_3_parloop_struct_129988
    *futhark_mc_scan_stage_3_parloop_struct_129988 =
    (struct futhark_mc_scan_stage_3_parloop_struct_129988 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_3_parloop_struct_129988->ctx;
    uint64_t futhark_mc_scan_stage_3_parloop_129989_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_3_parloop_129989_start = get_wall_time();
    
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_scan_stage_3_parloop_struct_129988->free_lifted_single_ma_l_arg_114528;
    int64_t gtid_116810 =
            futhark_mc_scan_stage_3_parloop_struct_129988->free_gtid_116810;
    float x_116814 =
          futhark_mc_scan_stage_3_parloop_struct_129988->free_x_116814;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_129988->free_mem_121407,
                                  .size =0, .references =NULL};
    struct memblock mem_121413 = {.desc ="mem_121413", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_129988->free_mem_121413,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_124079 = start;
    float x_124076;
    float x_124077;
    
    if (iter_124079 == (int64_t) 0) {
        x_124076 = 0.0F;
    } else {
        x_124076 = ((float *) mem_121413.mem)[iter_124079 - (int64_t) 1];
    }
    for (; iter_124079 < end; iter_124079++) {
        int64_t gtid_116812 = iter_124079;
        
        // stage 3 scan body
        {
            bool cond_124046 = gtid_116812 == (int64_t) 0;
            float defunc_0_f_res_124047;
            
            if (cond_124046) {
                float defunc_0_f_res_t_res_124048 = x_116814 / 3.0F;
                
                defunc_0_f_res_124047 = defunc_0_f_res_t_res_124048;
            } else {
                int64_t x_124049 = add64((int64_t) 3, gtid_116812);
                int64_t i_124050 = sub64(x_124049, (int64_t) 1);
                bool x_124051 = sle64((int64_t) 0, i_124050);
                bool y_124052 = slt64(i_124050, lifted_single_ma_l_arg_114528);
                bool bounds_check_124053 = x_124051 && y_124052;
                bool index_certs_124054;
                
                if (!bounds_check_124053) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_124050,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114528,
                                  "].",
                                  "-> #0  stl.fut:39:29-42\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-84\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float x_124055 = ((float *) mem_121407.mem)[gtid_116810 *
                                                            lifted_single_ma_l_arg_114528 +
                                                            i_124050];
                int64_t i_124056 = sub64(gtid_116812, (int64_t) 1);
                bool x_124057 = sle64((int64_t) 0, i_124056);
                bool y_124058 = slt64(i_124056, lifted_single_ma_l_arg_114528);
                bool bounds_check_124059 = x_124057 && y_124058;
                bool index_certs_124060;
                
                if (!bounds_check_124059) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_124056,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114528,
                                  "].",
                                  "-> #0  stl.fut:39:46-53\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-84\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float y_124061 = ((float *) mem_121407.mem)[gtid_116810 *
                                                            lifted_single_ma_l_arg_114528 +
                                                            i_124056];
                float x_124062 = x_124055 - y_124061;
                float defunc_0_f_res_f_res_124063 = x_124062 / 3.0F;
                
                defunc_0_f_res_124047 = defunc_0_f_res_f_res_124063;
            }
            x_124076 = x_124076;
            x_124077 = defunc_0_f_res_124047;
            
            float defunc_1_op_res_124078 = x_124076 + x_124077;
            
            ((float *) mem_121413.mem)[gtid_116812] = defunc_1_op_res_124078;
            x_124076 = defunc_1_op_res_124078;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_3_parloop_129989_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_3_parloop_129989_end -
                 futhark_mc_scan_stage_3_parloop_129989_start;
        
        ctx->futhark_mc_scan_stage_3_parloop_129989_runs[tid]++;
        ctx->futhark_mc_scan_stage_3_parloop_129989_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_3_parloop_129989_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segscan_task_129984(void *args, int64_t iterations, int tid,
                                   struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116811 = tid;
    int num_tasks_124066 = info.nsubtasks;
    struct futhark_mc_task_129983 *futhark_mc_task_129983 =
                                  (struct futhark_mc_task_129983 *) args;
    struct futhark_context *ctx = futhark_mc_task_129983->ctx;
    uint64_t futhark_mc_segscan_task_129984_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segscan_task_129984_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129983->free_n_114105;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_task_129983->free_lifted_single_ma_l_arg_114528;
    int64_t gtid_116810 = futhark_mc_task_129983->free_gtid_116810;
    float x_116814 = futhark_mc_task_129983->free_x_116814;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_task_129983->free_mem_121407,
                                  .size =0, .references =NULL};
    struct memblock mem_121413 = {.desc ="mem_121413", .mem =
                                  futhark_mc_task_129983->free_mem_121413,
                                  .size =0, .references =NULL};
    size_t scan_stage_2_accum_mem_124073_cached_sizze_129985 = 0;
    char *scan_stage_2_accum_mem_124073 = NULL;
    int64_t iter_124067;
    struct futhark_mc_scan_stage_1_parloop_struct_129986
    futhark_mc_scan_stage_1_parloop_struct_129986;
    
    futhark_mc_scan_stage_1_parloop_struct_129986.ctx = ctx;
    futhark_mc_scan_stage_1_parloop_struct_129986.free_lifted_single_ma_l_arg_114528 =
        lifted_single_ma_l_arg_114528;
    futhark_mc_scan_stage_1_parloop_struct_129986.free_gtid_116810 =
        gtid_116810;
    futhark_mc_scan_stage_1_parloop_struct_129986.free_x_116814 = x_116814;
    futhark_mc_scan_stage_1_parloop_struct_129986.free_mem_121407 =
        mem_121407.mem;
    futhark_mc_scan_stage_1_parloop_struct_129986.free_mem_121413 =
        mem_121413.mem;
    
    struct scheduler_parloop futhark_mc_scan_stage_1_parloop_129987_task;
    
    futhark_mc_scan_stage_1_parloop_129987_task.name =
        "futhark_mc_scan_stage_1_parloop_129987";
    futhark_mc_scan_stage_1_parloop_129987_task.fn =
        futhark_mc_scan_stage_1_parloop_129987;
    futhark_mc_scan_stage_1_parloop_129987_task.args =
        &futhark_mc_scan_stage_1_parloop_struct_129986;
    futhark_mc_scan_stage_1_parloop_129987_task.iterations = iterations;
    futhark_mc_scan_stage_1_parloop_129987_task.info = info;
    
    uint64_t futhark_mc_scan_stage_1_parloop_129987_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_129987_total_start = get_wall_time();
    
    int futhark_mc_scan_stage_1_parloop_129987_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_scan_stage_1_parloop_129987_task);
    
    if (futhark_mc_scan_stage_1_parloop_129987_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_129987_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_129987_total_end -
                 futhark_mc_scan_stage_1_parloop_129987_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_129987_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_129987_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_129987_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (slt32(1, num_tasks_124066)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmentedScan stage 2");
        
        float x_124068;
        float x_124069;
        int64_t offset_124071 = (int64_t) 0;
        int64_t offset_index_124072 = (int64_t) 0;
        
        if (scan_stage_2_accum_mem_124073_cached_sizze_129985 <
            (size_t) (int64_t) 4) {
            scan_stage_2_accum_mem_124073 =
                realloc(scan_stage_2_accum_mem_124073, (int64_t) 4);
            scan_stage_2_accum_mem_124073_cached_sizze_129985 = (int64_t) 4;
        }
        ((float *) scan_stage_2_accum_mem_124073)[(int64_t) 0] = 0.0F;
        for (int32_t i_124075 = 0; i_124075 < num_tasks_124066 - 1;
             i_124075++) {
            offset_124071 = squot64(n_114105, sext_i32_i64(num_tasks_124066));
            if (slt64(sext_i32_i64(i_124075), srem64(n_114105,
                                                     sext_i32_i64(num_tasks_124066)))) {
                offset_124071 += (int64_t) 1;
            }
            offset_index_124072 += offset_124071;
            
            int64_t gtid_116812 = offset_index_124072;
            bool cond_124046 = gtid_116812 == (int64_t) 0;
            float defunc_0_f_res_124047;
            
            if (cond_124046) {
                float defunc_0_f_res_t_res_124048 = x_116814 / 3.0F;
                
                defunc_0_f_res_124047 = defunc_0_f_res_t_res_124048;
            } else {
                int64_t x_124049 = add64((int64_t) 3, gtid_116812);
                int64_t i_124050 = sub64(x_124049, (int64_t) 1);
                bool x_124051 = sle64((int64_t) 0, i_124050);
                bool y_124052 = slt64(i_124050, lifted_single_ma_l_arg_114528);
                bool bounds_check_124053 = x_124051 && y_124052;
                bool index_certs_124054;
                
                if (!bounds_check_124053) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_124050,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114528,
                                  "].",
                                  "-> #0  stl.fut:39:29-42\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-84\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float x_124055 = ((float *) mem_121407.mem)[gtid_116810 *
                                                            lifted_single_ma_l_arg_114528 +
                                                            i_124050];
                int64_t i_124056 = sub64(gtid_116812, (int64_t) 1);
                bool x_124057 = sle64((int64_t) 0, i_124056);
                bool y_124058 = slt64(i_124056, lifted_single_ma_l_arg_114528);
                bool bounds_check_124059 = x_124057 && y_124058;
                bool index_certs_124060;
                
                if (!bounds_check_124059) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) i_124056,
                                  "] out of bounds for array of shape [",
                                  (long long) lifted_single_ma_l_arg_114528,
                                  "].",
                                  "-> #0  stl.fut:39:46-53\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:34:12-40:23\n   #4  /prelude/soacs.fut:67:19-23\n   #5  /prelude/soacs.fut:67:3-37\n   #6  stl.fut:33:5-41:23\n   #7  /prelude/functional.fut:9:42-44\n   #8  stl.fut:45:3-84\n   #9  stl.fut:201:23-47\n   #10 stl.fut:365:3-376:33\n   #11 stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float y_124061 = ((float *) mem_121407.mem)[gtid_116810 *
                                                            lifted_single_ma_l_arg_114528 +
                                                            i_124056];
                float x_124062 = x_124055 - y_124061;
                float defunc_0_f_res_f_res_124063 = x_124062 / 3.0F;
                
                defunc_0_f_res_124047 = defunc_0_f_res_f_res_124063;
            }
            // Read carry in
            {
                x_124068 =
                    ((float *) scan_stage_2_accum_mem_124073)[(int64_t) 0];
            }
            // Read next values
            {
                x_124069 = ((float *) mem_121413.mem)[offset_index_124072 -
                                                      (int64_t) 1];
            }
            
            float defunc_1_op_res_124070 = x_124068 + x_124069;
            
            ((float *) mem_121413.mem)[offset_index_124072 - (int64_t) 1] =
                defunc_1_op_res_124070;
            ((float *) scan_stage_2_accum_mem_124073)[(int64_t) 0] =
                defunc_1_op_res_124070;
        }
        
        int64_t iter_124079 = (int64_t) 0;
        struct futhark_mc_scan_stage_3_parloop_struct_129988
        futhark_mc_scan_stage_3_parloop_struct_129988;
        
        futhark_mc_scan_stage_3_parloop_struct_129988.ctx = ctx;
        futhark_mc_scan_stage_3_parloop_struct_129988.free_lifted_single_ma_l_arg_114528 =
            lifted_single_ma_l_arg_114528;
        futhark_mc_scan_stage_3_parloop_struct_129988.free_gtid_116810 =
            gtid_116810;
        futhark_mc_scan_stage_3_parloop_struct_129988.free_x_116814 = x_116814;
        futhark_mc_scan_stage_3_parloop_struct_129988.free_mem_121407 =
            mem_121407.mem;
        futhark_mc_scan_stage_3_parloop_struct_129988.free_mem_121413 =
            mem_121413.mem;
        
        struct scheduler_parloop futhark_mc_scan_stage_3_parloop_129989_task;
        
        futhark_mc_scan_stage_3_parloop_129989_task.name =
            "futhark_mc_scan_stage_3_parloop_129989";
        futhark_mc_scan_stage_3_parloop_129989_task.fn =
            futhark_mc_scan_stage_3_parloop_129989;
        futhark_mc_scan_stage_3_parloop_129989_task.args =
            &futhark_mc_scan_stage_3_parloop_struct_129988;
        futhark_mc_scan_stage_3_parloop_129989_task.iterations = iterations;
        futhark_mc_scan_stage_3_parloop_129989_task.info = info;
        
        uint64_t futhark_mc_scan_stage_3_parloop_129989_total_start = 0;
        
        if (ctx->profiling && !ctx->profiling_paused)
            futhark_mc_scan_stage_3_parloop_129989_total_start =
                get_wall_time();
        
        int futhark_mc_scan_stage_3_parloop_129989_err =
            scheduler_execute_task(&ctx->scheduler,
                                   &futhark_mc_scan_stage_3_parloop_129989_task);
        
        if (futhark_mc_scan_stage_3_parloop_129989_err != 0) {
            err = 1;
            goto cleanup;
        }
        if (ctx->profiling && !ctx->profiling_paused) {
            uint64_t futhark_mc_scan_stage_3_parloop_129989_total_end =
                     get_wall_time();
            uint64_t elapsed =
                     futhark_mc_scan_stage_3_parloop_129989_total_end -
                     futhark_mc_scan_stage_3_parloop_129989_total_start;
            
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_129989_total_runs,
                               1, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_129989_total_total_runtime,
                               elapsed, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_129989_total_iter,
                               iterations, __ATOMIC_RELAXED);
        }
    }
    free(scan_stage_2_accum_mem_124073);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segscan_task_129984_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segscan_task_129984_end -
                 futhark_mc_segscan_task_129984_start;
        
        ctx->futhark_mc_segscan_task_129984_runs[tid]++;
        ctx->futhark_mc_segscan_task_129984_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segscan_task_129984_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129981(void *args, int64_t start,
                                            int64_t end, int flat_tid_116809,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129980
    *futhark_mc_segmap_parloop_struct_129980 =
    (struct futhark_mc_segmap_parloop_struct_129980 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129980->ctx;
    uint64_t futhark_mc_segmap_parloop_129981_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129981_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129980->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129980->free_n_114105;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_segmap_parloop_struct_129980->free_lifted_single_ma_l_arg_114528;
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_129980->free_bytes_121048;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_segmap_parloop_struct_129980->free_mem_121407,
                                  .size =0, .references =NULL};
    struct memblock mem_121410 = {.desc ="mem_121410", .mem =
                                  futhark_mc_segmap_parloop_struct_129980->free_mem_121410,
                                  .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_129980->free_mem_121432,
                                  .size =0, .references =NULL};
    size_t mem_121413_cached_sizze_129982 = 0;
    char *mem_121413 = NULL;
    int64_t iterations = end - start;
    int64_t iter_124042 = start;
    
    if (mem_121413_cached_sizze_129982 < (size_t) bytes_121048) {
        mem_121413 = realloc(mem_121413, bytes_121048);
        mem_121413_cached_sizze_129982 = bytes_121048;
    }
    for (; iter_124042 < end; iter_124042++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_124064 = m_114104;
        int64_t gtid_116810 = iter_124042;
        int64_t remnant_124065 = iter_124042 - gtid_116810;
        float x_116814 = ((float *) mem_121410.mem)[gtid_116810];
        int64_t flat_tid_116811 = (int64_t) 0;
        int32_t num_tasks_124066;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmented segScan");
        
        struct futhark_mc_task_129983 futhark_mc_task_129983;
        
        futhark_mc_task_129983.ctx = ctx;
        futhark_mc_task_129983.free_n_114105 = n_114105;
        futhark_mc_task_129983.free_lifted_single_ma_l_arg_114528 =
            lifted_single_ma_l_arg_114528;
        futhark_mc_task_129983.free_gtid_116810 = gtid_116810;
        futhark_mc_task_129983.free_x_116814 = x_116814;
        futhark_mc_task_129983.free_mem_121407 = mem_121407.mem;
        futhark_mc_task_129983.free_mem_121413 = mem_121413;
        
        struct scheduler_segop futhark_mc_task_129983_task;
        
        futhark_mc_task_129983_task.args = &futhark_mc_task_129983;
        futhark_mc_task_129983_task.top_level_fn =
            futhark_mc_segscan_task_129984;
        futhark_mc_task_129983_task.name = "futhark_mc_segscan_task_129984";
        futhark_mc_task_129983_task.iterations = n_114105;
        futhark_mc_task_129983_task.task_time =
            &ctx->futhark_mc_segscan_task_129984_total_time;
        futhark_mc_task_129983_task.task_iter =
            &ctx->futhark_mc_segscan_task_129984_total_iter;
        futhark_mc_task_129983_task.sched = STATIC;
        futhark_mc_task_129983_task.nested_fn = NULL;
        
        int futhark_mc_segscan_task_129984_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129983_task);
        
        if (futhark_mc_segscan_task_129984_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121432.mem + gtid_116810 * n_114105 * (int64_t) 4,
                mem_121413 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121413);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129981_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129981_end -
                 futhark_mc_segmap_parloop_129981_start;
        
        ctx->futhark_mc_segmap_parloop_129981_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129981_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129981_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129979(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116809 = tid;
    int num_tasks_124013 = info.nsubtasks;
    struct futhark_mc_task_129974 *futhark_mc_task_129974 =
                                  (struct futhark_mc_task_129974 *) args;
    struct futhark_context *ctx = futhark_mc_task_129974->ctx;
    uint64_t futhark_mc_segmap_nested_task_129979_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129979_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129974->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129974->free_n_114105;
    int64_t lifted_single_ma_l_arg_114528 =
            futhark_mc_task_129974->free_lifted_single_ma_l_arg_114528;
    int64_t bytes_121048 = futhark_mc_task_129974->free_bytes_121048;
    struct memblock mem_121407 = {.desc ="mem_121407", .mem =
                                  futhark_mc_task_129974->free_mem_121407,
                                  .size =0, .references =NULL};
    struct memblock mem_121410 = {.desc ="mem_121410", .mem =
                                  futhark_mc_task_129974->free_mem_121410,
                                  .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_129974->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t iter_124042;
    struct futhark_mc_segmap_parloop_struct_129980
    futhark_mc_segmap_parloop_struct_129980;
    
    futhark_mc_segmap_parloop_struct_129980.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129980.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129980.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129980.free_lifted_single_ma_l_arg_114528 =
        lifted_single_ma_l_arg_114528;
    futhark_mc_segmap_parloop_struct_129980.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_129980.free_mem_121407 = mem_121407.mem;
    futhark_mc_segmap_parloop_struct_129980.free_mem_121410 = mem_121410.mem;
    futhark_mc_segmap_parloop_struct_129980.free_mem_121432 = mem_121432.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129981_task;
    
    futhark_mc_segmap_parloop_129981_task.name =
        "futhark_mc_segmap_parloop_129981";
    futhark_mc_segmap_parloop_129981_task.fn = futhark_mc_segmap_parloop_129981;
    futhark_mc_segmap_parloop_129981_task.args =
        &futhark_mc_segmap_parloop_struct_129980;
    futhark_mc_segmap_parloop_129981_task.iterations = iterations;
    futhark_mc_segmap_parloop_129981_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129981_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129981_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129981_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129981_task);
    
    if (futhark_mc_segmap_parloop_129981_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129981_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129981_total_end -
                 futhark_mc_segmap_parloop_129981_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129981_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129981_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129981_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129979_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129979_end -
                 futhark_mc_segmap_nested_task_129979_start;
        
        ctx->futhark_mc_segmap_nested_task_129979_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129979_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129979_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_129990 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121458;
};
struct futhark_mc_segmap_parloop_struct_129992 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121458;
};
static int futhark_mc_segmap_parloop_129993(void *args, int64_t start,
                                            int64_t end, int flat_tid_116838,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129992
    *futhark_mc_segmap_parloop_struct_129992 =
    (struct futhark_mc_segmap_parloop_struct_129992 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129992->ctx;
    uint64_t futhark_mc_segmap_parloop_129993_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129993_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129992->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129992->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_129992->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_129992->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_129992->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_129992->free_i_114181;
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_129992->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_129992->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_129992->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_129992->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_129992->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_129992->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_129992->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_129992->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121458 = {.desc ="mem_121458", .mem =
                                  futhark_mc_segmap_parloop_struct_129992->free_mem_121458,
                                  .size =0, .references =NULL};
    size_t mem_121442_cached_sizze_129994 = 0;
    char *mem_121442 = NULL;
    int64_t iterations = end - start;
    int64_t iter_124083 = start;
    
    if (mem_121442_cached_sizze_129994 < (size_t) bytes_121117) {
        mem_121442 = realloc(mem_121442, bytes_121117);
        mem_121442_cached_sizze_129994 = bytes_121117;
    }
    for (; iter_124083 < end; iter_124083++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_124140 = m_114104;
        int64_t gtid_116839 = iter_124083;
        int64_t remnant_124141 = iter_124083 - gtid_116839;
        
        for (int64_t i_124084 = 0; i_124084 < l_n_m_114155; i_124084++) {
            int64_t x_124086 = ((int64_t *) mem_121171.mem)[gtid_116839 *
                                                            l_n_m_114155 +
                                                            i_124084];
            float x_124087 = ((float *) mem_121175.mem)[gtid_116839 *
                                                        l_n_m_114155 +
                                                        i_124084];
            int64_t min_arg_124088 = mul64(t_jump_114112, i_124084);
            int64_t min_res_124089 = smin64(i_114181, min_arg_124088);
            float defunc_0_f_res_124090 = sitofp_i64_f32(min_res_124089);
            float defunc_2_reduce_res_124091;
            float redout_124093 = 0.0F;
            
            for (int64_t i_124092 = 0; i_124092 < l_window_114109; i_124092++) {
                bool cond_124094 = sle64(n_114105, i_124092);
                float defunc_0_f_res_124095;
                
                if (cond_124094) {
                    defunc_0_f_res_124095 = 0.0F;
                } else {
                    int64_t i_124096 = add64(x_124086, i_124092);
                    float index_primexp_124097 = sitofp_i64_f32(i_124096);
                    float defunc_0_f_res_f_res_124098 = 1.0F +
                          index_primexp_124097;
                    
                    defunc_0_f_res_124095 = defunc_0_f_res_f_res_124098;
                }
                
                float defunc_0_f_res_124099;
                
                if (cond_124094) {
                    defunc_0_f_res_124099 = 0.0F;
                } else {
                    int64_t i_124100 = add64(x_124086, i_124092);
                    float x_124101 =
                          ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                           (gtid_116839 *
                                                            ctx_param_ext_121265 +
                                                            i_124100 *
                                                            ctx_param_ext_121267)];
                    
                    defunc_0_f_res_124099 = x_124101;
                }
                
                float x_j_124102 = defunc_0_f_res_124095 -
                      defunc_0_f_res_124090;
                float abs_res_124103 = (float) fabs(x_j_124102);
                float tmp1_124104 = abs_res_124103 / x_124087;
                float x_124105 = tmp1_124104 * tmp1_124104;
                float y_124106 = tmp1_124104 * x_124105;
                float tmp2_124107 = 1.0F - y_124106;
                float x_124108 = tmp2_124107 * tmp2_124107;
                float tmp3_124109 = tmp2_124107 * x_124108;
                float w_j_124110 = defunc_0_f_res_124099 * tmp3_124109;
                float defunc_1_op_res_124111 = w_j_124110 + redout_124093;
                float redout_tmp_124143 = defunc_1_op_res_124111;
                
                redout_124093 = redout_tmp_124143;
            }
            defunc_2_reduce_res_124091 = redout_124093;
            
            float a0_124112 = 1.0F / defunc_2_reduce_res_124091;
            float defunc_2_reduce_res_124113;
            float redout_124115 = 0.0F;
            
            for (int64_t i_124114 = 0; i_124114 < l_window_114109; i_124114++) {
                bool cond_124116 = sle64(n_114105, i_124114);
                float defunc_0_f_res_124117;
                
                if (cond_124116) {
                    defunc_0_f_res_124117 = 0.0F;
                } else {
                    int64_t i_124118 = add64(x_124086, i_124114);
                    float index_primexp_124119 = sitofp_i64_f32(i_124118);
                    float defunc_0_f_res_f_res_124120 = 1.0F +
                          index_primexp_124119;
                    
                    defunc_0_f_res_124117 = defunc_0_f_res_f_res_124120;
                }
                
                float defunc_0_f_res_124121;
                
                if (cond_124116) {
                    defunc_0_f_res_124121 = 0.0F;
                } else {
                    int64_t i_124122 = add64(x_124086, i_124114);
                    float x_124123 =
                          ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                           (gtid_116839 *
                                                            ctx_param_ext_121265 +
                                                            i_124122 *
                                                            ctx_param_ext_121267)];
                    
                    defunc_0_f_res_124121 = x_124123;
                }
                
                float x_j_124124 = defunc_0_f_res_124117 -
                      defunc_0_f_res_124090;
                float abs_res_124125 = (float) fabs(x_j_124124);
                float tmp1_124126 = abs_res_124125 / x_124087;
                float x_124127 = tmp1_124126 * tmp1_124126;
                float y_124128 = tmp1_124126 * x_124127;
                float tmp2_124129 = 1.0F - y_124128;
                float x_124130 = tmp2_124129 * tmp2_124129;
                float tmp3_124131 = tmp2_124129 * x_124130;
                float tmp4_124132 = defunc_0_f_res_124121 * tmp3_124131;
                float defunc_0_f_res_124133;
                
                if (cond_124116) {
                    defunc_0_f_res_124133 = 0.0F;
                } else {
                    int64_t i_124134 = add64(x_124086, i_124114);
                    float x_124135 = ((float *) mem_121432.mem)[gtid_116839 *
                                                                n_114105 +
                                                                i_124134];
                    
                    defunc_0_f_res_124133 = x_124135;
                }
                
                float x_124136 = a0_124112 * tmp4_124132;
                float defunc_9_fit_fun_res_124137 = defunc_0_f_res_124133 *
                      x_124136;
                float defunc_1_op_res_124138 = defunc_9_fit_fun_res_124137 +
                      redout_124115;
                float redout_tmp_124144 = defunc_1_op_res_124138;
                
                redout_124115 = redout_tmp_124144;
            }
            defunc_2_reduce_res_124113 = redout_124115;
            ((float *) mem_121442)[i_124084] = defunc_2_reduce_res_124113;
        }
        memmove(mem_121458.mem + gtid_116839 * l_n_m_114155 * (int64_t) 4,
                mem_121442 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121442);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129993_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129993_end -
                 futhark_mc_segmap_parloop_129993_start;
        
        ctx->futhark_mc_segmap_parloop_129993_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129993_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129993_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_129991(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116838 = tid;
    int num_tasks_124082 = info.nsubtasks;
    struct futhark_mc_task_129990 *futhark_mc_task_129990 =
                                  (struct futhark_mc_task_129990 *) args;
    struct futhark_context *ctx = futhark_mc_task_129990->ctx;
    uint64_t futhark_mc_segmap_task_129991_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_129991_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129990->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129990->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_129990->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_129990->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_129990->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_129990->free_i_114181;
    int64_t bytes_121117 = futhark_mc_task_129990->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_129990->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_129990->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_129990->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_129990->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_129990->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_129990->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_129990->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121458 = {.desc ="mem_121458", .mem =
                                  futhark_mc_task_129990->free_mem_121458,
                                  .size =0, .references =NULL};
    int64_t iter_124083;
    struct futhark_mc_segmap_parloop_struct_129992
    futhark_mc_segmap_parloop_struct_129992;
    
    futhark_mc_segmap_parloop_struct_129992.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129992.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129992.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129992.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_129992.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_129992.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_129992.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_129992.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_129992.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_129992.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_129992.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_129992.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_129992.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_129992.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_129992.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_129992.free_mem_121458 = mem_121458.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129993_task;
    
    futhark_mc_segmap_parloop_129993_task.name =
        "futhark_mc_segmap_parloop_129993";
    futhark_mc_segmap_parloop_129993_task.fn = futhark_mc_segmap_parloop_129993;
    futhark_mc_segmap_parloop_129993_task.args =
        &futhark_mc_segmap_parloop_struct_129992;
    futhark_mc_segmap_parloop_129993_task.iterations = iterations;
    futhark_mc_segmap_parloop_129993_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129993_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129993_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129993_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129993_task);
    
    if (futhark_mc_segmap_parloop_129993_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129993_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129993_total_end -
                 futhark_mc_segmap_parloop_129993_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129993_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129993_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129993_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_129991_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_129991_end -
                 futhark_mc_segmap_task_129991_start;
        
        ctx->futhark_mc_segmap_task_129991_runs[tid]++;
        ctx->futhark_mc_segmap_task_129991_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_129991_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_129996 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121458;
};
struct futhark_mc_task_129999 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_116841;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121439;
};
struct futhark_mc_segmap_parloop_struct_130001 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_116841;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121439;
};
static int futhark_mc_segmap_parloop_130002(void *args, int64_t start,
                                            int64_t end, int flat_tid_116842,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130001
    *futhark_mc_segmap_parloop_struct_130001 =
    (struct futhark_mc_segmap_parloop_struct_130001 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130001->ctx;
    uint64_t futhark_mc_segmap_parloop_130002_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130002_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130001->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130001->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130001->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130001->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130001->free_i_114181;
    int64_t gtid_116841 =
            futhark_mc_segmap_parloop_struct_130001->free_gtid_116841;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130001->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130001->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130001->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130001->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130001->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130001->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130001->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121439 = {.desc ="mem_121439", .mem =
                                  futhark_mc_segmap_parloop_struct_130001->free_mem_121439,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_124255 = start;
    
    for (; iter_124255 < end; iter_124255++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_124301 = l_n_m_114155;
        int64_t gtid_116843 = iter_124255;
        int64_t remnant_124302 = iter_124255 - gtid_116843;
        int64_t x_124199 = ((int64_t *) mem_121171.mem)[gtid_116841 *
                                                        l_n_m_114155 +
                                                        gtid_116843];
        float x_124200 = ((float *) mem_121175.mem)[gtid_116841 * l_n_m_114155 +
                                                    gtid_116843];
        int64_t min_arg_124201 = mul64(t_jump_114112, gtid_116843);
        int64_t min_res_124202 = smin64(i_114181, min_arg_124201);
        float defunc_0_f_res_124203 = sitofp_i64_f32(min_res_124202);
        float defunc_2_reduce_res_124204;
        float redout_124257 = 0.0F;
        
        for (int64_t i_124256 = 0; i_124256 < l_window_114109; i_124256++) {
            bool cond_124258 = sle64(n_114105, i_124256);
            float defunc_0_f_res_124259;
            
            if (cond_124258) {
                defunc_0_f_res_124259 = 0.0F;
            } else {
                int64_t i_124260 = add64(x_124199, i_124256);
                float index_primexp_124261 = sitofp_i64_f32(i_124260);
                float defunc_0_f_res_f_res_124262 = 1.0F + index_primexp_124261;
                
                defunc_0_f_res_124259 = defunc_0_f_res_f_res_124262;
            }
            
            float defunc_0_f_res_124263;
            
            if (cond_124258) {
                defunc_0_f_res_124263 = 0.0F;
            } else {
                int64_t i_124264 = add64(x_124199, i_124256);
                float x_124265 =
                      ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                       (gtid_116841 *
                                                        ctx_param_ext_121265 +
                                                        i_124264 *
                                                        ctx_param_ext_121267)];
                
                defunc_0_f_res_124263 = x_124265;
            }
            
            float x_j_124266 = defunc_0_f_res_124259 - defunc_0_f_res_124203;
            float abs_res_124267 = (float) fabs(x_j_124266);
            float tmp1_124268 = abs_res_124267 / x_124200;
            float x_124269 = tmp1_124268 * tmp1_124268;
            float y_124270 = tmp1_124268 * x_124269;
            float tmp2_124271 = 1.0F - y_124270;
            float x_124272 = tmp2_124271 * tmp2_124271;
            float tmp3_124273 = tmp2_124271 * x_124272;
            float w_j_124274 = defunc_0_f_res_124263 * tmp3_124273;
            float defunc_1_op_res_124275 = w_j_124274 + redout_124257;
            float redout_tmp_124303 = defunc_1_op_res_124275;
            
            redout_124257 = redout_tmp_124303;
        }
        defunc_2_reduce_res_124204 = redout_124257;
        
        float a0_124225 = 1.0F / defunc_2_reduce_res_124204;
        float defunc_2_reduce_res_124226;
        float redout_124277 = 0.0F;
        
        for (int64_t i_124276 = 0; i_124276 < l_window_114109; i_124276++) {
            bool cond_124278 = sle64(n_114105, i_124276);
            float defunc_0_f_res_124279;
            
            if (cond_124278) {
                defunc_0_f_res_124279 = 0.0F;
            } else {
                int64_t i_124280 = add64(x_124199, i_124276);
                float index_primexp_124281 = sitofp_i64_f32(i_124280);
                float defunc_0_f_res_f_res_124282 = 1.0F + index_primexp_124281;
                
                defunc_0_f_res_124279 = defunc_0_f_res_f_res_124282;
            }
            
            float defunc_0_f_res_124283;
            
            if (cond_124278) {
                defunc_0_f_res_124283 = 0.0F;
            } else {
                int64_t i_124284 = add64(x_124199, i_124276);
                float x_124285 =
                      ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                       (gtid_116841 *
                                                        ctx_param_ext_121265 +
                                                        i_124284 *
                                                        ctx_param_ext_121267)];
                
                defunc_0_f_res_124283 = x_124285;
            }
            
            float x_j_124286 = defunc_0_f_res_124279 - defunc_0_f_res_124203;
            float abs_res_124287 = (float) fabs(x_j_124286);
            float tmp1_124288 = abs_res_124287 / x_124200;
            float x_124289 = tmp1_124288 * tmp1_124288;
            float y_124290 = tmp1_124288 * x_124289;
            float tmp2_124291 = 1.0F - y_124290;
            float x_124292 = tmp2_124291 * tmp2_124291;
            float tmp3_124293 = tmp2_124291 * x_124292;
            float tmp4_124294 = defunc_0_f_res_124283 * tmp3_124293;
            float defunc_0_f_res_124295;
            
            if (cond_124278) {
                defunc_0_f_res_124295 = 0.0F;
            } else {
                int64_t i_124296 = add64(x_124199, i_124276);
                float x_124297 = ((float *) mem_121432.mem)[gtid_116841 *
                                                            n_114105 +
                                                            i_124296];
                
                defunc_0_f_res_124295 = x_124297;
            }
            
            float x_124298 = a0_124225 * tmp4_124294;
            float defunc_9_fit_fun_res_124299 = defunc_0_f_res_124295 *
                  x_124298;
            float defunc_1_op_res_124300 = defunc_9_fit_fun_res_124299 +
                  redout_124277;
            float redout_tmp_124304 = defunc_1_op_res_124300;
            
            redout_124277 = redout_tmp_124304;
        }
        defunc_2_reduce_res_124226 = redout_124277;
        ((float *) mem_121439.mem)[gtid_116843] = defunc_2_reduce_res_124226;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130002_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130002_end -
                 futhark_mc_segmap_parloop_130002_start;
        
        ctx->futhark_mc_segmap_parloop_130002_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130002_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130002_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130000(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116842 = tid;
    int num_tasks_124254 = info.nsubtasks;
    struct futhark_mc_task_129999 *futhark_mc_task_129999 =
                                  (struct futhark_mc_task_129999 *) args;
    struct futhark_context *ctx = futhark_mc_task_129999->ctx;
    uint64_t futhark_mc_segmap_task_130000_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130000_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129999->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_129999->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_129999->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_129999->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_129999->free_i_114181;
    int64_t gtid_116841 = futhark_mc_task_129999->free_gtid_116841;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_129999->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_129999->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_129999->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_129999->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_129999->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_129999->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_129999->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121439 = {.desc ="mem_121439", .mem =
                                  futhark_mc_task_129999->free_mem_121439,
                                  .size =0, .references =NULL};
    int64_t iter_124255;
    struct futhark_mc_segmap_parloop_struct_130001
    futhark_mc_segmap_parloop_struct_130001;
    
    futhark_mc_segmap_parloop_struct_130001.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130001.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130001.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130001.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130001.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130001.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130001.free_gtid_116841 = gtid_116841;
    futhark_mc_segmap_parloop_struct_130001.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130001.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130001.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130001.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130001.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130001.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130001.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130001.free_mem_121439 = mem_121439.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130002_task;
    
    futhark_mc_segmap_parloop_130002_task.name =
        "futhark_mc_segmap_parloop_130002";
    futhark_mc_segmap_parloop_130002_task.fn = futhark_mc_segmap_parloop_130002;
    futhark_mc_segmap_parloop_130002_task.args =
        &futhark_mc_segmap_parloop_struct_130001;
    futhark_mc_segmap_parloop_130002_task.iterations = iterations;
    futhark_mc_segmap_parloop_130002_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130002_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130002_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130002_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130002_task);
    
    if (futhark_mc_segmap_parloop_130002_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130002_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130002_total_end -
                 futhark_mc_segmap_parloop_130002_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130002_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130002_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130002_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130000_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130000_end -
                 futhark_mc_segmap_task_130000_start;
        
        ctx->futhark_mc_segmap_task_130000_runs[tid]++;
        ctx->futhark_mc_segmap_task_130000_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130000_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130004 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_116841;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121439;
};
struct futhark_mc_task_130006 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116841;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    int64_t free_x_124146;
    float free_x_124147;
    float free_defunc_0_f_res_124150;
    float *retval_defunc_2_reduce_res_124151;
};
struct futhark_mc_segred_stage_1_parloop_struct_130009 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116841;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    int64_t free_x_124146;
    float free_x_124147;
    float free_defunc_0_f_res_124150;
    char *free_reduce_stage_1_tid_res_arr_mem_124354;
};
static int futhark_mc_segred_stage_1_parloop_130010(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_116846,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130009
    *futhark_mc_segred_stage_1_parloop_struct_130009 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130009 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130009->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130010_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130010_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130009->free_n_114105;
    int64_t gtid_116841 =
            futhark_mc_segred_stage_1_parloop_struct_130009->free_gtid_116841;
    int64_t ctx_param_ext_121264 =
            futhark_mc_segred_stage_1_parloop_struct_130009->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segred_stage_1_parloop_struct_130009->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segred_stage_1_parloop_struct_130009->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_130009->free_mem_param_121269,
                                        .size =0, .references =NULL};
    int64_t x_124146 =
            futhark_mc_segred_stage_1_parloop_struct_130009->free_x_124146;
    float x_124147 =
          futhark_mc_segred_stage_1_parloop_struct_130009->free_x_124147;
    float defunc_0_f_res_124150 =
          futhark_mc_segred_stage_1_parloop_struct_130009->free_defunc_0_f_res_124150;
    struct memblock reduce_stage_1_tid_res_arr_mem_124354 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_124354",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130009->free_reduce_stage_1_tid_res_arr_mem_124354,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_124356 = start;
    float x_124306;
    float x_124307;
    float local_acc_124357 = 0.0F;
    
    for (; iter_124356 < end; iter_124356++) {
        int64_t gtid_116847 = iter_124356;
        bool cond_124309 = sle64(n_114105, gtid_116847);
        float defunc_0_f_res_124310;
        
        if (cond_124309) {
            defunc_0_f_res_124310 = 0.0F;
        } else {
            int64_t i_124311 = add64(gtid_116847, x_124146);
            float index_primexp_124312 = sitofp_i64_f32(i_124311);
            float defunc_0_f_res_f_res_124313 = 1.0F + index_primexp_124312;
            
            defunc_0_f_res_124310 = defunc_0_f_res_f_res_124313;
        }
        
        float defunc_0_f_res_124314;
        
        if (cond_124309) {
            defunc_0_f_res_124314 = 0.0F;
        } else {
            int64_t i_124315 = add64(gtid_116847, x_124146);
            float x_124316 =
                  ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                   (gtid_116841 *
                                                    ctx_param_ext_121265 +
                                                    i_124315 *
                                                    ctx_param_ext_121267)];
            
            defunc_0_f_res_124314 = x_124316;
        }
        
        float x_j_124317 = defunc_0_f_res_124310 - defunc_0_f_res_124150;
        float abs_res_124318 = (float) fabs(x_j_124317);
        float tmp1_124319 = abs_res_124318 / x_124147;
        float x_124320 = tmp1_124319 * tmp1_124319;
        float y_124321 = tmp1_124319 * x_124320;
        float tmp2_124322 = 1.0F - y_124321;
        float x_124323 = tmp2_124322 * tmp2_124322;
        float tmp3_124324 = tmp2_124322 * x_124323;
        float w_j_124325 = defunc_0_f_res_124314 * tmp3_124324;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_124306 = local_acc_124357;
        }
        // Load next params
        {
            x_124307 = w_j_124325;
        }
        // Red body
        {
            float defunc_1_op_res_124308 = x_124306 + x_124307;
            
            local_acc_124357 = defunc_1_op_res_124308;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_124354.mem)[flat_tid_116846] =
        local_acc_124357;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130010_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130010_end -
                 futhark_mc_segred_stage_1_parloop_130010_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130010_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130010_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130010_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130007(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116846 = tid;
    int num_tasks_124353 = info.nsubtasks;
    struct futhark_mc_task_130006 *futhark_mc_task_130006 =
                                  (struct futhark_mc_task_130006 *) args;
    struct futhark_context *ctx = futhark_mc_task_130006->ctx;
    uint64_t futhark_mc_segred_task_130007_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130007_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130006->free_n_114105;
    int64_t gtid_116841 = futhark_mc_task_130006->free_gtid_116841;
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130006->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130006->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130006->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130006->free_mem_param_121269,
                                        .size =0, .references =NULL};
    int64_t x_124146 = futhark_mc_task_130006->free_x_124146;
    float x_124147 = futhark_mc_task_130006->free_x_124147;
    float defunc_0_f_res_124150 =
          futhark_mc_task_130006->free_defunc_0_f_res_124150;
    float defunc_2_reduce_res_124151 =
          *futhark_mc_task_130006->retval_defunc_2_reduce_res_124151;
    size_t reduce_stage_1_tid_res_arr_mem_124354_cached_sizze_130008 = 0;
    char *reduce_stage_1_tid_res_arr_mem_124354 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_124354_cached_sizze_130008 <
        (size_t) ((int64_t) 4 * num_tasks_124353)) {
        reduce_stage_1_tid_res_arr_mem_124354 =
            realloc(reduce_stage_1_tid_res_arr_mem_124354, (int64_t) 4 *
                    num_tasks_124353);
        reduce_stage_1_tid_res_arr_mem_124354_cached_sizze_130008 =
            (int64_t) 4 * num_tasks_124353;
    }
    
    int64_t iter_124356;
    struct futhark_mc_segred_stage_1_parloop_struct_130009
    futhark_mc_segred_stage_1_parloop_struct_130009;
    
    futhark_mc_segred_stage_1_parloop_struct_130009.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130009.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130009.free_gtid_116841 =
        gtid_116841;
    futhark_mc_segred_stage_1_parloop_struct_130009.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segred_stage_1_parloop_struct_130009.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segred_stage_1_parloop_struct_130009.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segred_stage_1_parloop_struct_130009.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segred_stage_1_parloop_struct_130009.free_x_124146 = x_124146;
    futhark_mc_segred_stage_1_parloop_struct_130009.free_x_124147 = x_124147;
    futhark_mc_segred_stage_1_parloop_struct_130009.free_defunc_0_f_res_124150 =
        defunc_0_f_res_124150;
    futhark_mc_segred_stage_1_parloop_struct_130009.free_reduce_stage_1_tid_res_arr_mem_124354 =
        reduce_stage_1_tid_res_arr_mem_124354;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130010_task;
    
    futhark_mc_segred_stage_1_parloop_130010_task.name =
        "futhark_mc_segred_stage_1_parloop_130010";
    futhark_mc_segred_stage_1_parloop_130010_task.fn =
        futhark_mc_segred_stage_1_parloop_130010;
    futhark_mc_segred_stage_1_parloop_130010_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130009;
    futhark_mc_segred_stage_1_parloop_130010_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130010_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130010_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130010_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130010_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130010_task);
    
    if (futhark_mc_segred_stage_1_parloop_130010_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130010_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130010_total_end -
                 futhark_mc_segred_stage_1_parloop_130010_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130010_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130010_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130010_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_124151 = 0.0F;
    }
    
    float x_124358;
    float x_124359;
    
    for (int32_t i_124361 = 0; i_124361 < num_tasks_124353; i_124361++) {
        flat_tid_116846 = i_124361;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_124358 = defunc_2_reduce_res_124151;
            }
            // load next params
            {
                x_124359 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_124354)[flat_tid_116846];
            }
            // red body
            {
                float defunc_1_op_res_124360 = x_124358 + x_124359;
                
                defunc_2_reduce_res_124151 = defunc_1_op_res_124360;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_124354);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130007_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130007_end -
                 futhark_mc_segred_task_130007_start;
        
        ctx->futhark_mc_segred_task_130007_runs[tid]++;
        ctx->futhark_mc_segred_task_130007_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130007_iter[tid] += iterations;
    }
    *futhark_mc_task_130006->retval_defunc_2_reduce_res_124151 =
        defunc_2_reduce_res_124151;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130011 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116841;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_x_124146;
    float free_x_124147;
    float free_defunc_0_f_res_124150;
    float free_a0_124172;
    float *retval_defunc_2_reduce_res_124173;
};
struct futhark_mc_segred_stage_1_parloop_struct_130014 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_116841;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_x_124146;
    float free_x_124147;
    float free_defunc_0_f_res_124150;
    float free_a0_124172;
    char *free_reduce_stage_1_tid_res_arr_mem_124363;
};
static int futhark_mc_segred_stage_1_parloop_130015(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_116848,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130014
    *futhark_mc_segred_stage_1_parloop_struct_130014 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130014 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130014->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130015_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130015_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130014->free_n_114105;
    int64_t gtid_116841 =
            futhark_mc_segred_stage_1_parloop_struct_130014->free_gtid_116841;
    int64_t ctx_param_ext_121264 =
            futhark_mc_segred_stage_1_parloop_struct_130014->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segred_stage_1_parloop_struct_130014->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segred_stage_1_parloop_struct_130014->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_130014->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130014->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t x_124146 =
            futhark_mc_segred_stage_1_parloop_struct_130014->free_x_124146;
    float x_124147 =
          futhark_mc_segred_stage_1_parloop_struct_130014->free_x_124147;
    float defunc_0_f_res_124150 =
          futhark_mc_segred_stage_1_parloop_struct_130014->free_defunc_0_f_res_124150;
    float a0_124172 =
          futhark_mc_segred_stage_1_parloop_struct_130014->free_a0_124172;
    struct memblock reduce_stage_1_tid_res_arr_mem_124363 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_124363",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130014->free_reduce_stage_1_tid_res_arr_mem_124363,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_124365 = start;
    float x_124326;
    float x_124327;
    float local_acc_124366 = 0.0F;
    
    for (; iter_124365 < end; iter_124365++) {
        int64_t gtid_116849 = iter_124365;
        bool cond_124329 = sle64(n_114105, gtid_116849);
        float defunc_0_f_res_124330;
        
        if (cond_124329) {
            defunc_0_f_res_124330 = 0.0F;
        } else {
            int64_t i_124331 = add64(gtid_116849, x_124146);
            float index_primexp_124332 = sitofp_i64_f32(i_124331);
            float defunc_0_f_res_f_res_124333 = 1.0F + index_primexp_124332;
            
            defunc_0_f_res_124330 = defunc_0_f_res_f_res_124333;
        }
        
        float defunc_0_f_res_124334;
        
        if (cond_124329) {
            defunc_0_f_res_124334 = 0.0F;
        } else {
            int64_t i_124335 = add64(gtid_116849, x_124146);
            float x_124336 =
                  ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                   (gtid_116841 *
                                                    ctx_param_ext_121265 +
                                                    i_124335 *
                                                    ctx_param_ext_121267)];
            
            defunc_0_f_res_124334 = x_124336;
        }
        
        float x_j_124337 = defunc_0_f_res_124330 - defunc_0_f_res_124150;
        float abs_res_124338 = (float) fabs(x_j_124337);
        float tmp1_124339 = abs_res_124338 / x_124147;
        float x_124340 = tmp1_124339 * tmp1_124339;
        float y_124341 = tmp1_124339 * x_124340;
        float tmp2_124342 = 1.0F - y_124341;
        float x_124343 = tmp2_124342 * tmp2_124342;
        float tmp3_124344 = tmp2_124342 * x_124343;
        float tmp4_124345 = defunc_0_f_res_124334 * tmp3_124344;
        float defunc_0_f_res_124346;
        
        if (cond_124329) {
            defunc_0_f_res_124346 = 0.0F;
        } else {
            int64_t i_124347 = add64(gtid_116849, x_124146);
            float x_124348 = ((float *) mem_121432.mem)[gtid_116841 * n_114105 +
                                                        i_124347];
            
            defunc_0_f_res_124346 = x_124348;
        }
        
        float x_124349 = a0_124172 * tmp4_124345;
        float defunc_9_fit_fun_res_124350 = defunc_0_f_res_124346 * x_124349;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_124326 = local_acc_124366;
        }
        // Load next params
        {
            x_124327 = defunc_9_fit_fun_res_124350;
        }
        // Red body
        {
            float defunc_1_op_res_124328 = x_124326 + x_124327;
            
            local_acc_124366 = defunc_1_op_res_124328;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_124363.mem)[flat_tid_116848] =
        local_acc_124366;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130015_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130015_end -
                 futhark_mc_segred_stage_1_parloop_130015_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130015_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130015_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130015_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130012(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116848 = tid;
    int num_tasks_124362 = info.nsubtasks;
    struct futhark_mc_task_130011 *futhark_mc_task_130011 =
                                  (struct futhark_mc_task_130011 *) args;
    struct futhark_context *ctx = futhark_mc_task_130011->ctx;
    uint64_t futhark_mc_segred_task_130012_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130012_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130011->free_n_114105;
    int64_t gtid_116841 = futhark_mc_task_130011->free_gtid_116841;
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130011->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130011->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130011->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130011->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130011->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t x_124146 = futhark_mc_task_130011->free_x_124146;
    float x_124147 = futhark_mc_task_130011->free_x_124147;
    float defunc_0_f_res_124150 =
          futhark_mc_task_130011->free_defunc_0_f_res_124150;
    float a0_124172 = futhark_mc_task_130011->free_a0_124172;
    float defunc_2_reduce_res_124173 =
          *futhark_mc_task_130011->retval_defunc_2_reduce_res_124173;
    size_t reduce_stage_1_tid_res_arr_mem_124363_cached_sizze_130013 = 0;
    char *reduce_stage_1_tid_res_arr_mem_124363 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_124363_cached_sizze_130013 <
        (size_t) ((int64_t) 4 * num_tasks_124362)) {
        reduce_stage_1_tid_res_arr_mem_124363 =
            realloc(reduce_stage_1_tid_res_arr_mem_124363, (int64_t) 4 *
                    num_tasks_124362);
        reduce_stage_1_tid_res_arr_mem_124363_cached_sizze_130013 =
            (int64_t) 4 * num_tasks_124362;
    }
    
    int64_t iter_124365;
    struct futhark_mc_segred_stage_1_parloop_struct_130014
    futhark_mc_segred_stage_1_parloop_struct_130014;
    
    futhark_mc_segred_stage_1_parloop_struct_130014.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130014.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130014.free_gtid_116841 =
        gtid_116841;
    futhark_mc_segred_stage_1_parloop_struct_130014.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segred_stage_1_parloop_struct_130014.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segred_stage_1_parloop_struct_130014.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segred_stage_1_parloop_struct_130014.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segred_stage_1_parloop_struct_130014.free_mem_121432 =
        mem_121432.mem;
    futhark_mc_segred_stage_1_parloop_struct_130014.free_x_124146 = x_124146;
    futhark_mc_segred_stage_1_parloop_struct_130014.free_x_124147 = x_124147;
    futhark_mc_segred_stage_1_parloop_struct_130014.free_defunc_0_f_res_124150 =
        defunc_0_f_res_124150;
    futhark_mc_segred_stage_1_parloop_struct_130014.free_a0_124172 = a0_124172;
    futhark_mc_segred_stage_1_parloop_struct_130014.free_reduce_stage_1_tid_res_arr_mem_124363 =
        reduce_stage_1_tid_res_arr_mem_124363;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130015_task;
    
    futhark_mc_segred_stage_1_parloop_130015_task.name =
        "futhark_mc_segred_stage_1_parloop_130015";
    futhark_mc_segred_stage_1_parloop_130015_task.fn =
        futhark_mc_segred_stage_1_parloop_130015;
    futhark_mc_segred_stage_1_parloop_130015_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130014;
    futhark_mc_segred_stage_1_parloop_130015_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130015_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130015_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130015_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130015_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130015_task);
    
    if (futhark_mc_segred_stage_1_parloop_130015_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130015_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130015_total_end -
                 futhark_mc_segred_stage_1_parloop_130015_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130015_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130015_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130015_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_124173 = 0.0F;
    }
    
    float x_124367;
    float x_124368;
    
    for (int32_t i_124370 = 0; i_124370 < num_tasks_124362; i_124370++) {
        flat_tid_116848 = i_124370;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_124367 = defunc_2_reduce_res_124173;
            }
            // load next params
            {
                x_124368 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_124363)[flat_tid_116848];
            }
            // red body
            {
                float defunc_1_op_res_124369 = x_124367 + x_124368;
                
                defunc_2_reduce_res_124173 = defunc_1_op_res_124369;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_124363);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130012_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130012_end -
                 futhark_mc_segred_task_130012_start;
        
        ctx->futhark_mc_segred_task_130012_runs[tid]++;
        ctx->futhark_mc_segred_task_130012_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130012_iter[tid] += iterations;
    }
    *futhark_mc_task_130011->retval_defunc_2_reduce_res_124173 =
        defunc_2_reduce_res_124173;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130005(void *args, int64_t start,
                                            int64_t end, int flat_tid_116844,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130004
    *futhark_mc_segmap_parloop_struct_130004 =
    (struct futhark_mc_segmap_parloop_struct_130004 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130004->ctx;
    uint64_t futhark_mc_segmap_parloop_130005_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130005_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130004->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130004->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130004->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130004->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130004->free_i_114181;
    int64_t gtid_116841 =
            futhark_mc_segmap_parloop_struct_130004->free_gtid_116841;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130004->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130004->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130004->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130004->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130004->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130004->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130004->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121439 = {.desc ="mem_121439", .mem =
                                  futhark_mc_segmap_parloop_struct_130004->free_mem_121439,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_124305 = start;
    
    for (; iter_124305 < end; iter_124305++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_124351 = l_n_m_114155;
        int64_t gtid_116845 = iter_124305;
        int64_t remnant_124352 = iter_124305 - gtid_116845;
        int64_t x_124146 = ((int64_t *) mem_121171.mem)[gtid_116841 *
                                                        l_n_m_114155 +
                                                        gtid_116845];
        float x_124147 = ((float *) mem_121175.mem)[gtid_116841 * l_n_m_114155 +
                                                    gtid_116845];
        int64_t min_arg_124148 = mul64(t_jump_114112, gtid_116845);
        int64_t min_res_124149 = smin64(i_114181, min_arg_124148);
        float defunc_0_f_res_124150 = sitofp_i64_f32(min_res_124149);
        float defunc_2_reduce_res_124151;
        int64_t flat_tid_116846 = (int64_t) 0;
        int32_t num_tasks_124353;
        struct futhark_mc_task_130006 futhark_mc_task_130006;
        
        futhark_mc_task_130006.ctx = ctx;
        futhark_mc_task_130006.free_n_114105 = n_114105;
        futhark_mc_task_130006.free_gtid_116841 = gtid_116841;
        futhark_mc_task_130006.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130006.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130006.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130006.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130006.free_x_124146 = x_124146;
        futhark_mc_task_130006.free_x_124147 = x_124147;
        futhark_mc_task_130006.free_defunc_0_f_res_124150 =
            defunc_0_f_res_124150;
        futhark_mc_task_130006.retval_defunc_2_reduce_res_124151 =
            &defunc_2_reduce_res_124151;
        
        struct scheduler_segop futhark_mc_task_130006_task;
        
        futhark_mc_task_130006_task.args = &futhark_mc_task_130006;
        futhark_mc_task_130006_task.top_level_fn =
            futhark_mc_segred_task_130007;
        futhark_mc_task_130006_task.name = "futhark_mc_segred_task_130007";
        futhark_mc_task_130006_task.iterations = l_window_114109;
        futhark_mc_task_130006_task.task_time =
            &ctx->futhark_mc_segred_task_130007_total_time;
        futhark_mc_task_130006_task.task_iter =
            &ctx->futhark_mc_segred_task_130007_total_iter;
        futhark_mc_task_130006_task.sched = STATIC;
        futhark_mc_task_130006_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130007_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130006_task);
        
        if (futhark_mc_segred_task_130007_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float a0_124172 = 1.0F / defunc_2_reduce_res_124151;
        float defunc_2_reduce_res_124173;
        int64_t flat_tid_116848 = (int64_t) 0;
        int32_t num_tasks_124362;
        struct futhark_mc_task_130011 futhark_mc_task_130011;
        
        futhark_mc_task_130011.ctx = ctx;
        futhark_mc_task_130011.free_n_114105 = n_114105;
        futhark_mc_task_130011.free_gtid_116841 = gtid_116841;
        futhark_mc_task_130011.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130011.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130011.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130011.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130011.free_mem_121432 = mem_121432.mem;
        futhark_mc_task_130011.free_x_124146 = x_124146;
        futhark_mc_task_130011.free_x_124147 = x_124147;
        futhark_mc_task_130011.free_defunc_0_f_res_124150 =
            defunc_0_f_res_124150;
        futhark_mc_task_130011.free_a0_124172 = a0_124172;
        futhark_mc_task_130011.retval_defunc_2_reduce_res_124173 =
            &defunc_2_reduce_res_124173;
        
        struct scheduler_segop futhark_mc_task_130011_task;
        
        futhark_mc_task_130011_task.args = &futhark_mc_task_130011;
        futhark_mc_task_130011_task.top_level_fn =
            futhark_mc_segred_task_130012;
        futhark_mc_task_130011_task.name = "futhark_mc_segred_task_130012";
        futhark_mc_task_130011_task.iterations = l_window_114109;
        futhark_mc_task_130011_task.task_time =
            &ctx->futhark_mc_segred_task_130012_total_time;
        futhark_mc_task_130011_task.task_iter =
            &ctx->futhark_mc_segred_task_130012_total_iter;
        futhark_mc_task_130011_task.sched = STATIC;
        futhark_mc_task_130011_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130012_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130011_task);
        
        if (futhark_mc_segred_task_130012_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_121439.mem)[gtid_116845] = defunc_2_reduce_res_124173;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130005_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130005_end -
                 futhark_mc_segmap_parloop_130005_start;
        
        ctx->futhark_mc_segmap_parloop_130005_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130005_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130005_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130003(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116844 = tid;
    int num_tasks_124254 = info.nsubtasks;
    struct futhark_mc_task_129999 *futhark_mc_task_129999 =
                                  (struct futhark_mc_task_129999 *) args;
    struct futhark_context *ctx = futhark_mc_task_129999->ctx;
    uint64_t futhark_mc_segmap_nested_task_130003_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130003_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_129999->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_129999->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_129999->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_129999->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_129999->free_i_114181;
    int64_t gtid_116841 = futhark_mc_task_129999->free_gtid_116841;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_129999->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_129999->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_129999->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_129999->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_129999->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_129999->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_129999->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121439 = {.desc ="mem_121439", .mem =
                                  futhark_mc_task_129999->free_mem_121439,
                                  .size =0, .references =NULL};
    int64_t iter_124305;
    struct futhark_mc_segmap_parloop_struct_130004
    futhark_mc_segmap_parloop_struct_130004;
    
    futhark_mc_segmap_parloop_struct_130004.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130004.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130004.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130004.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130004.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130004.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130004.free_gtid_116841 = gtid_116841;
    futhark_mc_segmap_parloop_struct_130004.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130004.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130004.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130004.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130004.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130004.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130004.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130004.free_mem_121439 = mem_121439.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130005_task;
    
    futhark_mc_segmap_parloop_130005_task.name =
        "futhark_mc_segmap_parloop_130005";
    futhark_mc_segmap_parloop_130005_task.fn = futhark_mc_segmap_parloop_130005;
    futhark_mc_segmap_parloop_130005_task.args =
        &futhark_mc_segmap_parloop_struct_130004;
    futhark_mc_segmap_parloop_130005_task.iterations = iterations;
    futhark_mc_segmap_parloop_130005_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130005_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130005_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130005_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130005_task);
    
    if (futhark_mc_segmap_parloop_130005_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130005_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130005_total_end -
                 futhark_mc_segmap_parloop_130005_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130005_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130005_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130005_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130003_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130003_end -
                 futhark_mc_segmap_nested_task_130003_start;
        
        ctx->futhark_mc_segmap_nested_task_130003_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130003_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130003_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_129997(void *args, int64_t start,
                                            int64_t end, int flat_tid_116840,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_129996
    *futhark_mc_segmap_parloop_struct_129996 =
    (struct futhark_mc_segmap_parloop_struct_129996 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_129996->ctx;
    uint64_t futhark_mc_segmap_parloop_129997_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129997_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_129996->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_129996->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_129996->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_129996->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_129996->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_129996->free_i_114181;
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_129996->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_129996->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_129996->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_129996->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_129996->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_129996->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_129996->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_129996->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121458 = {.desc ="mem_121458", .mem =
                                  futhark_mc_segmap_parloop_struct_129996->free_mem_121458,
                                  .size =0, .references =NULL};
    size_t mem_121439_cached_sizze_129998 = 0;
    char *mem_121439 = NULL;
    int64_t iterations = end - start;
    int64_t iter_124145 = start;
    
    if (mem_121439_cached_sizze_129998 < (size_t) bytes_121117) {
        mem_121439 = realloc(mem_121439, bytes_121117);
        mem_121439_cached_sizze_129998 = bytes_121117;
    }
    for (; iter_124145 < end; iter_124145++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_124252 = m_114104;
        int64_t gtid_116841 = iter_124145;
        int64_t remnant_124253 = iter_124145 - gtid_116841;
        int64_t flat_tid_116842 = (int64_t) 0;
        int32_t num_tasks_124254;
        int64_t flat_tid_116844 = (int64_t) 0;
        struct futhark_mc_task_129999 futhark_mc_task_129999;
        
        futhark_mc_task_129999.ctx = ctx;
        futhark_mc_task_129999.free_n_114105 = n_114105;
        futhark_mc_task_129999.free_l_window_114109 = l_window_114109;
        futhark_mc_task_129999.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_129999.free_l_n_m_114155 = l_n_m_114155;
        futhark_mc_task_129999.free_i_114181 = i_114181;
        futhark_mc_task_129999.free_gtid_116841 = gtid_116841;
        futhark_mc_task_129999.free_mem_121171 = mem_121171.mem;
        futhark_mc_task_129999.free_mem_121175 = mem_121175.mem;
        futhark_mc_task_129999.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_129999.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_129999.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_129999.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_129999.free_mem_121432 = mem_121432.mem;
        futhark_mc_task_129999.free_mem_121439 = mem_121439;
        
        struct scheduler_segop futhark_mc_task_129999_task;
        
        futhark_mc_task_129999_task.args = &futhark_mc_task_129999;
        futhark_mc_task_129999_task.top_level_fn =
            futhark_mc_segmap_task_130000;
        futhark_mc_task_129999_task.name = "futhark_mc_segmap_task_130000";
        futhark_mc_task_129999_task.iterations = l_n_m_114155;
        futhark_mc_task_129999_task.task_time =
            &ctx->futhark_mc_segmap_task_130000_total_time;
        futhark_mc_task_129999_task.task_iter =
            &ctx->futhark_mc_segmap_task_130000_total_iter;
        futhark_mc_task_129999_task.sched = STATIC;
        futhark_mc_task_129999_task.nested_fn =
            futhark_mc_segmap_nested_task_130003;
        
        int futhark_mc_segmap_task_130000_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_129999_task);
        
        if (futhark_mc_segmap_task_130000_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121458.mem + gtid_116841 * l_n_m_114155 * (int64_t) 4,
                mem_121439 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121439);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129997_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129997_end -
                 futhark_mc_segmap_parloop_129997_start;
        
        ctx->futhark_mc_segmap_parloop_129997_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_129997_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_129997_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_129995(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_116840 = tid;
    int num_tasks_124082 = info.nsubtasks;
    struct futhark_mc_task_129990 *futhark_mc_task_129990 =
                                  (struct futhark_mc_task_129990 *) args;
    struct futhark_context *ctx = futhark_mc_task_129990->ctx;
    uint64_t futhark_mc_segmap_nested_task_129995_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_129995_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_129990->free_m_114104;
    int64_t n_114105 = futhark_mc_task_129990->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_129990->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_129990->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_129990->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_129990->free_i_114181;
    int64_t bytes_121117 = futhark_mc_task_129990->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_129990->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_129990->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_129990->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_129990->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_129990->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_129990->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_129990->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121458 = {.desc ="mem_121458", .mem =
                                  futhark_mc_task_129990->free_mem_121458,
                                  .size =0, .references =NULL};
    int64_t iter_124145;
    struct futhark_mc_segmap_parloop_struct_129996
    futhark_mc_segmap_parloop_struct_129996;
    
    futhark_mc_segmap_parloop_struct_129996.ctx = ctx;
    futhark_mc_segmap_parloop_struct_129996.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_129996.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_129996.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_129996.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_129996.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_129996.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_129996.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_129996.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_129996.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_129996.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_129996.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_129996.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_129996.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_129996.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_129996.free_mem_121458 = mem_121458.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_129997_task;
    
    futhark_mc_segmap_parloop_129997_task.name =
        "futhark_mc_segmap_parloop_129997";
    futhark_mc_segmap_parloop_129997_task.fn = futhark_mc_segmap_parloop_129997;
    futhark_mc_segmap_parloop_129997_task.args =
        &futhark_mc_segmap_parloop_struct_129996;
    futhark_mc_segmap_parloop_129997_task.iterations = iterations;
    futhark_mc_segmap_parloop_129997_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_129997_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_129997_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_129997_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_129997_task);
    
    if (futhark_mc_segmap_parloop_129997_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_129997_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_129997_total_end -
                 futhark_mc_segmap_parloop_129997_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129997_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129997_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_129997_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_129995_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_129995_end -
                 futhark_mc_segmap_nested_task_129995_start;
        
        ctx->futhark_mc_segmap_nested_task_129995_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_129995_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_129995_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130016 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121498;
    char *free_mem_121502;
};
struct futhark_mc_segmap_parloop_struct_130018 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121498;
    char *free_mem_121502;
};
static int futhark_mc_segmap_parloop_130019(void *args, int64_t start,
                                            int64_t end, int flat_tid_117023,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130018
    *futhark_mc_segmap_parloop_struct_130018 =
    (struct futhark_mc_segmap_parloop_struct_130018 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130018->ctx;
    uint64_t futhark_mc_segmap_parloop_130019_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130019_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130018->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130018->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130018->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130018->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130018->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130018->free_i_114181;
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_130018->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130018->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130018->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130018->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130018->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130018->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130018->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130018->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121498 = {.desc ="mem_121498", .mem =
                                  futhark_mc_segmap_parloop_struct_130018->free_mem_121498,
                                  .size =0, .references =NULL};
    struct memblock mem_121502 = {.desc ="mem_121502", .mem =
                                  futhark_mc_segmap_parloop_struct_130018->free_mem_121502,
                                  .size =0, .references =NULL};
    size_t mem_121467_cached_sizze_130020 = 0;
    char *mem_121467 = NULL;
    size_t mem_121470_cached_sizze_130021 = 0;
    char *mem_121470 = NULL;
    int64_t iterations = end - start;
    int64_t iter_124372 = start;
    
    if (mem_121467_cached_sizze_130020 < (size_t) bytes_121117) {
        mem_121467 = realloc(mem_121467, bytes_121117);
        mem_121467_cached_sizze_130020 = bytes_121117;
    }
    if (mem_121470_cached_sizze_130021 < (size_t) bytes_121117) {
        mem_121470 = realloc(mem_121470, bytes_121117);
        mem_121470_cached_sizze_130021 = bytes_121117;
    }
    for (; iter_124372 < end; iter_124372++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_124456 = m_114104;
        int64_t gtid_117024 = iter_124372;
        int64_t remnant_124457 = iter_124372 - gtid_117024;
        
        for (int64_t i_124373 = 0; i_124373 < l_n_m_114155; i_124373++) {
            int64_t x_124376 = ((int64_t *) mem_121171.mem)[gtid_117024 *
                                                            l_n_m_114155 +
                                                            i_124373];
            float x_124377 = ((float *) mem_121175.mem)[gtid_117024 *
                                                        l_n_m_114155 +
                                                        i_124373];
            int64_t min_arg_124378 = mul64(t_jump_114112, i_124373);
            int64_t min_res_124379 = smin64(i_114181, min_arg_124378);
            float defunc_0_f_res_124380 = sitofp_i64_f32(min_res_124379);
            float defunc_2_reduce_res_124381;
            float defunc_2_reduce_res_124382;
            float defunc_2_reduce_res_124383;
            float redout_124385;
            float redout_124386;
            float redout_124387;
            
            redout_124385 = 0.0F;
            redout_124386 = 0.0F;
            redout_124387 = 0.0F;
            for (int64_t i_124384 = 0; i_124384 < l_window_114109; i_124384++) {
                bool cond_124388 = sle64(n_114105, i_124384);
                float defunc_0_f_res_124389;
                
                if (cond_124388) {
                    defunc_0_f_res_124389 = 0.0F;
                } else {
                    int64_t i_124390 = add64(x_124376, i_124384);
                    float index_primexp_124391 = sitofp_i64_f32(i_124390);
                    float defunc_0_f_res_f_res_124392 = 1.0F +
                          index_primexp_124391;
                    
                    defunc_0_f_res_124389 = defunc_0_f_res_f_res_124392;
                }
                
                float defunc_0_f_res_124393;
                
                if (cond_124388) {
                    defunc_0_f_res_124393 = 0.0F;
                } else {
                    int64_t i_124394 = add64(x_124376, i_124384);
                    float x_124395 =
                          ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                           (gtid_117024 *
                                                            ctx_param_ext_121265 +
                                                            i_124394 *
                                                            ctx_param_ext_121267)];
                    
                    defunc_0_f_res_124393 = x_124395;
                }
                
                float x_j_124396 = defunc_0_f_res_124389 -
                      defunc_0_f_res_124380;
                float abs_res_124397 = (float) fabs(x_j_124396);
                float tmp1_124398 = abs_res_124397 / x_124377;
                float x_124399 = tmp1_124398 * tmp1_124398;
                float y_124400 = tmp1_124398 * x_124399;
                float tmp2_124401 = 1.0F - y_124400;
                float x_124402 = tmp2_124401 * tmp2_124401;
                float tmp3_124403 = tmp2_124401 * x_124402;
                float w_j_124404 = defunc_0_f_res_124393 * tmp3_124403;
                float xw_j_124405 = x_j_124396 * w_j_124404;
                float x2w_j_124406 = x_j_124396 * xw_j_124405;
                float defunc_1_op_res_124407 = w_j_124404 + redout_124385;
                float defunc_1_op_res_124408 = xw_j_124405 + redout_124386;
                float defunc_1_op_res_124409 = x2w_j_124406 + redout_124387;
                float redout_tmp_124460 = defunc_1_op_res_124407;
                float redout_tmp_124461 = defunc_1_op_res_124408;
                float redout_tmp_124462 = defunc_1_op_res_124409;
                
                redout_124385 = redout_tmp_124460;
                redout_124386 = redout_tmp_124461;
                redout_124387 = redout_tmp_124462;
            }
            defunc_2_reduce_res_124381 = redout_124385;
            defunc_2_reduce_res_124382 = redout_124386;
            defunc_2_reduce_res_124383 = redout_124387;
            
            float x_124410 = defunc_2_reduce_res_124381 *
                  defunc_2_reduce_res_124383;
            float y_124411 = defunc_2_reduce_res_124382 *
                  defunc_2_reduce_res_124382;
            float y_124412 = x_124410 - y_124411;
            float det1_124413 = 1.0F / y_124412;
            float a11_124414 = defunc_2_reduce_res_124383 * det1_124413;
            float negate_arg_124415 = defunc_2_reduce_res_124382 * det1_124413;
            float b11_124416 = 0.0F - negate_arg_124415;
            float c11_124417 = defunc_2_reduce_res_124381 * det1_124413;
            float defunc_2_reduce_res_124418;
            float defunc_2_reduce_res_124419;
            float redout_124421;
            float redout_124422;
            
            redout_124421 = 0.0F;
            redout_124422 = 0.0F;
            for (int64_t i_124420 = 0; i_124420 < l_window_114109; i_124420++) {
                bool cond_124423 = sle64(n_114105, i_124420);
                float defunc_0_f_res_124424;
                
                if (cond_124423) {
                    defunc_0_f_res_124424 = 0.0F;
                } else {
                    int64_t i_124425 = add64(x_124376, i_124420);
                    float index_primexp_124426 = sitofp_i64_f32(i_124425);
                    float defunc_0_f_res_f_res_124427 = 1.0F +
                          index_primexp_124426;
                    
                    defunc_0_f_res_124424 = defunc_0_f_res_f_res_124427;
                }
                
                float defunc_0_f_res_124428;
                
                if (cond_124423) {
                    defunc_0_f_res_124428 = 0.0F;
                } else {
                    int64_t i_124429 = add64(x_124376, i_124420);
                    float x_124430 =
                          ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                           (gtid_117024 *
                                                            ctx_param_ext_121265 +
                                                            i_124429 *
                                                            ctx_param_ext_121267)];
                    
                    defunc_0_f_res_124428 = x_124430;
                }
                
                float x_j_124431 = defunc_0_f_res_124424 -
                      defunc_0_f_res_124380;
                float abs_res_124432 = (float) fabs(x_j_124431);
                float tmp1_124433 = abs_res_124432 / x_124377;
                float x_124434 = tmp1_124433 * tmp1_124433;
                float y_124435 = tmp1_124433 * x_124434;
                float tmp2_124436 = 1.0F - y_124435;
                float x_124437 = tmp2_124436 * tmp2_124436;
                float tmp3_124438 = tmp2_124436 * x_124437;
                float tmp4_124439 = defunc_0_f_res_124428 * tmp3_124438;
                float defunc_1_f_res_124440 = x_j_124431 * tmp4_124439;
                float defunc_0_f_res_124441;
                
                if (cond_124423) {
                    defunc_0_f_res_124441 = 0.0F;
                } else {
                    int64_t i_124442 = add64(x_124376, i_124420);
                    float x_124443 = ((float *) mem_121432.mem)[gtid_117024 *
                                                                n_114105 +
                                                                i_124442];
                    
                    defunc_0_f_res_124441 = x_124443;
                }
                
                float x_124444 = a11_124414 * tmp4_124439;
                float y_124445 = b11_124416 * defunc_1_f_res_124440;
                float x_124446 = x_124444 + y_124445;
                float defunc_9_fit_fun_res_124447 = defunc_0_f_res_124441 *
                      x_124446;
                float x_124448 = b11_124416 * tmp4_124439;
                float y_124449 = c11_124417 * defunc_1_f_res_124440;
                float x_124450 = x_124448 + y_124449;
                float defunc_9_slope_fun_res_124451 = defunc_0_f_res_124441 *
                      x_124450;
                float defunc_1_op_res_124452 = defunc_9_fit_fun_res_124447 +
                      redout_124421;
                float defunc_1_op_res_124453 = defunc_9_slope_fun_res_124451 +
                      redout_124422;
                float redout_tmp_124463 = defunc_1_op_res_124452;
                float redout_tmp_124464 = defunc_1_op_res_124453;
                
                redout_124421 = redout_tmp_124463;
                redout_124422 = redout_tmp_124464;
            }
            defunc_2_reduce_res_124418 = redout_124421;
            defunc_2_reduce_res_124419 = redout_124422;
            ((float *) mem_121467)[i_124373] = defunc_2_reduce_res_124418;
            ((float *) mem_121470)[i_124373] = defunc_2_reduce_res_124419;
        }
        memmove(mem_121498.mem + gtid_117024 * l_n_m_114155 * (int64_t) 4,
                mem_121467 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
        memmove(mem_121502.mem + gtid_117024 * l_n_m_114155 * (int64_t) 4,
                mem_121470 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121467);
    free(mem_121470);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130019_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130019_end -
                 futhark_mc_segmap_parloop_130019_start;
        
        ctx->futhark_mc_segmap_parloop_130019_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130019_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130019_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130017(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117023 = tid;
    int num_tasks_124371 = info.nsubtasks;
    struct futhark_mc_task_130016 *futhark_mc_task_130016 =
                                  (struct futhark_mc_task_130016 *) args;
    struct futhark_context *ctx = futhark_mc_task_130016->ctx;
    uint64_t futhark_mc_segmap_task_130017_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130017_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130016->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130016->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130016->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130016->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130016->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130016->free_i_114181;
    int64_t bytes_121117 = futhark_mc_task_130016->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130016->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130016->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130016->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130016->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130016->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130016->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130016->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121498 = {.desc ="mem_121498", .mem =
                                  futhark_mc_task_130016->free_mem_121498,
                                  .size =0, .references =NULL};
    struct memblock mem_121502 = {.desc ="mem_121502", .mem =
                                  futhark_mc_task_130016->free_mem_121502,
                                  .size =0, .references =NULL};
    int64_t iter_124372;
    struct futhark_mc_segmap_parloop_struct_130018
    futhark_mc_segmap_parloop_struct_130018;
    
    futhark_mc_segmap_parloop_struct_130018.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130018.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130018.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130018.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130018.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130018.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130018.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130018.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_130018.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130018.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130018.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130018.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130018.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130018.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130018.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130018.free_mem_121498 = mem_121498.mem;
    futhark_mc_segmap_parloop_struct_130018.free_mem_121502 = mem_121502.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130019_task;
    
    futhark_mc_segmap_parloop_130019_task.name =
        "futhark_mc_segmap_parloop_130019";
    futhark_mc_segmap_parloop_130019_task.fn = futhark_mc_segmap_parloop_130019;
    futhark_mc_segmap_parloop_130019_task.args =
        &futhark_mc_segmap_parloop_struct_130018;
    futhark_mc_segmap_parloop_130019_task.iterations = iterations;
    futhark_mc_segmap_parloop_130019_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130019_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130019_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130019_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130019_task);
    
    if (futhark_mc_segmap_parloop_130019_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130019_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130019_total_end -
                 futhark_mc_segmap_parloop_130019_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130019_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130019_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130019_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130017_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130017_end -
                 futhark_mc_segmap_task_130017_start;
        
        ctx->futhark_mc_segmap_task_130017_runs[tid]++;
        ctx->futhark_mc_segmap_task_130017_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130017_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130023 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121498;
    char *free_mem_121502;
};
struct futhark_mc_task_130027 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_117026;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121461;
    char *free_mem_121464;
};
struct futhark_mc_segmap_parloop_struct_130029 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_117026;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121461;
    char *free_mem_121464;
};
static int futhark_mc_segmap_parloop_130030(void *args, int64_t start,
                                            int64_t end, int flat_tid_117027,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130029
    *futhark_mc_segmap_parloop_struct_130029 =
    (struct futhark_mc_segmap_parloop_struct_130029 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130029->ctx;
    uint64_t futhark_mc_segmap_parloop_130030_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130030_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130029->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130029->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130029->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130029->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130029->free_i_114181;
    int64_t gtid_117026 =
            futhark_mc_segmap_parloop_struct_130029->free_gtid_117026;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130029->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130029->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130029->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130029->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130029->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130029->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130029->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121461 = {.desc ="mem_121461", .mem =
                                  futhark_mc_segmap_parloop_struct_130029->free_mem_121461,
                                  .size =0, .references =NULL};
    struct memblock mem_121464 = {.desc ="mem_121464", .mem =
                                  futhark_mc_segmap_parloop_struct_130029->free_mem_121464,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_124628 = start;
    
    for (; iter_124628 < end; iter_124628++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_124689 = l_n_m_114155;
        int64_t gtid_117028 = iter_124628;
        int64_t remnant_124690 = iter_124628 - gtid_117028;
        int64_t x_124547 = ((int64_t *) mem_121171.mem)[gtid_117026 *
                                                        l_n_m_114155 +
                                                        gtid_117028];
        float x_124548 = ((float *) mem_121175.mem)[gtid_117026 * l_n_m_114155 +
                                                    gtid_117028];
        int64_t min_arg_124549 = mul64(t_jump_114112, gtid_117028);
        int64_t min_res_124550 = smin64(i_114181, min_arg_124549);
        float defunc_0_f_res_124551 = sitofp_i64_f32(min_res_124550);
        float defunc_2_reduce_res_124552;
        float defunc_2_reduce_res_124553;
        float defunc_2_reduce_res_124554;
        float redout_124630;
        float redout_124631;
        float redout_124632;
        
        redout_124630 = 0.0F;
        redout_124631 = 0.0F;
        redout_124632 = 0.0F;
        for (int64_t i_124629 = 0; i_124629 < l_window_114109; i_124629++) {
            bool cond_124633 = sle64(n_114105, i_124629);
            float defunc_0_f_res_124634;
            
            if (cond_124633) {
                defunc_0_f_res_124634 = 0.0F;
            } else {
                int64_t i_124635 = add64(x_124547, i_124629);
                float index_primexp_124636 = sitofp_i64_f32(i_124635);
                float defunc_0_f_res_f_res_124637 = 1.0F + index_primexp_124636;
                
                defunc_0_f_res_124634 = defunc_0_f_res_f_res_124637;
            }
            
            float defunc_0_f_res_124638;
            
            if (cond_124633) {
                defunc_0_f_res_124638 = 0.0F;
            } else {
                int64_t i_124639 = add64(x_124547, i_124629);
                float x_124640 =
                      ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                       (gtid_117026 *
                                                        ctx_param_ext_121265 +
                                                        i_124639 *
                                                        ctx_param_ext_121267)];
                
                defunc_0_f_res_124638 = x_124640;
            }
            
            float x_j_124641 = defunc_0_f_res_124634 - defunc_0_f_res_124551;
            float abs_res_124642 = (float) fabs(x_j_124641);
            float tmp1_124643 = abs_res_124642 / x_124548;
            float x_124644 = tmp1_124643 * tmp1_124643;
            float y_124645 = tmp1_124643 * x_124644;
            float tmp2_124646 = 1.0F - y_124645;
            float x_124647 = tmp2_124646 * tmp2_124646;
            float tmp3_124648 = tmp2_124646 * x_124647;
            float w_j_124649 = defunc_0_f_res_124638 * tmp3_124648;
            float xw_j_124650 = x_j_124641 * w_j_124649;
            float x2w_j_124651 = x_j_124641 * xw_j_124650;
            float defunc_1_op_res_124652 = w_j_124649 + redout_124630;
            float defunc_1_op_res_124653 = xw_j_124650 + redout_124631;
            float defunc_1_op_res_124654 = x2w_j_124651 + redout_124632;
            float redout_tmp_124691 = defunc_1_op_res_124652;
            float redout_tmp_124692 = defunc_1_op_res_124653;
            float redout_tmp_124693 = defunc_1_op_res_124654;
            
            redout_124630 = redout_tmp_124691;
            redout_124631 = redout_tmp_124692;
            redout_124632 = redout_tmp_124693;
        }
        defunc_2_reduce_res_124552 = redout_124630;
        defunc_2_reduce_res_124553 = redout_124631;
        defunc_2_reduce_res_124554 = redout_124632;
        
        float x_124581 = defunc_2_reduce_res_124552 *
              defunc_2_reduce_res_124554;
        float y_124582 = defunc_2_reduce_res_124553 *
              defunc_2_reduce_res_124553;
        float y_124583 = x_124581 - y_124582;
        float det1_124584 = 1.0F / y_124583;
        float a11_124585 = defunc_2_reduce_res_124554 * det1_124584;
        float negate_arg_124586 = defunc_2_reduce_res_124553 * det1_124584;
        float b11_124587 = 0.0F - negate_arg_124586;
        float c11_124588 = defunc_2_reduce_res_124552 * det1_124584;
        float defunc_2_reduce_res_124589;
        float defunc_2_reduce_res_124590;
        float redout_124656;
        float redout_124657;
        
        redout_124656 = 0.0F;
        redout_124657 = 0.0F;
        for (int64_t i_124655 = 0; i_124655 < l_window_114109; i_124655++) {
            bool cond_124658 = sle64(n_114105, i_124655);
            float defunc_0_f_res_124659;
            
            if (cond_124658) {
                defunc_0_f_res_124659 = 0.0F;
            } else {
                int64_t i_124660 = add64(x_124547, i_124655);
                float index_primexp_124661 = sitofp_i64_f32(i_124660);
                float defunc_0_f_res_f_res_124662 = 1.0F + index_primexp_124661;
                
                defunc_0_f_res_124659 = defunc_0_f_res_f_res_124662;
            }
            
            float defunc_0_f_res_124663;
            
            if (cond_124658) {
                defunc_0_f_res_124663 = 0.0F;
            } else {
                int64_t i_124664 = add64(x_124547, i_124655);
                float x_124665 =
                      ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                       (gtid_117026 *
                                                        ctx_param_ext_121265 +
                                                        i_124664 *
                                                        ctx_param_ext_121267)];
                
                defunc_0_f_res_124663 = x_124665;
            }
            
            float x_j_124666 = defunc_0_f_res_124659 - defunc_0_f_res_124551;
            float abs_res_124667 = (float) fabs(x_j_124666);
            float tmp1_124668 = abs_res_124667 / x_124548;
            float x_124669 = tmp1_124668 * tmp1_124668;
            float y_124670 = tmp1_124668 * x_124669;
            float tmp2_124671 = 1.0F - y_124670;
            float x_124672 = tmp2_124671 * tmp2_124671;
            float tmp3_124673 = tmp2_124671 * x_124672;
            float tmp4_124674 = defunc_0_f_res_124663 * tmp3_124673;
            float defunc_1_f_res_124675 = x_j_124666 * tmp4_124674;
            float defunc_0_f_res_124676;
            
            if (cond_124658) {
                defunc_0_f_res_124676 = 0.0F;
            } else {
                int64_t i_124677 = add64(x_124547, i_124655);
                float x_124678 = ((float *) mem_121432.mem)[gtid_117026 *
                                                            n_114105 +
                                                            i_124677];
                
                defunc_0_f_res_124676 = x_124678;
            }
            
            float x_124679 = a11_124585 * tmp4_124674;
            float y_124680 = b11_124587 * defunc_1_f_res_124675;
            float x_124681 = x_124679 + y_124680;
            float defunc_9_fit_fun_res_124682 = defunc_0_f_res_124676 *
                  x_124681;
            float x_124683 = b11_124587 * tmp4_124674;
            float y_124684 = c11_124588 * defunc_1_f_res_124675;
            float x_124685 = x_124683 + y_124684;
            float defunc_9_slope_fun_res_124686 = defunc_0_f_res_124676 *
                  x_124685;
            float defunc_1_op_res_124687 = defunc_9_fit_fun_res_124682 +
                  redout_124656;
            float defunc_1_op_res_124688 = defunc_9_slope_fun_res_124686 +
                  redout_124657;
            float redout_tmp_124694 = defunc_1_op_res_124687;
            float redout_tmp_124695 = defunc_1_op_res_124688;
            
            redout_124656 = redout_tmp_124694;
            redout_124657 = redout_tmp_124695;
        }
        defunc_2_reduce_res_124589 = redout_124656;
        defunc_2_reduce_res_124590 = redout_124657;
        ((float *) mem_121461.mem)[gtid_117028] = defunc_2_reduce_res_124589;
        ((float *) mem_121464.mem)[gtid_117028] = defunc_2_reduce_res_124590;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130030_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130030_end -
                 futhark_mc_segmap_parloop_130030_start;
        
        ctx->futhark_mc_segmap_parloop_130030_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130030_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130030_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130028(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117027 = tid;
    int num_tasks_124627 = info.nsubtasks;
    struct futhark_mc_task_130027 *futhark_mc_task_130027 =
                                  (struct futhark_mc_task_130027 *) args;
    struct futhark_context *ctx = futhark_mc_task_130027->ctx;
    uint64_t futhark_mc_segmap_task_130028_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130028_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130027->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130027->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130027->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130027->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130027->free_i_114181;
    int64_t gtid_117026 = futhark_mc_task_130027->free_gtid_117026;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130027->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130027->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130027->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130027->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130027->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130027->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130027->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121461 = {.desc ="mem_121461", .mem =
                                  futhark_mc_task_130027->free_mem_121461,
                                  .size =0, .references =NULL};
    struct memblock mem_121464 = {.desc ="mem_121464", .mem =
                                  futhark_mc_task_130027->free_mem_121464,
                                  .size =0, .references =NULL};
    int64_t iter_124628;
    struct futhark_mc_segmap_parloop_struct_130029
    futhark_mc_segmap_parloop_struct_130029;
    
    futhark_mc_segmap_parloop_struct_130029.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130029.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130029.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130029.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130029.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130029.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130029.free_gtid_117026 = gtid_117026;
    futhark_mc_segmap_parloop_struct_130029.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130029.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130029.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130029.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130029.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130029.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130029.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130029.free_mem_121461 = mem_121461.mem;
    futhark_mc_segmap_parloop_struct_130029.free_mem_121464 = mem_121464.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130030_task;
    
    futhark_mc_segmap_parloop_130030_task.name =
        "futhark_mc_segmap_parloop_130030";
    futhark_mc_segmap_parloop_130030_task.fn = futhark_mc_segmap_parloop_130030;
    futhark_mc_segmap_parloop_130030_task.args =
        &futhark_mc_segmap_parloop_struct_130029;
    futhark_mc_segmap_parloop_130030_task.iterations = iterations;
    futhark_mc_segmap_parloop_130030_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130030_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130030_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130030_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130030_task);
    
    if (futhark_mc_segmap_parloop_130030_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130030_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130030_total_end -
                 futhark_mc_segmap_parloop_130030_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130030_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130030_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130030_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130028_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130028_end -
                 futhark_mc_segmap_task_130028_start;
        
        ctx->futhark_mc_segmap_task_130028_runs[tid]++;
        ctx->futhark_mc_segmap_task_130028_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130028_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130032 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_117026;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121461;
    char *free_mem_121464;
};
struct futhark_mc_task_130034 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117026;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    int64_t free_x_124466;
    float free_x_124467;
    float free_defunc_0_f_res_124470;
    float *retval_defunc_2_reduce_res_124471;
    float *retval_defunc_2_reduce_res_124472;
    float *retval_defunc_2_reduce_res_124473;
};
struct futhark_mc_segred_stage_1_parloop_struct_130039 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117026;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    int64_t free_x_124466;
    float free_x_124467;
    float free_defunc_0_f_res_124470;
    char *free_reduce_stage_1_tid_res_arr_mem_124763;
    char *free_reduce_stage_1_tid_res_arr_mem_124765;
    char *free_reduce_stage_1_tid_res_arr_mem_124767;
};
static int futhark_mc_segred_stage_1_parloop_130040(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_117031,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130039
    *futhark_mc_segred_stage_1_parloop_struct_130039 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130039 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130039->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130040_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130040_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130039->free_n_114105;
    int64_t gtid_117026 =
            futhark_mc_segred_stage_1_parloop_struct_130039->free_gtid_117026;
    int64_t ctx_param_ext_121264 =
            futhark_mc_segred_stage_1_parloop_struct_130039->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segred_stage_1_parloop_struct_130039->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segred_stage_1_parloop_struct_130039->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_130039->free_mem_param_121269,
                                        .size =0, .references =NULL};
    int64_t x_124466 =
            futhark_mc_segred_stage_1_parloop_struct_130039->free_x_124466;
    float x_124467 =
          futhark_mc_segred_stage_1_parloop_struct_130039->free_x_124467;
    float defunc_0_f_res_124470 =
          futhark_mc_segred_stage_1_parloop_struct_130039->free_defunc_0_f_res_124470;
    struct memblock reduce_stage_1_tid_res_arr_mem_124763 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_124763",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130039->free_reduce_stage_1_tid_res_arr_mem_124763,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_124765 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_124765",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130039->free_reduce_stage_1_tid_res_arr_mem_124765,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_124767 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_124767",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130039->free_reduce_stage_1_tid_res_arr_mem_124767,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_124769 = start;
    float x_124697;
    float x_124698;
    float x_124700;
    float x_124701;
    float x_124703;
    float x_124704;
    float local_acc_124770 = 0.0F;
    float local_acc_124771 = 0.0F;
    float local_acc_124772 = 0.0F;
    
    for (; iter_124769 < end; iter_124769++) {
        int64_t gtid_117032 = iter_124769;
        bool cond_124706 = sle64(n_114105, gtid_117032);
        float defunc_0_f_res_124707;
        
        if (cond_124706) {
            defunc_0_f_res_124707 = 0.0F;
        } else {
            int64_t i_124708 = add64(gtid_117032, x_124466);
            float index_primexp_124709 = sitofp_i64_f32(i_124708);
            float defunc_0_f_res_f_res_124710 = 1.0F + index_primexp_124709;
            
            defunc_0_f_res_124707 = defunc_0_f_res_f_res_124710;
        }
        
        float defunc_0_f_res_124711;
        
        if (cond_124706) {
            defunc_0_f_res_124711 = 0.0F;
        } else {
            int64_t i_124712 = add64(gtid_117032, x_124466);
            float x_124713 =
                  ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                   (gtid_117026 *
                                                    ctx_param_ext_121265 +
                                                    i_124712 *
                                                    ctx_param_ext_121267)];
            
            defunc_0_f_res_124711 = x_124713;
        }
        
        float x_j_124714 = defunc_0_f_res_124707 - defunc_0_f_res_124470;
        float abs_res_124715 = (float) fabs(x_j_124714);
        float tmp1_124716 = abs_res_124715 / x_124467;
        float x_124717 = tmp1_124716 * tmp1_124716;
        float y_124718 = tmp1_124716 * x_124717;
        float tmp2_124719 = 1.0F - y_124718;
        float x_124720 = tmp2_124719 * tmp2_124719;
        float tmp3_124721 = tmp2_124719 * x_124720;
        float w_j_124722 = defunc_0_f_res_124711 * tmp3_124721;
        float xw_j_124723 = x_j_124714 * w_j_124722;
        float x2w_j_124724 = x_j_124714 * xw_j_124723;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_124697 = local_acc_124770;
        }
        // Load next params
        {
            x_124698 = w_j_124722;
        }
        // Red body
        {
            float defunc_1_op_res_124699 = x_124697 + x_124698;
            
            local_acc_124770 = defunc_1_op_res_124699;
        }
        // Load accum params
        {
            x_124700 = local_acc_124771;
        }
        // Load next params
        {
            x_124701 = xw_j_124723;
        }
        // Red body
        {
            float defunc_1_op_res_124702 = x_124700 + x_124701;
            
            local_acc_124771 = defunc_1_op_res_124702;
        }
        // Load accum params
        {
            x_124703 = local_acc_124772;
        }
        // Load next params
        {
            x_124704 = x2w_j_124724;
        }
        // Red body
        {
            float defunc_1_op_res_124705 = x_124703 + x_124704;
            
            local_acc_124772 = defunc_1_op_res_124705;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_124763.mem)[flat_tid_117031] =
        local_acc_124770;
    ((float *) reduce_stage_1_tid_res_arr_mem_124765.mem)[flat_tid_117031] =
        local_acc_124771;
    ((float *) reduce_stage_1_tid_res_arr_mem_124767.mem)[flat_tid_117031] =
        local_acc_124772;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130040_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130040_end -
                 futhark_mc_segred_stage_1_parloop_130040_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130040_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130040_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130040_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130035(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117031 = tid;
    int num_tasks_124762 = info.nsubtasks;
    struct futhark_mc_task_130034 *futhark_mc_task_130034 =
                                  (struct futhark_mc_task_130034 *) args;
    struct futhark_context *ctx = futhark_mc_task_130034->ctx;
    uint64_t futhark_mc_segred_task_130035_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130035_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130034->free_n_114105;
    int64_t gtid_117026 = futhark_mc_task_130034->free_gtid_117026;
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130034->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130034->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130034->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130034->free_mem_param_121269,
                                        .size =0, .references =NULL};
    int64_t x_124466 = futhark_mc_task_130034->free_x_124466;
    float x_124467 = futhark_mc_task_130034->free_x_124467;
    float defunc_0_f_res_124470 =
          futhark_mc_task_130034->free_defunc_0_f_res_124470;
    float defunc_2_reduce_res_124471 =
          *futhark_mc_task_130034->retval_defunc_2_reduce_res_124471;
    float defunc_2_reduce_res_124472 =
          *futhark_mc_task_130034->retval_defunc_2_reduce_res_124472;
    float defunc_2_reduce_res_124473 =
          *futhark_mc_task_130034->retval_defunc_2_reduce_res_124473;
    size_t reduce_stage_1_tid_res_arr_mem_124763_cached_sizze_130036 = 0;
    char *reduce_stage_1_tid_res_arr_mem_124763 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_124765_cached_sizze_130037 = 0;
    char *reduce_stage_1_tid_res_arr_mem_124765 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_124767_cached_sizze_130038 = 0;
    char *reduce_stage_1_tid_res_arr_mem_124767 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_124763_cached_sizze_130036 <
        (size_t) ((int64_t) 4 * num_tasks_124762)) {
        reduce_stage_1_tid_res_arr_mem_124763 =
            realloc(reduce_stage_1_tid_res_arr_mem_124763, (int64_t) 4 *
                    num_tasks_124762);
        reduce_stage_1_tid_res_arr_mem_124763_cached_sizze_130036 =
            (int64_t) 4 * num_tasks_124762;
    }
    if (reduce_stage_1_tid_res_arr_mem_124765_cached_sizze_130037 <
        (size_t) ((int64_t) 4 * num_tasks_124762)) {
        reduce_stage_1_tid_res_arr_mem_124765 =
            realloc(reduce_stage_1_tid_res_arr_mem_124765, (int64_t) 4 *
                    num_tasks_124762);
        reduce_stage_1_tid_res_arr_mem_124765_cached_sizze_130037 =
            (int64_t) 4 * num_tasks_124762;
    }
    if (reduce_stage_1_tid_res_arr_mem_124767_cached_sizze_130038 <
        (size_t) ((int64_t) 4 * num_tasks_124762)) {
        reduce_stage_1_tid_res_arr_mem_124767 =
            realloc(reduce_stage_1_tid_res_arr_mem_124767, (int64_t) 4 *
                    num_tasks_124762);
        reduce_stage_1_tid_res_arr_mem_124767_cached_sizze_130038 =
            (int64_t) 4 * num_tasks_124762;
    }
    
    int64_t iter_124769;
    struct futhark_mc_segred_stage_1_parloop_struct_130039
    futhark_mc_segred_stage_1_parloop_struct_130039;
    
    futhark_mc_segred_stage_1_parloop_struct_130039.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130039.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130039.free_gtid_117026 =
        gtid_117026;
    futhark_mc_segred_stage_1_parloop_struct_130039.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segred_stage_1_parloop_struct_130039.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segred_stage_1_parloop_struct_130039.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segred_stage_1_parloop_struct_130039.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segred_stage_1_parloop_struct_130039.free_x_124466 = x_124466;
    futhark_mc_segred_stage_1_parloop_struct_130039.free_x_124467 = x_124467;
    futhark_mc_segred_stage_1_parloop_struct_130039.free_defunc_0_f_res_124470 =
        defunc_0_f_res_124470;
    futhark_mc_segred_stage_1_parloop_struct_130039.free_reduce_stage_1_tid_res_arr_mem_124763 =
        reduce_stage_1_tid_res_arr_mem_124763;
    futhark_mc_segred_stage_1_parloop_struct_130039.free_reduce_stage_1_tid_res_arr_mem_124765 =
        reduce_stage_1_tid_res_arr_mem_124765;
    futhark_mc_segred_stage_1_parloop_struct_130039.free_reduce_stage_1_tid_res_arr_mem_124767 =
        reduce_stage_1_tid_res_arr_mem_124767;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130040_task;
    
    futhark_mc_segred_stage_1_parloop_130040_task.name =
        "futhark_mc_segred_stage_1_parloop_130040";
    futhark_mc_segred_stage_1_parloop_130040_task.fn =
        futhark_mc_segred_stage_1_parloop_130040;
    futhark_mc_segred_stage_1_parloop_130040_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130039;
    futhark_mc_segred_stage_1_parloop_130040_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130040_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130040_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130040_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130040_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130040_task);
    
    if (futhark_mc_segred_stage_1_parloop_130040_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130040_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130040_total_end -
                 futhark_mc_segred_stage_1_parloop_130040_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130040_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130040_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130040_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_124471 = 0.0F;
        defunc_2_reduce_res_124472 = 0.0F;
        defunc_2_reduce_res_124473 = 0.0F;
    }
    
    float x_124773;
    float x_124774;
    float x_124776;
    float x_124777;
    float x_124779;
    float x_124780;
    
    for (int32_t i_124782 = 0; i_124782 < num_tasks_124762; i_124782++) {
        flat_tid_117031 = i_124782;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_124773 = defunc_2_reduce_res_124471;
            }
            // load next params
            {
                x_124774 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_124763)[flat_tid_117031];
            }
            // red body
            {
                float defunc_1_op_res_124775 = x_124773 + x_124774;
                
                defunc_2_reduce_res_124471 = defunc_1_op_res_124775;
            }
            // load acc params
            {
                x_124776 = defunc_2_reduce_res_124472;
            }
            // load next params
            {
                x_124777 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_124765)[flat_tid_117031];
            }
            // red body
            {
                float defunc_1_op_res_124778 = x_124776 + x_124777;
                
                defunc_2_reduce_res_124472 = defunc_1_op_res_124778;
            }
            // load acc params
            {
                x_124779 = defunc_2_reduce_res_124473;
            }
            // load next params
            {
                x_124780 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_124767)[flat_tid_117031];
            }
            // red body
            {
                float defunc_1_op_res_124781 = x_124779 + x_124780;
                
                defunc_2_reduce_res_124473 = defunc_1_op_res_124781;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_124763);
    free(reduce_stage_1_tid_res_arr_mem_124765);
    free(reduce_stage_1_tid_res_arr_mem_124767);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130035_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130035_end -
                 futhark_mc_segred_task_130035_start;
        
        ctx->futhark_mc_segred_task_130035_runs[tid]++;
        ctx->futhark_mc_segred_task_130035_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130035_iter[tid] += iterations;
    }
    *futhark_mc_task_130034->retval_defunc_2_reduce_res_124471 =
        defunc_2_reduce_res_124471;
    *futhark_mc_task_130034->retval_defunc_2_reduce_res_124472 =
        defunc_2_reduce_res_124472;
    *futhark_mc_task_130034->retval_defunc_2_reduce_res_124473 =
        defunc_2_reduce_res_124473;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130041 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117026;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_x_124466;
    float free_x_124467;
    float free_defunc_0_f_res_124470;
    float free_a11_124506;
    float free_b11_124508;
    float free_c11_124509;
    float *retval_defunc_2_reduce_res_124510;
    float *retval_defunc_2_reduce_res_124511;
};
struct futhark_mc_segred_stage_1_parloop_struct_130045 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117026;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_x_124466;
    float free_x_124467;
    float free_defunc_0_f_res_124470;
    float free_a11_124506;
    float free_b11_124508;
    float free_c11_124509;
    char *free_reduce_stage_1_tid_res_arr_mem_124784;
    char *free_reduce_stage_1_tid_res_arr_mem_124786;
};
static int futhark_mc_segred_stage_1_parloop_130046(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_117033,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130045
    *futhark_mc_segred_stage_1_parloop_struct_130045 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130045 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130045->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130046_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130046_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130045->free_n_114105;
    int64_t gtid_117026 =
            futhark_mc_segred_stage_1_parloop_struct_130045->free_gtid_117026;
    int64_t ctx_param_ext_121264 =
            futhark_mc_segred_stage_1_parloop_struct_130045->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segred_stage_1_parloop_struct_130045->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segred_stage_1_parloop_struct_130045->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_130045->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130045->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t x_124466 =
            futhark_mc_segred_stage_1_parloop_struct_130045->free_x_124466;
    float x_124467 =
          futhark_mc_segred_stage_1_parloop_struct_130045->free_x_124467;
    float defunc_0_f_res_124470 =
          futhark_mc_segred_stage_1_parloop_struct_130045->free_defunc_0_f_res_124470;
    float a11_124506 =
          futhark_mc_segred_stage_1_parloop_struct_130045->free_a11_124506;
    float b11_124508 =
          futhark_mc_segred_stage_1_parloop_struct_130045->free_b11_124508;
    float c11_124509 =
          futhark_mc_segred_stage_1_parloop_struct_130045->free_c11_124509;
    struct memblock reduce_stage_1_tid_res_arr_mem_124784 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_124784",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130045->free_reduce_stage_1_tid_res_arr_mem_124784,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_124786 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_124786",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130045->free_reduce_stage_1_tid_res_arr_mem_124786,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_124788 = start;
    float x_124725;
    float x_124726;
    float x_124728;
    float x_124729;
    float local_acc_124789 = 0.0F;
    float local_acc_124790 = 0.0F;
    
    for (; iter_124788 < end; iter_124788++) {
        int64_t gtid_117034 = iter_124788;
        bool cond_124731 = sle64(n_114105, gtid_117034);
        float defunc_0_f_res_124732;
        
        if (cond_124731) {
            defunc_0_f_res_124732 = 0.0F;
        } else {
            int64_t i_124733 = add64(gtid_117034, x_124466);
            float index_primexp_124734 = sitofp_i64_f32(i_124733);
            float defunc_0_f_res_f_res_124735 = 1.0F + index_primexp_124734;
            
            defunc_0_f_res_124732 = defunc_0_f_res_f_res_124735;
        }
        
        float defunc_0_f_res_124736;
        
        if (cond_124731) {
            defunc_0_f_res_124736 = 0.0F;
        } else {
            int64_t i_124737 = add64(gtid_117034, x_124466);
            float x_124738 =
                  ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                   (gtid_117026 *
                                                    ctx_param_ext_121265 +
                                                    i_124737 *
                                                    ctx_param_ext_121267)];
            
            defunc_0_f_res_124736 = x_124738;
        }
        
        float x_j_124739 = defunc_0_f_res_124732 - defunc_0_f_res_124470;
        float abs_res_124740 = (float) fabs(x_j_124739);
        float tmp1_124741 = abs_res_124740 / x_124467;
        float x_124742 = tmp1_124741 * tmp1_124741;
        float y_124743 = tmp1_124741 * x_124742;
        float tmp2_124744 = 1.0F - y_124743;
        float x_124745 = tmp2_124744 * tmp2_124744;
        float tmp3_124746 = tmp2_124744 * x_124745;
        float tmp4_124747 = defunc_0_f_res_124736 * tmp3_124746;
        float defunc_1_f_res_124748 = x_j_124739 * tmp4_124747;
        float defunc_0_f_res_124749;
        
        if (cond_124731) {
            defunc_0_f_res_124749 = 0.0F;
        } else {
            int64_t i_124750 = add64(gtid_117034, x_124466);
            float x_124751 = ((float *) mem_121432.mem)[gtid_117026 * n_114105 +
                                                        i_124750];
            
            defunc_0_f_res_124749 = x_124751;
        }
        
        float x_124752 = a11_124506 * tmp4_124747;
        float y_124753 = b11_124508 * defunc_1_f_res_124748;
        float x_124754 = x_124752 + y_124753;
        float defunc_9_fit_fun_res_124755 = defunc_0_f_res_124749 * x_124754;
        float x_124756 = b11_124508 * tmp4_124747;
        float y_124757 = c11_124509 * defunc_1_f_res_124748;
        float x_124758 = x_124756 + y_124757;
        float defunc_9_slope_fun_res_124759 = defunc_0_f_res_124749 * x_124758;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_124725 = local_acc_124789;
        }
        // Load next params
        {
            x_124726 = defunc_9_fit_fun_res_124755;
        }
        // Red body
        {
            float defunc_1_op_res_124727 = x_124725 + x_124726;
            
            local_acc_124789 = defunc_1_op_res_124727;
        }
        // Load accum params
        {
            x_124728 = local_acc_124790;
        }
        // Load next params
        {
            x_124729 = defunc_9_slope_fun_res_124759;
        }
        // Red body
        {
            float defunc_1_op_res_124730 = x_124728 + x_124729;
            
            local_acc_124790 = defunc_1_op_res_124730;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_124784.mem)[flat_tid_117033] =
        local_acc_124789;
    ((float *) reduce_stage_1_tid_res_arr_mem_124786.mem)[flat_tid_117033] =
        local_acc_124790;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130046_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130046_end -
                 futhark_mc_segred_stage_1_parloop_130046_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130046_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130046_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130046_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130042(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117033 = tid;
    int num_tasks_124783 = info.nsubtasks;
    struct futhark_mc_task_130041 *futhark_mc_task_130041 =
                                  (struct futhark_mc_task_130041 *) args;
    struct futhark_context *ctx = futhark_mc_task_130041->ctx;
    uint64_t futhark_mc_segred_task_130042_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130042_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130041->free_n_114105;
    int64_t gtid_117026 = futhark_mc_task_130041->free_gtid_117026;
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130041->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130041->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130041->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130041->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130041->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t x_124466 = futhark_mc_task_130041->free_x_124466;
    float x_124467 = futhark_mc_task_130041->free_x_124467;
    float defunc_0_f_res_124470 =
          futhark_mc_task_130041->free_defunc_0_f_res_124470;
    float a11_124506 = futhark_mc_task_130041->free_a11_124506;
    float b11_124508 = futhark_mc_task_130041->free_b11_124508;
    float c11_124509 = futhark_mc_task_130041->free_c11_124509;
    float defunc_2_reduce_res_124510 =
          *futhark_mc_task_130041->retval_defunc_2_reduce_res_124510;
    float defunc_2_reduce_res_124511 =
          *futhark_mc_task_130041->retval_defunc_2_reduce_res_124511;
    size_t reduce_stage_1_tid_res_arr_mem_124784_cached_sizze_130043 = 0;
    char *reduce_stage_1_tid_res_arr_mem_124784 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_124786_cached_sizze_130044 = 0;
    char *reduce_stage_1_tid_res_arr_mem_124786 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_124784_cached_sizze_130043 <
        (size_t) ((int64_t) 4 * num_tasks_124783)) {
        reduce_stage_1_tid_res_arr_mem_124784 =
            realloc(reduce_stage_1_tid_res_arr_mem_124784, (int64_t) 4 *
                    num_tasks_124783);
        reduce_stage_1_tid_res_arr_mem_124784_cached_sizze_130043 =
            (int64_t) 4 * num_tasks_124783;
    }
    if (reduce_stage_1_tid_res_arr_mem_124786_cached_sizze_130044 <
        (size_t) ((int64_t) 4 * num_tasks_124783)) {
        reduce_stage_1_tid_res_arr_mem_124786 =
            realloc(reduce_stage_1_tid_res_arr_mem_124786, (int64_t) 4 *
                    num_tasks_124783);
        reduce_stage_1_tid_res_arr_mem_124786_cached_sizze_130044 =
            (int64_t) 4 * num_tasks_124783;
    }
    
    int64_t iter_124788;
    struct futhark_mc_segred_stage_1_parloop_struct_130045
    futhark_mc_segred_stage_1_parloop_struct_130045;
    
    futhark_mc_segred_stage_1_parloop_struct_130045.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_gtid_117026 =
        gtid_117026;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_mem_121432 =
        mem_121432.mem;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_x_124466 = x_124466;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_x_124467 = x_124467;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_defunc_0_f_res_124470 =
        defunc_0_f_res_124470;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_a11_124506 =
        a11_124506;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_b11_124508 =
        b11_124508;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_c11_124509 =
        c11_124509;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_reduce_stage_1_tid_res_arr_mem_124784 =
        reduce_stage_1_tid_res_arr_mem_124784;
    futhark_mc_segred_stage_1_parloop_struct_130045.free_reduce_stage_1_tid_res_arr_mem_124786 =
        reduce_stage_1_tid_res_arr_mem_124786;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130046_task;
    
    futhark_mc_segred_stage_1_parloop_130046_task.name =
        "futhark_mc_segred_stage_1_parloop_130046";
    futhark_mc_segred_stage_1_parloop_130046_task.fn =
        futhark_mc_segred_stage_1_parloop_130046;
    futhark_mc_segred_stage_1_parloop_130046_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130045;
    futhark_mc_segred_stage_1_parloop_130046_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130046_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130046_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130046_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130046_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130046_task);
    
    if (futhark_mc_segred_stage_1_parloop_130046_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130046_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130046_total_end -
                 futhark_mc_segred_stage_1_parloop_130046_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130046_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130046_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130046_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_124510 = 0.0F;
        defunc_2_reduce_res_124511 = 0.0F;
    }
    
    float x_124791;
    float x_124792;
    float x_124794;
    float x_124795;
    
    for (int32_t i_124797 = 0; i_124797 < num_tasks_124783; i_124797++) {
        flat_tid_117033 = i_124797;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_124791 = defunc_2_reduce_res_124510;
            }
            // load next params
            {
                x_124792 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_124784)[flat_tid_117033];
            }
            // red body
            {
                float defunc_1_op_res_124793 = x_124791 + x_124792;
                
                defunc_2_reduce_res_124510 = defunc_1_op_res_124793;
            }
            // load acc params
            {
                x_124794 = defunc_2_reduce_res_124511;
            }
            // load next params
            {
                x_124795 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_124786)[flat_tid_117033];
            }
            // red body
            {
                float defunc_1_op_res_124796 = x_124794 + x_124795;
                
                defunc_2_reduce_res_124511 = defunc_1_op_res_124796;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_124784);
    free(reduce_stage_1_tid_res_arr_mem_124786);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130042_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130042_end -
                 futhark_mc_segred_task_130042_start;
        
        ctx->futhark_mc_segred_task_130042_runs[tid]++;
        ctx->futhark_mc_segred_task_130042_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130042_iter[tid] += iterations;
    }
    *futhark_mc_task_130041->retval_defunc_2_reduce_res_124510 =
        defunc_2_reduce_res_124510;
    *futhark_mc_task_130041->retval_defunc_2_reduce_res_124511 =
        defunc_2_reduce_res_124511;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130033(void *args, int64_t start,
                                            int64_t end, int flat_tid_117029,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130032
    *futhark_mc_segmap_parloop_struct_130032 =
    (struct futhark_mc_segmap_parloop_struct_130032 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130032->ctx;
    uint64_t futhark_mc_segmap_parloop_130033_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130033_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130032->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130032->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130032->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130032->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130032->free_i_114181;
    int64_t gtid_117026 =
            futhark_mc_segmap_parloop_struct_130032->free_gtid_117026;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130032->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130032->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130032->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130032->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130032->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130032->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130032->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121461 = {.desc ="mem_121461", .mem =
                                  futhark_mc_segmap_parloop_struct_130032->free_mem_121461,
                                  .size =0, .references =NULL};
    struct memblock mem_121464 = {.desc ="mem_121464", .mem =
                                  futhark_mc_segmap_parloop_struct_130032->free_mem_121464,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_124696 = start;
    
    for (; iter_124696 < end; iter_124696++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_124760 = l_n_m_114155;
        int64_t gtid_117030 = iter_124696;
        int64_t remnant_124761 = iter_124696 - gtid_117030;
        int64_t x_124466 = ((int64_t *) mem_121171.mem)[gtid_117026 *
                                                        l_n_m_114155 +
                                                        gtid_117030];
        float x_124467 = ((float *) mem_121175.mem)[gtid_117026 * l_n_m_114155 +
                                                    gtid_117030];
        int64_t min_arg_124468 = mul64(t_jump_114112, gtid_117030);
        int64_t min_res_124469 = smin64(i_114181, min_arg_124468);
        float defunc_0_f_res_124470 = sitofp_i64_f32(min_res_124469);
        float defunc_2_reduce_res_124471;
        float defunc_2_reduce_res_124472;
        float defunc_2_reduce_res_124473;
        int64_t flat_tid_117031 = (int64_t) 0;
        int32_t num_tasks_124762;
        struct futhark_mc_task_130034 futhark_mc_task_130034;
        
        futhark_mc_task_130034.ctx = ctx;
        futhark_mc_task_130034.free_n_114105 = n_114105;
        futhark_mc_task_130034.free_gtid_117026 = gtid_117026;
        futhark_mc_task_130034.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130034.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130034.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130034.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130034.free_x_124466 = x_124466;
        futhark_mc_task_130034.free_x_124467 = x_124467;
        futhark_mc_task_130034.free_defunc_0_f_res_124470 =
            defunc_0_f_res_124470;
        futhark_mc_task_130034.retval_defunc_2_reduce_res_124471 =
            &defunc_2_reduce_res_124471;
        futhark_mc_task_130034.retval_defunc_2_reduce_res_124472 =
            &defunc_2_reduce_res_124472;
        futhark_mc_task_130034.retval_defunc_2_reduce_res_124473 =
            &defunc_2_reduce_res_124473;
        
        struct scheduler_segop futhark_mc_task_130034_task;
        
        futhark_mc_task_130034_task.args = &futhark_mc_task_130034;
        futhark_mc_task_130034_task.top_level_fn =
            futhark_mc_segred_task_130035;
        futhark_mc_task_130034_task.name = "futhark_mc_segred_task_130035";
        futhark_mc_task_130034_task.iterations = l_window_114109;
        futhark_mc_task_130034_task.task_time =
            &ctx->futhark_mc_segred_task_130035_total_time;
        futhark_mc_task_130034_task.task_iter =
            &ctx->futhark_mc_segred_task_130035_total_iter;
        futhark_mc_task_130034_task.sched = STATIC;
        futhark_mc_task_130034_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130035_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130034_task);
        
        if (futhark_mc_segred_task_130035_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_124502 = defunc_2_reduce_res_124471 *
              defunc_2_reduce_res_124473;
        float y_124503 = defunc_2_reduce_res_124472 *
              defunc_2_reduce_res_124472;
        float y_124504 = x_124502 - y_124503;
        float det1_124505 = 1.0F / y_124504;
        float a11_124506 = defunc_2_reduce_res_124473 * det1_124505;
        float negate_arg_124507 = defunc_2_reduce_res_124472 * det1_124505;
        float b11_124508 = 0.0F - negate_arg_124507;
        float c11_124509 = defunc_2_reduce_res_124471 * det1_124505;
        float defunc_2_reduce_res_124510;
        float defunc_2_reduce_res_124511;
        int64_t flat_tid_117033 = (int64_t) 0;
        int32_t num_tasks_124783;
        struct futhark_mc_task_130041 futhark_mc_task_130041;
        
        futhark_mc_task_130041.ctx = ctx;
        futhark_mc_task_130041.free_n_114105 = n_114105;
        futhark_mc_task_130041.free_gtid_117026 = gtid_117026;
        futhark_mc_task_130041.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130041.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130041.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130041.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130041.free_mem_121432 = mem_121432.mem;
        futhark_mc_task_130041.free_x_124466 = x_124466;
        futhark_mc_task_130041.free_x_124467 = x_124467;
        futhark_mc_task_130041.free_defunc_0_f_res_124470 =
            defunc_0_f_res_124470;
        futhark_mc_task_130041.free_a11_124506 = a11_124506;
        futhark_mc_task_130041.free_b11_124508 = b11_124508;
        futhark_mc_task_130041.free_c11_124509 = c11_124509;
        futhark_mc_task_130041.retval_defunc_2_reduce_res_124510 =
            &defunc_2_reduce_res_124510;
        futhark_mc_task_130041.retval_defunc_2_reduce_res_124511 =
            &defunc_2_reduce_res_124511;
        
        struct scheduler_segop futhark_mc_task_130041_task;
        
        futhark_mc_task_130041_task.args = &futhark_mc_task_130041;
        futhark_mc_task_130041_task.top_level_fn =
            futhark_mc_segred_task_130042;
        futhark_mc_task_130041_task.name = "futhark_mc_segred_task_130042";
        futhark_mc_task_130041_task.iterations = l_window_114109;
        futhark_mc_task_130041_task.task_time =
            &ctx->futhark_mc_segred_task_130042_total_time;
        futhark_mc_task_130041_task.task_iter =
            &ctx->futhark_mc_segred_task_130042_total_iter;
        futhark_mc_task_130041_task.sched = STATIC;
        futhark_mc_task_130041_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130042_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130041_task);
        
        if (futhark_mc_segred_task_130042_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_121461.mem)[gtid_117030] = defunc_2_reduce_res_124510;
        ((float *) mem_121464.mem)[gtid_117030] = defunc_2_reduce_res_124511;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130033_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130033_end -
                 futhark_mc_segmap_parloop_130033_start;
        
        ctx->futhark_mc_segmap_parloop_130033_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130033_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130033_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130031(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117029 = tid;
    int num_tasks_124627 = info.nsubtasks;
    struct futhark_mc_task_130027 *futhark_mc_task_130027 =
                                  (struct futhark_mc_task_130027 *) args;
    struct futhark_context *ctx = futhark_mc_task_130027->ctx;
    uint64_t futhark_mc_segmap_nested_task_130031_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130031_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130027->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130027->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130027->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130027->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130027->free_i_114181;
    int64_t gtid_117026 = futhark_mc_task_130027->free_gtid_117026;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130027->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130027->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130027->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130027->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130027->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130027->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130027->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121461 = {.desc ="mem_121461", .mem =
                                  futhark_mc_task_130027->free_mem_121461,
                                  .size =0, .references =NULL};
    struct memblock mem_121464 = {.desc ="mem_121464", .mem =
                                  futhark_mc_task_130027->free_mem_121464,
                                  .size =0, .references =NULL};
    int64_t iter_124696;
    struct futhark_mc_segmap_parloop_struct_130032
    futhark_mc_segmap_parloop_struct_130032;
    
    futhark_mc_segmap_parloop_struct_130032.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130032.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130032.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130032.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130032.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130032.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130032.free_gtid_117026 = gtid_117026;
    futhark_mc_segmap_parloop_struct_130032.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130032.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130032.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130032.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130032.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130032.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130032.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130032.free_mem_121461 = mem_121461.mem;
    futhark_mc_segmap_parloop_struct_130032.free_mem_121464 = mem_121464.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130033_task;
    
    futhark_mc_segmap_parloop_130033_task.name =
        "futhark_mc_segmap_parloop_130033";
    futhark_mc_segmap_parloop_130033_task.fn = futhark_mc_segmap_parloop_130033;
    futhark_mc_segmap_parloop_130033_task.args =
        &futhark_mc_segmap_parloop_struct_130032;
    futhark_mc_segmap_parloop_130033_task.iterations = iterations;
    futhark_mc_segmap_parloop_130033_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130033_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130033_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130033_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130033_task);
    
    if (futhark_mc_segmap_parloop_130033_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130033_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130033_total_end -
                 futhark_mc_segmap_parloop_130033_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130033_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130033_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130033_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130031_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130031_end -
                 futhark_mc_segmap_nested_task_130031_start;
        
        ctx->futhark_mc_segmap_nested_task_130031_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130031_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130031_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130024(void *args, int64_t start,
                                            int64_t end, int flat_tid_117025,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130023
    *futhark_mc_segmap_parloop_struct_130023 =
    (struct futhark_mc_segmap_parloop_struct_130023 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130023->ctx;
    uint64_t futhark_mc_segmap_parloop_130024_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130024_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130023->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130023->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130023->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130023->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130023->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130023->free_i_114181;
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_130023->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130023->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130023->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130023->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130023->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130023->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130023->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130023->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121498 = {.desc ="mem_121498", .mem =
                                  futhark_mc_segmap_parloop_struct_130023->free_mem_121498,
                                  .size =0, .references =NULL};
    struct memblock mem_121502 = {.desc ="mem_121502", .mem =
                                  futhark_mc_segmap_parloop_struct_130023->free_mem_121502,
                                  .size =0, .references =NULL};
    size_t mem_121461_cached_sizze_130025 = 0;
    char *mem_121461 = NULL;
    size_t mem_121464_cached_sizze_130026 = 0;
    char *mem_121464 = NULL;
    int64_t iterations = end - start;
    int64_t iter_124465 = start;
    
    if (mem_121461_cached_sizze_130025 < (size_t) bytes_121117) {
        mem_121461 = realloc(mem_121461, bytes_121117);
        mem_121461_cached_sizze_130025 = bytes_121117;
    }
    if (mem_121464_cached_sizze_130026 < (size_t) bytes_121117) {
        mem_121464 = realloc(mem_121464, bytes_121117);
        mem_121464_cached_sizze_130026 = bytes_121117;
    }
    for (; iter_124465 < end; iter_124465++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_124625 = m_114104;
        int64_t gtid_117026 = iter_124465;
        int64_t remnant_124626 = iter_124465 - gtid_117026;
        int64_t flat_tid_117027 = (int64_t) 0;
        int32_t num_tasks_124627;
        int64_t flat_tid_117029 = (int64_t) 0;
        struct futhark_mc_task_130027 futhark_mc_task_130027;
        
        futhark_mc_task_130027.ctx = ctx;
        futhark_mc_task_130027.free_n_114105 = n_114105;
        futhark_mc_task_130027.free_l_window_114109 = l_window_114109;
        futhark_mc_task_130027.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_130027.free_l_n_m_114155 = l_n_m_114155;
        futhark_mc_task_130027.free_i_114181 = i_114181;
        futhark_mc_task_130027.free_gtid_117026 = gtid_117026;
        futhark_mc_task_130027.free_mem_121171 = mem_121171.mem;
        futhark_mc_task_130027.free_mem_121175 = mem_121175.mem;
        futhark_mc_task_130027.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130027.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130027.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130027.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130027.free_mem_121432 = mem_121432.mem;
        futhark_mc_task_130027.free_mem_121461 = mem_121461;
        futhark_mc_task_130027.free_mem_121464 = mem_121464;
        
        struct scheduler_segop futhark_mc_task_130027_task;
        
        futhark_mc_task_130027_task.args = &futhark_mc_task_130027;
        futhark_mc_task_130027_task.top_level_fn =
            futhark_mc_segmap_task_130028;
        futhark_mc_task_130027_task.name = "futhark_mc_segmap_task_130028";
        futhark_mc_task_130027_task.iterations = l_n_m_114155;
        futhark_mc_task_130027_task.task_time =
            &ctx->futhark_mc_segmap_task_130028_total_time;
        futhark_mc_task_130027_task.task_iter =
            &ctx->futhark_mc_segmap_task_130028_total_iter;
        futhark_mc_task_130027_task.sched = STATIC;
        futhark_mc_task_130027_task.nested_fn =
            futhark_mc_segmap_nested_task_130031;
        
        int futhark_mc_segmap_task_130028_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130027_task);
        
        if (futhark_mc_segmap_task_130028_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121498.mem + gtid_117026 * l_n_m_114155 * (int64_t) 4,
                mem_121461 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
        memmove(mem_121502.mem + gtid_117026 * l_n_m_114155 * (int64_t) 4,
                mem_121464 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121461);
    free(mem_121464);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130024_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130024_end -
                 futhark_mc_segmap_parloop_130024_start;
        
        ctx->futhark_mc_segmap_parloop_130024_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130024_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130024_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130022(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117025 = tid;
    int num_tasks_124371 = info.nsubtasks;
    struct futhark_mc_task_130016 *futhark_mc_task_130016 =
                                  (struct futhark_mc_task_130016 *) args;
    struct futhark_context *ctx = futhark_mc_task_130016->ctx;
    uint64_t futhark_mc_segmap_nested_task_130022_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130022_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130016->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130016->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130016->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130016->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130016->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130016->free_i_114181;
    int64_t bytes_121117 = futhark_mc_task_130016->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130016->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130016->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130016->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130016->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130016->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130016->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130016->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121498 = {.desc ="mem_121498", .mem =
                                  futhark_mc_task_130016->free_mem_121498,
                                  .size =0, .references =NULL};
    struct memblock mem_121502 = {.desc ="mem_121502", .mem =
                                  futhark_mc_task_130016->free_mem_121502,
                                  .size =0, .references =NULL};
    int64_t iter_124465;
    struct futhark_mc_segmap_parloop_struct_130023
    futhark_mc_segmap_parloop_struct_130023;
    
    futhark_mc_segmap_parloop_struct_130023.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130023.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130023.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130023.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130023.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130023.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130023.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130023.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_130023.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130023.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130023.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130023.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130023.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130023.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130023.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130023.free_mem_121498 = mem_121498.mem;
    futhark_mc_segmap_parloop_struct_130023.free_mem_121502 = mem_121502.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130024_task;
    
    futhark_mc_segmap_parloop_130024_task.name =
        "futhark_mc_segmap_parloop_130024";
    futhark_mc_segmap_parloop_130024_task.fn = futhark_mc_segmap_parloop_130024;
    futhark_mc_segmap_parloop_130024_task.args =
        &futhark_mc_segmap_parloop_struct_130023;
    futhark_mc_segmap_parloop_130024_task.iterations = iterations;
    futhark_mc_segmap_parloop_130024_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130024_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130024_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130024_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130024_task);
    
    if (futhark_mc_segmap_parloop_130024_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130024_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130024_total_end -
                 futhark_mc_segmap_parloop_130024_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130024_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130024_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130024_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130022_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130022_end -
                 futhark_mc_segmap_nested_task_130022_start;
        
        ctx->futhark_mc_segmap_nested_task_130022_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130022_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130022_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130047 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121542;
    char *free_mem_121546;
};
struct futhark_mc_segmap_parloop_struct_130049 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121542;
    char *free_mem_121546;
};
static int futhark_mc_segmap_parloop_130050(void *args, int64_t start,
                                            int64_t end, int flat_tid_117293,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130049
    *futhark_mc_segmap_parloop_struct_130049 =
    (struct futhark_mc_segmap_parloop_struct_130049 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130049->ctx;
    uint64_t futhark_mc_segmap_parloop_130050_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130050_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130049->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130049->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130049->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130049->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130049->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130049->free_i_114181;
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_130049->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130049->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130049->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130049->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130049->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130049->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130049->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130049->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121542 = {.desc ="mem_121542", .mem =
                                  futhark_mc_segmap_parloop_struct_130049->free_mem_121542,
                                  .size =0, .references =NULL};
    struct memblock mem_121546 = {.desc ="mem_121546", .mem =
                                  futhark_mc_segmap_parloop_struct_130049->free_mem_121546,
                                  .size =0, .references =NULL};
    size_t mem_121511_cached_sizze_130051 = 0;
    char *mem_121511 = NULL;
    size_t mem_121514_cached_sizze_130052 = 0;
    char *mem_121514 = NULL;
    int64_t iterations = end - start;
    int64_t iter_124799 = start;
    
    if (mem_121511_cached_sizze_130051 < (size_t) bytes_121117) {
        mem_121511 = realloc(mem_121511, bytes_121117);
        mem_121511_cached_sizze_130051 = bytes_121117;
    }
    if (mem_121514_cached_sizze_130052 < (size_t) bytes_121117) {
        mem_121514 = realloc(mem_121514, bytes_121117);
        mem_121514_cached_sizze_130052 = bytes_121117;
    }
    for (; iter_124799 < end; iter_124799++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_124913 = m_114104;
        int64_t gtid_117294 = iter_124799;
        int64_t remnant_124914 = iter_124799 - gtid_117294;
        
        for (int64_t i_124800 = 0; i_124800 < l_n_m_114155; i_124800++) {
            int64_t x_124803 = ((int64_t *) mem_121171.mem)[gtid_117294 *
                                                            l_n_m_114155 +
                                                            i_124800];
            float x_124804 = ((float *) mem_121175.mem)[gtid_117294 *
                                                        l_n_m_114155 +
                                                        i_124800];
            int64_t min_arg_124805 = mul64(t_jump_114112, i_124800);
            int64_t min_res_124806 = smin64(i_114181, min_arg_124805);
            float defunc_0_f_res_124807 = sitofp_i64_f32(min_res_124806);
            float defunc_2_reduce_res_124808;
            float defunc_2_reduce_res_124809;
            float defunc_2_reduce_res_124810;
            float defunc_2_reduce_res_124811;
            float defunc_2_reduce_res_124812;
            float redout_124814;
            float redout_124815;
            float redout_124816;
            float redout_124817;
            float redout_124818;
            
            redout_124814 = 0.0F;
            redout_124815 = 0.0F;
            redout_124816 = 0.0F;
            redout_124817 = 0.0F;
            redout_124818 = 0.0F;
            for (int64_t i_124813 = 0; i_124813 < l_window_114109; i_124813++) {
                bool cond_124819 = sle64(n_114105, i_124813);
                float defunc_0_f_res_124820;
                
                if (cond_124819) {
                    defunc_0_f_res_124820 = 0.0F;
                } else {
                    int64_t i_124821 = add64(x_124803, i_124813);
                    float index_primexp_124822 = sitofp_i64_f32(i_124821);
                    float defunc_0_f_res_f_res_124823 = 1.0F +
                          index_primexp_124822;
                    
                    defunc_0_f_res_124820 = defunc_0_f_res_f_res_124823;
                }
                
                float defunc_0_f_res_124824;
                
                if (cond_124819) {
                    defunc_0_f_res_124824 = 0.0F;
                } else {
                    int64_t i_124825 = add64(x_124803, i_124813);
                    float x_124826 =
                          ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                           (gtid_117294 *
                                                            ctx_param_ext_121265 +
                                                            i_124825 *
                                                            ctx_param_ext_121267)];
                    
                    defunc_0_f_res_124824 = x_124826;
                }
                
                float x_j_124827 = defunc_0_f_res_124820 -
                      defunc_0_f_res_124807;
                float abs_res_124828 = (float) fabs(x_j_124827);
                float tmp1_124829 = abs_res_124828 / x_124804;
                float x_124830 = tmp1_124829 * tmp1_124829;
                float y_124831 = tmp1_124829 * x_124830;
                float tmp2_124832 = 1.0F - y_124831;
                float x_124833 = tmp2_124832 * tmp2_124832;
                float tmp3_124834 = tmp2_124832 * x_124833;
                float w_j_124835 = defunc_0_f_res_124824 * tmp3_124834;
                float xw_j_124836 = x_j_124827 * w_j_124835;
                float x2w_j_124837 = x_j_124827 * xw_j_124836;
                float x3w_j_124838 = x_j_124827 * x2w_j_124837;
                float x4w_j_124839 = x_j_124827 * x3w_j_124838;
                float defunc_1_op_res_124840 = w_j_124835 + redout_124814;
                float defunc_1_op_res_124841 = xw_j_124836 + redout_124815;
                float defunc_1_op_res_124842 = x2w_j_124837 + redout_124816;
                float defunc_1_op_res_124843 = x3w_j_124838 + redout_124817;
                float defunc_1_op_res_124844 = x4w_j_124839 + redout_124818;
                float redout_tmp_124917 = defunc_1_op_res_124840;
                float redout_tmp_124918 = defunc_1_op_res_124841;
                float redout_tmp_124919 = defunc_1_op_res_124842;
                float redout_tmp_124920 = defunc_1_op_res_124843;
                float redout_tmp_124921 = defunc_1_op_res_124844;
                
                redout_124814 = redout_tmp_124917;
                redout_124815 = redout_tmp_124918;
                redout_124816 = redout_tmp_124919;
                redout_124817 = redout_tmp_124920;
                redout_124818 = redout_tmp_124921;
            }
            defunc_2_reduce_res_124808 = redout_124814;
            defunc_2_reduce_res_124809 = redout_124815;
            defunc_2_reduce_res_124810 = redout_124816;
            defunc_2_reduce_res_124811 = redout_124817;
            defunc_2_reduce_res_124812 = redout_124818;
            
            float x_124845 = defunc_2_reduce_res_124810 *
                  defunc_2_reduce_res_124812;
            float y_124846 = defunc_2_reduce_res_124811 *
                  defunc_2_reduce_res_124811;
            float a12_124847 = x_124845 - y_124846;
            float x_124848 = defunc_2_reduce_res_124810 *
                  defunc_2_reduce_res_124811;
            float y_124849 = defunc_2_reduce_res_124809 *
                  defunc_2_reduce_res_124812;
            float b12_124850 = x_124848 - y_124849;
            float x_124851 = defunc_2_reduce_res_124809 *
                  defunc_2_reduce_res_124811;
            float y_124852 = defunc_2_reduce_res_124810 *
                  defunc_2_reduce_res_124810;
            float c12_124853 = x_124851 - y_124852;
            float x_124854 = defunc_2_reduce_res_124808 *
                  defunc_2_reduce_res_124812;
            float b2_124855 = x_124854 - y_124852;
            float x_124856 = defunc_2_reduce_res_124809 *
                  defunc_2_reduce_res_124810;
            float y_124857 = defunc_2_reduce_res_124808 *
                  defunc_2_reduce_res_124811;
            float c2_124858 = x_124856 - y_124857;
            float x_124859 = defunc_2_reduce_res_124808 * a12_124847;
            float y_124860 = defunc_2_reduce_res_124809 * b12_124850;
            float x_124861 = x_124859 + y_124860;
            float y_124862 = defunc_2_reduce_res_124810 * c12_124853;
            float y_124863 = x_124861 + y_124862;
            float det_124864 = 1.0F / y_124863;
            float a12_124865 = a12_124847 * det_124864;
            float b12_124866 = b12_124850 * det_124864;
            float c12_124867 = c12_124853 * det_124864;
            float b2_124868 = b2_124855 * det_124864;
            float c2_124869 = c2_124858 * det_124864;
            float defunc_2_reduce_res_124870;
            float defunc_2_reduce_res_124871;
            float redout_124873;
            float redout_124874;
            
            redout_124873 = 0.0F;
            redout_124874 = 0.0F;
            for (int64_t i_124872 = 0; i_124872 < l_window_114109; i_124872++) {
                bool cond_124875 = sle64(n_114105, i_124872);
                float defunc_0_f_res_124876;
                
                if (cond_124875) {
                    defunc_0_f_res_124876 = 0.0F;
                } else {
                    int64_t i_124877 = add64(x_124803, i_124872);
                    float index_primexp_124878 = sitofp_i64_f32(i_124877);
                    float defunc_0_f_res_f_res_124879 = 1.0F +
                          index_primexp_124878;
                    
                    defunc_0_f_res_124876 = defunc_0_f_res_f_res_124879;
                }
                
                float defunc_0_f_res_124880;
                
                if (cond_124875) {
                    defunc_0_f_res_124880 = 0.0F;
                } else {
                    int64_t i_124881 = add64(x_124803, i_124872);
                    float x_124882 =
                          ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                           (gtid_117294 *
                                                            ctx_param_ext_121265 +
                                                            i_124881 *
                                                            ctx_param_ext_121267)];
                    
                    defunc_0_f_res_124880 = x_124882;
                }
                
                float x_j_124883 = defunc_0_f_res_124876 -
                      defunc_0_f_res_124807;
                float abs_res_124884 = (float) fabs(x_j_124883);
                float tmp1_124885 = abs_res_124884 / x_124804;
                float x_124886 = tmp1_124885 * tmp1_124885;
                float y_124887 = tmp1_124885 * x_124886;
                float tmp2_124888 = 1.0F - y_124887;
                float x_124889 = tmp2_124888 * tmp2_124888;
                float tmp3_124890 = tmp2_124888 * x_124889;
                float tmp4_124891 = defunc_0_f_res_124880 * tmp3_124890;
                float defunc_1_f_res_124892 = x_j_124883 * tmp4_124891;
                float defunc_1_f_res_124893 = x_j_124883 *
                      defunc_1_f_res_124892;
                float defunc_0_f_res_124894;
                
                if (cond_124875) {
                    defunc_0_f_res_124894 = 0.0F;
                } else {
                    int64_t i_124895 = add64(x_124803, i_124872);
                    float x_124896 = ((float *) mem_121432.mem)[gtid_117294 *
                                                                n_114105 +
                                                                i_124895];
                    
                    defunc_0_f_res_124894 = x_124896;
                }
                
                float x_124897 = a12_124865 * tmp4_124891;
                float y_124898 = b12_124866 * defunc_1_f_res_124892;
                float x_124899 = x_124897 + y_124898;
                float y_124900 = c12_124867 * defunc_1_f_res_124893;
                float x_124901 = x_124899 + y_124900;
                float defunc_9_fit_fun_res_124902 = defunc_0_f_res_124894 *
                      x_124901;
                float x_124903 = b12_124866 * tmp4_124891;
                float y_124904 = b2_124868 * defunc_1_f_res_124892;
                float x_124905 = x_124903 + y_124904;
                float y_124906 = c2_124869 * defunc_1_f_res_124893;
                float x_124907 = x_124905 + y_124906;
                float defunc_9_slope_fun_res_124908 = defunc_0_f_res_124894 *
                      x_124907;
                float defunc_1_op_res_124909 = defunc_9_fit_fun_res_124902 +
                      redout_124873;
                float defunc_1_op_res_124910 = defunc_9_slope_fun_res_124908 +
                      redout_124874;
                float redout_tmp_124922 = defunc_1_op_res_124909;
                float redout_tmp_124923 = defunc_1_op_res_124910;
                
                redout_124873 = redout_tmp_124922;
                redout_124874 = redout_tmp_124923;
            }
            defunc_2_reduce_res_124870 = redout_124873;
            defunc_2_reduce_res_124871 = redout_124874;
            ((float *) mem_121511)[i_124800] = defunc_2_reduce_res_124870;
            ((float *) mem_121514)[i_124800] = defunc_2_reduce_res_124871;
        }
        memmove(mem_121542.mem + gtid_117294 * l_n_m_114155 * (int64_t) 4,
                mem_121511 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
        memmove(mem_121546.mem + gtid_117294 * l_n_m_114155 * (int64_t) 4,
                mem_121514 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121511);
    free(mem_121514);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130050_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130050_end -
                 futhark_mc_segmap_parloop_130050_start;
        
        ctx->futhark_mc_segmap_parloop_130050_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130050_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130050_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130048(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117293 = tid;
    int num_tasks_124798 = info.nsubtasks;
    struct futhark_mc_task_130047 *futhark_mc_task_130047 =
                                  (struct futhark_mc_task_130047 *) args;
    struct futhark_context *ctx = futhark_mc_task_130047->ctx;
    uint64_t futhark_mc_segmap_task_130048_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130048_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130047->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130047->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130047->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130047->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130047->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130047->free_i_114181;
    int64_t bytes_121117 = futhark_mc_task_130047->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130047->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130047->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130047->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130047->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130047->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130047->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130047->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121542 = {.desc ="mem_121542", .mem =
                                  futhark_mc_task_130047->free_mem_121542,
                                  .size =0, .references =NULL};
    struct memblock mem_121546 = {.desc ="mem_121546", .mem =
                                  futhark_mc_task_130047->free_mem_121546,
                                  .size =0, .references =NULL};
    int64_t iter_124799;
    struct futhark_mc_segmap_parloop_struct_130049
    futhark_mc_segmap_parloop_struct_130049;
    
    futhark_mc_segmap_parloop_struct_130049.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130049.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130049.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130049.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130049.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130049.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130049.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130049.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_130049.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130049.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130049.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130049.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130049.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130049.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130049.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130049.free_mem_121542 = mem_121542.mem;
    futhark_mc_segmap_parloop_struct_130049.free_mem_121546 = mem_121546.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130050_task;
    
    futhark_mc_segmap_parloop_130050_task.name =
        "futhark_mc_segmap_parloop_130050";
    futhark_mc_segmap_parloop_130050_task.fn = futhark_mc_segmap_parloop_130050;
    futhark_mc_segmap_parloop_130050_task.args =
        &futhark_mc_segmap_parloop_struct_130049;
    futhark_mc_segmap_parloop_130050_task.iterations = iterations;
    futhark_mc_segmap_parloop_130050_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130050_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130050_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130050_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130050_task);
    
    if (futhark_mc_segmap_parloop_130050_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130050_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130050_total_end -
                 futhark_mc_segmap_parloop_130050_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130050_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130050_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130050_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130048_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130048_end -
                 futhark_mc_segmap_task_130048_start;
        
        ctx->futhark_mc_segmap_task_130048_runs[tid]++;
        ctx->futhark_mc_segmap_task_130048_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130048_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130054 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121542;
    char *free_mem_121546;
};
struct futhark_mc_task_130058 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_117296;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121505;
    char *free_mem_121508;
};
struct futhark_mc_segmap_parloop_struct_130060 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_117296;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121505;
    char *free_mem_121508;
};
static int futhark_mc_segmap_parloop_130061(void *args, int64_t start,
                                            int64_t end, int flat_tid_117297,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130060
    *futhark_mc_segmap_parloop_struct_130060 =
    (struct futhark_mc_segmap_parloop_struct_130060 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130060->ctx;
    uint64_t futhark_mc_segmap_parloop_130061_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130061_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130060->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130060->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130060->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130060->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130060->free_i_114181;
    int64_t gtid_117296 =
            futhark_mc_segmap_parloop_struct_130060->free_gtid_117296;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130060->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130060->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130060->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130060->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130060->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130060->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130060->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121505 = {.desc ="mem_121505", .mem =
                                  futhark_mc_segmap_parloop_struct_130060->free_mem_121505,
                                  .size =0, .references =NULL};
    struct memblock mem_121508 = {.desc ="mem_121508", .mem =
                                  futhark_mc_segmap_parloop_struct_130060->free_mem_121508,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_125149 = start;
    
    for (; iter_125149 < end; iter_125149++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_125221 = l_n_m_114155;
        int64_t gtid_117298 = iter_125149;
        int64_t remnant_125222 = iter_125149 - gtid_117298;
        int64_t x_125038 = ((int64_t *) mem_121171.mem)[gtid_117296 *
                                                        l_n_m_114155 +
                                                        gtid_117298];
        float x_125039 = ((float *) mem_121175.mem)[gtid_117296 * l_n_m_114155 +
                                                    gtid_117298];
        int64_t min_arg_125040 = mul64(t_jump_114112, gtid_117298);
        int64_t min_res_125041 = smin64(i_114181, min_arg_125040);
        float defunc_0_f_res_125042 = sitofp_i64_f32(min_res_125041);
        float defunc_2_reduce_res_125043;
        float defunc_2_reduce_res_125044;
        float defunc_2_reduce_res_125045;
        float defunc_2_reduce_res_125046;
        float defunc_2_reduce_res_125047;
        float redout_125151;
        float redout_125152;
        float redout_125153;
        float redout_125154;
        float redout_125155;
        
        redout_125151 = 0.0F;
        redout_125152 = 0.0F;
        redout_125153 = 0.0F;
        redout_125154 = 0.0F;
        redout_125155 = 0.0F;
        for (int64_t i_125150 = 0; i_125150 < l_window_114109; i_125150++) {
            bool cond_125156 = sle64(n_114105, i_125150);
            float defunc_0_f_res_125157;
            
            if (cond_125156) {
                defunc_0_f_res_125157 = 0.0F;
            } else {
                int64_t i_125158 = add64(x_125038, i_125150);
                float index_primexp_125159 = sitofp_i64_f32(i_125158);
                float defunc_0_f_res_f_res_125160 = 1.0F + index_primexp_125159;
                
                defunc_0_f_res_125157 = defunc_0_f_res_f_res_125160;
            }
            
            float defunc_0_f_res_125161;
            
            if (cond_125156) {
                defunc_0_f_res_125161 = 0.0F;
            } else {
                int64_t i_125162 = add64(x_125038, i_125150);
                float x_125163 =
                      ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                       (gtid_117296 *
                                                        ctx_param_ext_121265 +
                                                        i_125162 *
                                                        ctx_param_ext_121267)];
                
                defunc_0_f_res_125161 = x_125163;
            }
            
            float x_j_125164 = defunc_0_f_res_125157 - defunc_0_f_res_125042;
            float abs_res_125165 = (float) fabs(x_j_125164);
            float tmp1_125166 = abs_res_125165 / x_125039;
            float x_125167 = tmp1_125166 * tmp1_125166;
            float y_125168 = tmp1_125166 * x_125167;
            float tmp2_125169 = 1.0F - y_125168;
            float x_125170 = tmp2_125169 * tmp2_125169;
            float tmp3_125171 = tmp2_125169 * x_125170;
            float w_j_125172 = defunc_0_f_res_125161 * tmp3_125171;
            float xw_j_125173 = x_j_125164 * w_j_125172;
            float x2w_j_125174 = x_j_125164 * xw_j_125173;
            float x3w_j_125175 = x_j_125164 * x2w_j_125174;
            float x4w_j_125176 = x_j_125164 * x3w_j_125175;
            float defunc_1_op_res_125177 = w_j_125172 + redout_125151;
            float defunc_1_op_res_125178 = xw_j_125173 + redout_125152;
            float defunc_1_op_res_125179 = x2w_j_125174 + redout_125153;
            float defunc_1_op_res_125180 = x3w_j_125175 + redout_125154;
            float defunc_1_op_res_125181 = x4w_j_125176 + redout_125155;
            float redout_tmp_125223 = defunc_1_op_res_125177;
            float redout_tmp_125224 = defunc_1_op_res_125178;
            float redout_tmp_125225 = defunc_1_op_res_125179;
            float redout_tmp_125226 = defunc_1_op_res_125180;
            float redout_tmp_125227 = defunc_1_op_res_125181;
            
            redout_125151 = redout_tmp_125223;
            redout_125152 = redout_tmp_125224;
            redout_125153 = redout_tmp_125225;
            redout_125154 = redout_tmp_125226;
            redout_125155 = redout_tmp_125227;
        }
        defunc_2_reduce_res_125043 = redout_125151;
        defunc_2_reduce_res_125044 = redout_125152;
        defunc_2_reduce_res_125045 = redout_125153;
        defunc_2_reduce_res_125046 = redout_125154;
        defunc_2_reduce_res_125047 = redout_125155;
        
        float x_125080 = defunc_2_reduce_res_125045 *
              defunc_2_reduce_res_125047;
        float y_125081 = defunc_2_reduce_res_125046 *
              defunc_2_reduce_res_125046;
        float a12_125082 = x_125080 - y_125081;
        float x_125083 = defunc_2_reduce_res_125045 *
              defunc_2_reduce_res_125046;
        float y_125084 = defunc_2_reduce_res_125044 *
              defunc_2_reduce_res_125047;
        float b12_125085 = x_125083 - y_125084;
        float x_125086 = defunc_2_reduce_res_125044 *
              defunc_2_reduce_res_125046;
        float y_125087 = defunc_2_reduce_res_125045 *
              defunc_2_reduce_res_125045;
        float c12_125088 = x_125086 - y_125087;
        float x_125089 = defunc_2_reduce_res_125043 *
              defunc_2_reduce_res_125047;
        float b2_125090 = x_125089 - y_125087;
        float x_125091 = defunc_2_reduce_res_125044 *
              defunc_2_reduce_res_125045;
        float y_125092 = defunc_2_reduce_res_125043 *
              defunc_2_reduce_res_125046;
        float c2_125093 = x_125091 - y_125092;
        float x_125094 = defunc_2_reduce_res_125043 * a12_125082;
        float y_125095 = defunc_2_reduce_res_125044 * b12_125085;
        float x_125096 = x_125094 + y_125095;
        float y_125097 = defunc_2_reduce_res_125045 * c12_125088;
        float y_125098 = x_125096 + y_125097;
        float det_125099 = 1.0F / y_125098;
        float a12_125100 = a12_125082 * det_125099;
        float b12_125101 = b12_125085 * det_125099;
        float c12_125102 = c12_125088 * det_125099;
        float b2_125103 = b2_125090 * det_125099;
        float c2_125104 = c2_125093 * det_125099;
        float defunc_2_reduce_res_125105;
        float defunc_2_reduce_res_125106;
        float redout_125183;
        float redout_125184;
        
        redout_125183 = 0.0F;
        redout_125184 = 0.0F;
        for (int64_t i_125182 = 0; i_125182 < l_window_114109; i_125182++) {
            bool cond_125185 = sle64(n_114105, i_125182);
            float defunc_0_f_res_125186;
            
            if (cond_125185) {
                defunc_0_f_res_125186 = 0.0F;
            } else {
                int64_t i_125187 = add64(x_125038, i_125182);
                float index_primexp_125188 = sitofp_i64_f32(i_125187);
                float defunc_0_f_res_f_res_125189 = 1.0F + index_primexp_125188;
                
                defunc_0_f_res_125186 = defunc_0_f_res_f_res_125189;
            }
            
            float defunc_0_f_res_125190;
            
            if (cond_125185) {
                defunc_0_f_res_125190 = 0.0F;
            } else {
                int64_t i_125191 = add64(x_125038, i_125182);
                float x_125192 =
                      ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                       (gtid_117296 *
                                                        ctx_param_ext_121265 +
                                                        i_125191 *
                                                        ctx_param_ext_121267)];
                
                defunc_0_f_res_125190 = x_125192;
            }
            
            float x_j_125193 = defunc_0_f_res_125186 - defunc_0_f_res_125042;
            float abs_res_125194 = (float) fabs(x_j_125193);
            float tmp1_125195 = abs_res_125194 / x_125039;
            float x_125196 = tmp1_125195 * tmp1_125195;
            float y_125197 = tmp1_125195 * x_125196;
            float tmp2_125198 = 1.0F - y_125197;
            float x_125199 = tmp2_125198 * tmp2_125198;
            float tmp3_125200 = tmp2_125198 * x_125199;
            float tmp4_125201 = defunc_0_f_res_125190 * tmp3_125200;
            float defunc_1_f_res_125202 = x_j_125193 * tmp4_125201;
            float defunc_1_f_res_125203 = x_j_125193 * defunc_1_f_res_125202;
            float defunc_0_f_res_125204;
            
            if (cond_125185) {
                defunc_0_f_res_125204 = 0.0F;
            } else {
                int64_t i_125205 = add64(x_125038, i_125182);
                float x_125206 = ((float *) mem_121432.mem)[gtid_117296 *
                                                            n_114105 +
                                                            i_125205];
                
                defunc_0_f_res_125204 = x_125206;
            }
            
            float x_125207 = a12_125100 * tmp4_125201;
            float y_125208 = b12_125101 * defunc_1_f_res_125202;
            float x_125209 = x_125207 + y_125208;
            float y_125210 = c12_125102 * defunc_1_f_res_125203;
            float x_125211 = x_125209 + y_125210;
            float defunc_9_fit_fun_res_125212 = defunc_0_f_res_125204 *
                  x_125211;
            float x_125213 = b12_125101 * tmp4_125201;
            float y_125214 = b2_125103 * defunc_1_f_res_125202;
            float x_125215 = x_125213 + y_125214;
            float y_125216 = c2_125104 * defunc_1_f_res_125203;
            float x_125217 = x_125215 + y_125216;
            float defunc_9_slope_fun_res_125218 = defunc_0_f_res_125204 *
                  x_125217;
            float defunc_1_op_res_125219 = defunc_9_fit_fun_res_125212 +
                  redout_125183;
            float defunc_1_op_res_125220 = defunc_9_slope_fun_res_125218 +
                  redout_125184;
            float redout_tmp_125228 = defunc_1_op_res_125219;
            float redout_tmp_125229 = defunc_1_op_res_125220;
            
            redout_125183 = redout_tmp_125228;
            redout_125184 = redout_tmp_125229;
        }
        defunc_2_reduce_res_125105 = redout_125183;
        defunc_2_reduce_res_125106 = redout_125184;
        ((float *) mem_121505.mem)[gtid_117298] = defunc_2_reduce_res_125105;
        ((float *) mem_121508.mem)[gtid_117298] = defunc_2_reduce_res_125106;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130061_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130061_end -
                 futhark_mc_segmap_parloop_130061_start;
        
        ctx->futhark_mc_segmap_parloop_130061_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130061_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130061_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130059(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117297 = tid;
    int num_tasks_125148 = info.nsubtasks;
    struct futhark_mc_task_130058 *futhark_mc_task_130058 =
                                  (struct futhark_mc_task_130058 *) args;
    struct futhark_context *ctx = futhark_mc_task_130058->ctx;
    uint64_t futhark_mc_segmap_task_130059_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130059_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130058->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130058->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130058->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130058->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130058->free_i_114181;
    int64_t gtid_117296 = futhark_mc_task_130058->free_gtid_117296;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130058->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130058->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130058->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130058->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130058->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130058->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130058->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121505 = {.desc ="mem_121505", .mem =
                                  futhark_mc_task_130058->free_mem_121505,
                                  .size =0, .references =NULL};
    struct memblock mem_121508 = {.desc ="mem_121508", .mem =
                                  futhark_mc_task_130058->free_mem_121508,
                                  .size =0, .references =NULL};
    int64_t iter_125149;
    struct futhark_mc_segmap_parloop_struct_130060
    futhark_mc_segmap_parloop_struct_130060;
    
    futhark_mc_segmap_parloop_struct_130060.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130060.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130060.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130060.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130060.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130060.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130060.free_gtid_117296 = gtid_117296;
    futhark_mc_segmap_parloop_struct_130060.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130060.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130060.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130060.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130060.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130060.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130060.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130060.free_mem_121505 = mem_121505.mem;
    futhark_mc_segmap_parloop_struct_130060.free_mem_121508 = mem_121508.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130061_task;
    
    futhark_mc_segmap_parloop_130061_task.name =
        "futhark_mc_segmap_parloop_130061";
    futhark_mc_segmap_parloop_130061_task.fn = futhark_mc_segmap_parloop_130061;
    futhark_mc_segmap_parloop_130061_task.args =
        &futhark_mc_segmap_parloop_struct_130060;
    futhark_mc_segmap_parloop_130061_task.iterations = iterations;
    futhark_mc_segmap_parloop_130061_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130061_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130061_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130061_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130061_task);
    
    if (futhark_mc_segmap_parloop_130061_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130061_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130061_total_end -
                 futhark_mc_segmap_parloop_130061_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130061_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130061_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130061_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130059_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130059_end -
                 futhark_mc_segmap_task_130059_start;
        
        ctx->futhark_mc_segmap_task_130059_runs[tid]++;
        ctx->futhark_mc_segmap_task_130059_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130059_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130063 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_117296;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    char *free_mem_121505;
    char *free_mem_121508;
};
struct futhark_mc_task_130065 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117296;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    int64_t free_x_124925;
    float free_x_124926;
    float free_defunc_0_f_res_124929;
    float *retval_defunc_2_reduce_res_124930;
    float *retval_defunc_2_reduce_res_124931;
    float *retval_defunc_2_reduce_res_124932;
    float *retval_defunc_2_reduce_res_124933;
    float *retval_defunc_2_reduce_res_124934;
};
struct futhark_mc_segred_stage_1_parloop_struct_130072 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117296;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    int64_t free_x_124925;
    float free_x_124926;
    float free_defunc_0_f_res_124929;
    char *free_reduce_stage_1_tid_res_arr_mem_125310;
    char *free_reduce_stage_1_tid_res_arr_mem_125312;
    char *free_reduce_stage_1_tid_res_arr_mem_125314;
    char *free_reduce_stage_1_tid_res_arr_mem_125316;
    char *free_reduce_stage_1_tid_res_arr_mem_125318;
};
static int futhark_mc_segred_stage_1_parloop_130073(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_117301,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130072
    *futhark_mc_segred_stage_1_parloop_struct_130072 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130072 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130072->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130073_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130073_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130072->free_n_114105;
    int64_t gtid_117296 =
            futhark_mc_segred_stage_1_parloop_struct_130072->free_gtid_117296;
    int64_t ctx_param_ext_121264 =
            futhark_mc_segred_stage_1_parloop_struct_130072->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segred_stage_1_parloop_struct_130072->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segred_stage_1_parloop_struct_130072->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_130072->free_mem_param_121269,
                                        .size =0, .references =NULL};
    int64_t x_124925 =
            futhark_mc_segred_stage_1_parloop_struct_130072->free_x_124925;
    float x_124926 =
          futhark_mc_segred_stage_1_parloop_struct_130072->free_x_124926;
    float defunc_0_f_res_124929 =
          futhark_mc_segred_stage_1_parloop_struct_130072->free_defunc_0_f_res_124929;
    struct memblock reduce_stage_1_tid_res_arr_mem_125310 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125310",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130072->free_reduce_stage_1_tid_res_arr_mem_125310,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_125312 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125312",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130072->free_reduce_stage_1_tid_res_arr_mem_125312,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_125314 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125314",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130072->free_reduce_stage_1_tid_res_arr_mem_125314,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_125316 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125316",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130072->free_reduce_stage_1_tid_res_arr_mem_125316,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_125318 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125318",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130072->free_reduce_stage_1_tid_res_arr_mem_125318,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_125320 = start;
    float x_125231;
    float x_125232;
    float x_125234;
    float x_125235;
    float x_125237;
    float x_125238;
    float x_125240;
    float x_125241;
    float x_125243;
    float x_125244;
    float local_acc_125321 = 0.0F;
    float local_acc_125322 = 0.0F;
    float local_acc_125323 = 0.0F;
    float local_acc_125324 = 0.0F;
    float local_acc_125325 = 0.0F;
    
    for (; iter_125320 < end; iter_125320++) {
        int64_t gtid_117302 = iter_125320;
        bool cond_125246 = sle64(n_114105, gtid_117302);
        float defunc_0_f_res_125247;
        
        if (cond_125246) {
            defunc_0_f_res_125247 = 0.0F;
        } else {
            int64_t i_125248 = add64(gtid_117302, x_124925);
            float index_primexp_125249 = sitofp_i64_f32(i_125248);
            float defunc_0_f_res_f_res_125250 = 1.0F + index_primexp_125249;
            
            defunc_0_f_res_125247 = defunc_0_f_res_f_res_125250;
        }
        
        float defunc_0_f_res_125251;
        
        if (cond_125246) {
            defunc_0_f_res_125251 = 0.0F;
        } else {
            int64_t i_125252 = add64(gtid_117302, x_124925);
            float x_125253 =
                  ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                   (gtid_117296 *
                                                    ctx_param_ext_121265 +
                                                    i_125252 *
                                                    ctx_param_ext_121267)];
            
            defunc_0_f_res_125251 = x_125253;
        }
        
        float x_j_125254 = defunc_0_f_res_125247 - defunc_0_f_res_124929;
        float abs_res_125255 = (float) fabs(x_j_125254);
        float tmp1_125256 = abs_res_125255 / x_124926;
        float x_125257 = tmp1_125256 * tmp1_125256;
        float y_125258 = tmp1_125256 * x_125257;
        float tmp2_125259 = 1.0F - y_125258;
        float x_125260 = tmp2_125259 * tmp2_125259;
        float tmp3_125261 = tmp2_125259 * x_125260;
        float w_j_125262 = defunc_0_f_res_125251 * tmp3_125261;
        float xw_j_125263 = x_j_125254 * w_j_125262;
        float x2w_j_125264 = x_j_125254 * xw_j_125263;
        float x3w_j_125265 = x_j_125254 * x2w_j_125264;
        float x4w_j_125266 = x_j_125254 * x3w_j_125265;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_125231 = local_acc_125321;
        }
        // Load next params
        {
            x_125232 = w_j_125262;
        }
        // Red body
        {
            float defunc_1_op_res_125233 = x_125231 + x_125232;
            
            local_acc_125321 = defunc_1_op_res_125233;
        }
        // Load accum params
        {
            x_125234 = local_acc_125322;
        }
        // Load next params
        {
            x_125235 = xw_j_125263;
        }
        // Red body
        {
            float defunc_1_op_res_125236 = x_125234 + x_125235;
            
            local_acc_125322 = defunc_1_op_res_125236;
        }
        // Load accum params
        {
            x_125237 = local_acc_125323;
        }
        // Load next params
        {
            x_125238 = x2w_j_125264;
        }
        // Red body
        {
            float defunc_1_op_res_125239 = x_125237 + x_125238;
            
            local_acc_125323 = defunc_1_op_res_125239;
        }
        // Load accum params
        {
            x_125240 = local_acc_125324;
        }
        // Load next params
        {
            x_125241 = x3w_j_125265;
        }
        // Red body
        {
            float defunc_1_op_res_125242 = x_125240 + x_125241;
            
            local_acc_125324 = defunc_1_op_res_125242;
        }
        // Load accum params
        {
            x_125243 = local_acc_125325;
        }
        // Load next params
        {
            x_125244 = x4w_j_125266;
        }
        // Red body
        {
            float defunc_1_op_res_125245 = x_125243 + x_125244;
            
            local_acc_125325 = defunc_1_op_res_125245;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_125310.mem)[flat_tid_117301] =
        local_acc_125321;
    ((float *) reduce_stage_1_tid_res_arr_mem_125312.mem)[flat_tid_117301] =
        local_acc_125322;
    ((float *) reduce_stage_1_tid_res_arr_mem_125314.mem)[flat_tid_117301] =
        local_acc_125323;
    ((float *) reduce_stage_1_tid_res_arr_mem_125316.mem)[flat_tid_117301] =
        local_acc_125324;
    ((float *) reduce_stage_1_tid_res_arr_mem_125318.mem)[flat_tid_117301] =
        local_acc_125325;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130073_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130073_end -
                 futhark_mc_segred_stage_1_parloop_130073_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130073_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130073_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130073_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130066(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117301 = tid;
    int num_tasks_125309 = info.nsubtasks;
    struct futhark_mc_task_130065 *futhark_mc_task_130065 =
                                  (struct futhark_mc_task_130065 *) args;
    struct futhark_context *ctx = futhark_mc_task_130065->ctx;
    uint64_t futhark_mc_segred_task_130066_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130066_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130065->free_n_114105;
    int64_t gtid_117296 = futhark_mc_task_130065->free_gtid_117296;
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130065->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130065->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130065->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130065->free_mem_param_121269,
                                        .size =0, .references =NULL};
    int64_t x_124925 = futhark_mc_task_130065->free_x_124925;
    float x_124926 = futhark_mc_task_130065->free_x_124926;
    float defunc_0_f_res_124929 =
          futhark_mc_task_130065->free_defunc_0_f_res_124929;
    float defunc_2_reduce_res_124930 =
          *futhark_mc_task_130065->retval_defunc_2_reduce_res_124930;
    float defunc_2_reduce_res_124931 =
          *futhark_mc_task_130065->retval_defunc_2_reduce_res_124931;
    float defunc_2_reduce_res_124932 =
          *futhark_mc_task_130065->retval_defunc_2_reduce_res_124932;
    float defunc_2_reduce_res_124933 =
          *futhark_mc_task_130065->retval_defunc_2_reduce_res_124933;
    float defunc_2_reduce_res_124934 =
          *futhark_mc_task_130065->retval_defunc_2_reduce_res_124934;
    size_t reduce_stage_1_tid_res_arr_mem_125310_cached_sizze_130067 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125310 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_125312_cached_sizze_130068 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125312 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_125314_cached_sizze_130069 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125314 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_125316_cached_sizze_130070 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125316 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_125318_cached_sizze_130071 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125318 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_125310_cached_sizze_130067 <
        (size_t) ((int64_t) 4 * num_tasks_125309)) {
        reduce_stage_1_tid_res_arr_mem_125310 =
            realloc(reduce_stage_1_tid_res_arr_mem_125310, (int64_t) 4 *
                    num_tasks_125309);
        reduce_stage_1_tid_res_arr_mem_125310_cached_sizze_130067 =
            (int64_t) 4 * num_tasks_125309;
    }
    if (reduce_stage_1_tid_res_arr_mem_125312_cached_sizze_130068 <
        (size_t) ((int64_t) 4 * num_tasks_125309)) {
        reduce_stage_1_tid_res_arr_mem_125312 =
            realloc(reduce_stage_1_tid_res_arr_mem_125312, (int64_t) 4 *
                    num_tasks_125309);
        reduce_stage_1_tid_res_arr_mem_125312_cached_sizze_130068 =
            (int64_t) 4 * num_tasks_125309;
    }
    if (reduce_stage_1_tid_res_arr_mem_125314_cached_sizze_130069 <
        (size_t) ((int64_t) 4 * num_tasks_125309)) {
        reduce_stage_1_tid_res_arr_mem_125314 =
            realloc(reduce_stage_1_tid_res_arr_mem_125314, (int64_t) 4 *
                    num_tasks_125309);
        reduce_stage_1_tid_res_arr_mem_125314_cached_sizze_130069 =
            (int64_t) 4 * num_tasks_125309;
    }
    if (reduce_stage_1_tid_res_arr_mem_125316_cached_sizze_130070 <
        (size_t) ((int64_t) 4 * num_tasks_125309)) {
        reduce_stage_1_tid_res_arr_mem_125316 =
            realloc(reduce_stage_1_tid_res_arr_mem_125316, (int64_t) 4 *
                    num_tasks_125309);
        reduce_stage_1_tid_res_arr_mem_125316_cached_sizze_130070 =
            (int64_t) 4 * num_tasks_125309;
    }
    if (reduce_stage_1_tid_res_arr_mem_125318_cached_sizze_130071 <
        (size_t) ((int64_t) 4 * num_tasks_125309)) {
        reduce_stage_1_tid_res_arr_mem_125318 =
            realloc(reduce_stage_1_tid_res_arr_mem_125318, (int64_t) 4 *
                    num_tasks_125309);
        reduce_stage_1_tid_res_arr_mem_125318_cached_sizze_130071 =
            (int64_t) 4 * num_tasks_125309;
    }
    
    int64_t iter_125320;
    struct futhark_mc_segred_stage_1_parloop_struct_130072
    futhark_mc_segred_stage_1_parloop_struct_130072;
    
    futhark_mc_segred_stage_1_parloop_struct_130072.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_gtid_117296 =
        gtid_117296;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_x_124925 = x_124925;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_x_124926 = x_124926;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_defunc_0_f_res_124929 =
        defunc_0_f_res_124929;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_reduce_stage_1_tid_res_arr_mem_125310 =
        reduce_stage_1_tid_res_arr_mem_125310;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_reduce_stage_1_tid_res_arr_mem_125312 =
        reduce_stage_1_tid_res_arr_mem_125312;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_reduce_stage_1_tid_res_arr_mem_125314 =
        reduce_stage_1_tid_res_arr_mem_125314;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_reduce_stage_1_tid_res_arr_mem_125316 =
        reduce_stage_1_tid_res_arr_mem_125316;
    futhark_mc_segred_stage_1_parloop_struct_130072.free_reduce_stage_1_tid_res_arr_mem_125318 =
        reduce_stage_1_tid_res_arr_mem_125318;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130073_task;
    
    futhark_mc_segred_stage_1_parloop_130073_task.name =
        "futhark_mc_segred_stage_1_parloop_130073";
    futhark_mc_segred_stage_1_parloop_130073_task.fn =
        futhark_mc_segred_stage_1_parloop_130073;
    futhark_mc_segred_stage_1_parloop_130073_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130072;
    futhark_mc_segred_stage_1_parloop_130073_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130073_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130073_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130073_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130073_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130073_task);
    
    if (futhark_mc_segred_stage_1_parloop_130073_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130073_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130073_total_end -
                 futhark_mc_segred_stage_1_parloop_130073_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130073_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130073_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130073_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_124930 = 0.0F;
        defunc_2_reduce_res_124931 = 0.0F;
        defunc_2_reduce_res_124932 = 0.0F;
        defunc_2_reduce_res_124933 = 0.0F;
        defunc_2_reduce_res_124934 = 0.0F;
    }
    
    float x_125326;
    float x_125327;
    float x_125329;
    float x_125330;
    float x_125332;
    float x_125333;
    float x_125335;
    float x_125336;
    float x_125338;
    float x_125339;
    
    for (int32_t i_125341 = 0; i_125341 < num_tasks_125309; i_125341++) {
        flat_tid_117301 = i_125341;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_125326 = defunc_2_reduce_res_124930;
            }
            // load next params
            {
                x_125327 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125310)[flat_tid_117301];
            }
            // red body
            {
                float defunc_1_op_res_125328 = x_125326 + x_125327;
                
                defunc_2_reduce_res_124930 = defunc_1_op_res_125328;
            }
            // load acc params
            {
                x_125329 = defunc_2_reduce_res_124931;
            }
            // load next params
            {
                x_125330 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125312)[flat_tid_117301];
            }
            // red body
            {
                float defunc_1_op_res_125331 = x_125329 + x_125330;
                
                defunc_2_reduce_res_124931 = defunc_1_op_res_125331;
            }
            // load acc params
            {
                x_125332 = defunc_2_reduce_res_124932;
            }
            // load next params
            {
                x_125333 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125314)[flat_tid_117301];
            }
            // red body
            {
                float defunc_1_op_res_125334 = x_125332 + x_125333;
                
                defunc_2_reduce_res_124932 = defunc_1_op_res_125334;
            }
            // load acc params
            {
                x_125335 = defunc_2_reduce_res_124933;
            }
            // load next params
            {
                x_125336 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125316)[flat_tid_117301];
            }
            // red body
            {
                float defunc_1_op_res_125337 = x_125335 + x_125336;
                
                defunc_2_reduce_res_124933 = defunc_1_op_res_125337;
            }
            // load acc params
            {
                x_125338 = defunc_2_reduce_res_124934;
            }
            // load next params
            {
                x_125339 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125318)[flat_tid_117301];
            }
            // red body
            {
                float defunc_1_op_res_125340 = x_125338 + x_125339;
                
                defunc_2_reduce_res_124934 = defunc_1_op_res_125340;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_125310);
    free(reduce_stage_1_tid_res_arr_mem_125312);
    free(reduce_stage_1_tid_res_arr_mem_125314);
    free(reduce_stage_1_tid_res_arr_mem_125316);
    free(reduce_stage_1_tid_res_arr_mem_125318);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130066_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130066_end -
                 futhark_mc_segred_task_130066_start;
        
        ctx->futhark_mc_segred_task_130066_runs[tid]++;
        ctx->futhark_mc_segred_task_130066_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130066_iter[tid] += iterations;
    }
    *futhark_mc_task_130065->retval_defunc_2_reduce_res_124930 =
        defunc_2_reduce_res_124930;
    *futhark_mc_task_130065->retval_defunc_2_reduce_res_124931 =
        defunc_2_reduce_res_124931;
    *futhark_mc_task_130065->retval_defunc_2_reduce_res_124932 =
        defunc_2_reduce_res_124932;
    *futhark_mc_task_130065->retval_defunc_2_reduce_res_124933 =
        defunc_2_reduce_res_124933;
    *futhark_mc_task_130065->retval_defunc_2_reduce_res_124934 =
        defunc_2_reduce_res_124934;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130074 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117296;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_x_124925;
    float free_x_124926;
    float free_defunc_0_f_res_124929;
    float free_a12_124991;
    float free_b12_124992;
    float free_c12_124993;
    float free_b2_124994;
    float free_c2_124995;
    float *retval_defunc_2_reduce_res_124996;
    float *retval_defunc_2_reduce_res_124997;
};
struct futhark_mc_segred_stage_1_parloop_struct_130078 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117296;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_x_124925;
    float free_x_124926;
    float free_defunc_0_f_res_124929;
    float free_a12_124991;
    float free_b12_124992;
    float free_c12_124993;
    float free_b2_124994;
    float free_c2_124995;
    char *free_reduce_stage_1_tid_res_arr_mem_125343;
    char *free_reduce_stage_1_tid_res_arr_mem_125345;
};
static int futhark_mc_segred_stage_1_parloop_130079(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_117303,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130078
    *futhark_mc_segred_stage_1_parloop_struct_130078 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130078 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130078->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130079_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130079_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130078->free_n_114105;
    int64_t gtid_117296 =
            futhark_mc_segred_stage_1_parloop_struct_130078->free_gtid_117296;
    int64_t ctx_param_ext_121264 =
            futhark_mc_segred_stage_1_parloop_struct_130078->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segred_stage_1_parloop_struct_130078->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segred_stage_1_parloop_struct_130078->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_130078->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130078->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t x_124925 =
            futhark_mc_segred_stage_1_parloop_struct_130078->free_x_124925;
    float x_124926 =
          futhark_mc_segred_stage_1_parloop_struct_130078->free_x_124926;
    float defunc_0_f_res_124929 =
          futhark_mc_segred_stage_1_parloop_struct_130078->free_defunc_0_f_res_124929;
    float a12_124991 =
          futhark_mc_segred_stage_1_parloop_struct_130078->free_a12_124991;
    float b12_124992 =
          futhark_mc_segred_stage_1_parloop_struct_130078->free_b12_124992;
    float c12_124993 =
          futhark_mc_segred_stage_1_parloop_struct_130078->free_c12_124993;
    float b2_124994 =
          futhark_mc_segred_stage_1_parloop_struct_130078->free_b2_124994;
    float c2_124995 =
          futhark_mc_segred_stage_1_parloop_struct_130078->free_c2_124995;
    struct memblock reduce_stage_1_tid_res_arr_mem_125343 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125343",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130078->free_reduce_stage_1_tid_res_arr_mem_125343,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_125345 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125345",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130078->free_reduce_stage_1_tid_res_arr_mem_125345,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_125347 = start;
    float x_125267;
    float x_125268;
    float x_125270;
    float x_125271;
    float local_acc_125348 = 0.0F;
    float local_acc_125349 = 0.0F;
    
    for (; iter_125347 < end; iter_125347++) {
        int64_t gtid_117304 = iter_125347;
        bool cond_125273 = sle64(n_114105, gtid_117304);
        float defunc_0_f_res_125274;
        
        if (cond_125273) {
            defunc_0_f_res_125274 = 0.0F;
        } else {
            int64_t i_125275 = add64(gtid_117304, x_124925);
            float index_primexp_125276 = sitofp_i64_f32(i_125275);
            float defunc_0_f_res_f_res_125277 = 1.0F + index_primexp_125276;
            
            defunc_0_f_res_125274 = defunc_0_f_res_f_res_125277;
        }
        
        float defunc_0_f_res_125278;
        
        if (cond_125273) {
            defunc_0_f_res_125278 = 0.0F;
        } else {
            int64_t i_125279 = add64(gtid_117304, x_124925);
            float x_125280 =
                  ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                   (gtid_117296 *
                                                    ctx_param_ext_121265 +
                                                    i_125279 *
                                                    ctx_param_ext_121267)];
            
            defunc_0_f_res_125278 = x_125280;
        }
        
        float x_j_125281 = defunc_0_f_res_125274 - defunc_0_f_res_124929;
        float abs_res_125282 = (float) fabs(x_j_125281);
        float tmp1_125283 = abs_res_125282 / x_124926;
        float x_125284 = tmp1_125283 * tmp1_125283;
        float y_125285 = tmp1_125283 * x_125284;
        float tmp2_125286 = 1.0F - y_125285;
        float x_125287 = tmp2_125286 * tmp2_125286;
        float tmp3_125288 = tmp2_125286 * x_125287;
        float tmp4_125289 = defunc_0_f_res_125278 * tmp3_125288;
        float defunc_1_f_res_125290 = x_j_125281 * tmp4_125289;
        float defunc_1_f_res_125291 = x_j_125281 * defunc_1_f_res_125290;
        float defunc_0_f_res_125292;
        
        if (cond_125273) {
            defunc_0_f_res_125292 = 0.0F;
        } else {
            int64_t i_125293 = add64(gtid_117304, x_124925);
            float x_125294 = ((float *) mem_121432.mem)[gtid_117296 * n_114105 +
                                                        i_125293];
            
            defunc_0_f_res_125292 = x_125294;
        }
        
        float x_125295 = a12_124991 * tmp4_125289;
        float y_125296 = b12_124992 * defunc_1_f_res_125290;
        float x_125297 = x_125295 + y_125296;
        float y_125298 = c12_124993 * defunc_1_f_res_125291;
        float x_125299 = x_125297 + y_125298;
        float defunc_9_fit_fun_res_125300 = defunc_0_f_res_125292 * x_125299;
        float x_125301 = b12_124992 * tmp4_125289;
        float y_125302 = b2_124994 * defunc_1_f_res_125290;
        float x_125303 = x_125301 + y_125302;
        float y_125304 = c2_124995 * defunc_1_f_res_125291;
        float x_125305 = x_125303 + y_125304;
        float defunc_9_slope_fun_res_125306 = defunc_0_f_res_125292 * x_125305;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_125267 = local_acc_125348;
        }
        // Load next params
        {
            x_125268 = defunc_9_fit_fun_res_125300;
        }
        // Red body
        {
            float defunc_1_op_res_125269 = x_125267 + x_125268;
            
            local_acc_125348 = defunc_1_op_res_125269;
        }
        // Load accum params
        {
            x_125270 = local_acc_125349;
        }
        // Load next params
        {
            x_125271 = defunc_9_slope_fun_res_125306;
        }
        // Red body
        {
            float defunc_1_op_res_125272 = x_125270 + x_125271;
            
            local_acc_125349 = defunc_1_op_res_125272;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_125343.mem)[flat_tid_117303] =
        local_acc_125348;
    ((float *) reduce_stage_1_tid_res_arr_mem_125345.mem)[flat_tid_117303] =
        local_acc_125349;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130079_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130079_end -
                 futhark_mc_segred_stage_1_parloop_130079_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130079_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130079_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130079_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130075(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117303 = tid;
    int num_tasks_125342 = info.nsubtasks;
    struct futhark_mc_task_130074 *futhark_mc_task_130074 =
                                  (struct futhark_mc_task_130074 *) args;
    struct futhark_context *ctx = futhark_mc_task_130074->ctx;
    uint64_t futhark_mc_segred_task_130075_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130075_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130074->free_n_114105;
    int64_t gtid_117296 = futhark_mc_task_130074->free_gtid_117296;
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130074->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130074->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130074->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130074->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130074->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t x_124925 = futhark_mc_task_130074->free_x_124925;
    float x_124926 = futhark_mc_task_130074->free_x_124926;
    float defunc_0_f_res_124929 =
          futhark_mc_task_130074->free_defunc_0_f_res_124929;
    float a12_124991 = futhark_mc_task_130074->free_a12_124991;
    float b12_124992 = futhark_mc_task_130074->free_b12_124992;
    float c12_124993 = futhark_mc_task_130074->free_c12_124993;
    float b2_124994 = futhark_mc_task_130074->free_b2_124994;
    float c2_124995 = futhark_mc_task_130074->free_c2_124995;
    float defunc_2_reduce_res_124996 =
          *futhark_mc_task_130074->retval_defunc_2_reduce_res_124996;
    float defunc_2_reduce_res_124997 =
          *futhark_mc_task_130074->retval_defunc_2_reduce_res_124997;
    size_t reduce_stage_1_tid_res_arr_mem_125343_cached_sizze_130076 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125343 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_125345_cached_sizze_130077 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125345 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_125343_cached_sizze_130076 <
        (size_t) ((int64_t) 4 * num_tasks_125342)) {
        reduce_stage_1_tid_res_arr_mem_125343 =
            realloc(reduce_stage_1_tid_res_arr_mem_125343, (int64_t) 4 *
                    num_tasks_125342);
        reduce_stage_1_tid_res_arr_mem_125343_cached_sizze_130076 =
            (int64_t) 4 * num_tasks_125342;
    }
    if (reduce_stage_1_tid_res_arr_mem_125345_cached_sizze_130077 <
        (size_t) ((int64_t) 4 * num_tasks_125342)) {
        reduce_stage_1_tid_res_arr_mem_125345 =
            realloc(reduce_stage_1_tid_res_arr_mem_125345, (int64_t) 4 *
                    num_tasks_125342);
        reduce_stage_1_tid_res_arr_mem_125345_cached_sizze_130077 =
            (int64_t) 4 * num_tasks_125342;
    }
    
    int64_t iter_125347;
    struct futhark_mc_segred_stage_1_parloop_struct_130078
    futhark_mc_segred_stage_1_parloop_struct_130078;
    
    futhark_mc_segred_stage_1_parloop_struct_130078.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_gtid_117296 =
        gtid_117296;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_mem_121432 =
        mem_121432.mem;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_x_124925 = x_124925;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_x_124926 = x_124926;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_defunc_0_f_res_124929 =
        defunc_0_f_res_124929;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_a12_124991 =
        a12_124991;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_b12_124992 =
        b12_124992;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_c12_124993 =
        c12_124993;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_b2_124994 = b2_124994;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_c2_124995 = c2_124995;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_reduce_stage_1_tid_res_arr_mem_125343 =
        reduce_stage_1_tid_res_arr_mem_125343;
    futhark_mc_segred_stage_1_parloop_struct_130078.free_reduce_stage_1_tid_res_arr_mem_125345 =
        reduce_stage_1_tid_res_arr_mem_125345;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130079_task;
    
    futhark_mc_segred_stage_1_parloop_130079_task.name =
        "futhark_mc_segred_stage_1_parloop_130079";
    futhark_mc_segred_stage_1_parloop_130079_task.fn =
        futhark_mc_segred_stage_1_parloop_130079;
    futhark_mc_segred_stage_1_parloop_130079_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130078;
    futhark_mc_segred_stage_1_parloop_130079_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130079_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130079_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130079_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130079_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130079_task);
    
    if (futhark_mc_segred_stage_1_parloop_130079_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130079_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130079_total_end -
                 futhark_mc_segred_stage_1_parloop_130079_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130079_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130079_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130079_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_124996 = 0.0F;
        defunc_2_reduce_res_124997 = 0.0F;
    }
    
    float x_125350;
    float x_125351;
    float x_125353;
    float x_125354;
    
    for (int32_t i_125356 = 0; i_125356 < num_tasks_125342; i_125356++) {
        flat_tid_117303 = i_125356;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_125350 = defunc_2_reduce_res_124996;
            }
            // load next params
            {
                x_125351 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125343)[flat_tid_117303];
            }
            // red body
            {
                float defunc_1_op_res_125352 = x_125350 + x_125351;
                
                defunc_2_reduce_res_124996 = defunc_1_op_res_125352;
            }
            // load acc params
            {
                x_125353 = defunc_2_reduce_res_124997;
            }
            // load next params
            {
                x_125354 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125345)[flat_tid_117303];
            }
            // red body
            {
                float defunc_1_op_res_125355 = x_125353 + x_125354;
                
                defunc_2_reduce_res_124997 = defunc_1_op_res_125355;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_125343);
    free(reduce_stage_1_tid_res_arr_mem_125345);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130075_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130075_end -
                 futhark_mc_segred_task_130075_start;
        
        ctx->futhark_mc_segred_task_130075_runs[tid]++;
        ctx->futhark_mc_segred_task_130075_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130075_iter[tid] += iterations;
    }
    *futhark_mc_task_130074->retval_defunc_2_reduce_res_124996 =
        defunc_2_reduce_res_124996;
    *futhark_mc_task_130074->retval_defunc_2_reduce_res_124997 =
        defunc_2_reduce_res_124997;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130064(void *args, int64_t start,
                                            int64_t end, int flat_tid_117299,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130063
    *futhark_mc_segmap_parloop_struct_130063 =
    (struct futhark_mc_segmap_parloop_struct_130063 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130063->ctx;
    uint64_t futhark_mc_segmap_parloop_130064_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130064_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130063->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130063->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130063->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130063->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130063->free_i_114181;
    int64_t gtid_117296 =
            futhark_mc_segmap_parloop_struct_130063->free_gtid_117296;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130063->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130063->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130063->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130063->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130063->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130063->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130063->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121505 = {.desc ="mem_121505", .mem =
                                  futhark_mc_segmap_parloop_struct_130063->free_mem_121505,
                                  .size =0, .references =NULL};
    struct memblock mem_121508 = {.desc ="mem_121508", .mem =
                                  futhark_mc_segmap_parloop_struct_130063->free_mem_121508,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_125230 = start;
    
    for (; iter_125230 < end; iter_125230++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_125307 = l_n_m_114155;
        int64_t gtid_117300 = iter_125230;
        int64_t remnant_125308 = iter_125230 - gtid_117300;
        int64_t x_124925 = ((int64_t *) mem_121171.mem)[gtid_117296 *
                                                        l_n_m_114155 +
                                                        gtid_117300];
        float x_124926 = ((float *) mem_121175.mem)[gtid_117296 * l_n_m_114155 +
                                                    gtid_117300];
        int64_t min_arg_124927 = mul64(t_jump_114112, gtid_117300);
        int64_t min_res_124928 = smin64(i_114181, min_arg_124927);
        float defunc_0_f_res_124929 = sitofp_i64_f32(min_res_124928);
        float defunc_2_reduce_res_124930;
        float defunc_2_reduce_res_124931;
        float defunc_2_reduce_res_124932;
        float defunc_2_reduce_res_124933;
        float defunc_2_reduce_res_124934;
        int64_t flat_tid_117301 = (int64_t) 0;
        int32_t num_tasks_125309;
        struct futhark_mc_task_130065 futhark_mc_task_130065;
        
        futhark_mc_task_130065.ctx = ctx;
        futhark_mc_task_130065.free_n_114105 = n_114105;
        futhark_mc_task_130065.free_gtid_117296 = gtid_117296;
        futhark_mc_task_130065.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130065.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130065.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130065.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130065.free_x_124925 = x_124925;
        futhark_mc_task_130065.free_x_124926 = x_124926;
        futhark_mc_task_130065.free_defunc_0_f_res_124929 =
            defunc_0_f_res_124929;
        futhark_mc_task_130065.retval_defunc_2_reduce_res_124930 =
            &defunc_2_reduce_res_124930;
        futhark_mc_task_130065.retval_defunc_2_reduce_res_124931 =
            &defunc_2_reduce_res_124931;
        futhark_mc_task_130065.retval_defunc_2_reduce_res_124932 =
            &defunc_2_reduce_res_124932;
        futhark_mc_task_130065.retval_defunc_2_reduce_res_124933 =
            &defunc_2_reduce_res_124933;
        futhark_mc_task_130065.retval_defunc_2_reduce_res_124934 =
            &defunc_2_reduce_res_124934;
        
        struct scheduler_segop futhark_mc_task_130065_task;
        
        futhark_mc_task_130065_task.args = &futhark_mc_task_130065;
        futhark_mc_task_130065_task.top_level_fn =
            futhark_mc_segred_task_130066;
        futhark_mc_task_130065_task.name = "futhark_mc_segred_task_130066";
        futhark_mc_task_130065_task.iterations = l_window_114109;
        futhark_mc_task_130065_task.task_time =
            &ctx->futhark_mc_segred_task_130066_total_time;
        futhark_mc_task_130065_task.task_iter =
            &ctx->futhark_mc_segred_task_130066_total_iter;
        futhark_mc_task_130065_task.sched = STATIC;
        futhark_mc_task_130065_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130066_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130065_task);
        
        if (futhark_mc_segred_task_130066_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_124971 = defunc_2_reduce_res_124932 *
              defunc_2_reduce_res_124934;
        float y_124972 = defunc_2_reduce_res_124933 *
              defunc_2_reduce_res_124933;
        float a12_124973 = x_124971 - y_124972;
        float x_124974 = defunc_2_reduce_res_124932 *
              defunc_2_reduce_res_124933;
        float y_124975 = defunc_2_reduce_res_124931 *
              defunc_2_reduce_res_124934;
        float b12_124976 = x_124974 - y_124975;
        float x_124977 = defunc_2_reduce_res_124931 *
              defunc_2_reduce_res_124933;
        float y_124978 = defunc_2_reduce_res_124932 *
              defunc_2_reduce_res_124932;
        float c12_124979 = x_124977 - y_124978;
        float x_124980 = defunc_2_reduce_res_124930 *
              defunc_2_reduce_res_124934;
        float b2_124981 = x_124980 - y_124978;
        float x_124982 = defunc_2_reduce_res_124931 *
              defunc_2_reduce_res_124932;
        float y_124983 = defunc_2_reduce_res_124930 *
              defunc_2_reduce_res_124933;
        float c2_124984 = x_124982 - y_124983;
        float x_124985 = defunc_2_reduce_res_124930 * a12_124973;
        float y_124986 = defunc_2_reduce_res_124931 * b12_124976;
        float x_124987 = x_124985 + y_124986;
        float y_124988 = defunc_2_reduce_res_124932 * c12_124979;
        float y_124989 = x_124987 + y_124988;
        float det_124990 = 1.0F / y_124989;
        float a12_124991 = a12_124973 * det_124990;
        float b12_124992 = b12_124976 * det_124990;
        float c12_124993 = c12_124979 * det_124990;
        float b2_124994 = b2_124981 * det_124990;
        float c2_124995 = c2_124984 * det_124990;
        float defunc_2_reduce_res_124996;
        float defunc_2_reduce_res_124997;
        int64_t flat_tid_117303 = (int64_t) 0;
        int32_t num_tasks_125342;
        struct futhark_mc_task_130074 futhark_mc_task_130074;
        
        futhark_mc_task_130074.ctx = ctx;
        futhark_mc_task_130074.free_n_114105 = n_114105;
        futhark_mc_task_130074.free_gtid_117296 = gtid_117296;
        futhark_mc_task_130074.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130074.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130074.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130074.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130074.free_mem_121432 = mem_121432.mem;
        futhark_mc_task_130074.free_x_124925 = x_124925;
        futhark_mc_task_130074.free_x_124926 = x_124926;
        futhark_mc_task_130074.free_defunc_0_f_res_124929 =
            defunc_0_f_res_124929;
        futhark_mc_task_130074.free_a12_124991 = a12_124991;
        futhark_mc_task_130074.free_b12_124992 = b12_124992;
        futhark_mc_task_130074.free_c12_124993 = c12_124993;
        futhark_mc_task_130074.free_b2_124994 = b2_124994;
        futhark_mc_task_130074.free_c2_124995 = c2_124995;
        futhark_mc_task_130074.retval_defunc_2_reduce_res_124996 =
            &defunc_2_reduce_res_124996;
        futhark_mc_task_130074.retval_defunc_2_reduce_res_124997 =
            &defunc_2_reduce_res_124997;
        
        struct scheduler_segop futhark_mc_task_130074_task;
        
        futhark_mc_task_130074_task.args = &futhark_mc_task_130074;
        futhark_mc_task_130074_task.top_level_fn =
            futhark_mc_segred_task_130075;
        futhark_mc_task_130074_task.name = "futhark_mc_segred_task_130075";
        futhark_mc_task_130074_task.iterations = l_window_114109;
        futhark_mc_task_130074_task.task_time =
            &ctx->futhark_mc_segred_task_130075_total_time;
        futhark_mc_task_130074_task.task_iter =
            &ctx->futhark_mc_segred_task_130075_total_iter;
        futhark_mc_task_130074_task.sched = STATIC;
        futhark_mc_task_130074_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130075_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130074_task);
        
        if (futhark_mc_segred_task_130075_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_121505.mem)[gtid_117300] = defunc_2_reduce_res_124996;
        ((float *) mem_121508.mem)[gtid_117300] = defunc_2_reduce_res_124997;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130064_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130064_end -
                 futhark_mc_segmap_parloop_130064_start;
        
        ctx->futhark_mc_segmap_parloop_130064_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130064_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130064_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130062(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117299 = tid;
    int num_tasks_125148 = info.nsubtasks;
    struct futhark_mc_task_130058 *futhark_mc_task_130058 =
                                  (struct futhark_mc_task_130058 *) args;
    struct futhark_context *ctx = futhark_mc_task_130058->ctx;
    uint64_t futhark_mc_segmap_nested_task_130062_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130062_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130058->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130058->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130058->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130058->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130058->free_i_114181;
    int64_t gtid_117296 = futhark_mc_task_130058->free_gtid_117296;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130058->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130058->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130058->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130058->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130058->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130058->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130058->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121505 = {.desc ="mem_121505", .mem =
                                  futhark_mc_task_130058->free_mem_121505,
                                  .size =0, .references =NULL};
    struct memblock mem_121508 = {.desc ="mem_121508", .mem =
                                  futhark_mc_task_130058->free_mem_121508,
                                  .size =0, .references =NULL};
    int64_t iter_125230;
    struct futhark_mc_segmap_parloop_struct_130063
    futhark_mc_segmap_parloop_struct_130063;
    
    futhark_mc_segmap_parloop_struct_130063.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130063.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130063.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130063.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130063.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130063.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130063.free_gtid_117296 = gtid_117296;
    futhark_mc_segmap_parloop_struct_130063.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130063.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130063.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130063.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130063.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130063.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130063.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130063.free_mem_121505 = mem_121505.mem;
    futhark_mc_segmap_parloop_struct_130063.free_mem_121508 = mem_121508.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130064_task;
    
    futhark_mc_segmap_parloop_130064_task.name =
        "futhark_mc_segmap_parloop_130064";
    futhark_mc_segmap_parloop_130064_task.fn = futhark_mc_segmap_parloop_130064;
    futhark_mc_segmap_parloop_130064_task.args =
        &futhark_mc_segmap_parloop_struct_130063;
    futhark_mc_segmap_parloop_130064_task.iterations = iterations;
    futhark_mc_segmap_parloop_130064_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130064_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130064_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130064_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130064_task);
    
    if (futhark_mc_segmap_parloop_130064_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130064_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130064_total_end -
                 futhark_mc_segmap_parloop_130064_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130064_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130064_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130064_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130062_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130062_end -
                 futhark_mc_segmap_nested_task_130062_start;
        
        ctx->futhark_mc_segmap_nested_task_130062_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130062_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130062_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130055(void *args, int64_t start,
                                            int64_t end, int flat_tid_117295,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130054
    *futhark_mc_segmap_parloop_struct_130054 =
    (struct futhark_mc_segmap_parloop_struct_130054 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130054->ctx;
    uint64_t futhark_mc_segmap_parloop_130055_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130055_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130054->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130054->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130054->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130054->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130054->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130054->free_i_114181;
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_130054->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130054->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130054->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130054->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130054->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130054->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130054->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130054->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121542 = {.desc ="mem_121542", .mem =
                                  futhark_mc_segmap_parloop_struct_130054->free_mem_121542,
                                  .size =0, .references =NULL};
    struct memblock mem_121546 = {.desc ="mem_121546", .mem =
                                  futhark_mc_segmap_parloop_struct_130054->free_mem_121546,
                                  .size =0, .references =NULL};
    size_t mem_121505_cached_sizze_130056 = 0;
    char *mem_121505 = NULL;
    size_t mem_121508_cached_sizze_130057 = 0;
    char *mem_121508 = NULL;
    int64_t iterations = end - start;
    int64_t iter_124924 = start;
    
    if (mem_121505_cached_sizze_130056 < (size_t) bytes_121117) {
        mem_121505 = realloc(mem_121505, bytes_121117);
        mem_121505_cached_sizze_130056 = bytes_121117;
    }
    if (mem_121508_cached_sizze_130057 < (size_t) bytes_121117) {
        mem_121508 = realloc(mem_121508, bytes_121117);
        mem_121508_cached_sizze_130057 = bytes_121117;
    }
    for (; iter_124924 < end; iter_124924++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_125146 = m_114104;
        int64_t gtid_117296 = iter_124924;
        int64_t remnant_125147 = iter_124924 - gtid_117296;
        int64_t flat_tid_117297 = (int64_t) 0;
        int32_t num_tasks_125148;
        int64_t flat_tid_117299 = (int64_t) 0;
        struct futhark_mc_task_130058 futhark_mc_task_130058;
        
        futhark_mc_task_130058.ctx = ctx;
        futhark_mc_task_130058.free_n_114105 = n_114105;
        futhark_mc_task_130058.free_l_window_114109 = l_window_114109;
        futhark_mc_task_130058.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_130058.free_l_n_m_114155 = l_n_m_114155;
        futhark_mc_task_130058.free_i_114181 = i_114181;
        futhark_mc_task_130058.free_gtid_117296 = gtid_117296;
        futhark_mc_task_130058.free_mem_121171 = mem_121171.mem;
        futhark_mc_task_130058.free_mem_121175 = mem_121175.mem;
        futhark_mc_task_130058.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130058.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130058.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130058.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130058.free_mem_121432 = mem_121432.mem;
        futhark_mc_task_130058.free_mem_121505 = mem_121505;
        futhark_mc_task_130058.free_mem_121508 = mem_121508;
        
        struct scheduler_segop futhark_mc_task_130058_task;
        
        futhark_mc_task_130058_task.args = &futhark_mc_task_130058;
        futhark_mc_task_130058_task.top_level_fn =
            futhark_mc_segmap_task_130059;
        futhark_mc_task_130058_task.name = "futhark_mc_segmap_task_130059";
        futhark_mc_task_130058_task.iterations = l_n_m_114155;
        futhark_mc_task_130058_task.task_time =
            &ctx->futhark_mc_segmap_task_130059_total_time;
        futhark_mc_task_130058_task.task_iter =
            &ctx->futhark_mc_segmap_task_130059_total_iter;
        futhark_mc_task_130058_task.sched = STATIC;
        futhark_mc_task_130058_task.nested_fn =
            futhark_mc_segmap_nested_task_130062;
        
        int futhark_mc_segmap_task_130059_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130058_task);
        
        if (futhark_mc_segmap_task_130059_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121542.mem + gtid_117296 * l_n_m_114155 * (int64_t) 4,
                mem_121505 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
        memmove(mem_121546.mem + gtid_117296 * l_n_m_114155 * (int64_t) 4,
                mem_121508 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121505);
    free(mem_121508);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130055_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130055_end -
                 futhark_mc_segmap_parloop_130055_start;
        
        ctx->futhark_mc_segmap_parloop_130055_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130055_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130055_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130053(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117295 = tid;
    int num_tasks_124798 = info.nsubtasks;
    struct futhark_mc_task_130047 *futhark_mc_task_130047 =
                                  (struct futhark_mc_task_130047 *) args;
    struct futhark_context *ctx = futhark_mc_task_130047->ctx;
    uint64_t futhark_mc_segmap_nested_task_130053_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130053_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130047->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130047->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130047->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130047->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130047->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130047->free_i_114181;
    int64_t bytes_121117 = futhark_mc_task_130047->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130047->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130047->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130047->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130047->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130047->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130047->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130047->free_mem_121432,
                                  .size =0, .references =NULL};
    struct memblock mem_121542 = {.desc ="mem_121542", .mem =
                                  futhark_mc_task_130047->free_mem_121542,
                                  .size =0, .references =NULL};
    struct memblock mem_121546 = {.desc ="mem_121546", .mem =
                                  futhark_mc_task_130047->free_mem_121546,
                                  .size =0, .references =NULL};
    int64_t iter_124924;
    struct futhark_mc_segmap_parloop_struct_130054
    futhark_mc_segmap_parloop_struct_130054;
    
    futhark_mc_segmap_parloop_struct_130054.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130054.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130054.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130054.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130054.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130054.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130054.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130054.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_130054.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130054.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130054.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130054.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130054.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130054.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130054.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130054.free_mem_121542 = mem_121542.mem;
    futhark_mc_segmap_parloop_struct_130054.free_mem_121546 = mem_121546.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130055_task;
    
    futhark_mc_segmap_parloop_130055_task.name =
        "futhark_mc_segmap_parloop_130055";
    futhark_mc_segmap_parloop_130055_task.fn = futhark_mc_segmap_parloop_130055;
    futhark_mc_segmap_parloop_130055_task.args =
        &futhark_mc_segmap_parloop_struct_130054;
    futhark_mc_segmap_parloop_130055_task.iterations = iterations;
    futhark_mc_segmap_parloop_130055_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130055_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130055_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130055_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130055_task);
    
    if (futhark_mc_segmap_parloop_130055_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130055_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130055_total_end -
                 futhark_mc_segmap_parloop_130055_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130055_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130055_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130055_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130053_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130053_end -
                 futhark_mc_segmap_nested_task_130053_start;
        
        ctx->futhark_mc_segmap_nested_task_130053_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130053_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130053_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130080 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121555;
    char *free_mem_121609;
};
struct futhark_mc_segmap_parloop_struct_130082 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121555;
    char *free_mem_121609;
};
static int futhark_mc_segmap_parloop_130083(void *args, int64_t start,
                                            int64_t end, int flat_tid_117659,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130082
    *futhark_mc_segmap_parloop_struct_130082 =
    (struct futhark_mc_segmap_parloop_struct_130082 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130082->ctx;
    uint64_t futhark_mc_segmap_parloop_130083_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130083_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130082->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130082->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130082->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130082->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130082->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130082->free_i_114181;
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_130082->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130082->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130082->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130082->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130082->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130082->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130082->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130082->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121555 =
            futhark_mc_segmap_parloop_struct_130082->free_bytes_121555;
    struct memblock mem_121609 = {.desc ="mem_121609", .mem =
                                  futhark_mc_segmap_parloop_struct_130082->free_mem_121609,
                                  .size =0, .references =NULL};
    size_t mem_121578_cached_sizze_130084 = 0;
    char *mem_121578 = NULL;
    size_t mem_121588_cached_sizze_130085 = 0;
    char *mem_121588 = NULL;
    int64_t iterations = end - start;
    int64_t iter_125360 = start;
    
    if (mem_121578_cached_sizze_130084 < (size_t) bytes_121117) {
        mem_121578 = realloc(mem_121578, bytes_121117);
        mem_121578_cached_sizze_130084 = bytes_121117;
    }
    if (mem_121588_cached_sizze_130085 < (size_t) bytes_121555) {
        mem_121588 = realloc(mem_121588, bytes_121555);
        mem_121588_cached_sizze_130085 = bytes_121555;
    }
    for (; iter_125360 < end; iter_125360++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_125406 = m_114104;
        int64_t gtid_117660 = iter_125360;
        int64_t remnant_125407 = iter_125360 - gtid_117660;
        
        for (int64_t i_125361 = 0; i_125361 < l_n_m_114155; i_125361++) {
            int64_t x_125363 = ((int64_t *) mem_121171.mem)[gtid_117660 *
                                                            l_n_m_114155 +
                                                            i_125361];
            float x_125364 = ((float *) mem_121175.mem)[gtid_117660 *
                                                        l_n_m_114155 +
                                                        i_125361];
            int64_t min_arg_125365 = mul64(t_jump_114112, i_125361);
            int64_t min_res_125366 = smin64(i_114181, min_arg_125365);
            float defunc_0_f_res_125367 = sitofp_i64_f32(min_res_125366);
            float defunc_2_reduce_res_125369;
            float redout_125372 = 0.0F;
            
            for (int64_t i_125371 = 0; i_125371 < l_window_114109; i_125371++) {
                bool cond_125374 = sle64(n_114105, i_125371);
                float defunc_0_f_res_125375;
                
                if (cond_125374) {
                    defunc_0_f_res_125375 = 0.0F;
                } else {
                    int64_t i_125376 = add64(x_125363, i_125371);
                    float index_primexp_125377 = sitofp_i64_f32(i_125376);
                    float defunc_0_f_res_f_res_125378 = 1.0F +
                          index_primexp_125377;
                    
                    defunc_0_f_res_125375 = defunc_0_f_res_f_res_125378;
                }
                
                float defunc_0_f_res_125379;
                
                if (cond_125374) {
                    defunc_0_f_res_125379 = 0.0F;
                } else {
                    int64_t i_125380 = add64(x_125363, i_125371);
                    float x_125381 =
                          ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                           (gtid_117660 *
                                                            ctx_param_ext_121265 +
                                                            i_125380 *
                                                            ctx_param_ext_121267)];
                    
                    defunc_0_f_res_125379 = x_125381;
                }
                
                float x_j_125382 = defunc_0_f_res_125375 -
                      defunc_0_f_res_125367;
                float abs_res_125383 = (float) fabs(x_j_125382);
                float tmp1_125384 = abs_res_125383 / x_125364;
                float x_125385 = tmp1_125384 * tmp1_125384;
                float y_125386 = tmp1_125384 * x_125385;
                float tmp2_125387 = 1.0F - y_125386;
                float x_125388 = tmp2_125387 * tmp2_125387;
                float tmp3_125389 = tmp2_125387 * x_125388;
                float tmp4_125390 = defunc_0_f_res_125379 * tmp3_125389;
                float defunc_1_op_res_125391 = tmp4_125390 + redout_125372;
                
                ((float *) mem_121588)[i_125371] = tmp4_125390;
                
                float redout_tmp_125409 = defunc_1_op_res_125391;
                
                redout_125372 = redout_tmp_125409;
            }
            defunc_2_reduce_res_125369 = redout_125372;
            
            float a0_125393 = 1.0F / defunc_2_reduce_res_125369;
            float defunc_2_reduce_res_125394;
            float redout_125396 = 0.0F;
            
            for (int64_t i_125395 = 0; i_125395 < l_window_114109; i_125395++) {
                float x_125397 = ((float *) mem_121588)[i_125395];
                bool cond_125398 = sle64(n_114105, i_125395);
                float defunc_0_f_res_125399;
                
                if (cond_125398) {
                    defunc_0_f_res_125399 = 0.0F;
                } else {
                    int64_t i_125400 = add64(x_125363, i_125395);
                    float x_125401 = ((float *) mem_121432.mem)[gtid_117660 *
                                                                n_114105 +
                                                                i_125400];
                    
                    defunc_0_f_res_125399 = x_125401;
                }
                
                float x_125402 = a0_125393 * x_125397;
                float defunc_9_fit_fun_res_125403 = defunc_0_f_res_125399 *
                      x_125402;
                float defunc_1_op_res_125404 = defunc_9_fit_fun_res_125403 +
                      redout_125396;
                float redout_tmp_125411 = defunc_1_op_res_125404;
                
                redout_125396 = redout_tmp_125411;
            }
            defunc_2_reduce_res_125394 = redout_125396;
            ((float *) mem_121578)[i_125361] = defunc_2_reduce_res_125394;
        }
        memmove(mem_121609.mem + gtid_117660 * l_n_m_114155 * (int64_t) 4,
                mem_121578 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121578);
    free(mem_121588);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130083_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130083_end -
                 futhark_mc_segmap_parloop_130083_start;
        
        ctx->futhark_mc_segmap_parloop_130083_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130083_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130083_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130081(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117659 = tid;
    int num_tasks_125359 = info.nsubtasks;
    struct futhark_mc_task_130080 *futhark_mc_task_130080 =
                                  (struct futhark_mc_task_130080 *) args;
    struct futhark_context *ctx = futhark_mc_task_130080->ctx;
    uint64_t futhark_mc_segmap_task_130081_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130081_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130080->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130080->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130080->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130080->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130080->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130080->free_i_114181;
    int64_t bytes_121117 = futhark_mc_task_130080->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130080->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130080->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130080->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130080->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130080->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130080->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130080->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121555 = futhark_mc_task_130080->free_bytes_121555;
    struct memblock mem_121609 = {.desc ="mem_121609", .mem =
                                  futhark_mc_task_130080->free_mem_121609,
                                  .size =0, .references =NULL};
    int64_t iter_125360;
    struct futhark_mc_segmap_parloop_struct_130082
    futhark_mc_segmap_parloop_struct_130082;
    
    futhark_mc_segmap_parloop_struct_130082.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130082.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130082.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130082.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130082.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130082.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130082.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130082.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_130082.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130082.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130082.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130082.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130082.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130082.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130082.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130082.free_bytes_121555 = bytes_121555;
    futhark_mc_segmap_parloop_struct_130082.free_mem_121609 = mem_121609.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130083_task;
    
    futhark_mc_segmap_parloop_130083_task.name =
        "futhark_mc_segmap_parloop_130083";
    futhark_mc_segmap_parloop_130083_task.fn = futhark_mc_segmap_parloop_130083;
    futhark_mc_segmap_parloop_130083_task.args =
        &futhark_mc_segmap_parloop_struct_130082;
    futhark_mc_segmap_parloop_130083_task.iterations = iterations;
    futhark_mc_segmap_parloop_130083_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130083_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130083_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130083_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130083_task);
    
    if (futhark_mc_segmap_parloop_130083_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130083_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130083_total_end -
                 futhark_mc_segmap_parloop_130083_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130083_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130083_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130083_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130081_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130081_end -
                 futhark_mc_segmap_task_130081_start;
        
        ctx->futhark_mc_segmap_task_130081_runs[tid]++;
        ctx->futhark_mc_segmap_task_130081_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130081_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130087 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121555;
    char *free_mem_121609;
};
struct futhark_mc_task_130090 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_117662;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121555;
    char *free_mem_121575;
};
struct futhark_mc_segmap_parloop_struct_130092 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_117662;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121555;
    char *free_mem_121575;
};
static int futhark_mc_segmap_parloop_130093(void *args, int64_t start,
                                            int64_t end, int flat_tid_117663,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130092
    *futhark_mc_segmap_parloop_struct_130092 =
    (struct futhark_mc_segmap_parloop_struct_130092 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130092->ctx;
    uint64_t futhark_mc_segmap_parloop_130093_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130093_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130092->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130092->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130092->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130092->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130092->free_i_114181;
    int64_t gtid_117662 =
            futhark_mc_segmap_parloop_struct_130092->free_gtid_117662;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130092->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130092->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130092->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130092->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130092->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130092->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130092->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121555 =
            futhark_mc_segmap_parloop_struct_130092->free_bytes_121555;
    struct memblock mem_121575 = {.desc ="mem_121575", .mem =
                                  futhark_mc_segmap_parloop_struct_130092->free_mem_121575,
                                  .size =0, .references =NULL};
    size_t mem_125458_cached_sizze_130094 = 0;
    char *mem_125458 = NULL;
    int64_t iterations = end - start;
    int64_t iter_125499 = start;
    
    if (mem_125458_cached_sizze_130094 < (size_t) bytes_121555) {
        mem_125458 = realloc(mem_125458, bytes_121555);
        mem_125458_cached_sizze_130094 = bytes_121555;
    }
    for (; iter_125499 < end; iter_125499++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_125532 = l_n_m_114155;
        int64_t gtid_117664 = iter_125499;
        int64_t remnant_125533 = iter_125499 - gtid_117664;
        int64_t x_125453 = ((int64_t *) mem_121171.mem)[gtid_117662 *
                                                        l_n_m_114155 +
                                                        gtid_117664];
        float x_125454 = ((float *) mem_121175.mem)[gtid_117662 * l_n_m_114155 +
                                                    gtid_117664];
        int64_t min_arg_125455 = mul64(t_jump_114112, gtid_117664);
        int64_t min_res_125456 = smin64(i_114181, min_arg_125455);
        float defunc_0_f_res_125457 = sitofp_i64_f32(min_res_125456);
        float defunc_2_reduce_res_125460;
        float redout_125501 = 0.0F;
        
        for (int64_t i_125500 = 0; i_125500 < l_window_114109; i_125500++) {
            bool cond_125503 = sle64(n_114105, i_125500);
            float defunc_0_f_res_125504;
            
            if (cond_125503) {
                defunc_0_f_res_125504 = 0.0F;
            } else {
                int64_t i_125505 = add64(x_125453, i_125500);
                float index_primexp_125506 = sitofp_i64_f32(i_125505);
                float defunc_0_f_res_f_res_125507 = 1.0F + index_primexp_125506;
                
                defunc_0_f_res_125504 = defunc_0_f_res_f_res_125507;
            }
            
            float defunc_0_f_res_125508;
            
            if (cond_125503) {
                defunc_0_f_res_125508 = 0.0F;
            } else {
                int64_t i_125509 = add64(x_125453, i_125500);
                float x_125510 =
                      ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                       (gtid_117662 *
                                                        ctx_param_ext_121265 +
                                                        i_125509 *
                                                        ctx_param_ext_121267)];
                
                defunc_0_f_res_125508 = x_125510;
            }
            
            float x_j_125511 = defunc_0_f_res_125504 - defunc_0_f_res_125457;
            float abs_res_125512 = (float) fabs(x_j_125511);
            float tmp1_125513 = abs_res_125512 / x_125454;
            float x_125514 = tmp1_125513 * tmp1_125513;
            float y_125515 = tmp1_125513 * x_125514;
            float tmp2_125516 = 1.0F - y_125515;
            float x_125517 = tmp2_125516 * tmp2_125516;
            float tmp3_125518 = tmp2_125516 * x_125517;
            float tmp4_125519 = defunc_0_f_res_125508 * tmp3_125518;
            float defunc_1_op_res_125520 = tmp4_125519 + redout_125501;
            
            ((float *) mem_125458)[i_125500] = tmp4_125519;
            
            float redout_tmp_125534 = defunc_1_op_res_125520;
            
            redout_125501 = redout_tmp_125534;
        }
        defunc_2_reduce_res_125460 = redout_125501;
        
        float a0_125484 = 1.0F / defunc_2_reduce_res_125460;
        float defunc_2_reduce_res_125485;
        float redout_125523 = 0.0F;
        
        for (int64_t i_125522 = 0; i_125522 < l_window_114109; i_125522++) {
            float x_125524 = ((float *) mem_125458)[i_125522];
            bool cond_125525 = sle64(n_114105, i_125522);
            float defunc_0_f_res_125526;
            
            if (cond_125525) {
                defunc_0_f_res_125526 = 0.0F;
            } else {
                int64_t i_125527 = add64(x_125453, i_125522);
                float x_125528 = ((float *) mem_121432.mem)[gtid_117662 *
                                                            n_114105 +
                                                            i_125527];
                
                defunc_0_f_res_125526 = x_125528;
            }
            
            float x_125529 = a0_125484 * x_125524;
            float defunc_9_fit_fun_res_125530 = defunc_0_f_res_125526 *
                  x_125529;
            float defunc_1_op_res_125531 = defunc_9_fit_fun_res_125530 +
                  redout_125523;
            float redout_tmp_125536 = defunc_1_op_res_125531;
            
            redout_125523 = redout_tmp_125536;
        }
        defunc_2_reduce_res_125485 = redout_125523;
        ((float *) mem_121575.mem)[gtid_117664] = defunc_2_reduce_res_125485;
    }
    
  cleanup:
    { }
    free(mem_125458);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130093_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130093_end -
                 futhark_mc_segmap_parloop_130093_start;
        
        ctx->futhark_mc_segmap_parloop_130093_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130093_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130093_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130091(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117663 = tid;
    int num_tasks_125498 = info.nsubtasks;
    struct futhark_mc_task_130090 *futhark_mc_task_130090 =
                                  (struct futhark_mc_task_130090 *) args;
    struct futhark_context *ctx = futhark_mc_task_130090->ctx;
    uint64_t futhark_mc_segmap_task_130091_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130091_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130090->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130090->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130090->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130090->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130090->free_i_114181;
    int64_t gtid_117662 = futhark_mc_task_130090->free_gtid_117662;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130090->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130090->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130090->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130090->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130090->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130090->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130090->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121555 = futhark_mc_task_130090->free_bytes_121555;
    struct memblock mem_121575 = {.desc ="mem_121575", .mem =
                                  futhark_mc_task_130090->free_mem_121575,
                                  .size =0, .references =NULL};
    int64_t iter_125499;
    struct futhark_mc_segmap_parloop_struct_130092
    futhark_mc_segmap_parloop_struct_130092;
    
    futhark_mc_segmap_parloop_struct_130092.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130092.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130092.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130092.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130092.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130092.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130092.free_gtid_117662 = gtid_117662;
    futhark_mc_segmap_parloop_struct_130092.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130092.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130092.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130092.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130092.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130092.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130092.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130092.free_bytes_121555 = bytes_121555;
    futhark_mc_segmap_parloop_struct_130092.free_mem_121575 = mem_121575.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130093_task;
    
    futhark_mc_segmap_parloop_130093_task.name =
        "futhark_mc_segmap_parloop_130093";
    futhark_mc_segmap_parloop_130093_task.fn = futhark_mc_segmap_parloop_130093;
    futhark_mc_segmap_parloop_130093_task.args =
        &futhark_mc_segmap_parloop_struct_130092;
    futhark_mc_segmap_parloop_130093_task.iterations = iterations;
    futhark_mc_segmap_parloop_130093_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130093_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130093_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130093_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130093_task);
    
    if (futhark_mc_segmap_parloop_130093_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130093_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130093_total_end -
                 futhark_mc_segmap_parloop_130093_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130093_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130093_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130093_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130091_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130091_end -
                 futhark_mc_segmap_task_130091_start;
        
        ctx->futhark_mc_segmap_task_130091_runs[tid]++;
        ctx->futhark_mc_segmap_task_130091_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130091_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130096 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_117662;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121555;
    char *free_mem_121575;
};
struct futhark_mc_task_130099 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117662;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    int64_t free_x_125413;
    float free_x_125414;
    float free_defunc_0_f_res_125417;
    float *retval_defunc_2_reduce_res_125419;
    char *retval_mem_125418;
};
struct futhark_mc_segred_stage_1_parloop_struct_130102 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117662;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    int64_t free_x_125413;
    float free_x_125414;
    float free_defunc_0_f_res_125417;
    char *free_mem_125418;
    char *free_reduce_stage_1_tid_res_arr_mem_125571;
};
static int futhark_mc_segred_stage_1_parloop_130103(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_117667,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130102
    *futhark_mc_segred_stage_1_parloop_struct_130102 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130102 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130102->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130103_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130103_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130102->free_n_114105;
    int64_t gtid_117662 =
            futhark_mc_segred_stage_1_parloop_struct_130102->free_gtid_117662;
    int64_t ctx_param_ext_121264 =
            futhark_mc_segred_stage_1_parloop_struct_130102->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segred_stage_1_parloop_struct_130102->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segred_stage_1_parloop_struct_130102->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_130102->free_mem_param_121269,
                                        .size =0, .references =NULL};
    int64_t x_125413 =
            futhark_mc_segred_stage_1_parloop_struct_130102->free_x_125413;
    float x_125414 =
          futhark_mc_segred_stage_1_parloop_struct_130102->free_x_125414;
    float defunc_0_f_res_125417 =
          futhark_mc_segred_stage_1_parloop_struct_130102->free_defunc_0_f_res_125417;
    struct memblock mem_125418 = {.desc ="mem_125418", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130102->free_mem_125418,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_125571 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125571",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130102->free_reduce_stage_1_tid_res_arr_mem_125571,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_125573 = start;
    float x_125538;
    float x_125539;
    float local_acc_125574 = 0.0F;
    
    for (; iter_125573 < end; iter_125573++) {
        int64_t gtid_117668 = iter_125573;
        bool cond_125541 = sle64(n_114105, gtid_117668);
        float defunc_0_f_res_125542;
        
        if (cond_125541) {
            defunc_0_f_res_125542 = 0.0F;
        } else {
            int64_t i_125543 = add64(gtid_117668, x_125413);
            float index_primexp_125544 = sitofp_i64_f32(i_125543);
            float defunc_0_f_res_f_res_125545 = 1.0F + index_primexp_125544;
            
            defunc_0_f_res_125542 = defunc_0_f_res_f_res_125545;
        }
        
        float defunc_0_f_res_125546;
        
        if (cond_125541) {
            defunc_0_f_res_125546 = 0.0F;
        } else {
            int64_t i_125547 = add64(gtid_117668, x_125413);
            float x_125548 =
                  ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                   (gtid_117662 *
                                                    ctx_param_ext_121265 +
                                                    i_125547 *
                                                    ctx_param_ext_121267)];
            
            defunc_0_f_res_125546 = x_125548;
        }
        
        float x_j_125549 = defunc_0_f_res_125542 - defunc_0_f_res_125417;
        float abs_res_125550 = (float) fabs(x_j_125549);
        float tmp1_125551 = abs_res_125550 / x_125414;
        float x_125552 = tmp1_125551 * tmp1_125551;
        float y_125553 = tmp1_125551 * x_125552;
        float tmp2_125554 = 1.0F - y_125553;
        float x_125555 = tmp2_125554 * tmp2_125554;
        float tmp3_125556 = tmp2_125554 * x_125555;
        float tmp4_125557 = defunc_0_f_res_125546 * tmp3_125556;
        
        // save map-out results
        {
            ((float *) mem_125418.mem)[gtid_117668] = tmp4_125557;
        }
        // Load accum params
        {
            x_125538 = local_acc_125574;
        }
        // Load next params
        {
            x_125539 = tmp4_125557;
        }
        // Red body
        {
            float defunc_1_op_res_125540 = x_125538 + x_125539;
            
            local_acc_125574 = defunc_1_op_res_125540;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_125571.mem)[flat_tid_117667] =
        local_acc_125574;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130103_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130103_end -
                 futhark_mc_segred_stage_1_parloop_130103_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130103_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130103_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130103_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130100(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117667 = tid;
    int num_tasks_125570 = info.nsubtasks;
    struct futhark_mc_task_130099 *futhark_mc_task_130099 =
                                  (struct futhark_mc_task_130099 *) args;
    struct futhark_context *ctx = futhark_mc_task_130099->ctx;
    uint64_t futhark_mc_segred_task_130100_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130100_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130099->free_n_114105;
    int64_t gtid_117662 = futhark_mc_task_130099->free_gtid_117662;
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130099->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130099->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130099->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130099->free_mem_param_121269,
                                        .size =0, .references =NULL};
    int64_t x_125413 = futhark_mc_task_130099->free_x_125413;
    float x_125414 = futhark_mc_task_130099->free_x_125414;
    float defunc_0_f_res_125417 =
          futhark_mc_task_130099->free_defunc_0_f_res_125417;
    float defunc_2_reduce_res_125419 =
          *futhark_mc_task_130099->retval_defunc_2_reduce_res_125419;
    struct memblock mem_125418 = {.desc ="mem_125418", .mem =
                                  futhark_mc_task_130099->retval_mem_125418,
                                  .size =0, .references =NULL};
    size_t reduce_stage_1_tid_res_arr_mem_125571_cached_sizze_130101 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125571 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_125571_cached_sizze_130101 <
        (size_t) ((int64_t) 4 * num_tasks_125570)) {
        reduce_stage_1_tid_res_arr_mem_125571 =
            realloc(reduce_stage_1_tid_res_arr_mem_125571, (int64_t) 4 *
                    num_tasks_125570);
        reduce_stage_1_tid_res_arr_mem_125571_cached_sizze_130101 =
            (int64_t) 4 * num_tasks_125570;
    }
    
    int64_t iter_125573;
    struct futhark_mc_segred_stage_1_parloop_struct_130102
    futhark_mc_segred_stage_1_parloop_struct_130102;
    
    futhark_mc_segred_stage_1_parloop_struct_130102.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130102.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130102.free_gtid_117662 =
        gtid_117662;
    futhark_mc_segred_stage_1_parloop_struct_130102.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segred_stage_1_parloop_struct_130102.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segred_stage_1_parloop_struct_130102.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segred_stage_1_parloop_struct_130102.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segred_stage_1_parloop_struct_130102.free_x_125413 = x_125413;
    futhark_mc_segred_stage_1_parloop_struct_130102.free_x_125414 = x_125414;
    futhark_mc_segred_stage_1_parloop_struct_130102.free_defunc_0_f_res_125417 =
        defunc_0_f_res_125417;
    futhark_mc_segred_stage_1_parloop_struct_130102.free_mem_125418 =
        mem_125418.mem;
    futhark_mc_segred_stage_1_parloop_struct_130102.free_reduce_stage_1_tid_res_arr_mem_125571 =
        reduce_stage_1_tid_res_arr_mem_125571;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130103_task;
    
    futhark_mc_segred_stage_1_parloop_130103_task.name =
        "futhark_mc_segred_stage_1_parloop_130103";
    futhark_mc_segred_stage_1_parloop_130103_task.fn =
        futhark_mc_segred_stage_1_parloop_130103;
    futhark_mc_segred_stage_1_parloop_130103_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130102;
    futhark_mc_segred_stage_1_parloop_130103_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130103_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130103_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130103_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130103_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130103_task);
    
    if (futhark_mc_segred_stage_1_parloop_130103_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130103_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130103_total_end -
                 futhark_mc_segred_stage_1_parloop_130103_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130103_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130103_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130103_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_125419 = 0.0F;
    }
    
    float x_125575;
    float x_125576;
    
    for (int32_t i_125578 = 0; i_125578 < num_tasks_125570; i_125578++) {
        flat_tid_117667 = i_125578;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_125575 = defunc_2_reduce_res_125419;
            }
            // load next params
            {
                x_125576 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125571)[flat_tid_117667];
            }
            // red body
            {
                float defunc_1_op_res_125577 = x_125575 + x_125576;
                
                defunc_2_reduce_res_125419 = defunc_1_op_res_125577;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_125571);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130100_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130100_end -
                 futhark_mc_segred_task_130100_start;
        
        ctx->futhark_mc_segred_task_130100_runs[tid]++;
        ctx->futhark_mc_segred_task_130100_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130100_iter[tid] += iterations;
    }
    *futhark_mc_task_130099->retval_defunc_2_reduce_res_125419 =
        defunc_2_reduce_res_125419;
    futhark_mc_task_130099->retval_mem_125418 = mem_125418.mem;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130104 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117662;
    char *free_mem_121432;
    int64_t free_x_125413;
    char *free_mem_125418;
    float free_a0_125441;
    float *retval_defunc_2_reduce_res_125442;
};
struct futhark_mc_segred_stage_1_parloop_struct_130107 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117662;
    char *free_mem_121432;
    int64_t free_x_125413;
    char *free_mem_125418;
    float free_a0_125441;
    char *free_reduce_stage_1_tid_res_arr_mem_125580;
};
static int futhark_mc_segred_stage_1_parloop_130108(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_117669,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130107
    *futhark_mc_segred_stage_1_parloop_struct_130107 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130107 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130107->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130108_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130108_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130107->free_n_114105;
    int64_t gtid_117662 =
            futhark_mc_segred_stage_1_parloop_struct_130107->free_gtid_117662;
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130107->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t x_125413 =
            futhark_mc_segred_stage_1_parloop_struct_130107->free_x_125413;
    struct memblock mem_125418 = {.desc ="mem_125418", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130107->free_mem_125418,
                                  .size =0, .references =NULL};
    float a0_125441 =
          futhark_mc_segred_stage_1_parloop_struct_130107->free_a0_125441;
    struct memblock reduce_stage_1_tid_res_arr_mem_125580 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125580",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130107->free_reduce_stage_1_tid_res_arr_mem_125580,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_125582 = start;
    float x_125558;
    float x_125559;
    float local_acc_125583 = 0.0F;
    
    for (; iter_125582 < end; iter_125582++) {
        int64_t gtid_117670 = iter_125582;
        float x_125561 = ((float *) mem_125418.mem)[gtid_117670];
        bool cond_125562 = sle64(n_114105, gtid_117670);
        float defunc_0_f_res_125563;
        
        if (cond_125562) {
            defunc_0_f_res_125563 = 0.0F;
        } else {
            int64_t i_125564 = add64(gtid_117670, x_125413);
            float x_125565 = ((float *) mem_121432.mem)[gtid_117662 * n_114105 +
                                                        i_125564];
            
            defunc_0_f_res_125563 = x_125565;
        }
        
        float x_125566 = a0_125441 * x_125561;
        float defunc_9_fit_fun_res_125567 = defunc_0_f_res_125563 * x_125566;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_125558 = local_acc_125583;
        }
        // Load next params
        {
            x_125559 = defunc_9_fit_fun_res_125567;
        }
        // Red body
        {
            float defunc_1_op_res_125560 = x_125558 + x_125559;
            
            local_acc_125583 = defunc_1_op_res_125560;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_125580.mem)[flat_tid_117669] =
        local_acc_125583;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130108_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130108_end -
                 futhark_mc_segred_stage_1_parloop_130108_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130108_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130108_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130108_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130105(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117669 = tid;
    int num_tasks_125579 = info.nsubtasks;
    struct futhark_mc_task_130104 *futhark_mc_task_130104 =
                                  (struct futhark_mc_task_130104 *) args;
    struct futhark_context *ctx = futhark_mc_task_130104->ctx;
    uint64_t futhark_mc_segred_task_130105_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130105_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130104->free_n_114105;
    int64_t gtid_117662 = futhark_mc_task_130104->free_gtid_117662;
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130104->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t x_125413 = futhark_mc_task_130104->free_x_125413;
    struct memblock mem_125418 = {.desc ="mem_125418", .mem =
                                  futhark_mc_task_130104->free_mem_125418,
                                  .size =0, .references =NULL};
    float a0_125441 = futhark_mc_task_130104->free_a0_125441;
    float defunc_2_reduce_res_125442 =
          *futhark_mc_task_130104->retval_defunc_2_reduce_res_125442;
    size_t reduce_stage_1_tid_res_arr_mem_125580_cached_sizze_130106 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125580 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_125580_cached_sizze_130106 <
        (size_t) ((int64_t) 4 * num_tasks_125579)) {
        reduce_stage_1_tid_res_arr_mem_125580 =
            realloc(reduce_stage_1_tid_res_arr_mem_125580, (int64_t) 4 *
                    num_tasks_125579);
        reduce_stage_1_tid_res_arr_mem_125580_cached_sizze_130106 =
            (int64_t) 4 * num_tasks_125579;
    }
    
    int64_t iter_125582;
    struct futhark_mc_segred_stage_1_parloop_struct_130107
    futhark_mc_segred_stage_1_parloop_struct_130107;
    
    futhark_mc_segred_stage_1_parloop_struct_130107.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130107.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130107.free_gtid_117662 =
        gtid_117662;
    futhark_mc_segred_stage_1_parloop_struct_130107.free_mem_121432 =
        mem_121432.mem;
    futhark_mc_segred_stage_1_parloop_struct_130107.free_x_125413 = x_125413;
    futhark_mc_segred_stage_1_parloop_struct_130107.free_mem_125418 =
        mem_125418.mem;
    futhark_mc_segred_stage_1_parloop_struct_130107.free_a0_125441 = a0_125441;
    futhark_mc_segred_stage_1_parloop_struct_130107.free_reduce_stage_1_tid_res_arr_mem_125580 =
        reduce_stage_1_tid_res_arr_mem_125580;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130108_task;
    
    futhark_mc_segred_stage_1_parloop_130108_task.name =
        "futhark_mc_segred_stage_1_parloop_130108";
    futhark_mc_segred_stage_1_parloop_130108_task.fn =
        futhark_mc_segred_stage_1_parloop_130108;
    futhark_mc_segred_stage_1_parloop_130108_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130107;
    futhark_mc_segred_stage_1_parloop_130108_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130108_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130108_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130108_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130108_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130108_task);
    
    if (futhark_mc_segred_stage_1_parloop_130108_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130108_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130108_total_end -
                 futhark_mc_segred_stage_1_parloop_130108_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130108_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130108_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130108_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_125442 = 0.0F;
    }
    
    float x_125584;
    float x_125585;
    
    for (int32_t i_125587 = 0; i_125587 < num_tasks_125579; i_125587++) {
        flat_tid_117669 = i_125587;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_125584 = defunc_2_reduce_res_125442;
            }
            // load next params
            {
                x_125585 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125580)[flat_tid_117669];
            }
            // red body
            {
                float defunc_1_op_res_125586 = x_125584 + x_125585;
                
                defunc_2_reduce_res_125442 = defunc_1_op_res_125586;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_125580);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130105_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130105_end -
                 futhark_mc_segred_task_130105_start;
        
        ctx->futhark_mc_segred_task_130105_runs[tid]++;
        ctx->futhark_mc_segred_task_130105_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130105_iter[tid] += iterations;
    }
    *futhark_mc_task_130104->retval_defunc_2_reduce_res_125442 =
        defunc_2_reduce_res_125442;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130097(void *args, int64_t start,
                                            int64_t end, int flat_tid_117665,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130096
    *futhark_mc_segmap_parloop_struct_130096 =
    (struct futhark_mc_segmap_parloop_struct_130096 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130096->ctx;
    uint64_t futhark_mc_segmap_parloop_130097_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130097_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130096->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130096->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130096->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130096->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130096->free_i_114181;
    int64_t gtid_117662 =
            futhark_mc_segmap_parloop_struct_130096->free_gtid_117662;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130096->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130096->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130096->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130096->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130096->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130096->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130096->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121555 =
            futhark_mc_segmap_parloop_struct_130096->free_bytes_121555;
    struct memblock mem_121575 = {.desc ="mem_121575", .mem =
                                  futhark_mc_segmap_parloop_struct_130096->free_mem_121575,
                                  .size =0, .references =NULL};
    size_t mem_125418_cached_sizze_130098 = 0;
    char *mem_125418 = NULL;
    int64_t iterations = end - start;
    int64_t iter_125537 = start;
    
    if (mem_125418_cached_sizze_130098 < (size_t) bytes_121555) {
        mem_125418 = realloc(mem_125418, bytes_121555);
        mem_125418_cached_sizze_130098 = bytes_121555;
    }
    for (; iter_125537 < end; iter_125537++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_125568 = l_n_m_114155;
        int64_t gtid_117666 = iter_125537;
        int64_t remnant_125569 = iter_125537 - gtid_117666;
        int64_t x_125413 = ((int64_t *) mem_121171.mem)[gtid_117662 *
                                                        l_n_m_114155 +
                                                        gtid_117666];
        float x_125414 = ((float *) mem_121175.mem)[gtid_117662 * l_n_m_114155 +
                                                    gtid_117666];
        int64_t min_arg_125415 = mul64(t_jump_114112, gtid_117666);
        int64_t min_res_125416 = smin64(i_114181, min_arg_125415);
        float defunc_0_f_res_125417 = sitofp_i64_f32(min_res_125416);
        float defunc_2_reduce_res_125419;
        int64_t flat_tid_117667 = (int64_t) 0;
        int32_t num_tasks_125570;
        struct futhark_mc_task_130099 futhark_mc_task_130099;
        
        futhark_mc_task_130099.ctx = ctx;
        futhark_mc_task_130099.free_n_114105 = n_114105;
        futhark_mc_task_130099.free_gtid_117662 = gtid_117662;
        futhark_mc_task_130099.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130099.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130099.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130099.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130099.free_x_125413 = x_125413;
        futhark_mc_task_130099.free_x_125414 = x_125414;
        futhark_mc_task_130099.free_defunc_0_f_res_125417 =
            defunc_0_f_res_125417;
        futhark_mc_task_130099.retval_defunc_2_reduce_res_125419 =
            &defunc_2_reduce_res_125419;
        futhark_mc_task_130099.retval_mem_125418 = mem_125418;
        
        struct scheduler_segop futhark_mc_task_130099_task;
        
        futhark_mc_task_130099_task.args = &futhark_mc_task_130099;
        futhark_mc_task_130099_task.top_level_fn =
            futhark_mc_segred_task_130100;
        futhark_mc_task_130099_task.name = "futhark_mc_segred_task_130100";
        futhark_mc_task_130099_task.iterations = l_window_114109;
        futhark_mc_task_130099_task.task_time =
            &ctx->futhark_mc_segred_task_130100_total_time;
        futhark_mc_task_130099_task.task_iter =
            &ctx->futhark_mc_segred_task_130100_total_iter;
        futhark_mc_task_130099_task.sched = STATIC;
        futhark_mc_task_130099_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130100_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130099_task);
        
        if (futhark_mc_segred_task_130100_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float a0_125441 = 1.0F / defunc_2_reduce_res_125419;
        float defunc_2_reduce_res_125442;
        int64_t flat_tid_117669 = (int64_t) 0;
        int32_t num_tasks_125579;
        struct futhark_mc_task_130104 futhark_mc_task_130104;
        
        futhark_mc_task_130104.ctx = ctx;
        futhark_mc_task_130104.free_n_114105 = n_114105;
        futhark_mc_task_130104.free_gtid_117662 = gtid_117662;
        futhark_mc_task_130104.free_mem_121432 = mem_121432.mem;
        futhark_mc_task_130104.free_x_125413 = x_125413;
        futhark_mc_task_130104.free_mem_125418 = mem_125418;
        futhark_mc_task_130104.free_a0_125441 = a0_125441;
        futhark_mc_task_130104.retval_defunc_2_reduce_res_125442 =
            &defunc_2_reduce_res_125442;
        
        struct scheduler_segop futhark_mc_task_130104_task;
        
        futhark_mc_task_130104_task.args = &futhark_mc_task_130104;
        futhark_mc_task_130104_task.top_level_fn =
            futhark_mc_segred_task_130105;
        futhark_mc_task_130104_task.name = "futhark_mc_segred_task_130105";
        futhark_mc_task_130104_task.iterations = l_window_114109;
        futhark_mc_task_130104_task.task_time =
            &ctx->futhark_mc_segred_task_130105_total_time;
        futhark_mc_task_130104_task.task_iter =
            &ctx->futhark_mc_segred_task_130105_total_iter;
        futhark_mc_task_130104_task.sched = STATIC;
        futhark_mc_task_130104_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130105_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130104_task);
        
        if (futhark_mc_segred_task_130105_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_121575.mem)[gtid_117666] = defunc_2_reduce_res_125442;
    }
    
  cleanup:
    { }
    free(mem_125418);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130097_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130097_end -
                 futhark_mc_segmap_parloop_130097_start;
        
        ctx->futhark_mc_segmap_parloop_130097_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130097_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130097_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130095(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117665 = tid;
    int num_tasks_125498 = info.nsubtasks;
    struct futhark_mc_task_130090 *futhark_mc_task_130090 =
                                  (struct futhark_mc_task_130090 *) args;
    struct futhark_context *ctx = futhark_mc_task_130090->ctx;
    uint64_t futhark_mc_segmap_nested_task_130095_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130095_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130090->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130090->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130090->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130090->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130090->free_i_114181;
    int64_t gtid_117662 = futhark_mc_task_130090->free_gtid_117662;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130090->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130090->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130090->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130090->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130090->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130090->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130090->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121555 = futhark_mc_task_130090->free_bytes_121555;
    struct memblock mem_121575 = {.desc ="mem_121575", .mem =
                                  futhark_mc_task_130090->free_mem_121575,
                                  .size =0, .references =NULL};
    int64_t iter_125537;
    struct futhark_mc_segmap_parloop_struct_130096
    futhark_mc_segmap_parloop_struct_130096;
    
    futhark_mc_segmap_parloop_struct_130096.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130096.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130096.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130096.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130096.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130096.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130096.free_gtid_117662 = gtid_117662;
    futhark_mc_segmap_parloop_struct_130096.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130096.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130096.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130096.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130096.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130096.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130096.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130096.free_bytes_121555 = bytes_121555;
    futhark_mc_segmap_parloop_struct_130096.free_mem_121575 = mem_121575.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130097_task;
    
    futhark_mc_segmap_parloop_130097_task.name =
        "futhark_mc_segmap_parloop_130097";
    futhark_mc_segmap_parloop_130097_task.fn = futhark_mc_segmap_parloop_130097;
    futhark_mc_segmap_parloop_130097_task.args =
        &futhark_mc_segmap_parloop_struct_130096;
    futhark_mc_segmap_parloop_130097_task.iterations = iterations;
    futhark_mc_segmap_parloop_130097_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130097_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130097_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130097_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130097_task);
    
    if (futhark_mc_segmap_parloop_130097_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130097_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130097_total_end -
                 futhark_mc_segmap_parloop_130097_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130097_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130097_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130097_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130095_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130095_end -
                 futhark_mc_segmap_nested_task_130095_start;
        
        ctx->futhark_mc_segmap_nested_task_130095_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130095_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130095_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130088(void *args, int64_t start,
                                            int64_t end, int flat_tid_117661,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130087
    *futhark_mc_segmap_parloop_struct_130087 =
    (struct futhark_mc_segmap_parloop_struct_130087 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130087->ctx;
    uint64_t futhark_mc_segmap_parloop_130088_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130088_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130087->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130087->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130087->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130087->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130087->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130087->free_i_114181;
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_130087->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130087->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130087->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130087->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130087->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130087->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130087->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130087->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121555 =
            futhark_mc_segmap_parloop_struct_130087->free_bytes_121555;
    struct memblock mem_121609 = {.desc ="mem_121609", .mem =
                                  futhark_mc_segmap_parloop_struct_130087->free_mem_121609,
                                  .size =0, .references =NULL};
    size_t mem_121575_cached_sizze_130089 = 0;
    char *mem_121575 = NULL;
    int64_t iterations = end - start;
    int64_t iter_125412 = start;
    
    if (mem_121575_cached_sizze_130089 < (size_t) bytes_121117) {
        mem_121575 = realloc(mem_121575, bytes_121117);
        mem_121575_cached_sizze_130089 = bytes_121117;
    }
    for (; iter_125412 < end; iter_125412++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_125496 = m_114104;
        int64_t gtid_117662 = iter_125412;
        int64_t remnant_125497 = iter_125412 - gtid_117662;
        int64_t flat_tid_117663 = (int64_t) 0;
        int32_t num_tasks_125498;
        int64_t flat_tid_117665 = (int64_t) 0;
        struct futhark_mc_task_130090 futhark_mc_task_130090;
        
        futhark_mc_task_130090.ctx = ctx;
        futhark_mc_task_130090.free_n_114105 = n_114105;
        futhark_mc_task_130090.free_l_window_114109 = l_window_114109;
        futhark_mc_task_130090.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_130090.free_l_n_m_114155 = l_n_m_114155;
        futhark_mc_task_130090.free_i_114181 = i_114181;
        futhark_mc_task_130090.free_gtid_117662 = gtid_117662;
        futhark_mc_task_130090.free_mem_121171 = mem_121171.mem;
        futhark_mc_task_130090.free_mem_121175 = mem_121175.mem;
        futhark_mc_task_130090.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130090.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130090.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130090.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130090.free_mem_121432 = mem_121432.mem;
        futhark_mc_task_130090.free_bytes_121555 = bytes_121555;
        futhark_mc_task_130090.free_mem_121575 = mem_121575;
        
        struct scheduler_segop futhark_mc_task_130090_task;
        
        futhark_mc_task_130090_task.args = &futhark_mc_task_130090;
        futhark_mc_task_130090_task.top_level_fn =
            futhark_mc_segmap_task_130091;
        futhark_mc_task_130090_task.name = "futhark_mc_segmap_task_130091";
        futhark_mc_task_130090_task.iterations = l_n_m_114155;
        futhark_mc_task_130090_task.task_time =
            &ctx->futhark_mc_segmap_task_130091_total_time;
        futhark_mc_task_130090_task.task_iter =
            &ctx->futhark_mc_segmap_task_130091_total_iter;
        futhark_mc_task_130090_task.sched = STATIC;
        futhark_mc_task_130090_task.nested_fn =
            futhark_mc_segmap_nested_task_130095;
        
        int futhark_mc_segmap_task_130091_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130090_task);
        
        if (futhark_mc_segmap_task_130091_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121609.mem + gtid_117662 * l_n_m_114155 * (int64_t) 4,
                mem_121575 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121575);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130088_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130088_end -
                 futhark_mc_segmap_parloop_130088_start;
        
        ctx->futhark_mc_segmap_parloop_130088_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130088_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130088_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130086(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117661 = tid;
    int num_tasks_125359 = info.nsubtasks;
    struct futhark_mc_task_130080 *futhark_mc_task_130080 =
                                  (struct futhark_mc_task_130080 *) args;
    struct futhark_context *ctx = futhark_mc_task_130080->ctx;
    uint64_t futhark_mc_segmap_nested_task_130086_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130086_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130080->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130080->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130080->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130080->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130080->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130080->free_i_114181;
    int64_t bytes_121117 = futhark_mc_task_130080->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130080->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130080->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130080->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130080->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130080->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130080->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130080->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121555 = futhark_mc_task_130080->free_bytes_121555;
    struct memblock mem_121609 = {.desc ="mem_121609", .mem =
                                  futhark_mc_task_130080->free_mem_121609,
                                  .size =0, .references =NULL};
    int64_t iter_125412;
    struct futhark_mc_segmap_parloop_struct_130087
    futhark_mc_segmap_parloop_struct_130087;
    
    futhark_mc_segmap_parloop_struct_130087.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130087.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130087.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130087.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130087.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130087.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130087.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130087.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_130087.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130087.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130087.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130087.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130087.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130087.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130087.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130087.free_bytes_121555 = bytes_121555;
    futhark_mc_segmap_parloop_struct_130087.free_mem_121609 = mem_121609.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130088_task;
    
    futhark_mc_segmap_parloop_130088_task.name =
        "futhark_mc_segmap_parloop_130088";
    futhark_mc_segmap_parloop_130088_task.fn = futhark_mc_segmap_parloop_130088;
    futhark_mc_segmap_parloop_130088_task.args =
        &futhark_mc_segmap_parloop_struct_130087;
    futhark_mc_segmap_parloop_130088_task.iterations = iterations;
    futhark_mc_segmap_parloop_130088_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130088_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130088_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130088_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130088_task);
    
    if (futhark_mc_segmap_parloop_130088_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130088_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130088_total_end -
                 futhark_mc_segmap_parloop_130088_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130088_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130088_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130088_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130086_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130086_end -
                 futhark_mc_segmap_nested_task_130086_start;
        
        ctx->futhark_mc_segmap_nested_task_130086_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130086_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130086_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130109 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121610;
    char *free_mem_121715;
    char *free_mem_121719;
};
struct futhark_mc_segmap_parloop_struct_130111 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121610;
    char *free_mem_121715;
    char *free_mem_121719;
};
static int futhark_mc_segmap_parloop_130112(void *args, int64_t start,
                                            int64_t end, int flat_tid_117802,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130111
    *futhark_mc_segmap_parloop_struct_130111 =
    (struct futhark_mc_segmap_parloop_struct_130111 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130111->ctx;
    uint64_t futhark_mc_segmap_parloop_130112_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130112_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130111->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130111->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130111->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130111->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130111->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130111->free_i_114181;
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_130111->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130111->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130111->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130111->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130111->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130111->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130111->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130111->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121610 =
            futhark_mc_segmap_parloop_struct_130111->free_bytes_121610;
    struct memblock mem_121715 = {.desc ="mem_121715", .mem =
                                  futhark_mc_segmap_parloop_struct_130111->free_mem_121715,
                                  .size =0, .references =NULL};
    struct memblock mem_121719 = {.desc ="mem_121719", .mem =
                                  futhark_mc_segmap_parloop_struct_130111->free_mem_121719,
                                  .size =0, .references =NULL};
    size_t mem_121654_cached_sizze_130113 = 0;
    char *mem_121654 = NULL;
    size_t mem_121657_cached_sizze_130114 = 0;
    char *mem_121657 = NULL;
    size_t mem_121674_cached_sizze_130115 = 0;
    char *mem_121674 = NULL;
    size_t mem_121677_cached_sizze_130116 = 0;
    char *mem_121677 = NULL;
    int64_t iterations = end - start;
    int64_t iter_125589 = start;
    
    if (mem_121654_cached_sizze_130113 < (size_t) bytes_121117) {
        mem_121654 = realloc(mem_121654, bytes_121117);
        mem_121654_cached_sizze_130113 = bytes_121117;
    }
    if (mem_121657_cached_sizze_130114 < (size_t) bytes_121117) {
        mem_121657 = realloc(mem_121657, bytes_121117);
        mem_121657_cached_sizze_130114 = bytes_121117;
    }
    if (mem_121674_cached_sizze_130115 < (size_t) bytes_121610) {
        mem_121674 = realloc(mem_121674, bytes_121610);
        mem_121674_cached_sizze_130115 = bytes_121610;
    }
    if (mem_121677_cached_sizze_130116 < (size_t) bytes_121610) {
        mem_121677 = realloc(mem_121677, bytes_121610);
        mem_121677_cached_sizze_130116 = bytes_121610;
    }
    for (; iter_125589 < end; iter_125589++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_125666 = m_114104;
        int64_t gtid_117803 = iter_125589;
        int64_t remnant_125667 = iter_125589 - gtid_117803;
        
        for (int64_t i_125590 = 0; i_125590 < l_n_m_114155; i_125590++) {
            int64_t x_125593 = ((int64_t *) mem_121171.mem)[gtid_117803 *
                                                            l_n_m_114155 +
                                                            i_125590];
            float x_125594 = ((float *) mem_121175.mem)[gtid_117803 *
                                                        l_n_m_114155 +
                                                        i_125590];
            int64_t min_arg_125595 = mul64(t_jump_114112, i_125590);
            int64_t min_res_125596 = smin64(i_114181, min_arg_125595);
            float defunc_0_f_res_125597 = sitofp_i64_f32(min_res_125596);
            float defunc_2_reduce_res_125600;
            float defunc_2_reduce_res_125601;
            float defunc_2_reduce_res_125602;
            float redout_125606;
            float redout_125607;
            float redout_125608;
            
            redout_125606 = 0.0F;
            redout_125607 = 0.0F;
            redout_125608 = 0.0F;
            for (int64_t i_125605 = 0; i_125605 < l_window_114109; i_125605++) {
                bool cond_125611 = sle64(n_114105, i_125605);
                float defunc_0_f_res_125612;
                
                if (cond_125611) {
                    defunc_0_f_res_125612 = 0.0F;
                } else {
                    int64_t i_125613 = add64(x_125593, i_125605);
                    float index_primexp_125614 = sitofp_i64_f32(i_125613);
                    float defunc_0_f_res_f_res_125615 = 1.0F +
                          index_primexp_125614;
                    
                    defunc_0_f_res_125612 = defunc_0_f_res_f_res_125615;
                }
                
                float defunc_0_f_res_125616;
                
                if (cond_125611) {
                    defunc_0_f_res_125616 = 0.0F;
                } else {
                    int64_t i_125617 = add64(x_125593, i_125605);
                    float x_125618 =
                          ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                           (gtid_117803 *
                                                            ctx_param_ext_121265 +
                                                            i_125617 *
                                                            ctx_param_ext_121267)];
                    
                    defunc_0_f_res_125616 = x_125618;
                }
                
                float x_j_125619 = defunc_0_f_res_125612 -
                      defunc_0_f_res_125597;
                float abs_res_125620 = (float) fabs(x_j_125619);
                float tmp1_125621 = abs_res_125620 / x_125594;
                float x_125622 = tmp1_125621 * tmp1_125621;
                float y_125623 = tmp1_125621 * x_125622;
                float tmp2_125624 = 1.0F - y_125623;
                float x_125625 = tmp2_125624 * tmp2_125624;
                float tmp3_125626 = tmp2_125624 * x_125625;
                float tmp4_125627 = defunc_0_f_res_125616 * tmp3_125626;
                float defunc_1_f_res_125628 = x_j_125619 * tmp4_125627;
                float defunc_1_f_res_125629 = x_j_125619 *
                      defunc_1_f_res_125628;
                float defunc_1_op_res_125630 = tmp4_125627 + redout_125606;
                float defunc_1_op_res_125631 = defunc_1_f_res_125628 +
                      redout_125607;
                float defunc_1_op_res_125632 = defunc_1_f_res_125629 +
                      redout_125608;
                
                ((float *) mem_121674)[i_125605] = defunc_1_f_res_125628;
                ((float *) mem_121677)[i_125605] = tmp4_125627;
                
                float redout_tmp_125670 = defunc_1_op_res_125630;
                float redout_tmp_125671 = defunc_1_op_res_125631;
                float redout_tmp_125672 = defunc_1_op_res_125632;
                
                redout_125606 = redout_tmp_125670;
                redout_125607 = redout_tmp_125671;
                redout_125608 = redout_tmp_125672;
            }
            defunc_2_reduce_res_125600 = redout_125606;
            defunc_2_reduce_res_125601 = redout_125607;
            defunc_2_reduce_res_125602 = redout_125608;
            
            float x_125635 = defunc_2_reduce_res_125600 *
                  defunc_2_reduce_res_125602;
            float y_125636 = defunc_2_reduce_res_125601 *
                  defunc_2_reduce_res_125601;
            float y_125637 = x_125635 - y_125636;
            float det1_125638 = 1.0F / y_125637;
            float a11_125639 = defunc_2_reduce_res_125602 * det1_125638;
            float negate_arg_125640 = defunc_2_reduce_res_125601 * det1_125638;
            float b11_125641 = 0.0F - negate_arg_125640;
            float c11_125642 = defunc_2_reduce_res_125600 * det1_125638;
            float defunc_2_reduce_res_125643;
            float defunc_2_reduce_res_125644;
            float redout_125646;
            float redout_125647;
            
            redout_125646 = 0.0F;
            redout_125647 = 0.0F;
            for (int64_t i_125645 = 0; i_125645 < l_window_114109; i_125645++) {
                float x_125648 = ((float *) mem_121677)[i_125645];
                float x_125649 = ((float *) mem_121674)[i_125645];
                bool cond_125650 = sle64(n_114105, i_125645);
                float defunc_0_f_res_125651;
                
                if (cond_125650) {
                    defunc_0_f_res_125651 = 0.0F;
                } else {
                    int64_t i_125652 = add64(x_125593, i_125645);
                    float x_125653 = ((float *) mem_121432.mem)[gtid_117803 *
                                                                n_114105 +
                                                                i_125652];
                    
                    defunc_0_f_res_125651 = x_125653;
                }
                
                float x_125654 = a11_125639 * x_125648;
                float y_125655 = b11_125641 * x_125649;
                float x_125656 = x_125654 + y_125655;
                float defunc_9_fit_fun_res_125657 = defunc_0_f_res_125651 *
                      x_125656;
                float x_125658 = b11_125641 * x_125648;
                float y_125659 = c11_125642 * x_125649;
                float x_125660 = x_125658 + y_125659;
                float defunc_9_slope_fun_res_125661 = defunc_0_f_res_125651 *
                      x_125660;
                float defunc_1_op_res_125662 = defunc_9_fit_fun_res_125657 +
                      redout_125646;
                float defunc_1_op_res_125663 = defunc_9_slope_fun_res_125661 +
                      redout_125647;
                float redout_tmp_125675 = defunc_1_op_res_125662;
                float redout_tmp_125676 = defunc_1_op_res_125663;
                
                redout_125646 = redout_tmp_125675;
                redout_125647 = redout_tmp_125676;
            }
            defunc_2_reduce_res_125643 = redout_125646;
            defunc_2_reduce_res_125644 = redout_125647;
            ((float *) mem_121654)[i_125590] = defunc_2_reduce_res_125643;
            ((float *) mem_121657)[i_125590] = defunc_2_reduce_res_125644;
        }
        memmove(mem_121715.mem + gtid_117803 * l_n_m_114155 * (int64_t) 4,
                mem_121654 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
        memmove(mem_121719.mem + gtid_117803 * l_n_m_114155 * (int64_t) 4,
                mem_121657 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121654);
    free(mem_121657);
    free(mem_121674);
    free(mem_121677);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130112_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130112_end -
                 futhark_mc_segmap_parloop_130112_start;
        
        ctx->futhark_mc_segmap_parloop_130112_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130112_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130112_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130110(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117802 = tid;
    int num_tasks_125588 = info.nsubtasks;
    struct futhark_mc_task_130109 *futhark_mc_task_130109 =
                                  (struct futhark_mc_task_130109 *) args;
    struct futhark_context *ctx = futhark_mc_task_130109->ctx;
    uint64_t futhark_mc_segmap_task_130110_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130110_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130109->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130109->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130109->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130109->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130109->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130109->free_i_114181;
    int64_t bytes_121117 = futhark_mc_task_130109->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130109->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130109->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130109->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130109->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130109->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130109->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130109->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121610 = futhark_mc_task_130109->free_bytes_121610;
    struct memblock mem_121715 = {.desc ="mem_121715", .mem =
                                  futhark_mc_task_130109->free_mem_121715,
                                  .size =0, .references =NULL};
    struct memblock mem_121719 = {.desc ="mem_121719", .mem =
                                  futhark_mc_task_130109->free_mem_121719,
                                  .size =0, .references =NULL};
    int64_t iter_125589;
    struct futhark_mc_segmap_parloop_struct_130111
    futhark_mc_segmap_parloop_struct_130111;
    
    futhark_mc_segmap_parloop_struct_130111.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130111.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130111.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130111.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130111.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130111.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130111.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130111.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_130111.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130111.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130111.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130111.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130111.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130111.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130111.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130111.free_bytes_121610 = bytes_121610;
    futhark_mc_segmap_parloop_struct_130111.free_mem_121715 = mem_121715.mem;
    futhark_mc_segmap_parloop_struct_130111.free_mem_121719 = mem_121719.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130112_task;
    
    futhark_mc_segmap_parloop_130112_task.name =
        "futhark_mc_segmap_parloop_130112";
    futhark_mc_segmap_parloop_130112_task.fn = futhark_mc_segmap_parloop_130112;
    futhark_mc_segmap_parloop_130112_task.args =
        &futhark_mc_segmap_parloop_struct_130111;
    futhark_mc_segmap_parloop_130112_task.iterations = iterations;
    futhark_mc_segmap_parloop_130112_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130112_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130112_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130112_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130112_task);
    
    if (futhark_mc_segmap_parloop_130112_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130112_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130112_total_end -
                 futhark_mc_segmap_parloop_130112_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130112_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130112_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130112_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130110_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130110_end -
                 futhark_mc_segmap_task_130110_start;
        
        ctx->futhark_mc_segmap_task_130110_runs[tid]++;
        ctx->futhark_mc_segmap_task_130110_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130110_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130118 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121610;
    char *free_mem_121715;
    char *free_mem_121719;
};
struct futhark_mc_task_130122 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_117805;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121610;
    char *free_mem_121648;
    char *free_mem_121651;
};
struct futhark_mc_segmap_parloop_struct_130124 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_117805;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121610;
    char *free_mem_121648;
    char *free_mem_121651;
};
static int futhark_mc_segmap_parloop_130125(void *args, int64_t start,
                                            int64_t end, int flat_tid_117806,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130124
    *futhark_mc_segmap_parloop_struct_130124 =
    (struct futhark_mc_segmap_parloop_struct_130124 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130124->ctx;
    uint64_t futhark_mc_segmap_parloop_130125_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130125_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130124->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130124->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130124->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130124->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130124->free_i_114181;
    int64_t gtid_117805 =
            futhark_mc_segmap_parloop_struct_130124->free_gtid_117805;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130124->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130124->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130124->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130124->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130124->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130124->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130124->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121610 =
            futhark_mc_segmap_parloop_struct_130124->free_bytes_121610;
    struct memblock mem_121648 = {.desc ="mem_121648", .mem =
                                  futhark_mc_segmap_parloop_struct_130124->free_mem_121648,
                                  .size =0, .references =NULL};
    struct memblock mem_121651 = {.desc ="mem_121651", .mem =
                                  futhark_mc_segmap_parloop_struct_130124->free_mem_121651,
                                  .size =0, .references =NULL};
    size_t mem_125753_cached_sizze_130126 = 0;
    char *mem_125753 = NULL;
    size_t mem_125755_cached_sizze_130127 = 0;
    char *mem_125755 = NULL;
    int64_t iterations = end - start;
    int64_t iter_125824 = start;
    
    if (mem_125753_cached_sizze_130126 < (size_t) bytes_121610) {
        mem_125753 = realloc(mem_125753, bytes_121610);
        mem_125753_cached_sizze_130126 = bytes_121610;
    }
    if (mem_125755_cached_sizze_130127 < (size_t) bytes_121610) {
        mem_125755 = realloc(mem_125755, bytes_121610);
        mem_125755_cached_sizze_130127 = bytes_121610;
    }
    for (; iter_125824 < end; iter_125824++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_125874 = l_n_m_114155;
        int64_t gtid_117807 = iter_125824;
        int64_t remnant_125875 = iter_125824 - gtid_117807;
        int64_t x_125748 = ((int64_t *) mem_121171.mem)[gtid_117805 *
                                                        l_n_m_114155 +
                                                        gtid_117807];
        float x_125749 = ((float *) mem_121175.mem)[gtid_117805 * l_n_m_114155 +
                                                    gtid_117807];
        int64_t min_arg_125750 = mul64(t_jump_114112, gtid_117807);
        int64_t min_res_125751 = smin64(i_114181, min_arg_125750);
        float defunc_0_f_res_125752 = sitofp_i64_f32(min_res_125751);
        float defunc_2_reduce_res_125757;
        float defunc_2_reduce_res_125758;
        float defunc_2_reduce_res_125759;
        float redout_125826;
        float redout_125827;
        float redout_125828;
        
        redout_125826 = 0.0F;
        redout_125827 = 0.0F;
        redout_125828 = 0.0F;
        for (int64_t i_125825 = 0; i_125825 < l_window_114109; i_125825++) {
            bool cond_125831 = sle64(n_114105, i_125825);
            float defunc_0_f_res_125832;
            
            if (cond_125831) {
                defunc_0_f_res_125832 = 0.0F;
            } else {
                int64_t i_125833 = add64(x_125748, i_125825);
                float index_primexp_125834 = sitofp_i64_f32(i_125833);
                float defunc_0_f_res_f_res_125835 = 1.0F + index_primexp_125834;
                
                defunc_0_f_res_125832 = defunc_0_f_res_f_res_125835;
            }
            
            float defunc_0_f_res_125836;
            
            if (cond_125831) {
                defunc_0_f_res_125836 = 0.0F;
            } else {
                int64_t i_125837 = add64(x_125748, i_125825);
                float x_125838 =
                      ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                       (gtid_117805 *
                                                        ctx_param_ext_121265 +
                                                        i_125837 *
                                                        ctx_param_ext_121267)];
                
                defunc_0_f_res_125836 = x_125838;
            }
            
            float x_j_125839 = defunc_0_f_res_125832 - defunc_0_f_res_125752;
            float abs_res_125840 = (float) fabs(x_j_125839);
            float tmp1_125841 = abs_res_125840 / x_125749;
            float x_125842 = tmp1_125841 * tmp1_125841;
            float y_125843 = tmp1_125841 * x_125842;
            float tmp2_125844 = 1.0F - y_125843;
            float x_125845 = tmp2_125844 * tmp2_125844;
            float tmp3_125846 = tmp2_125844 * x_125845;
            float tmp4_125847 = defunc_0_f_res_125836 * tmp3_125846;
            float defunc_1_f_res_125848 = x_j_125839 * tmp4_125847;
            float defunc_1_f_res_125849 = x_j_125839 * defunc_1_f_res_125848;
            float defunc_1_op_res_125850 = tmp4_125847 + redout_125826;
            float defunc_1_op_res_125851 = defunc_1_f_res_125848 +
                  redout_125827;
            float defunc_1_op_res_125852 = defunc_1_f_res_125849 +
                  redout_125828;
            
            ((float *) mem_125753)[i_125825] = defunc_1_f_res_125848;
            ((float *) mem_125755)[i_125825] = tmp4_125847;
            
            float redout_tmp_125876 = defunc_1_op_res_125850;
            float redout_tmp_125877 = defunc_1_op_res_125851;
            float redout_tmp_125878 = defunc_1_op_res_125852;
            
            redout_125826 = redout_tmp_125876;
            redout_125827 = redout_tmp_125877;
            redout_125828 = redout_tmp_125878;
        }
        defunc_2_reduce_res_125757 = redout_125826;
        defunc_2_reduce_res_125758 = redout_125827;
        defunc_2_reduce_res_125759 = redout_125828;
        
        float x_125792 = defunc_2_reduce_res_125757 *
              defunc_2_reduce_res_125759;
        float y_125793 = defunc_2_reduce_res_125758 *
              defunc_2_reduce_res_125758;
        float y_125794 = x_125792 - y_125793;
        float det1_125795 = 1.0F / y_125794;
        float a11_125796 = defunc_2_reduce_res_125759 * det1_125795;
        float negate_arg_125797 = defunc_2_reduce_res_125758 * det1_125795;
        float b11_125798 = 0.0F - negate_arg_125797;
        float c11_125799 = defunc_2_reduce_res_125757 * det1_125795;
        float defunc_2_reduce_res_125800;
        float defunc_2_reduce_res_125801;
        float redout_125856;
        float redout_125857;
        
        redout_125856 = 0.0F;
        redout_125857 = 0.0F;
        for (int64_t i_125855 = 0; i_125855 < l_window_114109; i_125855++) {
            float x_125858 = ((float *) mem_125755)[i_125855];
            float x_125859 = ((float *) mem_125753)[i_125855];
            bool cond_125860 = sle64(n_114105, i_125855);
            float defunc_0_f_res_125861;
            
            if (cond_125860) {
                defunc_0_f_res_125861 = 0.0F;
            } else {
                int64_t i_125862 = add64(x_125748, i_125855);
                float x_125863 = ((float *) mem_121432.mem)[gtid_117805 *
                                                            n_114105 +
                                                            i_125862];
                
                defunc_0_f_res_125861 = x_125863;
            }
            
            float x_125864 = a11_125796 * x_125858;
            float y_125865 = b11_125798 * x_125859;
            float x_125866 = x_125864 + y_125865;
            float defunc_9_fit_fun_res_125867 = defunc_0_f_res_125861 *
                  x_125866;
            float x_125868 = b11_125798 * x_125858;
            float y_125869 = c11_125799 * x_125859;
            float x_125870 = x_125868 + y_125869;
            float defunc_9_slope_fun_res_125871 = defunc_0_f_res_125861 *
                  x_125870;
            float defunc_1_op_res_125872 = defunc_9_fit_fun_res_125867 +
                  redout_125856;
            float defunc_1_op_res_125873 = defunc_9_slope_fun_res_125871 +
                  redout_125857;
            float redout_tmp_125881 = defunc_1_op_res_125872;
            float redout_tmp_125882 = defunc_1_op_res_125873;
            
            redout_125856 = redout_tmp_125881;
            redout_125857 = redout_tmp_125882;
        }
        defunc_2_reduce_res_125800 = redout_125856;
        defunc_2_reduce_res_125801 = redout_125857;
        ((float *) mem_121648.mem)[gtid_117807] = defunc_2_reduce_res_125800;
        ((float *) mem_121651.mem)[gtid_117807] = defunc_2_reduce_res_125801;
    }
    
  cleanup:
    { }
    free(mem_125753);
    free(mem_125755);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130125_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130125_end -
                 futhark_mc_segmap_parloop_130125_start;
        
        ctx->futhark_mc_segmap_parloop_130125_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130125_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130125_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130123(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117806 = tid;
    int num_tasks_125823 = info.nsubtasks;
    struct futhark_mc_task_130122 *futhark_mc_task_130122 =
                                  (struct futhark_mc_task_130122 *) args;
    struct futhark_context *ctx = futhark_mc_task_130122->ctx;
    uint64_t futhark_mc_segmap_task_130123_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130123_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130122->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130122->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130122->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130122->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130122->free_i_114181;
    int64_t gtid_117805 = futhark_mc_task_130122->free_gtid_117805;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130122->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130122->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130122->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130122->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130122->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130122->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130122->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121610 = futhark_mc_task_130122->free_bytes_121610;
    struct memblock mem_121648 = {.desc ="mem_121648", .mem =
                                  futhark_mc_task_130122->free_mem_121648,
                                  .size =0, .references =NULL};
    struct memblock mem_121651 = {.desc ="mem_121651", .mem =
                                  futhark_mc_task_130122->free_mem_121651,
                                  .size =0, .references =NULL};
    int64_t iter_125824;
    struct futhark_mc_segmap_parloop_struct_130124
    futhark_mc_segmap_parloop_struct_130124;
    
    futhark_mc_segmap_parloop_struct_130124.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130124.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130124.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130124.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130124.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130124.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130124.free_gtid_117805 = gtid_117805;
    futhark_mc_segmap_parloop_struct_130124.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130124.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130124.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130124.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130124.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130124.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130124.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130124.free_bytes_121610 = bytes_121610;
    futhark_mc_segmap_parloop_struct_130124.free_mem_121648 = mem_121648.mem;
    futhark_mc_segmap_parloop_struct_130124.free_mem_121651 = mem_121651.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130125_task;
    
    futhark_mc_segmap_parloop_130125_task.name =
        "futhark_mc_segmap_parloop_130125";
    futhark_mc_segmap_parloop_130125_task.fn = futhark_mc_segmap_parloop_130125;
    futhark_mc_segmap_parloop_130125_task.args =
        &futhark_mc_segmap_parloop_struct_130124;
    futhark_mc_segmap_parloop_130125_task.iterations = iterations;
    futhark_mc_segmap_parloop_130125_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130125_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130125_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130125_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130125_task);
    
    if (futhark_mc_segmap_parloop_130125_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130125_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130125_total_end -
                 futhark_mc_segmap_parloop_130125_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130125_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130125_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130125_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130123_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130123_end -
                 futhark_mc_segmap_task_130123_start;
        
        ctx->futhark_mc_segmap_task_130123_runs[tid]++;
        ctx->futhark_mc_segmap_task_130123_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130123_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130129 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_117805;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121610;
    char *free_mem_121648;
    char *free_mem_121651;
};
struct futhark_mc_task_130133 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117805;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    int64_t free_x_125678;
    float free_x_125679;
    float free_defunc_0_f_res_125682;
    float *retval_defunc_2_reduce_res_125685;
    float *retval_defunc_2_reduce_res_125686;
    float *retval_defunc_2_reduce_res_125687;
    char *retval_mem_125683;
    char *retval_mem_125684;
};
struct futhark_mc_segred_stage_1_parloop_struct_130138 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117805;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    int64_t free_x_125678;
    float free_x_125679;
    float free_defunc_0_f_res_125682;
    char *free_mem_125683;
    char *free_mem_125684;
    char *free_reduce_stage_1_tid_res_arr_mem_125935;
    char *free_reduce_stage_1_tid_res_arr_mem_125937;
    char *free_reduce_stage_1_tid_res_arr_mem_125939;
};
static int futhark_mc_segred_stage_1_parloop_130139(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_117810,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130138
    *futhark_mc_segred_stage_1_parloop_struct_130138 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130138 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130138->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130139_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130139_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130138->free_n_114105;
    int64_t gtid_117805 =
            futhark_mc_segred_stage_1_parloop_struct_130138->free_gtid_117805;
    int64_t ctx_param_ext_121264 =
            futhark_mc_segred_stage_1_parloop_struct_130138->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segred_stage_1_parloop_struct_130138->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segred_stage_1_parloop_struct_130138->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segred_stage_1_parloop_struct_130138->free_mem_param_121269,
                                        .size =0, .references =NULL};
    int64_t x_125678 =
            futhark_mc_segred_stage_1_parloop_struct_130138->free_x_125678;
    float x_125679 =
          futhark_mc_segred_stage_1_parloop_struct_130138->free_x_125679;
    float defunc_0_f_res_125682 =
          futhark_mc_segred_stage_1_parloop_struct_130138->free_defunc_0_f_res_125682;
    struct memblock mem_125683 = {.desc ="mem_125683", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130138->free_mem_125683,
                                  .size =0, .references =NULL};
    struct memblock mem_125684 = {.desc ="mem_125684", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130138->free_mem_125684,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_125935 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125935",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130138->free_reduce_stage_1_tid_res_arr_mem_125935,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_125937 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125937",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130138->free_reduce_stage_1_tid_res_arr_mem_125937,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_125939 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125939",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130138->free_reduce_stage_1_tid_res_arr_mem_125939,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_125941 = start;
    float x_125884;
    float x_125885;
    float x_125887;
    float x_125888;
    float x_125890;
    float x_125891;
    float local_acc_125942 = 0.0F;
    float local_acc_125943 = 0.0F;
    float local_acc_125944 = 0.0F;
    
    for (; iter_125941 < end; iter_125941++) {
        int64_t gtid_117811 = iter_125941;
        bool cond_125893 = sle64(n_114105, gtid_117811);
        float defunc_0_f_res_125894;
        
        if (cond_125893) {
            defunc_0_f_res_125894 = 0.0F;
        } else {
            int64_t i_125895 = add64(gtid_117811, x_125678);
            float index_primexp_125896 = sitofp_i64_f32(i_125895);
            float defunc_0_f_res_f_res_125897 = 1.0F + index_primexp_125896;
            
            defunc_0_f_res_125894 = defunc_0_f_res_f_res_125897;
        }
        
        float defunc_0_f_res_125898;
        
        if (cond_125893) {
            defunc_0_f_res_125898 = 0.0F;
        } else {
            int64_t i_125899 = add64(gtid_117811, x_125678);
            float x_125900 =
                  ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                   (gtid_117805 *
                                                    ctx_param_ext_121265 +
                                                    i_125899 *
                                                    ctx_param_ext_121267)];
            
            defunc_0_f_res_125898 = x_125900;
        }
        
        float x_j_125901 = defunc_0_f_res_125894 - defunc_0_f_res_125682;
        float abs_res_125902 = (float) fabs(x_j_125901);
        float tmp1_125903 = abs_res_125902 / x_125679;
        float x_125904 = tmp1_125903 * tmp1_125903;
        float y_125905 = tmp1_125903 * x_125904;
        float tmp2_125906 = 1.0F - y_125905;
        float x_125907 = tmp2_125906 * tmp2_125906;
        float tmp3_125908 = tmp2_125906 * x_125907;
        float tmp4_125909 = defunc_0_f_res_125898 * tmp3_125908;
        float defunc_1_f_res_125910 = x_j_125901 * tmp4_125909;
        float defunc_1_f_res_125911 = x_j_125901 * defunc_1_f_res_125910;
        
        // save map-out results
        {
            ((float *) mem_125683.mem)[gtid_117811] = defunc_1_f_res_125910;
            ((float *) mem_125684.mem)[gtid_117811] = tmp4_125909;
        }
        // Load accum params
        {
            x_125884 = local_acc_125942;
        }
        // Load next params
        {
            x_125885 = tmp4_125909;
        }
        // Red body
        {
            float defunc_1_op_res_125886 = x_125884 + x_125885;
            
            local_acc_125942 = defunc_1_op_res_125886;
        }
        // Load accum params
        {
            x_125887 = local_acc_125943;
        }
        // Load next params
        {
            x_125888 = defunc_1_f_res_125910;
        }
        // Red body
        {
            float defunc_1_op_res_125889 = x_125887 + x_125888;
            
            local_acc_125943 = defunc_1_op_res_125889;
        }
        // Load accum params
        {
            x_125890 = local_acc_125944;
        }
        // Load next params
        {
            x_125891 = defunc_1_f_res_125911;
        }
        // Red body
        {
            float defunc_1_op_res_125892 = x_125890 + x_125891;
            
            local_acc_125944 = defunc_1_op_res_125892;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_125935.mem)[flat_tid_117810] =
        local_acc_125942;
    ((float *) reduce_stage_1_tid_res_arr_mem_125937.mem)[flat_tid_117810] =
        local_acc_125943;
    ((float *) reduce_stage_1_tid_res_arr_mem_125939.mem)[flat_tid_117810] =
        local_acc_125944;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130139_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130139_end -
                 futhark_mc_segred_stage_1_parloop_130139_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130139_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130139_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130139_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130134(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117810 = tid;
    int num_tasks_125934 = info.nsubtasks;
    struct futhark_mc_task_130133 *futhark_mc_task_130133 =
                                  (struct futhark_mc_task_130133 *) args;
    struct futhark_context *ctx = futhark_mc_task_130133->ctx;
    uint64_t futhark_mc_segred_task_130134_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130134_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130133->free_n_114105;
    int64_t gtid_117805 = futhark_mc_task_130133->free_gtid_117805;
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130133->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130133->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130133->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130133->free_mem_param_121269,
                                        .size =0, .references =NULL};
    int64_t x_125678 = futhark_mc_task_130133->free_x_125678;
    float x_125679 = futhark_mc_task_130133->free_x_125679;
    float defunc_0_f_res_125682 =
          futhark_mc_task_130133->free_defunc_0_f_res_125682;
    float defunc_2_reduce_res_125685 =
          *futhark_mc_task_130133->retval_defunc_2_reduce_res_125685;
    float defunc_2_reduce_res_125686 =
          *futhark_mc_task_130133->retval_defunc_2_reduce_res_125686;
    float defunc_2_reduce_res_125687 =
          *futhark_mc_task_130133->retval_defunc_2_reduce_res_125687;
    struct memblock mem_125683 = {.desc ="mem_125683", .mem =
                                  futhark_mc_task_130133->retval_mem_125683,
                                  .size =0, .references =NULL};
    struct memblock mem_125684 = {.desc ="mem_125684", .mem =
                                  futhark_mc_task_130133->retval_mem_125684,
                                  .size =0, .references =NULL};
    size_t reduce_stage_1_tid_res_arr_mem_125935_cached_sizze_130135 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125935 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_125937_cached_sizze_130136 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125937 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_125939_cached_sizze_130137 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125939 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_125935_cached_sizze_130135 <
        (size_t) ((int64_t) 4 * num_tasks_125934)) {
        reduce_stage_1_tid_res_arr_mem_125935 =
            realloc(reduce_stage_1_tid_res_arr_mem_125935, (int64_t) 4 *
                    num_tasks_125934);
        reduce_stage_1_tid_res_arr_mem_125935_cached_sizze_130135 =
            (int64_t) 4 * num_tasks_125934;
    }
    if (reduce_stage_1_tid_res_arr_mem_125937_cached_sizze_130136 <
        (size_t) ((int64_t) 4 * num_tasks_125934)) {
        reduce_stage_1_tid_res_arr_mem_125937 =
            realloc(reduce_stage_1_tid_res_arr_mem_125937, (int64_t) 4 *
                    num_tasks_125934);
        reduce_stage_1_tid_res_arr_mem_125937_cached_sizze_130136 =
            (int64_t) 4 * num_tasks_125934;
    }
    if (reduce_stage_1_tid_res_arr_mem_125939_cached_sizze_130137 <
        (size_t) ((int64_t) 4 * num_tasks_125934)) {
        reduce_stage_1_tid_res_arr_mem_125939 =
            realloc(reduce_stage_1_tid_res_arr_mem_125939, (int64_t) 4 *
                    num_tasks_125934);
        reduce_stage_1_tid_res_arr_mem_125939_cached_sizze_130137 =
            (int64_t) 4 * num_tasks_125934;
    }
    
    int64_t iter_125941;
    struct futhark_mc_segred_stage_1_parloop_struct_130138
    futhark_mc_segred_stage_1_parloop_struct_130138;
    
    futhark_mc_segred_stage_1_parloop_struct_130138.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_gtid_117805 =
        gtid_117805;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_x_125678 = x_125678;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_x_125679 = x_125679;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_defunc_0_f_res_125682 =
        defunc_0_f_res_125682;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_mem_125683 =
        mem_125683.mem;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_mem_125684 =
        mem_125684.mem;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_reduce_stage_1_tid_res_arr_mem_125935 =
        reduce_stage_1_tid_res_arr_mem_125935;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_reduce_stage_1_tid_res_arr_mem_125937 =
        reduce_stage_1_tid_res_arr_mem_125937;
    futhark_mc_segred_stage_1_parloop_struct_130138.free_reduce_stage_1_tid_res_arr_mem_125939 =
        reduce_stage_1_tid_res_arr_mem_125939;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130139_task;
    
    futhark_mc_segred_stage_1_parloop_130139_task.name =
        "futhark_mc_segred_stage_1_parloop_130139";
    futhark_mc_segred_stage_1_parloop_130139_task.fn =
        futhark_mc_segred_stage_1_parloop_130139;
    futhark_mc_segred_stage_1_parloop_130139_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130138;
    futhark_mc_segred_stage_1_parloop_130139_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130139_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130139_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130139_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130139_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130139_task);
    
    if (futhark_mc_segred_stage_1_parloop_130139_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130139_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130139_total_end -
                 futhark_mc_segred_stage_1_parloop_130139_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130139_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130139_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130139_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_125685 = 0.0F;
        defunc_2_reduce_res_125686 = 0.0F;
        defunc_2_reduce_res_125687 = 0.0F;
    }
    
    float x_125945;
    float x_125946;
    float x_125948;
    float x_125949;
    float x_125951;
    float x_125952;
    
    for (int32_t i_125954 = 0; i_125954 < num_tasks_125934; i_125954++) {
        flat_tid_117810 = i_125954;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_125945 = defunc_2_reduce_res_125685;
            }
            // load next params
            {
                x_125946 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125935)[flat_tid_117810];
            }
            // red body
            {
                float defunc_1_op_res_125947 = x_125945 + x_125946;
                
                defunc_2_reduce_res_125685 = defunc_1_op_res_125947;
            }
            // load acc params
            {
                x_125948 = defunc_2_reduce_res_125686;
            }
            // load next params
            {
                x_125949 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125937)[flat_tid_117810];
            }
            // red body
            {
                float defunc_1_op_res_125950 = x_125948 + x_125949;
                
                defunc_2_reduce_res_125686 = defunc_1_op_res_125950;
            }
            // load acc params
            {
                x_125951 = defunc_2_reduce_res_125687;
            }
            // load next params
            {
                x_125952 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125939)[flat_tid_117810];
            }
            // red body
            {
                float defunc_1_op_res_125953 = x_125951 + x_125952;
                
                defunc_2_reduce_res_125687 = defunc_1_op_res_125953;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_125935);
    free(reduce_stage_1_tid_res_arr_mem_125937);
    free(reduce_stage_1_tid_res_arr_mem_125939);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130134_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130134_end -
                 futhark_mc_segred_task_130134_start;
        
        ctx->futhark_mc_segred_task_130134_runs[tid]++;
        ctx->futhark_mc_segred_task_130134_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130134_iter[tid] += iterations;
    }
    *futhark_mc_task_130133->retval_defunc_2_reduce_res_125685 =
        defunc_2_reduce_res_125685;
    *futhark_mc_task_130133->retval_defunc_2_reduce_res_125686 =
        defunc_2_reduce_res_125686;
    *futhark_mc_task_130133->retval_defunc_2_reduce_res_125687 =
        defunc_2_reduce_res_125687;
    futhark_mc_task_130133->retval_mem_125683 = mem_125683.mem;
    futhark_mc_task_130133->retval_mem_125684 = mem_125684.mem;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130140 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117805;
    char *free_mem_121432;
    int64_t free_x_125678;
    char *free_mem_125683;
    char *free_mem_125684;
    float free_a11_125722;
    float free_b11_125724;
    float free_c11_125725;
    float *retval_defunc_2_reduce_res_125726;
    float *retval_defunc_2_reduce_res_125727;
};
struct futhark_mc_segred_stage_1_parloop_struct_130144 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_117805;
    char *free_mem_121432;
    int64_t free_x_125678;
    char *free_mem_125683;
    char *free_mem_125684;
    float free_a11_125722;
    float free_b11_125724;
    float free_c11_125725;
    char *free_reduce_stage_1_tid_res_arr_mem_125956;
    char *free_reduce_stage_1_tid_res_arr_mem_125958;
};
static int futhark_mc_segred_stage_1_parloop_130145(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_117812,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130144
    *futhark_mc_segred_stage_1_parloop_struct_130144 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130144 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130144->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130145_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130145_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130144->free_n_114105;
    int64_t gtid_117805 =
            futhark_mc_segred_stage_1_parloop_struct_130144->free_gtid_117805;
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130144->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t x_125678 =
            futhark_mc_segred_stage_1_parloop_struct_130144->free_x_125678;
    struct memblock mem_125683 = {.desc ="mem_125683", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130144->free_mem_125683,
                                  .size =0, .references =NULL};
    struct memblock mem_125684 = {.desc ="mem_125684", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130144->free_mem_125684,
                                  .size =0, .references =NULL};
    float a11_125722 =
          futhark_mc_segred_stage_1_parloop_struct_130144->free_a11_125722;
    float b11_125724 =
          futhark_mc_segred_stage_1_parloop_struct_130144->free_b11_125724;
    float c11_125725 =
          futhark_mc_segred_stage_1_parloop_struct_130144->free_c11_125725;
    struct memblock reduce_stage_1_tid_res_arr_mem_125956 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125956",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130144->free_reduce_stage_1_tid_res_arr_mem_125956,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_125958 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_125958",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130144->free_reduce_stage_1_tid_res_arr_mem_125958,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_125960 = start;
    float x_125912;
    float x_125913;
    float x_125915;
    float x_125916;
    float local_acc_125961 = 0.0F;
    float local_acc_125962 = 0.0F;
    
    for (; iter_125960 < end; iter_125960++) {
        int64_t gtid_117813 = iter_125960;
        float x_125918 = ((float *) mem_125684.mem)[gtid_117813];
        float x_125919 = ((float *) mem_125683.mem)[gtid_117813];
        bool cond_125920 = sle64(n_114105, gtid_117813);
        float defunc_0_f_res_125921;
        
        if (cond_125920) {
            defunc_0_f_res_125921 = 0.0F;
        } else {
            int64_t i_125922 = add64(gtid_117813, x_125678);
            float x_125923 = ((float *) mem_121432.mem)[gtid_117805 * n_114105 +
                                                        i_125922];
            
            defunc_0_f_res_125921 = x_125923;
        }
        
        float x_125924 = a11_125722 * x_125918;
        float y_125925 = b11_125724 * x_125919;
        float x_125926 = x_125924 + y_125925;
        float defunc_9_fit_fun_res_125927 = defunc_0_f_res_125921 * x_125926;
        float x_125928 = b11_125724 * x_125918;
        float y_125929 = c11_125725 * x_125919;
        float x_125930 = x_125928 + y_125929;
        float defunc_9_slope_fun_res_125931 = defunc_0_f_res_125921 * x_125930;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_125912 = local_acc_125961;
        }
        // Load next params
        {
            x_125913 = defunc_9_fit_fun_res_125927;
        }
        // Red body
        {
            float defunc_1_op_res_125914 = x_125912 + x_125913;
            
            local_acc_125961 = defunc_1_op_res_125914;
        }
        // Load accum params
        {
            x_125915 = local_acc_125962;
        }
        // Load next params
        {
            x_125916 = defunc_9_slope_fun_res_125931;
        }
        // Red body
        {
            float defunc_1_op_res_125917 = x_125915 + x_125916;
            
            local_acc_125962 = defunc_1_op_res_125917;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_125956.mem)[flat_tid_117812] =
        local_acc_125961;
    ((float *) reduce_stage_1_tid_res_arr_mem_125958.mem)[flat_tid_117812] =
        local_acc_125962;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130145_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130145_end -
                 futhark_mc_segred_stage_1_parloop_130145_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130145_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130145_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130145_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130141(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117812 = tid;
    int num_tasks_125955 = info.nsubtasks;
    struct futhark_mc_task_130140 *futhark_mc_task_130140 =
                                  (struct futhark_mc_task_130140 *) args;
    struct futhark_context *ctx = futhark_mc_task_130140->ctx;
    uint64_t futhark_mc_segred_task_130141_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130141_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130140->free_n_114105;
    int64_t gtid_117805 = futhark_mc_task_130140->free_gtid_117805;
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130140->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t x_125678 = futhark_mc_task_130140->free_x_125678;
    struct memblock mem_125683 = {.desc ="mem_125683", .mem =
                                  futhark_mc_task_130140->free_mem_125683,
                                  .size =0, .references =NULL};
    struct memblock mem_125684 = {.desc ="mem_125684", .mem =
                                  futhark_mc_task_130140->free_mem_125684,
                                  .size =0, .references =NULL};
    float a11_125722 = futhark_mc_task_130140->free_a11_125722;
    float b11_125724 = futhark_mc_task_130140->free_b11_125724;
    float c11_125725 = futhark_mc_task_130140->free_c11_125725;
    float defunc_2_reduce_res_125726 =
          *futhark_mc_task_130140->retval_defunc_2_reduce_res_125726;
    float defunc_2_reduce_res_125727 =
          *futhark_mc_task_130140->retval_defunc_2_reduce_res_125727;
    size_t reduce_stage_1_tid_res_arr_mem_125956_cached_sizze_130142 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125956 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_125958_cached_sizze_130143 = 0;
    char *reduce_stage_1_tid_res_arr_mem_125958 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_125956_cached_sizze_130142 <
        (size_t) ((int64_t) 4 * num_tasks_125955)) {
        reduce_stage_1_tid_res_arr_mem_125956 =
            realloc(reduce_stage_1_tid_res_arr_mem_125956, (int64_t) 4 *
                    num_tasks_125955);
        reduce_stage_1_tid_res_arr_mem_125956_cached_sizze_130142 =
            (int64_t) 4 * num_tasks_125955;
    }
    if (reduce_stage_1_tid_res_arr_mem_125958_cached_sizze_130143 <
        (size_t) ((int64_t) 4 * num_tasks_125955)) {
        reduce_stage_1_tid_res_arr_mem_125958 =
            realloc(reduce_stage_1_tid_res_arr_mem_125958, (int64_t) 4 *
                    num_tasks_125955);
        reduce_stage_1_tid_res_arr_mem_125958_cached_sizze_130143 =
            (int64_t) 4 * num_tasks_125955;
    }
    
    int64_t iter_125960;
    struct futhark_mc_segred_stage_1_parloop_struct_130144
    futhark_mc_segred_stage_1_parloop_struct_130144;
    
    futhark_mc_segred_stage_1_parloop_struct_130144.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130144.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130144.free_gtid_117805 =
        gtid_117805;
    futhark_mc_segred_stage_1_parloop_struct_130144.free_mem_121432 =
        mem_121432.mem;
    futhark_mc_segred_stage_1_parloop_struct_130144.free_x_125678 = x_125678;
    futhark_mc_segred_stage_1_parloop_struct_130144.free_mem_125683 =
        mem_125683.mem;
    futhark_mc_segred_stage_1_parloop_struct_130144.free_mem_125684 =
        mem_125684.mem;
    futhark_mc_segred_stage_1_parloop_struct_130144.free_a11_125722 =
        a11_125722;
    futhark_mc_segred_stage_1_parloop_struct_130144.free_b11_125724 =
        b11_125724;
    futhark_mc_segred_stage_1_parloop_struct_130144.free_c11_125725 =
        c11_125725;
    futhark_mc_segred_stage_1_parloop_struct_130144.free_reduce_stage_1_tid_res_arr_mem_125956 =
        reduce_stage_1_tid_res_arr_mem_125956;
    futhark_mc_segred_stage_1_parloop_struct_130144.free_reduce_stage_1_tid_res_arr_mem_125958 =
        reduce_stage_1_tid_res_arr_mem_125958;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130145_task;
    
    futhark_mc_segred_stage_1_parloop_130145_task.name =
        "futhark_mc_segred_stage_1_parloop_130145";
    futhark_mc_segred_stage_1_parloop_130145_task.fn =
        futhark_mc_segred_stage_1_parloop_130145;
    futhark_mc_segred_stage_1_parloop_130145_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130144;
    futhark_mc_segred_stage_1_parloop_130145_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130145_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130145_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130145_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130145_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130145_task);
    
    if (futhark_mc_segred_stage_1_parloop_130145_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130145_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130145_total_end -
                 futhark_mc_segred_stage_1_parloop_130145_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130145_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130145_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130145_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_125726 = 0.0F;
        defunc_2_reduce_res_125727 = 0.0F;
    }
    
    float x_125963;
    float x_125964;
    float x_125966;
    float x_125967;
    
    for (int32_t i_125969 = 0; i_125969 < num_tasks_125955; i_125969++) {
        flat_tid_117812 = i_125969;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_125963 = defunc_2_reduce_res_125726;
            }
            // load next params
            {
                x_125964 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125956)[flat_tid_117812];
            }
            // red body
            {
                float defunc_1_op_res_125965 = x_125963 + x_125964;
                
                defunc_2_reduce_res_125726 = defunc_1_op_res_125965;
            }
            // load acc params
            {
                x_125966 = defunc_2_reduce_res_125727;
            }
            // load next params
            {
                x_125967 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_125958)[flat_tid_117812];
            }
            // red body
            {
                float defunc_1_op_res_125968 = x_125966 + x_125967;
                
                defunc_2_reduce_res_125727 = defunc_1_op_res_125968;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_125956);
    free(reduce_stage_1_tid_res_arr_mem_125958);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130141_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130141_end -
                 futhark_mc_segred_task_130141_start;
        
        ctx->futhark_mc_segred_task_130141_runs[tid]++;
        ctx->futhark_mc_segred_task_130141_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130141_iter[tid] += iterations;
    }
    *futhark_mc_task_130140->retval_defunc_2_reduce_res_125726 =
        defunc_2_reduce_res_125726;
    *futhark_mc_task_130140->retval_defunc_2_reduce_res_125727 =
        defunc_2_reduce_res_125727;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130130(void *args, int64_t start,
                                            int64_t end, int flat_tid_117808,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130129
    *futhark_mc_segmap_parloop_struct_130129 =
    (struct futhark_mc_segmap_parloop_struct_130129 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130129->ctx;
    uint64_t futhark_mc_segmap_parloop_130130_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130130_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130129->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130129->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130129->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130129->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130129->free_i_114181;
    int64_t gtid_117805 =
            futhark_mc_segmap_parloop_struct_130129->free_gtid_117805;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130129->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130129->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130129->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130129->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130129->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130129->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130129->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121610 =
            futhark_mc_segmap_parloop_struct_130129->free_bytes_121610;
    struct memblock mem_121648 = {.desc ="mem_121648", .mem =
                                  futhark_mc_segmap_parloop_struct_130129->free_mem_121648,
                                  .size =0, .references =NULL};
    struct memblock mem_121651 = {.desc ="mem_121651", .mem =
                                  futhark_mc_segmap_parloop_struct_130129->free_mem_121651,
                                  .size =0, .references =NULL};
    size_t mem_125683_cached_sizze_130131 = 0;
    char *mem_125683 = NULL;
    size_t mem_125684_cached_sizze_130132 = 0;
    char *mem_125684 = NULL;
    int64_t iterations = end - start;
    int64_t iter_125883 = start;
    
    if (mem_125683_cached_sizze_130131 < (size_t) bytes_121610) {
        mem_125683 = realloc(mem_125683, bytes_121610);
        mem_125683_cached_sizze_130131 = bytes_121610;
    }
    if (mem_125684_cached_sizze_130132 < (size_t) bytes_121610) {
        mem_125684 = realloc(mem_125684, bytes_121610);
        mem_125684_cached_sizze_130132 = bytes_121610;
    }
    for (; iter_125883 < end; iter_125883++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_125932 = l_n_m_114155;
        int64_t gtid_117809 = iter_125883;
        int64_t remnant_125933 = iter_125883 - gtid_117809;
        int64_t x_125678 = ((int64_t *) mem_121171.mem)[gtid_117805 *
                                                        l_n_m_114155 +
                                                        gtid_117809];
        float x_125679 = ((float *) mem_121175.mem)[gtid_117805 * l_n_m_114155 +
                                                    gtid_117809];
        int64_t min_arg_125680 = mul64(t_jump_114112, gtid_117809);
        int64_t min_res_125681 = smin64(i_114181, min_arg_125680);
        float defunc_0_f_res_125682 = sitofp_i64_f32(min_res_125681);
        float defunc_2_reduce_res_125685;
        float defunc_2_reduce_res_125686;
        float defunc_2_reduce_res_125687;
        int64_t flat_tid_117810 = (int64_t) 0;
        int32_t num_tasks_125934;
        struct futhark_mc_task_130133 futhark_mc_task_130133;
        
        futhark_mc_task_130133.ctx = ctx;
        futhark_mc_task_130133.free_n_114105 = n_114105;
        futhark_mc_task_130133.free_gtid_117805 = gtid_117805;
        futhark_mc_task_130133.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130133.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130133.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130133.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130133.free_x_125678 = x_125678;
        futhark_mc_task_130133.free_x_125679 = x_125679;
        futhark_mc_task_130133.free_defunc_0_f_res_125682 =
            defunc_0_f_res_125682;
        futhark_mc_task_130133.retval_defunc_2_reduce_res_125685 =
            &defunc_2_reduce_res_125685;
        futhark_mc_task_130133.retval_defunc_2_reduce_res_125686 =
            &defunc_2_reduce_res_125686;
        futhark_mc_task_130133.retval_defunc_2_reduce_res_125687 =
            &defunc_2_reduce_res_125687;
        futhark_mc_task_130133.retval_mem_125683 = mem_125683;
        futhark_mc_task_130133.retval_mem_125684 = mem_125684;
        
        struct scheduler_segop futhark_mc_task_130133_task;
        
        futhark_mc_task_130133_task.args = &futhark_mc_task_130133;
        futhark_mc_task_130133_task.top_level_fn =
            futhark_mc_segred_task_130134;
        futhark_mc_task_130133_task.name = "futhark_mc_segred_task_130134";
        futhark_mc_task_130133_task.iterations = l_window_114109;
        futhark_mc_task_130133_task.task_time =
            &ctx->futhark_mc_segred_task_130134_total_time;
        futhark_mc_task_130133_task.task_iter =
            &ctx->futhark_mc_segred_task_130134_total_iter;
        futhark_mc_task_130133_task.sched = STATIC;
        futhark_mc_task_130133_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130134_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130133_task);
        
        if (futhark_mc_segred_task_130134_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_125718 = defunc_2_reduce_res_125685 *
              defunc_2_reduce_res_125687;
        float y_125719 = defunc_2_reduce_res_125686 *
              defunc_2_reduce_res_125686;
        float y_125720 = x_125718 - y_125719;
        float det1_125721 = 1.0F / y_125720;
        float a11_125722 = defunc_2_reduce_res_125687 * det1_125721;
        float negate_arg_125723 = defunc_2_reduce_res_125686 * det1_125721;
        float b11_125724 = 0.0F - negate_arg_125723;
        float c11_125725 = defunc_2_reduce_res_125685 * det1_125721;
        float defunc_2_reduce_res_125726;
        float defunc_2_reduce_res_125727;
        int64_t flat_tid_117812 = (int64_t) 0;
        int32_t num_tasks_125955;
        struct futhark_mc_task_130140 futhark_mc_task_130140;
        
        futhark_mc_task_130140.ctx = ctx;
        futhark_mc_task_130140.free_n_114105 = n_114105;
        futhark_mc_task_130140.free_gtid_117805 = gtid_117805;
        futhark_mc_task_130140.free_mem_121432 = mem_121432.mem;
        futhark_mc_task_130140.free_x_125678 = x_125678;
        futhark_mc_task_130140.free_mem_125683 = mem_125683;
        futhark_mc_task_130140.free_mem_125684 = mem_125684;
        futhark_mc_task_130140.free_a11_125722 = a11_125722;
        futhark_mc_task_130140.free_b11_125724 = b11_125724;
        futhark_mc_task_130140.free_c11_125725 = c11_125725;
        futhark_mc_task_130140.retval_defunc_2_reduce_res_125726 =
            &defunc_2_reduce_res_125726;
        futhark_mc_task_130140.retval_defunc_2_reduce_res_125727 =
            &defunc_2_reduce_res_125727;
        
        struct scheduler_segop futhark_mc_task_130140_task;
        
        futhark_mc_task_130140_task.args = &futhark_mc_task_130140;
        futhark_mc_task_130140_task.top_level_fn =
            futhark_mc_segred_task_130141;
        futhark_mc_task_130140_task.name = "futhark_mc_segred_task_130141";
        futhark_mc_task_130140_task.iterations = l_window_114109;
        futhark_mc_task_130140_task.task_time =
            &ctx->futhark_mc_segred_task_130141_total_time;
        futhark_mc_task_130140_task.task_iter =
            &ctx->futhark_mc_segred_task_130141_total_iter;
        futhark_mc_task_130140_task.sched = STATIC;
        futhark_mc_task_130140_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130141_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130140_task);
        
        if (futhark_mc_segred_task_130141_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_121648.mem)[gtid_117809] = defunc_2_reduce_res_125726;
        ((float *) mem_121651.mem)[gtid_117809] = defunc_2_reduce_res_125727;
    }
    
  cleanup:
    { }
    free(mem_125683);
    free(mem_125684);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130130_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130130_end -
                 futhark_mc_segmap_parloop_130130_start;
        
        ctx->futhark_mc_segmap_parloop_130130_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130130_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130130_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130128(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117808 = tid;
    int num_tasks_125823 = info.nsubtasks;
    struct futhark_mc_task_130122 *futhark_mc_task_130122 =
                                  (struct futhark_mc_task_130122 *) args;
    struct futhark_context *ctx = futhark_mc_task_130122->ctx;
    uint64_t futhark_mc_segmap_nested_task_130128_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130128_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130122->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130122->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130122->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130122->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130122->free_i_114181;
    int64_t gtid_117805 = futhark_mc_task_130122->free_gtid_117805;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130122->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130122->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130122->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130122->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130122->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130122->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130122->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121610 = futhark_mc_task_130122->free_bytes_121610;
    struct memblock mem_121648 = {.desc ="mem_121648", .mem =
                                  futhark_mc_task_130122->free_mem_121648,
                                  .size =0, .references =NULL};
    struct memblock mem_121651 = {.desc ="mem_121651", .mem =
                                  futhark_mc_task_130122->free_mem_121651,
                                  .size =0, .references =NULL};
    int64_t iter_125883;
    struct futhark_mc_segmap_parloop_struct_130129
    futhark_mc_segmap_parloop_struct_130129;
    
    futhark_mc_segmap_parloop_struct_130129.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130129.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130129.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130129.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130129.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130129.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130129.free_gtid_117805 = gtid_117805;
    futhark_mc_segmap_parloop_struct_130129.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130129.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130129.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130129.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130129.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130129.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130129.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130129.free_bytes_121610 = bytes_121610;
    futhark_mc_segmap_parloop_struct_130129.free_mem_121648 = mem_121648.mem;
    futhark_mc_segmap_parloop_struct_130129.free_mem_121651 = mem_121651.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130130_task;
    
    futhark_mc_segmap_parloop_130130_task.name =
        "futhark_mc_segmap_parloop_130130";
    futhark_mc_segmap_parloop_130130_task.fn = futhark_mc_segmap_parloop_130130;
    futhark_mc_segmap_parloop_130130_task.args =
        &futhark_mc_segmap_parloop_struct_130129;
    futhark_mc_segmap_parloop_130130_task.iterations = iterations;
    futhark_mc_segmap_parloop_130130_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130130_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130130_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130130_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130130_task);
    
    if (futhark_mc_segmap_parloop_130130_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130130_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130130_total_end -
                 futhark_mc_segmap_parloop_130130_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130130_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130130_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130130_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130128_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130128_end -
                 futhark_mc_segmap_nested_task_130128_start;
        
        ctx->futhark_mc_segmap_nested_task_130128_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130128_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130128_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130119(void *args, int64_t start,
                                            int64_t end, int flat_tid_117804,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130118
    *futhark_mc_segmap_parloop_struct_130118 =
    (struct futhark_mc_segmap_parloop_struct_130118 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130118->ctx;
    uint64_t futhark_mc_segmap_parloop_130119_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130119_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130118->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130118->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130118->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130118->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130118->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130118->free_i_114181;
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_130118->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130118->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130118->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130118->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130118->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130118->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130118->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130118->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121610 =
            futhark_mc_segmap_parloop_struct_130118->free_bytes_121610;
    struct memblock mem_121715 = {.desc ="mem_121715", .mem =
                                  futhark_mc_segmap_parloop_struct_130118->free_mem_121715,
                                  .size =0, .references =NULL};
    struct memblock mem_121719 = {.desc ="mem_121719", .mem =
                                  futhark_mc_segmap_parloop_struct_130118->free_mem_121719,
                                  .size =0, .references =NULL};
    size_t mem_121648_cached_sizze_130120 = 0;
    char *mem_121648 = NULL;
    size_t mem_121651_cached_sizze_130121 = 0;
    char *mem_121651 = NULL;
    int64_t iterations = end - start;
    int64_t iter_125677 = start;
    
    if (mem_121648_cached_sizze_130120 < (size_t) bytes_121117) {
        mem_121648 = realloc(mem_121648, bytes_121117);
        mem_121648_cached_sizze_130120 = bytes_121117;
    }
    if (mem_121651_cached_sizze_130121 < (size_t) bytes_121117) {
        mem_121651 = realloc(mem_121651, bytes_121117);
        mem_121651_cached_sizze_130121 = bytes_121117;
    }
    for (; iter_125677 < end; iter_125677++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_125821 = m_114104;
        int64_t gtid_117805 = iter_125677;
        int64_t remnant_125822 = iter_125677 - gtid_117805;
        int64_t flat_tid_117806 = (int64_t) 0;
        int32_t num_tasks_125823;
        int64_t flat_tid_117808 = (int64_t) 0;
        struct futhark_mc_task_130122 futhark_mc_task_130122;
        
        futhark_mc_task_130122.ctx = ctx;
        futhark_mc_task_130122.free_n_114105 = n_114105;
        futhark_mc_task_130122.free_l_window_114109 = l_window_114109;
        futhark_mc_task_130122.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_130122.free_l_n_m_114155 = l_n_m_114155;
        futhark_mc_task_130122.free_i_114181 = i_114181;
        futhark_mc_task_130122.free_gtid_117805 = gtid_117805;
        futhark_mc_task_130122.free_mem_121171 = mem_121171.mem;
        futhark_mc_task_130122.free_mem_121175 = mem_121175.mem;
        futhark_mc_task_130122.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130122.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130122.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130122.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130122.free_mem_121432 = mem_121432.mem;
        futhark_mc_task_130122.free_bytes_121610 = bytes_121610;
        futhark_mc_task_130122.free_mem_121648 = mem_121648;
        futhark_mc_task_130122.free_mem_121651 = mem_121651;
        
        struct scheduler_segop futhark_mc_task_130122_task;
        
        futhark_mc_task_130122_task.args = &futhark_mc_task_130122;
        futhark_mc_task_130122_task.top_level_fn =
            futhark_mc_segmap_task_130123;
        futhark_mc_task_130122_task.name = "futhark_mc_segmap_task_130123";
        futhark_mc_task_130122_task.iterations = l_n_m_114155;
        futhark_mc_task_130122_task.task_time =
            &ctx->futhark_mc_segmap_task_130123_total_time;
        futhark_mc_task_130122_task.task_iter =
            &ctx->futhark_mc_segmap_task_130123_total_iter;
        futhark_mc_task_130122_task.sched = STATIC;
        futhark_mc_task_130122_task.nested_fn =
            futhark_mc_segmap_nested_task_130128;
        
        int futhark_mc_segmap_task_130123_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130122_task);
        
        if (futhark_mc_segmap_task_130123_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121715.mem + gtid_117805 * l_n_m_114155 * (int64_t) 4,
                mem_121648 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
        memmove(mem_121719.mem + gtid_117805 * l_n_m_114155 * (int64_t) 4,
                mem_121651 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121648);
    free(mem_121651);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130119_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130119_end -
                 futhark_mc_segmap_parloop_130119_start;
        
        ctx->futhark_mc_segmap_parloop_130119_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130119_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130119_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130117(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_117804 = tid;
    int num_tasks_125588 = info.nsubtasks;
    struct futhark_mc_task_130109 *futhark_mc_task_130109 =
                                  (struct futhark_mc_task_130109 *) args;
    struct futhark_context *ctx = futhark_mc_task_130109->ctx;
    uint64_t futhark_mc_segmap_nested_task_130117_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130117_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130109->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130109->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130109->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130109->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130109->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130109->free_i_114181;
    int64_t bytes_121117 = futhark_mc_task_130109->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130109->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130109->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130109->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130109->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130109->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130109->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130109->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121610 = futhark_mc_task_130109->free_bytes_121610;
    struct memblock mem_121715 = {.desc ="mem_121715", .mem =
                                  futhark_mc_task_130109->free_mem_121715,
                                  .size =0, .references =NULL};
    struct memblock mem_121719 = {.desc ="mem_121719", .mem =
                                  futhark_mc_task_130109->free_mem_121719,
                                  .size =0, .references =NULL};
    int64_t iter_125677;
    struct futhark_mc_segmap_parloop_struct_130118
    futhark_mc_segmap_parloop_struct_130118;
    
    futhark_mc_segmap_parloop_struct_130118.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130118.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130118.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130118.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130118.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130118.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130118.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130118.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_130118.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130118.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130118.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130118.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130118.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130118.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130118.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130118.free_bytes_121610 = bytes_121610;
    futhark_mc_segmap_parloop_struct_130118.free_mem_121715 = mem_121715.mem;
    futhark_mc_segmap_parloop_struct_130118.free_mem_121719 = mem_121719.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130119_task;
    
    futhark_mc_segmap_parloop_130119_task.name =
        "futhark_mc_segmap_parloop_130119";
    futhark_mc_segmap_parloop_130119_task.fn = futhark_mc_segmap_parloop_130119;
    futhark_mc_segmap_parloop_130119_task.args =
        &futhark_mc_segmap_parloop_struct_130118;
    futhark_mc_segmap_parloop_130119_task.iterations = iterations;
    futhark_mc_segmap_parloop_130119_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130119_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130119_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130119_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130119_task);
    
    if (futhark_mc_segmap_parloop_130119_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130119_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130119_total_end -
                 futhark_mc_segmap_parloop_130119_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130119_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130119_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130119_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130117_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130117_end -
                 futhark_mc_segmap_nested_task_130117_start;
        
        ctx->futhark_mc_segmap_nested_task_130117_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130117_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130117_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130146 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121720;
    char *free_mem_121891;
    char *free_mem_121895;
};
struct futhark_mc_segmap_parloop_struct_130148 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121720;
    char *free_mem_121891;
    char *free_mem_121895;
};
static int futhark_mc_segmap_parloop_130149(void *args, int64_t start,
                                            int64_t end, int flat_tid_118033,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130148
    *futhark_mc_segmap_parloop_struct_130148 =
    (struct futhark_mc_segmap_parloop_struct_130148 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130148->ctx;
    uint64_t futhark_mc_segmap_parloop_130149_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130149_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130148->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130148->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130148->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130148->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130148->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130148->free_i_114181;
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_130148->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130148->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130148->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130148->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130148->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130148->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130148->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130148->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121720 =
            futhark_mc_segmap_parloop_struct_130148->free_bytes_121720;
    struct memblock mem_121891 = {.desc ="mem_121891", .mem =
                                  futhark_mc_segmap_parloop_struct_130148->free_mem_121891,
                                  .size =0, .references =NULL};
    struct memblock mem_121895 = {.desc ="mem_121895", .mem =
                                  futhark_mc_segmap_parloop_struct_130148->free_mem_121895,
                                  .size =0, .references =NULL};
    size_t mem_121800_cached_sizze_130150 = 0;
    char *mem_121800 = NULL;
    size_t mem_121803_cached_sizze_130151 = 0;
    char *mem_121803 = NULL;
    size_t mem_121820_cached_sizze_130152 = 0;
    char *mem_121820 = NULL;
    size_t mem_121823_cached_sizze_130153 = 0;
    char *mem_121823 = NULL;
    size_t mem_121850_cached_sizze_130154 = 0;
    char *mem_121850 = NULL;
    size_t mem_121853_cached_sizze_130155 = 0;
    char *mem_121853 = NULL;
    int64_t iterations = end - start;
    int64_t iter_125971 = start;
    
    if (mem_121800_cached_sizze_130150 < (size_t) bytes_121117) {
        mem_121800 = realloc(mem_121800, bytes_121117);
        mem_121800_cached_sizze_130150 = bytes_121117;
    }
    if (mem_121803_cached_sizze_130151 < (size_t) bytes_121117) {
        mem_121803 = realloc(mem_121803, bytes_121117);
        mem_121803_cached_sizze_130151 = bytes_121117;
    }
    if (mem_121820_cached_sizze_130152 < (size_t) bytes_121720) {
        mem_121820 = realloc(mem_121820, bytes_121720);
        mem_121820_cached_sizze_130152 = bytes_121720;
    }
    if (mem_121823_cached_sizze_130153 < (size_t) bytes_121720) {
        mem_121823 = realloc(mem_121823, bytes_121720);
        mem_121823_cached_sizze_130153 = bytes_121720;
    }
    if (mem_121850_cached_sizze_130154 < (size_t) bytes_121720) {
        mem_121850 = realloc(mem_121850, bytes_121720);
        mem_121850_cached_sizze_130154 = bytes_121720;
    }
    if (mem_121853_cached_sizze_130155 < (size_t) bytes_121720) {
        mem_121853 = realloc(mem_121853, bytes_121720);
        mem_121853_cached_sizze_130155 = bytes_121720;
    }
    for (; iter_125971 < end; iter_125971++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126089 = m_114104;
        int64_t gtid_118034 = iter_125971;
        int64_t remnant_126090 = iter_125971 - gtid_118034;
        
        for (int64_t i_125972 = 0; i_125972 < l_n_m_114155; i_125972++) {
            int64_t x_125975 = ((int64_t *) mem_121171.mem)[gtid_118034 *
                                                            l_n_m_114155 +
                                                            i_125972];
            float x_125976 = ((float *) mem_121175.mem)[gtid_118034 *
                                                        l_n_m_114155 +
                                                        i_125972];
            int64_t min_arg_125977 = mul64(t_jump_114112, i_125972);
            int64_t min_res_125978 = smin64(i_114181, min_arg_125977);
            float defunc_0_f_res_125979 = sitofp_i64_f32(min_res_125978);
            
            for (int64_t i_125984 = 0; i_125984 < l_window_114109; i_125984++) {
                bool cond_125987 = sle64(n_114105, i_125984);
                float defunc_0_f_res_125988;
                
                if (cond_125987) {
                    defunc_0_f_res_125988 = 0.0F;
                } else {
                    int64_t i_125989 = add64(x_125975, i_125984);
                    float index_primexp_125990 = sitofp_i64_f32(i_125989);
                    float defunc_0_f_res_f_res_125991 = 1.0F +
                          index_primexp_125990;
                    
                    defunc_0_f_res_125988 = defunc_0_f_res_f_res_125991;
                }
                
                float defunc_0_f_res_125992;
                
                if (cond_125987) {
                    defunc_0_f_res_125992 = 0.0F;
                } else {
                    int64_t i_125993 = add64(x_125975, i_125984);
                    float x_125994 =
                          ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                           (gtid_118034 *
                                                            ctx_param_ext_121265 +
                                                            i_125993 *
                                                            ctx_param_ext_121267)];
                    
                    defunc_0_f_res_125992 = x_125994;
                }
                
                float x_j_125995 = defunc_0_f_res_125988 -
                      defunc_0_f_res_125979;
                float abs_res_125996 = (float) fabs(x_j_125995);
                float tmp1_125997 = abs_res_125996 / x_125976;
                float x_125998 = tmp1_125997 * tmp1_125997;
                float y_125999 = tmp1_125997 * x_125998;
                float tmp2_126000 = 1.0F - y_125999;
                float x_126001 = tmp2_126000 * tmp2_126000;
                float tmp3_126002 = tmp2_126000 * x_126001;
                float tmp4_126003 = defunc_0_f_res_125992 * tmp3_126002;
                
                ((float *) mem_121820)[i_125984] = x_j_125995;
                ((float *) mem_121823)[i_125984] = tmp4_126003;
            }
            
            float defunc_2_reduce_res_126008;
            float defunc_2_reduce_res_126009;
            float defunc_2_reduce_res_126010;
            float defunc_2_reduce_res_126011;
            float defunc_2_reduce_res_126012;
            float redout_126016;
            float redout_126017;
            float redout_126018;
            float redout_126019;
            float redout_126020;
            
            redout_126016 = 0.0F;
            redout_126017 = 0.0F;
            redout_126018 = 0.0F;
            redout_126019 = 0.0F;
            redout_126020 = 0.0F;
            for (int64_t i_126015 = 0; i_126015 < l_window_114109; i_126015++) {
                float x_126023 = ((float *) mem_121820)[i_126015];
                float x_126024 = ((float *) mem_121823)[i_126015];
                float defunc_1_f_res_126025 = x_126023 * x_126024;
                float defunc_1_f_res_126026 = x_126023 * defunc_1_f_res_126025;
                float defunc_1_f_res_126027 = x_126023 * defunc_1_f_res_126026;
                float defunc_1_f_res_126028 = x_126023 * defunc_1_f_res_126027;
                float defunc_1_op_res_126029 = x_126024 + redout_126016;
                float defunc_1_op_res_126030 = defunc_1_f_res_126025 +
                      redout_126017;
                float defunc_1_op_res_126031 = defunc_1_f_res_126026 +
                      redout_126018;
                float defunc_1_op_res_126032 = defunc_1_f_res_126027 +
                      redout_126019;
                float defunc_1_op_res_126033 = defunc_1_f_res_126028 +
                      redout_126020;
                
                ((float *) mem_121850)[i_126015] = defunc_1_f_res_126026;
                ((float *) mem_121853)[i_126015] = defunc_1_f_res_126025;
                
                float redout_tmp_126095 = defunc_1_op_res_126029;
                float redout_tmp_126096 = defunc_1_op_res_126030;
                float redout_tmp_126097 = defunc_1_op_res_126031;
                float redout_tmp_126098 = defunc_1_op_res_126032;
                float redout_tmp_126099 = defunc_1_op_res_126033;
                
                redout_126016 = redout_tmp_126095;
                redout_126017 = redout_tmp_126096;
                redout_126018 = redout_tmp_126097;
                redout_126019 = redout_tmp_126098;
                redout_126020 = redout_tmp_126099;
            }
            defunc_2_reduce_res_126008 = redout_126016;
            defunc_2_reduce_res_126009 = redout_126017;
            defunc_2_reduce_res_126010 = redout_126018;
            defunc_2_reduce_res_126011 = redout_126019;
            defunc_2_reduce_res_126012 = redout_126020;
            
            float x_126036 = defunc_2_reduce_res_126010 *
                  defunc_2_reduce_res_126012;
            float y_126037 = defunc_2_reduce_res_126011 *
                  defunc_2_reduce_res_126011;
            float a12_126038 = x_126036 - y_126037;
            float x_126039 = defunc_2_reduce_res_126010 *
                  defunc_2_reduce_res_126011;
            float y_126040 = defunc_2_reduce_res_126009 *
                  defunc_2_reduce_res_126012;
            float b12_126041 = x_126039 - y_126040;
            float x_126042 = defunc_2_reduce_res_126009 *
                  defunc_2_reduce_res_126011;
            float y_126043 = defunc_2_reduce_res_126010 *
                  defunc_2_reduce_res_126010;
            float c12_126044 = x_126042 - y_126043;
            float x_126045 = defunc_2_reduce_res_126008 *
                  defunc_2_reduce_res_126012;
            float b2_126046 = x_126045 - y_126043;
            float x_126047 = defunc_2_reduce_res_126009 *
                  defunc_2_reduce_res_126010;
            float y_126048 = defunc_2_reduce_res_126008 *
                  defunc_2_reduce_res_126011;
            float c2_126049 = x_126047 - y_126048;
            float x_126050 = defunc_2_reduce_res_126008 * a12_126038;
            float y_126051 = defunc_2_reduce_res_126009 * b12_126041;
            float x_126052 = x_126050 + y_126051;
            float y_126053 = defunc_2_reduce_res_126010 * c12_126044;
            float y_126054 = x_126052 + y_126053;
            float det_126055 = 1.0F / y_126054;
            float a12_126056 = a12_126038 * det_126055;
            float b12_126057 = b12_126041 * det_126055;
            float c12_126058 = c12_126044 * det_126055;
            float b2_126059 = b2_126046 * det_126055;
            float c2_126060 = c2_126049 * det_126055;
            float defunc_2_reduce_res_126061;
            float defunc_2_reduce_res_126062;
            float redout_126064;
            float redout_126065;
            
            redout_126064 = 0.0F;
            redout_126065 = 0.0F;
            for (int64_t i_126063 = 0; i_126063 < l_window_114109; i_126063++) {
                float x_126066 = ((float *) mem_121823)[i_126063];
                float x_126067 = ((float *) mem_121853)[i_126063];
                float x_126068 = ((float *) mem_121850)[i_126063];
                bool cond_126069 = sle64(n_114105, i_126063);
                float defunc_0_f_res_126070;
                
                if (cond_126069) {
                    defunc_0_f_res_126070 = 0.0F;
                } else {
                    int64_t i_126071 = add64(x_125975, i_126063);
                    float x_126072 = ((float *) mem_121432.mem)[gtid_118034 *
                                                                n_114105 +
                                                                i_126071];
                    
                    defunc_0_f_res_126070 = x_126072;
                }
                
                float x_126073 = a12_126056 * x_126066;
                float y_126074 = b12_126057 * x_126067;
                float x_126075 = x_126073 + y_126074;
                float y_126076 = c12_126058 * x_126068;
                float x_126077 = x_126075 + y_126076;
                float defunc_9_fit_fun_res_126078 = defunc_0_f_res_126070 *
                      x_126077;
                float x_126079 = b12_126057 * x_126066;
                float y_126080 = b2_126059 * x_126067;
                float x_126081 = x_126079 + y_126080;
                float y_126082 = c2_126060 * x_126068;
                float x_126083 = x_126081 + y_126082;
                float defunc_9_slope_fun_res_126084 = defunc_0_f_res_126070 *
                      x_126083;
                float defunc_1_op_res_126085 = defunc_9_fit_fun_res_126078 +
                      redout_126064;
                float defunc_1_op_res_126086 = defunc_9_slope_fun_res_126084 +
                      redout_126065;
                float redout_tmp_126102 = defunc_1_op_res_126085;
                float redout_tmp_126103 = defunc_1_op_res_126086;
                
                redout_126064 = redout_tmp_126102;
                redout_126065 = redout_tmp_126103;
            }
            defunc_2_reduce_res_126061 = redout_126064;
            defunc_2_reduce_res_126062 = redout_126065;
            ((float *) mem_121800)[i_125972] = defunc_2_reduce_res_126061;
            ((float *) mem_121803)[i_125972] = defunc_2_reduce_res_126062;
        }
        memmove(mem_121891.mem + gtid_118034 * l_n_m_114155 * (int64_t) 4,
                mem_121800 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
        memmove(mem_121895.mem + gtid_118034 * l_n_m_114155 * (int64_t) 4,
                mem_121803 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121800);
    free(mem_121803);
    free(mem_121820);
    free(mem_121823);
    free(mem_121850);
    free(mem_121853);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130149_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130149_end -
                 futhark_mc_segmap_parloop_130149_start;
        
        ctx->futhark_mc_segmap_parloop_130149_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130149_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130149_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130147(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118033 = tid;
    int num_tasks_125970 = info.nsubtasks;
    struct futhark_mc_task_130146 *futhark_mc_task_130146 =
                                  (struct futhark_mc_task_130146 *) args;
    struct futhark_context *ctx = futhark_mc_task_130146->ctx;
    uint64_t futhark_mc_segmap_task_130147_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130147_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130146->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130146->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130146->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130146->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130146->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130146->free_i_114181;
    int64_t bytes_121117 = futhark_mc_task_130146->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130146->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130146->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130146->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130146->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130146->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130146->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130146->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121720 = futhark_mc_task_130146->free_bytes_121720;
    struct memblock mem_121891 = {.desc ="mem_121891", .mem =
                                  futhark_mc_task_130146->free_mem_121891,
                                  .size =0, .references =NULL};
    struct memblock mem_121895 = {.desc ="mem_121895", .mem =
                                  futhark_mc_task_130146->free_mem_121895,
                                  .size =0, .references =NULL};
    int64_t iter_125971;
    struct futhark_mc_segmap_parloop_struct_130148
    futhark_mc_segmap_parloop_struct_130148;
    
    futhark_mc_segmap_parloop_struct_130148.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130148.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130148.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130148.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130148.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130148.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130148.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130148.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_130148.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130148.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130148.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130148.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130148.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130148.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130148.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130148.free_bytes_121720 = bytes_121720;
    futhark_mc_segmap_parloop_struct_130148.free_mem_121891 = mem_121891.mem;
    futhark_mc_segmap_parloop_struct_130148.free_mem_121895 = mem_121895.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130149_task;
    
    futhark_mc_segmap_parloop_130149_task.name =
        "futhark_mc_segmap_parloop_130149";
    futhark_mc_segmap_parloop_130149_task.fn = futhark_mc_segmap_parloop_130149;
    futhark_mc_segmap_parloop_130149_task.args =
        &futhark_mc_segmap_parloop_struct_130148;
    futhark_mc_segmap_parloop_130149_task.iterations = iterations;
    futhark_mc_segmap_parloop_130149_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130149_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130149_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130149_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130149_task);
    
    if (futhark_mc_segmap_parloop_130149_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130149_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130149_total_end -
                 futhark_mc_segmap_parloop_130149_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130149_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130149_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130149_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130147_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130147_end -
                 futhark_mc_segmap_task_130147_start;
        
        ctx->futhark_mc_segmap_task_130147_runs[tid]++;
        ctx->futhark_mc_segmap_task_130147_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130147_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130157 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_bytes_121117;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121720;
    char *free_mem_121891;
    char *free_mem_121895;
};
struct futhark_mc_task_130161 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_118036;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121720;
    char *free_mem_121794;
    char *free_mem_121797;
};
struct futhark_mc_segmap_parloop_struct_130163 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_118036;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121720;
    char *free_mem_121794;
    char *free_mem_121797;
};
static int futhark_mc_segmap_parloop_130164(void *args, int64_t start,
                                            int64_t end, int flat_tid_118037,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130163
    *futhark_mc_segmap_parloop_struct_130163 =
    (struct futhark_mc_segmap_parloop_struct_130163 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130163->ctx;
    uint64_t futhark_mc_segmap_parloop_130164_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130164_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130163->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130163->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130163->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130163->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130163->free_i_114181;
    int64_t gtid_118036 =
            futhark_mc_segmap_parloop_struct_130163->free_gtid_118036;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130163->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130163->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130163->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130163->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130163->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130163->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130163->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121720 =
            futhark_mc_segmap_parloop_struct_130163->free_bytes_121720;
    struct memblock mem_121794 = {.desc ="mem_121794", .mem =
                                  futhark_mc_segmap_parloop_struct_130163->free_mem_121794,
                                  .size =0, .references =NULL};
    struct memblock mem_121797 = {.desc ="mem_121797", .mem =
                                  futhark_mc_segmap_parloop_struct_130163->free_mem_121797,
                                  .size =0, .references =NULL};
    size_t mem_126218_cached_sizze_130165 = 0;
    char *mem_126218 = NULL;
    size_t mem_126220_cached_sizze_130166 = 0;
    char *mem_126220 = NULL;
    size_t mem_126246_cached_sizze_130167 = 0;
    char *mem_126246 = NULL;
    size_t mem_126248_cached_sizze_130168 = 0;
    char *mem_126248 = NULL;
    int64_t iterations = end - start;
    int64_t iter_126332 = start;
    
    if (mem_126218_cached_sizze_130165 < (size_t) bytes_121720) {
        mem_126218 = realloc(mem_126218, bytes_121720);
        mem_126218_cached_sizze_130165 = bytes_121720;
    }
    if (mem_126220_cached_sizze_130166 < (size_t) bytes_121720) {
        mem_126220 = realloc(mem_126220, bytes_121720);
        mem_126220_cached_sizze_130166 = bytes_121720;
    }
    if (mem_126246_cached_sizze_130167 < (size_t) bytes_121720) {
        mem_126246 = realloc(mem_126246, bytes_121720);
        mem_126246_cached_sizze_130167 = bytes_121720;
    }
    if (mem_126248_cached_sizze_130168 < (size_t) bytes_121720) {
        mem_126248 = realloc(mem_126248, bytes_121720);
        mem_126248_cached_sizze_130168 = bytes_121720;
    }
    for (; iter_126332 < end; iter_126332++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126400 = l_n_m_114155;
        int64_t gtid_118038 = iter_126332;
        int64_t remnant_126401 = iter_126332 - gtid_118038;
        int64_t x_126213 = ((int64_t *) mem_121171.mem)[gtid_118036 *
                                                        l_n_m_114155 +
                                                        gtid_118038];
        float x_126214 = ((float *) mem_121175.mem)[gtid_118036 * l_n_m_114155 +
                                                    gtid_118038];
        int64_t min_arg_126215 = mul64(t_jump_114112, gtid_118038);
        int64_t min_res_126216 = smin64(i_114181, min_arg_126215);
        float defunc_0_f_res_126217 = sitofp_i64_f32(min_res_126216);
        
        for (int64_t i_126333 = 0; i_126333 < l_window_114109; i_126333++) {
            bool cond_126336 = sle64(n_114105, i_126333);
            float defunc_0_f_res_126337;
            
            if (cond_126336) {
                defunc_0_f_res_126337 = 0.0F;
            } else {
                int64_t i_126338 = add64(x_126213, i_126333);
                float index_primexp_126339 = sitofp_i64_f32(i_126338);
                float defunc_0_f_res_f_res_126340 = 1.0F + index_primexp_126339;
                
                defunc_0_f_res_126337 = defunc_0_f_res_f_res_126340;
            }
            
            float defunc_0_f_res_126341;
            
            if (cond_126336) {
                defunc_0_f_res_126341 = 0.0F;
            } else {
                int64_t i_126342 = add64(x_126213, i_126333);
                float x_126343 =
                      ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                       (gtid_118036 *
                                                        ctx_param_ext_121265 +
                                                        i_126342 *
                                                        ctx_param_ext_121267)];
                
                defunc_0_f_res_126341 = x_126343;
            }
            
            float x_j_126344 = defunc_0_f_res_126337 - defunc_0_f_res_126217;
            float abs_res_126345 = (float) fabs(x_j_126344);
            float tmp1_126346 = abs_res_126345 / x_126214;
            float x_126347 = tmp1_126346 * tmp1_126346;
            float y_126348 = tmp1_126346 * x_126347;
            float tmp2_126349 = 1.0F - y_126348;
            float x_126350 = tmp2_126349 * tmp2_126349;
            float tmp3_126351 = tmp2_126349 * x_126350;
            float tmp4_126352 = defunc_0_f_res_126341 * tmp3_126351;
            
            ((float *) mem_126218)[i_126333] = x_j_126344;
            ((float *) mem_126220)[i_126333] = tmp4_126352;
        }
        
        float defunc_2_reduce_res_126250;
        float defunc_2_reduce_res_126251;
        float defunc_2_reduce_res_126252;
        float defunc_2_reduce_res_126253;
        float defunc_2_reduce_res_126254;
        float redout_126356;
        float redout_126357;
        float redout_126358;
        float redout_126359;
        float redout_126360;
        
        redout_126356 = 0.0F;
        redout_126357 = 0.0F;
        redout_126358 = 0.0F;
        redout_126359 = 0.0F;
        redout_126360 = 0.0F;
        for (int64_t i_126355 = 0; i_126355 < l_window_114109; i_126355++) {
            float x_126363 = ((float *) mem_126218)[i_126355];
            float x_126364 = ((float *) mem_126220)[i_126355];
            float defunc_1_f_res_126365 = x_126363 * x_126364;
            float defunc_1_f_res_126366 = x_126363 * defunc_1_f_res_126365;
            float defunc_1_f_res_126367 = x_126363 * defunc_1_f_res_126366;
            float defunc_1_f_res_126368 = x_126363 * defunc_1_f_res_126367;
            float defunc_1_op_res_126369 = x_126364 + redout_126356;
            float defunc_1_op_res_126370 = defunc_1_f_res_126365 +
                  redout_126357;
            float defunc_1_op_res_126371 = defunc_1_f_res_126366 +
                  redout_126358;
            float defunc_1_op_res_126372 = defunc_1_f_res_126367 +
                  redout_126359;
            float defunc_1_op_res_126373 = defunc_1_f_res_126368 +
                  redout_126360;
            
            ((float *) mem_126246)[i_126355] = defunc_1_f_res_126366;
            ((float *) mem_126248)[i_126355] = defunc_1_f_res_126365;
            
            float redout_tmp_126404 = defunc_1_op_res_126369;
            float redout_tmp_126405 = defunc_1_op_res_126370;
            float redout_tmp_126406 = defunc_1_op_res_126371;
            float redout_tmp_126407 = defunc_1_op_res_126372;
            float redout_tmp_126408 = defunc_1_op_res_126373;
            
            redout_126356 = redout_tmp_126404;
            redout_126357 = redout_tmp_126405;
            redout_126358 = redout_tmp_126406;
            redout_126359 = redout_tmp_126407;
            redout_126360 = redout_tmp_126408;
        }
        defunc_2_reduce_res_126250 = redout_126356;
        defunc_2_reduce_res_126251 = redout_126357;
        defunc_2_reduce_res_126252 = redout_126358;
        defunc_2_reduce_res_126253 = redout_126359;
        defunc_2_reduce_res_126254 = redout_126360;
        
        float x_126278 = defunc_2_reduce_res_126252 *
              defunc_2_reduce_res_126254;
        float y_126279 = defunc_2_reduce_res_126253 *
              defunc_2_reduce_res_126253;
        float a12_126280 = x_126278 - y_126279;
        float x_126281 = defunc_2_reduce_res_126252 *
              defunc_2_reduce_res_126253;
        float y_126282 = defunc_2_reduce_res_126251 *
              defunc_2_reduce_res_126254;
        float b12_126283 = x_126281 - y_126282;
        float x_126284 = defunc_2_reduce_res_126251 *
              defunc_2_reduce_res_126253;
        float y_126285 = defunc_2_reduce_res_126252 *
              defunc_2_reduce_res_126252;
        float c12_126286 = x_126284 - y_126285;
        float x_126287 = defunc_2_reduce_res_126250 *
              defunc_2_reduce_res_126254;
        float b2_126288 = x_126287 - y_126285;
        float x_126289 = defunc_2_reduce_res_126251 *
              defunc_2_reduce_res_126252;
        float y_126290 = defunc_2_reduce_res_126250 *
              defunc_2_reduce_res_126253;
        float c2_126291 = x_126289 - y_126290;
        float x_126292 = defunc_2_reduce_res_126250 * a12_126280;
        float y_126293 = defunc_2_reduce_res_126251 * b12_126283;
        float x_126294 = x_126292 + y_126293;
        float y_126295 = defunc_2_reduce_res_126252 * c12_126286;
        float y_126296 = x_126294 + y_126295;
        float det_126297 = 1.0F / y_126296;
        float a12_126298 = a12_126280 * det_126297;
        float b12_126299 = b12_126283 * det_126297;
        float c12_126300 = c12_126286 * det_126297;
        float b2_126301 = b2_126288 * det_126297;
        float c2_126302 = c2_126291 * det_126297;
        float defunc_2_reduce_res_126303;
        float defunc_2_reduce_res_126304;
        float redout_126377;
        float redout_126378;
        
        redout_126377 = 0.0F;
        redout_126378 = 0.0F;
        for (int64_t i_126376 = 0; i_126376 < l_window_114109; i_126376++) {
            float x_126379 = ((float *) mem_126220)[i_126376];
            float x_126380 = ((float *) mem_126248)[i_126376];
            float x_126381 = ((float *) mem_126246)[i_126376];
            bool cond_126382 = sle64(n_114105, i_126376);
            float defunc_0_f_res_126383;
            
            if (cond_126382) {
                defunc_0_f_res_126383 = 0.0F;
            } else {
                int64_t i_126384 = add64(x_126213, i_126376);
                float x_126385 = ((float *) mem_121432.mem)[gtid_118036 *
                                                            n_114105 +
                                                            i_126384];
                
                defunc_0_f_res_126383 = x_126385;
            }
            
            float x_126386 = a12_126298 * x_126379;
            float y_126387 = b12_126299 * x_126380;
            float x_126388 = x_126386 + y_126387;
            float y_126389 = c12_126300 * x_126381;
            float x_126390 = x_126388 + y_126389;
            float defunc_9_fit_fun_res_126391 = defunc_0_f_res_126383 *
                  x_126390;
            float x_126392 = b12_126299 * x_126379;
            float y_126393 = b2_126301 * x_126380;
            float x_126394 = x_126392 + y_126393;
            float y_126395 = c2_126302 * x_126381;
            float x_126396 = x_126394 + y_126395;
            float defunc_9_slope_fun_res_126397 = defunc_0_f_res_126383 *
                  x_126396;
            float defunc_1_op_res_126398 = defunc_9_fit_fun_res_126391 +
                  redout_126377;
            float defunc_1_op_res_126399 = defunc_9_slope_fun_res_126397 +
                  redout_126378;
            float redout_tmp_126411 = defunc_1_op_res_126398;
            float redout_tmp_126412 = defunc_1_op_res_126399;
            
            redout_126377 = redout_tmp_126411;
            redout_126378 = redout_tmp_126412;
        }
        defunc_2_reduce_res_126303 = redout_126377;
        defunc_2_reduce_res_126304 = redout_126378;
        ((float *) mem_121794.mem)[gtid_118038] = defunc_2_reduce_res_126303;
        ((float *) mem_121797.mem)[gtid_118038] = defunc_2_reduce_res_126304;
    }
    
  cleanup:
    { }
    free(mem_126218);
    free(mem_126220);
    free(mem_126246);
    free(mem_126248);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130164_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130164_end -
                 futhark_mc_segmap_parloop_130164_start;
        
        ctx->futhark_mc_segmap_parloop_130164_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130164_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130164_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130162(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118037 = tid;
    int num_tasks_126331 = info.nsubtasks;
    struct futhark_mc_task_130161 *futhark_mc_task_130161 =
                                  (struct futhark_mc_task_130161 *) args;
    struct futhark_context *ctx = futhark_mc_task_130161->ctx;
    uint64_t futhark_mc_segmap_task_130162_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130162_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130161->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130161->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130161->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130161->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130161->free_i_114181;
    int64_t gtid_118036 = futhark_mc_task_130161->free_gtid_118036;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130161->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130161->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130161->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130161->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130161->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130161->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130161->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121720 = futhark_mc_task_130161->free_bytes_121720;
    struct memblock mem_121794 = {.desc ="mem_121794", .mem =
                                  futhark_mc_task_130161->free_mem_121794,
                                  .size =0, .references =NULL};
    struct memblock mem_121797 = {.desc ="mem_121797", .mem =
                                  futhark_mc_task_130161->free_mem_121797,
                                  .size =0, .references =NULL};
    int64_t iter_126332;
    struct futhark_mc_segmap_parloop_struct_130163
    futhark_mc_segmap_parloop_struct_130163;
    
    futhark_mc_segmap_parloop_struct_130163.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130163.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130163.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130163.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130163.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130163.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130163.free_gtid_118036 = gtid_118036;
    futhark_mc_segmap_parloop_struct_130163.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130163.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130163.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130163.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130163.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130163.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130163.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130163.free_bytes_121720 = bytes_121720;
    futhark_mc_segmap_parloop_struct_130163.free_mem_121794 = mem_121794.mem;
    futhark_mc_segmap_parloop_struct_130163.free_mem_121797 = mem_121797.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130164_task;
    
    futhark_mc_segmap_parloop_130164_task.name =
        "futhark_mc_segmap_parloop_130164";
    futhark_mc_segmap_parloop_130164_task.fn = futhark_mc_segmap_parloop_130164;
    futhark_mc_segmap_parloop_130164_task.args =
        &futhark_mc_segmap_parloop_struct_130163;
    futhark_mc_segmap_parloop_130164_task.iterations = iterations;
    futhark_mc_segmap_parloop_130164_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130164_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130164_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130164_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130164_task);
    
    if (futhark_mc_segmap_parloop_130164_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130164_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130164_total_end -
                 futhark_mc_segmap_parloop_130164_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130164_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130164_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130164_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130162_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130162_end -
                 futhark_mc_segmap_task_130162_start;
        
        ctx->futhark_mc_segmap_task_130162_runs[tid]++;
        ctx->futhark_mc_segmap_task_130162_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130162_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130170 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_t_jump_114112;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_gtid_118036;
    char *free_mem_121171;
    char *free_mem_121175;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121432;
    int64_t free_bytes_121720;
    char *free_mem_121794;
    char *free_mem_121797;
};
struct futhark_mc_task_130176 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_gtid_118036;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    int64_t free_x_126105;
    float free_x_126106;
    float free_defunc_0_f_res_126109;
    char *free_mem_126110;
    char *free_mem_126111;
};
struct futhark_mc_segmap_parloop_struct_130178 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_window_114109;
    int64_t free_gtid_118036;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    int64_t free_x_126105;
    float free_x_126106;
    float free_defunc_0_f_res_126109;
    char *free_mem_126110;
    char *free_mem_126111;
};
static int futhark_mc_segmap_parloop_130179(void *args, int64_t start,
                                            int64_t end, int flat_tid_118041,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130178
    *futhark_mc_segmap_parloop_struct_130178 =
    (struct futhark_mc_segmap_parloop_struct_130178 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130178->ctx;
    uint64_t futhark_mc_segmap_parloop_130179_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130179_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130178->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130178->free_l_window_114109;
    int64_t gtid_118036 =
            futhark_mc_segmap_parloop_struct_130178->free_gtid_118036;
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130178->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130178->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130178->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130178->free_mem_param_121269,
                                        .size =0, .references =NULL};
    int64_t x_126105 = futhark_mc_segmap_parloop_struct_130178->free_x_126105;
    float x_126106 = futhark_mc_segmap_parloop_struct_130178->free_x_126106;
    float defunc_0_f_res_126109 =
          futhark_mc_segmap_parloop_struct_130178->free_defunc_0_f_res_126109;
    struct memblock mem_126110 = {.desc ="mem_126110", .mem =
                                  futhark_mc_segmap_parloop_struct_130178->free_mem_126110,
                                  .size =0, .references =NULL};
    struct memblock mem_126111 = {.desc ="mem_126111", .mem =
                                  futhark_mc_segmap_parloop_struct_130178->free_mem_126111,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_126480 = start;
    
    for (; iter_126480 < end; iter_126480++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126486 = l_window_114109;
        int64_t gtid_118042 = iter_126480;
        int64_t remnant_126487 = iter_126480 - gtid_118042;
        bool cond_126414 = sle64(n_114105, gtid_118042);
        float defunc_0_f_res_126415;
        
        if (cond_126414) {
            defunc_0_f_res_126415 = 0.0F;
        } else {
            int64_t i_126481 = add64(gtid_118042, x_126105);
            float index_primexp_126482 = sitofp_i64_f32(i_126481);
            float defunc_0_f_res_f_res_126483 = 1.0F + index_primexp_126482;
            
            defunc_0_f_res_126415 = defunc_0_f_res_f_res_126483;
        }
        
        float defunc_0_f_res_126419;
        
        if (cond_126414) {
            defunc_0_f_res_126419 = 0.0F;
        } else {
            int64_t i_126484 = add64(gtid_118042, x_126105);
            float x_126485 =
                  ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                   (gtid_118036 *
                                                    ctx_param_ext_121265 +
                                                    i_126484 *
                                                    ctx_param_ext_121267)];
            
            defunc_0_f_res_126419 = x_126485;
        }
        
        float x_j_126422 = defunc_0_f_res_126415 - defunc_0_f_res_126109;
        float abs_res_126423 = (float) fabs(x_j_126422);
        float tmp1_126424 = abs_res_126423 / x_126106;
        float x_126425 = tmp1_126424 * tmp1_126424;
        float y_126426 = tmp1_126424 * x_126425;
        float tmp2_126427 = 1.0F - y_126426;
        float x_126428 = tmp2_126427 * tmp2_126427;
        float tmp3_126429 = tmp2_126427 * x_126428;
        float tmp4_126430 = defunc_0_f_res_126419 * tmp3_126429;
        
        ((float *) mem_126110.mem)[gtid_118042] = x_j_126422;
        ((float *) mem_126111.mem)[gtid_118042] = tmp4_126430;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130179_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130179_end -
                 futhark_mc_segmap_parloop_130179_start;
        
        ctx->futhark_mc_segmap_parloop_130179_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130179_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130179_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130177(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118041 = tid;
    int num_tasks_126479 = info.nsubtasks;
    struct futhark_mc_task_130176 *futhark_mc_task_130176 =
                                  (struct futhark_mc_task_130176 *) args;
    struct futhark_context *ctx = futhark_mc_task_130176->ctx;
    uint64_t futhark_mc_segmap_task_130177_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130177_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130176->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130176->free_l_window_114109;
    int64_t gtid_118036 = futhark_mc_task_130176->free_gtid_118036;
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130176->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130176->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130176->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130176->free_mem_param_121269,
                                        .size =0, .references =NULL};
    int64_t x_126105 = futhark_mc_task_130176->free_x_126105;
    float x_126106 = futhark_mc_task_130176->free_x_126106;
    float defunc_0_f_res_126109 =
          futhark_mc_task_130176->free_defunc_0_f_res_126109;
    struct memblock mem_126110 = {.desc ="mem_126110", .mem =
                                  futhark_mc_task_130176->free_mem_126110,
                                  .size =0, .references =NULL};
    struct memblock mem_126111 = {.desc ="mem_126111", .mem =
                                  futhark_mc_task_130176->free_mem_126111,
                                  .size =0, .references =NULL};
    int64_t iter_126480;
    struct futhark_mc_segmap_parloop_struct_130178
    futhark_mc_segmap_parloop_struct_130178;
    
    futhark_mc_segmap_parloop_struct_130178.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130178.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130178.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130178.free_gtid_118036 = gtid_118036;
    futhark_mc_segmap_parloop_struct_130178.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130178.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130178.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130178.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130178.free_x_126105 = x_126105;
    futhark_mc_segmap_parloop_struct_130178.free_x_126106 = x_126106;
    futhark_mc_segmap_parloop_struct_130178.free_defunc_0_f_res_126109 =
        defunc_0_f_res_126109;
    futhark_mc_segmap_parloop_struct_130178.free_mem_126110 = mem_126110.mem;
    futhark_mc_segmap_parloop_struct_130178.free_mem_126111 = mem_126111.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130179_task;
    
    futhark_mc_segmap_parloop_130179_task.name =
        "futhark_mc_segmap_parloop_130179";
    futhark_mc_segmap_parloop_130179_task.fn = futhark_mc_segmap_parloop_130179;
    futhark_mc_segmap_parloop_130179_task.args =
        &futhark_mc_segmap_parloop_struct_130178;
    futhark_mc_segmap_parloop_130179_task.iterations = iterations;
    futhark_mc_segmap_parloop_130179_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130179_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130179_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130179_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130179_task);
    
    if (futhark_mc_segmap_parloop_130179_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130179_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130179_total_end -
                 futhark_mc_segmap_parloop_130179_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130179_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130179_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130179_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130177_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130177_end -
                 futhark_mc_segmap_task_130177_start;
        
        ctx->futhark_mc_segmap_task_130177_runs[tid]++;
        ctx->futhark_mc_segmap_task_130177_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130177_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130180 {
    struct futhark_context *ctx;
    char *free_mem_126110;
    char *free_mem_126111;
    float *retval_defunc_2_reduce_res_126133;
    float *retval_defunc_2_reduce_res_126134;
    float *retval_defunc_2_reduce_res_126135;
    float *retval_defunc_2_reduce_res_126136;
    float *retval_defunc_2_reduce_res_126137;
    char *retval_mem_126131;
    char *retval_mem_126132;
};
struct futhark_mc_segred_stage_1_parloop_struct_130187 {
    struct futhark_context *ctx;
    char *free_mem_126110;
    char *free_mem_126111;
    char *free_mem_126131;
    char *free_mem_126132;
    char *free_reduce_stage_1_tid_res_arr_mem_126489;
    char *free_reduce_stage_1_tid_res_arr_mem_126491;
    char *free_reduce_stage_1_tid_res_arr_mem_126493;
    char *free_reduce_stage_1_tid_res_arr_mem_126495;
    char *free_reduce_stage_1_tid_res_arr_mem_126497;
};
static int futhark_mc_segred_stage_1_parloop_130188(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_118043,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130187
    *futhark_mc_segred_stage_1_parloop_struct_130187 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130187 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130187->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130188_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130188_start = get_wall_time();
    
    struct memblock mem_126110 = {.desc ="mem_126110", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130187->free_mem_126110,
                                  .size =0, .references =NULL};
    struct memblock mem_126111 = {.desc ="mem_126111", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130187->free_mem_126111,
                                  .size =0, .references =NULL};
    struct memblock mem_126131 = {.desc ="mem_126131", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130187->free_mem_126131,
                                  .size =0, .references =NULL};
    struct memblock mem_126132 = {.desc ="mem_126132", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130187->free_mem_126132,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_126489 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_126489",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130187->free_reduce_stage_1_tid_res_arr_mem_126489,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_126491 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_126491",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130187->free_reduce_stage_1_tid_res_arr_mem_126491,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_126493 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_126493",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130187->free_reduce_stage_1_tid_res_arr_mem_126493,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_126495 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_126495",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130187->free_reduce_stage_1_tid_res_arr_mem_126495,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_126497 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_126497",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130187->free_reduce_stage_1_tid_res_arr_mem_126497,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_126499 = start;
    float x_126431;
    float x_126432;
    float x_126434;
    float x_126435;
    float x_126437;
    float x_126438;
    float x_126440;
    float x_126441;
    float x_126443;
    float x_126444;
    float local_acc_126500 = 0.0F;
    float local_acc_126501 = 0.0F;
    float local_acc_126502 = 0.0F;
    float local_acc_126503 = 0.0F;
    float local_acc_126504 = 0.0F;
    
    for (; iter_126499 < end; iter_126499++) {
        int64_t gtid_118044 = iter_126499;
        float x_126446 = ((float *) mem_126110.mem)[gtid_118044];
        float x_126447 = ((float *) mem_126111.mem)[gtid_118044];
        float defunc_1_f_res_126448 = x_126446 * x_126447;
        float defunc_1_f_res_126449 = x_126446 * defunc_1_f_res_126448;
        float defunc_1_f_res_126450 = x_126446 * defunc_1_f_res_126449;
        float defunc_1_f_res_126451 = x_126446 * defunc_1_f_res_126450;
        
        // save map-out results
        {
            ((float *) mem_126131.mem)[gtid_118044] = defunc_1_f_res_126449;
            ((float *) mem_126132.mem)[gtid_118044] = defunc_1_f_res_126448;
        }
        // Load accum params
        {
            x_126431 = local_acc_126500;
        }
        // Load next params
        {
            x_126432 = x_126447;
        }
        // Red body
        {
            float defunc_1_op_res_126433 = x_126431 + x_126432;
            
            local_acc_126500 = defunc_1_op_res_126433;
        }
        // Load accum params
        {
            x_126434 = local_acc_126501;
        }
        // Load next params
        {
            x_126435 = defunc_1_f_res_126448;
        }
        // Red body
        {
            float defunc_1_op_res_126436 = x_126434 + x_126435;
            
            local_acc_126501 = defunc_1_op_res_126436;
        }
        // Load accum params
        {
            x_126437 = local_acc_126502;
        }
        // Load next params
        {
            x_126438 = defunc_1_f_res_126449;
        }
        // Red body
        {
            float defunc_1_op_res_126439 = x_126437 + x_126438;
            
            local_acc_126502 = defunc_1_op_res_126439;
        }
        // Load accum params
        {
            x_126440 = local_acc_126503;
        }
        // Load next params
        {
            x_126441 = defunc_1_f_res_126450;
        }
        // Red body
        {
            float defunc_1_op_res_126442 = x_126440 + x_126441;
            
            local_acc_126503 = defunc_1_op_res_126442;
        }
        // Load accum params
        {
            x_126443 = local_acc_126504;
        }
        // Load next params
        {
            x_126444 = defunc_1_f_res_126451;
        }
        // Red body
        {
            float defunc_1_op_res_126445 = x_126443 + x_126444;
            
            local_acc_126504 = defunc_1_op_res_126445;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_126489.mem)[flat_tid_118043] =
        local_acc_126500;
    ((float *) reduce_stage_1_tid_res_arr_mem_126491.mem)[flat_tid_118043] =
        local_acc_126501;
    ((float *) reduce_stage_1_tid_res_arr_mem_126493.mem)[flat_tid_118043] =
        local_acc_126502;
    ((float *) reduce_stage_1_tid_res_arr_mem_126495.mem)[flat_tid_118043] =
        local_acc_126503;
    ((float *) reduce_stage_1_tid_res_arr_mem_126497.mem)[flat_tid_118043] =
        local_acc_126504;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130188_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130188_end -
                 futhark_mc_segred_stage_1_parloop_130188_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130188_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130188_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130188_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130181(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118043 = tid;
    int num_tasks_126488 = info.nsubtasks;
    struct futhark_mc_task_130180 *futhark_mc_task_130180 =
                                  (struct futhark_mc_task_130180 *) args;
    struct futhark_context *ctx = futhark_mc_task_130180->ctx;
    uint64_t futhark_mc_segred_task_130181_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130181_start = get_wall_time();
    
    struct memblock mem_126110 = {.desc ="mem_126110", .mem =
                                  futhark_mc_task_130180->free_mem_126110,
                                  .size =0, .references =NULL};
    struct memblock mem_126111 = {.desc ="mem_126111", .mem =
                                  futhark_mc_task_130180->free_mem_126111,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_126133 =
          *futhark_mc_task_130180->retval_defunc_2_reduce_res_126133;
    float defunc_2_reduce_res_126134 =
          *futhark_mc_task_130180->retval_defunc_2_reduce_res_126134;
    float defunc_2_reduce_res_126135 =
          *futhark_mc_task_130180->retval_defunc_2_reduce_res_126135;
    float defunc_2_reduce_res_126136 =
          *futhark_mc_task_130180->retval_defunc_2_reduce_res_126136;
    float defunc_2_reduce_res_126137 =
          *futhark_mc_task_130180->retval_defunc_2_reduce_res_126137;
    struct memblock mem_126131 = {.desc ="mem_126131", .mem =
                                  futhark_mc_task_130180->retval_mem_126131,
                                  .size =0, .references =NULL};
    struct memblock mem_126132 = {.desc ="mem_126132", .mem =
                                  futhark_mc_task_130180->retval_mem_126132,
                                  .size =0, .references =NULL};
    size_t reduce_stage_1_tid_res_arr_mem_126489_cached_sizze_130182 = 0;
    char *reduce_stage_1_tid_res_arr_mem_126489 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_126491_cached_sizze_130183 = 0;
    char *reduce_stage_1_tid_res_arr_mem_126491 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_126493_cached_sizze_130184 = 0;
    char *reduce_stage_1_tid_res_arr_mem_126493 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_126495_cached_sizze_130185 = 0;
    char *reduce_stage_1_tid_res_arr_mem_126495 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_126497_cached_sizze_130186 = 0;
    char *reduce_stage_1_tid_res_arr_mem_126497 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_126489_cached_sizze_130182 <
        (size_t) ((int64_t) 4 * num_tasks_126488)) {
        reduce_stage_1_tid_res_arr_mem_126489 =
            realloc(reduce_stage_1_tid_res_arr_mem_126489, (int64_t) 4 *
                    num_tasks_126488);
        reduce_stage_1_tid_res_arr_mem_126489_cached_sizze_130182 =
            (int64_t) 4 * num_tasks_126488;
    }
    if (reduce_stage_1_tid_res_arr_mem_126491_cached_sizze_130183 <
        (size_t) ((int64_t) 4 * num_tasks_126488)) {
        reduce_stage_1_tid_res_arr_mem_126491 =
            realloc(reduce_stage_1_tid_res_arr_mem_126491, (int64_t) 4 *
                    num_tasks_126488);
        reduce_stage_1_tid_res_arr_mem_126491_cached_sizze_130183 =
            (int64_t) 4 * num_tasks_126488;
    }
    if (reduce_stage_1_tid_res_arr_mem_126493_cached_sizze_130184 <
        (size_t) ((int64_t) 4 * num_tasks_126488)) {
        reduce_stage_1_tid_res_arr_mem_126493 =
            realloc(reduce_stage_1_tid_res_arr_mem_126493, (int64_t) 4 *
                    num_tasks_126488);
        reduce_stage_1_tid_res_arr_mem_126493_cached_sizze_130184 =
            (int64_t) 4 * num_tasks_126488;
    }
    if (reduce_stage_1_tid_res_arr_mem_126495_cached_sizze_130185 <
        (size_t) ((int64_t) 4 * num_tasks_126488)) {
        reduce_stage_1_tid_res_arr_mem_126495 =
            realloc(reduce_stage_1_tid_res_arr_mem_126495, (int64_t) 4 *
                    num_tasks_126488);
        reduce_stage_1_tid_res_arr_mem_126495_cached_sizze_130185 =
            (int64_t) 4 * num_tasks_126488;
    }
    if (reduce_stage_1_tid_res_arr_mem_126497_cached_sizze_130186 <
        (size_t) ((int64_t) 4 * num_tasks_126488)) {
        reduce_stage_1_tid_res_arr_mem_126497 =
            realloc(reduce_stage_1_tid_res_arr_mem_126497, (int64_t) 4 *
                    num_tasks_126488);
        reduce_stage_1_tid_res_arr_mem_126497_cached_sizze_130186 =
            (int64_t) 4 * num_tasks_126488;
    }
    
    int64_t iter_126499;
    struct futhark_mc_segred_stage_1_parloop_struct_130187
    futhark_mc_segred_stage_1_parloop_struct_130187;
    
    futhark_mc_segred_stage_1_parloop_struct_130187.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130187.free_mem_126110 =
        mem_126110.mem;
    futhark_mc_segred_stage_1_parloop_struct_130187.free_mem_126111 =
        mem_126111.mem;
    futhark_mc_segred_stage_1_parloop_struct_130187.free_mem_126131 =
        mem_126131.mem;
    futhark_mc_segred_stage_1_parloop_struct_130187.free_mem_126132 =
        mem_126132.mem;
    futhark_mc_segred_stage_1_parloop_struct_130187.free_reduce_stage_1_tid_res_arr_mem_126489 =
        reduce_stage_1_tid_res_arr_mem_126489;
    futhark_mc_segred_stage_1_parloop_struct_130187.free_reduce_stage_1_tid_res_arr_mem_126491 =
        reduce_stage_1_tid_res_arr_mem_126491;
    futhark_mc_segred_stage_1_parloop_struct_130187.free_reduce_stage_1_tid_res_arr_mem_126493 =
        reduce_stage_1_tid_res_arr_mem_126493;
    futhark_mc_segred_stage_1_parloop_struct_130187.free_reduce_stage_1_tid_res_arr_mem_126495 =
        reduce_stage_1_tid_res_arr_mem_126495;
    futhark_mc_segred_stage_1_parloop_struct_130187.free_reduce_stage_1_tid_res_arr_mem_126497 =
        reduce_stage_1_tid_res_arr_mem_126497;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130188_task;
    
    futhark_mc_segred_stage_1_parloop_130188_task.name =
        "futhark_mc_segred_stage_1_parloop_130188";
    futhark_mc_segred_stage_1_parloop_130188_task.fn =
        futhark_mc_segred_stage_1_parloop_130188;
    futhark_mc_segred_stage_1_parloop_130188_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130187;
    futhark_mc_segred_stage_1_parloop_130188_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130188_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130188_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130188_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130188_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130188_task);
    
    if (futhark_mc_segred_stage_1_parloop_130188_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130188_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130188_total_end -
                 futhark_mc_segred_stage_1_parloop_130188_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130188_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130188_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130188_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_126133 = 0.0F;
        defunc_2_reduce_res_126134 = 0.0F;
        defunc_2_reduce_res_126135 = 0.0F;
        defunc_2_reduce_res_126136 = 0.0F;
        defunc_2_reduce_res_126137 = 0.0F;
    }
    
    float x_126505;
    float x_126506;
    float x_126508;
    float x_126509;
    float x_126511;
    float x_126512;
    float x_126514;
    float x_126515;
    float x_126517;
    float x_126518;
    
    for (int32_t i_126520 = 0; i_126520 < num_tasks_126488; i_126520++) {
        flat_tid_118043 = i_126520;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_126505 = defunc_2_reduce_res_126133;
            }
            // load next params
            {
                x_126506 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_126489)[flat_tid_118043];
            }
            // red body
            {
                float defunc_1_op_res_126507 = x_126505 + x_126506;
                
                defunc_2_reduce_res_126133 = defunc_1_op_res_126507;
            }
            // load acc params
            {
                x_126508 = defunc_2_reduce_res_126134;
            }
            // load next params
            {
                x_126509 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_126491)[flat_tid_118043];
            }
            // red body
            {
                float defunc_1_op_res_126510 = x_126508 + x_126509;
                
                defunc_2_reduce_res_126134 = defunc_1_op_res_126510;
            }
            // load acc params
            {
                x_126511 = defunc_2_reduce_res_126135;
            }
            // load next params
            {
                x_126512 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_126493)[flat_tid_118043];
            }
            // red body
            {
                float defunc_1_op_res_126513 = x_126511 + x_126512;
                
                defunc_2_reduce_res_126135 = defunc_1_op_res_126513;
            }
            // load acc params
            {
                x_126514 = defunc_2_reduce_res_126136;
            }
            // load next params
            {
                x_126515 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_126495)[flat_tid_118043];
            }
            // red body
            {
                float defunc_1_op_res_126516 = x_126514 + x_126515;
                
                defunc_2_reduce_res_126136 = defunc_1_op_res_126516;
            }
            // load acc params
            {
                x_126517 = defunc_2_reduce_res_126137;
            }
            // load next params
            {
                x_126518 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_126497)[flat_tid_118043];
            }
            // red body
            {
                float defunc_1_op_res_126519 = x_126517 + x_126518;
                
                defunc_2_reduce_res_126137 = defunc_1_op_res_126519;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_126489);
    free(reduce_stage_1_tid_res_arr_mem_126491);
    free(reduce_stage_1_tid_res_arr_mem_126493);
    free(reduce_stage_1_tid_res_arr_mem_126495);
    free(reduce_stage_1_tid_res_arr_mem_126497);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130181_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130181_end -
                 futhark_mc_segred_task_130181_start;
        
        ctx->futhark_mc_segred_task_130181_runs[tid]++;
        ctx->futhark_mc_segred_task_130181_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130181_iter[tid] += iterations;
    }
    *futhark_mc_task_130180->retval_defunc_2_reduce_res_126133 =
        defunc_2_reduce_res_126133;
    *futhark_mc_task_130180->retval_defunc_2_reduce_res_126134 =
        defunc_2_reduce_res_126134;
    *futhark_mc_task_130180->retval_defunc_2_reduce_res_126135 =
        defunc_2_reduce_res_126135;
    *futhark_mc_task_130180->retval_defunc_2_reduce_res_126136 =
        defunc_2_reduce_res_126136;
    *futhark_mc_task_130180->retval_defunc_2_reduce_res_126137 =
        defunc_2_reduce_res_126137;
    futhark_mc_task_130180->retval_mem_126131 = mem_126131.mem;
    futhark_mc_task_130180->retval_mem_126132 = mem_126132.mem;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130189 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118036;
    char *free_mem_121432;
    int64_t free_x_126105;
    char *free_mem_126111;
    char *free_mem_126131;
    char *free_mem_126132;
    float free_a12_126181;
    float free_b12_126182;
    float free_c12_126183;
    float free_b2_126184;
    float free_c2_126185;
    float *retval_defunc_2_reduce_res_126186;
    float *retval_defunc_2_reduce_res_126187;
};
struct futhark_mc_segred_stage_1_parloop_struct_130193 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118036;
    char *free_mem_121432;
    int64_t free_x_126105;
    char *free_mem_126111;
    char *free_mem_126131;
    char *free_mem_126132;
    float free_a12_126181;
    float free_b12_126182;
    float free_c12_126183;
    float free_b2_126184;
    float free_c2_126185;
    char *free_reduce_stage_1_tid_res_arr_mem_126522;
    char *free_reduce_stage_1_tid_res_arr_mem_126524;
};
static int futhark_mc_segred_stage_1_parloop_130194(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_118045,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130193
    *futhark_mc_segred_stage_1_parloop_struct_130193 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130193 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130193->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130194_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130194_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130193->free_n_114105;
    int64_t gtid_118036 =
            futhark_mc_segred_stage_1_parloop_struct_130193->free_gtid_118036;
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130193->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t x_126105 =
            futhark_mc_segred_stage_1_parloop_struct_130193->free_x_126105;
    struct memblock mem_126111 = {.desc ="mem_126111", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130193->free_mem_126111,
                                  .size =0, .references =NULL};
    struct memblock mem_126131 = {.desc ="mem_126131", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130193->free_mem_126131,
                                  .size =0, .references =NULL};
    struct memblock mem_126132 = {.desc ="mem_126132", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130193->free_mem_126132,
                                  .size =0, .references =NULL};
    float a12_126181 =
          futhark_mc_segred_stage_1_parloop_struct_130193->free_a12_126181;
    float b12_126182 =
          futhark_mc_segred_stage_1_parloop_struct_130193->free_b12_126182;
    float c12_126183 =
          futhark_mc_segred_stage_1_parloop_struct_130193->free_c12_126183;
    float b2_126184 =
          futhark_mc_segred_stage_1_parloop_struct_130193->free_b2_126184;
    float c2_126185 =
          futhark_mc_segred_stage_1_parloop_struct_130193->free_c2_126185;
    struct memblock reduce_stage_1_tid_res_arr_mem_126522 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_126522",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130193->free_reduce_stage_1_tid_res_arr_mem_126522,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_126524 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_126524",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130193->free_reduce_stage_1_tid_res_arr_mem_126524,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_126526 = start;
    float x_126452;
    float x_126453;
    float x_126455;
    float x_126456;
    float local_acc_126527 = 0.0F;
    float local_acc_126528 = 0.0F;
    
    for (; iter_126526 < end; iter_126526++) {
        int64_t gtid_118046 = iter_126526;
        float x_126458 = ((float *) mem_126111.mem)[gtid_118046];
        float x_126459 = ((float *) mem_126132.mem)[gtid_118046];
        float x_126460 = ((float *) mem_126131.mem)[gtid_118046];
        bool cond_126461 = sle64(n_114105, gtid_118046);
        float defunc_0_f_res_126462;
        
        if (cond_126461) {
            defunc_0_f_res_126462 = 0.0F;
        } else {
            int64_t i_126463 = add64(gtid_118046, x_126105);
            float x_126464 = ((float *) mem_121432.mem)[gtid_118036 * n_114105 +
                                                        i_126463];
            
            defunc_0_f_res_126462 = x_126464;
        }
        
        float x_126465 = a12_126181 * x_126458;
        float y_126466 = b12_126182 * x_126459;
        float x_126467 = x_126465 + y_126466;
        float y_126468 = c12_126183 * x_126460;
        float x_126469 = x_126467 + y_126468;
        float defunc_9_fit_fun_res_126470 = defunc_0_f_res_126462 * x_126469;
        float x_126471 = b12_126182 * x_126458;
        float y_126472 = b2_126184 * x_126459;
        float x_126473 = x_126471 + y_126472;
        float y_126474 = c2_126185 * x_126460;
        float x_126475 = x_126473 + y_126474;
        float defunc_9_slope_fun_res_126476 = defunc_0_f_res_126462 * x_126475;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_126452 = local_acc_126527;
        }
        // Load next params
        {
            x_126453 = defunc_9_fit_fun_res_126470;
        }
        // Red body
        {
            float defunc_1_op_res_126454 = x_126452 + x_126453;
            
            local_acc_126527 = defunc_1_op_res_126454;
        }
        // Load accum params
        {
            x_126455 = local_acc_126528;
        }
        // Load next params
        {
            x_126456 = defunc_9_slope_fun_res_126476;
        }
        // Red body
        {
            float defunc_1_op_res_126457 = x_126455 + x_126456;
            
            local_acc_126528 = defunc_1_op_res_126457;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_126522.mem)[flat_tid_118045] =
        local_acc_126527;
    ((float *) reduce_stage_1_tid_res_arr_mem_126524.mem)[flat_tid_118045] =
        local_acc_126528;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130194_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130194_end -
                 futhark_mc_segred_stage_1_parloop_130194_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130194_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130194_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130194_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130190(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118045 = tid;
    int num_tasks_126521 = info.nsubtasks;
    struct futhark_mc_task_130189 *futhark_mc_task_130189 =
                                  (struct futhark_mc_task_130189 *) args;
    struct futhark_context *ctx = futhark_mc_task_130189->ctx;
    uint64_t futhark_mc_segred_task_130190_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130190_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130189->free_n_114105;
    int64_t gtid_118036 = futhark_mc_task_130189->free_gtid_118036;
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130189->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t x_126105 = futhark_mc_task_130189->free_x_126105;
    struct memblock mem_126111 = {.desc ="mem_126111", .mem =
                                  futhark_mc_task_130189->free_mem_126111,
                                  .size =0, .references =NULL};
    struct memblock mem_126131 = {.desc ="mem_126131", .mem =
                                  futhark_mc_task_130189->free_mem_126131,
                                  .size =0, .references =NULL};
    struct memblock mem_126132 = {.desc ="mem_126132", .mem =
                                  futhark_mc_task_130189->free_mem_126132,
                                  .size =0, .references =NULL};
    float a12_126181 = futhark_mc_task_130189->free_a12_126181;
    float b12_126182 = futhark_mc_task_130189->free_b12_126182;
    float c12_126183 = futhark_mc_task_130189->free_c12_126183;
    float b2_126184 = futhark_mc_task_130189->free_b2_126184;
    float c2_126185 = futhark_mc_task_130189->free_c2_126185;
    float defunc_2_reduce_res_126186 =
          *futhark_mc_task_130189->retval_defunc_2_reduce_res_126186;
    float defunc_2_reduce_res_126187 =
          *futhark_mc_task_130189->retval_defunc_2_reduce_res_126187;
    size_t reduce_stage_1_tid_res_arr_mem_126522_cached_sizze_130191 = 0;
    char *reduce_stage_1_tid_res_arr_mem_126522 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_126524_cached_sizze_130192 = 0;
    char *reduce_stage_1_tid_res_arr_mem_126524 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_126522_cached_sizze_130191 <
        (size_t) ((int64_t) 4 * num_tasks_126521)) {
        reduce_stage_1_tid_res_arr_mem_126522 =
            realloc(reduce_stage_1_tid_res_arr_mem_126522, (int64_t) 4 *
                    num_tasks_126521);
        reduce_stage_1_tid_res_arr_mem_126522_cached_sizze_130191 =
            (int64_t) 4 * num_tasks_126521;
    }
    if (reduce_stage_1_tid_res_arr_mem_126524_cached_sizze_130192 <
        (size_t) ((int64_t) 4 * num_tasks_126521)) {
        reduce_stage_1_tid_res_arr_mem_126524 =
            realloc(reduce_stage_1_tid_res_arr_mem_126524, (int64_t) 4 *
                    num_tasks_126521);
        reduce_stage_1_tid_res_arr_mem_126524_cached_sizze_130192 =
            (int64_t) 4 * num_tasks_126521;
    }
    
    int64_t iter_126526;
    struct futhark_mc_segred_stage_1_parloop_struct_130193
    futhark_mc_segred_stage_1_parloop_struct_130193;
    
    futhark_mc_segred_stage_1_parloop_struct_130193.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_gtid_118036 =
        gtid_118036;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_mem_121432 =
        mem_121432.mem;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_x_126105 = x_126105;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_mem_126111 =
        mem_126111.mem;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_mem_126131 =
        mem_126131.mem;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_mem_126132 =
        mem_126132.mem;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_a12_126181 =
        a12_126181;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_b12_126182 =
        b12_126182;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_c12_126183 =
        c12_126183;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_b2_126184 = b2_126184;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_c2_126185 = c2_126185;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_reduce_stage_1_tid_res_arr_mem_126522 =
        reduce_stage_1_tid_res_arr_mem_126522;
    futhark_mc_segred_stage_1_parloop_struct_130193.free_reduce_stage_1_tid_res_arr_mem_126524 =
        reduce_stage_1_tid_res_arr_mem_126524;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130194_task;
    
    futhark_mc_segred_stage_1_parloop_130194_task.name =
        "futhark_mc_segred_stage_1_parloop_130194";
    futhark_mc_segred_stage_1_parloop_130194_task.fn =
        futhark_mc_segred_stage_1_parloop_130194;
    futhark_mc_segred_stage_1_parloop_130194_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130193;
    futhark_mc_segred_stage_1_parloop_130194_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130194_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130194_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130194_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130194_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130194_task);
    
    if (futhark_mc_segred_stage_1_parloop_130194_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130194_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130194_total_end -
                 futhark_mc_segred_stage_1_parloop_130194_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130194_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130194_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130194_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_126186 = 0.0F;
        defunc_2_reduce_res_126187 = 0.0F;
    }
    
    float x_126529;
    float x_126530;
    float x_126532;
    float x_126533;
    
    for (int32_t i_126535 = 0; i_126535 < num_tasks_126521; i_126535++) {
        flat_tid_118045 = i_126535;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_126529 = defunc_2_reduce_res_126186;
            }
            // load next params
            {
                x_126530 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_126522)[flat_tid_118045];
            }
            // red body
            {
                float defunc_1_op_res_126531 = x_126529 + x_126530;
                
                defunc_2_reduce_res_126186 = defunc_1_op_res_126531;
            }
            // load acc params
            {
                x_126532 = defunc_2_reduce_res_126187;
            }
            // load next params
            {
                x_126533 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_126524)[flat_tid_118045];
            }
            // red body
            {
                float defunc_1_op_res_126534 = x_126532 + x_126533;
                
                defunc_2_reduce_res_126187 = defunc_1_op_res_126534;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_126522);
    free(reduce_stage_1_tid_res_arr_mem_126524);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130190_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130190_end -
                 futhark_mc_segred_task_130190_start;
        
        ctx->futhark_mc_segred_task_130190_runs[tid]++;
        ctx->futhark_mc_segred_task_130190_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130190_iter[tid] += iterations;
    }
    *futhark_mc_task_130189->retval_defunc_2_reduce_res_126186 =
        defunc_2_reduce_res_126186;
    *futhark_mc_task_130189->retval_defunc_2_reduce_res_126187 =
        defunc_2_reduce_res_126187;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130171(void *args, int64_t start,
                                            int64_t end, int flat_tid_118039,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130170
    *futhark_mc_segmap_parloop_struct_130170 =
    (struct futhark_mc_segmap_parloop_struct_130170 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130170->ctx;
    uint64_t futhark_mc_segmap_parloop_130171_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130171_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130170->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130170->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130170->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130170->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130170->free_i_114181;
    int64_t gtid_118036 =
            futhark_mc_segmap_parloop_struct_130170->free_gtid_118036;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130170->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130170->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130170->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130170->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130170->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130170->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130170->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121720 =
            futhark_mc_segmap_parloop_struct_130170->free_bytes_121720;
    struct memblock mem_121794 = {.desc ="mem_121794", .mem =
                                  futhark_mc_segmap_parloop_struct_130170->free_mem_121794,
                                  .size =0, .references =NULL};
    struct memblock mem_121797 = {.desc ="mem_121797", .mem =
                                  futhark_mc_segmap_parloop_struct_130170->free_mem_121797,
                                  .size =0, .references =NULL};
    size_t mem_126110_cached_sizze_130172 = 0;
    char *mem_126110 = NULL;
    size_t mem_126111_cached_sizze_130173 = 0;
    char *mem_126111 = NULL;
    size_t mem_126131_cached_sizze_130174 = 0;
    char *mem_126131 = NULL;
    size_t mem_126132_cached_sizze_130175 = 0;
    char *mem_126132 = NULL;
    int64_t iterations = end - start;
    int64_t iter_126413 = start;
    
    if (mem_126110_cached_sizze_130172 < (size_t) bytes_121720) {
        mem_126110 = realloc(mem_126110, bytes_121720);
        mem_126110_cached_sizze_130172 = bytes_121720;
    }
    if (mem_126111_cached_sizze_130173 < (size_t) bytes_121720) {
        mem_126111 = realloc(mem_126111, bytes_121720);
        mem_126111_cached_sizze_130173 = bytes_121720;
    }
    if (mem_126131_cached_sizze_130174 < (size_t) bytes_121720) {
        mem_126131 = realloc(mem_126131, bytes_121720);
        mem_126131_cached_sizze_130174 = bytes_121720;
    }
    if (mem_126132_cached_sizze_130175 < (size_t) bytes_121720) {
        mem_126132 = realloc(mem_126132, bytes_121720);
        mem_126132_cached_sizze_130175 = bytes_121720;
    }
    for (; iter_126413 < end; iter_126413++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126477 = l_n_m_114155;
        int64_t gtid_118040 = iter_126413;
        int64_t remnant_126478 = iter_126413 - gtid_118040;
        int64_t x_126105 = ((int64_t *) mem_121171.mem)[gtid_118036 *
                                                        l_n_m_114155 +
                                                        gtid_118040];
        float x_126106 = ((float *) mem_121175.mem)[gtid_118036 * l_n_m_114155 +
                                                    gtid_118040];
        int64_t min_arg_126107 = mul64(t_jump_114112, gtid_118040);
        int64_t min_res_126108 = smin64(i_114181, min_arg_126107);
        float defunc_0_f_res_126109 = sitofp_i64_f32(min_res_126108);
        int64_t flat_tid_118041 = (int64_t) 0;
        int32_t num_tasks_126479;
        struct futhark_mc_task_130176 futhark_mc_task_130176;
        
        futhark_mc_task_130176.ctx = ctx;
        futhark_mc_task_130176.free_n_114105 = n_114105;
        futhark_mc_task_130176.free_l_window_114109 = l_window_114109;
        futhark_mc_task_130176.free_gtid_118036 = gtid_118036;
        futhark_mc_task_130176.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130176.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130176.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130176.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130176.free_x_126105 = x_126105;
        futhark_mc_task_130176.free_x_126106 = x_126106;
        futhark_mc_task_130176.free_defunc_0_f_res_126109 =
            defunc_0_f_res_126109;
        futhark_mc_task_130176.free_mem_126110 = mem_126110;
        futhark_mc_task_130176.free_mem_126111 = mem_126111;
        
        struct scheduler_segop futhark_mc_task_130176_task;
        
        futhark_mc_task_130176_task.args = &futhark_mc_task_130176;
        futhark_mc_task_130176_task.top_level_fn =
            futhark_mc_segmap_task_130177;
        futhark_mc_task_130176_task.name = "futhark_mc_segmap_task_130177";
        futhark_mc_task_130176_task.iterations = l_window_114109;
        futhark_mc_task_130176_task.task_time =
            &ctx->futhark_mc_segmap_task_130177_total_time;
        futhark_mc_task_130176_task.task_iter =
            &ctx->futhark_mc_segmap_task_130177_total_iter;
        futhark_mc_task_130176_task.sched = STATIC;
        futhark_mc_task_130176_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_130177_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130176_task);
        
        if (futhark_mc_segmap_task_130177_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float defunc_2_reduce_res_126133;
        float defunc_2_reduce_res_126134;
        float defunc_2_reduce_res_126135;
        float defunc_2_reduce_res_126136;
        float defunc_2_reduce_res_126137;
        int64_t flat_tid_118043 = (int64_t) 0;
        int32_t num_tasks_126488;
        struct futhark_mc_task_130180 futhark_mc_task_130180;
        
        futhark_mc_task_130180.ctx = ctx;
        futhark_mc_task_130180.free_mem_126110 = mem_126110;
        futhark_mc_task_130180.free_mem_126111 = mem_126111;
        futhark_mc_task_130180.retval_defunc_2_reduce_res_126133 =
            &defunc_2_reduce_res_126133;
        futhark_mc_task_130180.retval_defunc_2_reduce_res_126134 =
            &defunc_2_reduce_res_126134;
        futhark_mc_task_130180.retval_defunc_2_reduce_res_126135 =
            &defunc_2_reduce_res_126135;
        futhark_mc_task_130180.retval_defunc_2_reduce_res_126136 =
            &defunc_2_reduce_res_126136;
        futhark_mc_task_130180.retval_defunc_2_reduce_res_126137 =
            &defunc_2_reduce_res_126137;
        futhark_mc_task_130180.retval_mem_126131 = mem_126131;
        futhark_mc_task_130180.retval_mem_126132 = mem_126132;
        
        struct scheduler_segop futhark_mc_task_130180_task;
        
        futhark_mc_task_130180_task.args = &futhark_mc_task_130180;
        futhark_mc_task_130180_task.top_level_fn =
            futhark_mc_segred_task_130181;
        futhark_mc_task_130180_task.name = "futhark_mc_segred_task_130181";
        futhark_mc_task_130180_task.iterations = l_window_114109;
        futhark_mc_task_130180_task.task_time =
            &ctx->futhark_mc_segred_task_130181_total_time;
        futhark_mc_task_130180_task.task_iter =
            &ctx->futhark_mc_segred_task_130181_total_iter;
        futhark_mc_task_130180_task.sched = STATIC;
        futhark_mc_task_130180_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130181_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130180_task);
        
        if (futhark_mc_segred_task_130181_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_126161 = defunc_2_reduce_res_126135 *
              defunc_2_reduce_res_126137;
        float y_126162 = defunc_2_reduce_res_126136 *
              defunc_2_reduce_res_126136;
        float a12_126163 = x_126161 - y_126162;
        float x_126164 = defunc_2_reduce_res_126135 *
              defunc_2_reduce_res_126136;
        float y_126165 = defunc_2_reduce_res_126134 *
              defunc_2_reduce_res_126137;
        float b12_126166 = x_126164 - y_126165;
        float x_126167 = defunc_2_reduce_res_126134 *
              defunc_2_reduce_res_126136;
        float y_126168 = defunc_2_reduce_res_126135 *
              defunc_2_reduce_res_126135;
        float c12_126169 = x_126167 - y_126168;
        float x_126170 = defunc_2_reduce_res_126133 *
              defunc_2_reduce_res_126137;
        float b2_126171 = x_126170 - y_126168;
        float x_126172 = defunc_2_reduce_res_126134 *
              defunc_2_reduce_res_126135;
        float y_126173 = defunc_2_reduce_res_126133 *
              defunc_2_reduce_res_126136;
        float c2_126174 = x_126172 - y_126173;
        float x_126175 = defunc_2_reduce_res_126133 * a12_126163;
        float y_126176 = defunc_2_reduce_res_126134 * b12_126166;
        float x_126177 = x_126175 + y_126176;
        float y_126178 = defunc_2_reduce_res_126135 * c12_126169;
        float y_126179 = x_126177 + y_126178;
        float det_126180 = 1.0F / y_126179;
        float a12_126181 = a12_126163 * det_126180;
        float b12_126182 = b12_126166 * det_126180;
        float c12_126183 = c12_126169 * det_126180;
        float b2_126184 = b2_126171 * det_126180;
        float c2_126185 = c2_126174 * det_126180;
        float defunc_2_reduce_res_126186;
        float defunc_2_reduce_res_126187;
        int64_t flat_tid_118045 = (int64_t) 0;
        int32_t num_tasks_126521;
        struct futhark_mc_task_130189 futhark_mc_task_130189;
        
        futhark_mc_task_130189.ctx = ctx;
        futhark_mc_task_130189.free_n_114105 = n_114105;
        futhark_mc_task_130189.free_gtid_118036 = gtid_118036;
        futhark_mc_task_130189.free_mem_121432 = mem_121432.mem;
        futhark_mc_task_130189.free_x_126105 = x_126105;
        futhark_mc_task_130189.free_mem_126111 = mem_126111;
        futhark_mc_task_130189.free_mem_126131 = mem_126131;
        futhark_mc_task_130189.free_mem_126132 = mem_126132;
        futhark_mc_task_130189.free_a12_126181 = a12_126181;
        futhark_mc_task_130189.free_b12_126182 = b12_126182;
        futhark_mc_task_130189.free_c12_126183 = c12_126183;
        futhark_mc_task_130189.free_b2_126184 = b2_126184;
        futhark_mc_task_130189.free_c2_126185 = c2_126185;
        futhark_mc_task_130189.retval_defunc_2_reduce_res_126186 =
            &defunc_2_reduce_res_126186;
        futhark_mc_task_130189.retval_defunc_2_reduce_res_126187 =
            &defunc_2_reduce_res_126187;
        
        struct scheduler_segop futhark_mc_task_130189_task;
        
        futhark_mc_task_130189_task.args = &futhark_mc_task_130189;
        futhark_mc_task_130189_task.top_level_fn =
            futhark_mc_segred_task_130190;
        futhark_mc_task_130189_task.name = "futhark_mc_segred_task_130190";
        futhark_mc_task_130189_task.iterations = l_window_114109;
        futhark_mc_task_130189_task.task_time =
            &ctx->futhark_mc_segred_task_130190_total_time;
        futhark_mc_task_130189_task.task_iter =
            &ctx->futhark_mc_segred_task_130190_total_iter;
        futhark_mc_task_130189_task.sched = STATIC;
        futhark_mc_task_130189_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130190_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130189_task);
        
        if (futhark_mc_segred_task_130190_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_121794.mem)[gtid_118040] = defunc_2_reduce_res_126186;
        ((float *) mem_121797.mem)[gtid_118040] = defunc_2_reduce_res_126187;
    }
    
  cleanup:
    { }
    free(mem_126110);
    free(mem_126111);
    free(mem_126131);
    free(mem_126132);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130171_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130171_end -
                 futhark_mc_segmap_parloop_130171_start;
        
        ctx->futhark_mc_segmap_parloop_130171_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130171_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130171_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130169(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118039 = tid;
    int num_tasks_126331 = info.nsubtasks;
    struct futhark_mc_task_130161 *futhark_mc_task_130161 =
                                  (struct futhark_mc_task_130161 *) args;
    struct futhark_context *ctx = futhark_mc_task_130161->ctx;
    uint64_t futhark_mc_segmap_nested_task_130169_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130169_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130161->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130161->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130161->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130161->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130161->free_i_114181;
    int64_t gtid_118036 = futhark_mc_task_130161->free_gtid_118036;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130161->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130161->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130161->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130161->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130161->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130161->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130161->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121720 = futhark_mc_task_130161->free_bytes_121720;
    struct memblock mem_121794 = {.desc ="mem_121794", .mem =
                                  futhark_mc_task_130161->free_mem_121794,
                                  .size =0, .references =NULL};
    struct memblock mem_121797 = {.desc ="mem_121797", .mem =
                                  futhark_mc_task_130161->free_mem_121797,
                                  .size =0, .references =NULL};
    int64_t iter_126413;
    struct futhark_mc_segmap_parloop_struct_130170
    futhark_mc_segmap_parloop_struct_130170;
    
    futhark_mc_segmap_parloop_struct_130170.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130170.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130170.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130170.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130170.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130170.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130170.free_gtid_118036 = gtid_118036;
    futhark_mc_segmap_parloop_struct_130170.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130170.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130170.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130170.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130170.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130170.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130170.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130170.free_bytes_121720 = bytes_121720;
    futhark_mc_segmap_parloop_struct_130170.free_mem_121794 = mem_121794.mem;
    futhark_mc_segmap_parloop_struct_130170.free_mem_121797 = mem_121797.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130171_task;
    
    futhark_mc_segmap_parloop_130171_task.name =
        "futhark_mc_segmap_parloop_130171";
    futhark_mc_segmap_parloop_130171_task.fn = futhark_mc_segmap_parloop_130171;
    futhark_mc_segmap_parloop_130171_task.args =
        &futhark_mc_segmap_parloop_struct_130170;
    futhark_mc_segmap_parloop_130171_task.iterations = iterations;
    futhark_mc_segmap_parloop_130171_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130171_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130171_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130171_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130171_task);
    
    if (futhark_mc_segmap_parloop_130171_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130171_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130171_total_end -
                 futhark_mc_segmap_parloop_130171_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130171_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130171_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130171_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130169_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130169_end -
                 futhark_mc_segmap_nested_task_130169_start;
        
        ctx->futhark_mc_segmap_nested_task_130169_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130169_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130169_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130158(void *args, int64_t start,
                                            int64_t end, int flat_tid_118035,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130157
    *futhark_mc_segmap_parloop_struct_130157 =
    (struct futhark_mc_segmap_parloop_struct_130157 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130157->ctx;
    uint64_t futhark_mc_segmap_parloop_130158_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130158_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130157->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130157->free_n_114105;
    int64_t l_window_114109 =
            futhark_mc_segmap_parloop_struct_130157->free_l_window_114109;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130157->free_t_jump_114112;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130157->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130157->free_i_114181;
    int64_t bytes_121117 =
            futhark_mc_segmap_parloop_struct_130157->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_segmap_parloop_struct_130157->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_segmap_parloop_struct_130157->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130157->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130157->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130157->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130157->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_segmap_parloop_struct_130157->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121720 =
            futhark_mc_segmap_parloop_struct_130157->free_bytes_121720;
    struct memblock mem_121891 = {.desc ="mem_121891", .mem =
                                  futhark_mc_segmap_parloop_struct_130157->free_mem_121891,
                                  .size =0, .references =NULL};
    struct memblock mem_121895 = {.desc ="mem_121895", .mem =
                                  futhark_mc_segmap_parloop_struct_130157->free_mem_121895,
                                  .size =0, .references =NULL};
    size_t mem_121794_cached_sizze_130159 = 0;
    char *mem_121794 = NULL;
    size_t mem_121797_cached_sizze_130160 = 0;
    char *mem_121797 = NULL;
    int64_t iterations = end - start;
    int64_t iter_126104 = start;
    
    if (mem_121794_cached_sizze_130159 < (size_t) bytes_121117) {
        mem_121794 = realloc(mem_121794, bytes_121117);
        mem_121794_cached_sizze_130159 = bytes_121117;
    }
    if (mem_121797_cached_sizze_130160 < (size_t) bytes_121117) {
        mem_121797 = realloc(mem_121797, bytes_121117);
        mem_121797_cached_sizze_130160 = bytes_121117;
    }
    for (; iter_126104 < end; iter_126104++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126329 = m_114104;
        int64_t gtid_118036 = iter_126104;
        int64_t remnant_126330 = iter_126104 - gtid_118036;
        int64_t flat_tid_118037 = (int64_t) 0;
        int32_t num_tasks_126331;
        int64_t flat_tid_118039 = (int64_t) 0;
        struct futhark_mc_task_130161 futhark_mc_task_130161;
        
        futhark_mc_task_130161.ctx = ctx;
        futhark_mc_task_130161.free_n_114105 = n_114105;
        futhark_mc_task_130161.free_l_window_114109 = l_window_114109;
        futhark_mc_task_130161.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_130161.free_l_n_m_114155 = l_n_m_114155;
        futhark_mc_task_130161.free_i_114181 = i_114181;
        futhark_mc_task_130161.free_gtid_118036 = gtid_118036;
        futhark_mc_task_130161.free_mem_121171 = mem_121171.mem;
        futhark_mc_task_130161.free_mem_121175 = mem_121175.mem;
        futhark_mc_task_130161.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130161.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130161.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130161.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130161.free_mem_121432 = mem_121432.mem;
        futhark_mc_task_130161.free_bytes_121720 = bytes_121720;
        futhark_mc_task_130161.free_mem_121794 = mem_121794;
        futhark_mc_task_130161.free_mem_121797 = mem_121797;
        
        struct scheduler_segop futhark_mc_task_130161_task;
        
        futhark_mc_task_130161_task.args = &futhark_mc_task_130161;
        futhark_mc_task_130161_task.top_level_fn =
            futhark_mc_segmap_task_130162;
        futhark_mc_task_130161_task.name = "futhark_mc_segmap_task_130162";
        futhark_mc_task_130161_task.iterations = l_n_m_114155;
        futhark_mc_task_130161_task.task_time =
            &ctx->futhark_mc_segmap_task_130162_total_time;
        futhark_mc_task_130161_task.task_iter =
            &ctx->futhark_mc_segmap_task_130162_total_iter;
        futhark_mc_task_130161_task.sched = STATIC;
        futhark_mc_task_130161_task.nested_fn =
            futhark_mc_segmap_nested_task_130169;
        
        int futhark_mc_segmap_task_130162_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130161_task);
        
        if (futhark_mc_segmap_task_130162_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121891.mem + gtid_118036 * l_n_m_114155 * (int64_t) 4,
                mem_121794 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
        memmove(mem_121895.mem + gtid_118036 * l_n_m_114155 * (int64_t) 4,
                mem_121797 + (int64_t) 0, l_n_m_114155 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121794);
    free(mem_121797);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130158_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130158_end -
                 futhark_mc_segmap_parloop_130158_start;
        
        ctx->futhark_mc_segmap_parloop_130158_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130158_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130158_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130156(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118035 = tid;
    int num_tasks_125970 = info.nsubtasks;
    struct futhark_mc_task_130146 *futhark_mc_task_130146 =
                                  (struct futhark_mc_task_130146 *) args;
    struct futhark_context *ctx = futhark_mc_task_130146->ctx;
    uint64_t futhark_mc_segmap_nested_task_130156_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130156_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130146->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130146->free_n_114105;
    int64_t l_window_114109 = futhark_mc_task_130146->free_l_window_114109;
    int64_t t_jump_114112 = futhark_mc_task_130146->free_t_jump_114112;
    int64_t l_n_m_114155 = futhark_mc_task_130146->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130146->free_i_114181;
    int64_t bytes_121117 = futhark_mc_task_130146->free_bytes_121117;
    struct memblock mem_121171 = {.desc ="mem_121171", .mem =
                                  futhark_mc_task_130146->free_mem_121171,
                                  .size =0, .references =NULL};
    struct memblock mem_121175 = {.desc ="mem_121175", .mem =
                                  futhark_mc_task_130146->free_mem_121175,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130146->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130146->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130146->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130146->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121432 = {.desc ="mem_121432", .mem =
                                  futhark_mc_task_130146->free_mem_121432,
                                  .size =0, .references =NULL};
    int64_t bytes_121720 = futhark_mc_task_130146->free_bytes_121720;
    struct memblock mem_121891 = {.desc ="mem_121891", .mem =
                                  futhark_mc_task_130146->free_mem_121891,
                                  .size =0, .references =NULL};
    struct memblock mem_121895 = {.desc ="mem_121895", .mem =
                                  futhark_mc_task_130146->free_mem_121895,
                                  .size =0, .references =NULL};
    int64_t iter_126104;
    struct futhark_mc_segmap_parloop_struct_130157
    futhark_mc_segmap_parloop_struct_130157;
    
    futhark_mc_segmap_parloop_struct_130157.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130157.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130157.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130157.free_l_window_114109 =
        l_window_114109;
    futhark_mc_segmap_parloop_struct_130157.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130157.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130157.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130157.free_bytes_121117 = bytes_121117;
    futhark_mc_segmap_parloop_struct_130157.free_mem_121171 = mem_121171.mem;
    futhark_mc_segmap_parloop_struct_130157.free_mem_121175 = mem_121175.mem;
    futhark_mc_segmap_parloop_struct_130157.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130157.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130157.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130157.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130157.free_mem_121432 = mem_121432.mem;
    futhark_mc_segmap_parloop_struct_130157.free_bytes_121720 = bytes_121720;
    futhark_mc_segmap_parloop_struct_130157.free_mem_121891 = mem_121891.mem;
    futhark_mc_segmap_parloop_struct_130157.free_mem_121895 = mem_121895.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130158_task;
    
    futhark_mc_segmap_parloop_130158_task.name =
        "futhark_mc_segmap_parloop_130158";
    futhark_mc_segmap_parloop_130158_task.fn = futhark_mc_segmap_parloop_130158;
    futhark_mc_segmap_parloop_130158_task.args =
        &futhark_mc_segmap_parloop_struct_130157;
    futhark_mc_segmap_parloop_130158_task.iterations = iterations;
    futhark_mc_segmap_parloop_130158_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130158_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130158_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130158_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130158_task);
    
    if (futhark_mc_segmap_parloop_130158_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130158_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130158_total_end -
                 futhark_mc_segmap_parloop_130158_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130158_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130158_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130158_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130156_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130156_end -
                 futhark_mc_segmap_nested_task_130156_start;
        
        ctx->futhark_mc_segmap_nested_task_130156_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130156_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130156_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130195 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_jump_114113;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_y_115314;
    int64_t free_bytes_121048;
    char *free_ext_mem_121900;
    char *free_ext_mem_121901;
    char *free_mem_121923;
};
struct futhark_mc_segmap_parloop_struct_130197 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_jump_114113;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_y_115314;
    int64_t free_bytes_121048;
    char *free_ext_mem_121900;
    char *free_ext_mem_121901;
    char *free_mem_121923;
};
static int futhark_mc_segmap_parloop_130198(void *args, int64_t start,
                                            int64_t end, int flat_tid_118374,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130197
    *futhark_mc_segmap_parloop_struct_130197 =
    (struct futhark_mc_segmap_parloop_struct_130197 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130197->ctx;
    uint64_t futhark_mc_segmap_parloop_130198_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130198_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130197->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130197->free_n_114105;
    int64_t l_jump_114113 =
            futhark_mc_segmap_parloop_struct_130197->free_l_jump_114113;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130197->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130197->free_i_114181;
    int64_t y_115314 = futhark_mc_segmap_parloop_struct_130197->free_y_115314;
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130197->free_bytes_121048;
    struct memblock ext_mem_121900 = {.desc ="ext_mem_121900", .mem =
                                      futhark_mc_segmap_parloop_struct_130197->free_ext_mem_121900,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_121901 = {.desc ="ext_mem_121901", .mem =
                                      futhark_mc_segmap_parloop_struct_130197->free_ext_mem_121901,
                                      .size =0, .references =NULL};
    struct memblock mem_121923 = {.desc ="mem_121923", .mem =
                                  futhark_mc_segmap_parloop_struct_130197->free_mem_121923,
                                  .size =0, .references =NULL};
    size_t mem_121907_cached_sizze_130199 = 0;
    char *mem_121907 = NULL;
    int64_t iterations = end - start;
    int64_t iter_126537 = start;
    
    if (mem_121907_cached_sizze_130199 < (size_t) bytes_121048) {
        mem_121907 = realloc(mem_121907, bytes_121048);
        mem_121907_cached_sizze_130199 = bytes_121048;
    }
    for (; iter_126537 < end; iter_126537++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126587 = m_114104;
        int64_t gtid_118375 = iter_126537;
        int64_t remnant_126588 = iter_126537 - gtid_118375;
        
        for (int64_t i_126538 = 0; i_126538 < n_114105; i_126538++) {
            int64_t m_v_126540 = sdiv64(i_126538, l_jump_114113);
            bool cond_126541 = m_v_126540 == y_115314;
            int64_t j_126542;
            
            if (cond_126541) {
                int64_t j_t_res_126543 = sub64(m_v_126540, (int64_t) 1);
                
                j_126542 = j_t_res_126543;
            } else {
                j_126542 = m_v_126540;
            }
            
            int64_t min_arg_126544 = mul64(l_jump_114113, j_126542);
            int64_t min_res_126545 = smin64(i_114181, min_arg_126544);
            int64_t defunc_0_m_fun_arg_126546 = add64((int64_t) 1, j_126542);
            int64_t min_arg_126547 = mul64(l_jump_114113,
                                           defunc_0_m_fun_arg_126546);
            int64_t min_res_126548 = smin64(i_114181, min_arg_126547);
            int64_t i64_arg_126549 = sub64(min_res_126548, min_res_126545);
            float i64_res_126550 = sitofp_i64_f32(i64_arg_126549);
            int64_t i64_arg_126551 = sub64(i_126538, min_res_126545);
            float i64_res_126552 = sitofp_i64_f32(i64_arg_126551);
            float u_126553 = i64_res_126552 / i64_res_126550;
            float u2_126554 = u_126553 * u_126553;
            float u3_126555 = u_126553 * u2_126554;
            float x_126556 = 2.0F * u3_126555;
            float y_126557 = 3.0F * u2_126554;
            float x_126558 = x_126556 - y_126557;
            float x_126559 = 1.0F + x_126558;
            bool x_126560 = sle64((int64_t) 0, j_126542);
            bool y_126561 = slt64(j_126542, l_n_m_114155);
            bool bounds_check_126562 = x_126560 && y_126561;
            bool index_certs_126563;
            
            if (!bounds_check_126562) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) j_126542,
                              "] out of bounds for array of shape [",
                              (long long) l_n_m_114155, "].",
                              "-> #0  loess.fut:431:41-47\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:221:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:219:15-222:43\n   #8  stl.fut:365:3-376:33\n   #9  stl.fut:352:1-376:33\n");
                return 1;
            }
            
            float y_126564 = ((float *) ext_mem_121901.mem)[gtid_118375 *
                                                            l_n_m_114155 +
                                                            j_126542];
            float x_126565 = x_126559 * y_126564;
            float x_126566 = y_126557 - x_126556;
            bool x_126567 = sle64((int64_t) 0, defunc_0_m_fun_arg_126546);
            bool y_126568 = slt64(defunc_0_m_fun_arg_126546, l_n_m_114155);
            bool bounds_check_126569 = x_126567 && y_126568;
            bool index_certs_126570;
            
            if (!bounds_check_126569) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) defunc_0_m_fun_arg_126546,
                              "] out of bounds for array of shape [",
                              (long long) l_n_m_114155, "].",
                              "-> #0  loess.fut:432:41-51\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:221:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:219:15-222:43\n   #8  stl.fut:365:3-376:33\n   #9  stl.fut:352:1-376:33\n");
                return 1;
            }
            
            float y_126571 = ((float *) ext_mem_121901.mem)[gtid_118375 *
                                                            l_n_m_114155 +
                                                            defunc_0_m_fun_arg_126546];
            float y_126572 = x_126566 * y_126571;
            float x_126573 = x_126565 + y_126572;
            float y_126574 = 2.0F * u2_126554;
            float x_126575 = u3_126555 - y_126574;
            float x_126576 = u_126553 + x_126575;
            float y_126577 = ((float *) ext_mem_121900.mem)[gtid_118375 *
                                                            l_n_m_114155 +
                                                            j_126542];
            float x_126578 = x_126576 * y_126577;
            float y_126579 = i64_res_126550 * x_126578;
            float x_126580 = x_126573 + y_126579;
            float x_126581 = u3_126555 - u2_126554;
            float y_126582 = ((float *) ext_mem_121900.mem)[gtid_118375 *
                                                            l_n_m_114155 +
                                                            defunc_0_m_fun_arg_126546];
            float x_126583 = x_126581 * y_126582;
            float y_126584 = i64_res_126550 * x_126583;
            float defunc_0_f_res_126585 = x_126580 + y_126584;
            
            ((float *) mem_121907)[i_126538] = defunc_0_f_res_126585;
        }
        memmove(mem_121923.mem + gtid_118375 * n_114105 * (int64_t) 4,
                mem_121907 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121907);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130198_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130198_end -
                 futhark_mc_segmap_parloop_130198_start;
        
        ctx->futhark_mc_segmap_parloop_130198_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130198_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130198_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130196(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118374 = tid;
    int num_tasks_126536 = info.nsubtasks;
    struct futhark_mc_task_130195 *futhark_mc_task_130195 =
                                  (struct futhark_mc_task_130195 *) args;
    struct futhark_context *ctx = futhark_mc_task_130195->ctx;
    uint64_t futhark_mc_segmap_task_130196_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130196_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130195->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130195->free_n_114105;
    int64_t l_jump_114113 = futhark_mc_task_130195->free_l_jump_114113;
    int64_t l_n_m_114155 = futhark_mc_task_130195->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130195->free_i_114181;
    int64_t y_115314 = futhark_mc_task_130195->free_y_115314;
    int64_t bytes_121048 = futhark_mc_task_130195->free_bytes_121048;
    struct memblock ext_mem_121900 = {.desc ="ext_mem_121900", .mem =
                                      futhark_mc_task_130195->free_ext_mem_121900,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_121901 = {.desc ="ext_mem_121901", .mem =
                                      futhark_mc_task_130195->free_ext_mem_121901,
                                      .size =0, .references =NULL};
    struct memblock mem_121923 = {.desc ="mem_121923", .mem =
                                  futhark_mc_task_130195->free_mem_121923,
                                  .size =0, .references =NULL};
    int64_t iter_126537;
    struct futhark_mc_segmap_parloop_struct_130197
    futhark_mc_segmap_parloop_struct_130197;
    
    futhark_mc_segmap_parloop_struct_130197.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130197.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130197.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130197.free_l_jump_114113 = l_jump_114113;
    futhark_mc_segmap_parloop_struct_130197.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130197.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130197.free_y_115314 = y_115314;
    futhark_mc_segmap_parloop_struct_130197.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130197.free_ext_mem_121900 =
        ext_mem_121900.mem;
    futhark_mc_segmap_parloop_struct_130197.free_ext_mem_121901 =
        ext_mem_121901.mem;
    futhark_mc_segmap_parloop_struct_130197.free_mem_121923 = mem_121923.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130198_task;
    
    futhark_mc_segmap_parloop_130198_task.name =
        "futhark_mc_segmap_parloop_130198";
    futhark_mc_segmap_parloop_130198_task.fn = futhark_mc_segmap_parloop_130198;
    futhark_mc_segmap_parloop_130198_task.args =
        &futhark_mc_segmap_parloop_struct_130197;
    futhark_mc_segmap_parloop_130198_task.iterations = iterations;
    futhark_mc_segmap_parloop_130198_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130198_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130198_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130198_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130198_task);
    
    if (futhark_mc_segmap_parloop_130198_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130198_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130198_total_end -
                 futhark_mc_segmap_parloop_130198_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130198_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130198_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130198_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130196_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130196_end -
                 futhark_mc_segmap_task_130196_start;
        
        ctx->futhark_mc_segmap_task_130196_runs[tid]++;
        ctx->futhark_mc_segmap_task_130196_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130196_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130201 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_l_jump_114113;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_y_115314;
    int64_t free_bytes_121048;
    char *free_ext_mem_121900;
    char *free_ext_mem_121901;
    char *free_mem_121923;
};
struct futhark_mc_task_130204 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_jump_114113;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_y_115314;
    int64_t free_gtid_118377;
    char *free_ext_mem_121900;
    char *free_ext_mem_121901;
    char *free_mem_121904;
};
struct futhark_mc_segmap_parloop_struct_130206 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_l_jump_114113;
    int64_t free_l_n_m_114155;
    int64_t free_i_114181;
    int64_t free_y_115314;
    int64_t free_gtid_118377;
    char *free_ext_mem_121900;
    char *free_ext_mem_121901;
    char *free_mem_121904;
};
static int futhark_mc_segmap_parloop_130207(void *args, int64_t start,
                                            int64_t end, int flat_tid_118378,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130206
    *futhark_mc_segmap_parloop_struct_130206 =
    (struct futhark_mc_segmap_parloop_struct_130206 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130206->ctx;
    uint64_t futhark_mc_segmap_parloop_130207_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130207_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130206->free_n_114105;
    int64_t l_jump_114113 =
            futhark_mc_segmap_parloop_struct_130206->free_l_jump_114113;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130206->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130206->free_i_114181;
    int64_t y_115314 = futhark_mc_segmap_parloop_struct_130206->free_y_115314;
    int64_t gtid_118377 =
            futhark_mc_segmap_parloop_struct_130206->free_gtid_118377;
    struct memblock ext_mem_121900 = {.desc ="ext_mem_121900", .mem =
                                      futhark_mc_segmap_parloop_struct_130206->free_ext_mem_121900,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_121901 = {.desc ="ext_mem_121901", .mem =
                                      futhark_mc_segmap_parloop_struct_130206->free_ext_mem_121901,
                                      .size =0, .references =NULL};
    struct memblock mem_121904 = {.desc ="mem_121904", .mem =
                                  futhark_mc_segmap_parloop_struct_130206->free_mem_121904,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_126640 = start;
    
    for (; iter_126640 < end; iter_126640++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126642 = n_114105;
        int64_t gtid_118379 = iter_126640;
        int64_t remnant_126643 = iter_126640 - gtid_118379;
        int64_t m_v_126591 = sdiv64(gtid_118379, l_jump_114113);
        bool cond_126592 = m_v_126591 == y_115314;
        int64_t j_126593;
        
        if (cond_126592) {
            int64_t j_t_res_126641 = sub64(m_v_126591, (int64_t) 1);
            
            j_126593 = j_t_res_126641;
        } else {
            j_126593 = m_v_126591;
        }
        
        int64_t min_arg_126595 = mul64(l_jump_114113, j_126593);
        int64_t min_res_126596 = smin64(i_114181, min_arg_126595);
        int64_t defunc_0_m_fun_arg_126597 = add64((int64_t) 1, j_126593);
        int64_t min_arg_126598 = mul64(l_jump_114113,
                                       defunc_0_m_fun_arg_126597);
        int64_t min_res_126599 = smin64(i_114181, min_arg_126598);
        int64_t i64_arg_126600 = sub64(min_res_126599, min_res_126596);
        float i64_res_126601 = sitofp_i64_f32(i64_arg_126600);
        int64_t i64_arg_126602 = sub64(gtid_118379, min_res_126596);
        float i64_res_126603 = sitofp_i64_f32(i64_arg_126602);
        float u_126604 = i64_res_126603 / i64_res_126601;
        float u2_126605 = u_126604 * u_126604;
        float u3_126606 = u_126604 * u2_126605;
        float x_126607 = 2.0F * u3_126606;
        float y_126608 = 3.0F * u2_126605;
        float x_126609 = x_126607 - y_126608;
        float x_126610 = 1.0F + x_126609;
        bool x_126611 = sle64((int64_t) 0, j_126593);
        bool y_126612 = slt64(j_126593, l_n_m_114155);
        bool bounds_check_126613 = x_126611 && y_126612;
        bool index_certs_126614;
        
        if (!bounds_check_126613) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) j_126593,
                                   "] out of bounds for array of shape [",
                                   (long long) l_n_m_114155, "].",
                                   "-> #0  loess.fut:431:41-47\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:221:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:219:15-222:43\n   #8  stl.fut:365:3-376:33\n   #9  stl.fut:352:1-376:33\n");
            return 1;
        }
        
        float y_126615 = ((float *) ext_mem_121901.mem)[gtid_118377 *
                                                        l_n_m_114155 +
                                                        j_126593];
        float x_126616 = x_126610 * y_126615;
        float x_126617 = y_126608 - x_126607;
        bool x_126618 = sle64((int64_t) 0, defunc_0_m_fun_arg_126597);
        bool y_126619 = slt64(defunc_0_m_fun_arg_126597, l_n_m_114155);
        bool bounds_check_126620 = x_126618 && y_126619;
        bool index_certs_126621;
        
        if (!bounds_check_126620) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [",
                                   (long long) defunc_0_m_fun_arg_126597,
                                   "] out of bounds for array of shape [",
                                   (long long) l_n_m_114155, "].",
                                   "-> #0  loess.fut:432:41-51\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:221:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:219:15-222:43\n   #8  stl.fut:365:3-376:33\n   #9  stl.fut:352:1-376:33\n");
            return 1;
        }
        
        float y_126622 = ((float *) ext_mem_121901.mem)[gtid_118377 *
                                                        l_n_m_114155 +
                                                        defunc_0_m_fun_arg_126597];
        float y_126623 = x_126617 * y_126622;
        float x_126624 = x_126616 + y_126623;
        float y_126625 = 2.0F * u2_126605;
        float x_126626 = u3_126606 - y_126625;
        float x_126627 = u_126604 + x_126626;
        float y_126628 = ((float *) ext_mem_121900.mem)[gtid_118377 *
                                                        l_n_m_114155 +
                                                        j_126593];
        float x_126629 = x_126627 * y_126628;
        float y_126630 = i64_res_126601 * x_126629;
        float x_126631 = x_126624 + y_126630;
        float x_126632 = u3_126606 - u2_126605;
        float y_126633 = ((float *) ext_mem_121900.mem)[gtid_118377 *
                                                        l_n_m_114155 +
                                                        defunc_0_m_fun_arg_126597];
        float x_126634 = x_126632 * y_126633;
        float y_126635 = i64_res_126601 * x_126634;
        float defunc_0_f_res_126636 = x_126631 + y_126635;
        
        ((float *) mem_121904.mem)[gtid_118379] = defunc_0_f_res_126636;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130207_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130207_end -
                 futhark_mc_segmap_parloop_130207_start;
        
        ctx->futhark_mc_segmap_parloop_130207_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130207_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130207_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130205(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118378 = tid;
    int num_tasks_126639 = info.nsubtasks;
    struct futhark_mc_task_130204 *futhark_mc_task_130204 =
                                  (struct futhark_mc_task_130204 *) args;
    struct futhark_context *ctx = futhark_mc_task_130204->ctx;
    uint64_t futhark_mc_segmap_task_130205_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130205_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130204->free_n_114105;
    int64_t l_jump_114113 = futhark_mc_task_130204->free_l_jump_114113;
    int64_t l_n_m_114155 = futhark_mc_task_130204->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130204->free_i_114181;
    int64_t y_115314 = futhark_mc_task_130204->free_y_115314;
    int64_t gtid_118377 = futhark_mc_task_130204->free_gtid_118377;
    struct memblock ext_mem_121900 = {.desc ="ext_mem_121900", .mem =
                                      futhark_mc_task_130204->free_ext_mem_121900,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_121901 = {.desc ="ext_mem_121901", .mem =
                                      futhark_mc_task_130204->free_ext_mem_121901,
                                      .size =0, .references =NULL};
    struct memblock mem_121904 = {.desc ="mem_121904", .mem =
                                  futhark_mc_task_130204->free_mem_121904,
                                  .size =0, .references =NULL};
    int64_t iter_126640;
    struct futhark_mc_segmap_parloop_struct_130206
    futhark_mc_segmap_parloop_struct_130206;
    
    futhark_mc_segmap_parloop_struct_130206.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130206.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130206.free_l_jump_114113 = l_jump_114113;
    futhark_mc_segmap_parloop_struct_130206.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130206.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130206.free_y_115314 = y_115314;
    futhark_mc_segmap_parloop_struct_130206.free_gtid_118377 = gtid_118377;
    futhark_mc_segmap_parloop_struct_130206.free_ext_mem_121900 =
        ext_mem_121900.mem;
    futhark_mc_segmap_parloop_struct_130206.free_ext_mem_121901 =
        ext_mem_121901.mem;
    futhark_mc_segmap_parloop_struct_130206.free_mem_121904 = mem_121904.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130207_task;
    
    futhark_mc_segmap_parloop_130207_task.name =
        "futhark_mc_segmap_parloop_130207";
    futhark_mc_segmap_parloop_130207_task.fn = futhark_mc_segmap_parloop_130207;
    futhark_mc_segmap_parloop_130207_task.args =
        &futhark_mc_segmap_parloop_struct_130206;
    futhark_mc_segmap_parloop_130207_task.iterations = iterations;
    futhark_mc_segmap_parloop_130207_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130207_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130207_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130207_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130207_task);
    
    if (futhark_mc_segmap_parloop_130207_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130207_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130207_total_end -
                 futhark_mc_segmap_parloop_130207_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130207_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130207_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130207_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130205_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130205_end -
                 futhark_mc_segmap_task_130205_start;
        
        ctx->futhark_mc_segmap_task_130205_runs[tid]++;
        ctx->futhark_mc_segmap_task_130205_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130205_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130202(void *args, int64_t start,
                                            int64_t end, int flat_tid_118376,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130201
    *futhark_mc_segmap_parloop_struct_130201 =
    (struct futhark_mc_segmap_parloop_struct_130201 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130201->ctx;
    uint64_t futhark_mc_segmap_parloop_130202_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130202_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130201->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130201->free_n_114105;
    int64_t l_jump_114113 =
            futhark_mc_segmap_parloop_struct_130201->free_l_jump_114113;
    int64_t l_n_m_114155 =
            futhark_mc_segmap_parloop_struct_130201->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130201->free_i_114181;
    int64_t y_115314 = futhark_mc_segmap_parloop_struct_130201->free_y_115314;
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130201->free_bytes_121048;
    struct memblock ext_mem_121900 = {.desc ="ext_mem_121900", .mem =
                                      futhark_mc_segmap_parloop_struct_130201->free_ext_mem_121900,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_121901 = {.desc ="ext_mem_121901", .mem =
                                      futhark_mc_segmap_parloop_struct_130201->free_ext_mem_121901,
                                      .size =0, .references =NULL};
    struct memblock mem_121923 = {.desc ="mem_121923", .mem =
                                  futhark_mc_segmap_parloop_struct_130201->free_mem_121923,
                                  .size =0, .references =NULL};
    size_t mem_121904_cached_sizze_130203 = 0;
    char *mem_121904 = NULL;
    int64_t iterations = end - start;
    int64_t iter_126590 = start;
    
    if (mem_121904_cached_sizze_130203 < (size_t) bytes_121048) {
        mem_121904 = realloc(mem_121904, bytes_121048);
        mem_121904_cached_sizze_130203 = bytes_121048;
    }
    for (; iter_126590 < end; iter_126590++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126637 = m_114104;
        int64_t gtid_118377 = iter_126590;
        int64_t remnant_126638 = iter_126590 - gtid_118377;
        int64_t flat_tid_118378 = (int64_t) 0;
        int32_t num_tasks_126639;
        struct futhark_mc_task_130204 futhark_mc_task_130204;
        
        futhark_mc_task_130204.ctx = ctx;
        futhark_mc_task_130204.free_n_114105 = n_114105;
        futhark_mc_task_130204.free_l_jump_114113 = l_jump_114113;
        futhark_mc_task_130204.free_l_n_m_114155 = l_n_m_114155;
        futhark_mc_task_130204.free_i_114181 = i_114181;
        futhark_mc_task_130204.free_y_115314 = y_115314;
        futhark_mc_task_130204.free_gtid_118377 = gtid_118377;
        futhark_mc_task_130204.free_ext_mem_121900 = ext_mem_121900.mem;
        futhark_mc_task_130204.free_ext_mem_121901 = ext_mem_121901.mem;
        futhark_mc_task_130204.free_mem_121904 = mem_121904;
        
        struct scheduler_segop futhark_mc_task_130204_task;
        
        futhark_mc_task_130204_task.args = &futhark_mc_task_130204;
        futhark_mc_task_130204_task.top_level_fn =
            futhark_mc_segmap_task_130205;
        futhark_mc_task_130204_task.name = "futhark_mc_segmap_task_130205";
        futhark_mc_task_130204_task.iterations = n_114105;
        futhark_mc_task_130204_task.task_time =
            &ctx->futhark_mc_segmap_task_130205_total_time;
        futhark_mc_task_130204_task.task_iter =
            &ctx->futhark_mc_segmap_task_130205_total_iter;
        futhark_mc_task_130204_task.sched = STATIC;
        futhark_mc_task_130204_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_130205_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130204_task);
        
        if (futhark_mc_segmap_task_130205_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_121923.mem + gtid_118377 * n_114105 * (int64_t) 4,
                mem_121904 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121904);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130202_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130202_end -
                 futhark_mc_segmap_parloop_130202_start;
        
        ctx->futhark_mc_segmap_parloop_130202_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130202_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130202_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130200(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118376 = tid;
    int num_tasks_126536 = info.nsubtasks;
    struct futhark_mc_task_130195 *futhark_mc_task_130195 =
                                  (struct futhark_mc_task_130195 *) args;
    struct futhark_context *ctx = futhark_mc_task_130195->ctx;
    uint64_t futhark_mc_segmap_nested_task_130200_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130200_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130195->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130195->free_n_114105;
    int64_t l_jump_114113 = futhark_mc_task_130195->free_l_jump_114113;
    int64_t l_n_m_114155 = futhark_mc_task_130195->free_l_n_m_114155;
    int64_t i_114181 = futhark_mc_task_130195->free_i_114181;
    int64_t y_115314 = futhark_mc_task_130195->free_y_115314;
    int64_t bytes_121048 = futhark_mc_task_130195->free_bytes_121048;
    struct memblock ext_mem_121900 = {.desc ="ext_mem_121900", .mem =
                                      futhark_mc_task_130195->free_ext_mem_121900,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_121901 = {.desc ="ext_mem_121901", .mem =
                                      futhark_mc_task_130195->free_ext_mem_121901,
                                      .size =0, .references =NULL};
    struct memblock mem_121923 = {.desc ="mem_121923", .mem =
                                  futhark_mc_task_130195->free_mem_121923,
                                  .size =0, .references =NULL};
    int64_t iter_126590;
    struct futhark_mc_segmap_parloop_struct_130201
    futhark_mc_segmap_parloop_struct_130201;
    
    futhark_mc_segmap_parloop_struct_130201.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130201.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130201.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130201.free_l_jump_114113 = l_jump_114113;
    futhark_mc_segmap_parloop_struct_130201.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_segmap_parloop_struct_130201.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130201.free_y_115314 = y_115314;
    futhark_mc_segmap_parloop_struct_130201.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130201.free_ext_mem_121900 =
        ext_mem_121900.mem;
    futhark_mc_segmap_parloop_struct_130201.free_ext_mem_121901 =
        ext_mem_121901.mem;
    futhark_mc_segmap_parloop_struct_130201.free_mem_121923 = mem_121923.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130202_task;
    
    futhark_mc_segmap_parloop_130202_task.name =
        "futhark_mc_segmap_parloop_130202";
    futhark_mc_segmap_parloop_130202_task.fn = futhark_mc_segmap_parloop_130202;
    futhark_mc_segmap_parloop_130202_task.args =
        &futhark_mc_segmap_parloop_struct_130201;
    futhark_mc_segmap_parloop_130202_task.iterations = iterations;
    futhark_mc_segmap_parloop_130202_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130202_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130202_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130202_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130202_task);
    
    if (futhark_mc_segmap_parloop_130202_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130202_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130202_total_end -
                 futhark_mc_segmap_parloop_130202_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130202_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130202_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130202_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130200_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130200_end -
                 futhark_mc_segmap_nested_task_130200_start;
        
        ctx->futhark_mc_segmap_nested_task_130200_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130200_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130200_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130208 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_C_len_114153;
    char *free_Y_mem_121004;
    char *free_mem_121044;
    int64_t free_bytes_121048;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121357;
    char *free_ext_mem_121924;
    int64_t free_ext_121925;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122009;
};
struct futhark_mc_segmap_parloop_struct_130210 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_C_len_114153;
    char *free_Y_mem_121004;
    char *free_mem_121044;
    int64_t free_bytes_121048;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121357;
    char *free_ext_mem_121924;
    int64_t free_ext_121925;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122009;
};
static int futhark_mc_segmap_parloop_130211(void *args, int64_t start,
                                            int64_t end, int flat_tid_118430,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130210
    *futhark_mc_segmap_parloop_struct_130210 =
    (struct futhark_mc_segmap_parloop_struct_130210 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130210->ctx;
    uint64_t futhark_mc_segmap_parloop_130211_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130211_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130210->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130210->free_n_114105;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_130210->free_n_p_114107;
    int64_t C_len_114153 =
            futhark_mc_segmap_parloop_struct_130210->free_C_len_114153;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_130210->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_130210->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130210->free_bytes_121048;
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130210->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130210->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130210->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130210->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_segmap_parloop_struct_130210->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock ext_mem_121924 = {.desc ="ext_mem_121924", .mem =
                                      futhark_mc_segmap_parloop_struct_130210->free_ext_mem_121924,
                                      .size =0, .references =NULL};
    int64_t ext_121925 =
            futhark_mc_segmap_parloop_struct_130210->free_ext_121925;
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130210->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130210->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122009 = {.desc ="mem_122009", .mem =
                                  futhark_mc_segmap_parloop_struct_130210->free_mem_122009,
                                  .size =0, .references =NULL};
    size_t mem_121940_cached_sizze_130212 = 0;
    char *mem_121940 = NULL;
    size_t mem_121943_cached_sizze_130213 = 0;
    char *mem_121943 = NULL;
    size_t mem_121970_cached_sizze_130214 = 0;
    char *mem_121970 = NULL;
    size_t mem_121973_cached_sizze_130215 = 0;
    char *mem_121973 = NULL;
    int64_t iterations = end - start;
    int64_t iter_126645 = start;
    
    if (mem_121940_cached_sizze_130212 < (size_t) bytes_121048) {
        mem_121940 = realloc(mem_121940, bytes_121048);
        mem_121940_cached_sizze_130212 = bytes_121048;
    }
    if (mem_121943_cached_sizze_130213 < (size_t) bytes_121048) {
        mem_121943 = realloc(mem_121943, bytes_121048);
        mem_121943_cached_sizze_130213 = bytes_121048;
    }
    if (mem_121970_cached_sizze_130214 < (size_t) bytes_121048) {
        mem_121970 = realloc(mem_121970, bytes_121048);
        mem_121970_cached_sizze_130214 = bytes_121048;
    }
    if (mem_121973_cached_sizze_130215 < (size_t) bytes_121048) {
        mem_121973 = realloc(mem_121973, bytes_121048);
        mem_121973_cached_sizze_130215 = bytes_121048;
    }
    for (; iter_126645 < end; iter_126645++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126674 = m_114104;
        int64_t gtid_118431 = iter_126645;
        int64_t remnant_126675 = iter_126645 - gtid_118431;
        
        for (int64_t i_126646 = 0; i_126646 < n_114105; i_126646++) {
            int64_t slice_126649 = n_p_114107 + i_126646;
            float x_126650 = ((float *) mem_121357.mem)[gtid_118431 *
                                                        C_len_114153 +
                                                        slice_126649];
            float x_126651 = ((float *) ext_mem_121924.mem)[gtid_118431 *
                                                            ext_121925 +
                                                            i_126646];
            float x_126652 = ((float *) Y_mem_121004.mem)[gtid_118431 *
                                                          n_114105 + i_126646];
            float defunc_1_f_res_126653 = x_126650 - x_126651;
            float defunc_1_f_res_126654 = x_126652 - defunc_1_f_res_126653;
            
            ((float *) mem_121940)[i_126646] = defunc_1_f_res_126654;
            ((float *) mem_121943)[i_126646] = defunc_1_f_res_126653;
        }
        for (int64_t i_126657 = 0; i_126657 < n_114105; i_126657++) {
            int64_t x_126660 = ((int64_t *) mem_121044.mem)[gtid_118431 *
                                                            n_114105 +
                                                            i_126657];
            bool cond_126661 = sle64((int64_t) 0, x_126660);
            float defunc_0_f_res_126662;
            
            if (cond_126661) {
                bool y_126663 = slt64(x_126660, n_114105);
                bool bounds_check_126664 = cond_126661 && y_126663;
                bool index_certs_126665;
                
                if (!bounds_check_126664) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) x_126660,
                                  "] out of bounds for array of shape [",
                                  (long long) n_114105, "].",
                                  "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:248:33-53\n   #3  /prelude/soacs.fut:75:22-28\n   #4  /prelude/soacs.fut:75:3-45\n   #5  stl.fut:246:13-251:41\n   #6  stl.fut:365:3-376:33\n   #7  stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float defunc_0_f_res_t_res_126666 =
                      ((float *) mem_121940)[x_126660];
                
                defunc_0_f_res_126662 = defunc_0_f_res_t_res_126666;
            } else {
                defunc_0_f_res_126662 = 0.0F;
            }
            
            float defunc_0_f_res_126667;
            
            if (cond_126661) {
                bool y_126668 = slt64(x_126660, n_114105);
                bool bounds_check_126669 = cond_126661 && y_126668;
                bool index_certs_126670;
                
                if (!bounds_check_126669) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) x_126660,
                                  "] out of bounds for array of shape [",
                                  (long long) n_114105, "].",
                                  "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:249:33-59\n   #3  /prelude/soacs.fut:75:22-28\n   #4  /prelude/soacs.fut:75:3-45\n   #5  stl.fut:246:13-251:41\n   #6  stl.fut:365:3-376:33\n   #7  stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float defunc_0_f_res_t_res_126671 =
                      ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                       (gtid_118431 *
                                                        ctx_param_ext_121265 +
                                                        x_126660 *
                                                        ctx_param_ext_121267)];
                
                defunc_0_f_res_126667 = defunc_0_f_res_t_res_126671;
            } else {
                defunc_0_f_res_126667 = 0.0F;
            }
            ((float *) mem_121970)[i_126657] = defunc_0_f_res_126667;
            ((float *) mem_121973)[i_126657] = defunc_0_f_res_126662;
        }
        memmove(mem_122001.mem + gtid_118431 * n_114105 * (int64_t) 4,
                mem_121973 + (int64_t) 0, n_114105 * (int64_t) 4);
        memmove(mem_122005.mem + gtid_118431 * n_114105 * (int64_t) 4,
                mem_121970 + (int64_t) 0, n_114105 * (int64_t) 4);
        memmove(mem_122009.mem + gtid_118431 * n_114105 * (int64_t) 4,
                mem_121943 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121940);
    free(mem_121943);
    free(mem_121970);
    free(mem_121973);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130211_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130211_end -
                 futhark_mc_segmap_parloop_130211_start;
        
        ctx->futhark_mc_segmap_parloop_130211_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130211_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130211_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130209(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118430 = tid;
    int num_tasks_126644 = info.nsubtasks;
    struct futhark_mc_task_130208 *futhark_mc_task_130208 =
                                  (struct futhark_mc_task_130208 *) args;
    struct futhark_context *ctx = futhark_mc_task_130208->ctx;
    uint64_t futhark_mc_segmap_task_130209_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130209_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130208->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130208->free_n_114105;
    int64_t n_p_114107 = futhark_mc_task_130208->free_n_p_114107;
    int64_t C_len_114153 = futhark_mc_task_130208->free_C_len_114153;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_130208->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_130208->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t bytes_121048 = futhark_mc_task_130208->free_bytes_121048;
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130208->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130208->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130208->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130208->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_task_130208->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock ext_mem_121924 = {.desc ="ext_mem_121924", .mem =
                                      futhark_mc_task_130208->free_ext_mem_121924,
                                      .size =0, .references =NULL};
    int64_t ext_121925 = futhark_mc_task_130208->free_ext_121925;
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130208->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130208->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122009 = {.desc ="mem_122009", .mem =
                                  futhark_mc_task_130208->free_mem_122009,
                                  .size =0, .references =NULL};
    int64_t iter_126645;
    struct futhark_mc_segmap_parloop_struct_130210
    futhark_mc_segmap_parloop_struct_130210;
    
    futhark_mc_segmap_parloop_struct_130210.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130210.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130210.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130210.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_130210.free_C_len_114153 = C_len_114153;
    futhark_mc_segmap_parloop_struct_130210.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_130210.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_130210.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130210.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130210.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130210.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130210.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130210.free_mem_121357 = mem_121357.mem;
    futhark_mc_segmap_parloop_struct_130210.free_ext_mem_121924 =
        ext_mem_121924.mem;
    futhark_mc_segmap_parloop_struct_130210.free_ext_121925 = ext_121925;
    futhark_mc_segmap_parloop_struct_130210.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130210.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130210.free_mem_122009 = mem_122009.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130211_task;
    
    futhark_mc_segmap_parloop_130211_task.name =
        "futhark_mc_segmap_parloop_130211";
    futhark_mc_segmap_parloop_130211_task.fn = futhark_mc_segmap_parloop_130211;
    futhark_mc_segmap_parloop_130211_task.args =
        &futhark_mc_segmap_parloop_struct_130210;
    futhark_mc_segmap_parloop_130211_task.iterations = iterations;
    futhark_mc_segmap_parloop_130211_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130211_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130211_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130211_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130211_task);
    
    if (futhark_mc_segmap_parloop_130211_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130211_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130211_total_end -
                 futhark_mc_segmap_parloop_130211_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130211_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130211_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130211_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130209_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130209_end -
                 futhark_mc_segmap_task_130209_start;
        
        ctx->futhark_mc_segmap_task_130209_runs[tid]++;
        ctx->futhark_mc_segmap_task_130209_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130209_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130217 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_C_len_114153;
    char *free_Y_mem_121004;
    char *free_mem_121044;
    int64_t free_bytes_121048;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121357;
    char *free_ext_mem_121924;
    int64_t free_ext_121925;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122009;
};
struct futhark_mc_task_130223 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_C_len_114153;
    int64_t free_gtid_118433;
    char *free_Y_mem_121004;
    char *free_mem_121357;
    char *free_ext_mem_121924;
    int64_t free_ext_121925;
    char *free_mem_121928;
    char *free_mem_121931;
};
struct futhark_mc_segmap_parloop_struct_130225 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_n_p_114107;
    int64_t free_C_len_114153;
    int64_t free_gtid_118433;
    char *free_Y_mem_121004;
    char *free_mem_121357;
    char *free_ext_mem_121924;
    int64_t free_ext_121925;
    char *free_mem_121928;
    char *free_mem_121931;
};
static int futhark_mc_segmap_parloop_130226(void *args, int64_t start,
                                            int64_t end, int flat_tid_118434,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130225
    *futhark_mc_segmap_parloop_struct_130225 =
    (struct futhark_mc_segmap_parloop_struct_130225 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130225->ctx;
    uint64_t futhark_mc_segmap_parloop_130226_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130226_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130225->free_n_114105;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_130225->free_n_p_114107;
    int64_t C_len_114153 =
            futhark_mc_segmap_parloop_struct_130225->free_C_len_114153;
    int64_t gtid_118433 =
            futhark_mc_segmap_parloop_struct_130225->free_gtid_118433;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_130225->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_segmap_parloop_struct_130225->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock ext_mem_121924 = {.desc ="ext_mem_121924", .mem =
                                      futhark_mc_segmap_parloop_struct_130225->free_ext_mem_121924,
                                      .size =0, .references =NULL};
    int64_t ext_121925 =
            futhark_mc_segmap_parloop_struct_130225->free_ext_121925;
    struct memblock mem_121928 = {.desc ="mem_121928", .mem =
                                  futhark_mc_segmap_parloop_struct_130225->free_mem_121928,
                                  .size =0, .references =NULL};
    struct memblock mem_121931 = {.desc ="mem_121931", .mem =
                                  futhark_mc_segmap_parloop_struct_130225->free_mem_121931,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_126702 = start;
    
    for (; iter_126702 < end; iter_126702++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126703 = n_114105;
        int64_t gtid_118435 = iter_126702;
        int64_t remnant_126704 = iter_126702 - gtid_118435;
        int64_t slice_126681 = n_p_114107 + gtid_118435;
        float x_126682 = ((float *) mem_121357.mem)[gtid_118433 * C_len_114153 +
                                                    slice_126681];
        float x_126683 = ((float *) ext_mem_121924.mem)[gtid_118433 *
                                                        ext_121925 +
                                                        gtid_118435];
        float x_126684 = ((float *) Y_mem_121004.mem)[gtid_118433 * n_114105 +
                                                      gtid_118435];
        float defunc_1_f_res_126685 = x_126682 - x_126683;
        float defunc_1_f_res_126686 = x_126684 - defunc_1_f_res_126685;
        
        ((float *) mem_121928.mem)[gtid_118435] = defunc_1_f_res_126686;
        ((float *) mem_121931.mem)[gtid_118435] = defunc_1_f_res_126685;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130226_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130226_end -
                 futhark_mc_segmap_parloop_130226_start;
        
        ctx->futhark_mc_segmap_parloop_130226_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130226_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130226_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130224(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118434 = tid;
    int num_tasks_126701 = info.nsubtasks;
    struct futhark_mc_task_130223 *futhark_mc_task_130223 =
                                  (struct futhark_mc_task_130223 *) args;
    struct futhark_context *ctx = futhark_mc_task_130223->ctx;
    uint64_t futhark_mc_segmap_task_130224_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130224_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130223->free_n_114105;
    int64_t n_p_114107 = futhark_mc_task_130223->free_n_p_114107;
    int64_t C_len_114153 = futhark_mc_task_130223->free_C_len_114153;
    int64_t gtid_118433 = futhark_mc_task_130223->free_gtid_118433;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_130223->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_task_130223->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock ext_mem_121924 = {.desc ="ext_mem_121924", .mem =
                                      futhark_mc_task_130223->free_ext_mem_121924,
                                      .size =0, .references =NULL};
    int64_t ext_121925 = futhark_mc_task_130223->free_ext_121925;
    struct memblock mem_121928 = {.desc ="mem_121928", .mem =
                                  futhark_mc_task_130223->free_mem_121928,
                                  .size =0, .references =NULL};
    struct memblock mem_121931 = {.desc ="mem_121931", .mem =
                                  futhark_mc_task_130223->free_mem_121931,
                                  .size =0, .references =NULL};
    int64_t iter_126702;
    struct futhark_mc_segmap_parloop_struct_130225
    futhark_mc_segmap_parloop_struct_130225;
    
    futhark_mc_segmap_parloop_struct_130225.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130225.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130225.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_130225.free_C_len_114153 = C_len_114153;
    futhark_mc_segmap_parloop_struct_130225.free_gtid_118433 = gtid_118433;
    futhark_mc_segmap_parloop_struct_130225.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_130225.free_mem_121357 = mem_121357.mem;
    futhark_mc_segmap_parloop_struct_130225.free_ext_mem_121924 =
        ext_mem_121924.mem;
    futhark_mc_segmap_parloop_struct_130225.free_ext_121925 = ext_121925;
    futhark_mc_segmap_parloop_struct_130225.free_mem_121928 = mem_121928.mem;
    futhark_mc_segmap_parloop_struct_130225.free_mem_121931 = mem_121931.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130226_task;
    
    futhark_mc_segmap_parloop_130226_task.name =
        "futhark_mc_segmap_parloop_130226";
    futhark_mc_segmap_parloop_130226_task.fn = futhark_mc_segmap_parloop_130226;
    futhark_mc_segmap_parloop_130226_task.args =
        &futhark_mc_segmap_parloop_struct_130225;
    futhark_mc_segmap_parloop_130226_task.iterations = iterations;
    futhark_mc_segmap_parloop_130226_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130226_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130226_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130226_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130226_task);
    
    if (futhark_mc_segmap_parloop_130226_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130226_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130226_total_end -
                 futhark_mc_segmap_parloop_130226_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130226_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130226_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130226_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130224_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130224_end -
                 futhark_mc_segmap_task_130224_start;
        
        ctx->futhark_mc_segmap_task_130224_runs[tid]++;
        ctx->futhark_mc_segmap_task_130224_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130224_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130227 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118433;
    char *free_mem_121044;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121928;
    char *free_mem_121934;
    char *free_mem_121937;
};
struct futhark_mc_segmap_parloop_struct_130229 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118433;
    char *free_mem_121044;
    int64_t free_ctx_param_ext_121264;
    int64_t free_ctx_param_ext_121265;
    int64_t free_ctx_param_ext_121267;
    char *free_mem_param_121269;
    char *free_mem_121928;
    char *free_mem_121934;
    char *free_mem_121937;
};
static int futhark_mc_segmap_parloop_130230(void *args, int64_t start,
                                            int64_t end, int flat_tid_118436,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130229
    *futhark_mc_segmap_parloop_struct_130229 =
    (struct futhark_mc_segmap_parloop_struct_130229 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130229->ctx;
    uint64_t futhark_mc_segmap_parloop_130230_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130230_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130229->free_n_114105;
    int64_t gtid_118433 =
            futhark_mc_segmap_parloop_struct_130229->free_gtid_118433;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_130229->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130229->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130229->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130229->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130229->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121928 = {.desc ="mem_121928", .mem =
                                  futhark_mc_segmap_parloop_struct_130229->free_mem_121928,
                                  .size =0, .references =NULL};
    struct memblock mem_121934 = {.desc ="mem_121934", .mem =
                                  futhark_mc_segmap_parloop_struct_130229->free_mem_121934,
                                  .size =0, .references =NULL};
    struct memblock mem_121937 = {.desc ="mem_121937", .mem =
                                  futhark_mc_segmap_parloop_struct_130229->free_mem_121937,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_126706 = start;
    
    for (; iter_126706 < end; iter_126706++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126715 = n_114105;
        int64_t gtid_118437 = iter_126706;
        int64_t remnant_126716 = iter_126706 - gtid_118437;
        int64_t x_126687 = ((int64_t *) mem_121044.mem)[gtid_118433 * n_114105 +
                                                        gtid_118437];
        bool cond_126688 = sle64((int64_t) 0, x_126687);
        float defunc_0_f_res_126689;
        
        if (cond_126688) {
            bool y_126707 = slt64(x_126687, n_114105);
            bool bounds_check_126708 = cond_126688 && y_126707;
            bool index_certs_126709;
            
            if (!bounds_check_126708) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) x_126687,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:248:33-53\n   #3  /prelude/soacs.fut:75:22-28\n   #4  /prelude/soacs.fut:75:3-45\n   #5  stl.fut:246:13-251:41\n   #6  stl.fut:365:3-376:33\n   #7  stl.fut:352:1-376:33\n");
                return 1;
            }
            
            float defunc_0_f_res_t_res_126710 =
                  ((float *) mem_121928.mem)[x_126687];
            
            defunc_0_f_res_126689 = defunc_0_f_res_t_res_126710;
        } else {
            defunc_0_f_res_126689 = 0.0F;
        }
        
        float defunc_0_f_res_126694;
        
        if (cond_126688) {
            bool y_126711 = slt64(x_126687, n_114105);
            bool bounds_check_126712 = cond_126688 && y_126711;
            bool index_certs_126713;
            
            if (!bounds_check_126712) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) x_126687,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:249:33-59\n   #3  /prelude/soacs.fut:75:22-28\n   #4  /prelude/soacs.fut:75:3-45\n   #5  stl.fut:246:13-251:41\n   #6  stl.fut:365:3-376:33\n   #7  stl.fut:352:1-376:33\n");
                return 1;
            }
            
            float defunc_0_f_res_t_res_126714 =
                  ((float *) mem_param_121269.mem)[ctx_param_ext_121264 +
                                                   (gtid_118433 *
                                                    ctx_param_ext_121265 +
                                                    x_126687 *
                                                    ctx_param_ext_121267)];
            
            defunc_0_f_res_126694 = defunc_0_f_res_t_res_126714;
        } else {
            defunc_0_f_res_126694 = 0.0F;
        }
        ((float *) mem_121934.mem)[gtid_118437] = defunc_0_f_res_126694;
        ((float *) mem_121937.mem)[gtid_118437] = defunc_0_f_res_126689;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130230_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130230_end -
                 futhark_mc_segmap_parloop_130230_start;
        
        ctx->futhark_mc_segmap_parloop_130230_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130230_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130230_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130228(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118436 = tid;
    int num_tasks_126705 = info.nsubtasks;
    struct futhark_mc_task_130227 *futhark_mc_task_130227 =
                                  (struct futhark_mc_task_130227 *) args;
    struct futhark_context *ctx = futhark_mc_task_130227->ctx;
    uint64_t futhark_mc_segmap_task_130228_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130228_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130227->free_n_114105;
    int64_t gtid_118433 = futhark_mc_task_130227->free_gtid_118433;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_130227->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130227->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130227->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130227->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130227->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121928 = {.desc ="mem_121928", .mem =
                                  futhark_mc_task_130227->free_mem_121928,
                                  .size =0, .references =NULL};
    struct memblock mem_121934 = {.desc ="mem_121934", .mem =
                                  futhark_mc_task_130227->free_mem_121934,
                                  .size =0, .references =NULL};
    struct memblock mem_121937 = {.desc ="mem_121937", .mem =
                                  futhark_mc_task_130227->free_mem_121937,
                                  .size =0, .references =NULL};
    int64_t iter_126706;
    struct futhark_mc_segmap_parloop_struct_130229
    futhark_mc_segmap_parloop_struct_130229;
    
    futhark_mc_segmap_parloop_struct_130229.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130229.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130229.free_gtid_118433 = gtid_118433;
    futhark_mc_segmap_parloop_struct_130229.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_130229.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130229.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130229.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130229.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130229.free_mem_121928 = mem_121928.mem;
    futhark_mc_segmap_parloop_struct_130229.free_mem_121934 = mem_121934.mem;
    futhark_mc_segmap_parloop_struct_130229.free_mem_121937 = mem_121937.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130230_task;
    
    futhark_mc_segmap_parloop_130230_task.name =
        "futhark_mc_segmap_parloop_130230";
    futhark_mc_segmap_parloop_130230_task.fn = futhark_mc_segmap_parloop_130230;
    futhark_mc_segmap_parloop_130230_task.args =
        &futhark_mc_segmap_parloop_struct_130229;
    futhark_mc_segmap_parloop_130230_task.iterations = iterations;
    futhark_mc_segmap_parloop_130230_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130230_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130230_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130230_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130230_task);
    
    if (futhark_mc_segmap_parloop_130230_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130230_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130230_total_end -
                 futhark_mc_segmap_parloop_130230_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130230_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130230_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130230_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130228_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130228_end -
                 futhark_mc_segmap_task_130228_start;
        
        ctx->futhark_mc_segmap_task_130228_runs[tid]++;
        ctx->futhark_mc_segmap_task_130228_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130228_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130218(void *args, int64_t start,
                                            int64_t end, int flat_tid_118432,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130217
    *futhark_mc_segmap_parloop_struct_130217 =
    (struct futhark_mc_segmap_parloop_struct_130217 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130217->ctx;
    uint64_t futhark_mc_segmap_parloop_130218_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130218_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130217->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130217->free_n_114105;
    int64_t n_p_114107 =
            futhark_mc_segmap_parloop_struct_130217->free_n_p_114107;
    int64_t C_len_114153 =
            futhark_mc_segmap_parloop_struct_130217->free_C_len_114153;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_130217->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_130217->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130217->free_bytes_121048;
    int64_t ctx_param_ext_121264 =
            futhark_mc_segmap_parloop_struct_130217->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_segmap_parloop_struct_130217->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_segmap_parloop_struct_130217->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_segmap_parloop_struct_130217->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_segmap_parloop_struct_130217->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock ext_mem_121924 = {.desc ="ext_mem_121924", .mem =
                                      futhark_mc_segmap_parloop_struct_130217->free_ext_mem_121924,
                                      .size =0, .references =NULL};
    int64_t ext_121925 =
            futhark_mc_segmap_parloop_struct_130217->free_ext_121925;
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130217->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130217->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122009 = {.desc ="mem_122009", .mem =
                                  futhark_mc_segmap_parloop_struct_130217->free_mem_122009,
                                  .size =0, .references =NULL};
    size_t mem_121928_cached_sizze_130219 = 0;
    char *mem_121928 = NULL;
    size_t mem_121931_cached_sizze_130220 = 0;
    char *mem_121931 = NULL;
    size_t mem_121934_cached_sizze_130221 = 0;
    char *mem_121934 = NULL;
    size_t mem_121937_cached_sizze_130222 = 0;
    char *mem_121937 = NULL;
    int64_t iterations = end - start;
    int64_t iter_126680 = start;
    
    if (mem_121928_cached_sizze_130219 < (size_t) bytes_121048) {
        mem_121928 = realloc(mem_121928, bytes_121048);
        mem_121928_cached_sizze_130219 = bytes_121048;
    }
    if (mem_121931_cached_sizze_130220 < (size_t) bytes_121048) {
        mem_121931 = realloc(mem_121931, bytes_121048);
        mem_121931_cached_sizze_130220 = bytes_121048;
    }
    if (mem_121934_cached_sizze_130221 < (size_t) bytes_121048) {
        mem_121934 = realloc(mem_121934, bytes_121048);
        mem_121934_cached_sizze_130221 = bytes_121048;
    }
    if (mem_121937_cached_sizze_130222 < (size_t) bytes_121048) {
        mem_121937 = realloc(mem_121937, bytes_121048);
        mem_121937_cached_sizze_130222 = bytes_121048;
    }
    for (; iter_126680 < end; iter_126680++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126699 = m_114104;
        int64_t gtid_118433 = iter_126680;
        int64_t remnant_126700 = iter_126680 - gtid_118433;
        int64_t flat_tid_118434 = (int64_t) 0;
        int32_t num_tasks_126701;
        struct futhark_mc_task_130223 futhark_mc_task_130223;
        
        futhark_mc_task_130223.ctx = ctx;
        futhark_mc_task_130223.free_n_114105 = n_114105;
        futhark_mc_task_130223.free_n_p_114107 = n_p_114107;
        futhark_mc_task_130223.free_C_len_114153 = C_len_114153;
        futhark_mc_task_130223.free_gtid_118433 = gtid_118433;
        futhark_mc_task_130223.free_Y_mem_121004 = Y_mem_121004.mem;
        futhark_mc_task_130223.free_mem_121357 = mem_121357.mem;
        futhark_mc_task_130223.free_ext_mem_121924 = ext_mem_121924.mem;
        futhark_mc_task_130223.free_ext_121925 = ext_121925;
        futhark_mc_task_130223.free_mem_121928 = mem_121928;
        futhark_mc_task_130223.free_mem_121931 = mem_121931;
        
        struct scheduler_segop futhark_mc_task_130223_task;
        
        futhark_mc_task_130223_task.args = &futhark_mc_task_130223;
        futhark_mc_task_130223_task.top_level_fn =
            futhark_mc_segmap_task_130224;
        futhark_mc_task_130223_task.name = "futhark_mc_segmap_task_130224";
        futhark_mc_task_130223_task.iterations = n_114105;
        futhark_mc_task_130223_task.task_time =
            &ctx->futhark_mc_segmap_task_130224_total_time;
        futhark_mc_task_130223_task.task_iter =
            &ctx->futhark_mc_segmap_task_130224_total_iter;
        futhark_mc_task_130223_task.sched = STATIC;
        futhark_mc_task_130223_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_130224_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130223_task);
        
        if (futhark_mc_segmap_task_130224_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t flat_tid_118436 = (int64_t) 0;
        int32_t num_tasks_126705;
        struct futhark_mc_task_130227 futhark_mc_task_130227;
        
        futhark_mc_task_130227.ctx = ctx;
        futhark_mc_task_130227.free_n_114105 = n_114105;
        futhark_mc_task_130227.free_gtid_118433 = gtid_118433;
        futhark_mc_task_130227.free_mem_121044 = mem_121044.mem;
        futhark_mc_task_130227.free_ctx_param_ext_121264 = ctx_param_ext_121264;
        futhark_mc_task_130227.free_ctx_param_ext_121265 = ctx_param_ext_121265;
        futhark_mc_task_130227.free_ctx_param_ext_121267 = ctx_param_ext_121267;
        futhark_mc_task_130227.free_mem_param_121269 = mem_param_121269.mem;
        futhark_mc_task_130227.free_mem_121928 = mem_121928;
        futhark_mc_task_130227.free_mem_121934 = mem_121934;
        futhark_mc_task_130227.free_mem_121937 = mem_121937;
        
        struct scheduler_segop futhark_mc_task_130227_task;
        
        futhark_mc_task_130227_task.args = &futhark_mc_task_130227;
        futhark_mc_task_130227_task.top_level_fn =
            futhark_mc_segmap_task_130228;
        futhark_mc_task_130227_task.name = "futhark_mc_segmap_task_130228";
        futhark_mc_task_130227_task.iterations = n_114105;
        futhark_mc_task_130227_task.task_time =
            &ctx->futhark_mc_segmap_task_130228_total_time;
        futhark_mc_task_130227_task.task_iter =
            &ctx->futhark_mc_segmap_task_130228_total_iter;
        futhark_mc_task_130227_task.sched = STATIC;
        futhark_mc_task_130227_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_130228_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130227_task);
        
        if (futhark_mc_segmap_task_130228_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_122001.mem + gtid_118433 * n_114105 * (int64_t) 4,
                mem_121937 + (int64_t) 0, n_114105 * (int64_t) 4);
        memmove(mem_122005.mem + gtid_118433 * n_114105 * (int64_t) 4,
                mem_121934 + (int64_t) 0, n_114105 * (int64_t) 4);
        memmove(mem_122009.mem + gtid_118433 * n_114105 * (int64_t) 4,
                mem_121931 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_121928);
    free(mem_121931);
    free(mem_121934);
    free(mem_121937);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130218_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130218_end -
                 futhark_mc_segmap_parloop_130218_start;
        
        ctx->futhark_mc_segmap_parloop_130218_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130218_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130218_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130216(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118432 = tid;
    int num_tasks_126644 = info.nsubtasks;
    struct futhark_mc_task_130208 *futhark_mc_task_130208 =
                                  (struct futhark_mc_task_130208 *) args;
    struct futhark_context *ctx = futhark_mc_task_130208->ctx;
    uint64_t futhark_mc_segmap_nested_task_130216_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130216_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130208->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130208->free_n_114105;
    int64_t n_p_114107 = futhark_mc_task_130208->free_n_p_114107;
    int64_t C_len_114153 = futhark_mc_task_130208->free_C_len_114153;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_130208->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_130208->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t bytes_121048 = futhark_mc_task_130208->free_bytes_121048;
    int64_t ctx_param_ext_121264 =
            futhark_mc_task_130208->free_ctx_param_ext_121264;
    int64_t ctx_param_ext_121265 =
            futhark_mc_task_130208->free_ctx_param_ext_121265;
    int64_t ctx_param_ext_121267 =
            futhark_mc_task_130208->free_ctx_param_ext_121267;
    struct memblock mem_param_121269 = {.desc ="mem_param_121269", .mem =
                                        futhark_mc_task_130208->free_mem_param_121269,
                                        .size =0, .references =NULL};
    struct memblock mem_121357 = {.desc ="mem_121357", .mem =
                                  futhark_mc_task_130208->free_mem_121357,
                                  .size =0, .references =NULL};
    struct memblock ext_mem_121924 = {.desc ="ext_mem_121924", .mem =
                                      futhark_mc_task_130208->free_ext_mem_121924,
                                      .size =0, .references =NULL};
    int64_t ext_121925 = futhark_mc_task_130208->free_ext_121925;
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130208->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130208->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122009 = {.desc ="mem_122009", .mem =
                                  futhark_mc_task_130208->free_mem_122009,
                                  .size =0, .references =NULL};
    int64_t iter_126680;
    struct futhark_mc_segmap_parloop_struct_130217
    futhark_mc_segmap_parloop_struct_130217;
    
    futhark_mc_segmap_parloop_struct_130217.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130217.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130217.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130217.free_n_p_114107 = n_p_114107;
    futhark_mc_segmap_parloop_struct_130217.free_C_len_114153 = C_len_114153;
    futhark_mc_segmap_parloop_struct_130217.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_130217.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_130217.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130217.free_ctx_param_ext_121264 =
        ctx_param_ext_121264;
    futhark_mc_segmap_parloop_struct_130217.free_ctx_param_ext_121265 =
        ctx_param_ext_121265;
    futhark_mc_segmap_parloop_struct_130217.free_ctx_param_ext_121267 =
        ctx_param_ext_121267;
    futhark_mc_segmap_parloop_struct_130217.free_mem_param_121269 =
        mem_param_121269.mem;
    futhark_mc_segmap_parloop_struct_130217.free_mem_121357 = mem_121357.mem;
    futhark_mc_segmap_parloop_struct_130217.free_ext_mem_121924 =
        ext_mem_121924.mem;
    futhark_mc_segmap_parloop_struct_130217.free_ext_121925 = ext_121925;
    futhark_mc_segmap_parloop_struct_130217.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130217.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130217.free_mem_122009 = mem_122009.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130218_task;
    
    futhark_mc_segmap_parloop_130218_task.name =
        "futhark_mc_segmap_parloop_130218";
    futhark_mc_segmap_parloop_130218_task.fn = futhark_mc_segmap_parloop_130218;
    futhark_mc_segmap_parloop_130218_task.args =
        &futhark_mc_segmap_parloop_struct_130217;
    futhark_mc_segmap_parloop_130218_task.iterations = iterations;
    futhark_mc_segmap_parloop_130218_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130218_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130218_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130218_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130218_task);
    
    if (futhark_mc_segmap_parloop_130218_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130218_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130218_total_end -
                 futhark_mc_segmap_parloop_130218_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130218_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130218_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130218_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130216_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130216_end -
                 futhark_mc_segmap_nested_task_130216_start;
        
        ctx->futhark_mc_segmap_nested_task_130216_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130216_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130216_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130231 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122035;
};
struct futhark_mc_segmap_parloop_struct_130233 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122035;
};
static int futhark_mc_segmap_parloop_130234(void *args, int64_t start,
                                            int64_t end, int flat_tid_118464,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130233
    *futhark_mc_segmap_parloop_struct_130233 =
    (struct futhark_mc_segmap_parloop_struct_130233 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130233->ctx;
    uint64_t futhark_mc_segmap_parloop_130234_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130234_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130233->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130233->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130233->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130233->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130233->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130233->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_130233->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130233->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_130233->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130233->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130233->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130233->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130233->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122035 = {.desc ="mem_122035", .mem =
                                  futhark_mc_segmap_parloop_struct_130233->free_mem_122035,
                                  .size =0, .references =NULL};
    size_t mem_122019_cached_sizze_130235 = 0;
    char *mem_122019 = NULL;
    int64_t iterations = end - start;
    int64_t iter_126720 = start;
    
    if (mem_122019_cached_sizze_130235 < (size_t) bytes_121179) {
        mem_122019 = realloc(mem_122019, bytes_121179);
        mem_122019_cached_sizze_130235 = bytes_121179;
    }
    for (; iter_126720 < end; iter_126720++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126777 = m_114104;
        int64_t gtid_118465 = iter_126720;
        int64_t remnant_126778 = iter_126720 - gtid_118465;
        int64_t x_115430 = ((int64_t *) mem_121047.mem)[gtid_118465];
        
        for (int64_t i_126721 = 0; i_126721 < t_n_m_114162; i_126721++) {
            int64_t x_126723 = ((int64_t *) mem_121233.mem)[gtid_118465 *
                                                            t_n_m_114162 +
                                                            i_126721];
            float x_126724 = ((float *) mem_121237.mem)[gtid_118465 *
                                                        t_n_m_114162 +
                                                        i_126721];
            int64_t min_arg_126725 = mul64(t_jump_114112, i_126721);
            int64_t min_res_126726 = smin64(i_114181, min_arg_126725);
            float defunc_0_f_res_126727 = sitofp_i64_f32(min_res_126726);
            float defunc_2_reduce_res_126728;
            float redout_126730 = 0.0F;
            
            for (int64_t i_126729 = 0; i_126729 < t_window_114108; i_126729++) {
                bool cond_126731 = sle64(x_115430, i_126729);
                float defunc_0_f_res_126732;
                
                if (cond_126731) {
                    defunc_0_f_res_126732 = 0.0F;
                } else {
                    int64_t i_126733 = add64(x_126723, i_126729);
                    float x_126734 = ((float *) mem_121069.mem)[gtid_118465 *
                                                                n_114105 +
                                                                i_126733];
                    float defunc_0_f_res_f_res_126735 = 1.0F + x_126734;
                    
                    defunc_0_f_res_126732 = defunc_0_f_res_f_res_126735;
                }
                
                float defunc_0_f_res_126736;
                
                if (cond_126731) {
                    defunc_0_f_res_126736 = 0.0F;
                } else {
                    int64_t i_126737 = add64(x_126723, i_126729);
                    float x_126738 = ((float *) mem_122005.mem)[gtid_118465 *
                                                                n_114105 +
                                                                i_126737];
                    
                    defunc_0_f_res_126736 = x_126738;
                }
                
                float x_j_126739 = defunc_0_f_res_126732 -
                      defunc_0_f_res_126727;
                float abs_res_126740 = (float) fabs(x_j_126739);
                float tmp1_126741 = abs_res_126740 / x_126724;
                float x_126742 = tmp1_126741 * tmp1_126741;
                float y_126743 = tmp1_126741 * x_126742;
                float tmp2_126744 = 1.0F - y_126743;
                float x_126745 = tmp2_126744 * tmp2_126744;
                float tmp3_126746 = tmp2_126744 * x_126745;
                float w_j_126747 = defunc_0_f_res_126736 * tmp3_126746;
                float defunc_1_op_res_126748 = w_j_126747 + redout_126730;
                float redout_tmp_126780 = defunc_1_op_res_126748;
                
                redout_126730 = redout_tmp_126780;
            }
            defunc_2_reduce_res_126728 = redout_126730;
            
            float a0_126749 = 1.0F / defunc_2_reduce_res_126728;
            float defunc_2_reduce_res_126750;
            float redout_126752 = 0.0F;
            
            for (int64_t i_126751 = 0; i_126751 < t_window_114108; i_126751++) {
                bool cond_126753 = sle64(x_115430, i_126751);
                float defunc_0_f_res_126754;
                
                if (cond_126753) {
                    defunc_0_f_res_126754 = 0.0F;
                } else {
                    int64_t i_126755 = add64(x_126723, i_126751);
                    float x_126756 = ((float *) mem_121069.mem)[gtid_118465 *
                                                                n_114105 +
                                                                i_126755];
                    float defunc_0_f_res_f_res_126757 = 1.0F + x_126756;
                    
                    defunc_0_f_res_126754 = defunc_0_f_res_f_res_126757;
                }
                
                float defunc_0_f_res_126758;
                
                if (cond_126753) {
                    defunc_0_f_res_126758 = 0.0F;
                } else {
                    int64_t i_126759 = add64(x_126723, i_126751);
                    float x_126760 = ((float *) mem_122005.mem)[gtid_118465 *
                                                                n_114105 +
                                                                i_126759];
                    
                    defunc_0_f_res_126758 = x_126760;
                }
                
                float x_j_126761 = defunc_0_f_res_126754 -
                      defunc_0_f_res_126727;
                float abs_res_126762 = (float) fabs(x_j_126761);
                float tmp1_126763 = abs_res_126762 / x_126724;
                float x_126764 = tmp1_126763 * tmp1_126763;
                float y_126765 = tmp1_126763 * x_126764;
                float tmp2_126766 = 1.0F - y_126765;
                float x_126767 = tmp2_126766 * tmp2_126766;
                float tmp3_126768 = tmp2_126766 * x_126767;
                float tmp4_126769 = defunc_0_f_res_126758 * tmp3_126768;
                float defunc_0_f_res_126770;
                
                if (cond_126753) {
                    defunc_0_f_res_126770 = 0.0F;
                } else {
                    int64_t i_126771 = add64(x_126723, i_126751);
                    float x_126772 = ((float *) mem_122001.mem)[gtid_118465 *
                                                                n_114105 +
                                                                i_126771];
                    
                    defunc_0_f_res_126770 = x_126772;
                }
                
                float x_126773 = a0_126749 * tmp4_126769;
                float defunc_9_fit_fun_res_126774 = defunc_0_f_res_126770 *
                      x_126773;
                float defunc_1_op_res_126775 = defunc_9_fit_fun_res_126774 +
                      redout_126752;
                float redout_tmp_126781 = defunc_1_op_res_126775;
                
                redout_126752 = redout_tmp_126781;
            }
            defunc_2_reduce_res_126750 = redout_126752;
            ((float *) mem_122019)[i_126721] = defunc_2_reduce_res_126750;
        }
        memmove(mem_122035.mem + gtid_118465 * t_n_m_114162 * (int64_t) 4,
                mem_122019 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122019);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130234_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130234_end -
                 futhark_mc_segmap_parloop_130234_start;
        
        ctx->futhark_mc_segmap_parloop_130234_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130234_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130234_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130232(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118464 = tid;
    int num_tasks_126719 = info.nsubtasks;
    struct futhark_mc_task_130231 *futhark_mc_task_130231 =
                                  (struct futhark_mc_task_130231 *) args;
    struct futhark_context *ctx = futhark_mc_task_130231->ctx;
    uint64_t futhark_mc_segmap_task_130232_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130232_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130231->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130231->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130231->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130231->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130231->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130231->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_130231->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130231->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_130231->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130231->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130231->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130231->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130231->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122035 = {.desc ="mem_122035", .mem =
                                  futhark_mc_task_130231->free_mem_122035,
                                  .size =0, .references =NULL};
    int64_t iter_126720;
    struct futhark_mc_segmap_parloop_struct_130233
    futhark_mc_segmap_parloop_struct_130233;
    
    futhark_mc_segmap_parloop_struct_130233.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130233.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130233.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130233.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130233.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130233.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130233.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130233.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_130233.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130233.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_130233.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130233.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130233.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130233.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130233.free_mem_122035 = mem_122035.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130234_task;
    
    futhark_mc_segmap_parloop_130234_task.name =
        "futhark_mc_segmap_parloop_130234";
    futhark_mc_segmap_parloop_130234_task.fn = futhark_mc_segmap_parloop_130234;
    futhark_mc_segmap_parloop_130234_task.args =
        &futhark_mc_segmap_parloop_struct_130233;
    futhark_mc_segmap_parloop_130234_task.iterations = iterations;
    futhark_mc_segmap_parloop_130234_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130234_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130234_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130234_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130234_task);
    
    if (futhark_mc_segmap_parloop_130234_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130234_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130234_total_end -
                 futhark_mc_segmap_parloop_130234_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130234_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130234_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130234_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130232_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130232_end -
                 futhark_mc_segmap_task_130232_start;
        
        ctx->futhark_mc_segmap_task_130232_runs[tid]++;
        ctx->futhark_mc_segmap_task_130232_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130232_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130237 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122035;
};
struct futhark_mc_task_130240 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_118467;
    int64_t free_x_118537;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122016;
};
struct futhark_mc_segmap_parloop_struct_130242 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_118467;
    int64_t free_x_118537;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122016;
};
static int futhark_mc_segmap_parloop_130243(void *args, int64_t start,
                                            int64_t end, int flat_tid_118468,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130242
    *futhark_mc_segmap_parloop_struct_130242 =
    (struct futhark_mc_segmap_parloop_struct_130242 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130242->ctx;
    uint64_t futhark_mc_segmap_parloop_130243_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130243_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130242->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130242->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130242->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130242->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130242->free_i_114181;
    int64_t gtid_118467 =
            futhark_mc_segmap_parloop_struct_130242->free_gtid_118467;
    int64_t x_118537 = futhark_mc_segmap_parloop_struct_130242->free_x_118537;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130242->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130242->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130242->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130242->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130242->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122016 = {.desc ="mem_122016", .mem =
                                  futhark_mc_segmap_parloop_struct_130242->free_mem_122016,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_126892 = start;
    
    for (; iter_126892 < end; iter_126892++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126938 = t_n_m_114162;
        int64_t gtid_118469 = iter_126892;
        int64_t remnant_126939 = iter_126892 - gtid_118469;
        int64_t x_126836 = ((int64_t *) mem_121233.mem)[gtid_118467 *
                                                        t_n_m_114162 +
                                                        gtid_118469];
        float x_126837 = ((float *) mem_121237.mem)[gtid_118467 * t_n_m_114162 +
                                                    gtid_118469];
        int64_t min_arg_126838 = mul64(t_jump_114112, gtid_118469);
        int64_t min_res_126839 = smin64(i_114181, min_arg_126838);
        float defunc_0_f_res_126840 = sitofp_i64_f32(min_res_126839);
        float defunc_2_reduce_res_126841;
        float redout_126894 = 0.0F;
        
        for (int64_t i_126893 = 0; i_126893 < t_window_114108; i_126893++) {
            bool cond_126895 = sle64(x_118537, i_126893);
            float defunc_0_f_res_126896;
            
            if (cond_126895) {
                defunc_0_f_res_126896 = 0.0F;
            } else {
                int64_t i_126897 = add64(x_126836, i_126893);
                float x_126898 = ((float *) mem_121069.mem)[gtid_118467 *
                                                            n_114105 +
                                                            i_126897];
                float defunc_0_f_res_f_res_126899 = 1.0F + x_126898;
                
                defunc_0_f_res_126896 = defunc_0_f_res_f_res_126899;
            }
            
            float defunc_0_f_res_126900;
            
            if (cond_126895) {
                defunc_0_f_res_126900 = 0.0F;
            } else {
                int64_t i_126901 = add64(x_126836, i_126893);
                float x_126902 = ((float *) mem_122005.mem)[gtid_118467 *
                                                            n_114105 +
                                                            i_126901];
                
                defunc_0_f_res_126900 = x_126902;
            }
            
            float x_j_126903 = defunc_0_f_res_126896 - defunc_0_f_res_126840;
            float abs_res_126904 = (float) fabs(x_j_126903);
            float tmp1_126905 = abs_res_126904 / x_126837;
            float x_126906 = tmp1_126905 * tmp1_126905;
            float y_126907 = tmp1_126905 * x_126906;
            float tmp2_126908 = 1.0F - y_126907;
            float x_126909 = tmp2_126908 * tmp2_126908;
            float tmp3_126910 = tmp2_126908 * x_126909;
            float w_j_126911 = defunc_0_f_res_126900 * tmp3_126910;
            float defunc_1_op_res_126912 = w_j_126911 + redout_126894;
            float redout_tmp_126940 = defunc_1_op_res_126912;
            
            redout_126894 = redout_tmp_126940;
        }
        defunc_2_reduce_res_126841 = redout_126894;
        
        float a0_126862 = 1.0F / defunc_2_reduce_res_126841;
        float defunc_2_reduce_res_126863;
        float redout_126914 = 0.0F;
        
        for (int64_t i_126913 = 0; i_126913 < t_window_114108; i_126913++) {
            bool cond_126915 = sle64(x_118537, i_126913);
            float defunc_0_f_res_126916;
            
            if (cond_126915) {
                defunc_0_f_res_126916 = 0.0F;
            } else {
                int64_t i_126917 = add64(x_126836, i_126913);
                float x_126918 = ((float *) mem_121069.mem)[gtid_118467 *
                                                            n_114105 +
                                                            i_126917];
                float defunc_0_f_res_f_res_126919 = 1.0F + x_126918;
                
                defunc_0_f_res_126916 = defunc_0_f_res_f_res_126919;
            }
            
            float defunc_0_f_res_126920;
            
            if (cond_126915) {
                defunc_0_f_res_126920 = 0.0F;
            } else {
                int64_t i_126921 = add64(x_126836, i_126913);
                float x_126922 = ((float *) mem_122005.mem)[gtid_118467 *
                                                            n_114105 +
                                                            i_126921];
                
                defunc_0_f_res_126920 = x_126922;
            }
            
            float x_j_126923 = defunc_0_f_res_126916 - defunc_0_f_res_126840;
            float abs_res_126924 = (float) fabs(x_j_126923);
            float tmp1_126925 = abs_res_126924 / x_126837;
            float x_126926 = tmp1_126925 * tmp1_126925;
            float y_126927 = tmp1_126925 * x_126926;
            float tmp2_126928 = 1.0F - y_126927;
            float x_126929 = tmp2_126928 * tmp2_126928;
            float tmp3_126930 = tmp2_126928 * x_126929;
            float tmp4_126931 = defunc_0_f_res_126920 * tmp3_126930;
            float defunc_0_f_res_126932;
            
            if (cond_126915) {
                defunc_0_f_res_126932 = 0.0F;
            } else {
                int64_t i_126933 = add64(x_126836, i_126913);
                float x_126934 = ((float *) mem_122001.mem)[gtid_118467 *
                                                            n_114105 +
                                                            i_126933];
                
                defunc_0_f_res_126932 = x_126934;
            }
            
            float x_126935 = a0_126862 * tmp4_126931;
            float defunc_9_fit_fun_res_126936 = defunc_0_f_res_126932 *
                  x_126935;
            float defunc_1_op_res_126937 = defunc_9_fit_fun_res_126936 +
                  redout_126914;
            float redout_tmp_126941 = defunc_1_op_res_126937;
            
            redout_126914 = redout_tmp_126941;
        }
        defunc_2_reduce_res_126863 = redout_126914;
        ((float *) mem_122016.mem)[gtid_118469] = defunc_2_reduce_res_126863;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130243_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130243_end -
                 futhark_mc_segmap_parloop_130243_start;
        
        ctx->futhark_mc_segmap_parloop_130243_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130243_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130243_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130241(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118468 = tid;
    int num_tasks_126891 = info.nsubtasks;
    struct futhark_mc_task_130240 *futhark_mc_task_130240 =
                                  (struct futhark_mc_task_130240 *) args;
    struct futhark_context *ctx = futhark_mc_task_130240->ctx;
    uint64_t futhark_mc_segmap_task_130241_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130241_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130240->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130240->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130240->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130240->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130240->free_i_114181;
    int64_t gtid_118467 = futhark_mc_task_130240->free_gtid_118467;
    int64_t x_118537 = futhark_mc_task_130240->free_x_118537;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130240->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130240->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130240->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130240->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130240->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122016 = {.desc ="mem_122016", .mem =
                                  futhark_mc_task_130240->free_mem_122016,
                                  .size =0, .references =NULL};
    int64_t iter_126892;
    struct futhark_mc_segmap_parloop_struct_130242
    futhark_mc_segmap_parloop_struct_130242;
    
    futhark_mc_segmap_parloop_struct_130242.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130242.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130242.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130242.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130242.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130242.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130242.free_gtid_118467 = gtid_118467;
    futhark_mc_segmap_parloop_struct_130242.free_x_118537 = x_118537;
    futhark_mc_segmap_parloop_struct_130242.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130242.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130242.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130242.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130242.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130242.free_mem_122016 = mem_122016.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130243_task;
    
    futhark_mc_segmap_parloop_130243_task.name =
        "futhark_mc_segmap_parloop_130243";
    futhark_mc_segmap_parloop_130243_task.fn = futhark_mc_segmap_parloop_130243;
    futhark_mc_segmap_parloop_130243_task.args =
        &futhark_mc_segmap_parloop_struct_130242;
    futhark_mc_segmap_parloop_130243_task.iterations = iterations;
    futhark_mc_segmap_parloop_130243_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130243_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130243_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130243_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130243_task);
    
    if (futhark_mc_segmap_parloop_130243_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130243_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130243_total_end -
                 futhark_mc_segmap_parloop_130243_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130243_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130243_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130243_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130241_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130241_end -
                 futhark_mc_segmap_task_130241_start;
        
        ctx->futhark_mc_segmap_task_130241_runs[tid]++;
        ctx->futhark_mc_segmap_task_130241_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130241_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130245 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_118467;
    int64_t free_x_118537;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122016;
};
struct futhark_mc_task_130247 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118467;
    int64_t free_x_118537;
    char *free_mem_121069;
    char *free_mem_122005;
    int64_t free_x_126783;
    float free_x_126784;
    float free_defunc_0_f_res_126787;
    float *retval_defunc_2_reduce_res_126788;
};
struct futhark_mc_segred_stage_1_parloop_struct_130250 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118467;
    int64_t free_x_118537;
    char *free_mem_121069;
    char *free_mem_122005;
    int64_t free_x_126783;
    float free_x_126784;
    float free_defunc_0_f_res_126787;
    char *free_reduce_stage_1_tid_res_arr_mem_126991;
};
static int futhark_mc_segred_stage_1_parloop_130251(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_118472,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130250
    *futhark_mc_segred_stage_1_parloop_struct_130250 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130250 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130250->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130251_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130251_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130250->free_n_114105;
    int64_t gtid_118467 =
            futhark_mc_segred_stage_1_parloop_struct_130250->free_gtid_118467;
    int64_t x_118537 =
            futhark_mc_segred_stage_1_parloop_struct_130250->free_x_118537;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130250->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130250->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_126783 =
            futhark_mc_segred_stage_1_parloop_struct_130250->free_x_126783;
    float x_126784 =
          futhark_mc_segred_stage_1_parloop_struct_130250->free_x_126784;
    float defunc_0_f_res_126787 =
          futhark_mc_segred_stage_1_parloop_struct_130250->free_defunc_0_f_res_126787;
    struct memblock reduce_stage_1_tid_res_arr_mem_126991 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_126991",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130250->free_reduce_stage_1_tid_res_arr_mem_126991,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_126993 = start;
    float x_126943;
    float x_126944;
    float local_acc_126994 = 0.0F;
    
    for (; iter_126993 < end; iter_126993++) {
        int64_t gtid_118473 = iter_126993;
        bool cond_126946 = sle64(x_118537, gtid_118473);
        float defunc_0_f_res_126947;
        
        if (cond_126946) {
            defunc_0_f_res_126947 = 0.0F;
        } else {
            int64_t i_126948 = add64(gtid_118473, x_126783);
            float x_126949 = ((float *) mem_121069.mem)[gtid_118467 * n_114105 +
                                                        i_126948];
            float defunc_0_f_res_f_res_126950 = 1.0F + x_126949;
            
            defunc_0_f_res_126947 = defunc_0_f_res_f_res_126950;
        }
        
        float defunc_0_f_res_126951;
        
        if (cond_126946) {
            defunc_0_f_res_126951 = 0.0F;
        } else {
            int64_t i_126952 = add64(gtid_118473, x_126783);
            float x_126953 = ((float *) mem_122005.mem)[gtid_118467 * n_114105 +
                                                        i_126952];
            
            defunc_0_f_res_126951 = x_126953;
        }
        
        float x_j_126954 = defunc_0_f_res_126947 - defunc_0_f_res_126787;
        float abs_res_126955 = (float) fabs(x_j_126954);
        float tmp1_126956 = abs_res_126955 / x_126784;
        float x_126957 = tmp1_126956 * tmp1_126956;
        float y_126958 = tmp1_126956 * x_126957;
        float tmp2_126959 = 1.0F - y_126958;
        float x_126960 = tmp2_126959 * tmp2_126959;
        float tmp3_126961 = tmp2_126959 * x_126960;
        float w_j_126962 = defunc_0_f_res_126951 * tmp3_126961;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_126943 = local_acc_126994;
        }
        // Load next params
        {
            x_126944 = w_j_126962;
        }
        // Red body
        {
            float defunc_1_op_res_126945 = x_126943 + x_126944;
            
            local_acc_126994 = defunc_1_op_res_126945;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_126991.mem)[flat_tid_118472] =
        local_acc_126994;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130251_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130251_end -
                 futhark_mc_segred_stage_1_parloop_130251_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130251_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130251_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130251_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130248(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118472 = tid;
    int num_tasks_126990 = info.nsubtasks;
    struct futhark_mc_task_130247 *futhark_mc_task_130247 =
                                  (struct futhark_mc_task_130247 *) args;
    struct futhark_context *ctx = futhark_mc_task_130247->ctx;
    uint64_t futhark_mc_segred_task_130248_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130248_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130247->free_n_114105;
    int64_t gtid_118467 = futhark_mc_task_130247->free_gtid_118467;
    int64_t x_118537 = futhark_mc_task_130247->free_x_118537;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130247->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130247->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_126783 = futhark_mc_task_130247->free_x_126783;
    float x_126784 = futhark_mc_task_130247->free_x_126784;
    float defunc_0_f_res_126787 =
          futhark_mc_task_130247->free_defunc_0_f_res_126787;
    float defunc_2_reduce_res_126788 =
          *futhark_mc_task_130247->retval_defunc_2_reduce_res_126788;
    size_t reduce_stage_1_tid_res_arr_mem_126991_cached_sizze_130249 = 0;
    char *reduce_stage_1_tid_res_arr_mem_126991 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_126991_cached_sizze_130249 <
        (size_t) ((int64_t) 4 * num_tasks_126990)) {
        reduce_stage_1_tid_res_arr_mem_126991 =
            realloc(reduce_stage_1_tid_res_arr_mem_126991, (int64_t) 4 *
                    num_tasks_126990);
        reduce_stage_1_tid_res_arr_mem_126991_cached_sizze_130249 =
            (int64_t) 4 * num_tasks_126990;
    }
    
    int64_t iter_126993;
    struct futhark_mc_segred_stage_1_parloop_struct_130250
    futhark_mc_segred_stage_1_parloop_struct_130250;
    
    futhark_mc_segred_stage_1_parloop_struct_130250.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130250.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130250.free_gtid_118467 =
        gtid_118467;
    futhark_mc_segred_stage_1_parloop_struct_130250.free_x_118537 = x_118537;
    futhark_mc_segred_stage_1_parloop_struct_130250.free_mem_121069 =
        mem_121069.mem;
    futhark_mc_segred_stage_1_parloop_struct_130250.free_mem_122005 =
        mem_122005.mem;
    futhark_mc_segred_stage_1_parloop_struct_130250.free_x_126783 = x_126783;
    futhark_mc_segred_stage_1_parloop_struct_130250.free_x_126784 = x_126784;
    futhark_mc_segred_stage_1_parloop_struct_130250.free_defunc_0_f_res_126787 =
        defunc_0_f_res_126787;
    futhark_mc_segred_stage_1_parloop_struct_130250.free_reduce_stage_1_tid_res_arr_mem_126991 =
        reduce_stage_1_tid_res_arr_mem_126991;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130251_task;
    
    futhark_mc_segred_stage_1_parloop_130251_task.name =
        "futhark_mc_segred_stage_1_parloop_130251";
    futhark_mc_segred_stage_1_parloop_130251_task.fn =
        futhark_mc_segred_stage_1_parloop_130251;
    futhark_mc_segred_stage_1_parloop_130251_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130250;
    futhark_mc_segred_stage_1_parloop_130251_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130251_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130251_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130251_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130251_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130251_task);
    
    if (futhark_mc_segred_stage_1_parloop_130251_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130251_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130251_total_end -
                 futhark_mc_segred_stage_1_parloop_130251_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130251_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130251_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130251_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_126788 = 0.0F;
    }
    
    float x_126995;
    float x_126996;
    
    for (int32_t i_126998 = 0; i_126998 < num_tasks_126990; i_126998++) {
        flat_tid_118472 = i_126998;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_126995 = defunc_2_reduce_res_126788;
            }
            // load next params
            {
                x_126996 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_126991)[flat_tid_118472];
            }
            // red body
            {
                float defunc_1_op_res_126997 = x_126995 + x_126996;
                
                defunc_2_reduce_res_126788 = defunc_1_op_res_126997;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_126991);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130248_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130248_end -
                 futhark_mc_segred_task_130248_start;
        
        ctx->futhark_mc_segred_task_130248_runs[tid]++;
        ctx->futhark_mc_segred_task_130248_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130248_iter[tid] += iterations;
    }
    *futhark_mc_task_130247->retval_defunc_2_reduce_res_126788 =
        defunc_2_reduce_res_126788;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130252 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118467;
    int64_t free_x_118537;
    char *free_mem_121069;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_x_126783;
    float free_x_126784;
    float free_defunc_0_f_res_126787;
    float free_a0_126809;
    float *retval_defunc_2_reduce_res_126810;
};
struct futhark_mc_segred_stage_1_parloop_struct_130255 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118467;
    int64_t free_x_118537;
    char *free_mem_121069;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_x_126783;
    float free_x_126784;
    float free_defunc_0_f_res_126787;
    float free_a0_126809;
    char *free_reduce_stage_1_tid_res_arr_mem_127000;
};
static int futhark_mc_segred_stage_1_parloop_130256(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_118474,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130255
    *futhark_mc_segred_stage_1_parloop_struct_130255 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130255 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130255->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130256_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130256_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130255->free_n_114105;
    int64_t gtid_118467 =
            futhark_mc_segred_stage_1_parloop_struct_130255->free_gtid_118467;
    int64_t x_118537 =
            futhark_mc_segred_stage_1_parloop_struct_130255->free_x_118537;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130255->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130255->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130255->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_126783 =
            futhark_mc_segred_stage_1_parloop_struct_130255->free_x_126783;
    float x_126784 =
          futhark_mc_segred_stage_1_parloop_struct_130255->free_x_126784;
    float defunc_0_f_res_126787 =
          futhark_mc_segred_stage_1_parloop_struct_130255->free_defunc_0_f_res_126787;
    float a0_126809 =
          futhark_mc_segred_stage_1_parloop_struct_130255->free_a0_126809;
    struct memblock reduce_stage_1_tid_res_arr_mem_127000 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_127000",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130255->free_reduce_stage_1_tid_res_arr_mem_127000,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_127002 = start;
    float x_126963;
    float x_126964;
    float local_acc_127003 = 0.0F;
    
    for (; iter_127002 < end; iter_127002++) {
        int64_t gtid_118475 = iter_127002;
        bool cond_126966 = sle64(x_118537, gtid_118475);
        float defunc_0_f_res_126967;
        
        if (cond_126966) {
            defunc_0_f_res_126967 = 0.0F;
        } else {
            int64_t i_126968 = add64(gtid_118475, x_126783);
            float x_126969 = ((float *) mem_121069.mem)[gtid_118467 * n_114105 +
                                                        i_126968];
            float defunc_0_f_res_f_res_126970 = 1.0F + x_126969;
            
            defunc_0_f_res_126967 = defunc_0_f_res_f_res_126970;
        }
        
        float defunc_0_f_res_126971;
        
        if (cond_126966) {
            defunc_0_f_res_126971 = 0.0F;
        } else {
            int64_t i_126972 = add64(gtid_118475, x_126783);
            float x_126973 = ((float *) mem_122005.mem)[gtid_118467 * n_114105 +
                                                        i_126972];
            
            defunc_0_f_res_126971 = x_126973;
        }
        
        float x_j_126974 = defunc_0_f_res_126967 - defunc_0_f_res_126787;
        float abs_res_126975 = (float) fabs(x_j_126974);
        float tmp1_126976 = abs_res_126975 / x_126784;
        float x_126977 = tmp1_126976 * tmp1_126976;
        float y_126978 = tmp1_126976 * x_126977;
        float tmp2_126979 = 1.0F - y_126978;
        float x_126980 = tmp2_126979 * tmp2_126979;
        float tmp3_126981 = tmp2_126979 * x_126980;
        float tmp4_126982 = defunc_0_f_res_126971 * tmp3_126981;
        float defunc_0_f_res_126983;
        
        if (cond_126966) {
            defunc_0_f_res_126983 = 0.0F;
        } else {
            int64_t i_126984 = add64(gtid_118475, x_126783);
            float x_126985 = ((float *) mem_122001.mem)[gtid_118467 * n_114105 +
                                                        i_126984];
            
            defunc_0_f_res_126983 = x_126985;
        }
        
        float x_126986 = a0_126809 * tmp4_126982;
        float defunc_9_fit_fun_res_126987 = defunc_0_f_res_126983 * x_126986;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_126963 = local_acc_127003;
        }
        // Load next params
        {
            x_126964 = defunc_9_fit_fun_res_126987;
        }
        // Red body
        {
            float defunc_1_op_res_126965 = x_126963 + x_126964;
            
            local_acc_127003 = defunc_1_op_res_126965;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_127000.mem)[flat_tid_118474] =
        local_acc_127003;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130256_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130256_end -
                 futhark_mc_segred_stage_1_parloop_130256_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130256_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130256_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130256_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130253(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118474 = tid;
    int num_tasks_126999 = info.nsubtasks;
    struct futhark_mc_task_130252 *futhark_mc_task_130252 =
                                  (struct futhark_mc_task_130252 *) args;
    struct futhark_context *ctx = futhark_mc_task_130252->ctx;
    uint64_t futhark_mc_segred_task_130253_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130253_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130252->free_n_114105;
    int64_t gtid_118467 = futhark_mc_task_130252->free_gtid_118467;
    int64_t x_118537 = futhark_mc_task_130252->free_x_118537;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130252->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130252->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130252->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_126783 = futhark_mc_task_130252->free_x_126783;
    float x_126784 = futhark_mc_task_130252->free_x_126784;
    float defunc_0_f_res_126787 =
          futhark_mc_task_130252->free_defunc_0_f_res_126787;
    float a0_126809 = futhark_mc_task_130252->free_a0_126809;
    float defunc_2_reduce_res_126810 =
          *futhark_mc_task_130252->retval_defunc_2_reduce_res_126810;
    size_t reduce_stage_1_tid_res_arr_mem_127000_cached_sizze_130254 = 0;
    char *reduce_stage_1_tid_res_arr_mem_127000 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_127000_cached_sizze_130254 <
        (size_t) ((int64_t) 4 * num_tasks_126999)) {
        reduce_stage_1_tid_res_arr_mem_127000 =
            realloc(reduce_stage_1_tid_res_arr_mem_127000, (int64_t) 4 *
                    num_tasks_126999);
        reduce_stage_1_tid_res_arr_mem_127000_cached_sizze_130254 =
            (int64_t) 4 * num_tasks_126999;
    }
    
    int64_t iter_127002;
    struct futhark_mc_segred_stage_1_parloop_struct_130255
    futhark_mc_segred_stage_1_parloop_struct_130255;
    
    futhark_mc_segred_stage_1_parloop_struct_130255.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130255.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130255.free_gtid_118467 =
        gtid_118467;
    futhark_mc_segred_stage_1_parloop_struct_130255.free_x_118537 = x_118537;
    futhark_mc_segred_stage_1_parloop_struct_130255.free_mem_121069 =
        mem_121069.mem;
    futhark_mc_segred_stage_1_parloop_struct_130255.free_mem_122001 =
        mem_122001.mem;
    futhark_mc_segred_stage_1_parloop_struct_130255.free_mem_122005 =
        mem_122005.mem;
    futhark_mc_segred_stage_1_parloop_struct_130255.free_x_126783 = x_126783;
    futhark_mc_segred_stage_1_parloop_struct_130255.free_x_126784 = x_126784;
    futhark_mc_segred_stage_1_parloop_struct_130255.free_defunc_0_f_res_126787 =
        defunc_0_f_res_126787;
    futhark_mc_segred_stage_1_parloop_struct_130255.free_a0_126809 = a0_126809;
    futhark_mc_segred_stage_1_parloop_struct_130255.free_reduce_stage_1_tid_res_arr_mem_127000 =
        reduce_stage_1_tid_res_arr_mem_127000;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130256_task;
    
    futhark_mc_segred_stage_1_parloop_130256_task.name =
        "futhark_mc_segred_stage_1_parloop_130256";
    futhark_mc_segred_stage_1_parloop_130256_task.fn =
        futhark_mc_segred_stage_1_parloop_130256;
    futhark_mc_segred_stage_1_parloop_130256_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130255;
    futhark_mc_segred_stage_1_parloop_130256_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130256_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130256_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130256_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130256_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130256_task);
    
    if (futhark_mc_segred_stage_1_parloop_130256_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130256_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130256_total_end -
                 futhark_mc_segred_stage_1_parloop_130256_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130256_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130256_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130256_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_126810 = 0.0F;
    }
    
    float x_127004;
    float x_127005;
    
    for (int32_t i_127007 = 0; i_127007 < num_tasks_126999; i_127007++) {
        flat_tid_118474 = i_127007;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_127004 = defunc_2_reduce_res_126810;
            }
            // load next params
            {
                x_127005 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_127000)[flat_tid_118474];
            }
            // red body
            {
                float defunc_1_op_res_127006 = x_127004 + x_127005;
                
                defunc_2_reduce_res_126810 = defunc_1_op_res_127006;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_127000);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130253_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130253_end -
                 futhark_mc_segred_task_130253_start;
        
        ctx->futhark_mc_segred_task_130253_runs[tid]++;
        ctx->futhark_mc_segred_task_130253_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130253_iter[tid] += iterations;
    }
    *futhark_mc_task_130252->retval_defunc_2_reduce_res_126810 =
        defunc_2_reduce_res_126810;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130246(void *args, int64_t start,
                                            int64_t end, int flat_tid_118470,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130245
    *futhark_mc_segmap_parloop_struct_130245 =
    (struct futhark_mc_segmap_parloop_struct_130245 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130245->ctx;
    uint64_t futhark_mc_segmap_parloop_130246_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130246_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130245->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130245->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130245->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130245->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130245->free_i_114181;
    int64_t gtid_118467 =
            futhark_mc_segmap_parloop_struct_130245->free_gtid_118467;
    int64_t x_118537 = futhark_mc_segmap_parloop_struct_130245->free_x_118537;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130245->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130245->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130245->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130245->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130245->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122016 = {.desc ="mem_122016", .mem =
                                  futhark_mc_segmap_parloop_struct_130245->free_mem_122016,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_126942 = start;
    
    for (; iter_126942 < end; iter_126942++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126988 = t_n_m_114162;
        int64_t gtid_118471 = iter_126942;
        int64_t remnant_126989 = iter_126942 - gtid_118471;
        int64_t x_126783 = ((int64_t *) mem_121233.mem)[gtid_118467 *
                                                        t_n_m_114162 +
                                                        gtid_118471];
        float x_126784 = ((float *) mem_121237.mem)[gtid_118467 * t_n_m_114162 +
                                                    gtid_118471];
        int64_t min_arg_126785 = mul64(t_jump_114112, gtid_118471);
        int64_t min_res_126786 = smin64(i_114181, min_arg_126785);
        float defunc_0_f_res_126787 = sitofp_i64_f32(min_res_126786);
        float defunc_2_reduce_res_126788;
        int64_t flat_tid_118472 = (int64_t) 0;
        int32_t num_tasks_126990;
        struct futhark_mc_task_130247 futhark_mc_task_130247;
        
        futhark_mc_task_130247.ctx = ctx;
        futhark_mc_task_130247.free_n_114105 = n_114105;
        futhark_mc_task_130247.free_gtid_118467 = gtid_118467;
        futhark_mc_task_130247.free_x_118537 = x_118537;
        futhark_mc_task_130247.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130247.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130247.free_x_126783 = x_126783;
        futhark_mc_task_130247.free_x_126784 = x_126784;
        futhark_mc_task_130247.free_defunc_0_f_res_126787 =
            defunc_0_f_res_126787;
        futhark_mc_task_130247.retval_defunc_2_reduce_res_126788 =
            &defunc_2_reduce_res_126788;
        
        struct scheduler_segop futhark_mc_task_130247_task;
        
        futhark_mc_task_130247_task.args = &futhark_mc_task_130247;
        futhark_mc_task_130247_task.top_level_fn =
            futhark_mc_segred_task_130248;
        futhark_mc_task_130247_task.name = "futhark_mc_segred_task_130248";
        futhark_mc_task_130247_task.iterations = t_window_114108;
        futhark_mc_task_130247_task.task_time =
            &ctx->futhark_mc_segred_task_130248_total_time;
        futhark_mc_task_130247_task.task_iter =
            &ctx->futhark_mc_segred_task_130248_total_iter;
        futhark_mc_task_130247_task.sched = STATIC;
        futhark_mc_task_130247_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130248_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130247_task);
        
        if (futhark_mc_segred_task_130248_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float a0_126809 = 1.0F / defunc_2_reduce_res_126788;
        float defunc_2_reduce_res_126810;
        int64_t flat_tid_118474 = (int64_t) 0;
        int32_t num_tasks_126999;
        struct futhark_mc_task_130252 futhark_mc_task_130252;
        
        futhark_mc_task_130252.ctx = ctx;
        futhark_mc_task_130252.free_n_114105 = n_114105;
        futhark_mc_task_130252.free_gtid_118467 = gtid_118467;
        futhark_mc_task_130252.free_x_118537 = x_118537;
        futhark_mc_task_130252.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130252.free_mem_122001 = mem_122001.mem;
        futhark_mc_task_130252.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130252.free_x_126783 = x_126783;
        futhark_mc_task_130252.free_x_126784 = x_126784;
        futhark_mc_task_130252.free_defunc_0_f_res_126787 =
            defunc_0_f_res_126787;
        futhark_mc_task_130252.free_a0_126809 = a0_126809;
        futhark_mc_task_130252.retval_defunc_2_reduce_res_126810 =
            &defunc_2_reduce_res_126810;
        
        struct scheduler_segop futhark_mc_task_130252_task;
        
        futhark_mc_task_130252_task.args = &futhark_mc_task_130252;
        futhark_mc_task_130252_task.top_level_fn =
            futhark_mc_segred_task_130253;
        futhark_mc_task_130252_task.name = "futhark_mc_segred_task_130253";
        futhark_mc_task_130252_task.iterations = t_window_114108;
        futhark_mc_task_130252_task.task_time =
            &ctx->futhark_mc_segred_task_130253_total_time;
        futhark_mc_task_130252_task.task_iter =
            &ctx->futhark_mc_segred_task_130253_total_iter;
        futhark_mc_task_130252_task.sched = STATIC;
        futhark_mc_task_130252_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130253_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130252_task);
        
        if (futhark_mc_segred_task_130253_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_122016.mem)[gtid_118471] = defunc_2_reduce_res_126810;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130246_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130246_end -
                 futhark_mc_segmap_parloop_130246_start;
        
        ctx->futhark_mc_segmap_parloop_130246_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130246_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130246_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130244(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118470 = tid;
    int num_tasks_126891 = info.nsubtasks;
    struct futhark_mc_task_130240 *futhark_mc_task_130240 =
                                  (struct futhark_mc_task_130240 *) args;
    struct futhark_context *ctx = futhark_mc_task_130240->ctx;
    uint64_t futhark_mc_segmap_nested_task_130244_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130244_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130240->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130240->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130240->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130240->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130240->free_i_114181;
    int64_t gtid_118467 = futhark_mc_task_130240->free_gtid_118467;
    int64_t x_118537 = futhark_mc_task_130240->free_x_118537;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130240->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130240->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130240->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130240->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130240->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122016 = {.desc ="mem_122016", .mem =
                                  futhark_mc_task_130240->free_mem_122016,
                                  .size =0, .references =NULL};
    int64_t iter_126942;
    struct futhark_mc_segmap_parloop_struct_130245
    futhark_mc_segmap_parloop_struct_130245;
    
    futhark_mc_segmap_parloop_struct_130245.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130245.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130245.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130245.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130245.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130245.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130245.free_gtid_118467 = gtid_118467;
    futhark_mc_segmap_parloop_struct_130245.free_x_118537 = x_118537;
    futhark_mc_segmap_parloop_struct_130245.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130245.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130245.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130245.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130245.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130245.free_mem_122016 = mem_122016.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130246_task;
    
    futhark_mc_segmap_parloop_130246_task.name =
        "futhark_mc_segmap_parloop_130246";
    futhark_mc_segmap_parloop_130246_task.fn = futhark_mc_segmap_parloop_130246;
    futhark_mc_segmap_parloop_130246_task.args =
        &futhark_mc_segmap_parloop_struct_130245;
    futhark_mc_segmap_parloop_130246_task.iterations = iterations;
    futhark_mc_segmap_parloop_130246_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130246_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130246_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130246_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130246_task);
    
    if (futhark_mc_segmap_parloop_130246_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130246_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130246_total_end -
                 futhark_mc_segmap_parloop_130246_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130246_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130246_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130246_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130244_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130244_end -
                 futhark_mc_segmap_nested_task_130244_start;
        
        ctx->futhark_mc_segmap_nested_task_130244_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130244_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130244_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130238(void *args, int64_t start,
                                            int64_t end, int flat_tid_118466,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130237
    *futhark_mc_segmap_parloop_struct_130237 =
    (struct futhark_mc_segmap_parloop_struct_130237 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130237->ctx;
    uint64_t futhark_mc_segmap_parloop_130238_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130238_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130237->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130237->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130237->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130237->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130237->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130237->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_130237->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130237->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_130237->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130237->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130237->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130237->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130237->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122035 = {.desc ="mem_122035", .mem =
                                  futhark_mc_segmap_parloop_struct_130237->free_mem_122035,
                                  .size =0, .references =NULL};
    size_t mem_122016_cached_sizze_130239 = 0;
    char *mem_122016 = NULL;
    int64_t iterations = end - start;
    int64_t iter_126782 = start;
    
    if (mem_122016_cached_sizze_130239 < (size_t) bytes_121179) {
        mem_122016 = realloc(mem_122016, bytes_121179);
        mem_122016_cached_sizze_130239 = bytes_121179;
    }
    for (; iter_126782 < end; iter_126782++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_126889 = m_114104;
        int64_t gtid_118467 = iter_126782;
        int64_t remnant_126890 = iter_126782 - gtid_118467;
        int64_t x_118537 = ((int64_t *) mem_121047.mem)[gtid_118467];
        int64_t flat_tid_118468 = (int64_t) 0;
        int32_t num_tasks_126891;
        int64_t flat_tid_118470 = (int64_t) 0;
        struct futhark_mc_task_130240 futhark_mc_task_130240;
        
        futhark_mc_task_130240.ctx = ctx;
        futhark_mc_task_130240.free_n_114105 = n_114105;
        futhark_mc_task_130240.free_t_window_114108 = t_window_114108;
        futhark_mc_task_130240.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_130240.free_t_n_m_114162 = t_n_m_114162;
        futhark_mc_task_130240.free_i_114181 = i_114181;
        futhark_mc_task_130240.free_gtid_118467 = gtid_118467;
        futhark_mc_task_130240.free_x_118537 = x_118537;
        futhark_mc_task_130240.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130240.free_mem_121233 = mem_121233.mem;
        futhark_mc_task_130240.free_mem_121237 = mem_121237.mem;
        futhark_mc_task_130240.free_mem_122001 = mem_122001.mem;
        futhark_mc_task_130240.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130240.free_mem_122016 = mem_122016;
        
        struct scheduler_segop futhark_mc_task_130240_task;
        
        futhark_mc_task_130240_task.args = &futhark_mc_task_130240;
        futhark_mc_task_130240_task.top_level_fn =
            futhark_mc_segmap_task_130241;
        futhark_mc_task_130240_task.name = "futhark_mc_segmap_task_130241";
        futhark_mc_task_130240_task.iterations = t_n_m_114162;
        futhark_mc_task_130240_task.task_time =
            &ctx->futhark_mc_segmap_task_130241_total_time;
        futhark_mc_task_130240_task.task_iter =
            &ctx->futhark_mc_segmap_task_130241_total_iter;
        futhark_mc_task_130240_task.sched = STATIC;
        futhark_mc_task_130240_task.nested_fn =
            futhark_mc_segmap_nested_task_130244;
        
        int futhark_mc_segmap_task_130241_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130240_task);
        
        if (futhark_mc_segmap_task_130241_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_122035.mem + gtid_118467 * t_n_m_114162 * (int64_t) 4,
                mem_122016 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122016);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130238_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130238_end -
                 futhark_mc_segmap_parloop_130238_start;
        
        ctx->futhark_mc_segmap_parloop_130238_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130238_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130238_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130236(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118466 = tid;
    int num_tasks_126719 = info.nsubtasks;
    struct futhark_mc_task_130231 *futhark_mc_task_130231 =
                                  (struct futhark_mc_task_130231 *) args;
    struct futhark_context *ctx = futhark_mc_task_130231->ctx;
    uint64_t futhark_mc_segmap_nested_task_130236_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130236_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130231->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130231->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130231->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130231->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130231->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130231->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_130231->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130231->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_130231->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130231->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130231->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130231->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130231->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122035 = {.desc ="mem_122035", .mem =
                                  futhark_mc_task_130231->free_mem_122035,
                                  .size =0, .references =NULL};
    int64_t iter_126782;
    struct futhark_mc_segmap_parloop_struct_130237
    futhark_mc_segmap_parloop_struct_130237;
    
    futhark_mc_segmap_parloop_struct_130237.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130237.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130237.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130237.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130237.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130237.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130237.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130237.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_130237.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130237.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_130237.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130237.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130237.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130237.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130237.free_mem_122035 = mem_122035.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130238_task;
    
    futhark_mc_segmap_parloop_130238_task.name =
        "futhark_mc_segmap_parloop_130238";
    futhark_mc_segmap_parloop_130238_task.fn = futhark_mc_segmap_parloop_130238;
    futhark_mc_segmap_parloop_130238_task.args =
        &futhark_mc_segmap_parloop_struct_130237;
    futhark_mc_segmap_parloop_130238_task.iterations = iterations;
    futhark_mc_segmap_parloop_130238_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130238_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130238_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130238_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130238_task);
    
    if (futhark_mc_segmap_parloop_130238_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130238_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130238_total_end -
                 futhark_mc_segmap_parloop_130238_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130238_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130238_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130238_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130236_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130236_end -
                 futhark_mc_segmap_nested_task_130236_start;
        
        ctx->futhark_mc_segmap_nested_task_130236_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130236_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130236_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130257 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122075;
    char *free_mem_122079;
};
struct futhark_mc_segmap_parloop_struct_130259 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122075;
    char *free_mem_122079;
};
static int futhark_mc_segmap_parloop_130260(void *args, int64_t start,
                                            int64_t end, int flat_tid_118651,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130259
    *futhark_mc_segmap_parloop_struct_130259 =
    (struct futhark_mc_segmap_parloop_struct_130259 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130259->ctx;
    uint64_t futhark_mc_segmap_parloop_130260_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130260_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130259->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130259->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130259->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130259->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130259->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130259->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_130259->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130259->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_130259->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130259->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130259->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130259->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130259->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122075 = {.desc ="mem_122075", .mem =
                                  futhark_mc_segmap_parloop_struct_130259->free_mem_122075,
                                  .size =0, .references =NULL};
    struct memblock mem_122079 = {.desc ="mem_122079", .mem =
                                  futhark_mc_segmap_parloop_struct_130259->free_mem_122079,
                                  .size =0, .references =NULL};
    size_t mem_122044_cached_sizze_130261 = 0;
    char *mem_122044 = NULL;
    size_t mem_122047_cached_sizze_130262 = 0;
    char *mem_122047 = NULL;
    int64_t iterations = end - start;
    int64_t iter_127009 = start;
    
    if (mem_122044_cached_sizze_130261 < (size_t) bytes_121179) {
        mem_122044 = realloc(mem_122044, bytes_121179);
        mem_122044_cached_sizze_130261 = bytes_121179;
    }
    if (mem_122047_cached_sizze_130262 < (size_t) bytes_121179) {
        mem_122047 = realloc(mem_122047, bytes_121179);
        mem_122047_cached_sizze_130262 = bytes_121179;
    }
    for (; iter_127009 < end; iter_127009++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_127093 = m_114104;
        int64_t gtid_118652 = iter_127009;
        int64_t remnant_127094 = iter_127009 - gtid_118652;
        int64_t x_115501 = ((int64_t *) mem_121047.mem)[gtid_118652];
        
        for (int64_t i_127010 = 0; i_127010 < t_n_m_114162; i_127010++) {
            int64_t x_127013 = ((int64_t *) mem_121233.mem)[gtid_118652 *
                                                            t_n_m_114162 +
                                                            i_127010];
            float x_127014 = ((float *) mem_121237.mem)[gtid_118652 *
                                                        t_n_m_114162 +
                                                        i_127010];
            int64_t min_arg_127015 = mul64(t_jump_114112, i_127010);
            int64_t min_res_127016 = smin64(i_114181, min_arg_127015);
            float defunc_0_f_res_127017 = sitofp_i64_f32(min_res_127016);
            float defunc_2_reduce_res_127018;
            float defunc_2_reduce_res_127019;
            float defunc_2_reduce_res_127020;
            float redout_127022;
            float redout_127023;
            float redout_127024;
            
            redout_127022 = 0.0F;
            redout_127023 = 0.0F;
            redout_127024 = 0.0F;
            for (int64_t i_127021 = 0; i_127021 < t_window_114108; i_127021++) {
                bool cond_127025 = sle64(x_115501, i_127021);
                float defunc_0_f_res_127026;
                
                if (cond_127025) {
                    defunc_0_f_res_127026 = 0.0F;
                } else {
                    int64_t i_127027 = add64(x_127013, i_127021);
                    float x_127028 = ((float *) mem_121069.mem)[gtid_118652 *
                                                                n_114105 +
                                                                i_127027];
                    float defunc_0_f_res_f_res_127029 = 1.0F + x_127028;
                    
                    defunc_0_f_res_127026 = defunc_0_f_res_f_res_127029;
                }
                
                float defunc_0_f_res_127030;
                
                if (cond_127025) {
                    defunc_0_f_res_127030 = 0.0F;
                } else {
                    int64_t i_127031 = add64(x_127013, i_127021);
                    float x_127032 = ((float *) mem_122005.mem)[gtid_118652 *
                                                                n_114105 +
                                                                i_127031];
                    
                    defunc_0_f_res_127030 = x_127032;
                }
                
                float x_j_127033 = defunc_0_f_res_127026 -
                      defunc_0_f_res_127017;
                float abs_res_127034 = (float) fabs(x_j_127033);
                float tmp1_127035 = abs_res_127034 / x_127014;
                float x_127036 = tmp1_127035 * tmp1_127035;
                float y_127037 = tmp1_127035 * x_127036;
                float tmp2_127038 = 1.0F - y_127037;
                float x_127039 = tmp2_127038 * tmp2_127038;
                float tmp3_127040 = tmp2_127038 * x_127039;
                float w_j_127041 = defunc_0_f_res_127030 * tmp3_127040;
                float xw_j_127042 = x_j_127033 * w_j_127041;
                float x2w_j_127043 = x_j_127033 * xw_j_127042;
                float defunc_1_op_res_127044 = w_j_127041 + redout_127022;
                float defunc_1_op_res_127045 = xw_j_127042 + redout_127023;
                float defunc_1_op_res_127046 = x2w_j_127043 + redout_127024;
                float redout_tmp_127097 = defunc_1_op_res_127044;
                float redout_tmp_127098 = defunc_1_op_res_127045;
                float redout_tmp_127099 = defunc_1_op_res_127046;
                
                redout_127022 = redout_tmp_127097;
                redout_127023 = redout_tmp_127098;
                redout_127024 = redout_tmp_127099;
            }
            defunc_2_reduce_res_127018 = redout_127022;
            defunc_2_reduce_res_127019 = redout_127023;
            defunc_2_reduce_res_127020 = redout_127024;
            
            float x_127047 = defunc_2_reduce_res_127018 *
                  defunc_2_reduce_res_127020;
            float y_127048 = defunc_2_reduce_res_127019 *
                  defunc_2_reduce_res_127019;
            float y_127049 = x_127047 - y_127048;
            float det1_127050 = 1.0F / y_127049;
            float a11_127051 = defunc_2_reduce_res_127020 * det1_127050;
            float negate_arg_127052 = defunc_2_reduce_res_127019 * det1_127050;
            float b11_127053 = 0.0F - negate_arg_127052;
            float c11_127054 = defunc_2_reduce_res_127018 * det1_127050;
            float defunc_2_reduce_res_127055;
            float defunc_2_reduce_res_127056;
            float redout_127058;
            float redout_127059;
            
            redout_127058 = 0.0F;
            redout_127059 = 0.0F;
            for (int64_t i_127057 = 0; i_127057 < t_window_114108; i_127057++) {
                bool cond_127060 = sle64(x_115501, i_127057);
                float defunc_0_f_res_127061;
                
                if (cond_127060) {
                    defunc_0_f_res_127061 = 0.0F;
                } else {
                    int64_t i_127062 = add64(x_127013, i_127057);
                    float x_127063 = ((float *) mem_121069.mem)[gtid_118652 *
                                                                n_114105 +
                                                                i_127062];
                    float defunc_0_f_res_f_res_127064 = 1.0F + x_127063;
                    
                    defunc_0_f_res_127061 = defunc_0_f_res_f_res_127064;
                }
                
                float defunc_0_f_res_127065;
                
                if (cond_127060) {
                    defunc_0_f_res_127065 = 0.0F;
                } else {
                    int64_t i_127066 = add64(x_127013, i_127057);
                    float x_127067 = ((float *) mem_122005.mem)[gtid_118652 *
                                                                n_114105 +
                                                                i_127066];
                    
                    defunc_0_f_res_127065 = x_127067;
                }
                
                float x_j_127068 = defunc_0_f_res_127061 -
                      defunc_0_f_res_127017;
                float abs_res_127069 = (float) fabs(x_j_127068);
                float tmp1_127070 = abs_res_127069 / x_127014;
                float x_127071 = tmp1_127070 * tmp1_127070;
                float y_127072 = tmp1_127070 * x_127071;
                float tmp2_127073 = 1.0F - y_127072;
                float x_127074 = tmp2_127073 * tmp2_127073;
                float tmp3_127075 = tmp2_127073 * x_127074;
                float tmp4_127076 = defunc_0_f_res_127065 * tmp3_127075;
                float defunc_1_f_res_127077 = x_j_127068 * tmp4_127076;
                float defunc_0_f_res_127078;
                
                if (cond_127060) {
                    defunc_0_f_res_127078 = 0.0F;
                } else {
                    int64_t i_127079 = add64(x_127013, i_127057);
                    float x_127080 = ((float *) mem_122001.mem)[gtid_118652 *
                                                                n_114105 +
                                                                i_127079];
                    
                    defunc_0_f_res_127078 = x_127080;
                }
                
                float x_127081 = a11_127051 * tmp4_127076;
                float y_127082 = b11_127053 * defunc_1_f_res_127077;
                float x_127083 = x_127081 + y_127082;
                float defunc_9_fit_fun_res_127084 = defunc_0_f_res_127078 *
                      x_127083;
                float x_127085 = b11_127053 * tmp4_127076;
                float y_127086 = c11_127054 * defunc_1_f_res_127077;
                float x_127087 = x_127085 + y_127086;
                float defunc_9_slope_fun_res_127088 = defunc_0_f_res_127078 *
                      x_127087;
                float defunc_1_op_res_127089 = defunc_9_fit_fun_res_127084 +
                      redout_127058;
                float defunc_1_op_res_127090 = defunc_9_slope_fun_res_127088 +
                      redout_127059;
                float redout_tmp_127100 = defunc_1_op_res_127089;
                float redout_tmp_127101 = defunc_1_op_res_127090;
                
                redout_127058 = redout_tmp_127100;
                redout_127059 = redout_tmp_127101;
            }
            defunc_2_reduce_res_127055 = redout_127058;
            defunc_2_reduce_res_127056 = redout_127059;
            ((float *) mem_122044)[i_127010] = defunc_2_reduce_res_127055;
            ((float *) mem_122047)[i_127010] = defunc_2_reduce_res_127056;
        }
        memmove(mem_122075.mem + gtid_118652 * t_n_m_114162 * (int64_t) 4,
                mem_122044 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
        memmove(mem_122079.mem + gtid_118652 * t_n_m_114162 * (int64_t) 4,
                mem_122047 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122044);
    free(mem_122047);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130260_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130260_end -
                 futhark_mc_segmap_parloop_130260_start;
        
        ctx->futhark_mc_segmap_parloop_130260_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130260_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130260_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130258(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118651 = tid;
    int num_tasks_127008 = info.nsubtasks;
    struct futhark_mc_task_130257 *futhark_mc_task_130257 =
                                  (struct futhark_mc_task_130257 *) args;
    struct futhark_context *ctx = futhark_mc_task_130257->ctx;
    uint64_t futhark_mc_segmap_task_130258_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130258_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130257->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130257->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130257->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130257->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130257->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130257->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_130257->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130257->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_130257->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130257->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130257->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130257->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130257->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122075 = {.desc ="mem_122075", .mem =
                                  futhark_mc_task_130257->free_mem_122075,
                                  .size =0, .references =NULL};
    struct memblock mem_122079 = {.desc ="mem_122079", .mem =
                                  futhark_mc_task_130257->free_mem_122079,
                                  .size =0, .references =NULL};
    int64_t iter_127009;
    struct futhark_mc_segmap_parloop_struct_130259
    futhark_mc_segmap_parloop_struct_130259;
    
    futhark_mc_segmap_parloop_struct_130259.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130259.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130259.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130259.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130259.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130259.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130259.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130259.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_130259.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130259.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_130259.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130259.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130259.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130259.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130259.free_mem_122075 = mem_122075.mem;
    futhark_mc_segmap_parloop_struct_130259.free_mem_122079 = mem_122079.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130260_task;
    
    futhark_mc_segmap_parloop_130260_task.name =
        "futhark_mc_segmap_parloop_130260";
    futhark_mc_segmap_parloop_130260_task.fn = futhark_mc_segmap_parloop_130260;
    futhark_mc_segmap_parloop_130260_task.args =
        &futhark_mc_segmap_parloop_struct_130259;
    futhark_mc_segmap_parloop_130260_task.iterations = iterations;
    futhark_mc_segmap_parloop_130260_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130260_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130260_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130260_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130260_task);
    
    if (futhark_mc_segmap_parloop_130260_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130260_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130260_total_end -
                 futhark_mc_segmap_parloop_130260_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130260_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130260_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130260_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130258_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130258_end -
                 futhark_mc_segmap_task_130258_start;
        
        ctx->futhark_mc_segmap_task_130258_runs[tid]++;
        ctx->futhark_mc_segmap_task_130258_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130258_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130264 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122075;
    char *free_mem_122079;
};
struct futhark_mc_task_130268 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_118654;
    int64_t free_x_118752;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122038;
    char *free_mem_122041;
};
struct futhark_mc_segmap_parloop_struct_130270 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_118654;
    int64_t free_x_118752;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122038;
    char *free_mem_122041;
};
static int futhark_mc_segmap_parloop_130271(void *args, int64_t start,
                                            int64_t end, int flat_tid_118655,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130270
    *futhark_mc_segmap_parloop_struct_130270 =
    (struct futhark_mc_segmap_parloop_struct_130270 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130270->ctx;
    uint64_t futhark_mc_segmap_parloop_130271_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130271_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130270->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130270->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130270->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130270->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130270->free_i_114181;
    int64_t gtid_118654 =
            futhark_mc_segmap_parloop_struct_130270->free_gtid_118654;
    int64_t x_118752 = futhark_mc_segmap_parloop_struct_130270->free_x_118752;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130270->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130270->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130270->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130270->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130270->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122038 = {.desc ="mem_122038", .mem =
                                  futhark_mc_segmap_parloop_struct_130270->free_mem_122038,
                                  .size =0, .references =NULL};
    struct memblock mem_122041 = {.desc ="mem_122041", .mem =
                                  futhark_mc_segmap_parloop_struct_130270->free_mem_122041,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_127265 = start;
    
    for (; iter_127265 < end; iter_127265++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_127326 = t_n_m_114162;
        int64_t gtid_118656 = iter_127265;
        int64_t remnant_127327 = iter_127265 - gtid_118656;
        int64_t x_127184 = ((int64_t *) mem_121233.mem)[gtid_118654 *
                                                        t_n_m_114162 +
                                                        gtid_118656];
        float x_127185 = ((float *) mem_121237.mem)[gtid_118654 * t_n_m_114162 +
                                                    gtid_118656];
        int64_t min_arg_127186 = mul64(t_jump_114112, gtid_118656);
        int64_t min_res_127187 = smin64(i_114181, min_arg_127186);
        float defunc_0_f_res_127188 = sitofp_i64_f32(min_res_127187);
        float defunc_2_reduce_res_127189;
        float defunc_2_reduce_res_127190;
        float defunc_2_reduce_res_127191;
        float redout_127267;
        float redout_127268;
        float redout_127269;
        
        redout_127267 = 0.0F;
        redout_127268 = 0.0F;
        redout_127269 = 0.0F;
        for (int64_t i_127266 = 0; i_127266 < t_window_114108; i_127266++) {
            bool cond_127270 = sle64(x_118752, i_127266);
            float defunc_0_f_res_127271;
            
            if (cond_127270) {
                defunc_0_f_res_127271 = 0.0F;
            } else {
                int64_t i_127272 = add64(x_127184, i_127266);
                float x_127273 = ((float *) mem_121069.mem)[gtid_118654 *
                                                            n_114105 +
                                                            i_127272];
                float defunc_0_f_res_f_res_127274 = 1.0F + x_127273;
                
                defunc_0_f_res_127271 = defunc_0_f_res_f_res_127274;
            }
            
            float defunc_0_f_res_127275;
            
            if (cond_127270) {
                defunc_0_f_res_127275 = 0.0F;
            } else {
                int64_t i_127276 = add64(x_127184, i_127266);
                float x_127277 = ((float *) mem_122005.mem)[gtid_118654 *
                                                            n_114105 +
                                                            i_127276];
                
                defunc_0_f_res_127275 = x_127277;
            }
            
            float x_j_127278 = defunc_0_f_res_127271 - defunc_0_f_res_127188;
            float abs_res_127279 = (float) fabs(x_j_127278);
            float tmp1_127280 = abs_res_127279 / x_127185;
            float x_127281 = tmp1_127280 * tmp1_127280;
            float y_127282 = tmp1_127280 * x_127281;
            float tmp2_127283 = 1.0F - y_127282;
            float x_127284 = tmp2_127283 * tmp2_127283;
            float tmp3_127285 = tmp2_127283 * x_127284;
            float w_j_127286 = defunc_0_f_res_127275 * tmp3_127285;
            float xw_j_127287 = x_j_127278 * w_j_127286;
            float x2w_j_127288 = x_j_127278 * xw_j_127287;
            float defunc_1_op_res_127289 = w_j_127286 + redout_127267;
            float defunc_1_op_res_127290 = xw_j_127287 + redout_127268;
            float defunc_1_op_res_127291 = x2w_j_127288 + redout_127269;
            float redout_tmp_127328 = defunc_1_op_res_127289;
            float redout_tmp_127329 = defunc_1_op_res_127290;
            float redout_tmp_127330 = defunc_1_op_res_127291;
            
            redout_127267 = redout_tmp_127328;
            redout_127268 = redout_tmp_127329;
            redout_127269 = redout_tmp_127330;
        }
        defunc_2_reduce_res_127189 = redout_127267;
        defunc_2_reduce_res_127190 = redout_127268;
        defunc_2_reduce_res_127191 = redout_127269;
        
        float x_127218 = defunc_2_reduce_res_127189 *
              defunc_2_reduce_res_127191;
        float y_127219 = defunc_2_reduce_res_127190 *
              defunc_2_reduce_res_127190;
        float y_127220 = x_127218 - y_127219;
        float det1_127221 = 1.0F / y_127220;
        float a11_127222 = defunc_2_reduce_res_127191 * det1_127221;
        float negate_arg_127223 = defunc_2_reduce_res_127190 * det1_127221;
        float b11_127224 = 0.0F - negate_arg_127223;
        float c11_127225 = defunc_2_reduce_res_127189 * det1_127221;
        float defunc_2_reduce_res_127226;
        float defunc_2_reduce_res_127227;
        float redout_127293;
        float redout_127294;
        
        redout_127293 = 0.0F;
        redout_127294 = 0.0F;
        for (int64_t i_127292 = 0; i_127292 < t_window_114108; i_127292++) {
            bool cond_127295 = sle64(x_118752, i_127292);
            float defunc_0_f_res_127296;
            
            if (cond_127295) {
                defunc_0_f_res_127296 = 0.0F;
            } else {
                int64_t i_127297 = add64(x_127184, i_127292);
                float x_127298 = ((float *) mem_121069.mem)[gtid_118654 *
                                                            n_114105 +
                                                            i_127297];
                float defunc_0_f_res_f_res_127299 = 1.0F + x_127298;
                
                defunc_0_f_res_127296 = defunc_0_f_res_f_res_127299;
            }
            
            float defunc_0_f_res_127300;
            
            if (cond_127295) {
                defunc_0_f_res_127300 = 0.0F;
            } else {
                int64_t i_127301 = add64(x_127184, i_127292);
                float x_127302 = ((float *) mem_122005.mem)[gtid_118654 *
                                                            n_114105 +
                                                            i_127301];
                
                defunc_0_f_res_127300 = x_127302;
            }
            
            float x_j_127303 = defunc_0_f_res_127296 - defunc_0_f_res_127188;
            float abs_res_127304 = (float) fabs(x_j_127303);
            float tmp1_127305 = abs_res_127304 / x_127185;
            float x_127306 = tmp1_127305 * tmp1_127305;
            float y_127307 = tmp1_127305 * x_127306;
            float tmp2_127308 = 1.0F - y_127307;
            float x_127309 = tmp2_127308 * tmp2_127308;
            float tmp3_127310 = tmp2_127308 * x_127309;
            float tmp4_127311 = defunc_0_f_res_127300 * tmp3_127310;
            float defunc_1_f_res_127312 = x_j_127303 * tmp4_127311;
            float defunc_0_f_res_127313;
            
            if (cond_127295) {
                defunc_0_f_res_127313 = 0.0F;
            } else {
                int64_t i_127314 = add64(x_127184, i_127292);
                float x_127315 = ((float *) mem_122001.mem)[gtid_118654 *
                                                            n_114105 +
                                                            i_127314];
                
                defunc_0_f_res_127313 = x_127315;
            }
            
            float x_127316 = a11_127222 * tmp4_127311;
            float y_127317 = b11_127224 * defunc_1_f_res_127312;
            float x_127318 = x_127316 + y_127317;
            float defunc_9_fit_fun_res_127319 = defunc_0_f_res_127313 *
                  x_127318;
            float x_127320 = b11_127224 * tmp4_127311;
            float y_127321 = c11_127225 * defunc_1_f_res_127312;
            float x_127322 = x_127320 + y_127321;
            float defunc_9_slope_fun_res_127323 = defunc_0_f_res_127313 *
                  x_127322;
            float defunc_1_op_res_127324 = defunc_9_fit_fun_res_127319 +
                  redout_127293;
            float defunc_1_op_res_127325 = defunc_9_slope_fun_res_127323 +
                  redout_127294;
            float redout_tmp_127331 = defunc_1_op_res_127324;
            float redout_tmp_127332 = defunc_1_op_res_127325;
            
            redout_127293 = redout_tmp_127331;
            redout_127294 = redout_tmp_127332;
        }
        defunc_2_reduce_res_127226 = redout_127293;
        defunc_2_reduce_res_127227 = redout_127294;
        ((float *) mem_122038.mem)[gtid_118656] = defunc_2_reduce_res_127226;
        ((float *) mem_122041.mem)[gtid_118656] = defunc_2_reduce_res_127227;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130271_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130271_end -
                 futhark_mc_segmap_parloop_130271_start;
        
        ctx->futhark_mc_segmap_parloop_130271_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130271_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130271_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130269(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118655 = tid;
    int num_tasks_127264 = info.nsubtasks;
    struct futhark_mc_task_130268 *futhark_mc_task_130268 =
                                  (struct futhark_mc_task_130268 *) args;
    struct futhark_context *ctx = futhark_mc_task_130268->ctx;
    uint64_t futhark_mc_segmap_task_130269_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130269_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130268->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130268->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130268->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130268->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130268->free_i_114181;
    int64_t gtid_118654 = futhark_mc_task_130268->free_gtid_118654;
    int64_t x_118752 = futhark_mc_task_130268->free_x_118752;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130268->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130268->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130268->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130268->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130268->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122038 = {.desc ="mem_122038", .mem =
                                  futhark_mc_task_130268->free_mem_122038,
                                  .size =0, .references =NULL};
    struct memblock mem_122041 = {.desc ="mem_122041", .mem =
                                  futhark_mc_task_130268->free_mem_122041,
                                  .size =0, .references =NULL};
    int64_t iter_127265;
    struct futhark_mc_segmap_parloop_struct_130270
    futhark_mc_segmap_parloop_struct_130270;
    
    futhark_mc_segmap_parloop_struct_130270.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130270.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130270.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130270.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130270.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130270.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130270.free_gtid_118654 = gtid_118654;
    futhark_mc_segmap_parloop_struct_130270.free_x_118752 = x_118752;
    futhark_mc_segmap_parloop_struct_130270.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130270.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130270.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130270.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130270.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130270.free_mem_122038 = mem_122038.mem;
    futhark_mc_segmap_parloop_struct_130270.free_mem_122041 = mem_122041.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130271_task;
    
    futhark_mc_segmap_parloop_130271_task.name =
        "futhark_mc_segmap_parloop_130271";
    futhark_mc_segmap_parloop_130271_task.fn = futhark_mc_segmap_parloop_130271;
    futhark_mc_segmap_parloop_130271_task.args =
        &futhark_mc_segmap_parloop_struct_130270;
    futhark_mc_segmap_parloop_130271_task.iterations = iterations;
    futhark_mc_segmap_parloop_130271_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130271_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130271_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130271_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130271_task);
    
    if (futhark_mc_segmap_parloop_130271_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130271_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130271_total_end -
                 futhark_mc_segmap_parloop_130271_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130271_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130271_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130271_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130269_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130269_end -
                 futhark_mc_segmap_task_130269_start;
        
        ctx->futhark_mc_segmap_task_130269_runs[tid]++;
        ctx->futhark_mc_segmap_task_130269_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130269_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130273 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_118654;
    int64_t free_x_118752;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122038;
    char *free_mem_122041;
};
struct futhark_mc_task_130275 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118654;
    int64_t free_x_118752;
    char *free_mem_121069;
    char *free_mem_122005;
    int64_t free_x_127103;
    float free_x_127104;
    float free_defunc_0_f_res_127107;
    float *retval_defunc_2_reduce_res_127108;
    float *retval_defunc_2_reduce_res_127109;
    float *retval_defunc_2_reduce_res_127110;
};
struct futhark_mc_segred_stage_1_parloop_struct_130280 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118654;
    int64_t free_x_118752;
    char *free_mem_121069;
    char *free_mem_122005;
    int64_t free_x_127103;
    float free_x_127104;
    float free_defunc_0_f_res_127107;
    char *free_reduce_stage_1_tid_res_arr_mem_127400;
    char *free_reduce_stage_1_tid_res_arr_mem_127402;
    char *free_reduce_stage_1_tid_res_arr_mem_127404;
};
static int futhark_mc_segred_stage_1_parloop_130281(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_118659,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130280
    *futhark_mc_segred_stage_1_parloop_struct_130280 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130280 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130280->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130281_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130281_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130280->free_n_114105;
    int64_t gtid_118654 =
            futhark_mc_segred_stage_1_parloop_struct_130280->free_gtid_118654;
    int64_t x_118752 =
            futhark_mc_segred_stage_1_parloop_struct_130280->free_x_118752;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130280->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130280->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_127103 =
            futhark_mc_segred_stage_1_parloop_struct_130280->free_x_127103;
    float x_127104 =
          futhark_mc_segred_stage_1_parloop_struct_130280->free_x_127104;
    float defunc_0_f_res_127107 =
          futhark_mc_segred_stage_1_parloop_struct_130280->free_defunc_0_f_res_127107;
    struct memblock reduce_stage_1_tid_res_arr_mem_127400 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_127400",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130280->free_reduce_stage_1_tid_res_arr_mem_127400,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_127402 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_127402",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130280->free_reduce_stage_1_tid_res_arr_mem_127402,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_127404 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_127404",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130280->free_reduce_stage_1_tid_res_arr_mem_127404,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_127406 = start;
    float x_127334;
    float x_127335;
    float x_127337;
    float x_127338;
    float x_127340;
    float x_127341;
    float local_acc_127407 = 0.0F;
    float local_acc_127408 = 0.0F;
    float local_acc_127409 = 0.0F;
    
    for (; iter_127406 < end; iter_127406++) {
        int64_t gtid_118660 = iter_127406;
        bool cond_127343 = sle64(x_118752, gtid_118660);
        float defunc_0_f_res_127344;
        
        if (cond_127343) {
            defunc_0_f_res_127344 = 0.0F;
        } else {
            int64_t i_127345 = add64(gtid_118660, x_127103);
            float x_127346 = ((float *) mem_121069.mem)[gtid_118654 * n_114105 +
                                                        i_127345];
            float defunc_0_f_res_f_res_127347 = 1.0F + x_127346;
            
            defunc_0_f_res_127344 = defunc_0_f_res_f_res_127347;
        }
        
        float defunc_0_f_res_127348;
        
        if (cond_127343) {
            defunc_0_f_res_127348 = 0.0F;
        } else {
            int64_t i_127349 = add64(gtid_118660, x_127103);
            float x_127350 = ((float *) mem_122005.mem)[gtid_118654 * n_114105 +
                                                        i_127349];
            
            defunc_0_f_res_127348 = x_127350;
        }
        
        float x_j_127351 = defunc_0_f_res_127344 - defunc_0_f_res_127107;
        float abs_res_127352 = (float) fabs(x_j_127351);
        float tmp1_127353 = abs_res_127352 / x_127104;
        float x_127354 = tmp1_127353 * tmp1_127353;
        float y_127355 = tmp1_127353 * x_127354;
        float tmp2_127356 = 1.0F - y_127355;
        float x_127357 = tmp2_127356 * tmp2_127356;
        float tmp3_127358 = tmp2_127356 * x_127357;
        float w_j_127359 = defunc_0_f_res_127348 * tmp3_127358;
        float xw_j_127360 = x_j_127351 * w_j_127359;
        float x2w_j_127361 = x_j_127351 * xw_j_127360;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_127334 = local_acc_127407;
        }
        // Load next params
        {
            x_127335 = w_j_127359;
        }
        // Red body
        {
            float defunc_1_op_res_127336 = x_127334 + x_127335;
            
            local_acc_127407 = defunc_1_op_res_127336;
        }
        // Load accum params
        {
            x_127337 = local_acc_127408;
        }
        // Load next params
        {
            x_127338 = xw_j_127360;
        }
        // Red body
        {
            float defunc_1_op_res_127339 = x_127337 + x_127338;
            
            local_acc_127408 = defunc_1_op_res_127339;
        }
        // Load accum params
        {
            x_127340 = local_acc_127409;
        }
        // Load next params
        {
            x_127341 = x2w_j_127361;
        }
        // Red body
        {
            float defunc_1_op_res_127342 = x_127340 + x_127341;
            
            local_acc_127409 = defunc_1_op_res_127342;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_127400.mem)[flat_tid_118659] =
        local_acc_127407;
    ((float *) reduce_stage_1_tid_res_arr_mem_127402.mem)[flat_tid_118659] =
        local_acc_127408;
    ((float *) reduce_stage_1_tid_res_arr_mem_127404.mem)[flat_tid_118659] =
        local_acc_127409;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130281_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130281_end -
                 futhark_mc_segred_stage_1_parloop_130281_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130281_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130281_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130281_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130276(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118659 = tid;
    int num_tasks_127399 = info.nsubtasks;
    struct futhark_mc_task_130275 *futhark_mc_task_130275 =
                                  (struct futhark_mc_task_130275 *) args;
    struct futhark_context *ctx = futhark_mc_task_130275->ctx;
    uint64_t futhark_mc_segred_task_130276_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130276_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130275->free_n_114105;
    int64_t gtid_118654 = futhark_mc_task_130275->free_gtid_118654;
    int64_t x_118752 = futhark_mc_task_130275->free_x_118752;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130275->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130275->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_127103 = futhark_mc_task_130275->free_x_127103;
    float x_127104 = futhark_mc_task_130275->free_x_127104;
    float defunc_0_f_res_127107 =
          futhark_mc_task_130275->free_defunc_0_f_res_127107;
    float defunc_2_reduce_res_127108 =
          *futhark_mc_task_130275->retval_defunc_2_reduce_res_127108;
    float defunc_2_reduce_res_127109 =
          *futhark_mc_task_130275->retval_defunc_2_reduce_res_127109;
    float defunc_2_reduce_res_127110 =
          *futhark_mc_task_130275->retval_defunc_2_reduce_res_127110;
    size_t reduce_stage_1_tid_res_arr_mem_127400_cached_sizze_130277 = 0;
    char *reduce_stage_1_tid_res_arr_mem_127400 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_127402_cached_sizze_130278 = 0;
    char *reduce_stage_1_tid_res_arr_mem_127402 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_127404_cached_sizze_130279 = 0;
    char *reduce_stage_1_tid_res_arr_mem_127404 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_127400_cached_sizze_130277 <
        (size_t) ((int64_t) 4 * num_tasks_127399)) {
        reduce_stage_1_tid_res_arr_mem_127400 =
            realloc(reduce_stage_1_tid_res_arr_mem_127400, (int64_t) 4 *
                    num_tasks_127399);
        reduce_stage_1_tid_res_arr_mem_127400_cached_sizze_130277 =
            (int64_t) 4 * num_tasks_127399;
    }
    if (reduce_stage_1_tid_res_arr_mem_127402_cached_sizze_130278 <
        (size_t) ((int64_t) 4 * num_tasks_127399)) {
        reduce_stage_1_tid_res_arr_mem_127402 =
            realloc(reduce_stage_1_tid_res_arr_mem_127402, (int64_t) 4 *
                    num_tasks_127399);
        reduce_stage_1_tid_res_arr_mem_127402_cached_sizze_130278 =
            (int64_t) 4 * num_tasks_127399;
    }
    if (reduce_stage_1_tid_res_arr_mem_127404_cached_sizze_130279 <
        (size_t) ((int64_t) 4 * num_tasks_127399)) {
        reduce_stage_1_tid_res_arr_mem_127404 =
            realloc(reduce_stage_1_tid_res_arr_mem_127404, (int64_t) 4 *
                    num_tasks_127399);
        reduce_stage_1_tid_res_arr_mem_127404_cached_sizze_130279 =
            (int64_t) 4 * num_tasks_127399;
    }
    
    int64_t iter_127406;
    struct futhark_mc_segred_stage_1_parloop_struct_130280
    futhark_mc_segred_stage_1_parloop_struct_130280;
    
    futhark_mc_segred_stage_1_parloop_struct_130280.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130280.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130280.free_gtid_118654 =
        gtid_118654;
    futhark_mc_segred_stage_1_parloop_struct_130280.free_x_118752 = x_118752;
    futhark_mc_segred_stage_1_parloop_struct_130280.free_mem_121069 =
        mem_121069.mem;
    futhark_mc_segred_stage_1_parloop_struct_130280.free_mem_122005 =
        mem_122005.mem;
    futhark_mc_segred_stage_1_parloop_struct_130280.free_x_127103 = x_127103;
    futhark_mc_segred_stage_1_parloop_struct_130280.free_x_127104 = x_127104;
    futhark_mc_segred_stage_1_parloop_struct_130280.free_defunc_0_f_res_127107 =
        defunc_0_f_res_127107;
    futhark_mc_segred_stage_1_parloop_struct_130280.free_reduce_stage_1_tid_res_arr_mem_127400 =
        reduce_stage_1_tid_res_arr_mem_127400;
    futhark_mc_segred_stage_1_parloop_struct_130280.free_reduce_stage_1_tid_res_arr_mem_127402 =
        reduce_stage_1_tid_res_arr_mem_127402;
    futhark_mc_segred_stage_1_parloop_struct_130280.free_reduce_stage_1_tid_res_arr_mem_127404 =
        reduce_stage_1_tid_res_arr_mem_127404;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130281_task;
    
    futhark_mc_segred_stage_1_parloop_130281_task.name =
        "futhark_mc_segred_stage_1_parloop_130281";
    futhark_mc_segred_stage_1_parloop_130281_task.fn =
        futhark_mc_segred_stage_1_parloop_130281;
    futhark_mc_segred_stage_1_parloop_130281_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130280;
    futhark_mc_segred_stage_1_parloop_130281_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130281_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130281_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130281_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130281_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130281_task);
    
    if (futhark_mc_segred_stage_1_parloop_130281_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130281_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130281_total_end -
                 futhark_mc_segred_stage_1_parloop_130281_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130281_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130281_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130281_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_127108 = 0.0F;
        defunc_2_reduce_res_127109 = 0.0F;
        defunc_2_reduce_res_127110 = 0.0F;
    }
    
    float x_127410;
    float x_127411;
    float x_127413;
    float x_127414;
    float x_127416;
    float x_127417;
    
    for (int32_t i_127419 = 0; i_127419 < num_tasks_127399; i_127419++) {
        flat_tid_118659 = i_127419;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_127410 = defunc_2_reduce_res_127108;
            }
            // load next params
            {
                x_127411 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_127400)[flat_tid_118659];
            }
            // red body
            {
                float defunc_1_op_res_127412 = x_127410 + x_127411;
                
                defunc_2_reduce_res_127108 = defunc_1_op_res_127412;
            }
            // load acc params
            {
                x_127413 = defunc_2_reduce_res_127109;
            }
            // load next params
            {
                x_127414 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_127402)[flat_tid_118659];
            }
            // red body
            {
                float defunc_1_op_res_127415 = x_127413 + x_127414;
                
                defunc_2_reduce_res_127109 = defunc_1_op_res_127415;
            }
            // load acc params
            {
                x_127416 = defunc_2_reduce_res_127110;
            }
            // load next params
            {
                x_127417 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_127404)[flat_tid_118659];
            }
            // red body
            {
                float defunc_1_op_res_127418 = x_127416 + x_127417;
                
                defunc_2_reduce_res_127110 = defunc_1_op_res_127418;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_127400);
    free(reduce_stage_1_tid_res_arr_mem_127402);
    free(reduce_stage_1_tid_res_arr_mem_127404);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130276_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130276_end -
                 futhark_mc_segred_task_130276_start;
        
        ctx->futhark_mc_segred_task_130276_runs[tid]++;
        ctx->futhark_mc_segred_task_130276_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130276_iter[tid] += iterations;
    }
    *futhark_mc_task_130275->retval_defunc_2_reduce_res_127108 =
        defunc_2_reduce_res_127108;
    *futhark_mc_task_130275->retval_defunc_2_reduce_res_127109 =
        defunc_2_reduce_res_127109;
    *futhark_mc_task_130275->retval_defunc_2_reduce_res_127110 =
        defunc_2_reduce_res_127110;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130282 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118654;
    int64_t free_x_118752;
    char *free_mem_121069;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_x_127103;
    float free_x_127104;
    float free_defunc_0_f_res_127107;
    float free_a11_127143;
    float free_b11_127145;
    float free_c11_127146;
    float *retval_defunc_2_reduce_res_127147;
    float *retval_defunc_2_reduce_res_127148;
};
struct futhark_mc_segred_stage_1_parloop_struct_130286 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118654;
    int64_t free_x_118752;
    char *free_mem_121069;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_x_127103;
    float free_x_127104;
    float free_defunc_0_f_res_127107;
    float free_a11_127143;
    float free_b11_127145;
    float free_c11_127146;
    char *free_reduce_stage_1_tid_res_arr_mem_127421;
    char *free_reduce_stage_1_tid_res_arr_mem_127423;
};
static int futhark_mc_segred_stage_1_parloop_130287(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_118661,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130286
    *futhark_mc_segred_stage_1_parloop_struct_130286 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130286 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130286->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130287_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130287_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130286->free_n_114105;
    int64_t gtid_118654 =
            futhark_mc_segred_stage_1_parloop_struct_130286->free_gtid_118654;
    int64_t x_118752 =
            futhark_mc_segred_stage_1_parloop_struct_130286->free_x_118752;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130286->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130286->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130286->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_127103 =
            futhark_mc_segred_stage_1_parloop_struct_130286->free_x_127103;
    float x_127104 =
          futhark_mc_segred_stage_1_parloop_struct_130286->free_x_127104;
    float defunc_0_f_res_127107 =
          futhark_mc_segred_stage_1_parloop_struct_130286->free_defunc_0_f_res_127107;
    float a11_127143 =
          futhark_mc_segred_stage_1_parloop_struct_130286->free_a11_127143;
    float b11_127145 =
          futhark_mc_segred_stage_1_parloop_struct_130286->free_b11_127145;
    float c11_127146 =
          futhark_mc_segred_stage_1_parloop_struct_130286->free_c11_127146;
    struct memblock reduce_stage_1_tid_res_arr_mem_127421 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_127421",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130286->free_reduce_stage_1_tid_res_arr_mem_127421,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_127423 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_127423",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130286->free_reduce_stage_1_tid_res_arr_mem_127423,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_127425 = start;
    float x_127362;
    float x_127363;
    float x_127365;
    float x_127366;
    float local_acc_127426 = 0.0F;
    float local_acc_127427 = 0.0F;
    
    for (; iter_127425 < end; iter_127425++) {
        int64_t gtid_118662 = iter_127425;
        bool cond_127368 = sle64(x_118752, gtid_118662);
        float defunc_0_f_res_127369;
        
        if (cond_127368) {
            defunc_0_f_res_127369 = 0.0F;
        } else {
            int64_t i_127370 = add64(gtid_118662, x_127103);
            float x_127371 = ((float *) mem_121069.mem)[gtid_118654 * n_114105 +
                                                        i_127370];
            float defunc_0_f_res_f_res_127372 = 1.0F + x_127371;
            
            defunc_0_f_res_127369 = defunc_0_f_res_f_res_127372;
        }
        
        float defunc_0_f_res_127373;
        
        if (cond_127368) {
            defunc_0_f_res_127373 = 0.0F;
        } else {
            int64_t i_127374 = add64(gtid_118662, x_127103);
            float x_127375 = ((float *) mem_122005.mem)[gtid_118654 * n_114105 +
                                                        i_127374];
            
            defunc_0_f_res_127373 = x_127375;
        }
        
        float x_j_127376 = defunc_0_f_res_127369 - defunc_0_f_res_127107;
        float abs_res_127377 = (float) fabs(x_j_127376);
        float tmp1_127378 = abs_res_127377 / x_127104;
        float x_127379 = tmp1_127378 * tmp1_127378;
        float y_127380 = tmp1_127378 * x_127379;
        float tmp2_127381 = 1.0F - y_127380;
        float x_127382 = tmp2_127381 * tmp2_127381;
        float tmp3_127383 = tmp2_127381 * x_127382;
        float tmp4_127384 = defunc_0_f_res_127373 * tmp3_127383;
        float defunc_1_f_res_127385 = x_j_127376 * tmp4_127384;
        float defunc_0_f_res_127386;
        
        if (cond_127368) {
            defunc_0_f_res_127386 = 0.0F;
        } else {
            int64_t i_127387 = add64(gtid_118662, x_127103);
            float x_127388 = ((float *) mem_122001.mem)[gtid_118654 * n_114105 +
                                                        i_127387];
            
            defunc_0_f_res_127386 = x_127388;
        }
        
        float x_127389 = a11_127143 * tmp4_127384;
        float y_127390 = b11_127145 * defunc_1_f_res_127385;
        float x_127391 = x_127389 + y_127390;
        float defunc_9_fit_fun_res_127392 = defunc_0_f_res_127386 * x_127391;
        float x_127393 = b11_127145 * tmp4_127384;
        float y_127394 = c11_127146 * defunc_1_f_res_127385;
        float x_127395 = x_127393 + y_127394;
        float defunc_9_slope_fun_res_127396 = defunc_0_f_res_127386 * x_127395;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_127362 = local_acc_127426;
        }
        // Load next params
        {
            x_127363 = defunc_9_fit_fun_res_127392;
        }
        // Red body
        {
            float defunc_1_op_res_127364 = x_127362 + x_127363;
            
            local_acc_127426 = defunc_1_op_res_127364;
        }
        // Load accum params
        {
            x_127365 = local_acc_127427;
        }
        // Load next params
        {
            x_127366 = defunc_9_slope_fun_res_127396;
        }
        // Red body
        {
            float defunc_1_op_res_127367 = x_127365 + x_127366;
            
            local_acc_127427 = defunc_1_op_res_127367;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_127421.mem)[flat_tid_118661] =
        local_acc_127426;
    ((float *) reduce_stage_1_tid_res_arr_mem_127423.mem)[flat_tid_118661] =
        local_acc_127427;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130287_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130287_end -
                 futhark_mc_segred_stage_1_parloop_130287_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130287_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130287_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130287_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130283(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118661 = tid;
    int num_tasks_127420 = info.nsubtasks;
    struct futhark_mc_task_130282 *futhark_mc_task_130282 =
                                  (struct futhark_mc_task_130282 *) args;
    struct futhark_context *ctx = futhark_mc_task_130282->ctx;
    uint64_t futhark_mc_segred_task_130283_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130283_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130282->free_n_114105;
    int64_t gtid_118654 = futhark_mc_task_130282->free_gtid_118654;
    int64_t x_118752 = futhark_mc_task_130282->free_x_118752;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130282->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130282->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130282->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_127103 = futhark_mc_task_130282->free_x_127103;
    float x_127104 = futhark_mc_task_130282->free_x_127104;
    float defunc_0_f_res_127107 =
          futhark_mc_task_130282->free_defunc_0_f_res_127107;
    float a11_127143 = futhark_mc_task_130282->free_a11_127143;
    float b11_127145 = futhark_mc_task_130282->free_b11_127145;
    float c11_127146 = futhark_mc_task_130282->free_c11_127146;
    float defunc_2_reduce_res_127147 =
          *futhark_mc_task_130282->retval_defunc_2_reduce_res_127147;
    float defunc_2_reduce_res_127148 =
          *futhark_mc_task_130282->retval_defunc_2_reduce_res_127148;
    size_t reduce_stage_1_tid_res_arr_mem_127421_cached_sizze_130284 = 0;
    char *reduce_stage_1_tid_res_arr_mem_127421 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_127423_cached_sizze_130285 = 0;
    char *reduce_stage_1_tid_res_arr_mem_127423 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_127421_cached_sizze_130284 <
        (size_t) ((int64_t) 4 * num_tasks_127420)) {
        reduce_stage_1_tid_res_arr_mem_127421 =
            realloc(reduce_stage_1_tid_res_arr_mem_127421, (int64_t) 4 *
                    num_tasks_127420);
        reduce_stage_1_tid_res_arr_mem_127421_cached_sizze_130284 =
            (int64_t) 4 * num_tasks_127420;
    }
    if (reduce_stage_1_tid_res_arr_mem_127423_cached_sizze_130285 <
        (size_t) ((int64_t) 4 * num_tasks_127420)) {
        reduce_stage_1_tid_res_arr_mem_127423 =
            realloc(reduce_stage_1_tid_res_arr_mem_127423, (int64_t) 4 *
                    num_tasks_127420);
        reduce_stage_1_tid_res_arr_mem_127423_cached_sizze_130285 =
            (int64_t) 4 * num_tasks_127420;
    }
    
    int64_t iter_127425;
    struct futhark_mc_segred_stage_1_parloop_struct_130286
    futhark_mc_segred_stage_1_parloop_struct_130286;
    
    futhark_mc_segred_stage_1_parloop_struct_130286.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_gtid_118654 =
        gtid_118654;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_x_118752 = x_118752;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_mem_121069 =
        mem_121069.mem;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_mem_122001 =
        mem_122001.mem;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_mem_122005 =
        mem_122005.mem;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_x_127103 = x_127103;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_x_127104 = x_127104;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_defunc_0_f_res_127107 =
        defunc_0_f_res_127107;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_a11_127143 =
        a11_127143;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_b11_127145 =
        b11_127145;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_c11_127146 =
        c11_127146;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_reduce_stage_1_tid_res_arr_mem_127421 =
        reduce_stage_1_tid_res_arr_mem_127421;
    futhark_mc_segred_stage_1_parloop_struct_130286.free_reduce_stage_1_tid_res_arr_mem_127423 =
        reduce_stage_1_tid_res_arr_mem_127423;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130287_task;
    
    futhark_mc_segred_stage_1_parloop_130287_task.name =
        "futhark_mc_segred_stage_1_parloop_130287";
    futhark_mc_segred_stage_1_parloop_130287_task.fn =
        futhark_mc_segred_stage_1_parloop_130287;
    futhark_mc_segred_stage_1_parloop_130287_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130286;
    futhark_mc_segred_stage_1_parloop_130287_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130287_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130287_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130287_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130287_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130287_task);
    
    if (futhark_mc_segred_stage_1_parloop_130287_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130287_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130287_total_end -
                 futhark_mc_segred_stage_1_parloop_130287_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130287_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130287_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130287_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_127147 = 0.0F;
        defunc_2_reduce_res_127148 = 0.0F;
    }
    
    float x_127428;
    float x_127429;
    float x_127431;
    float x_127432;
    
    for (int32_t i_127434 = 0; i_127434 < num_tasks_127420; i_127434++) {
        flat_tid_118661 = i_127434;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_127428 = defunc_2_reduce_res_127147;
            }
            // load next params
            {
                x_127429 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_127421)[flat_tid_118661];
            }
            // red body
            {
                float defunc_1_op_res_127430 = x_127428 + x_127429;
                
                defunc_2_reduce_res_127147 = defunc_1_op_res_127430;
            }
            // load acc params
            {
                x_127431 = defunc_2_reduce_res_127148;
            }
            // load next params
            {
                x_127432 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_127423)[flat_tid_118661];
            }
            // red body
            {
                float defunc_1_op_res_127433 = x_127431 + x_127432;
                
                defunc_2_reduce_res_127148 = defunc_1_op_res_127433;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_127421);
    free(reduce_stage_1_tid_res_arr_mem_127423);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130283_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130283_end -
                 futhark_mc_segred_task_130283_start;
        
        ctx->futhark_mc_segred_task_130283_runs[tid]++;
        ctx->futhark_mc_segred_task_130283_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130283_iter[tid] += iterations;
    }
    *futhark_mc_task_130282->retval_defunc_2_reduce_res_127147 =
        defunc_2_reduce_res_127147;
    *futhark_mc_task_130282->retval_defunc_2_reduce_res_127148 =
        defunc_2_reduce_res_127148;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130274(void *args, int64_t start,
                                            int64_t end, int flat_tid_118657,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130273
    *futhark_mc_segmap_parloop_struct_130273 =
    (struct futhark_mc_segmap_parloop_struct_130273 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130273->ctx;
    uint64_t futhark_mc_segmap_parloop_130274_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130274_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130273->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130273->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130273->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130273->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130273->free_i_114181;
    int64_t gtid_118654 =
            futhark_mc_segmap_parloop_struct_130273->free_gtid_118654;
    int64_t x_118752 = futhark_mc_segmap_parloop_struct_130273->free_x_118752;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130273->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130273->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130273->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130273->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130273->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122038 = {.desc ="mem_122038", .mem =
                                  futhark_mc_segmap_parloop_struct_130273->free_mem_122038,
                                  .size =0, .references =NULL};
    struct memblock mem_122041 = {.desc ="mem_122041", .mem =
                                  futhark_mc_segmap_parloop_struct_130273->free_mem_122041,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_127333 = start;
    
    for (; iter_127333 < end; iter_127333++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_127397 = t_n_m_114162;
        int64_t gtid_118658 = iter_127333;
        int64_t remnant_127398 = iter_127333 - gtid_118658;
        int64_t x_127103 = ((int64_t *) mem_121233.mem)[gtid_118654 *
                                                        t_n_m_114162 +
                                                        gtid_118658];
        float x_127104 = ((float *) mem_121237.mem)[gtid_118654 * t_n_m_114162 +
                                                    gtid_118658];
        int64_t min_arg_127105 = mul64(t_jump_114112, gtid_118658);
        int64_t min_res_127106 = smin64(i_114181, min_arg_127105);
        float defunc_0_f_res_127107 = sitofp_i64_f32(min_res_127106);
        float defunc_2_reduce_res_127108;
        float defunc_2_reduce_res_127109;
        float defunc_2_reduce_res_127110;
        int64_t flat_tid_118659 = (int64_t) 0;
        int32_t num_tasks_127399;
        struct futhark_mc_task_130275 futhark_mc_task_130275;
        
        futhark_mc_task_130275.ctx = ctx;
        futhark_mc_task_130275.free_n_114105 = n_114105;
        futhark_mc_task_130275.free_gtid_118654 = gtid_118654;
        futhark_mc_task_130275.free_x_118752 = x_118752;
        futhark_mc_task_130275.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130275.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130275.free_x_127103 = x_127103;
        futhark_mc_task_130275.free_x_127104 = x_127104;
        futhark_mc_task_130275.free_defunc_0_f_res_127107 =
            defunc_0_f_res_127107;
        futhark_mc_task_130275.retval_defunc_2_reduce_res_127108 =
            &defunc_2_reduce_res_127108;
        futhark_mc_task_130275.retval_defunc_2_reduce_res_127109 =
            &defunc_2_reduce_res_127109;
        futhark_mc_task_130275.retval_defunc_2_reduce_res_127110 =
            &defunc_2_reduce_res_127110;
        
        struct scheduler_segop futhark_mc_task_130275_task;
        
        futhark_mc_task_130275_task.args = &futhark_mc_task_130275;
        futhark_mc_task_130275_task.top_level_fn =
            futhark_mc_segred_task_130276;
        futhark_mc_task_130275_task.name = "futhark_mc_segred_task_130276";
        futhark_mc_task_130275_task.iterations = t_window_114108;
        futhark_mc_task_130275_task.task_time =
            &ctx->futhark_mc_segred_task_130276_total_time;
        futhark_mc_task_130275_task.task_iter =
            &ctx->futhark_mc_segred_task_130276_total_iter;
        futhark_mc_task_130275_task.sched = STATIC;
        futhark_mc_task_130275_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130276_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130275_task);
        
        if (futhark_mc_segred_task_130276_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_127139 = defunc_2_reduce_res_127108 *
              defunc_2_reduce_res_127110;
        float y_127140 = defunc_2_reduce_res_127109 *
              defunc_2_reduce_res_127109;
        float y_127141 = x_127139 - y_127140;
        float det1_127142 = 1.0F / y_127141;
        float a11_127143 = defunc_2_reduce_res_127110 * det1_127142;
        float negate_arg_127144 = defunc_2_reduce_res_127109 * det1_127142;
        float b11_127145 = 0.0F - negate_arg_127144;
        float c11_127146 = defunc_2_reduce_res_127108 * det1_127142;
        float defunc_2_reduce_res_127147;
        float defunc_2_reduce_res_127148;
        int64_t flat_tid_118661 = (int64_t) 0;
        int32_t num_tasks_127420;
        struct futhark_mc_task_130282 futhark_mc_task_130282;
        
        futhark_mc_task_130282.ctx = ctx;
        futhark_mc_task_130282.free_n_114105 = n_114105;
        futhark_mc_task_130282.free_gtid_118654 = gtid_118654;
        futhark_mc_task_130282.free_x_118752 = x_118752;
        futhark_mc_task_130282.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130282.free_mem_122001 = mem_122001.mem;
        futhark_mc_task_130282.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130282.free_x_127103 = x_127103;
        futhark_mc_task_130282.free_x_127104 = x_127104;
        futhark_mc_task_130282.free_defunc_0_f_res_127107 =
            defunc_0_f_res_127107;
        futhark_mc_task_130282.free_a11_127143 = a11_127143;
        futhark_mc_task_130282.free_b11_127145 = b11_127145;
        futhark_mc_task_130282.free_c11_127146 = c11_127146;
        futhark_mc_task_130282.retval_defunc_2_reduce_res_127147 =
            &defunc_2_reduce_res_127147;
        futhark_mc_task_130282.retval_defunc_2_reduce_res_127148 =
            &defunc_2_reduce_res_127148;
        
        struct scheduler_segop futhark_mc_task_130282_task;
        
        futhark_mc_task_130282_task.args = &futhark_mc_task_130282;
        futhark_mc_task_130282_task.top_level_fn =
            futhark_mc_segred_task_130283;
        futhark_mc_task_130282_task.name = "futhark_mc_segred_task_130283";
        futhark_mc_task_130282_task.iterations = t_window_114108;
        futhark_mc_task_130282_task.task_time =
            &ctx->futhark_mc_segred_task_130283_total_time;
        futhark_mc_task_130282_task.task_iter =
            &ctx->futhark_mc_segred_task_130283_total_iter;
        futhark_mc_task_130282_task.sched = STATIC;
        futhark_mc_task_130282_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130283_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130282_task);
        
        if (futhark_mc_segred_task_130283_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_122038.mem)[gtid_118658] = defunc_2_reduce_res_127147;
        ((float *) mem_122041.mem)[gtid_118658] = defunc_2_reduce_res_127148;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130274_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130274_end -
                 futhark_mc_segmap_parloop_130274_start;
        
        ctx->futhark_mc_segmap_parloop_130274_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130274_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130274_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130272(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118657 = tid;
    int num_tasks_127264 = info.nsubtasks;
    struct futhark_mc_task_130268 *futhark_mc_task_130268 =
                                  (struct futhark_mc_task_130268 *) args;
    struct futhark_context *ctx = futhark_mc_task_130268->ctx;
    uint64_t futhark_mc_segmap_nested_task_130272_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130272_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130268->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130268->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130268->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130268->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130268->free_i_114181;
    int64_t gtid_118654 = futhark_mc_task_130268->free_gtid_118654;
    int64_t x_118752 = futhark_mc_task_130268->free_x_118752;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130268->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130268->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130268->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130268->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130268->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122038 = {.desc ="mem_122038", .mem =
                                  futhark_mc_task_130268->free_mem_122038,
                                  .size =0, .references =NULL};
    struct memblock mem_122041 = {.desc ="mem_122041", .mem =
                                  futhark_mc_task_130268->free_mem_122041,
                                  .size =0, .references =NULL};
    int64_t iter_127333;
    struct futhark_mc_segmap_parloop_struct_130273
    futhark_mc_segmap_parloop_struct_130273;
    
    futhark_mc_segmap_parloop_struct_130273.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130273.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130273.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130273.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130273.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130273.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130273.free_gtid_118654 = gtid_118654;
    futhark_mc_segmap_parloop_struct_130273.free_x_118752 = x_118752;
    futhark_mc_segmap_parloop_struct_130273.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130273.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130273.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130273.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130273.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130273.free_mem_122038 = mem_122038.mem;
    futhark_mc_segmap_parloop_struct_130273.free_mem_122041 = mem_122041.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130274_task;
    
    futhark_mc_segmap_parloop_130274_task.name =
        "futhark_mc_segmap_parloop_130274";
    futhark_mc_segmap_parloop_130274_task.fn = futhark_mc_segmap_parloop_130274;
    futhark_mc_segmap_parloop_130274_task.args =
        &futhark_mc_segmap_parloop_struct_130273;
    futhark_mc_segmap_parloop_130274_task.iterations = iterations;
    futhark_mc_segmap_parloop_130274_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130274_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130274_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130274_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130274_task);
    
    if (futhark_mc_segmap_parloop_130274_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130274_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130274_total_end -
                 futhark_mc_segmap_parloop_130274_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130274_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130274_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130274_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130272_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130272_end -
                 futhark_mc_segmap_nested_task_130272_start;
        
        ctx->futhark_mc_segmap_nested_task_130272_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130272_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130272_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130265(void *args, int64_t start,
                                            int64_t end, int flat_tid_118653,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130264
    *futhark_mc_segmap_parloop_struct_130264 =
    (struct futhark_mc_segmap_parloop_struct_130264 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130264->ctx;
    uint64_t futhark_mc_segmap_parloop_130265_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130265_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130264->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130264->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130264->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130264->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130264->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130264->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_130264->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130264->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_130264->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130264->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130264->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130264->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130264->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122075 = {.desc ="mem_122075", .mem =
                                  futhark_mc_segmap_parloop_struct_130264->free_mem_122075,
                                  .size =0, .references =NULL};
    struct memblock mem_122079 = {.desc ="mem_122079", .mem =
                                  futhark_mc_segmap_parloop_struct_130264->free_mem_122079,
                                  .size =0, .references =NULL};
    size_t mem_122038_cached_sizze_130266 = 0;
    char *mem_122038 = NULL;
    size_t mem_122041_cached_sizze_130267 = 0;
    char *mem_122041 = NULL;
    int64_t iterations = end - start;
    int64_t iter_127102 = start;
    
    if (mem_122038_cached_sizze_130266 < (size_t) bytes_121179) {
        mem_122038 = realloc(mem_122038, bytes_121179);
        mem_122038_cached_sizze_130266 = bytes_121179;
    }
    if (mem_122041_cached_sizze_130267 < (size_t) bytes_121179) {
        mem_122041 = realloc(mem_122041, bytes_121179);
        mem_122041_cached_sizze_130267 = bytes_121179;
    }
    for (; iter_127102 < end; iter_127102++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_127262 = m_114104;
        int64_t gtid_118654 = iter_127102;
        int64_t remnant_127263 = iter_127102 - gtid_118654;
        int64_t x_118752 = ((int64_t *) mem_121047.mem)[gtid_118654];
        int64_t flat_tid_118655 = (int64_t) 0;
        int32_t num_tasks_127264;
        int64_t flat_tid_118657 = (int64_t) 0;
        struct futhark_mc_task_130268 futhark_mc_task_130268;
        
        futhark_mc_task_130268.ctx = ctx;
        futhark_mc_task_130268.free_n_114105 = n_114105;
        futhark_mc_task_130268.free_t_window_114108 = t_window_114108;
        futhark_mc_task_130268.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_130268.free_t_n_m_114162 = t_n_m_114162;
        futhark_mc_task_130268.free_i_114181 = i_114181;
        futhark_mc_task_130268.free_gtid_118654 = gtid_118654;
        futhark_mc_task_130268.free_x_118752 = x_118752;
        futhark_mc_task_130268.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130268.free_mem_121233 = mem_121233.mem;
        futhark_mc_task_130268.free_mem_121237 = mem_121237.mem;
        futhark_mc_task_130268.free_mem_122001 = mem_122001.mem;
        futhark_mc_task_130268.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130268.free_mem_122038 = mem_122038;
        futhark_mc_task_130268.free_mem_122041 = mem_122041;
        
        struct scheduler_segop futhark_mc_task_130268_task;
        
        futhark_mc_task_130268_task.args = &futhark_mc_task_130268;
        futhark_mc_task_130268_task.top_level_fn =
            futhark_mc_segmap_task_130269;
        futhark_mc_task_130268_task.name = "futhark_mc_segmap_task_130269";
        futhark_mc_task_130268_task.iterations = t_n_m_114162;
        futhark_mc_task_130268_task.task_time =
            &ctx->futhark_mc_segmap_task_130269_total_time;
        futhark_mc_task_130268_task.task_iter =
            &ctx->futhark_mc_segmap_task_130269_total_iter;
        futhark_mc_task_130268_task.sched = STATIC;
        futhark_mc_task_130268_task.nested_fn =
            futhark_mc_segmap_nested_task_130272;
        
        int futhark_mc_segmap_task_130269_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130268_task);
        
        if (futhark_mc_segmap_task_130269_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_122075.mem + gtid_118654 * t_n_m_114162 * (int64_t) 4,
                mem_122038 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
        memmove(mem_122079.mem + gtid_118654 * t_n_m_114162 * (int64_t) 4,
                mem_122041 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122038);
    free(mem_122041);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130265_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130265_end -
                 futhark_mc_segmap_parloop_130265_start;
        
        ctx->futhark_mc_segmap_parloop_130265_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130265_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130265_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130263(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118653 = tid;
    int num_tasks_127008 = info.nsubtasks;
    struct futhark_mc_task_130257 *futhark_mc_task_130257 =
                                  (struct futhark_mc_task_130257 *) args;
    struct futhark_context *ctx = futhark_mc_task_130257->ctx;
    uint64_t futhark_mc_segmap_nested_task_130263_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130263_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130257->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130257->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130257->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130257->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130257->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130257->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_130257->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130257->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_130257->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130257->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130257->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130257->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130257->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122075 = {.desc ="mem_122075", .mem =
                                  futhark_mc_task_130257->free_mem_122075,
                                  .size =0, .references =NULL};
    struct memblock mem_122079 = {.desc ="mem_122079", .mem =
                                  futhark_mc_task_130257->free_mem_122079,
                                  .size =0, .references =NULL};
    int64_t iter_127102;
    struct futhark_mc_segmap_parloop_struct_130264
    futhark_mc_segmap_parloop_struct_130264;
    
    futhark_mc_segmap_parloop_struct_130264.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130264.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130264.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130264.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130264.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130264.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130264.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130264.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_130264.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130264.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_130264.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130264.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130264.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130264.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130264.free_mem_122075 = mem_122075.mem;
    futhark_mc_segmap_parloop_struct_130264.free_mem_122079 = mem_122079.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130265_task;
    
    futhark_mc_segmap_parloop_130265_task.name =
        "futhark_mc_segmap_parloop_130265";
    futhark_mc_segmap_parloop_130265_task.fn = futhark_mc_segmap_parloop_130265;
    futhark_mc_segmap_parloop_130265_task.args =
        &futhark_mc_segmap_parloop_struct_130264;
    futhark_mc_segmap_parloop_130265_task.iterations = iterations;
    futhark_mc_segmap_parloop_130265_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130265_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130265_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130265_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130265_task);
    
    if (futhark_mc_segmap_parloop_130265_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130265_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130265_total_end -
                 futhark_mc_segmap_parloop_130265_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130265_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130265_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130265_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130263_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130263_end -
                 futhark_mc_segmap_nested_task_130263_start;
        
        ctx->futhark_mc_segmap_nested_task_130263_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130263_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130263_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130288 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122119;
    char *free_mem_122123;
};
struct futhark_mc_segmap_parloop_struct_130290 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122119;
    char *free_mem_122123;
};
static int futhark_mc_segmap_parloop_130291(void *args, int64_t start,
                                            int64_t end, int flat_tid_118923,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130290
    *futhark_mc_segmap_parloop_struct_130290 =
    (struct futhark_mc_segmap_parloop_struct_130290 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130290->ctx;
    uint64_t futhark_mc_segmap_parloop_130291_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130291_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130290->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130290->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130290->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130290->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130290->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130290->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_130290->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130290->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_130290->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130290->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130290->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130290->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130290->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122119 = {.desc ="mem_122119", .mem =
                                  futhark_mc_segmap_parloop_struct_130290->free_mem_122119,
                                  .size =0, .references =NULL};
    struct memblock mem_122123 = {.desc ="mem_122123", .mem =
                                  futhark_mc_segmap_parloop_struct_130290->free_mem_122123,
                                  .size =0, .references =NULL};
    size_t mem_122088_cached_sizze_130292 = 0;
    char *mem_122088 = NULL;
    size_t mem_122091_cached_sizze_130293 = 0;
    char *mem_122091 = NULL;
    int64_t iterations = end - start;
    int64_t iter_127436 = start;
    
    if (mem_122088_cached_sizze_130292 < (size_t) bytes_121179) {
        mem_122088 = realloc(mem_122088, bytes_121179);
        mem_122088_cached_sizze_130292 = bytes_121179;
    }
    if (mem_122091_cached_sizze_130293 < (size_t) bytes_121179) {
        mem_122091 = realloc(mem_122091, bytes_121179);
        mem_122091_cached_sizze_130293 = bytes_121179;
    }
    for (; iter_127436 < end; iter_127436++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_127550 = m_114104;
        int64_t gtid_118924 = iter_127436;
        int64_t remnant_127551 = iter_127436 - gtid_118924;
        int64_t x_115598 = ((int64_t *) mem_121047.mem)[gtid_118924];
        
        for (int64_t i_127437 = 0; i_127437 < t_n_m_114162; i_127437++) {
            int64_t x_127440 = ((int64_t *) mem_121233.mem)[gtid_118924 *
                                                            t_n_m_114162 +
                                                            i_127437];
            float x_127441 = ((float *) mem_121237.mem)[gtid_118924 *
                                                        t_n_m_114162 +
                                                        i_127437];
            int64_t min_arg_127442 = mul64(t_jump_114112, i_127437);
            int64_t min_res_127443 = smin64(i_114181, min_arg_127442);
            float defunc_0_f_res_127444 = sitofp_i64_f32(min_res_127443);
            float defunc_2_reduce_res_127445;
            float defunc_2_reduce_res_127446;
            float defunc_2_reduce_res_127447;
            float defunc_2_reduce_res_127448;
            float defunc_2_reduce_res_127449;
            float redout_127451;
            float redout_127452;
            float redout_127453;
            float redout_127454;
            float redout_127455;
            
            redout_127451 = 0.0F;
            redout_127452 = 0.0F;
            redout_127453 = 0.0F;
            redout_127454 = 0.0F;
            redout_127455 = 0.0F;
            for (int64_t i_127450 = 0; i_127450 < t_window_114108; i_127450++) {
                bool cond_127456 = sle64(x_115598, i_127450);
                float defunc_0_f_res_127457;
                
                if (cond_127456) {
                    defunc_0_f_res_127457 = 0.0F;
                } else {
                    int64_t i_127458 = add64(x_127440, i_127450);
                    float x_127459 = ((float *) mem_121069.mem)[gtid_118924 *
                                                                n_114105 +
                                                                i_127458];
                    float defunc_0_f_res_f_res_127460 = 1.0F + x_127459;
                    
                    defunc_0_f_res_127457 = defunc_0_f_res_f_res_127460;
                }
                
                float defunc_0_f_res_127461;
                
                if (cond_127456) {
                    defunc_0_f_res_127461 = 0.0F;
                } else {
                    int64_t i_127462 = add64(x_127440, i_127450);
                    float x_127463 = ((float *) mem_122005.mem)[gtid_118924 *
                                                                n_114105 +
                                                                i_127462];
                    
                    defunc_0_f_res_127461 = x_127463;
                }
                
                float x_j_127464 = defunc_0_f_res_127457 -
                      defunc_0_f_res_127444;
                float abs_res_127465 = (float) fabs(x_j_127464);
                float tmp1_127466 = abs_res_127465 / x_127441;
                float x_127467 = tmp1_127466 * tmp1_127466;
                float y_127468 = tmp1_127466 * x_127467;
                float tmp2_127469 = 1.0F - y_127468;
                float x_127470 = tmp2_127469 * tmp2_127469;
                float tmp3_127471 = tmp2_127469 * x_127470;
                float w_j_127472 = defunc_0_f_res_127461 * tmp3_127471;
                float xw_j_127473 = x_j_127464 * w_j_127472;
                float x2w_j_127474 = x_j_127464 * xw_j_127473;
                float x3w_j_127475 = x_j_127464 * x2w_j_127474;
                float x4w_j_127476 = x_j_127464 * x3w_j_127475;
                float defunc_1_op_res_127477 = w_j_127472 + redout_127451;
                float defunc_1_op_res_127478 = xw_j_127473 + redout_127452;
                float defunc_1_op_res_127479 = x2w_j_127474 + redout_127453;
                float defunc_1_op_res_127480 = x3w_j_127475 + redout_127454;
                float defunc_1_op_res_127481 = x4w_j_127476 + redout_127455;
                float redout_tmp_127554 = defunc_1_op_res_127477;
                float redout_tmp_127555 = defunc_1_op_res_127478;
                float redout_tmp_127556 = defunc_1_op_res_127479;
                float redout_tmp_127557 = defunc_1_op_res_127480;
                float redout_tmp_127558 = defunc_1_op_res_127481;
                
                redout_127451 = redout_tmp_127554;
                redout_127452 = redout_tmp_127555;
                redout_127453 = redout_tmp_127556;
                redout_127454 = redout_tmp_127557;
                redout_127455 = redout_tmp_127558;
            }
            defunc_2_reduce_res_127445 = redout_127451;
            defunc_2_reduce_res_127446 = redout_127452;
            defunc_2_reduce_res_127447 = redout_127453;
            defunc_2_reduce_res_127448 = redout_127454;
            defunc_2_reduce_res_127449 = redout_127455;
            
            float x_127482 = defunc_2_reduce_res_127447 *
                  defunc_2_reduce_res_127449;
            float y_127483 = defunc_2_reduce_res_127448 *
                  defunc_2_reduce_res_127448;
            float a12_127484 = x_127482 - y_127483;
            float x_127485 = defunc_2_reduce_res_127447 *
                  defunc_2_reduce_res_127448;
            float y_127486 = defunc_2_reduce_res_127446 *
                  defunc_2_reduce_res_127449;
            float b12_127487 = x_127485 - y_127486;
            float x_127488 = defunc_2_reduce_res_127446 *
                  defunc_2_reduce_res_127448;
            float y_127489 = defunc_2_reduce_res_127447 *
                  defunc_2_reduce_res_127447;
            float c12_127490 = x_127488 - y_127489;
            float x_127491 = defunc_2_reduce_res_127445 *
                  defunc_2_reduce_res_127449;
            float b2_127492 = x_127491 - y_127489;
            float x_127493 = defunc_2_reduce_res_127446 *
                  defunc_2_reduce_res_127447;
            float y_127494 = defunc_2_reduce_res_127445 *
                  defunc_2_reduce_res_127448;
            float c2_127495 = x_127493 - y_127494;
            float x_127496 = defunc_2_reduce_res_127445 * a12_127484;
            float y_127497 = defunc_2_reduce_res_127446 * b12_127487;
            float x_127498 = x_127496 + y_127497;
            float y_127499 = defunc_2_reduce_res_127447 * c12_127490;
            float y_127500 = x_127498 + y_127499;
            float det_127501 = 1.0F / y_127500;
            float a12_127502 = a12_127484 * det_127501;
            float b12_127503 = b12_127487 * det_127501;
            float c12_127504 = c12_127490 * det_127501;
            float b2_127505 = b2_127492 * det_127501;
            float c2_127506 = c2_127495 * det_127501;
            float defunc_2_reduce_res_127507;
            float defunc_2_reduce_res_127508;
            float redout_127510;
            float redout_127511;
            
            redout_127510 = 0.0F;
            redout_127511 = 0.0F;
            for (int64_t i_127509 = 0; i_127509 < t_window_114108; i_127509++) {
                bool cond_127512 = sle64(x_115598, i_127509);
                float defunc_0_f_res_127513;
                
                if (cond_127512) {
                    defunc_0_f_res_127513 = 0.0F;
                } else {
                    int64_t i_127514 = add64(x_127440, i_127509);
                    float x_127515 = ((float *) mem_121069.mem)[gtid_118924 *
                                                                n_114105 +
                                                                i_127514];
                    float defunc_0_f_res_f_res_127516 = 1.0F + x_127515;
                    
                    defunc_0_f_res_127513 = defunc_0_f_res_f_res_127516;
                }
                
                float defunc_0_f_res_127517;
                
                if (cond_127512) {
                    defunc_0_f_res_127517 = 0.0F;
                } else {
                    int64_t i_127518 = add64(x_127440, i_127509);
                    float x_127519 = ((float *) mem_122005.mem)[gtid_118924 *
                                                                n_114105 +
                                                                i_127518];
                    
                    defunc_0_f_res_127517 = x_127519;
                }
                
                float x_j_127520 = defunc_0_f_res_127513 -
                      defunc_0_f_res_127444;
                float abs_res_127521 = (float) fabs(x_j_127520);
                float tmp1_127522 = abs_res_127521 / x_127441;
                float x_127523 = tmp1_127522 * tmp1_127522;
                float y_127524 = tmp1_127522 * x_127523;
                float tmp2_127525 = 1.0F - y_127524;
                float x_127526 = tmp2_127525 * tmp2_127525;
                float tmp3_127527 = tmp2_127525 * x_127526;
                float tmp4_127528 = defunc_0_f_res_127517 * tmp3_127527;
                float defunc_1_f_res_127529 = x_j_127520 * tmp4_127528;
                float defunc_1_f_res_127530 = x_j_127520 *
                      defunc_1_f_res_127529;
                float defunc_0_f_res_127531;
                
                if (cond_127512) {
                    defunc_0_f_res_127531 = 0.0F;
                } else {
                    int64_t i_127532 = add64(x_127440, i_127509);
                    float x_127533 = ((float *) mem_122001.mem)[gtid_118924 *
                                                                n_114105 +
                                                                i_127532];
                    
                    defunc_0_f_res_127531 = x_127533;
                }
                
                float x_127534 = a12_127502 * tmp4_127528;
                float y_127535 = b12_127503 * defunc_1_f_res_127529;
                float x_127536 = x_127534 + y_127535;
                float y_127537 = c12_127504 * defunc_1_f_res_127530;
                float x_127538 = x_127536 + y_127537;
                float defunc_9_fit_fun_res_127539 = defunc_0_f_res_127531 *
                      x_127538;
                float x_127540 = b12_127503 * tmp4_127528;
                float y_127541 = b2_127505 * defunc_1_f_res_127529;
                float x_127542 = x_127540 + y_127541;
                float y_127543 = c2_127506 * defunc_1_f_res_127530;
                float x_127544 = x_127542 + y_127543;
                float defunc_9_slope_fun_res_127545 = defunc_0_f_res_127531 *
                      x_127544;
                float defunc_1_op_res_127546 = defunc_9_fit_fun_res_127539 +
                      redout_127510;
                float defunc_1_op_res_127547 = defunc_9_slope_fun_res_127545 +
                      redout_127511;
                float redout_tmp_127559 = defunc_1_op_res_127546;
                float redout_tmp_127560 = defunc_1_op_res_127547;
                
                redout_127510 = redout_tmp_127559;
                redout_127511 = redout_tmp_127560;
            }
            defunc_2_reduce_res_127507 = redout_127510;
            defunc_2_reduce_res_127508 = redout_127511;
            ((float *) mem_122088)[i_127437] = defunc_2_reduce_res_127507;
            ((float *) mem_122091)[i_127437] = defunc_2_reduce_res_127508;
        }
        memmove(mem_122119.mem + gtid_118924 * t_n_m_114162 * (int64_t) 4,
                mem_122088 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
        memmove(mem_122123.mem + gtid_118924 * t_n_m_114162 * (int64_t) 4,
                mem_122091 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122088);
    free(mem_122091);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130291_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130291_end -
                 futhark_mc_segmap_parloop_130291_start;
        
        ctx->futhark_mc_segmap_parloop_130291_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130291_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130291_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130289(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118923 = tid;
    int num_tasks_127435 = info.nsubtasks;
    struct futhark_mc_task_130288 *futhark_mc_task_130288 =
                                  (struct futhark_mc_task_130288 *) args;
    struct futhark_context *ctx = futhark_mc_task_130288->ctx;
    uint64_t futhark_mc_segmap_task_130289_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130289_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130288->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130288->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130288->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130288->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130288->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130288->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_130288->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130288->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_130288->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130288->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130288->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130288->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130288->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122119 = {.desc ="mem_122119", .mem =
                                  futhark_mc_task_130288->free_mem_122119,
                                  .size =0, .references =NULL};
    struct memblock mem_122123 = {.desc ="mem_122123", .mem =
                                  futhark_mc_task_130288->free_mem_122123,
                                  .size =0, .references =NULL};
    int64_t iter_127436;
    struct futhark_mc_segmap_parloop_struct_130290
    futhark_mc_segmap_parloop_struct_130290;
    
    futhark_mc_segmap_parloop_struct_130290.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130290.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130290.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130290.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130290.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130290.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130290.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130290.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_130290.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130290.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_130290.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130290.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130290.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130290.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130290.free_mem_122119 = mem_122119.mem;
    futhark_mc_segmap_parloop_struct_130290.free_mem_122123 = mem_122123.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130291_task;
    
    futhark_mc_segmap_parloop_130291_task.name =
        "futhark_mc_segmap_parloop_130291";
    futhark_mc_segmap_parloop_130291_task.fn = futhark_mc_segmap_parloop_130291;
    futhark_mc_segmap_parloop_130291_task.args =
        &futhark_mc_segmap_parloop_struct_130290;
    futhark_mc_segmap_parloop_130291_task.iterations = iterations;
    futhark_mc_segmap_parloop_130291_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130291_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130291_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130291_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130291_task);
    
    if (futhark_mc_segmap_parloop_130291_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130291_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130291_total_end -
                 futhark_mc_segmap_parloop_130291_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130291_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130291_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130291_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130289_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130289_end -
                 futhark_mc_segmap_task_130289_start;
        
        ctx->futhark_mc_segmap_task_130289_runs[tid]++;
        ctx->futhark_mc_segmap_task_130289_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130289_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130295 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122119;
    char *free_mem_122123;
};
struct futhark_mc_task_130299 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_118926;
    int64_t free_x_119056;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122082;
    char *free_mem_122085;
};
struct futhark_mc_segmap_parloop_struct_130301 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_118926;
    int64_t free_x_119056;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122082;
    char *free_mem_122085;
};
static int futhark_mc_segmap_parloop_130302(void *args, int64_t start,
                                            int64_t end, int flat_tid_118927,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130301
    *futhark_mc_segmap_parloop_struct_130301 =
    (struct futhark_mc_segmap_parloop_struct_130301 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130301->ctx;
    uint64_t futhark_mc_segmap_parloop_130302_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130302_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130301->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130301->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130301->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130301->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130301->free_i_114181;
    int64_t gtid_118926 =
            futhark_mc_segmap_parloop_struct_130301->free_gtid_118926;
    int64_t x_119056 = futhark_mc_segmap_parloop_struct_130301->free_x_119056;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130301->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130301->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130301->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130301->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130301->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122082 = {.desc ="mem_122082", .mem =
                                  futhark_mc_segmap_parloop_struct_130301->free_mem_122082,
                                  .size =0, .references =NULL};
    struct memblock mem_122085 = {.desc ="mem_122085", .mem =
                                  futhark_mc_segmap_parloop_struct_130301->free_mem_122085,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_127786 = start;
    
    for (; iter_127786 < end; iter_127786++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_127858 = t_n_m_114162;
        int64_t gtid_118928 = iter_127786;
        int64_t remnant_127859 = iter_127786 - gtid_118928;
        int64_t x_127675 = ((int64_t *) mem_121233.mem)[gtid_118926 *
                                                        t_n_m_114162 +
                                                        gtid_118928];
        float x_127676 = ((float *) mem_121237.mem)[gtid_118926 * t_n_m_114162 +
                                                    gtid_118928];
        int64_t min_arg_127677 = mul64(t_jump_114112, gtid_118928);
        int64_t min_res_127678 = smin64(i_114181, min_arg_127677);
        float defunc_0_f_res_127679 = sitofp_i64_f32(min_res_127678);
        float defunc_2_reduce_res_127680;
        float defunc_2_reduce_res_127681;
        float defunc_2_reduce_res_127682;
        float defunc_2_reduce_res_127683;
        float defunc_2_reduce_res_127684;
        float redout_127788;
        float redout_127789;
        float redout_127790;
        float redout_127791;
        float redout_127792;
        
        redout_127788 = 0.0F;
        redout_127789 = 0.0F;
        redout_127790 = 0.0F;
        redout_127791 = 0.0F;
        redout_127792 = 0.0F;
        for (int64_t i_127787 = 0; i_127787 < t_window_114108; i_127787++) {
            bool cond_127793 = sle64(x_119056, i_127787);
            float defunc_0_f_res_127794;
            
            if (cond_127793) {
                defunc_0_f_res_127794 = 0.0F;
            } else {
                int64_t i_127795 = add64(x_127675, i_127787);
                float x_127796 = ((float *) mem_121069.mem)[gtid_118926 *
                                                            n_114105 +
                                                            i_127795];
                float defunc_0_f_res_f_res_127797 = 1.0F + x_127796;
                
                defunc_0_f_res_127794 = defunc_0_f_res_f_res_127797;
            }
            
            float defunc_0_f_res_127798;
            
            if (cond_127793) {
                defunc_0_f_res_127798 = 0.0F;
            } else {
                int64_t i_127799 = add64(x_127675, i_127787);
                float x_127800 = ((float *) mem_122005.mem)[gtid_118926 *
                                                            n_114105 +
                                                            i_127799];
                
                defunc_0_f_res_127798 = x_127800;
            }
            
            float x_j_127801 = defunc_0_f_res_127794 - defunc_0_f_res_127679;
            float abs_res_127802 = (float) fabs(x_j_127801);
            float tmp1_127803 = abs_res_127802 / x_127676;
            float x_127804 = tmp1_127803 * tmp1_127803;
            float y_127805 = tmp1_127803 * x_127804;
            float tmp2_127806 = 1.0F - y_127805;
            float x_127807 = tmp2_127806 * tmp2_127806;
            float tmp3_127808 = tmp2_127806 * x_127807;
            float w_j_127809 = defunc_0_f_res_127798 * tmp3_127808;
            float xw_j_127810 = x_j_127801 * w_j_127809;
            float x2w_j_127811 = x_j_127801 * xw_j_127810;
            float x3w_j_127812 = x_j_127801 * x2w_j_127811;
            float x4w_j_127813 = x_j_127801 * x3w_j_127812;
            float defunc_1_op_res_127814 = w_j_127809 + redout_127788;
            float defunc_1_op_res_127815 = xw_j_127810 + redout_127789;
            float defunc_1_op_res_127816 = x2w_j_127811 + redout_127790;
            float defunc_1_op_res_127817 = x3w_j_127812 + redout_127791;
            float defunc_1_op_res_127818 = x4w_j_127813 + redout_127792;
            float redout_tmp_127860 = defunc_1_op_res_127814;
            float redout_tmp_127861 = defunc_1_op_res_127815;
            float redout_tmp_127862 = defunc_1_op_res_127816;
            float redout_tmp_127863 = defunc_1_op_res_127817;
            float redout_tmp_127864 = defunc_1_op_res_127818;
            
            redout_127788 = redout_tmp_127860;
            redout_127789 = redout_tmp_127861;
            redout_127790 = redout_tmp_127862;
            redout_127791 = redout_tmp_127863;
            redout_127792 = redout_tmp_127864;
        }
        defunc_2_reduce_res_127680 = redout_127788;
        defunc_2_reduce_res_127681 = redout_127789;
        defunc_2_reduce_res_127682 = redout_127790;
        defunc_2_reduce_res_127683 = redout_127791;
        defunc_2_reduce_res_127684 = redout_127792;
        
        float x_127717 = defunc_2_reduce_res_127682 *
              defunc_2_reduce_res_127684;
        float y_127718 = defunc_2_reduce_res_127683 *
              defunc_2_reduce_res_127683;
        float a12_127719 = x_127717 - y_127718;
        float x_127720 = defunc_2_reduce_res_127682 *
              defunc_2_reduce_res_127683;
        float y_127721 = defunc_2_reduce_res_127681 *
              defunc_2_reduce_res_127684;
        float b12_127722 = x_127720 - y_127721;
        float x_127723 = defunc_2_reduce_res_127681 *
              defunc_2_reduce_res_127683;
        float y_127724 = defunc_2_reduce_res_127682 *
              defunc_2_reduce_res_127682;
        float c12_127725 = x_127723 - y_127724;
        float x_127726 = defunc_2_reduce_res_127680 *
              defunc_2_reduce_res_127684;
        float b2_127727 = x_127726 - y_127724;
        float x_127728 = defunc_2_reduce_res_127681 *
              defunc_2_reduce_res_127682;
        float y_127729 = defunc_2_reduce_res_127680 *
              defunc_2_reduce_res_127683;
        float c2_127730 = x_127728 - y_127729;
        float x_127731 = defunc_2_reduce_res_127680 * a12_127719;
        float y_127732 = defunc_2_reduce_res_127681 * b12_127722;
        float x_127733 = x_127731 + y_127732;
        float y_127734 = defunc_2_reduce_res_127682 * c12_127725;
        float y_127735 = x_127733 + y_127734;
        float det_127736 = 1.0F / y_127735;
        float a12_127737 = a12_127719 * det_127736;
        float b12_127738 = b12_127722 * det_127736;
        float c12_127739 = c12_127725 * det_127736;
        float b2_127740 = b2_127727 * det_127736;
        float c2_127741 = c2_127730 * det_127736;
        float defunc_2_reduce_res_127742;
        float defunc_2_reduce_res_127743;
        float redout_127820;
        float redout_127821;
        
        redout_127820 = 0.0F;
        redout_127821 = 0.0F;
        for (int64_t i_127819 = 0; i_127819 < t_window_114108; i_127819++) {
            bool cond_127822 = sle64(x_119056, i_127819);
            float defunc_0_f_res_127823;
            
            if (cond_127822) {
                defunc_0_f_res_127823 = 0.0F;
            } else {
                int64_t i_127824 = add64(x_127675, i_127819);
                float x_127825 = ((float *) mem_121069.mem)[gtid_118926 *
                                                            n_114105 +
                                                            i_127824];
                float defunc_0_f_res_f_res_127826 = 1.0F + x_127825;
                
                defunc_0_f_res_127823 = defunc_0_f_res_f_res_127826;
            }
            
            float defunc_0_f_res_127827;
            
            if (cond_127822) {
                defunc_0_f_res_127827 = 0.0F;
            } else {
                int64_t i_127828 = add64(x_127675, i_127819);
                float x_127829 = ((float *) mem_122005.mem)[gtid_118926 *
                                                            n_114105 +
                                                            i_127828];
                
                defunc_0_f_res_127827 = x_127829;
            }
            
            float x_j_127830 = defunc_0_f_res_127823 - defunc_0_f_res_127679;
            float abs_res_127831 = (float) fabs(x_j_127830);
            float tmp1_127832 = abs_res_127831 / x_127676;
            float x_127833 = tmp1_127832 * tmp1_127832;
            float y_127834 = tmp1_127832 * x_127833;
            float tmp2_127835 = 1.0F - y_127834;
            float x_127836 = tmp2_127835 * tmp2_127835;
            float tmp3_127837 = tmp2_127835 * x_127836;
            float tmp4_127838 = defunc_0_f_res_127827 * tmp3_127837;
            float defunc_1_f_res_127839 = x_j_127830 * tmp4_127838;
            float defunc_1_f_res_127840 = x_j_127830 * defunc_1_f_res_127839;
            float defunc_0_f_res_127841;
            
            if (cond_127822) {
                defunc_0_f_res_127841 = 0.0F;
            } else {
                int64_t i_127842 = add64(x_127675, i_127819);
                float x_127843 = ((float *) mem_122001.mem)[gtid_118926 *
                                                            n_114105 +
                                                            i_127842];
                
                defunc_0_f_res_127841 = x_127843;
            }
            
            float x_127844 = a12_127737 * tmp4_127838;
            float y_127845 = b12_127738 * defunc_1_f_res_127839;
            float x_127846 = x_127844 + y_127845;
            float y_127847 = c12_127739 * defunc_1_f_res_127840;
            float x_127848 = x_127846 + y_127847;
            float defunc_9_fit_fun_res_127849 = defunc_0_f_res_127841 *
                  x_127848;
            float x_127850 = b12_127738 * tmp4_127838;
            float y_127851 = b2_127740 * defunc_1_f_res_127839;
            float x_127852 = x_127850 + y_127851;
            float y_127853 = c2_127741 * defunc_1_f_res_127840;
            float x_127854 = x_127852 + y_127853;
            float defunc_9_slope_fun_res_127855 = defunc_0_f_res_127841 *
                  x_127854;
            float defunc_1_op_res_127856 = defunc_9_fit_fun_res_127849 +
                  redout_127820;
            float defunc_1_op_res_127857 = defunc_9_slope_fun_res_127855 +
                  redout_127821;
            float redout_tmp_127865 = defunc_1_op_res_127856;
            float redout_tmp_127866 = defunc_1_op_res_127857;
            
            redout_127820 = redout_tmp_127865;
            redout_127821 = redout_tmp_127866;
        }
        defunc_2_reduce_res_127742 = redout_127820;
        defunc_2_reduce_res_127743 = redout_127821;
        ((float *) mem_122082.mem)[gtid_118928] = defunc_2_reduce_res_127742;
        ((float *) mem_122085.mem)[gtid_118928] = defunc_2_reduce_res_127743;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130302_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130302_end -
                 futhark_mc_segmap_parloop_130302_start;
        
        ctx->futhark_mc_segmap_parloop_130302_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130302_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130302_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130300(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118927 = tid;
    int num_tasks_127785 = info.nsubtasks;
    struct futhark_mc_task_130299 *futhark_mc_task_130299 =
                                  (struct futhark_mc_task_130299 *) args;
    struct futhark_context *ctx = futhark_mc_task_130299->ctx;
    uint64_t futhark_mc_segmap_task_130300_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130300_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130299->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130299->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130299->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130299->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130299->free_i_114181;
    int64_t gtid_118926 = futhark_mc_task_130299->free_gtid_118926;
    int64_t x_119056 = futhark_mc_task_130299->free_x_119056;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130299->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130299->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130299->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130299->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130299->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122082 = {.desc ="mem_122082", .mem =
                                  futhark_mc_task_130299->free_mem_122082,
                                  .size =0, .references =NULL};
    struct memblock mem_122085 = {.desc ="mem_122085", .mem =
                                  futhark_mc_task_130299->free_mem_122085,
                                  .size =0, .references =NULL};
    int64_t iter_127786;
    struct futhark_mc_segmap_parloop_struct_130301
    futhark_mc_segmap_parloop_struct_130301;
    
    futhark_mc_segmap_parloop_struct_130301.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130301.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130301.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130301.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130301.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130301.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130301.free_gtid_118926 = gtid_118926;
    futhark_mc_segmap_parloop_struct_130301.free_x_119056 = x_119056;
    futhark_mc_segmap_parloop_struct_130301.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130301.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130301.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130301.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130301.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130301.free_mem_122082 = mem_122082.mem;
    futhark_mc_segmap_parloop_struct_130301.free_mem_122085 = mem_122085.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130302_task;
    
    futhark_mc_segmap_parloop_130302_task.name =
        "futhark_mc_segmap_parloop_130302";
    futhark_mc_segmap_parloop_130302_task.fn = futhark_mc_segmap_parloop_130302;
    futhark_mc_segmap_parloop_130302_task.args =
        &futhark_mc_segmap_parloop_struct_130301;
    futhark_mc_segmap_parloop_130302_task.iterations = iterations;
    futhark_mc_segmap_parloop_130302_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130302_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130302_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130302_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130302_task);
    
    if (futhark_mc_segmap_parloop_130302_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130302_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130302_total_end -
                 futhark_mc_segmap_parloop_130302_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130302_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130302_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130302_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130300_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130300_end -
                 futhark_mc_segmap_task_130300_start;
        
        ctx->futhark_mc_segmap_task_130300_runs[tid]++;
        ctx->futhark_mc_segmap_task_130300_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130300_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130304 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_118926;
    int64_t free_x_119056;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    char *free_mem_122082;
    char *free_mem_122085;
};
struct futhark_mc_task_130306 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118926;
    int64_t free_x_119056;
    char *free_mem_121069;
    char *free_mem_122005;
    int64_t free_x_127562;
    float free_x_127563;
    float free_defunc_0_f_res_127566;
    float *retval_defunc_2_reduce_res_127567;
    float *retval_defunc_2_reduce_res_127568;
    float *retval_defunc_2_reduce_res_127569;
    float *retval_defunc_2_reduce_res_127570;
    float *retval_defunc_2_reduce_res_127571;
};
struct futhark_mc_segred_stage_1_parloop_struct_130313 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118926;
    int64_t free_x_119056;
    char *free_mem_121069;
    char *free_mem_122005;
    int64_t free_x_127562;
    float free_x_127563;
    float free_defunc_0_f_res_127566;
    char *free_reduce_stage_1_tid_res_arr_mem_127947;
    char *free_reduce_stage_1_tid_res_arr_mem_127949;
    char *free_reduce_stage_1_tid_res_arr_mem_127951;
    char *free_reduce_stage_1_tid_res_arr_mem_127953;
    char *free_reduce_stage_1_tid_res_arr_mem_127955;
};
static int futhark_mc_segred_stage_1_parloop_130314(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_118931,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130313
    *futhark_mc_segred_stage_1_parloop_struct_130313 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130313 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130313->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130314_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130314_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130313->free_n_114105;
    int64_t gtid_118926 =
            futhark_mc_segred_stage_1_parloop_struct_130313->free_gtid_118926;
    int64_t x_119056 =
            futhark_mc_segred_stage_1_parloop_struct_130313->free_x_119056;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130313->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130313->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_127562 =
            futhark_mc_segred_stage_1_parloop_struct_130313->free_x_127562;
    float x_127563 =
          futhark_mc_segred_stage_1_parloop_struct_130313->free_x_127563;
    float defunc_0_f_res_127566 =
          futhark_mc_segred_stage_1_parloop_struct_130313->free_defunc_0_f_res_127566;
    struct memblock reduce_stage_1_tid_res_arr_mem_127947 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_127947",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130313->free_reduce_stage_1_tid_res_arr_mem_127947,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_127949 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_127949",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130313->free_reduce_stage_1_tid_res_arr_mem_127949,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_127951 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_127951",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130313->free_reduce_stage_1_tid_res_arr_mem_127951,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_127953 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_127953",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130313->free_reduce_stage_1_tid_res_arr_mem_127953,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_127955 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_127955",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130313->free_reduce_stage_1_tid_res_arr_mem_127955,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_127957 = start;
    float x_127868;
    float x_127869;
    float x_127871;
    float x_127872;
    float x_127874;
    float x_127875;
    float x_127877;
    float x_127878;
    float x_127880;
    float x_127881;
    float local_acc_127958 = 0.0F;
    float local_acc_127959 = 0.0F;
    float local_acc_127960 = 0.0F;
    float local_acc_127961 = 0.0F;
    float local_acc_127962 = 0.0F;
    
    for (; iter_127957 < end; iter_127957++) {
        int64_t gtid_118932 = iter_127957;
        bool cond_127883 = sle64(x_119056, gtid_118932);
        float defunc_0_f_res_127884;
        
        if (cond_127883) {
            defunc_0_f_res_127884 = 0.0F;
        } else {
            int64_t i_127885 = add64(gtid_118932, x_127562);
            float x_127886 = ((float *) mem_121069.mem)[gtid_118926 * n_114105 +
                                                        i_127885];
            float defunc_0_f_res_f_res_127887 = 1.0F + x_127886;
            
            defunc_0_f_res_127884 = defunc_0_f_res_f_res_127887;
        }
        
        float defunc_0_f_res_127888;
        
        if (cond_127883) {
            defunc_0_f_res_127888 = 0.0F;
        } else {
            int64_t i_127889 = add64(gtid_118932, x_127562);
            float x_127890 = ((float *) mem_122005.mem)[gtid_118926 * n_114105 +
                                                        i_127889];
            
            defunc_0_f_res_127888 = x_127890;
        }
        
        float x_j_127891 = defunc_0_f_res_127884 - defunc_0_f_res_127566;
        float abs_res_127892 = (float) fabs(x_j_127891);
        float tmp1_127893 = abs_res_127892 / x_127563;
        float x_127894 = tmp1_127893 * tmp1_127893;
        float y_127895 = tmp1_127893 * x_127894;
        float tmp2_127896 = 1.0F - y_127895;
        float x_127897 = tmp2_127896 * tmp2_127896;
        float tmp3_127898 = tmp2_127896 * x_127897;
        float w_j_127899 = defunc_0_f_res_127888 * tmp3_127898;
        float xw_j_127900 = x_j_127891 * w_j_127899;
        float x2w_j_127901 = x_j_127891 * xw_j_127900;
        float x3w_j_127902 = x_j_127891 * x2w_j_127901;
        float x4w_j_127903 = x_j_127891 * x3w_j_127902;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_127868 = local_acc_127958;
        }
        // Load next params
        {
            x_127869 = w_j_127899;
        }
        // Red body
        {
            float defunc_1_op_res_127870 = x_127868 + x_127869;
            
            local_acc_127958 = defunc_1_op_res_127870;
        }
        // Load accum params
        {
            x_127871 = local_acc_127959;
        }
        // Load next params
        {
            x_127872 = xw_j_127900;
        }
        // Red body
        {
            float defunc_1_op_res_127873 = x_127871 + x_127872;
            
            local_acc_127959 = defunc_1_op_res_127873;
        }
        // Load accum params
        {
            x_127874 = local_acc_127960;
        }
        // Load next params
        {
            x_127875 = x2w_j_127901;
        }
        // Red body
        {
            float defunc_1_op_res_127876 = x_127874 + x_127875;
            
            local_acc_127960 = defunc_1_op_res_127876;
        }
        // Load accum params
        {
            x_127877 = local_acc_127961;
        }
        // Load next params
        {
            x_127878 = x3w_j_127902;
        }
        // Red body
        {
            float defunc_1_op_res_127879 = x_127877 + x_127878;
            
            local_acc_127961 = defunc_1_op_res_127879;
        }
        // Load accum params
        {
            x_127880 = local_acc_127962;
        }
        // Load next params
        {
            x_127881 = x4w_j_127903;
        }
        // Red body
        {
            float defunc_1_op_res_127882 = x_127880 + x_127881;
            
            local_acc_127962 = defunc_1_op_res_127882;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_127947.mem)[flat_tid_118931] =
        local_acc_127958;
    ((float *) reduce_stage_1_tid_res_arr_mem_127949.mem)[flat_tid_118931] =
        local_acc_127959;
    ((float *) reduce_stage_1_tid_res_arr_mem_127951.mem)[flat_tid_118931] =
        local_acc_127960;
    ((float *) reduce_stage_1_tid_res_arr_mem_127953.mem)[flat_tid_118931] =
        local_acc_127961;
    ((float *) reduce_stage_1_tid_res_arr_mem_127955.mem)[flat_tid_118931] =
        local_acc_127962;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130314_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130314_end -
                 futhark_mc_segred_stage_1_parloop_130314_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130314_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130314_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130314_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130307(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118931 = tid;
    int num_tasks_127946 = info.nsubtasks;
    struct futhark_mc_task_130306 *futhark_mc_task_130306 =
                                  (struct futhark_mc_task_130306 *) args;
    struct futhark_context *ctx = futhark_mc_task_130306->ctx;
    uint64_t futhark_mc_segred_task_130307_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130307_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130306->free_n_114105;
    int64_t gtid_118926 = futhark_mc_task_130306->free_gtid_118926;
    int64_t x_119056 = futhark_mc_task_130306->free_x_119056;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130306->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130306->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_127562 = futhark_mc_task_130306->free_x_127562;
    float x_127563 = futhark_mc_task_130306->free_x_127563;
    float defunc_0_f_res_127566 =
          futhark_mc_task_130306->free_defunc_0_f_res_127566;
    float defunc_2_reduce_res_127567 =
          *futhark_mc_task_130306->retval_defunc_2_reduce_res_127567;
    float defunc_2_reduce_res_127568 =
          *futhark_mc_task_130306->retval_defunc_2_reduce_res_127568;
    float defunc_2_reduce_res_127569 =
          *futhark_mc_task_130306->retval_defunc_2_reduce_res_127569;
    float defunc_2_reduce_res_127570 =
          *futhark_mc_task_130306->retval_defunc_2_reduce_res_127570;
    float defunc_2_reduce_res_127571 =
          *futhark_mc_task_130306->retval_defunc_2_reduce_res_127571;
    size_t reduce_stage_1_tid_res_arr_mem_127947_cached_sizze_130308 = 0;
    char *reduce_stage_1_tid_res_arr_mem_127947 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_127949_cached_sizze_130309 = 0;
    char *reduce_stage_1_tid_res_arr_mem_127949 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_127951_cached_sizze_130310 = 0;
    char *reduce_stage_1_tid_res_arr_mem_127951 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_127953_cached_sizze_130311 = 0;
    char *reduce_stage_1_tid_res_arr_mem_127953 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_127955_cached_sizze_130312 = 0;
    char *reduce_stage_1_tid_res_arr_mem_127955 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_127947_cached_sizze_130308 <
        (size_t) ((int64_t) 4 * num_tasks_127946)) {
        reduce_stage_1_tid_res_arr_mem_127947 =
            realloc(reduce_stage_1_tid_res_arr_mem_127947, (int64_t) 4 *
                    num_tasks_127946);
        reduce_stage_1_tid_res_arr_mem_127947_cached_sizze_130308 =
            (int64_t) 4 * num_tasks_127946;
    }
    if (reduce_stage_1_tid_res_arr_mem_127949_cached_sizze_130309 <
        (size_t) ((int64_t) 4 * num_tasks_127946)) {
        reduce_stage_1_tid_res_arr_mem_127949 =
            realloc(reduce_stage_1_tid_res_arr_mem_127949, (int64_t) 4 *
                    num_tasks_127946);
        reduce_stage_1_tid_res_arr_mem_127949_cached_sizze_130309 =
            (int64_t) 4 * num_tasks_127946;
    }
    if (reduce_stage_1_tid_res_arr_mem_127951_cached_sizze_130310 <
        (size_t) ((int64_t) 4 * num_tasks_127946)) {
        reduce_stage_1_tid_res_arr_mem_127951 =
            realloc(reduce_stage_1_tid_res_arr_mem_127951, (int64_t) 4 *
                    num_tasks_127946);
        reduce_stage_1_tid_res_arr_mem_127951_cached_sizze_130310 =
            (int64_t) 4 * num_tasks_127946;
    }
    if (reduce_stage_1_tid_res_arr_mem_127953_cached_sizze_130311 <
        (size_t) ((int64_t) 4 * num_tasks_127946)) {
        reduce_stage_1_tid_res_arr_mem_127953 =
            realloc(reduce_stage_1_tid_res_arr_mem_127953, (int64_t) 4 *
                    num_tasks_127946);
        reduce_stage_1_tid_res_arr_mem_127953_cached_sizze_130311 =
            (int64_t) 4 * num_tasks_127946;
    }
    if (reduce_stage_1_tid_res_arr_mem_127955_cached_sizze_130312 <
        (size_t) ((int64_t) 4 * num_tasks_127946)) {
        reduce_stage_1_tid_res_arr_mem_127955 =
            realloc(reduce_stage_1_tid_res_arr_mem_127955, (int64_t) 4 *
                    num_tasks_127946);
        reduce_stage_1_tid_res_arr_mem_127955_cached_sizze_130312 =
            (int64_t) 4 * num_tasks_127946;
    }
    
    int64_t iter_127957;
    struct futhark_mc_segred_stage_1_parloop_struct_130313
    futhark_mc_segred_stage_1_parloop_struct_130313;
    
    futhark_mc_segred_stage_1_parloop_struct_130313.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130313.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130313.free_gtid_118926 =
        gtid_118926;
    futhark_mc_segred_stage_1_parloop_struct_130313.free_x_119056 = x_119056;
    futhark_mc_segred_stage_1_parloop_struct_130313.free_mem_121069 =
        mem_121069.mem;
    futhark_mc_segred_stage_1_parloop_struct_130313.free_mem_122005 =
        mem_122005.mem;
    futhark_mc_segred_stage_1_parloop_struct_130313.free_x_127562 = x_127562;
    futhark_mc_segred_stage_1_parloop_struct_130313.free_x_127563 = x_127563;
    futhark_mc_segred_stage_1_parloop_struct_130313.free_defunc_0_f_res_127566 =
        defunc_0_f_res_127566;
    futhark_mc_segred_stage_1_parloop_struct_130313.free_reduce_stage_1_tid_res_arr_mem_127947 =
        reduce_stage_1_tid_res_arr_mem_127947;
    futhark_mc_segred_stage_1_parloop_struct_130313.free_reduce_stage_1_tid_res_arr_mem_127949 =
        reduce_stage_1_tid_res_arr_mem_127949;
    futhark_mc_segred_stage_1_parloop_struct_130313.free_reduce_stage_1_tid_res_arr_mem_127951 =
        reduce_stage_1_tid_res_arr_mem_127951;
    futhark_mc_segred_stage_1_parloop_struct_130313.free_reduce_stage_1_tid_res_arr_mem_127953 =
        reduce_stage_1_tid_res_arr_mem_127953;
    futhark_mc_segred_stage_1_parloop_struct_130313.free_reduce_stage_1_tid_res_arr_mem_127955 =
        reduce_stage_1_tid_res_arr_mem_127955;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130314_task;
    
    futhark_mc_segred_stage_1_parloop_130314_task.name =
        "futhark_mc_segred_stage_1_parloop_130314";
    futhark_mc_segred_stage_1_parloop_130314_task.fn =
        futhark_mc_segred_stage_1_parloop_130314;
    futhark_mc_segred_stage_1_parloop_130314_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130313;
    futhark_mc_segred_stage_1_parloop_130314_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130314_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130314_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130314_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130314_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130314_task);
    
    if (futhark_mc_segred_stage_1_parloop_130314_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130314_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130314_total_end -
                 futhark_mc_segred_stage_1_parloop_130314_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130314_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130314_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130314_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_127567 = 0.0F;
        defunc_2_reduce_res_127568 = 0.0F;
        defunc_2_reduce_res_127569 = 0.0F;
        defunc_2_reduce_res_127570 = 0.0F;
        defunc_2_reduce_res_127571 = 0.0F;
    }
    
    float x_127963;
    float x_127964;
    float x_127966;
    float x_127967;
    float x_127969;
    float x_127970;
    float x_127972;
    float x_127973;
    float x_127975;
    float x_127976;
    
    for (int32_t i_127978 = 0; i_127978 < num_tasks_127946; i_127978++) {
        flat_tid_118931 = i_127978;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_127963 = defunc_2_reduce_res_127567;
            }
            // load next params
            {
                x_127964 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_127947)[flat_tid_118931];
            }
            // red body
            {
                float defunc_1_op_res_127965 = x_127963 + x_127964;
                
                defunc_2_reduce_res_127567 = defunc_1_op_res_127965;
            }
            // load acc params
            {
                x_127966 = defunc_2_reduce_res_127568;
            }
            // load next params
            {
                x_127967 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_127949)[flat_tid_118931];
            }
            // red body
            {
                float defunc_1_op_res_127968 = x_127966 + x_127967;
                
                defunc_2_reduce_res_127568 = defunc_1_op_res_127968;
            }
            // load acc params
            {
                x_127969 = defunc_2_reduce_res_127569;
            }
            // load next params
            {
                x_127970 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_127951)[flat_tid_118931];
            }
            // red body
            {
                float defunc_1_op_res_127971 = x_127969 + x_127970;
                
                defunc_2_reduce_res_127569 = defunc_1_op_res_127971;
            }
            // load acc params
            {
                x_127972 = defunc_2_reduce_res_127570;
            }
            // load next params
            {
                x_127973 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_127953)[flat_tid_118931];
            }
            // red body
            {
                float defunc_1_op_res_127974 = x_127972 + x_127973;
                
                defunc_2_reduce_res_127570 = defunc_1_op_res_127974;
            }
            // load acc params
            {
                x_127975 = defunc_2_reduce_res_127571;
            }
            // load next params
            {
                x_127976 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_127955)[flat_tid_118931];
            }
            // red body
            {
                float defunc_1_op_res_127977 = x_127975 + x_127976;
                
                defunc_2_reduce_res_127571 = defunc_1_op_res_127977;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_127947);
    free(reduce_stage_1_tid_res_arr_mem_127949);
    free(reduce_stage_1_tid_res_arr_mem_127951);
    free(reduce_stage_1_tid_res_arr_mem_127953);
    free(reduce_stage_1_tid_res_arr_mem_127955);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130307_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130307_end -
                 futhark_mc_segred_task_130307_start;
        
        ctx->futhark_mc_segred_task_130307_runs[tid]++;
        ctx->futhark_mc_segred_task_130307_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130307_iter[tid] += iterations;
    }
    *futhark_mc_task_130306->retval_defunc_2_reduce_res_127567 =
        defunc_2_reduce_res_127567;
    *futhark_mc_task_130306->retval_defunc_2_reduce_res_127568 =
        defunc_2_reduce_res_127568;
    *futhark_mc_task_130306->retval_defunc_2_reduce_res_127569 =
        defunc_2_reduce_res_127569;
    *futhark_mc_task_130306->retval_defunc_2_reduce_res_127570 =
        defunc_2_reduce_res_127570;
    *futhark_mc_task_130306->retval_defunc_2_reduce_res_127571 =
        defunc_2_reduce_res_127571;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130315 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118926;
    int64_t free_x_119056;
    char *free_mem_121069;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_x_127562;
    float free_x_127563;
    float free_defunc_0_f_res_127566;
    float free_a12_127628;
    float free_b12_127629;
    float free_c12_127630;
    float free_b2_127631;
    float free_c2_127632;
    float *retval_defunc_2_reduce_res_127633;
    float *retval_defunc_2_reduce_res_127634;
};
struct futhark_mc_segred_stage_1_parloop_struct_130319 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_118926;
    int64_t free_x_119056;
    char *free_mem_121069;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_x_127562;
    float free_x_127563;
    float free_defunc_0_f_res_127566;
    float free_a12_127628;
    float free_b12_127629;
    float free_c12_127630;
    float free_b2_127631;
    float free_c2_127632;
    char *free_reduce_stage_1_tid_res_arr_mem_127980;
    char *free_reduce_stage_1_tid_res_arr_mem_127982;
};
static int futhark_mc_segred_stage_1_parloop_130320(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_118933,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130319
    *futhark_mc_segred_stage_1_parloop_struct_130319 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130319 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130319->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130320_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130320_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130319->free_n_114105;
    int64_t gtid_118926 =
            futhark_mc_segred_stage_1_parloop_struct_130319->free_gtid_118926;
    int64_t x_119056 =
            futhark_mc_segred_stage_1_parloop_struct_130319->free_x_119056;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130319->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130319->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130319->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_127562 =
            futhark_mc_segred_stage_1_parloop_struct_130319->free_x_127562;
    float x_127563 =
          futhark_mc_segred_stage_1_parloop_struct_130319->free_x_127563;
    float defunc_0_f_res_127566 =
          futhark_mc_segred_stage_1_parloop_struct_130319->free_defunc_0_f_res_127566;
    float a12_127628 =
          futhark_mc_segred_stage_1_parloop_struct_130319->free_a12_127628;
    float b12_127629 =
          futhark_mc_segred_stage_1_parloop_struct_130319->free_b12_127629;
    float c12_127630 =
          futhark_mc_segred_stage_1_parloop_struct_130319->free_c12_127630;
    float b2_127631 =
          futhark_mc_segred_stage_1_parloop_struct_130319->free_b2_127631;
    float c2_127632 =
          futhark_mc_segred_stage_1_parloop_struct_130319->free_c2_127632;
    struct memblock reduce_stage_1_tid_res_arr_mem_127980 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_127980",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130319->free_reduce_stage_1_tid_res_arr_mem_127980,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_127982 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_127982",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130319->free_reduce_stage_1_tid_res_arr_mem_127982,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_127984 = start;
    float x_127904;
    float x_127905;
    float x_127907;
    float x_127908;
    float local_acc_127985 = 0.0F;
    float local_acc_127986 = 0.0F;
    
    for (; iter_127984 < end; iter_127984++) {
        int64_t gtid_118934 = iter_127984;
        bool cond_127910 = sle64(x_119056, gtid_118934);
        float defunc_0_f_res_127911;
        
        if (cond_127910) {
            defunc_0_f_res_127911 = 0.0F;
        } else {
            int64_t i_127912 = add64(gtid_118934, x_127562);
            float x_127913 = ((float *) mem_121069.mem)[gtid_118926 * n_114105 +
                                                        i_127912];
            float defunc_0_f_res_f_res_127914 = 1.0F + x_127913;
            
            defunc_0_f_res_127911 = defunc_0_f_res_f_res_127914;
        }
        
        float defunc_0_f_res_127915;
        
        if (cond_127910) {
            defunc_0_f_res_127915 = 0.0F;
        } else {
            int64_t i_127916 = add64(gtid_118934, x_127562);
            float x_127917 = ((float *) mem_122005.mem)[gtid_118926 * n_114105 +
                                                        i_127916];
            
            defunc_0_f_res_127915 = x_127917;
        }
        
        float x_j_127918 = defunc_0_f_res_127911 - defunc_0_f_res_127566;
        float abs_res_127919 = (float) fabs(x_j_127918);
        float tmp1_127920 = abs_res_127919 / x_127563;
        float x_127921 = tmp1_127920 * tmp1_127920;
        float y_127922 = tmp1_127920 * x_127921;
        float tmp2_127923 = 1.0F - y_127922;
        float x_127924 = tmp2_127923 * tmp2_127923;
        float tmp3_127925 = tmp2_127923 * x_127924;
        float tmp4_127926 = defunc_0_f_res_127915 * tmp3_127925;
        float defunc_1_f_res_127927 = x_j_127918 * tmp4_127926;
        float defunc_1_f_res_127928 = x_j_127918 * defunc_1_f_res_127927;
        float defunc_0_f_res_127929;
        
        if (cond_127910) {
            defunc_0_f_res_127929 = 0.0F;
        } else {
            int64_t i_127930 = add64(gtid_118934, x_127562);
            float x_127931 = ((float *) mem_122001.mem)[gtid_118926 * n_114105 +
                                                        i_127930];
            
            defunc_0_f_res_127929 = x_127931;
        }
        
        float x_127932 = a12_127628 * tmp4_127926;
        float y_127933 = b12_127629 * defunc_1_f_res_127927;
        float x_127934 = x_127932 + y_127933;
        float y_127935 = c12_127630 * defunc_1_f_res_127928;
        float x_127936 = x_127934 + y_127935;
        float defunc_9_fit_fun_res_127937 = defunc_0_f_res_127929 * x_127936;
        float x_127938 = b12_127629 * tmp4_127926;
        float y_127939 = b2_127631 * defunc_1_f_res_127927;
        float x_127940 = x_127938 + y_127939;
        float y_127941 = c2_127632 * defunc_1_f_res_127928;
        float x_127942 = x_127940 + y_127941;
        float defunc_9_slope_fun_res_127943 = defunc_0_f_res_127929 * x_127942;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_127904 = local_acc_127985;
        }
        // Load next params
        {
            x_127905 = defunc_9_fit_fun_res_127937;
        }
        // Red body
        {
            float defunc_1_op_res_127906 = x_127904 + x_127905;
            
            local_acc_127985 = defunc_1_op_res_127906;
        }
        // Load accum params
        {
            x_127907 = local_acc_127986;
        }
        // Load next params
        {
            x_127908 = defunc_9_slope_fun_res_127943;
        }
        // Red body
        {
            float defunc_1_op_res_127909 = x_127907 + x_127908;
            
            local_acc_127986 = defunc_1_op_res_127909;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_127980.mem)[flat_tid_118933] =
        local_acc_127985;
    ((float *) reduce_stage_1_tid_res_arr_mem_127982.mem)[flat_tid_118933] =
        local_acc_127986;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130320_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130320_end -
                 futhark_mc_segred_stage_1_parloop_130320_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130320_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130320_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130320_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130316(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118933 = tid;
    int num_tasks_127979 = info.nsubtasks;
    struct futhark_mc_task_130315 *futhark_mc_task_130315 =
                                  (struct futhark_mc_task_130315 *) args;
    struct futhark_context *ctx = futhark_mc_task_130315->ctx;
    uint64_t futhark_mc_segred_task_130316_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130316_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130315->free_n_114105;
    int64_t gtid_118926 = futhark_mc_task_130315->free_gtid_118926;
    int64_t x_119056 = futhark_mc_task_130315->free_x_119056;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130315->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130315->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130315->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_127562 = futhark_mc_task_130315->free_x_127562;
    float x_127563 = futhark_mc_task_130315->free_x_127563;
    float defunc_0_f_res_127566 =
          futhark_mc_task_130315->free_defunc_0_f_res_127566;
    float a12_127628 = futhark_mc_task_130315->free_a12_127628;
    float b12_127629 = futhark_mc_task_130315->free_b12_127629;
    float c12_127630 = futhark_mc_task_130315->free_c12_127630;
    float b2_127631 = futhark_mc_task_130315->free_b2_127631;
    float c2_127632 = futhark_mc_task_130315->free_c2_127632;
    float defunc_2_reduce_res_127633 =
          *futhark_mc_task_130315->retval_defunc_2_reduce_res_127633;
    float defunc_2_reduce_res_127634 =
          *futhark_mc_task_130315->retval_defunc_2_reduce_res_127634;
    size_t reduce_stage_1_tid_res_arr_mem_127980_cached_sizze_130317 = 0;
    char *reduce_stage_1_tid_res_arr_mem_127980 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_127982_cached_sizze_130318 = 0;
    char *reduce_stage_1_tid_res_arr_mem_127982 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_127980_cached_sizze_130317 <
        (size_t) ((int64_t) 4 * num_tasks_127979)) {
        reduce_stage_1_tid_res_arr_mem_127980 =
            realloc(reduce_stage_1_tid_res_arr_mem_127980, (int64_t) 4 *
                    num_tasks_127979);
        reduce_stage_1_tid_res_arr_mem_127980_cached_sizze_130317 =
            (int64_t) 4 * num_tasks_127979;
    }
    if (reduce_stage_1_tid_res_arr_mem_127982_cached_sizze_130318 <
        (size_t) ((int64_t) 4 * num_tasks_127979)) {
        reduce_stage_1_tid_res_arr_mem_127982 =
            realloc(reduce_stage_1_tid_res_arr_mem_127982, (int64_t) 4 *
                    num_tasks_127979);
        reduce_stage_1_tid_res_arr_mem_127982_cached_sizze_130318 =
            (int64_t) 4 * num_tasks_127979;
    }
    
    int64_t iter_127984;
    struct futhark_mc_segred_stage_1_parloop_struct_130319
    futhark_mc_segred_stage_1_parloop_struct_130319;
    
    futhark_mc_segred_stage_1_parloop_struct_130319.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_gtid_118926 =
        gtid_118926;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_x_119056 = x_119056;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_mem_121069 =
        mem_121069.mem;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_mem_122001 =
        mem_122001.mem;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_mem_122005 =
        mem_122005.mem;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_x_127562 = x_127562;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_x_127563 = x_127563;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_defunc_0_f_res_127566 =
        defunc_0_f_res_127566;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_a12_127628 =
        a12_127628;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_b12_127629 =
        b12_127629;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_c12_127630 =
        c12_127630;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_b2_127631 = b2_127631;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_c2_127632 = c2_127632;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_reduce_stage_1_tid_res_arr_mem_127980 =
        reduce_stage_1_tid_res_arr_mem_127980;
    futhark_mc_segred_stage_1_parloop_struct_130319.free_reduce_stage_1_tid_res_arr_mem_127982 =
        reduce_stage_1_tid_res_arr_mem_127982;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130320_task;
    
    futhark_mc_segred_stage_1_parloop_130320_task.name =
        "futhark_mc_segred_stage_1_parloop_130320";
    futhark_mc_segred_stage_1_parloop_130320_task.fn =
        futhark_mc_segred_stage_1_parloop_130320;
    futhark_mc_segred_stage_1_parloop_130320_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130319;
    futhark_mc_segred_stage_1_parloop_130320_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130320_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130320_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130320_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130320_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130320_task);
    
    if (futhark_mc_segred_stage_1_parloop_130320_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130320_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130320_total_end -
                 futhark_mc_segred_stage_1_parloop_130320_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130320_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130320_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130320_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_127633 = 0.0F;
        defunc_2_reduce_res_127634 = 0.0F;
    }
    
    float x_127987;
    float x_127988;
    float x_127990;
    float x_127991;
    
    for (int32_t i_127993 = 0; i_127993 < num_tasks_127979; i_127993++) {
        flat_tid_118933 = i_127993;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_127987 = defunc_2_reduce_res_127633;
            }
            // load next params
            {
                x_127988 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_127980)[flat_tid_118933];
            }
            // red body
            {
                float defunc_1_op_res_127989 = x_127987 + x_127988;
                
                defunc_2_reduce_res_127633 = defunc_1_op_res_127989;
            }
            // load acc params
            {
                x_127990 = defunc_2_reduce_res_127634;
            }
            // load next params
            {
                x_127991 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_127982)[flat_tid_118933];
            }
            // red body
            {
                float defunc_1_op_res_127992 = x_127990 + x_127991;
                
                defunc_2_reduce_res_127634 = defunc_1_op_res_127992;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_127980);
    free(reduce_stage_1_tid_res_arr_mem_127982);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130316_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130316_end -
                 futhark_mc_segred_task_130316_start;
        
        ctx->futhark_mc_segred_task_130316_runs[tid]++;
        ctx->futhark_mc_segred_task_130316_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130316_iter[tid] += iterations;
    }
    *futhark_mc_task_130315->retval_defunc_2_reduce_res_127633 =
        defunc_2_reduce_res_127633;
    *futhark_mc_task_130315->retval_defunc_2_reduce_res_127634 =
        defunc_2_reduce_res_127634;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130305(void *args, int64_t start,
                                            int64_t end, int flat_tid_118929,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130304
    *futhark_mc_segmap_parloop_struct_130304 =
    (struct futhark_mc_segmap_parloop_struct_130304 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130304->ctx;
    uint64_t futhark_mc_segmap_parloop_130305_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130305_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130304->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130304->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130304->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130304->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130304->free_i_114181;
    int64_t gtid_118926 =
            futhark_mc_segmap_parloop_struct_130304->free_gtid_118926;
    int64_t x_119056 = futhark_mc_segmap_parloop_struct_130304->free_x_119056;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130304->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130304->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130304->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130304->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130304->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122082 = {.desc ="mem_122082", .mem =
                                  futhark_mc_segmap_parloop_struct_130304->free_mem_122082,
                                  .size =0, .references =NULL};
    struct memblock mem_122085 = {.desc ="mem_122085", .mem =
                                  futhark_mc_segmap_parloop_struct_130304->free_mem_122085,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_127867 = start;
    
    for (; iter_127867 < end; iter_127867++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_127944 = t_n_m_114162;
        int64_t gtid_118930 = iter_127867;
        int64_t remnant_127945 = iter_127867 - gtid_118930;
        int64_t x_127562 = ((int64_t *) mem_121233.mem)[gtid_118926 *
                                                        t_n_m_114162 +
                                                        gtid_118930];
        float x_127563 = ((float *) mem_121237.mem)[gtid_118926 * t_n_m_114162 +
                                                    gtid_118930];
        int64_t min_arg_127564 = mul64(t_jump_114112, gtid_118930);
        int64_t min_res_127565 = smin64(i_114181, min_arg_127564);
        float defunc_0_f_res_127566 = sitofp_i64_f32(min_res_127565);
        float defunc_2_reduce_res_127567;
        float defunc_2_reduce_res_127568;
        float defunc_2_reduce_res_127569;
        float defunc_2_reduce_res_127570;
        float defunc_2_reduce_res_127571;
        int64_t flat_tid_118931 = (int64_t) 0;
        int32_t num_tasks_127946;
        struct futhark_mc_task_130306 futhark_mc_task_130306;
        
        futhark_mc_task_130306.ctx = ctx;
        futhark_mc_task_130306.free_n_114105 = n_114105;
        futhark_mc_task_130306.free_gtid_118926 = gtid_118926;
        futhark_mc_task_130306.free_x_119056 = x_119056;
        futhark_mc_task_130306.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130306.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130306.free_x_127562 = x_127562;
        futhark_mc_task_130306.free_x_127563 = x_127563;
        futhark_mc_task_130306.free_defunc_0_f_res_127566 =
            defunc_0_f_res_127566;
        futhark_mc_task_130306.retval_defunc_2_reduce_res_127567 =
            &defunc_2_reduce_res_127567;
        futhark_mc_task_130306.retval_defunc_2_reduce_res_127568 =
            &defunc_2_reduce_res_127568;
        futhark_mc_task_130306.retval_defunc_2_reduce_res_127569 =
            &defunc_2_reduce_res_127569;
        futhark_mc_task_130306.retval_defunc_2_reduce_res_127570 =
            &defunc_2_reduce_res_127570;
        futhark_mc_task_130306.retval_defunc_2_reduce_res_127571 =
            &defunc_2_reduce_res_127571;
        
        struct scheduler_segop futhark_mc_task_130306_task;
        
        futhark_mc_task_130306_task.args = &futhark_mc_task_130306;
        futhark_mc_task_130306_task.top_level_fn =
            futhark_mc_segred_task_130307;
        futhark_mc_task_130306_task.name = "futhark_mc_segred_task_130307";
        futhark_mc_task_130306_task.iterations = t_window_114108;
        futhark_mc_task_130306_task.task_time =
            &ctx->futhark_mc_segred_task_130307_total_time;
        futhark_mc_task_130306_task.task_iter =
            &ctx->futhark_mc_segred_task_130307_total_iter;
        futhark_mc_task_130306_task.sched = STATIC;
        futhark_mc_task_130306_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130307_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130306_task);
        
        if (futhark_mc_segred_task_130307_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_127608 = defunc_2_reduce_res_127569 *
              defunc_2_reduce_res_127571;
        float y_127609 = defunc_2_reduce_res_127570 *
              defunc_2_reduce_res_127570;
        float a12_127610 = x_127608 - y_127609;
        float x_127611 = defunc_2_reduce_res_127569 *
              defunc_2_reduce_res_127570;
        float y_127612 = defunc_2_reduce_res_127568 *
              defunc_2_reduce_res_127571;
        float b12_127613 = x_127611 - y_127612;
        float x_127614 = defunc_2_reduce_res_127568 *
              defunc_2_reduce_res_127570;
        float y_127615 = defunc_2_reduce_res_127569 *
              defunc_2_reduce_res_127569;
        float c12_127616 = x_127614 - y_127615;
        float x_127617 = defunc_2_reduce_res_127567 *
              defunc_2_reduce_res_127571;
        float b2_127618 = x_127617 - y_127615;
        float x_127619 = defunc_2_reduce_res_127568 *
              defunc_2_reduce_res_127569;
        float y_127620 = defunc_2_reduce_res_127567 *
              defunc_2_reduce_res_127570;
        float c2_127621 = x_127619 - y_127620;
        float x_127622 = defunc_2_reduce_res_127567 * a12_127610;
        float y_127623 = defunc_2_reduce_res_127568 * b12_127613;
        float x_127624 = x_127622 + y_127623;
        float y_127625 = defunc_2_reduce_res_127569 * c12_127616;
        float y_127626 = x_127624 + y_127625;
        float det_127627 = 1.0F / y_127626;
        float a12_127628 = a12_127610 * det_127627;
        float b12_127629 = b12_127613 * det_127627;
        float c12_127630 = c12_127616 * det_127627;
        float b2_127631 = b2_127618 * det_127627;
        float c2_127632 = c2_127621 * det_127627;
        float defunc_2_reduce_res_127633;
        float defunc_2_reduce_res_127634;
        int64_t flat_tid_118933 = (int64_t) 0;
        int32_t num_tasks_127979;
        struct futhark_mc_task_130315 futhark_mc_task_130315;
        
        futhark_mc_task_130315.ctx = ctx;
        futhark_mc_task_130315.free_n_114105 = n_114105;
        futhark_mc_task_130315.free_gtid_118926 = gtid_118926;
        futhark_mc_task_130315.free_x_119056 = x_119056;
        futhark_mc_task_130315.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130315.free_mem_122001 = mem_122001.mem;
        futhark_mc_task_130315.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130315.free_x_127562 = x_127562;
        futhark_mc_task_130315.free_x_127563 = x_127563;
        futhark_mc_task_130315.free_defunc_0_f_res_127566 =
            defunc_0_f_res_127566;
        futhark_mc_task_130315.free_a12_127628 = a12_127628;
        futhark_mc_task_130315.free_b12_127629 = b12_127629;
        futhark_mc_task_130315.free_c12_127630 = c12_127630;
        futhark_mc_task_130315.free_b2_127631 = b2_127631;
        futhark_mc_task_130315.free_c2_127632 = c2_127632;
        futhark_mc_task_130315.retval_defunc_2_reduce_res_127633 =
            &defunc_2_reduce_res_127633;
        futhark_mc_task_130315.retval_defunc_2_reduce_res_127634 =
            &defunc_2_reduce_res_127634;
        
        struct scheduler_segop futhark_mc_task_130315_task;
        
        futhark_mc_task_130315_task.args = &futhark_mc_task_130315;
        futhark_mc_task_130315_task.top_level_fn =
            futhark_mc_segred_task_130316;
        futhark_mc_task_130315_task.name = "futhark_mc_segred_task_130316";
        futhark_mc_task_130315_task.iterations = t_window_114108;
        futhark_mc_task_130315_task.task_time =
            &ctx->futhark_mc_segred_task_130316_total_time;
        futhark_mc_task_130315_task.task_iter =
            &ctx->futhark_mc_segred_task_130316_total_iter;
        futhark_mc_task_130315_task.sched = STATIC;
        futhark_mc_task_130315_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130316_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130315_task);
        
        if (futhark_mc_segred_task_130316_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_122082.mem)[gtid_118930] = defunc_2_reduce_res_127633;
        ((float *) mem_122085.mem)[gtid_118930] = defunc_2_reduce_res_127634;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130305_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130305_end -
                 futhark_mc_segmap_parloop_130305_start;
        
        ctx->futhark_mc_segmap_parloop_130305_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130305_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130305_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130303(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118929 = tid;
    int num_tasks_127785 = info.nsubtasks;
    struct futhark_mc_task_130299 *futhark_mc_task_130299 =
                                  (struct futhark_mc_task_130299 *) args;
    struct futhark_context *ctx = futhark_mc_task_130299->ctx;
    uint64_t futhark_mc_segmap_nested_task_130303_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130303_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130299->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130299->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130299->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130299->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130299->free_i_114181;
    int64_t gtid_118926 = futhark_mc_task_130299->free_gtid_118926;
    int64_t x_119056 = futhark_mc_task_130299->free_x_119056;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130299->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130299->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130299->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130299->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130299->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122082 = {.desc ="mem_122082", .mem =
                                  futhark_mc_task_130299->free_mem_122082,
                                  .size =0, .references =NULL};
    struct memblock mem_122085 = {.desc ="mem_122085", .mem =
                                  futhark_mc_task_130299->free_mem_122085,
                                  .size =0, .references =NULL};
    int64_t iter_127867;
    struct futhark_mc_segmap_parloop_struct_130304
    futhark_mc_segmap_parloop_struct_130304;
    
    futhark_mc_segmap_parloop_struct_130304.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130304.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130304.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130304.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130304.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130304.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130304.free_gtid_118926 = gtid_118926;
    futhark_mc_segmap_parloop_struct_130304.free_x_119056 = x_119056;
    futhark_mc_segmap_parloop_struct_130304.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130304.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130304.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130304.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130304.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130304.free_mem_122082 = mem_122082.mem;
    futhark_mc_segmap_parloop_struct_130304.free_mem_122085 = mem_122085.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130305_task;
    
    futhark_mc_segmap_parloop_130305_task.name =
        "futhark_mc_segmap_parloop_130305";
    futhark_mc_segmap_parloop_130305_task.fn = futhark_mc_segmap_parloop_130305;
    futhark_mc_segmap_parloop_130305_task.args =
        &futhark_mc_segmap_parloop_struct_130304;
    futhark_mc_segmap_parloop_130305_task.iterations = iterations;
    futhark_mc_segmap_parloop_130305_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130305_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130305_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130305_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130305_task);
    
    if (futhark_mc_segmap_parloop_130305_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130305_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130305_total_end -
                 futhark_mc_segmap_parloop_130305_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130305_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130305_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130305_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130303_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130303_end -
                 futhark_mc_segmap_nested_task_130303_start;
        
        ctx->futhark_mc_segmap_nested_task_130303_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130303_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130303_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130296(void *args, int64_t start,
                                            int64_t end, int flat_tid_118925,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130295
    *futhark_mc_segmap_parloop_struct_130295 =
    (struct futhark_mc_segmap_parloop_struct_130295 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130295->ctx;
    uint64_t futhark_mc_segmap_parloop_130296_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130296_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130295->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130295->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130295->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130295->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130295->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130295->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_130295->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130295->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_130295->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130295->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130295->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130295->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130295->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122119 = {.desc ="mem_122119", .mem =
                                  futhark_mc_segmap_parloop_struct_130295->free_mem_122119,
                                  .size =0, .references =NULL};
    struct memblock mem_122123 = {.desc ="mem_122123", .mem =
                                  futhark_mc_segmap_parloop_struct_130295->free_mem_122123,
                                  .size =0, .references =NULL};
    size_t mem_122082_cached_sizze_130297 = 0;
    char *mem_122082 = NULL;
    size_t mem_122085_cached_sizze_130298 = 0;
    char *mem_122085 = NULL;
    int64_t iterations = end - start;
    int64_t iter_127561 = start;
    
    if (mem_122082_cached_sizze_130297 < (size_t) bytes_121179) {
        mem_122082 = realloc(mem_122082, bytes_121179);
        mem_122082_cached_sizze_130297 = bytes_121179;
    }
    if (mem_122085_cached_sizze_130298 < (size_t) bytes_121179) {
        mem_122085 = realloc(mem_122085, bytes_121179);
        mem_122085_cached_sizze_130298 = bytes_121179;
    }
    for (; iter_127561 < end; iter_127561++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_127783 = m_114104;
        int64_t gtid_118926 = iter_127561;
        int64_t remnant_127784 = iter_127561 - gtid_118926;
        int64_t x_119056 = ((int64_t *) mem_121047.mem)[gtid_118926];
        int64_t flat_tid_118927 = (int64_t) 0;
        int32_t num_tasks_127785;
        int64_t flat_tid_118929 = (int64_t) 0;
        struct futhark_mc_task_130299 futhark_mc_task_130299;
        
        futhark_mc_task_130299.ctx = ctx;
        futhark_mc_task_130299.free_n_114105 = n_114105;
        futhark_mc_task_130299.free_t_window_114108 = t_window_114108;
        futhark_mc_task_130299.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_130299.free_t_n_m_114162 = t_n_m_114162;
        futhark_mc_task_130299.free_i_114181 = i_114181;
        futhark_mc_task_130299.free_gtid_118926 = gtid_118926;
        futhark_mc_task_130299.free_x_119056 = x_119056;
        futhark_mc_task_130299.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130299.free_mem_121233 = mem_121233.mem;
        futhark_mc_task_130299.free_mem_121237 = mem_121237.mem;
        futhark_mc_task_130299.free_mem_122001 = mem_122001.mem;
        futhark_mc_task_130299.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130299.free_mem_122082 = mem_122082;
        futhark_mc_task_130299.free_mem_122085 = mem_122085;
        
        struct scheduler_segop futhark_mc_task_130299_task;
        
        futhark_mc_task_130299_task.args = &futhark_mc_task_130299;
        futhark_mc_task_130299_task.top_level_fn =
            futhark_mc_segmap_task_130300;
        futhark_mc_task_130299_task.name = "futhark_mc_segmap_task_130300";
        futhark_mc_task_130299_task.iterations = t_n_m_114162;
        futhark_mc_task_130299_task.task_time =
            &ctx->futhark_mc_segmap_task_130300_total_time;
        futhark_mc_task_130299_task.task_iter =
            &ctx->futhark_mc_segmap_task_130300_total_iter;
        futhark_mc_task_130299_task.sched = STATIC;
        futhark_mc_task_130299_task.nested_fn =
            futhark_mc_segmap_nested_task_130303;
        
        int futhark_mc_segmap_task_130300_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130299_task);
        
        if (futhark_mc_segmap_task_130300_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_122119.mem + gtid_118926 * t_n_m_114162 * (int64_t) 4,
                mem_122082 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
        memmove(mem_122123.mem + gtid_118926 * t_n_m_114162 * (int64_t) 4,
                mem_122085 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122082);
    free(mem_122085);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130296_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130296_end -
                 futhark_mc_segmap_parloop_130296_start;
        
        ctx->futhark_mc_segmap_parloop_130296_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130296_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130296_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130294(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_118925 = tid;
    int num_tasks_127435 = info.nsubtasks;
    struct futhark_mc_task_130288 *futhark_mc_task_130288 =
                                  (struct futhark_mc_task_130288 *) args;
    struct futhark_context *ctx = futhark_mc_task_130288->ctx;
    uint64_t futhark_mc_segmap_nested_task_130294_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130294_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130288->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130288->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130288->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130288->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130288->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130288->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_130288->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130288->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_130288->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130288->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130288->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130288->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130288->free_mem_122005,
                                  .size =0, .references =NULL};
    struct memblock mem_122119 = {.desc ="mem_122119", .mem =
                                  futhark_mc_task_130288->free_mem_122119,
                                  .size =0, .references =NULL};
    struct memblock mem_122123 = {.desc ="mem_122123", .mem =
                                  futhark_mc_task_130288->free_mem_122123,
                                  .size =0, .references =NULL};
    int64_t iter_127561;
    struct futhark_mc_segmap_parloop_struct_130295
    futhark_mc_segmap_parloop_struct_130295;
    
    futhark_mc_segmap_parloop_struct_130295.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130295.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130295.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130295.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130295.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130295.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130295.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130295.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_130295.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130295.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_130295.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130295.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130295.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130295.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130295.free_mem_122119 = mem_122119.mem;
    futhark_mc_segmap_parloop_struct_130295.free_mem_122123 = mem_122123.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130296_task;
    
    futhark_mc_segmap_parloop_130296_task.name =
        "futhark_mc_segmap_parloop_130296";
    futhark_mc_segmap_parloop_130296_task.fn = futhark_mc_segmap_parloop_130296;
    futhark_mc_segmap_parloop_130296_task.args =
        &futhark_mc_segmap_parloop_struct_130295;
    futhark_mc_segmap_parloop_130296_task.iterations = iterations;
    futhark_mc_segmap_parloop_130296_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130296_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130296_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130296_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130296_task);
    
    if (futhark_mc_segmap_parloop_130296_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130296_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130296_total_end -
                 futhark_mc_segmap_parloop_130296_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130296_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130296_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130296_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130294_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130294_end -
                 futhark_mc_segmap_nested_task_130294_start;
        
        ctx->futhark_mc_segmap_nested_task_130294_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130294_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130294_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130321 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122132;
    char *free_mem_122186;
};
struct futhark_mc_segmap_parloop_struct_130323 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122132;
    char *free_mem_122186;
};
static int futhark_mc_segmap_parloop_130324(void *args, int64_t start,
                                            int64_t end, int flat_tid_119291,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130323
    *futhark_mc_segmap_parloop_struct_130323 =
    (struct futhark_mc_segmap_parloop_struct_130323 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130323->ctx;
    uint64_t futhark_mc_segmap_parloop_130324_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130324_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130323->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130323->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130323->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130323->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130323->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130323->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_130323->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130323->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_130323->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130323->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130323->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130323->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130323->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122132 =
            futhark_mc_segmap_parloop_struct_130323->free_bytes_122132;
    struct memblock mem_122186 = {.desc ="mem_122186", .mem =
                                  futhark_mc_segmap_parloop_struct_130323->free_mem_122186,
                                  .size =0, .references =NULL};
    size_t mem_122155_cached_sizze_130325 = 0;
    char *mem_122155 = NULL;
    size_t mem_122165_cached_sizze_130326 = 0;
    char *mem_122165 = NULL;
    int64_t iterations = end - start;
    int64_t iter_127997 = start;
    
    if (mem_122155_cached_sizze_130325 < (size_t) bytes_121179) {
        mem_122155 = realloc(mem_122155, bytes_121179);
        mem_122155_cached_sizze_130325 = bytes_121179;
    }
    if (mem_122165_cached_sizze_130326 < (size_t) bytes_122132) {
        mem_122165 = realloc(mem_122165, bytes_122132);
        mem_122165_cached_sizze_130326 = bytes_122132;
    }
    for (; iter_127997 < end; iter_127997++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128043 = m_114104;
        int64_t gtid_119292 = iter_127997;
        int64_t remnant_128044 = iter_127997 - gtid_119292;
        int64_t x_115730 = ((int64_t *) mem_121047.mem)[gtid_119292];
        
        for (int64_t i_127998 = 0; i_127998 < t_n_m_114162; i_127998++) {
            int64_t x_128000 = ((int64_t *) mem_121233.mem)[gtid_119292 *
                                                            t_n_m_114162 +
                                                            i_127998];
            float x_128001 = ((float *) mem_121237.mem)[gtid_119292 *
                                                        t_n_m_114162 +
                                                        i_127998];
            int64_t min_arg_128002 = mul64(t_jump_114112, i_127998);
            int64_t min_res_128003 = smin64(i_114181, min_arg_128002);
            float defunc_0_f_res_128004 = sitofp_i64_f32(min_res_128003);
            float defunc_2_reduce_res_128006;
            float redout_128009 = 0.0F;
            
            for (int64_t i_128008 = 0; i_128008 < t_window_114108; i_128008++) {
                bool cond_128011 = sle64(x_115730, i_128008);
                float defunc_0_f_res_128012;
                
                if (cond_128011) {
                    defunc_0_f_res_128012 = 0.0F;
                } else {
                    int64_t i_128013 = add64(x_128000, i_128008);
                    float x_128014 = ((float *) mem_121069.mem)[gtid_119292 *
                                                                n_114105 +
                                                                i_128013];
                    float defunc_0_f_res_f_res_128015 = 1.0F + x_128014;
                    
                    defunc_0_f_res_128012 = defunc_0_f_res_f_res_128015;
                }
                
                float defunc_0_f_res_128016;
                
                if (cond_128011) {
                    defunc_0_f_res_128016 = 0.0F;
                } else {
                    int64_t i_128017 = add64(x_128000, i_128008);
                    float x_128018 = ((float *) mem_122005.mem)[gtid_119292 *
                                                                n_114105 +
                                                                i_128017];
                    
                    defunc_0_f_res_128016 = x_128018;
                }
                
                float x_j_128019 = defunc_0_f_res_128012 -
                      defunc_0_f_res_128004;
                float abs_res_128020 = (float) fabs(x_j_128019);
                float tmp1_128021 = abs_res_128020 / x_128001;
                float x_128022 = tmp1_128021 * tmp1_128021;
                float y_128023 = tmp1_128021 * x_128022;
                float tmp2_128024 = 1.0F - y_128023;
                float x_128025 = tmp2_128024 * tmp2_128024;
                float tmp3_128026 = tmp2_128024 * x_128025;
                float tmp4_128027 = defunc_0_f_res_128016 * tmp3_128026;
                float defunc_1_op_res_128028 = tmp4_128027 + redout_128009;
                
                ((float *) mem_122165)[i_128008] = tmp4_128027;
                
                float redout_tmp_128046 = defunc_1_op_res_128028;
                
                redout_128009 = redout_tmp_128046;
            }
            defunc_2_reduce_res_128006 = redout_128009;
            
            float a0_128030 = 1.0F / defunc_2_reduce_res_128006;
            float defunc_2_reduce_res_128031;
            float redout_128033 = 0.0F;
            
            for (int64_t i_128032 = 0; i_128032 < t_window_114108; i_128032++) {
                float x_128034 = ((float *) mem_122165)[i_128032];
                bool cond_128035 = sle64(x_115730, i_128032);
                float defunc_0_f_res_128036;
                
                if (cond_128035) {
                    defunc_0_f_res_128036 = 0.0F;
                } else {
                    int64_t i_128037 = add64(x_128000, i_128032);
                    float x_128038 = ((float *) mem_122001.mem)[gtid_119292 *
                                                                n_114105 +
                                                                i_128037];
                    
                    defunc_0_f_res_128036 = x_128038;
                }
                
                float x_128039 = a0_128030 * x_128034;
                float defunc_9_fit_fun_res_128040 = defunc_0_f_res_128036 *
                      x_128039;
                float defunc_1_op_res_128041 = defunc_9_fit_fun_res_128040 +
                      redout_128033;
                float redout_tmp_128048 = defunc_1_op_res_128041;
                
                redout_128033 = redout_tmp_128048;
            }
            defunc_2_reduce_res_128031 = redout_128033;
            ((float *) mem_122155)[i_127998] = defunc_2_reduce_res_128031;
        }
        memmove(mem_122186.mem + gtid_119292 * t_n_m_114162 * (int64_t) 4,
                mem_122155 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122155);
    free(mem_122165);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130324_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130324_end -
                 futhark_mc_segmap_parloop_130324_start;
        
        ctx->futhark_mc_segmap_parloop_130324_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130324_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130324_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130322(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119291 = tid;
    int num_tasks_127996 = info.nsubtasks;
    struct futhark_mc_task_130321 *futhark_mc_task_130321 =
                                  (struct futhark_mc_task_130321 *) args;
    struct futhark_context *ctx = futhark_mc_task_130321->ctx;
    uint64_t futhark_mc_segmap_task_130322_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130322_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130321->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130321->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130321->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130321->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130321->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130321->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_130321->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130321->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_130321->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130321->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130321->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130321->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130321->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122132 = futhark_mc_task_130321->free_bytes_122132;
    struct memblock mem_122186 = {.desc ="mem_122186", .mem =
                                  futhark_mc_task_130321->free_mem_122186,
                                  .size =0, .references =NULL};
    int64_t iter_127997;
    struct futhark_mc_segmap_parloop_struct_130323
    futhark_mc_segmap_parloop_struct_130323;
    
    futhark_mc_segmap_parloop_struct_130323.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130323.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130323.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130323.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130323.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130323.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130323.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130323.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_130323.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130323.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_130323.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130323.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130323.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130323.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130323.free_bytes_122132 = bytes_122132;
    futhark_mc_segmap_parloop_struct_130323.free_mem_122186 = mem_122186.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130324_task;
    
    futhark_mc_segmap_parloop_130324_task.name =
        "futhark_mc_segmap_parloop_130324";
    futhark_mc_segmap_parloop_130324_task.fn = futhark_mc_segmap_parloop_130324;
    futhark_mc_segmap_parloop_130324_task.args =
        &futhark_mc_segmap_parloop_struct_130323;
    futhark_mc_segmap_parloop_130324_task.iterations = iterations;
    futhark_mc_segmap_parloop_130324_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130324_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130324_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130324_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130324_task);
    
    if (futhark_mc_segmap_parloop_130324_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130324_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130324_total_end -
                 futhark_mc_segmap_parloop_130324_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130324_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130324_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130324_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130322_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130322_end -
                 futhark_mc_segmap_task_130322_start;
        
        ctx->futhark_mc_segmap_task_130322_runs[tid]++;
        ctx->futhark_mc_segmap_task_130322_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130322_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130328 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122132;
    char *free_mem_122186;
};
struct futhark_mc_task_130331 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_119294;
    int64_t free_x_119350;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122132;
    char *free_mem_122152;
};
struct futhark_mc_segmap_parloop_struct_130333 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_119294;
    int64_t free_x_119350;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122132;
    char *free_mem_122152;
};
static int futhark_mc_segmap_parloop_130334(void *args, int64_t start,
                                            int64_t end, int flat_tid_119295,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130333
    *futhark_mc_segmap_parloop_struct_130333 =
    (struct futhark_mc_segmap_parloop_struct_130333 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130333->ctx;
    uint64_t futhark_mc_segmap_parloop_130334_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130334_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130333->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130333->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130333->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130333->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130333->free_i_114181;
    int64_t gtid_119294 =
            futhark_mc_segmap_parloop_struct_130333->free_gtid_119294;
    int64_t x_119350 = futhark_mc_segmap_parloop_struct_130333->free_x_119350;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130333->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130333->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130333->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130333->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130333->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122132 =
            futhark_mc_segmap_parloop_struct_130333->free_bytes_122132;
    struct memblock mem_122152 = {.desc ="mem_122152", .mem =
                                  futhark_mc_segmap_parloop_struct_130333->free_mem_122152,
                                  .size =0, .references =NULL};
    size_t mem_128095_cached_sizze_130335 = 0;
    char *mem_128095 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128136 = start;
    
    if (mem_128095_cached_sizze_130335 < (size_t) bytes_122132) {
        mem_128095 = realloc(mem_128095, bytes_122132);
        mem_128095_cached_sizze_130335 = bytes_122132;
    }
    for (; iter_128136 < end; iter_128136++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128169 = t_n_m_114162;
        int64_t gtid_119296 = iter_128136;
        int64_t remnant_128170 = iter_128136 - gtid_119296;
        int64_t x_128090 = ((int64_t *) mem_121233.mem)[gtid_119294 *
                                                        t_n_m_114162 +
                                                        gtid_119296];
        float x_128091 = ((float *) mem_121237.mem)[gtid_119294 * t_n_m_114162 +
                                                    gtid_119296];
        int64_t min_arg_128092 = mul64(t_jump_114112, gtid_119296);
        int64_t min_res_128093 = smin64(i_114181, min_arg_128092);
        float defunc_0_f_res_128094 = sitofp_i64_f32(min_res_128093);
        float defunc_2_reduce_res_128097;
        float redout_128138 = 0.0F;
        
        for (int64_t i_128137 = 0; i_128137 < t_window_114108; i_128137++) {
            bool cond_128140 = sle64(x_119350, i_128137);
            float defunc_0_f_res_128141;
            
            if (cond_128140) {
                defunc_0_f_res_128141 = 0.0F;
            } else {
                int64_t i_128142 = add64(x_128090, i_128137);
                float x_128143 = ((float *) mem_121069.mem)[gtid_119294 *
                                                            n_114105 +
                                                            i_128142];
                float defunc_0_f_res_f_res_128144 = 1.0F + x_128143;
                
                defunc_0_f_res_128141 = defunc_0_f_res_f_res_128144;
            }
            
            float defunc_0_f_res_128145;
            
            if (cond_128140) {
                defunc_0_f_res_128145 = 0.0F;
            } else {
                int64_t i_128146 = add64(x_128090, i_128137);
                float x_128147 = ((float *) mem_122005.mem)[gtid_119294 *
                                                            n_114105 +
                                                            i_128146];
                
                defunc_0_f_res_128145 = x_128147;
            }
            
            float x_j_128148 = defunc_0_f_res_128141 - defunc_0_f_res_128094;
            float abs_res_128149 = (float) fabs(x_j_128148);
            float tmp1_128150 = abs_res_128149 / x_128091;
            float x_128151 = tmp1_128150 * tmp1_128150;
            float y_128152 = tmp1_128150 * x_128151;
            float tmp2_128153 = 1.0F - y_128152;
            float x_128154 = tmp2_128153 * tmp2_128153;
            float tmp3_128155 = tmp2_128153 * x_128154;
            float tmp4_128156 = defunc_0_f_res_128145 * tmp3_128155;
            float defunc_1_op_res_128157 = tmp4_128156 + redout_128138;
            
            ((float *) mem_128095)[i_128137] = tmp4_128156;
            
            float redout_tmp_128171 = defunc_1_op_res_128157;
            
            redout_128138 = redout_tmp_128171;
        }
        defunc_2_reduce_res_128097 = redout_128138;
        
        float a0_128121 = 1.0F / defunc_2_reduce_res_128097;
        float defunc_2_reduce_res_128122;
        float redout_128160 = 0.0F;
        
        for (int64_t i_128159 = 0; i_128159 < t_window_114108; i_128159++) {
            float x_128161 = ((float *) mem_128095)[i_128159];
            bool cond_128162 = sle64(x_119350, i_128159);
            float defunc_0_f_res_128163;
            
            if (cond_128162) {
                defunc_0_f_res_128163 = 0.0F;
            } else {
                int64_t i_128164 = add64(x_128090, i_128159);
                float x_128165 = ((float *) mem_122001.mem)[gtid_119294 *
                                                            n_114105 +
                                                            i_128164];
                
                defunc_0_f_res_128163 = x_128165;
            }
            
            float x_128166 = a0_128121 * x_128161;
            float defunc_9_fit_fun_res_128167 = defunc_0_f_res_128163 *
                  x_128166;
            float defunc_1_op_res_128168 = defunc_9_fit_fun_res_128167 +
                  redout_128160;
            float redout_tmp_128173 = defunc_1_op_res_128168;
            
            redout_128160 = redout_tmp_128173;
        }
        defunc_2_reduce_res_128122 = redout_128160;
        ((float *) mem_122152.mem)[gtid_119296] = defunc_2_reduce_res_128122;
    }
    
  cleanup:
    { }
    free(mem_128095);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130334_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130334_end -
                 futhark_mc_segmap_parloop_130334_start;
        
        ctx->futhark_mc_segmap_parloop_130334_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130334_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130334_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130332(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119295 = tid;
    int num_tasks_128135 = info.nsubtasks;
    struct futhark_mc_task_130331 *futhark_mc_task_130331 =
                                  (struct futhark_mc_task_130331 *) args;
    struct futhark_context *ctx = futhark_mc_task_130331->ctx;
    uint64_t futhark_mc_segmap_task_130332_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130332_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130331->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130331->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130331->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130331->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130331->free_i_114181;
    int64_t gtid_119294 = futhark_mc_task_130331->free_gtid_119294;
    int64_t x_119350 = futhark_mc_task_130331->free_x_119350;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130331->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130331->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130331->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130331->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130331->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122132 = futhark_mc_task_130331->free_bytes_122132;
    struct memblock mem_122152 = {.desc ="mem_122152", .mem =
                                  futhark_mc_task_130331->free_mem_122152,
                                  .size =0, .references =NULL};
    int64_t iter_128136;
    struct futhark_mc_segmap_parloop_struct_130333
    futhark_mc_segmap_parloop_struct_130333;
    
    futhark_mc_segmap_parloop_struct_130333.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130333.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130333.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130333.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130333.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130333.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130333.free_gtid_119294 = gtid_119294;
    futhark_mc_segmap_parloop_struct_130333.free_x_119350 = x_119350;
    futhark_mc_segmap_parloop_struct_130333.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130333.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130333.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130333.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130333.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130333.free_bytes_122132 = bytes_122132;
    futhark_mc_segmap_parloop_struct_130333.free_mem_122152 = mem_122152.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130334_task;
    
    futhark_mc_segmap_parloop_130334_task.name =
        "futhark_mc_segmap_parloop_130334";
    futhark_mc_segmap_parloop_130334_task.fn = futhark_mc_segmap_parloop_130334;
    futhark_mc_segmap_parloop_130334_task.args =
        &futhark_mc_segmap_parloop_struct_130333;
    futhark_mc_segmap_parloop_130334_task.iterations = iterations;
    futhark_mc_segmap_parloop_130334_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130334_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130334_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130334_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130334_task);
    
    if (futhark_mc_segmap_parloop_130334_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130334_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130334_total_end -
                 futhark_mc_segmap_parloop_130334_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130334_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130334_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130334_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130332_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130332_end -
                 futhark_mc_segmap_task_130332_start;
        
        ctx->futhark_mc_segmap_task_130332_runs[tid]++;
        ctx->futhark_mc_segmap_task_130332_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130332_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130337 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_119294;
    int64_t free_x_119350;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122132;
    char *free_mem_122152;
};
struct futhark_mc_task_130340 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_119294;
    int64_t free_x_119350;
    char *free_mem_121069;
    char *free_mem_122005;
    int64_t free_x_128050;
    float free_x_128051;
    float free_defunc_0_f_res_128054;
    float *retval_defunc_2_reduce_res_128056;
    char *retval_mem_128055;
};
struct futhark_mc_segred_stage_1_parloop_struct_130343 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_119294;
    int64_t free_x_119350;
    char *free_mem_121069;
    char *free_mem_122005;
    int64_t free_x_128050;
    float free_x_128051;
    float free_defunc_0_f_res_128054;
    char *free_mem_128055;
    char *free_reduce_stage_1_tid_res_arr_mem_128208;
};
static int futhark_mc_segred_stage_1_parloop_130344(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_119299,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130343
    *futhark_mc_segred_stage_1_parloop_struct_130343 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130343 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130343->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130344_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130344_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130343->free_n_114105;
    int64_t gtid_119294 =
            futhark_mc_segred_stage_1_parloop_struct_130343->free_gtid_119294;
    int64_t x_119350 =
            futhark_mc_segred_stage_1_parloop_struct_130343->free_x_119350;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130343->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130343->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_128050 =
            futhark_mc_segred_stage_1_parloop_struct_130343->free_x_128050;
    float x_128051 =
          futhark_mc_segred_stage_1_parloop_struct_130343->free_x_128051;
    float defunc_0_f_res_128054 =
          futhark_mc_segred_stage_1_parloop_struct_130343->free_defunc_0_f_res_128054;
    struct memblock mem_128055 = {.desc ="mem_128055", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130343->free_mem_128055,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_128208 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_128208",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130343->free_reduce_stage_1_tid_res_arr_mem_128208,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_128210 = start;
    float x_128175;
    float x_128176;
    float local_acc_128211 = 0.0F;
    
    for (; iter_128210 < end; iter_128210++) {
        int64_t gtid_119300 = iter_128210;
        bool cond_128178 = sle64(x_119350, gtid_119300);
        float defunc_0_f_res_128179;
        
        if (cond_128178) {
            defunc_0_f_res_128179 = 0.0F;
        } else {
            int64_t i_128180 = add64(gtid_119300, x_128050);
            float x_128181 = ((float *) mem_121069.mem)[gtid_119294 * n_114105 +
                                                        i_128180];
            float defunc_0_f_res_f_res_128182 = 1.0F + x_128181;
            
            defunc_0_f_res_128179 = defunc_0_f_res_f_res_128182;
        }
        
        float defunc_0_f_res_128183;
        
        if (cond_128178) {
            defunc_0_f_res_128183 = 0.0F;
        } else {
            int64_t i_128184 = add64(gtid_119300, x_128050);
            float x_128185 = ((float *) mem_122005.mem)[gtid_119294 * n_114105 +
                                                        i_128184];
            
            defunc_0_f_res_128183 = x_128185;
        }
        
        float x_j_128186 = defunc_0_f_res_128179 - defunc_0_f_res_128054;
        float abs_res_128187 = (float) fabs(x_j_128186);
        float tmp1_128188 = abs_res_128187 / x_128051;
        float x_128189 = tmp1_128188 * tmp1_128188;
        float y_128190 = tmp1_128188 * x_128189;
        float tmp2_128191 = 1.0F - y_128190;
        float x_128192 = tmp2_128191 * tmp2_128191;
        float tmp3_128193 = tmp2_128191 * x_128192;
        float tmp4_128194 = defunc_0_f_res_128183 * tmp3_128193;
        
        // save map-out results
        {
            ((float *) mem_128055.mem)[gtid_119300] = tmp4_128194;
        }
        // Load accum params
        {
            x_128175 = local_acc_128211;
        }
        // Load next params
        {
            x_128176 = tmp4_128194;
        }
        // Red body
        {
            float defunc_1_op_res_128177 = x_128175 + x_128176;
            
            local_acc_128211 = defunc_1_op_res_128177;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_128208.mem)[flat_tid_119299] =
        local_acc_128211;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130344_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130344_end -
                 futhark_mc_segred_stage_1_parloop_130344_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130344_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130344_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130344_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130341(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119299 = tid;
    int num_tasks_128207 = info.nsubtasks;
    struct futhark_mc_task_130340 *futhark_mc_task_130340 =
                                  (struct futhark_mc_task_130340 *) args;
    struct futhark_context *ctx = futhark_mc_task_130340->ctx;
    uint64_t futhark_mc_segred_task_130341_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130341_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130340->free_n_114105;
    int64_t gtid_119294 = futhark_mc_task_130340->free_gtid_119294;
    int64_t x_119350 = futhark_mc_task_130340->free_x_119350;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130340->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130340->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_128050 = futhark_mc_task_130340->free_x_128050;
    float x_128051 = futhark_mc_task_130340->free_x_128051;
    float defunc_0_f_res_128054 =
          futhark_mc_task_130340->free_defunc_0_f_res_128054;
    float defunc_2_reduce_res_128056 =
          *futhark_mc_task_130340->retval_defunc_2_reduce_res_128056;
    struct memblock mem_128055 = {.desc ="mem_128055", .mem =
                                  futhark_mc_task_130340->retval_mem_128055,
                                  .size =0, .references =NULL};
    size_t reduce_stage_1_tid_res_arr_mem_128208_cached_sizze_130342 = 0;
    char *reduce_stage_1_tid_res_arr_mem_128208 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_128208_cached_sizze_130342 <
        (size_t) ((int64_t) 4 * num_tasks_128207)) {
        reduce_stage_1_tid_res_arr_mem_128208 =
            realloc(reduce_stage_1_tid_res_arr_mem_128208, (int64_t) 4 *
                    num_tasks_128207);
        reduce_stage_1_tid_res_arr_mem_128208_cached_sizze_130342 =
            (int64_t) 4 * num_tasks_128207;
    }
    
    int64_t iter_128210;
    struct futhark_mc_segred_stage_1_parloop_struct_130343
    futhark_mc_segred_stage_1_parloop_struct_130343;
    
    futhark_mc_segred_stage_1_parloop_struct_130343.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130343.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130343.free_gtid_119294 =
        gtid_119294;
    futhark_mc_segred_stage_1_parloop_struct_130343.free_x_119350 = x_119350;
    futhark_mc_segred_stage_1_parloop_struct_130343.free_mem_121069 =
        mem_121069.mem;
    futhark_mc_segred_stage_1_parloop_struct_130343.free_mem_122005 =
        mem_122005.mem;
    futhark_mc_segred_stage_1_parloop_struct_130343.free_x_128050 = x_128050;
    futhark_mc_segred_stage_1_parloop_struct_130343.free_x_128051 = x_128051;
    futhark_mc_segred_stage_1_parloop_struct_130343.free_defunc_0_f_res_128054 =
        defunc_0_f_res_128054;
    futhark_mc_segred_stage_1_parloop_struct_130343.free_mem_128055 =
        mem_128055.mem;
    futhark_mc_segred_stage_1_parloop_struct_130343.free_reduce_stage_1_tid_res_arr_mem_128208 =
        reduce_stage_1_tid_res_arr_mem_128208;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130344_task;
    
    futhark_mc_segred_stage_1_parloop_130344_task.name =
        "futhark_mc_segred_stage_1_parloop_130344";
    futhark_mc_segred_stage_1_parloop_130344_task.fn =
        futhark_mc_segred_stage_1_parloop_130344;
    futhark_mc_segred_stage_1_parloop_130344_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130343;
    futhark_mc_segred_stage_1_parloop_130344_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130344_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130344_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130344_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130344_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130344_task);
    
    if (futhark_mc_segred_stage_1_parloop_130344_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130344_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130344_total_end -
                 futhark_mc_segred_stage_1_parloop_130344_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130344_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130344_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130344_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_128056 = 0.0F;
    }
    
    float x_128212;
    float x_128213;
    
    for (int32_t i_128215 = 0; i_128215 < num_tasks_128207; i_128215++) {
        flat_tid_119299 = i_128215;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_128212 = defunc_2_reduce_res_128056;
            }
            // load next params
            {
                x_128213 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_128208)[flat_tid_119299];
            }
            // red body
            {
                float defunc_1_op_res_128214 = x_128212 + x_128213;
                
                defunc_2_reduce_res_128056 = defunc_1_op_res_128214;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_128208);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130341_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130341_end -
                 futhark_mc_segred_task_130341_start;
        
        ctx->futhark_mc_segred_task_130341_runs[tid]++;
        ctx->futhark_mc_segred_task_130341_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130341_iter[tid] += iterations;
    }
    *futhark_mc_task_130340->retval_defunc_2_reduce_res_128056 =
        defunc_2_reduce_res_128056;
    futhark_mc_task_130340->retval_mem_128055 = mem_128055.mem;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130345 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_119294;
    int64_t free_x_119350;
    char *free_mem_122001;
    int64_t free_x_128050;
    char *free_mem_128055;
    float free_a0_128078;
    float *retval_defunc_2_reduce_res_128079;
};
struct futhark_mc_segred_stage_1_parloop_struct_130348 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_119294;
    int64_t free_x_119350;
    char *free_mem_122001;
    int64_t free_x_128050;
    char *free_mem_128055;
    float free_a0_128078;
    char *free_reduce_stage_1_tid_res_arr_mem_128217;
};
static int futhark_mc_segred_stage_1_parloop_130349(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_119301,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130348
    *futhark_mc_segred_stage_1_parloop_struct_130348 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130348 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130348->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130349_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130349_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130348->free_n_114105;
    int64_t gtid_119294 =
            futhark_mc_segred_stage_1_parloop_struct_130348->free_gtid_119294;
    int64_t x_119350 =
            futhark_mc_segred_stage_1_parloop_struct_130348->free_x_119350;
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130348->free_mem_122001,
                                  .size =0, .references =NULL};
    int64_t x_128050 =
            futhark_mc_segred_stage_1_parloop_struct_130348->free_x_128050;
    struct memblock mem_128055 = {.desc ="mem_128055", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130348->free_mem_128055,
                                  .size =0, .references =NULL};
    float a0_128078 =
          futhark_mc_segred_stage_1_parloop_struct_130348->free_a0_128078;
    struct memblock reduce_stage_1_tid_res_arr_mem_128217 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_128217",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130348->free_reduce_stage_1_tid_res_arr_mem_128217,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_128219 = start;
    float x_128195;
    float x_128196;
    float local_acc_128220 = 0.0F;
    
    for (; iter_128219 < end; iter_128219++) {
        int64_t gtid_119302 = iter_128219;
        float x_128198 = ((float *) mem_128055.mem)[gtid_119302];
        bool cond_128199 = sle64(x_119350, gtid_119302);
        float defunc_0_f_res_128200;
        
        if (cond_128199) {
            defunc_0_f_res_128200 = 0.0F;
        } else {
            int64_t i_128201 = add64(gtid_119302, x_128050);
            float x_128202 = ((float *) mem_122001.mem)[gtid_119294 * n_114105 +
                                                        i_128201];
            
            defunc_0_f_res_128200 = x_128202;
        }
        
        float x_128203 = a0_128078 * x_128198;
        float defunc_9_fit_fun_res_128204 = defunc_0_f_res_128200 * x_128203;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_128195 = local_acc_128220;
        }
        // Load next params
        {
            x_128196 = defunc_9_fit_fun_res_128204;
        }
        // Red body
        {
            float defunc_1_op_res_128197 = x_128195 + x_128196;
            
            local_acc_128220 = defunc_1_op_res_128197;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_128217.mem)[flat_tid_119301] =
        local_acc_128220;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130349_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130349_end -
                 futhark_mc_segred_stage_1_parloop_130349_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130349_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130349_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130349_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130346(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119301 = tid;
    int num_tasks_128216 = info.nsubtasks;
    struct futhark_mc_task_130345 *futhark_mc_task_130345 =
                                  (struct futhark_mc_task_130345 *) args;
    struct futhark_context *ctx = futhark_mc_task_130345->ctx;
    uint64_t futhark_mc_segred_task_130346_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130346_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130345->free_n_114105;
    int64_t gtid_119294 = futhark_mc_task_130345->free_gtid_119294;
    int64_t x_119350 = futhark_mc_task_130345->free_x_119350;
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130345->free_mem_122001,
                                  .size =0, .references =NULL};
    int64_t x_128050 = futhark_mc_task_130345->free_x_128050;
    struct memblock mem_128055 = {.desc ="mem_128055", .mem =
                                  futhark_mc_task_130345->free_mem_128055,
                                  .size =0, .references =NULL};
    float a0_128078 = futhark_mc_task_130345->free_a0_128078;
    float defunc_2_reduce_res_128079 =
          *futhark_mc_task_130345->retval_defunc_2_reduce_res_128079;
    size_t reduce_stage_1_tid_res_arr_mem_128217_cached_sizze_130347 = 0;
    char *reduce_stage_1_tid_res_arr_mem_128217 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_128217_cached_sizze_130347 <
        (size_t) ((int64_t) 4 * num_tasks_128216)) {
        reduce_stage_1_tid_res_arr_mem_128217 =
            realloc(reduce_stage_1_tid_res_arr_mem_128217, (int64_t) 4 *
                    num_tasks_128216);
        reduce_stage_1_tid_res_arr_mem_128217_cached_sizze_130347 =
            (int64_t) 4 * num_tasks_128216;
    }
    
    int64_t iter_128219;
    struct futhark_mc_segred_stage_1_parloop_struct_130348
    futhark_mc_segred_stage_1_parloop_struct_130348;
    
    futhark_mc_segred_stage_1_parloop_struct_130348.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130348.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130348.free_gtid_119294 =
        gtid_119294;
    futhark_mc_segred_stage_1_parloop_struct_130348.free_x_119350 = x_119350;
    futhark_mc_segred_stage_1_parloop_struct_130348.free_mem_122001 =
        mem_122001.mem;
    futhark_mc_segred_stage_1_parloop_struct_130348.free_x_128050 = x_128050;
    futhark_mc_segred_stage_1_parloop_struct_130348.free_mem_128055 =
        mem_128055.mem;
    futhark_mc_segred_stage_1_parloop_struct_130348.free_a0_128078 = a0_128078;
    futhark_mc_segred_stage_1_parloop_struct_130348.free_reduce_stage_1_tid_res_arr_mem_128217 =
        reduce_stage_1_tid_res_arr_mem_128217;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130349_task;
    
    futhark_mc_segred_stage_1_parloop_130349_task.name =
        "futhark_mc_segred_stage_1_parloop_130349";
    futhark_mc_segred_stage_1_parloop_130349_task.fn =
        futhark_mc_segred_stage_1_parloop_130349;
    futhark_mc_segred_stage_1_parloop_130349_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130348;
    futhark_mc_segred_stage_1_parloop_130349_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130349_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130349_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130349_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130349_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130349_task);
    
    if (futhark_mc_segred_stage_1_parloop_130349_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130349_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130349_total_end -
                 futhark_mc_segred_stage_1_parloop_130349_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130349_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130349_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130349_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_128079 = 0.0F;
    }
    
    float x_128221;
    float x_128222;
    
    for (int32_t i_128224 = 0; i_128224 < num_tasks_128216; i_128224++) {
        flat_tid_119301 = i_128224;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_128221 = defunc_2_reduce_res_128079;
            }
            // load next params
            {
                x_128222 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_128217)[flat_tid_119301];
            }
            // red body
            {
                float defunc_1_op_res_128223 = x_128221 + x_128222;
                
                defunc_2_reduce_res_128079 = defunc_1_op_res_128223;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_128217);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130346_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130346_end -
                 futhark_mc_segred_task_130346_start;
        
        ctx->futhark_mc_segred_task_130346_runs[tid]++;
        ctx->futhark_mc_segred_task_130346_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130346_iter[tid] += iterations;
    }
    *futhark_mc_task_130345->retval_defunc_2_reduce_res_128079 =
        defunc_2_reduce_res_128079;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130338(void *args, int64_t start,
                                            int64_t end, int flat_tid_119297,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130337
    *futhark_mc_segmap_parloop_struct_130337 =
    (struct futhark_mc_segmap_parloop_struct_130337 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130337->ctx;
    uint64_t futhark_mc_segmap_parloop_130338_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130338_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130337->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130337->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130337->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130337->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130337->free_i_114181;
    int64_t gtid_119294 =
            futhark_mc_segmap_parloop_struct_130337->free_gtid_119294;
    int64_t x_119350 = futhark_mc_segmap_parloop_struct_130337->free_x_119350;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130337->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130337->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130337->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130337->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130337->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122132 =
            futhark_mc_segmap_parloop_struct_130337->free_bytes_122132;
    struct memblock mem_122152 = {.desc ="mem_122152", .mem =
                                  futhark_mc_segmap_parloop_struct_130337->free_mem_122152,
                                  .size =0, .references =NULL};
    size_t mem_128055_cached_sizze_130339 = 0;
    char *mem_128055 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128174 = start;
    
    if (mem_128055_cached_sizze_130339 < (size_t) bytes_122132) {
        mem_128055 = realloc(mem_128055, bytes_122132);
        mem_128055_cached_sizze_130339 = bytes_122132;
    }
    for (; iter_128174 < end; iter_128174++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128205 = t_n_m_114162;
        int64_t gtid_119298 = iter_128174;
        int64_t remnant_128206 = iter_128174 - gtid_119298;
        int64_t x_128050 = ((int64_t *) mem_121233.mem)[gtid_119294 *
                                                        t_n_m_114162 +
                                                        gtid_119298];
        float x_128051 = ((float *) mem_121237.mem)[gtid_119294 * t_n_m_114162 +
                                                    gtid_119298];
        int64_t min_arg_128052 = mul64(t_jump_114112, gtid_119298);
        int64_t min_res_128053 = smin64(i_114181, min_arg_128052);
        float defunc_0_f_res_128054 = sitofp_i64_f32(min_res_128053);
        float defunc_2_reduce_res_128056;
        int64_t flat_tid_119299 = (int64_t) 0;
        int32_t num_tasks_128207;
        struct futhark_mc_task_130340 futhark_mc_task_130340;
        
        futhark_mc_task_130340.ctx = ctx;
        futhark_mc_task_130340.free_n_114105 = n_114105;
        futhark_mc_task_130340.free_gtid_119294 = gtid_119294;
        futhark_mc_task_130340.free_x_119350 = x_119350;
        futhark_mc_task_130340.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130340.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130340.free_x_128050 = x_128050;
        futhark_mc_task_130340.free_x_128051 = x_128051;
        futhark_mc_task_130340.free_defunc_0_f_res_128054 =
            defunc_0_f_res_128054;
        futhark_mc_task_130340.retval_defunc_2_reduce_res_128056 =
            &defunc_2_reduce_res_128056;
        futhark_mc_task_130340.retval_mem_128055 = mem_128055;
        
        struct scheduler_segop futhark_mc_task_130340_task;
        
        futhark_mc_task_130340_task.args = &futhark_mc_task_130340;
        futhark_mc_task_130340_task.top_level_fn =
            futhark_mc_segred_task_130341;
        futhark_mc_task_130340_task.name = "futhark_mc_segred_task_130341";
        futhark_mc_task_130340_task.iterations = t_window_114108;
        futhark_mc_task_130340_task.task_time =
            &ctx->futhark_mc_segred_task_130341_total_time;
        futhark_mc_task_130340_task.task_iter =
            &ctx->futhark_mc_segred_task_130341_total_iter;
        futhark_mc_task_130340_task.sched = STATIC;
        futhark_mc_task_130340_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130341_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130340_task);
        
        if (futhark_mc_segred_task_130341_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float a0_128078 = 1.0F / defunc_2_reduce_res_128056;
        float defunc_2_reduce_res_128079;
        int64_t flat_tid_119301 = (int64_t) 0;
        int32_t num_tasks_128216;
        struct futhark_mc_task_130345 futhark_mc_task_130345;
        
        futhark_mc_task_130345.ctx = ctx;
        futhark_mc_task_130345.free_n_114105 = n_114105;
        futhark_mc_task_130345.free_gtid_119294 = gtid_119294;
        futhark_mc_task_130345.free_x_119350 = x_119350;
        futhark_mc_task_130345.free_mem_122001 = mem_122001.mem;
        futhark_mc_task_130345.free_x_128050 = x_128050;
        futhark_mc_task_130345.free_mem_128055 = mem_128055;
        futhark_mc_task_130345.free_a0_128078 = a0_128078;
        futhark_mc_task_130345.retval_defunc_2_reduce_res_128079 =
            &defunc_2_reduce_res_128079;
        
        struct scheduler_segop futhark_mc_task_130345_task;
        
        futhark_mc_task_130345_task.args = &futhark_mc_task_130345;
        futhark_mc_task_130345_task.top_level_fn =
            futhark_mc_segred_task_130346;
        futhark_mc_task_130345_task.name = "futhark_mc_segred_task_130346";
        futhark_mc_task_130345_task.iterations = t_window_114108;
        futhark_mc_task_130345_task.task_time =
            &ctx->futhark_mc_segred_task_130346_total_time;
        futhark_mc_task_130345_task.task_iter =
            &ctx->futhark_mc_segred_task_130346_total_iter;
        futhark_mc_task_130345_task.sched = STATIC;
        futhark_mc_task_130345_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130346_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130345_task);
        
        if (futhark_mc_segred_task_130346_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_122152.mem)[gtid_119298] = defunc_2_reduce_res_128079;
    }
    
  cleanup:
    { }
    free(mem_128055);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130338_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130338_end -
                 futhark_mc_segmap_parloop_130338_start;
        
        ctx->futhark_mc_segmap_parloop_130338_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130338_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130338_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130336(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119297 = tid;
    int num_tasks_128135 = info.nsubtasks;
    struct futhark_mc_task_130331 *futhark_mc_task_130331 =
                                  (struct futhark_mc_task_130331 *) args;
    struct futhark_context *ctx = futhark_mc_task_130331->ctx;
    uint64_t futhark_mc_segmap_nested_task_130336_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130336_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130331->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130331->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130331->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130331->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130331->free_i_114181;
    int64_t gtid_119294 = futhark_mc_task_130331->free_gtid_119294;
    int64_t x_119350 = futhark_mc_task_130331->free_x_119350;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130331->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130331->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130331->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130331->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130331->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122132 = futhark_mc_task_130331->free_bytes_122132;
    struct memblock mem_122152 = {.desc ="mem_122152", .mem =
                                  futhark_mc_task_130331->free_mem_122152,
                                  .size =0, .references =NULL};
    int64_t iter_128174;
    struct futhark_mc_segmap_parloop_struct_130337
    futhark_mc_segmap_parloop_struct_130337;
    
    futhark_mc_segmap_parloop_struct_130337.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130337.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130337.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130337.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130337.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130337.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130337.free_gtid_119294 = gtid_119294;
    futhark_mc_segmap_parloop_struct_130337.free_x_119350 = x_119350;
    futhark_mc_segmap_parloop_struct_130337.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130337.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130337.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130337.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130337.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130337.free_bytes_122132 = bytes_122132;
    futhark_mc_segmap_parloop_struct_130337.free_mem_122152 = mem_122152.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130338_task;
    
    futhark_mc_segmap_parloop_130338_task.name =
        "futhark_mc_segmap_parloop_130338";
    futhark_mc_segmap_parloop_130338_task.fn = futhark_mc_segmap_parloop_130338;
    futhark_mc_segmap_parloop_130338_task.args =
        &futhark_mc_segmap_parloop_struct_130337;
    futhark_mc_segmap_parloop_130338_task.iterations = iterations;
    futhark_mc_segmap_parloop_130338_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130338_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130338_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130338_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130338_task);
    
    if (futhark_mc_segmap_parloop_130338_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130338_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130338_total_end -
                 futhark_mc_segmap_parloop_130338_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130338_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130338_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130338_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130336_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130336_end -
                 futhark_mc_segmap_nested_task_130336_start;
        
        ctx->futhark_mc_segmap_nested_task_130336_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130336_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130336_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130329(void *args, int64_t start,
                                            int64_t end, int flat_tid_119293,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130328
    *futhark_mc_segmap_parloop_struct_130328 =
    (struct futhark_mc_segmap_parloop_struct_130328 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130328->ctx;
    uint64_t futhark_mc_segmap_parloop_130329_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130329_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130328->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130328->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130328->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130328->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130328->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130328->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_130328->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130328->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_130328->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130328->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130328->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130328->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130328->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122132 =
            futhark_mc_segmap_parloop_struct_130328->free_bytes_122132;
    struct memblock mem_122186 = {.desc ="mem_122186", .mem =
                                  futhark_mc_segmap_parloop_struct_130328->free_mem_122186,
                                  .size =0, .references =NULL};
    size_t mem_122152_cached_sizze_130330 = 0;
    char *mem_122152 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128049 = start;
    
    if (mem_122152_cached_sizze_130330 < (size_t) bytes_121179) {
        mem_122152 = realloc(mem_122152, bytes_121179);
        mem_122152_cached_sizze_130330 = bytes_121179;
    }
    for (; iter_128049 < end; iter_128049++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128133 = m_114104;
        int64_t gtid_119294 = iter_128049;
        int64_t remnant_128134 = iter_128049 - gtid_119294;
        int64_t x_119350 = ((int64_t *) mem_121047.mem)[gtid_119294];
        int64_t flat_tid_119295 = (int64_t) 0;
        int32_t num_tasks_128135;
        int64_t flat_tid_119297 = (int64_t) 0;
        struct futhark_mc_task_130331 futhark_mc_task_130331;
        
        futhark_mc_task_130331.ctx = ctx;
        futhark_mc_task_130331.free_n_114105 = n_114105;
        futhark_mc_task_130331.free_t_window_114108 = t_window_114108;
        futhark_mc_task_130331.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_130331.free_t_n_m_114162 = t_n_m_114162;
        futhark_mc_task_130331.free_i_114181 = i_114181;
        futhark_mc_task_130331.free_gtid_119294 = gtid_119294;
        futhark_mc_task_130331.free_x_119350 = x_119350;
        futhark_mc_task_130331.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130331.free_mem_121233 = mem_121233.mem;
        futhark_mc_task_130331.free_mem_121237 = mem_121237.mem;
        futhark_mc_task_130331.free_mem_122001 = mem_122001.mem;
        futhark_mc_task_130331.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130331.free_bytes_122132 = bytes_122132;
        futhark_mc_task_130331.free_mem_122152 = mem_122152;
        
        struct scheduler_segop futhark_mc_task_130331_task;
        
        futhark_mc_task_130331_task.args = &futhark_mc_task_130331;
        futhark_mc_task_130331_task.top_level_fn =
            futhark_mc_segmap_task_130332;
        futhark_mc_task_130331_task.name = "futhark_mc_segmap_task_130332";
        futhark_mc_task_130331_task.iterations = t_n_m_114162;
        futhark_mc_task_130331_task.task_time =
            &ctx->futhark_mc_segmap_task_130332_total_time;
        futhark_mc_task_130331_task.task_iter =
            &ctx->futhark_mc_segmap_task_130332_total_iter;
        futhark_mc_task_130331_task.sched = STATIC;
        futhark_mc_task_130331_task.nested_fn =
            futhark_mc_segmap_nested_task_130336;
        
        int futhark_mc_segmap_task_130332_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130331_task);
        
        if (futhark_mc_segmap_task_130332_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_122186.mem + gtid_119294 * t_n_m_114162 * (int64_t) 4,
                mem_122152 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122152);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130329_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130329_end -
                 futhark_mc_segmap_parloop_130329_start;
        
        ctx->futhark_mc_segmap_parloop_130329_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130329_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130329_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130327(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119293 = tid;
    int num_tasks_127996 = info.nsubtasks;
    struct futhark_mc_task_130321 *futhark_mc_task_130321 =
                                  (struct futhark_mc_task_130321 *) args;
    struct futhark_context *ctx = futhark_mc_task_130321->ctx;
    uint64_t futhark_mc_segmap_nested_task_130327_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130327_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130321->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130321->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130321->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130321->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130321->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130321->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_130321->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130321->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_130321->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130321->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130321->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130321->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130321->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122132 = futhark_mc_task_130321->free_bytes_122132;
    struct memblock mem_122186 = {.desc ="mem_122186", .mem =
                                  futhark_mc_task_130321->free_mem_122186,
                                  .size =0, .references =NULL};
    int64_t iter_128049;
    struct futhark_mc_segmap_parloop_struct_130328
    futhark_mc_segmap_parloop_struct_130328;
    
    futhark_mc_segmap_parloop_struct_130328.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130328.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130328.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130328.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130328.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130328.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130328.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130328.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_130328.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130328.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_130328.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130328.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130328.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130328.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130328.free_bytes_122132 = bytes_122132;
    futhark_mc_segmap_parloop_struct_130328.free_mem_122186 = mem_122186.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130329_task;
    
    futhark_mc_segmap_parloop_130329_task.name =
        "futhark_mc_segmap_parloop_130329";
    futhark_mc_segmap_parloop_130329_task.fn = futhark_mc_segmap_parloop_130329;
    futhark_mc_segmap_parloop_130329_task.args =
        &futhark_mc_segmap_parloop_struct_130328;
    futhark_mc_segmap_parloop_130329_task.iterations = iterations;
    futhark_mc_segmap_parloop_130329_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130329_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130329_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130329_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130329_task);
    
    if (futhark_mc_segmap_parloop_130329_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130329_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130329_total_end -
                 futhark_mc_segmap_parloop_130329_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130329_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130329_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130329_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130327_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130327_end -
                 futhark_mc_segmap_nested_task_130327_start;
        
        ctx->futhark_mc_segmap_nested_task_130327_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130327_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130327_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130350 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122187;
    char *free_mem_122292;
    char *free_mem_122296;
};
struct futhark_mc_segmap_parloop_struct_130352 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122187;
    char *free_mem_122292;
    char *free_mem_122296;
};
static int futhark_mc_segmap_parloop_130353(void *args, int64_t start,
                                            int64_t end, int flat_tid_119436,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130352
    *futhark_mc_segmap_parloop_struct_130352 =
    (struct futhark_mc_segmap_parloop_struct_130352 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130352->ctx;
    uint64_t futhark_mc_segmap_parloop_130353_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130353_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130352->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130352->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130352->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130352->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130352->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130352->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_130352->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130352->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_130352->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130352->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130352->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130352->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130352->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122187 =
            futhark_mc_segmap_parloop_struct_130352->free_bytes_122187;
    struct memblock mem_122292 = {.desc ="mem_122292", .mem =
                                  futhark_mc_segmap_parloop_struct_130352->free_mem_122292,
                                  .size =0, .references =NULL};
    struct memblock mem_122296 = {.desc ="mem_122296", .mem =
                                  futhark_mc_segmap_parloop_struct_130352->free_mem_122296,
                                  .size =0, .references =NULL};
    size_t mem_122231_cached_sizze_130354 = 0;
    char *mem_122231 = NULL;
    size_t mem_122234_cached_sizze_130355 = 0;
    char *mem_122234 = NULL;
    size_t mem_122251_cached_sizze_130356 = 0;
    char *mem_122251 = NULL;
    size_t mem_122254_cached_sizze_130357 = 0;
    char *mem_122254 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128226 = start;
    
    if (mem_122231_cached_sizze_130354 < (size_t) bytes_121179) {
        mem_122231 = realloc(mem_122231, bytes_121179);
        mem_122231_cached_sizze_130354 = bytes_121179;
    }
    if (mem_122234_cached_sizze_130355 < (size_t) bytes_121179) {
        mem_122234 = realloc(mem_122234, bytes_121179);
        mem_122234_cached_sizze_130355 = bytes_121179;
    }
    if (mem_122251_cached_sizze_130356 < (size_t) bytes_122187) {
        mem_122251 = realloc(mem_122251, bytes_122187);
        mem_122251_cached_sizze_130356 = bytes_122187;
    }
    if (mem_122254_cached_sizze_130357 < (size_t) bytes_122187) {
        mem_122254 = realloc(mem_122254, bytes_122187);
        mem_122254_cached_sizze_130357 = bytes_122187;
    }
    for (; iter_128226 < end; iter_128226++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128303 = m_114104;
        int64_t gtid_119437 = iter_128226;
        int64_t remnant_128304 = iter_128226 - gtid_119437;
        int64_t x_115787 = ((int64_t *) mem_121047.mem)[gtid_119437];
        
        for (int64_t i_128227 = 0; i_128227 < t_n_m_114162; i_128227++) {
            int64_t x_128230 = ((int64_t *) mem_121233.mem)[gtid_119437 *
                                                            t_n_m_114162 +
                                                            i_128227];
            float x_128231 = ((float *) mem_121237.mem)[gtid_119437 *
                                                        t_n_m_114162 +
                                                        i_128227];
            int64_t min_arg_128232 = mul64(t_jump_114112, i_128227);
            int64_t min_res_128233 = smin64(i_114181, min_arg_128232);
            float defunc_0_f_res_128234 = sitofp_i64_f32(min_res_128233);
            float defunc_2_reduce_res_128237;
            float defunc_2_reduce_res_128238;
            float defunc_2_reduce_res_128239;
            float redout_128243;
            float redout_128244;
            float redout_128245;
            
            redout_128243 = 0.0F;
            redout_128244 = 0.0F;
            redout_128245 = 0.0F;
            for (int64_t i_128242 = 0; i_128242 < t_window_114108; i_128242++) {
                bool cond_128248 = sle64(x_115787, i_128242);
                float defunc_0_f_res_128249;
                
                if (cond_128248) {
                    defunc_0_f_res_128249 = 0.0F;
                } else {
                    int64_t i_128250 = add64(x_128230, i_128242);
                    float x_128251 = ((float *) mem_121069.mem)[gtid_119437 *
                                                                n_114105 +
                                                                i_128250];
                    float defunc_0_f_res_f_res_128252 = 1.0F + x_128251;
                    
                    defunc_0_f_res_128249 = defunc_0_f_res_f_res_128252;
                }
                
                float defunc_0_f_res_128253;
                
                if (cond_128248) {
                    defunc_0_f_res_128253 = 0.0F;
                } else {
                    int64_t i_128254 = add64(x_128230, i_128242);
                    float x_128255 = ((float *) mem_122005.mem)[gtid_119437 *
                                                                n_114105 +
                                                                i_128254];
                    
                    defunc_0_f_res_128253 = x_128255;
                }
                
                float x_j_128256 = defunc_0_f_res_128249 -
                      defunc_0_f_res_128234;
                float abs_res_128257 = (float) fabs(x_j_128256);
                float tmp1_128258 = abs_res_128257 / x_128231;
                float x_128259 = tmp1_128258 * tmp1_128258;
                float y_128260 = tmp1_128258 * x_128259;
                float tmp2_128261 = 1.0F - y_128260;
                float x_128262 = tmp2_128261 * tmp2_128261;
                float tmp3_128263 = tmp2_128261 * x_128262;
                float tmp4_128264 = defunc_0_f_res_128253 * tmp3_128263;
                float defunc_1_f_res_128265 = x_j_128256 * tmp4_128264;
                float defunc_1_f_res_128266 = x_j_128256 *
                      defunc_1_f_res_128265;
                float defunc_1_op_res_128267 = tmp4_128264 + redout_128243;
                float defunc_1_op_res_128268 = defunc_1_f_res_128265 +
                      redout_128244;
                float defunc_1_op_res_128269 = defunc_1_f_res_128266 +
                      redout_128245;
                
                ((float *) mem_122251)[i_128242] = defunc_1_f_res_128265;
                ((float *) mem_122254)[i_128242] = tmp4_128264;
                
                float redout_tmp_128307 = defunc_1_op_res_128267;
                float redout_tmp_128308 = defunc_1_op_res_128268;
                float redout_tmp_128309 = defunc_1_op_res_128269;
                
                redout_128243 = redout_tmp_128307;
                redout_128244 = redout_tmp_128308;
                redout_128245 = redout_tmp_128309;
            }
            defunc_2_reduce_res_128237 = redout_128243;
            defunc_2_reduce_res_128238 = redout_128244;
            defunc_2_reduce_res_128239 = redout_128245;
            
            float x_128272 = defunc_2_reduce_res_128237 *
                  defunc_2_reduce_res_128239;
            float y_128273 = defunc_2_reduce_res_128238 *
                  defunc_2_reduce_res_128238;
            float y_128274 = x_128272 - y_128273;
            float det1_128275 = 1.0F / y_128274;
            float a11_128276 = defunc_2_reduce_res_128239 * det1_128275;
            float negate_arg_128277 = defunc_2_reduce_res_128238 * det1_128275;
            float b11_128278 = 0.0F - negate_arg_128277;
            float c11_128279 = defunc_2_reduce_res_128237 * det1_128275;
            float defunc_2_reduce_res_128280;
            float defunc_2_reduce_res_128281;
            float redout_128283;
            float redout_128284;
            
            redout_128283 = 0.0F;
            redout_128284 = 0.0F;
            for (int64_t i_128282 = 0; i_128282 < t_window_114108; i_128282++) {
                float x_128285 = ((float *) mem_122254)[i_128282];
                float x_128286 = ((float *) mem_122251)[i_128282];
                bool cond_128287 = sle64(x_115787, i_128282);
                float defunc_0_f_res_128288;
                
                if (cond_128287) {
                    defunc_0_f_res_128288 = 0.0F;
                } else {
                    int64_t i_128289 = add64(x_128230, i_128282);
                    float x_128290 = ((float *) mem_122001.mem)[gtid_119437 *
                                                                n_114105 +
                                                                i_128289];
                    
                    defunc_0_f_res_128288 = x_128290;
                }
                
                float x_128291 = a11_128276 * x_128285;
                float y_128292 = b11_128278 * x_128286;
                float x_128293 = x_128291 + y_128292;
                float defunc_9_fit_fun_res_128294 = defunc_0_f_res_128288 *
                      x_128293;
                float x_128295 = b11_128278 * x_128285;
                float y_128296 = c11_128279 * x_128286;
                float x_128297 = x_128295 + y_128296;
                float defunc_9_slope_fun_res_128298 = defunc_0_f_res_128288 *
                      x_128297;
                float defunc_1_op_res_128299 = defunc_9_fit_fun_res_128294 +
                      redout_128283;
                float defunc_1_op_res_128300 = defunc_9_slope_fun_res_128298 +
                      redout_128284;
                float redout_tmp_128312 = defunc_1_op_res_128299;
                float redout_tmp_128313 = defunc_1_op_res_128300;
                
                redout_128283 = redout_tmp_128312;
                redout_128284 = redout_tmp_128313;
            }
            defunc_2_reduce_res_128280 = redout_128283;
            defunc_2_reduce_res_128281 = redout_128284;
            ((float *) mem_122231)[i_128227] = defunc_2_reduce_res_128280;
            ((float *) mem_122234)[i_128227] = defunc_2_reduce_res_128281;
        }
        memmove(mem_122292.mem + gtid_119437 * t_n_m_114162 * (int64_t) 4,
                mem_122231 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
        memmove(mem_122296.mem + gtid_119437 * t_n_m_114162 * (int64_t) 4,
                mem_122234 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122231);
    free(mem_122234);
    free(mem_122251);
    free(mem_122254);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130353_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130353_end -
                 futhark_mc_segmap_parloop_130353_start;
        
        ctx->futhark_mc_segmap_parloop_130353_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130353_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130353_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130351(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119436 = tid;
    int num_tasks_128225 = info.nsubtasks;
    struct futhark_mc_task_130350 *futhark_mc_task_130350 =
                                  (struct futhark_mc_task_130350 *) args;
    struct futhark_context *ctx = futhark_mc_task_130350->ctx;
    uint64_t futhark_mc_segmap_task_130351_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130351_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130350->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130350->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130350->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130350->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130350->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130350->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_130350->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130350->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_130350->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130350->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130350->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130350->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130350->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122187 = futhark_mc_task_130350->free_bytes_122187;
    struct memblock mem_122292 = {.desc ="mem_122292", .mem =
                                  futhark_mc_task_130350->free_mem_122292,
                                  .size =0, .references =NULL};
    struct memblock mem_122296 = {.desc ="mem_122296", .mem =
                                  futhark_mc_task_130350->free_mem_122296,
                                  .size =0, .references =NULL};
    int64_t iter_128226;
    struct futhark_mc_segmap_parloop_struct_130352
    futhark_mc_segmap_parloop_struct_130352;
    
    futhark_mc_segmap_parloop_struct_130352.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130352.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130352.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130352.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130352.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130352.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130352.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130352.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_130352.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130352.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_130352.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130352.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130352.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130352.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130352.free_bytes_122187 = bytes_122187;
    futhark_mc_segmap_parloop_struct_130352.free_mem_122292 = mem_122292.mem;
    futhark_mc_segmap_parloop_struct_130352.free_mem_122296 = mem_122296.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130353_task;
    
    futhark_mc_segmap_parloop_130353_task.name =
        "futhark_mc_segmap_parloop_130353";
    futhark_mc_segmap_parloop_130353_task.fn = futhark_mc_segmap_parloop_130353;
    futhark_mc_segmap_parloop_130353_task.args =
        &futhark_mc_segmap_parloop_struct_130352;
    futhark_mc_segmap_parloop_130353_task.iterations = iterations;
    futhark_mc_segmap_parloop_130353_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130353_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130353_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130353_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130353_task);
    
    if (futhark_mc_segmap_parloop_130353_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130353_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130353_total_end -
                 futhark_mc_segmap_parloop_130353_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130353_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130353_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130353_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130351_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130351_end -
                 futhark_mc_segmap_task_130351_start;
        
        ctx->futhark_mc_segmap_task_130351_runs[tid]++;
        ctx->futhark_mc_segmap_task_130351_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130351_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130359 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122187;
    char *free_mem_122292;
    char *free_mem_122296;
};
struct futhark_mc_task_130363 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_119439;
    int64_t free_x_119524;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122187;
    char *free_mem_122225;
    char *free_mem_122228;
};
struct futhark_mc_segmap_parloop_struct_130365 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_119439;
    int64_t free_x_119524;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122187;
    char *free_mem_122225;
    char *free_mem_122228;
};
static int futhark_mc_segmap_parloop_130366(void *args, int64_t start,
                                            int64_t end, int flat_tid_119440,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130365
    *futhark_mc_segmap_parloop_struct_130365 =
    (struct futhark_mc_segmap_parloop_struct_130365 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130365->ctx;
    uint64_t futhark_mc_segmap_parloop_130366_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130366_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130365->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130365->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130365->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130365->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130365->free_i_114181;
    int64_t gtid_119439 =
            futhark_mc_segmap_parloop_struct_130365->free_gtid_119439;
    int64_t x_119524 = futhark_mc_segmap_parloop_struct_130365->free_x_119524;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130365->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130365->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130365->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130365->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130365->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122187 =
            futhark_mc_segmap_parloop_struct_130365->free_bytes_122187;
    struct memblock mem_122225 = {.desc ="mem_122225", .mem =
                                  futhark_mc_segmap_parloop_struct_130365->free_mem_122225,
                                  .size =0, .references =NULL};
    struct memblock mem_122228 = {.desc ="mem_122228", .mem =
                                  futhark_mc_segmap_parloop_struct_130365->free_mem_122228,
                                  .size =0, .references =NULL};
    size_t mem_128390_cached_sizze_130367 = 0;
    char *mem_128390 = NULL;
    size_t mem_128392_cached_sizze_130368 = 0;
    char *mem_128392 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128461 = start;
    
    if (mem_128390_cached_sizze_130367 < (size_t) bytes_122187) {
        mem_128390 = realloc(mem_128390, bytes_122187);
        mem_128390_cached_sizze_130367 = bytes_122187;
    }
    if (mem_128392_cached_sizze_130368 < (size_t) bytes_122187) {
        mem_128392 = realloc(mem_128392, bytes_122187);
        mem_128392_cached_sizze_130368 = bytes_122187;
    }
    for (; iter_128461 < end; iter_128461++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128511 = t_n_m_114162;
        int64_t gtid_119441 = iter_128461;
        int64_t remnant_128512 = iter_128461 - gtid_119441;
        int64_t x_128385 = ((int64_t *) mem_121233.mem)[gtid_119439 *
                                                        t_n_m_114162 +
                                                        gtid_119441];
        float x_128386 = ((float *) mem_121237.mem)[gtid_119439 * t_n_m_114162 +
                                                    gtid_119441];
        int64_t min_arg_128387 = mul64(t_jump_114112, gtid_119441);
        int64_t min_res_128388 = smin64(i_114181, min_arg_128387);
        float defunc_0_f_res_128389 = sitofp_i64_f32(min_res_128388);
        float defunc_2_reduce_res_128394;
        float defunc_2_reduce_res_128395;
        float defunc_2_reduce_res_128396;
        float redout_128463;
        float redout_128464;
        float redout_128465;
        
        redout_128463 = 0.0F;
        redout_128464 = 0.0F;
        redout_128465 = 0.0F;
        for (int64_t i_128462 = 0; i_128462 < t_window_114108; i_128462++) {
            bool cond_128468 = sle64(x_119524, i_128462);
            float defunc_0_f_res_128469;
            
            if (cond_128468) {
                defunc_0_f_res_128469 = 0.0F;
            } else {
                int64_t i_128470 = add64(x_128385, i_128462);
                float x_128471 = ((float *) mem_121069.mem)[gtid_119439 *
                                                            n_114105 +
                                                            i_128470];
                float defunc_0_f_res_f_res_128472 = 1.0F + x_128471;
                
                defunc_0_f_res_128469 = defunc_0_f_res_f_res_128472;
            }
            
            float defunc_0_f_res_128473;
            
            if (cond_128468) {
                defunc_0_f_res_128473 = 0.0F;
            } else {
                int64_t i_128474 = add64(x_128385, i_128462);
                float x_128475 = ((float *) mem_122005.mem)[gtid_119439 *
                                                            n_114105 +
                                                            i_128474];
                
                defunc_0_f_res_128473 = x_128475;
            }
            
            float x_j_128476 = defunc_0_f_res_128469 - defunc_0_f_res_128389;
            float abs_res_128477 = (float) fabs(x_j_128476);
            float tmp1_128478 = abs_res_128477 / x_128386;
            float x_128479 = tmp1_128478 * tmp1_128478;
            float y_128480 = tmp1_128478 * x_128479;
            float tmp2_128481 = 1.0F - y_128480;
            float x_128482 = tmp2_128481 * tmp2_128481;
            float tmp3_128483 = tmp2_128481 * x_128482;
            float tmp4_128484 = defunc_0_f_res_128473 * tmp3_128483;
            float defunc_1_f_res_128485 = x_j_128476 * tmp4_128484;
            float defunc_1_f_res_128486 = x_j_128476 * defunc_1_f_res_128485;
            float defunc_1_op_res_128487 = tmp4_128484 + redout_128463;
            float defunc_1_op_res_128488 = defunc_1_f_res_128485 +
                  redout_128464;
            float defunc_1_op_res_128489 = defunc_1_f_res_128486 +
                  redout_128465;
            
            ((float *) mem_128390)[i_128462] = defunc_1_f_res_128485;
            ((float *) mem_128392)[i_128462] = tmp4_128484;
            
            float redout_tmp_128513 = defunc_1_op_res_128487;
            float redout_tmp_128514 = defunc_1_op_res_128488;
            float redout_tmp_128515 = defunc_1_op_res_128489;
            
            redout_128463 = redout_tmp_128513;
            redout_128464 = redout_tmp_128514;
            redout_128465 = redout_tmp_128515;
        }
        defunc_2_reduce_res_128394 = redout_128463;
        defunc_2_reduce_res_128395 = redout_128464;
        defunc_2_reduce_res_128396 = redout_128465;
        
        float x_128429 = defunc_2_reduce_res_128394 *
              defunc_2_reduce_res_128396;
        float y_128430 = defunc_2_reduce_res_128395 *
              defunc_2_reduce_res_128395;
        float y_128431 = x_128429 - y_128430;
        float det1_128432 = 1.0F / y_128431;
        float a11_128433 = defunc_2_reduce_res_128396 * det1_128432;
        float negate_arg_128434 = defunc_2_reduce_res_128395 * det1_128432;
        float b11_128435 = 0.0F - negate_arg_128434;
        float c11_128436 = defunc_2_reduce_res_128394 * det1_128432;
        float defunc_2_reduce_res_128437;
        float defunc_2_reduce_res_128438;
        float redout_128493;
        float redout_128494;
        
        redout_128493 = 0.0F;
        redout_128494 = 0.0F;
        for (int64_t i_128492 = 0; i_128492 < t_window_114108; i_128492++) {
            float x_128495 = ((float *) mem_128392)[i_128492];
            float x_128496 = ((float *) mem_128390)[i_128492];
            bool cond_128497 = sle64(x_119524, i_128492);
            float defunc_0_f_res_128498;
            
            if (cond_128497) {
                defunc_0_f_res_128498 = 0.0F;
            } else {
                int64_t i_128499 = add64(x_128385, i_128492);
                float x_128500 = ((float *) mem_122001.mem)[gtid_119439 *
                                                            n_114105 +
                                                            i_128499];
                
                defunc_0_f_res_128498 = x_128500;
            }
            
            float x_128501 = a11_128433 * x_128495;
            float y_128502 = b11_128435 * x_128496;
            float x_128503 = x_128501 + y_128502;
            float defunc_9_fit_fun_res_128504 = defunc_0_f_res_128498 *
                  x_128503;
            float x_128505 = b11_128435 * x_128495;
            float y_128506 = c11_128436 * x_128496;
            float x_128507 = x_128505 + y_128506;
            float defunc_9_slope_fun_res_128508 = defunc_0_f_res_128498 *
                  x_128507;
            float defunc_1_op_res_128509 = defunc_9_fit_fun_res_128504 +
                  redout_128493;
            float defunc_1_op_res_128510 = defunc_9_slope_fun_res_128508 +
                  redout_128494;
            float redout_tmp_128518 = defunc_1_op_res_128509;
            float redout_tmp_128519 = defunc_1_op_res_128510;
            
            redout_128493 = redout_tmp_128518;
            redout_128494 = redout_tmp_128519;
        }
        defunc_2_reduce_res_128437 = redout_128493;
        defunc_2_reduce_res_128438 = redout_128494;
        ((float *) mem_122225.mem)[gtid_119441] = defunc_2_reduce_res_128437;
        ((float *) mem_122228.mem)[gtid_119441] = defunc_2_reduce_res_128438;
    }
    
  cleanup:
    { }
    free(mem_128390);
    free(mem_128392);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130366_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130366_end -
                 futhark_mc_segmap_parloop_130366_start;
        
        ctx->futhark_mc_segmap_parloop_130366_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130366_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130366_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130364(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119440 = tid;
    int num_tasks_128460 = info.nsubtasks;
    struct futhark_mc_task_130363 *futhark_mc_task_130363 =
                                  (struct futhark_mc_task_130363 *) args;
    struct futhark_context *ctx = futhark_mc_task_130363->ctx;
    uint64_t futhark_mc_segmap_task_130364_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130364_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130363->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130363->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130363->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130363->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130363->free_i_114181;
    int64_t gtid_119439 = futhark_mc_task_130363->free_gtid_119439;
    int64_t x_119524 = futhark_mc_task_130363->free_x_119524;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130363->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130363->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130363->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130363->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130363->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122187 = futhark_mc_task_130363->free_bytes_122187;
    struct memblock mem_122225 = {.desc ="mem_122225", .mem =
                                  futhark_mc_task_130363->free_mem_122225,
                                  .size =0, .references =NULL};
    struct memblock mem_122228 = {.desc ="mem_122228", .mem =
                                  futhark_mc_task_130363->free_mem_122228,
                                  .size =0, .references =NULL};
    int64_t iter_128461;
    struct futhark_mc_segmap_parloop_struct_130365
    futhark_mc_segmap_parloop_struct_130365;
    
    futhark_mc_segmap_parloop_struct_130365.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130365.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130365.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130365.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130365.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130365.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130365.free_gtid_119439 = gtid_119439;
    futhark_mc_segmap_parloop_struct_130365.free_x_119524 = x_119524;
    futhark_mc_segmap_parloop_struct_130365.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130365.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130365.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130365.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130365.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130365.free_bytes_122187 = bytes_122187;
    futhark_mc_segmap_parloop_struct_130365.free_mem_122225 = mem_122225.mem;
    futhark_mc_segmap_parloop_struct_130365.free_mem_122228 = mem_122228.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130366_task;
    
    futhark_mc_segmap_parloop_130366_task.name =
        "futhark_mc_segmap_parloop_130366";
    futhark_mc_segmap_parloop_130366_task.fn = futhark_mc_segmap_parloop_130366;
    futhark_mc_segmap_parloop_130366_task.args =
        &futhark_mc_segmap_parloop_struct_130365;
    futhark_mc_segmap_parloop_130366_task.iterations = iterations;
    futhark_mc_segmap_parloop_130366_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130366_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130366_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130366_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130366_task);
    
    if (futhark_mc_segmap_parloop_130366_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130366_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130366_total_end -
                 futhark_mc_segmap_parloop_130366_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130366_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130366_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130366_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130364_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130364_end -
                 futhark_mc_segmap_task_130364_start;
        
        ctx->futhark_mc_segmap_task_130364_runs[tid]++;
        ctx->futhark_mc_segmap_task_130364_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130364_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130370 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_119439;
    int64_t free_x_119524;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122187;
    char *free_mem_122225;
    char *free_mem_122228;
};
struct futhark_mc_task_130374 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_119439;
    int64_t free_x_119524;
    char *free_mem_121069;
    char *free_mem_122005;
    int64_t free_x_128315;
    float free_x_128316;
    float free_defunc_0_f_res_128319;
    float *retval_defunc_2_reduce_res_128322;
    float *retval_defunc_2_reduce_res_128323;
    float *retval_defunc_2_reduce_res_128324;
    char *retval_mem_128320;
    char *retval_mem_128321;
};
struct futhark_mc_segred_stage_1_parloop_struct_130379 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_119439;
    int64_t free_x_119524;
    char *free_mem_121069;
    char *free_mem_122005;
    int64_t free_x_128315;
    float free_x_128316;
    float free_defunc_0_f_res_128319;
    char *free_mem_128320;
    char *free_mem_128321;
    char *free_reduce_stage_1_tid_res_arr_mem_128572;
    char *free_reduce_stage_1_tid_res_arr_mem_128574;
    char *free_reduce_stage_1_tid_res_arr_mem_128576;
};
static int futhark_mc_segred_stage_1_parloop_130380(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_119444,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130379
    *futhark_mc_segred_stage_1_parloop_struct_130379 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130379 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130379->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130380_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130380_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130379->free_n_114105;
    int64_t gtid_119439 =
            futhark_mc_segred_stage_1_parloop_struct_130379->free_gtid_119439;
    int64_t x_119524 =
            futhark_mc_segred_stage_1_parloop_struct_130379->free_x_119524;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130379->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130379->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_128315 =
            futhark_mc_segred_stage_1_parloop_struct_130379->free_x_128315;
    float x_128316 =
          futhark_mc_segred_stage_1_parloop_struct_130379->free_x_128316;
    float defunc_0_f_res_128319 =
          futhark_mc_segred_stage_1_parloop_struct_130379->free_defunc_0_f_res_128319;
    struct memblock mem_128320 = {.desc ="mem_128320", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130379->free_mem_128320,
                                  .size =0, .references =NULL};
    struct memblock mem_128321 = {.desc ="mem_128321", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130379->free_mem_128321,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_128572 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_128572",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130379->free_reduce_stage_1_tid_res_arr_mem_128572,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_128574 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_128574",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130379->free_reduce_stage_1_tid_res_arr_mem_128574,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_128576 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_128576",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130379->free_reduce_stage_1_tid_res_arr_mem_128576,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_128578 = start;
    float x_128521;
    float x_128522;
    float x_128524;
    float x_128525;
    float x_128527;
    float x_128528;
    float local_acc_128579 = 0.0F;
    float local_acc_128580 = 0.0F;
    float local_acc_128581 = 0.0F;
    
    for (; iter_128578 < end; iter_128578++) {
        int64_t gtid_119445 = iter_128578;
        bool cond_128530 = sle64(x_119524, gtid_119445);
        float defunc_0_f_res_128531;
        
        if (cond_128530) {
            defunc_0_f_res_128531 = 0.0F;
        } else {
            int64_t i_128532 = add64(gtid_119445, x_128315);
            float x_128533 = ((float *) mem_121069.mem)[gtid_119439 * n_114105 +
                                                        i_128532];
            float defunc_0_f_res_f_res_128534 = 1.0F + x_128533;
            
            defunc_0_f_res_128531 = defunc_0_f_res_f_res_128534;
        }
        
        float defunc_0_f_res_128535;
        
        if (cond_128530) {
            defunc_0_f_res_128535 = 0.0F;
        } else {
            int64_t i_128536 = add64(gtid_119445, x_128315);
            float x_128537 = ((float *) mem_122005.mem)[gtid_119439 * n_114105 +
                                                        i_128536];
            
            defunc_0_f_res_128535 = x_128537;
        }
        
        float x_j_128538 = defunc_0_f_res_128531 - defunc_0_f_res_128319;
        float abs_res_128539 = (float) fabs(x_j_128538);
        float tmp1_128540 = abs_res_128539 / x_128316;
        float x_128541 = tmp1_128540 * tmp1_128540;
        float y_128542 = tmp1_128540 * x_128541;
        float tmp2_128543 = 1.0F - y_128542;
        float x_128544 = tmp2_128543 * tmp2_128543;
        float tmp3_128545 = tmp2_128543 * x_128544;
        float tmp4_128546 = defunc_0_f_res_128535 * tmp3_128545;
        float defunc_1_f_res_128547 = x_j_128538 * tmp4_128546;
        float defunc_1_f_res_128548 = x_j_128538 * defunc_1_f_res_128547;
        
        // save map-out results
        {
            ((float *) mem_128320.mem)[gtid_119445] = defunc_1_f_res_128547;
            ((float *) mem_128321.mem)[gtid_119445] = tmp4_128546;
        }
        // Load accum params
        {
            x_128521 = local_acc_128579;
        }
        // Load next params
        {
            x_128522 = tmp4_128546;
        }
        // Red body
        {
            float defunc_1_op_res_128523 = x_128521 + x_128522;
            
            local_acc_128579 = defunc_1_op_res_128523;
        }
        // Load accum params
        {
            x_128524 = local_acc_128580;
        }
        // Load next params
        {
            x_128525 = defunc_1_f_res_128547;
        }
        // Red body
        {
            float defunc_1_op_res_128526 = x_128524 + x_128525;
            
            local_acc_128580 = defunc_1_op_res_128526;
        }
        // Load accum params
        {
            x_128527 = local_acc_128581;
        }
        // Load next params
        {
            x_128528 = defunc_1_f_res_128548;
        }
        // Red body
        {
            float defunc_1_op_res_128529 = x_128527 + x_128528;
            
            local_acc_128581 = defunc_1_op_res_128529;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_128572.mem)[flat_tid_119444] =
        local_acc_128579;
    ((float *) reduce_stage_1_tid_res_arr_mem_128574.mem)[flat_tid_119444] =
        local_acc_128580;
    ((float *) reduce_stage_1_tid_res_arr_mem_128576.mem)[flat_tid_119444] =
        local_acc_128581;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130380_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130380_end -
                 futhark_mc_segred_stage_1_parloop_130380_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130380_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130380_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130380_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130375(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119444 = tid;
    int num_tasks_128571 = info.nsubtasks;
    struct futhark_mc_task_130374 *futhark_mc_task_130374 =
                                  (struct futhark_mc_task_130374 *) args;
    struct futhark_context *ctx = futhark_mc_task_130374->ctx;
    uint64_t futhark_mc_segred_task_130375_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130375_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130374->free_n_114105;
    int64_t gtid_119439 = futhark_mc_task_130374->free_gtid_119439;
    int64_t x_119524 = futhark_mc_task_130374->free_x_119524;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130374->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130374->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_128315 = futhark_mc_task_130374->free_x_128315;
    float x_128316 = futhark_mc_task_130374->free_x_128316;
    float defunc_0_f_res_128319 =
          futhark_mc_task_130374->free_defunc_0_f_res_128319;
    float defunc_2_reduce_res_128322 =
          *futhark_mc_task_130374->retval_defunc_2_reduce_res_128322;
    float defunc_2_reduce_res_128323 =
          *futhark_mc_task_130374->retval_defunc_2_reduce_res_128323;
    float defunc_2_reduce_res_128324 =
          *futhark_mc_task_130374->retval_defunc_2_reduce_res_128324;
    struct memblock mem_128320 = {.desc ="mem_128320", .mem =
                                  futhark_mc_task_130374->retval_mem_128320,
                                  .size =0, .references =NULL};
    struct memblock mem_128321 = {.desc ="mem_128321", .mem =
                                  futhark_mc_task_130374->retval_mem_128321,
                                  .size =0, .references =NULL};
    size_t reduce_stage_1_tid_res_arr_mem_128572_cached_sizze_130376 = 0;
    char *reduce_stage_1_tid_res_arr_mem_128572 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_128574_cached_sizze_130377 = 0;
    char *reduce_stage_1_tid_res_arr_mem_128574 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_128576_cached_sizze_130378 = 0;
    char *reduce_stage_1_tid_res_arr_mem_128576 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_128572_cached_sizze_130376 <
        (size_t) ((int64_t) 4 * num_tasks_128571)) {
        reduce_stage_1_tid_res_arr_mem_128572 =
            realloc(reduce_stage_1_tid_res_arr_mem_128572, (int64_t) 4 *
                    num_tasks_128571);
        reduce_stage_1_tid_res_arr_mem_128572_cached_sizze_130376 =
            (int64_t) 4 * num_tasks_128571;
    }
    if (reduce_stage_1_tid_res_arr_mem_128574_cached_sizze_130377 <
        (size_t) ((int64_t) 4 * num_tasks_128571)) {
        reduce_stage_1_tid_res_arr_mem_128574 =
            realloc(reduce_stage_1_tid_res_arr_mem_128574, (int64_t) 4 *
                    num_tasks_128571);
        reduce_stage_1_tid_res_arr_mem_128574_cached_sizze_130377 =
            (int64_t) 4 * num_tasks_128571;
    }
    if (reduce_stage_1_tid_res_arr_mem_128576_cached_sizze_130378 <
        (size_t) ((int64_t) 4 * num_tasks_128571)) {
        reduce_stage_1_tid_res_arr_mem_128576 =
            realloc(reduce_stage_1_tid_res_arr_mem_128576, (int64_t) 4 *
                    num_tasks_128571);
        reduce_stage_1_tid_res_arr_mem_128576_cached_sizze_130378 =
            (int64_t) 4 * num_tasks_128571;
    }
    
    int64_t iter_128578;
    struct futhark_mc_segred_stage_1_parloop_struct_130379
    futhark_mc_segred_stage_1_parloop_struct_130379;
    
    futhark_mc_segred_stage_1_parloop_struct_130379.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130379.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130379.free_gtid_119439 =
        gtid_119439;
    futhark_mc_segred_stage_1_parloop_struct_130379.free_x_119524 = x_119524;
    futhark_mc_segred_stage_1_parloop_struct_130379.free_mem_121069 =
        mem_121069.mem;
    futhark_mc_segred_stage_1_parloop_struct_130379.free_mem_122005 =
        mem_122005.mem;
    futhark_mc_segred_stage_1_parloop_struct_130379.free_x_128315 = x_128315;
    futhark_mc_segred_stage_1_parloop_struct_130379.free_x_128316 = x_128316;
    futhark_mc_segred_stage_1_parloop_struct_130379.free_defunc_0_f_res_128319 =
        defunc_0_f_res_128319;
    futhark_mc_segred_stage_1_parloop_struct_130379.free_mem_128320 =
        mem_128320.mem;
    futhark_mc_segred_stage_1_parloop_struct_130379.free_mem_128321 =
        mem_128321.mem;
    futhark_mc_segred_stage_1_parloop_struct_130379.free_reduce_stage_1_tid_res_arr_mem_128572 =
        reduce_stage_1_tid_res_arr_mem_128572;
    futhark_mc_segred_stage_1_parloop_struct_130379.free_reduce_stage_1_tid_res_arr_mem_128574 =
        reduce_stage_1_tid_res_arr_mem_128574;
    futhark_mc_segred_stage_1_parloop_struct_130379.free_reduce_stage_1_tid_res_arr_mem_128576 =
        reduce_stage_1_tid_res_arr_mem_128576;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130380_task;
    
    futhark_mc_segred_stage_1_parloop_130380_task.name =
        "futhark_mc_segred_stage_1_parloop_130380";
    futhark_mc_segred_stage_1_parloop_130380_task.fn =
        futhark_mc_segred_stage_1_parloop_130380;
    futhark_mc_segred_stage_1_parloop_130380_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130379;
    futhark_mc_segred_stage_1_parloop_130380_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130380_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130380_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130380_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130380_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130380_task);
    
    if (futhark_mc_segred_stage_1_parloop_130380_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130380_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130380_total_end -
                 futhark_mc_segred_stage_1_parloop_130380_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130380_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130380_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130380_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_128322 = 0.0F;
        defunc_2_reduce_res_128323 = 0.0F;
        defunc_2_reduce_res_128324 = 0.0F;
    }
    
    float x_128582;
    float x_128583;
    float x_128585;
    float x_128586;
    float x_128588;
    float x_128589;
    
    for (int32_t i_128591 = 0; i_128591 < num_tasks_128571; i_128591++) {
        flat_tid_119444 = i_128591;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_128582 = defunc_2_reduce_res_128322;
            }
            // load next params
            {
                x_128583 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_128572)[flat_tid_119444];
            }
            // red body
            {
                float defunc_1_op_res_128584 = x_128582 + x_128583;
                
                defunc_2_reduce_res_128322 = defunc_1_op_res_128584;
            }
            // load acc params
            {
                x_128585 = defunc_2_reduce_res_128323;
            }
            // load next params
            {
                x_128586 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_128574)[flat_tid_119444];
            }
            // red body
            {
                float defunc_1_op_res_128587 = x_128585 + x_128586;
                
                defunc_2_reduce_res_128323 = defunc_1_op_res_128587;
            }
            // load acc params
            {
                x_128588 = defunc_2_reduce_res_128324;
            }
            // load next params
            {
                x_128589 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_128576)[flat_tid_119444];
            }
            // red body
            {
                float defunc_1_op_res_128590 = x_128588 + x_128589;
                
                defunc_2_reduce_res_128324 = defunc_1_op_res_128590;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_128572);
    free(reduce_stage_1_tid_res_arr_mem_128574);
    free(reduce_stage_1_tid_res_arr_mem_128576);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130375_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130375_end -
                 futhark_mc_segred_task_130375_start;
        
        ctx->futhark_mc_segred_task_130375_runs[tid]++;
        ctx->futhark_mc_segred_task_130375_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130375_iter[tid] += iterations;
    }
    *futhark_mc_task_130374->retval_defunc_2_reduce_res_128322 =
        defunc_2_reduce_res_128322;
    *futhark_mc_task_130374->retval_defunc_2_reduce_res_128323 =
        defunc_2_reduce_res_128323;
    *futhark_mc_task_130374->retval_defunc_2_reduce_res_128324 =
        defunc_2_reduce_res_128324;
    futhark_mc_task_130374->retval_mem_128320 = mem_128320.mem;
    futhark_mc_task_130374->retval_mem_128321 = mem_128321.mem;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130381 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_119439;
    int64_t free_x_119524;
    char *free_mem_122001;
    int64_t free_x_128315;
    char *free_mem_128320;
    char *free_mem_128321;
    float free_a11_128359;
    float free_b11_128361;
    float free_c11_128362;
    float *retval_defunc_2_reduce_res_128363;
    float *retval_defunc_2_reduce_res_128364;
};
struct futhark_mc_segred_stage_1_parloop_struct_130385 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_119439;
    int64_t free_x_119524;
    char *free_mem_122001;
    int64_t free_x_128315;
    char *free_mem_128320;
    char *free_mem_128321;
    float free_a11_128359;
    float free_b11_128361;
    float free_c11_128362;
    char *free_reduce_stage_1_tid_res_arr_mem_128593;
    char *free_reduce_stage_1_tid_res_arr_mem_128595;
};
static int futhark_mc_segred_stage_1_parloop_130386(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_119446,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130385
    *futhark_mc_segred_stage_1_parloop_struct_130385 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130385 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130385->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130386_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130386_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130385->free_n_114105;
    int64_t gtid_119439 =
            futhark_mc_segred_stage_1_parloop_struct_130385->free_gtid_119439;
    int64_t x_119524 =
            futhark_mc_segred_stage_1_parloop_struct_130385->free_x_119524;
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130385->free_mem_122001,
                                  .size =0, .references =NULL};
    int64_t x_128315 =
            futhark_mc_segred_stage_1_parloop_struct_130385->free_x_128315;
    struct memblock mem_128320 = {.desc ="mem_128320", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130385->free_mem_128320,
                                  .size =0, .references =NULL};
    struct memblock mem_128321 = {.desc ="mem_128321", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130385->free_mem_128321,
                                  .size =0, .references =NULL};
    float a11_128359 =
          futhark_mc_segred_stage_1_parloop_struct_130385->free_a11_128359;
    float b11_128361 =
          futhark_mc_segred_stage_1_parloop_struct_130385->free_b11_128361;
    float c11_128362 =
          futhark_mc_segred_stage_1_parloop_struct_130385->free_c11_128362;
    struct memblock reduce_stage_1_tid_res_arr_mem_128593 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_128593",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130385->free_reduce_stage_1_tid_res_arr_mem_128593,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_128595 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_128595",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130385->free_reduce_stage_1_tid_res_arr_mem_128595,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_128597 = start;
    float x_128549;
    float x_128550;
    float x_128552;
    float x_128553;
    float local_acc_128598 = 0.0F;
    float local_acc_128599 = 0.0F;
    
    for (; iter_128597 < end; iter_128597++) {
        int64_t gtid_119447 = iter_128597;
        float x_128555 = ((float *) mem_128321.mem)[gtid_119447];
        float x_128556 = ((float *) mem_128320.mem)[gtid_119447];
        bool cond_128557 = sle64(x_119524, gtid_119447);
        float defunc_0_f_res_128558;
        
        if (cond_128557) {
            defunc_0_f_res_128558 = 0.0F;
        } else {
            int64_t i_128559 = add64(gtid_119447, x_128315);
            float x_128560 = ((float *) mem_122001.mem)[gtid_119439 * n_114105 +
                                                        i_128559];
            
            defunc_0_f_res_128558 = x_128560;
        }
        
        float x_128561 = a11_128359 * x_128555;
        float y_128562 = b11_128361 * x_128556;
        float x_128563 = x_128561 + y_128562;
        float defunc_9_fit_fun_res_128564 = defunc_0_f_res_128558 * x_128563;
        float x_128565 = b11_128361 * x_128555;
        float y_128566 = c11_128362 * x_128556;
        float x_128567 = x_128565 + y_128566;
        float defunc_9_slope_fun_res_128568 = defunc_0_f_res_128558 * x_128567;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_128549 = local_acc_128598;
        }
        // Load next params
        {
            x_128550 = defunc_9_fit_fun_res_128564;
        }
        // Red body
        {
            float defunc_1_op_res_128551 = x_128549 + x_128550;
            
            local_acc_128598 = defunc_1_op_res_128551;
        }
        // Load accum params
        {
            x_128552 = local_acc_128599;
        }
        // Load next params
        {
            x_128553 = defunc_9_slope_fun_res_128568;
        }
        // Red body
        {
            float defunc_1_op_res_128554 = x_128552 + x_128553;
            
            local_acc_128599 = defunc_1_op_res_128554;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_128593.mem)[flat_tid_119446] =
        local_acc_128598;
    ((float *) reduce_stage_1_tid_res_arr_mem_128595.mem)[flat_tid_119446] =
        local_acc_128599;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130386_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130386_end -
                 futhark_mc_segred_stage_1_parloop_130386_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130386_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130386_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130386_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130382(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119446 = tid;
    int num_tasks_128592 = info.nsubtasks;
    struct futhark_mc_task_130381 *futhark_mc_task_130381 =
                                  (struct futhark_mc_task_130381 *) args;
    struct futhark_context *ctx = futhark_mc_task_130381->ctx;
    uint64_t futhark_mc_segred_task_130382_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130382_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130381->free_n_114105;
    int64_t gtid_119439 = futhark_mc_task_130381->free_gtid_119439;
    int64_t x_119524 = futhark_mc_task_130381->free_x_119524;
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130381->free_mem_122001,
                                  .size =0, .references =NULL};
    int64_t x_128315 = futhark_mc_task_130381->free_x_128315;
    struct memblock mem_128320 = {.desc ="mem_128320", .mem =
                                  futhark_mc_task_130381->free_mem_128320,
                                  .size =0, .references =NULL};
    struct memblock mem_128321 = {.desc ="mem_128321", .mem =
                                  futhark_mc_task_130381->free_mem_128321,
                                  .size =0, .references =NULL};
    float a11_128359 = futhark_mc_task_130381->free_a11_128359;
    float b11_128361 = futhark_mc_task_130381->free_b11_128361;
    float c11_128362 = futhark_mc_task_130381->free_c11_128362;
    float defunc_2_reduce_res_128363 =
          *futhark_mc_task_130381->retval_defunc_2_reduce_res_128363;
    float defunc_2_reduce_res_128364 =
          *futhark_mc_task_130381->retval_defunc_2_reduce_res_128364;
    size_t reduce_stage_1_tid_res_arr_mem_128593_cached_sizze_130383 = 0;
    char *reduce_stage_1_tid_res_arr_mem_128593 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_128595_cached_sizze_130384 = 0;
    char *reduce_stage_1_tid_res_arr_mem_128595 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_128593_cached_sizze_130383 <
        (size_t) ((int64_t) 4 * num_tasks_128592)) {
        reduce_stage_1_tid_res_arr_mem_128593 =
            realloc(reduce_stage_1_tid_res_arr_mem_128593, (int64_t) 4 *
                    num_tasks_128592);
        reduce_stage_1_tid_res_arr_mem_128593_cached_sizze_130383 =
            (int64_t) 4 * num_tasks_128592;
    }
    if (reduce_stage_1_tid_res_arr_mem_128595_cached_sizze_130384 <
        (size_t) ((int64_t) 4 * num_tasks_128592)) {
        reduce_stage_1_tid_res_arr_mem_128595 =
            realloc(reduce_stage_1_tid_res_arr_mem_128595, (int64_t) 4 *
                    num_tasks_128592);
        reduce_stage_1_tid_res_arr_mem_128595_cached_sizze_130384 =
            (int64_t) 4 * num_tasks_128592;
    }
    
    int64_t iter_128597;
    struct futhark_mc_segred_stage_1_parloop_struct_130385
    futhark_mc_segred_stage_1_parloop_struct_130385;
    
    futhark_mc_segred_stage_1_parloop_struct_130385.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130385.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130385.free_gtid_119439 =
        gtid_119439;
    futhark_mc_segred_stage_1_parloop_struct_130385.free_x_119524 = x_119524;
    futhark_mc_segred_stage_1_parloop_struct_130385.free_mem_122001 =
        mem_122001.mem;
    futhark_mc_segred_stage_1_parloop_struct_130385.free_x_128315 = x_128315;
    futhark_mc_segred_stage_1_parloop_struct_130385.free_mem_128320 =
        mem_128320.mem;
    futhark_mc_segred_stage_1_parloop_struct_130385.free_mem_128321 =
        mem_128321.mem;
    futhark_mc_segred_stage_1_parloop_struct_130385.free_a11_128359 =
        a11_128359;
    futhark_mc_segred_stage_1_parloop_struct_130385.free_b11_128361 =
        b11_128361;
    futhark_mc_segred_stage_1_parloop_struct_130385.free_c11_128362 =
        c11_128362;
    futhark_mc_segred_stage_1_parloop_struct_130385.free_reduce_stage_1_tid_res_arr_mem_128593 =
        reduce_stage_1_tid_res_arr_mem_128593;
    futhark_mc_segred_stage_1_parloop_struct_130385.free_reduce_stage_1_tid_res_arr_mem_128595 =
        reduce_stage_1_tid_res_arr_mem_128595;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130386_task;
    
    futhark_mc_segred_stage_1_parloop_130386_task.name =
        "futhark_mc_segred_stage_1_parloop_130386";
    futhark_mc_segred_stage_1_parloop_130386_task.fn =
        futhark_mc_segred_stage_1_parloop_130386;
    futhark_mc_segred_stage_1_parloop_130386_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130385;
    futhark_mc_segred_stage_1_parloop_130386_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130386_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130386_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130386_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130386_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130386_task);
    
    if (futhark_mc_segred_stage_1_parloop_130386_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130386_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130386_total_end -
                 futhark_mc_segred_stage_1_parloop_130386_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130386_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130386_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130386_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_128363 = 0.0F;
        defunc_2_reduce_res_128364 = 0.0F;
    }
    
    float x_128600;
    float x_128601;
    float x_128603;
    float x_128604;
    
    for (int32_t i_128606 = 0; i_128606 < num_tasks_128592; i_128606++) {
        flat_tid_119446 = i_128606;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_128600 = defunc_2_reduce_res_128363;
            }
            // load next params
            {
                x_128601 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_128593)[flat_tid_119446];
            }
            // red body
            {
                float defunc_1_op_res_128602 = x_128600 + x_128601;
                
                defunc_2_reduce_res_128363 = defunc_1_op_res_128602;
            }
            // load acc params
            {
                x_128603 = defunc_2_reduce_res_128364;
            }
            // load next params
            {
                x_128604 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_128595)[flat_tid_119446];
            }
            // red body
            {
                float defunc_1_op_res_128605 = x_128603 + x_128604;
                
                defunc_2_reduce_res_128364 = defunc_1_op_res_128605;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_128593);
    free(reduce_stage_1_tid_res_arr_mem_128595);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130382_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130382_end -
                 futhark_mc_segred_task_130382_start;
        
        ctx->futhark_mc_segred_task_130382_runs[tid]++;
        ctx->futhark_mc_segred_task_130382_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130382_iter[tid] += iterations;
    }
    *futhark_mc_task_130381->retval_defunc_2_reduce_res_128363 =
        defunc_2_reduce_res_128363;
    *futhark_mc_task_130381->retval_defunc_2_reduce_res_128364 =
        defunc_2_reduce_res_128364;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130371(void *args, int64_t start,
                                            int64_t end, int flat_tid_119442,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130370
    *futhark_mc_segmap_parloop_struct_130370 =
    (struct futhark_mc_segmap_parloop_struct_130370 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130370->ctx;
    uint64_t futhark_mc_segmap_parloop_130371_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130371_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130370->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130370->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130370->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130370->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130370->free_i_114181;
    int64_t gtid_119439 =
            futhark_mc_segmap_parloop_struct_130370->free_gtid_119439;
    int64_t x_119524 = futhark_mc_segmap_parloop_struct_130370->free_x_119524;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130370->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130370->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130370->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130370->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130370->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122187 =
            futhark_mc_segmap_parloop_struct_130370->free_bytes_122187;
    struct memblock mem_122225 = {.desc ="mem_122225", .mem =
                                  futhark_mc_segmap_parloop_struct_130370->free_mem_122225,
                                  .size =0, .references =NULL};
    struct memblock mem_122228 = {.desc ="mem_122228", .mem =
                                  futhark_mc_segmap_parloop_struct_130370->free_mem_122228,
                                  .size =0, .references =NULL};
    size_t mem_128320_cached_sizze_130372 = 0;
    char *mem_128320 = NULL;
    size_t mem_128321_cached_sizze_130373 = 0;
    char *mem_128321 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128520 = start;
    
    if (mem_128320_cached_sizze_130372 < (size_t) bytes_122187) {
        mem_128320 = realloc(mem_128320, bytes_122187);
        mem_128320_cached_sizze_130372 = bytes_122187;
    }
    if (mem_128321_cached_sizze_130373 < (size_t) bytes_122187) {
        mem_128321 = realloc(mem_128321, bytes_122187);
        mem_128321_cached_sizze_130373 = bytes_122187;
    }
    for (; iter_128520 < end; iter_128520++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128569 = t_n_m_114162;
        int64_t gtid_119443 = iter_128520;
        int64_t remnant_128570 = iter_128520 - gtid_119443;
        int64_t x_128315 = ((int64_t *) mem_121233.mem)[gtid_119439 *
                                                        t_n_m_114162 +
                                                        gtid_119443];
        float x_128316 = ((float *) mem_121237.mem)[gtid_119439 * t_n_m_114162 +
                                                    gtid_119443];
        int64_t min_arg_128317 = mul64(t_jump_114112, gtid_119443);
        int64_t min_res_128318 = smin64(i_114181, min_arg_128317);
        float defunc_0_f_res_128319 = sitofp_i64_f32(min_res_128318);
        float defunc_2_reduce_res_128322;
        float defunc_2_reduce_res_128323;
        float defunc_2_reduce_res_128324;
        int64_t flat_tid_119444 = (int64_t) 0;
        int32_t num_tasks_128571;
        struct futhark_mc_task_130374 futhark_mc_task_130374;
        
        futhark_mc_task_130374.ctx = ctx;
        futhark_mc_task_130374.free_n_114105 = n_114105;
        futhark_mc_task_130374.free_gtid_119439 = gtid_119439;
        futhark_mc_task_130374.free_x_119524 = x_119524;
        futhark_mc_task_130374.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130374.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130374.free_x_128315 = x_128315;
        futhark_mc_task_130374.free_x_128316 = x_128316;
        futhark_mc_task_130374.free_defunc_0_f_res_128319 =
            defunc_0_f_res_128319;
        futhark_mc_task_130374.retval_defunc_2_reduce_res_128322 =
            &defunc_2_reduce_res_128322;
        futhark_mc_task_130374.retval_defunc_2_reduce_res_128323 =
            &defunc_2_reduce_res_128323;
        futhark_mc_task_130374.retval_defunc_2_reduce_res_128324 =
            &defunc_2_reduce_res_128324;
        futhark_mc_task_130374.retval_mem_128320 = mem_128320;
        futhark_mc_task_130374.retval_mem_128321 = mem_128321;
        
        struct scheduler_segop futhark_mc_task_130374_task;
        
        futhark_mc_task_130374_task.args = &futhark_mc_task_130374;
        futhark_mc_task_130374_task.top_level_fn =
            futhark_mc_segred_task_130375;
        futhark_mc_task_130374_task.name = "futhark_mc_segred_task_130375";
        futhark_mc_task_130374_task.iterations = t_window_114108;
        futhark_mc_task_130374_task.task_time =
            &ctx->futhark_mc_segred_task_130375_total_time;
        futhark_mc_task_130374_task.task_iter =
            &ctx->futhark_mc_segred_task_130375_total_iter;
        futhark_mc_task_130374_task.sched = STATIC;
        futhark_mc_task_130374_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130375_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130374_task);
        
        if (futhark_mc_segred_task_130375_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_128355 = defunc_2_reduce_res_128322 *
              defunc_2_reduce_res_128324;
        float y_128356 = defunc_2_reduce_res_128323 *
              defunc_2_reduce_res_128323;
        float y_128357 = x_128355 - y_128356;
        float det1_128358 = 1.0F / y_128357;
        float a11_128359 = defunc_2_reduce_res_128324 * det1_128358;
        float negate_arg_128360 = defunc_2_reduce_res_128323 * det1_128358;
        float b11_128361 = 0.0F - negate_arg_128360;
        float c11_128362 = defunc_2_reduce_res_128322 * det1_128358;
        float defunc_2_reduce_res_128363;
        float defunc_2_reduce_res_128364;
        int64_t flat_tid_119446 = (int64_t) 0;
        int32_t num_tasks_128592;
        struct futhark_mc_task_130381 futhark_mc_task_130381;
        
        futhark_mc_task_130381.ctx = ctx;
        futhark_mc_task_130381.free_n_114105 = n_114105;
        futhark_mc_task_130381.free_gtid_119439 = gtid_119439;
        futhark_mc_task_130381.free_x_119524 = x_119524;
        futhark_mc_task_130381.free_mem_122001 = mem_122001.mem;
        futhark_mc_task_130381.free_x_128315 = x_128315;
        futhark_mc_task_130381.free_mem_128320 = mem_128320;
        futhark_mc_task_130381.free_mem_128321 = mem_128321;
        futhark_mc_task_130381.free_a11_128359 = a11_128359;
        futhark_mc_task_130381.free_b11_128361 = b11_128361;
        futhark_mc_task_130381.free_c11_128362 = c11_128362;
        futhark_mc_task_130381.retval_defunc_2_reduce_res_128363 =
            &defunc_2_reduce_res_128363;
        futhark_mc_task_130381.retval_defunc_2_reduce_res_128364 =
            &defunc_2_reduce_res_128364;
        
        struct scheduler_segop futhark_mc_task_130381_task;
        
        futhark_mc_task_130381_task.args = &futhark_mc_task_130381;
        futhark_mc_task_130381_task.top_level_fn =
            futhark_mc_segred_task_130382;
        futhark_mc_task_130381_task.name = "futhark_mc_segred_task_130382";
        futhark_mc_task_130381_task.iterations = t_window_114108;
        futhark_mc_task_130381_task.task_time =
            &ctx->futhark_mc_segred_task_130382_total_time;
        futhark_mc_task_130381_task.task_iter =
            &ctx->futhark_mc_segred_task_130382_total_iter;
        futhark_mc_task_130381_task.sched = STATIC;
        futhark_mc_task_130381_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130382_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130381_task);
        
        if (futhark_mc_segred_task_130382_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_122225.mem)[gtid_119443] = defunc_2_reduce_res_128363;
        ((float *) mem_122228.mem)[gtid_119443] = defunc_2_reduce_res_128364;
    }
    
  cleanup:
    { }
    free(mem_128320);
    free(mem_128321);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130371_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130371_end -
                 futhark_mc_segmap_parloop_130371_start;
        
        ctx->futhark_mc_segmap_parloop_130371_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130371_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130371_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130369(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119442 = tid;
    int num_tasks_128460 = info.nsubtasks;
    struct futhark_mc_task_130363 *futhark_mc_task_130363 =
                                  (struct futhark_mc_task_130363 *) args;
    struct futhark_context *ctx = futhark_mc_task_130363->ctx;
    uint64_t futhark_mc_segmap_nested_task_130369_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130369_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130363->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130363->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130363->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130363->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130363->free_i_114181;
    int64_t gtid_119439 = futhark_mc_task_130363->free_gtid_119439;
    int64_t x_119524 = futhark_mc_task_130363->free_x_119524;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130363->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130363->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130363->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130363->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130363->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122187 = futhark_mc_task_130363->free_bytes_122187;
    struct memblock mem_122225 = {.desc ="mem_122225", .mem =
                                  futhark_mc_task_130363->free_mem_122225,
                                  .size =0, .references =NULL};
    struct memblock mem_122228 = {.desc ="mem_122228", .mem =
                                  futhark_mc_task_130363->free_mem_122228,
                                  .size =0, .references =NULL};
    int64_t iter_128520;
    struct futhark_mc_segmap_parloop_struct_130370
    futhark_mc_segmap_parloop_struct_130370;
    
    futhark_mc_segmap_parloop_struct_130370.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130370.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130370.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130370.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130370.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130370.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130370.free_gtid_119439 = gtid_119439;
    futhark_mc_segmap_parloop_struct_130370.free_x_119524 = x_119524;
    futhark_mc_segmap_parloop_struct_130370.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130370.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130370.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130370.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130370.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130370.free_bytes_122187 = bytes_122187;
    futhark_mc_segmap_parloop_struct_130370.free_mem_122225 = mem_122225.mem;
    futhark_mc_segmap_parloop_struct_130370.free_mem_122228 = mem_122228.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130371_task;
    
    futhark_mc_segmap_parloop_130371_task.name =
        "futhark_mc_segmap_parloop_130371";
    futhark_mc_segmap_parloop_130371_task.fn = futhark_mc_segmap_parloop_130371;
    futhark_mc_segmap_parloop_130371_task.args =
        &futhark_mc_segmap_parloop_struct_130370;
    futhark_mc_segmap_parloop_130371_task.iterations = iterations;
    futhark_mc_segmap_parloop_130371_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130371_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130371_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130371_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130371_task);
    
    if (futhark_mc_segmap_parloop_130371_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130371_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130371_total_end -
                 futhark_mc_segmap_parloop_130371_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130371_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130371_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130371_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130369_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130369_end -
                 futhark_mc_segmap_nested_task_130369_start;
        
        ctx->futhark_mc_segmap_nested_task_130369_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130369_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130369_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130360(void *args, int64_t start,
                                            int64_t end, int flat_tid_119438,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130359
    *futhark_mc_segmap_parloop_struct_130359 =
    (struct futhark_mc_segmap_parloop_struct_130359 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130359->ctx;
    uint64_t futhark_mc_segmap_parloop_130360_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130360_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130359->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130359->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130359->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130359->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130359->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130359->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_130359->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130359->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_130359->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130359->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130359->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130359->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130359->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122187 =
            futhark_mc_segmap_parloop_struct_130359->free_bytes_122187;
    struct memblock mem_122292 = {.desc ="mem_122292", .mem =
                                  futhark_mc_segmap_parloop_struct_130359->free_mem_122292,
                                  .size =0, .references =NULL};
    struct memblock mem_122296 = {.desc ="mem_122296", .mem =
                                  futhark_mc_segmap_parloop_struct_130359->free_mem_122296,
                                  .size =0, .references =NULL};
    size_t mem_122225_cached_sizze_130361 = 0;
    char *mem_122225 = NULL;
    size_t mem_122228_cached_sizze_130362 = 0;
    char *mem_122228 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128314 = start;
    
    if (mem_122225_cached_sizze_130361 < (size_t) bytes_121179) {
        mem_122225 = realloc(mem_122225, bytes_121179);
        mem_122225_cached_sizze_130361 = bytes_121179;
    }
    if (mem_122228_cached_sizze_130362 < (size_t) bytes_121179) {
        mem_122228 = realloc(mem_122228, bytes_121179);
        mem_122228_cached_sizze_130362 = bytes_121179;
    }
    for (; iter_128314 < end; iter_128314++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128458 = m_114104;
        int64_t gtid_119439 = iter_128314;
        int64_t remnant_128459 = iter_128314 - gtid_119439;
        int64_t x_119524 = ((int64_t *) mem_121047.mem)[gtid_119439];
        int64_t flat_tid_119440 = (int64_t) 0;
        int32_t num_tasks_128460;
        int64_t flat_tid_119442 = (int64_t) 0;
        struct futhark_mc_task_130363 futhark_mc_task_130363;
        
        futhark_mc_task_130363.ctx = ctx;
        futhark_mc_task_130363.free_n_114105 = n_114105;
        futhark_mc_task_130363.free_t_window_114108 = t_window_114108;
        futhark_mc_task_130363.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_130363.free_t_n_m_114162 = t_n_m_114162;
        futhark_mc_task_130363.free_i_114181 = i_114181;
        futhark_mc_task_130363.free_gtid_119439 = gtid_119439;
        futhark_mc_task_130363.free_x_119524 = x_119524;
        futhark_mc_task_130363.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130363.free_mem_121233 = mem_121233.mem;
        futhark_mc_task_130363.free_mem_121237 = mem_121237.mem;
        futhark_mc_task_130363.free_mem_122001 = mem_122001.mem;
        futhark_mc_task_130363.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130363.free_bytes_122187 = bytes_122187;
        futhark_mc_task_130363.free_mem_122225 = mem_122225;
        futhark_mc_task_130363.free_mem_122228 = mem_122228;
        
        struct scheduler_segop futhark_mc_task_130363_task;
        
        futhark_mc_task_130363_task.args = &futhark_mc_task_130363;
        futhark_mc_task_130363_task.top_level_fn =
            futhark_mc_segmap_task_130364;
        futhark_mc_task_130363_task.name = "futhark_mc_segmap_task_130364";
        futhark_mc_task_130363_task.iterations = t_n_m_114162;
        futhark_mc_task_130363_task.task_time =
            &ctx->futhark_mc_segmap_task_130364_total_time;
        futhark_mc_task_130363_task.task_iter =
            &ctx->futhark_mc_segmap_task_130364_total_iter;
        futhark_mc_task_130363_task.sched = STATIC;
        futhark_mc_task_130363_task.nested_fn =
            futhark_mc_segmap_nested_task_130369;
        
        int futhark_mc_segmap_task_130364_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130363_task);
        
        if (futhark_mc_segmap_task_130364_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_122292.mem + gtid_119439 * t_n_m_114162 * (int64_t) 4,
                mem_122225 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
        memmove(mem_122296.mem + gtid_119439 * t_n_m_114162 * (int64_t) 4,
                mem_122228 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122225);
    free(mem_122228);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130360_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130360_end -
                 futhark_mc_segmap_parloop_130360_start;
        
        ctx->futhark_mc_segmap_parloop_130360_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130360_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130360_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130358(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119438 = tid;
    int num_tasks_128225 = info.nsubtasks;
    struct futhark_mc_task_130350 *futhark_mc_task_130350 =
                                  (struct futhark_mc_task_130350 *) args;
    struct futhark_context *ctx = futhark_mc_task_130350->ctx;
    uint64_t futhark_mc_segmap_nested_task_130358_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130358_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130350->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130350->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130350->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130350->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130350->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130350->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_130350->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130350->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_130350->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130350->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130350->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130350->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130350->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122187 = futhark_mc_task_130350->free_bytes_122187;
    struct memblock mem_122292 = {.desc ="mem_122292", .mem =
                                  futhark_mc_task_130350->free_mem_122292,
                                  .size =0, .references =NULL};
    struct memblock mem_122296 = {.desc ="mem_122296", .mem =
                                  futhark_mc_task_130350->free_mem_122296,
                                  .size =0, .references =NULL};
    int64_t iter_128314;
    struct futhark_mc_segmap_parloop_struct_130359
    futhark_mc_segmap_parloop_struct_130359;
    
    futhark_mc_segmap_parloop_struct_130359.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130359.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130359.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130359.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130359.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130359.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130359.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130359.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_130359.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130359.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_130359.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130359.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130359.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130359.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130359.free_bytes_122187 = bytes_122187;
    futhark_mc_segmap_parloop_struct_130359.free_mem_122292 = mem_122292.mem;
    futhark_mc_segmap_parloop_struct_130359.free_mem_122296 = mem_122296.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130360_task;
    
    futhark_mc_segmap_parloop_130360_task.name =
        "futhark_mc_segmap_parloop_130360";
    futhark_mc_segmap_parloop_130360_task.fn = futhark_mc_segmap_parloop_130360;
    futhark_mc_segmap_parloop_130360_task.args =
        &futhark_mc_segmap_parloop_struct_130359;
    futhark_mc_segmap_parloop_130360_task.iterations = iterations;
    futhark_mc_segmap_parloop_130360_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130360_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130360_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130360_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130360_task);
    
    if (futhark_mc_segmap_parloop_130360_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130360_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130360_total_end -
                 futhark_mc_segmap_parloop_130360_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130360_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130360_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130360_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130358_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130358_end -
                 futhark_mc_segmap_nested_task_130358_start;
        
        ctx->futhark_mc_segmap_nested_task_130358_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130358_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130358_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130387 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122297;
    char *free_mem_122468;
    char *free_mem_122472;
};
struct futhark_mc_segmap_parloop_struct_130389 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122297;
    char *free_mem_122468;
    char *free_mem_122472;
};
static int futhark_mc_segmap_parloop_130390(void *args, int64_t start,
                                            int64_t end, int flat_tid_119669,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130389
    *futhark_mc_segmap_parloop_struct_130389 =
    (struct futhark_mc_segmap_parloop_struct_130389 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130389->ctx;
    uint64_t futhark_mc_segmap_parloop_130390_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130390_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130389->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130389->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130389->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130389->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130389->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130389->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_130389->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130389->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_130389->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130389->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130389->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130389->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130389->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122297 =
            futhark_mc_segmap_parloop_struct_130389->free_bytes_122297;
    struct memblock mem_122468 = {.desc ="mem_122468", .mem =
                                  futhark_mc_segmap_parloop_struct_130389->free_mem_122468,
                                  .size =0, .references =NULL};
    struct memblock mem_122472 = {.desc ="mem_122472", .mem =
                                  futhark_mc_segmap_parloop_struct_130389->free_mem_122472,
                                  .size =0, .references =NULL};
    size_t mem_122377_cached_sizze_130391 = 0;
    char *mem_122377 = NULL;
    size_t mem_122380_cached_sizze_130392 = 0;
    char *mem_122380 = NULL;
    size_t mem_122397_cached_sizze_130393 = 0;
    char *mem_122397 = NULL;
    size_t mem_122400_cached_sizze_130394 = 0;
    char *mem_122400 = NULL;
    size_t mem_122427_cached_sizze_130395 = 0;
    char *mem_122427 = NULL;
    size_t mem_122430_cached_sizze_130396 = 0;
    char *mem_122430 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128608 = start;
    
    if (mem_122377_cached_sizze_130391 < (size_t) bytes_121179) {
        mem_122377 = realloc(mem_122377, bytes_121179);
        mem_122377_cached_sizze_130391 = bytes_121179;
    }
    if (mem_122380_cached_sizze_130392 < (size_t) bytes_121179) {
        mem_122380 = realloc(mem_122380, bytes_121179);
        mem_122380_cached_sizze_130392 = bytes_121179;
    }
    if (mem_122397_cached_sizze_130393 < (size_t) bytes_122297) {
        mem_122397 = realloc(mem_122397, bytes_122297);
        mem_122397_cached_sizze_130393 = bytes_122297;
    }
    if (mem_122400_cached_sizze_130394 < (size_t) bytes_122297) {
        mem_122400 = realloc(mem_122400, bytes_122297);
        mem_122400_cached_sizze_130394 = bytes_122297;
    }
    if (mem_122427_cached_sizze_130395 < (size_t) bytes_122297) {
        mem_122427 = realloc(mem_122427, bytes_122297);
        mem_122427_cached_sizze_130395 = bytes_122297;
    }
    if (mem_122430_cached_sizze_130396 < (size_t) bytes_122297) {
        mem_122430 = realloc(mem_122430, bytes_122297);
        mem_122430_cached_sizze_130396 = bytes_122297;
    }
    for (; iter_128608 < end; iter_128608++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128726 = m_114104;
        int64_t gtid_119670 = iter_128608;
        int64_t remnant_128727 = iter_128608 - gtid_119670;
        int64_t x_115898 = ((int64_t *) mem_121047.mem)[gtid_119670];
        
        for (int64_t i_128609 = 0; i_128609 < t_n_m_114162; i_128609++) {
            int64_t x_128612 = ((int64_t *) mem_121233.mem)[gtid_119670 *
                                                            t_n_m_114162 +
                                                            i_128609];
            float x_128613 = ((float *) mem_121237.mem)[gtid_119670 *
                                                        t_n_m_114162 +
                                                        i_128609];
            int64_t min_arg_128614 = mul64(t_jump_114112, i_128609);
            int64_t min_res_128615 = smin64(i_114181, min_arg_128614);
            float defunc_0_f_res_128616 = sitofp_i64_f32(min_res_128615);
            
            for (int64_t i_128621 = 0; i_128621 < t_window_114108; i_128621++) {
                bool cond_128624 = sle64(x_115898, i_128621);
                float defunc_0_f_res_128625;
                
                if (cond_128624) {
                    defunc_0_f_res_128625 = 0.0F;
                } else {
                    int64_t i_128626 = add64(x_128612, i_128621);
                    float x_128627 = ((float *) mem_121069.mem)[gtid_119670 *
                                                                n_114105 +
                                                                i_128626];
                    float defunc_0_f_res_f_res_128628 = 1.0F + x_128627;
                    
                    defunc_0_f_res_128625 = defunc_0_f_res_f_res_128628;
                }
                
                float defunc_0_f_res_128629;
                
                if (cond_128624) {
                    defunc_0_f_res_128629 = 0.0F;
                } else {
                    int64_t i_128630 = add64(x_128612, i_128621);
                    float x_128631 = ((float *) mem_122005.mem)[gtid_119670 *
                                                                n_114105 +
                                                                i_128630];
                    
                    defunc_0_f_res_128629 = x_128631;
                }
                
                float x_j_128632 = defunc_0_f_res_128625 -
                      defunc_0_f_res_128616;
                float abs_res_128633 = (float) fabs(x_j_128632);
                float tmp1_128634 = abs_res_128633 / x_128613;
                float x_128635 = tmp1_128634 * tmp1_128634;
                float y_128636 = tmp1_128634 * x_128635;
                float tmp2_128637 = 1.0F - y_128636;
                float x_128638 = tmp2_128637 * tmp2_128637;
                float tmp3_128639 = tmp2_128637 * x_128638;
                float tmp4_128640 = defunc_0_f_res_128629 * tmp3_128639;
                
                ((float *) mem_122397)[i_128621] = x_j_128632;
                ((float *) mem_122400)[i_128621] = tmp4_128640;
            }
            
            float defunc_2_reduce_res_128645;
            float defunc_2_reduce_res_128646;
            float defunc_2_reduce_res_128647;
            float defunc_2_reduce_res_128648;
            float defunc_2_reduce_res_128649;
            float redout_128653;
            float redout_128654;
            float redout_128655;
            float redout_128656;
            float redout_128657;
            
            redout_128653 = 0.0F;
            redout_128654 = 0.0F;
            redout_128655 = 0.0F;
            redout_128656 = 0.0F;
            redout_128657 = 0.0F;
            for (int64_t i_128652 = 0; i_128652 < t_window_114108; i_128652++) {
                float x_128660 = ((float *) mem_122397)[i_128652];
                float x_128661 = ((float *) mem_122400)[i_128652];
                float defunc_1_f_res_128662 = x_128660 * x_128661;
                float defunc_1_f_res_128663 = x_128660 * defunc_1_f_res_128662;
                float defunc_1_f_res_128664 = x_128660 * defunc_1_f_res_128663;
                float defunc_1_f_res_128665 = x_128660 * defunc_1_f_res_128664;
                float defunc_1_op_res_128666 = x_128661 + redout_128653;
                float defunc_1_op_res_128667 = defunc_1_f_res_128662 +
                      redout_128654;
                float defunc_1_op_res_128668 = defunc_1_f_res_128663 +
                      redout_128655;
                float defunc_1_op_res_128669 = defunc_1_f_res_128664 +
                      redout_128656;
                float defunc_1_op_res_128670 = defunc_1_f_res_128665 +
                      redout_128657;
                
                ((float *) mem_122427)[i_128652] = defunc_1_f_res_128663;
                ((float *) mem_122430)[i_128652] = defunc_1_f_res_128662;
                
                float redout_tmp_128732 = defunc_1_op_res_128666;
                float redout_tmp_128733 = defunc_1_op_res_128667;
                float redout_tmp_128734 = defunc_1_op_res_128668;
                float redout_tmp_128735 = defunc_1_op_res_128669;
                float redout_tmp_128736 = defunc_1_op_res_128670;
                
                redout_128653 = redout_tmp_128732;
                redout_128654 = redout_tmp_128733;
                redout_128655 = redout_tmp_128734;
                redout_128656 = redout_tmp_128735;
                redout_128657 = redout_tmp_128736;
            }
            defunc_2_reduce_res_128645 = redout_128653;
            defunc_2_reduce_res_128646 = redout_128654;
            defunc_2_reduce_res_128647 = redout_128655;
            defunc_2_reduce_res_128648 = redout_128656;
            defunc_2_reduce_res_128649 = redout_128657;
            
            float x_128673 = defunc_2_reduce_res_128647 *
                  defunc_2_reduce_res_128649;
            float y_128674 = defunc_2_reduce_res_128648 *
                  defunc_2_reduce_res_128648;
            float a12_128675 = x_128673 - y_128674;
            float x_128676 = defunc_2_reduce_res_128647 *
                  defunc_2_reduce_res_128648;
            float y_128677 = defunc_2_reduce_res_128646 *
                  defunc_2_reduce_res_128649;
            float b12_128678 = x_128676 - y_128677;
            float x_128679 = defunc_2_reduce_res_128646 *
                  defunc_2_reduce_res_128648;
            float y_128680 = defunc_2_reduce_res_128647 *
                  defunc_2_reduce_res_128647;
            float c12_128681 = x_128679 - y_128680;
            float x_128682 = defunc_2_reduce_res_128645 *
                  defunc_2_reduce_res_128649;
            float b2_128683 = x_128682 - y_128680;
            float x_128684 = defunc_2_reduce_res_128646 *
                  defunc_2_reduce_res_128647;
            float y_128685 = defunc_2_reduce_res_128645 *
                  defunc_2_reduce_res_128648;
            float c2_128686 = x_128684 - y_128685;
            float x_128687 = defunc_2_reduce_res_128645 * a12_128675;
            float y_128688 = defunc_2_reduce_res_128646 * b12_128678;
            float x_128689 = x_128687 + y_128688;
            float y_128690 = defunc_2_reduce_res_128647 * c12_128681;
            float y_128691 = x_128689 + y_128690;
            float det_128692 = 1.0F / y_128691;
            float a12_128693 = a12_128675 * det_128692;
            float b12_128694 = b12_128678 * det_128692;
            float c12_128695 = c12_128681 * det_128692;
            float b2_128696 = b2_128683 * det_128692;
            float c2_128697 = c2_128686 * det_128692;
            float defunc_2_reduce_res_128698;
            float defunc_2_reduce_res_128699;
            float redout_128701;
            float redout_128702;
            
            redout_128701 = 0.0F;
            redout_128702 = 0.0F;
            for (int64_t i_128700 = 0; i_128700 < t_window_114108; i_128700++) {
                float x_128703 = ((float *) mem_122400)[i_128700];
                float x_128704 = ((float *) mem_122430)[i_128700];
                float x_128705 = ((float *) mem_122427)[i_128700];
                bool cond_128706 = sle64(x_115898, i_128700);
                float defunc_0_f_res_128707;
                
                if (cond_128706) {
                    defunc_0_f_res_128707 = 0.0F;
                } else {
                    int64_t i_128708 = add64(x_128612, i_128700);
                    float x_128709 = ((float *) mem_122001.mem)[gtid_119670 *
                                                                n_114105 +
                                                                i_128708];
                    
                    defunc_0_f_res_128707 = x_128709;
                }
                
                float x_128710 = a12_128693 * x_128703;
                float y_128711 = b12_128694 * x_128704;
                float x_128712 = x_128710 + y_128711;
                float y_128713 = c12_128695 * x_128705;
                float x_128714 = x_128712 + y_128713;
                float defunc_9_fit_fun_res_128715 = defunc_0_f_res_128707 *
                      x_128714;
                float x_128716 = b12_128694 * x_128703;
                float y_128717 = b2_128696 * x_128704;
                float x_128718 = x_128716 + y_128717;
                float y_128719 = c2_128697 * x_128705;
                float x_128720 = x_128718 + y_128719;
                float defunc_9_slope_fun_res_128721 = defunc_0_f_res_128707 *
                      x_128720;
                float defunc_1_op_res_128722 = defunc_9_fit_fun_res_128715 +
                      redout_128701;
                float defunc_1_op_res_128723 = defunc_9_slope_fun_res_128721 +
                      redout_128702;
                float redout_tmp_128739 = defunc_1_op_res_128722;
                float redout_tmp_128740 = defunc_1_op_res_128723;
                
                redout_128701 = redout_tmp_128739;
                redout_128702 = redout_tmp_128740;
            }
            defunc_2_reduce_res_128698 = redout_128701;
            defunc_2_reduce_res_128699 = redout_128702;
            ((float *) mem_122377)[i_128609] = defunc_2_reduce_res_128698;
            ((float *) mem_122380)[i_128609] = defunc_2_reduce_res_128699;
        }
        memmove(mem_122468.mem + gtid_119670 * t_n_m_114162 * (int64_t) 4,
                mem_122377 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
        memmove(mem_122472.mem + gtid_119670 * t_n_m_114162 * (int64_t) 4,
                mem_122380 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122377);
    free(mem_122380);
    free(mem_122397);
    free(mem_122400);
    free(mem_122427);
    free(mem_122430);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130390_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130390_end -
                 futhark_mc_segmap_parloop_130390_start;
        
        ctx->futhark_mc_segmap_parloop_130390_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130390_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130390_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130388(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119669 = tid;
    int num_tasks_128607 = info.nsubtasks;
    struct futhark_mc_task_130387 *futhark_mc_task_130387 =
                                  (struct futhark_mc_task_130387 *) args;
    struct futhark_context *ctx = futhark_mc_task_130387->ctx;
    uint64_t futhark_mc_segmap_task_130388_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130388_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130387->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130387->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130387->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130387->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130387->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130387->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_130387->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130387->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_130387->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130387->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130387->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130387->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130387->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122297 = futhark_mc_task_130387->free_bytes_122297;
    struct memblock mem_122468 = {.desc ="mem_122468", .mem =
                                  futhark_mc_task_130387->free_mem_122468,
                                  .size =0, .references =NULL};
    struct memblock mem_122472 = {.desc ="mem_122472", .mem =
                                  futhark_mc_task_130387->free_mem_122472,
                                  .size =0, .references =NULL};
    int64_t iter_128608;
    struct futhark_mc_segmap_parloop_struct_130389
    futhark_mc_segmap_parloop_struct_130389;
    
    futhark_mc_segmap_parloop_struct_130389.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130389.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130389.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130389.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130389.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130389.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130389.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130389.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_130389.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130389.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_130389.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130389.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130389.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130389.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130389.free_bytes_122297 = bytes_122297;
    futhark_mc_segmap_parloop_struct_130389.free_mem_122468 = mem_122468.mem;
    futhark_mc_segmap_parloop_struct_130389.free_mem_122472 = mem_122472.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130390_task;
    
    futhark_mc_segmap_parloop_130390_task.name =
        "futhark_mc_segmap_parloop_130390";
    futhark_mc_segmap_parloop_130390_task.fn = futhark_mc_segmap_parloop_130390;
    futhark_mc_segmap_parloop_130390_task.args =
        &futhark_mc_segmap_parloop_struct_130389;
    futhark_mc_segmap_parloop_130390_task.iterations = iterations;
    futhark_mc_segmap_parloop_130390_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130390_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130390_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130390_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130390_task);
    
    if (futhark_mc_segmap_parloop_130390_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130390_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130390_total_end -
                 futhark_mc_segmap_parloop_130390_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130390_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130390_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130390_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130388_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130388_end -
                 futhark_mc_segmap_task_130388_start;
        
        ctx->futhark_mc_segmap_task_130388_runs[tid]++;
        ctx->futhark_mc_segmap_task_130388_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130388_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130398 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    char *free_mem_121047;
    char *free_mem_121069;
    int64_t free_bytes_121179;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122297;
    char *free_mem_122468;
    char *free_mem_122472;
};
struct futhark_mc_task_130402 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_119672;
    int64_t free_x_119795;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122297;
    char *free_mem_122371;
    char *free_mem_122374;
};
struct futhark_mc_segmap_parloop_struct_130404 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_119672;
    int64_t free_x_119795;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122297;
    char *free_mem_122371;
    char *free_mem_122374;
};
static int futhark_mc_segmap_parloop_130405(void *args, int64_t start,
                                            int64_t end, int flat_tid_119673,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130404
    *futhark_mc_segmap_parloop_struct_130404 =
    (struct futhark_mc_segmap_parloop_struct_130404 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130404->ctx;
    uint64_t futhark_mc_segmap_parloop_130405_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130405_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130404->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130404->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130404->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130404->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130404->free_i_114181;
    int64_t gtid_119672 =
            futhark_mc_segmap_parloop_struct_130404->free_gtid_119672;
    int64_t x_119795 = futhark_mc_segmap_parloop_struct_130404->free_x_119795;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130404->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130404->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130404->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130404->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130404->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122297 =
            futhark_mc_segmap_parloop_struct_130404->free_bytes_122297;
    struct memblock mem_122371 = {.desc ="mem_122371", .mem =
                                  futhark_mc_segmap_parloop_struct_130404->free_mem_122371,
                                  .size =0, .references =NULL};
    struct memblock mem_122374 = {.desc ="mem_122374", .mem =
                                  futhark_mc_segmap_parloop_struct_130404->free_mem_122374,
                                  .size =0, .references =NULL};
    size_t mem_128855_cached_sizze_130406 = 0;
    char *mem_128855 = NULL;
    size_t mem_128857_cached_sizze_130407 = 0;
    char *mem_128857 = NULL;
    size_t mem_128883_cached_sizze_130408 = 0;
    char *mem_128883 = NULL;
    size_t mem_128885_cached_sizze_130409 = 0;
    char *mem_128885 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128969 = start;
    
    if (mem_128855_cached_sizze_130406 < (size_t) bytes_122297) {
        mem_128855 = realloc(mem_128855, bytes_122297);
        mem_128855_cached_sizze_130406 = bytes_122297;
    }
    if (mem_128857_cached_sizze_130407 < (size_t) bytes_122297) {
        mem_128857 = realloc(mem_128857, bytes_122297);
        mem_128857_cached_sizze_130407 = bytes_122297;
    }
    if (mem_128883_cached_sizze_130408 < (size_t) bytes_122297) {
        mem_128883 = realloc(mem_128883, bytes_122297);
        mem_128883_cached_sizze_130408 = bytes_122297;
    }
    if (mem_128885_cached_sizze_130409 < (size_t) bytes_122297) {
        mem_128885 = realloc(mem_128885, bytes_122297);
        mem_128885_cached_sizze_130409 = bytes_122297;
    }
    for (; iter_128969 < end; iter_128969++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129037 = t_n_m_114162;
        int64_t gtid_119674 = iter_128969;
        int64_t remnant_129038 = iter_128969 - gtid_119674;
        int64_t x_128850 = ((int64_t *) mem_121233.mem)[gtid_119672 *
                                                        t_n_m_114162 +
                                                        gtid_119674];
        float x_128851 = ((float *) mem_121237.mem)[gtid_119672 * t_n_m_114162 +
                                                    gtid_119674];
        int64_t min_arg_128852 = mul64(t_jump_114112, gtid_119674);
        int64_t min_res_128853 = smin64(i_114181, min_arg_128852);
        float defunc_0_f_res_128854 = sitofp_i64_f32(min_res_128853);
        
        for (int64_t i_128970 = 0; i_128970 < t_window_114108; i_128970++) {
            bool cond_128973 = sle64(x_119795, i_128970);
            float defunc_0_f_res_128974;
            
            if (cond_128973) {
                defunc_0_f_res_128974 = 0.0F;
            } else {
                int64_t i_128975 = add64(x_128850, i_128970);
                float x_128976 = ((float *) mem_121069.mem)[gtid_119672 *
                                                            n_114105 +
                                                            i_128975];
                float defunc_0_f_res_f_res_128977 = 1.0F + x_128976;
                
                defunc_0_f_res_128974 = defunc_0_f_res_f_res_128977;
            }
            
            float defunc_0_f_res_128978;
            
            if (cond_128973) {
                defunc_0_f_res_128978 = 0.0F;
            } else {
                int64_t i_128979 = add64(x_128850, i_128970);
                float x_128980 = ((float *) mem_122005.mem)[gtid_119672 *
                                                            n_114105 +
                                                            i_128979];
                
                defunc_0_f_res_128978 = x_128980;
            }
            
            float x_j_128981 = defunc_0_f_res_128974 - defunc_0_f_res_128854;
            float abs_res_128982 = (float) fabs(x_j_128981);
            float tmp1_128983 = abs_res_128982 / x_128851;
            float x_128984 = tmp1_128983 * tmp1_128983;
            float y_128985 = tmp1_128983 * x_128984;
            float tmp2_128986 = 1.0F - y_128985;
            float x_128987 = tmp2_128986 * tmp2_128986;
            float tmp3_128988 = tmp2_128986 * x_128987;
            float tmp4_128989 = defunc_0_f_res_128978 * tmp3_128988;
            
            ((float *) mem_128855)[i_128970] = x_j_128981;
            ((float *) mem_128857)[i_128970] = tmp4_128989;
        }
        
        float defunc_2_reduce_res_128887;
        float defunc_2_reduce_res_128888;
        float defunc_2_reduce_res_128889;
        float defunc_2_reduce_res_128890;
        float defunc_2_reduce_res_128891;
        float redout_128993;
        float redout_128994;
        float redout_128995;
        float redout_128996;
        float redout_128997;
        
        redout_128993 = 0.0F;
        redout_128994 = 0.0F;
        redout_128995 = 0.0F;
        redout_128996 = 0.0F;
        redout_128997 = 0.0F;
        for (int64_t i_128992 = 0; i_128992 < t_window_114108; i_128992++) {
            float x_129000 = ((float *) mem_128855)[i_128992];
            float x_129001 = ((float *) mem_128857)[i_128992];
            float defunc_1_f_res_129002 = x_129000 * x_129001;
            float defunc_1_f_res_129003 = x_129000 * defunc_1_f_res_129002;
            float defunc_1_f_res_129004 = x_129000 * defunc_1_f_res_129003;
            float defunc_1_f_res_129005 = x_129000 * defunc_1_f_res_129004;
            float defunc_1_op_res_129006 = x_129001 + redout_128993;
            float defunc_1_op_res_129007 = defunc_1_f_res_129002 +
                  redout_128994;
            float defunc_1_op_res_129008 = defunc_1_f_res_129003 +
                  redout_128995;
            float defunc_1_op_res_129009 = defunc_1_f_res_129004 +
                  redout_128996;
            float defunc_1_op_res_129010 = defunc_1_f_res_129005 +
                  redout_128997;
            
            ((float *) mem_128883)[i_128992] = defunc_1_f_res_129003;
            ((float *) mem_128885)[i_128992] = defunc_1_f_res_129002;
            
            float redout_tmp_129041 = defunc_1_op_res_129006;
            float redout_tmp_129042 = defunc_1_op_res_129007;
            float redout_tmp_129043 = defunc_1_op_res_129008;
            float redout_tmp_129044 = defunc_1_op_res_129009;
            float redout_tmp_129045 = defunc_1_op_res_129010;
            
            redout_128993 = redout_tmp_129041;
            redout_128994 = redout_tmp_129042;
            redout_128995 = redout_tmp_129043;
            redout_128996 = redout_tmp_129044;
            redout_128997 = redout_tmp_129045;
        }
        defunc_2_reduce_res_128887 = redout_128993;
        defunc_2_reduce_res_128888 = redout_128994;
        defunc_2_reduce_res_128889 = redout_128995;
        defunc_2_reduce_res_128890 = redout_128996;
        defunc_2_reduce_res_128891 = redout_128997;
        
        float x_128915 = defunc_2_reduce_res_128889 *
              defunc_2_reduce_res_128891;
        float y_128916 = defunc_2_reduce_res_128890 *
              defunc_2_reduce_res_128890;
        float a12_128917 = x_128915 - y_128916;
        float x_128918 = defunc_2_reduce_res_128889 *
              defunc_2_reduce_res_128890;
        float y_128919 = defunc_2_reduce_res_128888 *
              defunc_2_reduce_res_128891;
        float b12_128920 = x_128918 - y_128919;
        float x_128921 = defunc_2_reduce_res_128888 *
              defunc_2_reduce_res_128890;
        float y_128922 = defunc_2_reduce_res_128889 *
              defunc_2_reduce_res_128889;
        float c12_128923 = x_128921 - y_128922;
        float x_128924 = defunc_2_reduce_res_128887 *
              defunc_2_reduce_res_128891;
        float b2_128925 = x_128924 - y_128922;
        float x_128926 = defunc_2_reduce_res_128888 *
              defunc_2_reduce_res_128889;
        float y_128927 = defunc_2_reduce_res_128887 *
              defunc_2_reduce_res_128890;
        float c2_128928 = x_128926 - y_128927;
        float x_128929 = defunc_2_reduce_res_128887 * a12_128917;
        float y_128930 = defunc_2_reduce_res_128888 * b12_128920;
        float x_128931 = x_128929 + y_128930;
        float y_128932 = defunc_2_reduce_res_128889 * c12_128923;
        float y_128933 = x_128931 + y_128932;
        float det_128934 = 1.0F / y_128933;
        float a12_128935 = a12_128917 * det_128934;
        float b12_128936 = b12_128920 * det_128934;
        float c12_128937 = c12_128923 * det_128934;
        float b2_128938 = b2_128925 * det_128934;
        float c2_128939 = c2_128928 * det_128934;
        float defunc_2_reduce_res_128940;
        float defunc_2_reduce_res_128941;
        float redout_129014;
        float redout_129015;
        
        redout_129014 = 0.0F;
        redout_129015 = 0.0F;
        for (int64_t i_129013 = 0; i_129013 < t_window_114108; i_129013++) {
            float x_129016 = ((float *) mem_128857)[i_129013];
            float x_129017 = ((float *) mem_128885)[i_129013];
            float x_129018 = ((float *) mem_128883)[i_129013];
            bool cond_129019 = sle64(x_119795, i_129013);
            float defunc_0_f_res_129020;
            
            if (cond_129019) {
                defunc_0_f_res_129020 = 0.0F;
            } else {
                int64_t i_129021 = add64(x_128850, i_129013);
                float x_129022 = ((float *) mem_122001.mem)[gtid_119672 *
                                                            n_114105 +
                                                            i_129021];
                
                defunc_0_f_res_129020 = x_129022;
            }
            
            float x_129023 = a12_128935 * x_129016;
            float y_129024 = b12_128936 * x_129017;
            float x_129025 = x_129023 + y_129024;
            float y_129026 = c12_128937 * x_129018;
            float x_129027 = x_129025 + y_129026;
            float defunc_9_fit_fun_res_129028 = defunc_0_f_res_129020 *
                  x_129027;
            float x_129029 = b12_128936 * x_129016;
            float y_129030 = b2_128938 * x_129017;
            float x_129031 = x_129029 + y_129030;
            float y_129032 = c2_128939 * x_129018;
            float x_129033 = x_129031 + y_129032;
            float defunc_9_slope_fun_res_129034 = defunc_0_f_res_129020 *
                  x_129033;
            float defunc_1_op_res_129035 = defunc_9_fit_fun_res_129028 +
                  redout_129014;
            float defunc_1_op_res_129036 = defunc_9_slope_fun_res_129034 +
                  redout_129015;
            float redout_tmp_129048 = defunc_1_op_res_129035;
            float redout_tmp_129049 = defunc_1_op_res_129036;
            
            redout_129014 = redout_tmp_129048;
            redout_129015 = redout_tmp_129049;
        }
        defunc_2_reduce_res_128940 = redout_129014;
        defunc_2_reduce_res_128941 = redout_129015;
        ((float *) mem_122371.mem)[gtid_119674] = defunc_2_reduce_res_128940;
        ((float *) mem_122374.mem)[gtid_119674] = defunc_2_reduce_res_128941;
    }
    
  cleanup:
    { }
    free(mem_128855);
    free(mem_128857);
    free(mem_128883);
    free(mem_128885);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130405_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130405_end -
                 futhark_mc_segmap_parloop_130405_start;
        
        ctx->futhark_mc_segmap_parloop_130405_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130405_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130405_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130403(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119673 = tid;
    int num_tasks_128968 = info.nsubtasks;
    struct futhark_mc_task_130402 *futhark_mc_task_130402 =
                                  (struct futhark_mc_task_130402 *) args;
    struct futhark_context *ctx = futhark_mc_task_130402->ctx;
    uint64_t futhark_mc_segmap_task_130403_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130403_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130402->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130402->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130402->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130402->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130402->free_i_114181;
    int64_t gtid_119672 = futhark_mc_task_130402->free_gtid_119672;
    int64_t x_119795 = futhark_mc_task_130402->free_x_119795;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130402->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130402->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130402->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130402->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130402->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122297 = futhark_mc_task_130402->free_bytes_122297;
    struct memblock mem_122371 = {.desc ="mem_122371", .mem =
                                  futhark_mc_task_130402->free_mem_122371,
                                  .size =0, .references =NULL};
    struct memblock mem_122374 = {.desc ="mem_122374", .mem =
                                  futhark_mc_task_130402->free_mem_122374,
                                  .size =0, .references =NULL};
    int64_t iter_128969;
    struct futhark_mc_segmap_parloop_struct_130404
    futhark_mc_segmap_parloop_struct_130404;
    
    futhark_mc_segmap_parloop_struct_130404.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130404.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130404.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130404.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130404.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130404.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130404.free_gtid_119672 = gtid_119672;
    futhark_mc_segmap_parloop_struct_130404.free_x_119795 = x_119795;
    futhark_mc_segmap_parloop_struct_130404.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130404.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130404.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130404.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130404.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130404.free_bytes_122297 = bytes_122297;
    futhark_mc_segmap_parloop_struct_130404.free_mem_122371 = mem_122371.mem;
    futhark_mc_segmap_parloop_struct_130404.free_mem_122374 = mem_122374.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130405_task;
    
    futhark_mc_segmap_parloop_130405_task.name =
        "futhark_mc_segmap_parloop_130405";
    futhark_mc_segmap_parloop_130405_task.fn = futhark_mc_segmap_parloop_130405;
    futhark_mc_segmap_parloop_130405_task.args =
        &futhark_mc_segmap_parloop_struct_130404;
    futhark_mc_segmap_parloop_130405_task.iterations = iterations;
    futhark_mc_segmap_parloop_130405_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130405_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130405_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130405_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130405_task);
    
    if (futhark_mc_segmap_parloop_130405_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130405_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130405_total_end -
                 futhark_mc_segmap_parloop_130405_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130405_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130405_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130405_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130403_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130403_end -
                 futhark_mc_segmap_task_130403_start;
        
        ctx->futhark_mc_segmap_task_130403_runs[tid]++;
        ctx->futhark_mc_segmap_task_130403_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130403_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130411 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_gtid_119672;
    int64_t free_x_119795;
    char *free_mem_121069;
    char *free_mem_121233;
    char *free_mem_121237;
    char *free_mem_122001;
    char *free_mem_122005;
    int64_t free_bytes_122297;
    char *free_mem_122371;
    char *free_mem_122374;
};
struct futhark_mc_task_130417 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_gtid_119672;
    int64_t free_x_119795;
    char *free_mem_121069;
    char *free_mem_122005;
    int64_t free_x_128742;
    float free_x_128743;
    float free_defunc_0_f_res_128746;
    char *free_mem_128747;
    char *free_mem_128748;
};
struct futhark_mc_segmap_parloop_struct_130419 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_window_114108;
    int64_t free_gtid_119672;
    int64_t free_x_119795;
    char *free_mem_121069;
    char *free_mem_122005;
    int64_t free_x_128742;
    float free_x_128743;
    float free_defunc_0_f_res_128746;
    char *free_mem_128747;
    char *free_mem_128748;
};
static int futhark_mc_segmap_parloop_130420(void *args, int64_t start,
                                            int64_t end, int flat_tid_119677,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130419
    *futhark_mc_segmap_parloop_struct_130419 =
    (struct futhark_mc_segmap_parloop_struct_130419 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130419->ctx;
    uint64_t futhark_mc_segmap_parloop_130420_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130420_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130419->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130419->free_t_window_114108;
    int64_t gtid_119672 =
            futhark_mc_segmap_parloop_struct_130419->free_gtid_119672;
    int64_t x_119795 = futhark_mc_segmap_parloop_struct_130419->free_x_119795;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130419->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130419->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_128742 = futhark_mc_segmap_parloop_struct_130419->free_x_128742;
    float x_128743 = futhark_mc_segmap_parloop_struct_130419->free_x_128743;
    float defunc_0_f_res_128746 =
          futhark_mc_segmap_parloop_struct_130419->free_defunc_0_f_res_128746;
    struct memblock mem_128747 = {.desc ="mem_128747", .mem =
                                  futhark_mc_segmap_parloop_struct_130419->free_mem_128747,
                                  .size =0, .references =NULL};
    struct memblock mem_128748 = {.desc ="mem_128748", .mem =
                                  futhark_mc_segmap_parloop_struct_130419->free_mem_128748,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129117 = start;
    
    for (; iter_129117 < end; iter_129117++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129123 = t_window_114108;
        int64_t gtid_119678 = iter_129117;
        int64_t remnant_129124 = iter_129117 - gtid_119678;
        bool cond_129051 = sle64(x_119795, gtid_119678);
        float defunc_0_f_res_129052;
        
        if (cond_129051) {
            defunc_0_f_res_129052 = 0.0F;
        } else {
            int64_t i_129118 = add64(gtid_119678, x_128742);
            float x_129119 = ((float *) mem_121069.mem)[gtid_119672 * n_114105 +
                                                        i_129118];
            float defunc_0_f_res_f_res_129120 = 1.0F + x_129119;
            
            defunc_0_f_res_129052 = defunc_0_f_res_f_res_129120;
        }
        
        float defunc_0_f_res_129056;
        
        if (cond_129051) {
            defunc_0_f_res_129056 = 0.0F;
        } else {
            int64_t i_129121 = add64(gtid_119678, x_128742);
            float x_129122 = ((float *) mem_122005.mem)[gtid_119672 * n_114105 +
                                                        i_129121];
            
            defunc_0_f_res_129056 = x_129122;
        }
        
        float x_j_129059 = defunc_0_f_res_129052 - defunc_0_f_res_128746;
        float abs_res_129060 = (float) fabs(x_j_129059);
        float tmp1_129061 = abs_res_129060 / x_128743;
        float x_129062 = tmp1_129061 * tmp1_129061;
        float y_129063 = tmp1_129061 * x_129062;
        float tmp2_129064 = 1.0F - y_129063;
        float x_129065 = tmp2_129064 * tmp2_129064;
        float tmp3_129066 = tmp2_129064 * x_129065;
        float tmp4_129067 = defunc_0_f_res_129056 * tmp3_129066;
        
        ((float *) mem_128747.mem)[gtid_119678] = x_j_129059;
        ((float *) mem_128748.mem)[gtid_119678] = tmp4_129067;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130420_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130420_end -
                 futhark_mc_segmap_parloop_130420_start;
        
        ctx->futhark_mc_segmap_parloop_130420_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130420_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130420_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130418(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119677 = tid;
    int num_tasks_129116 = info.nsubtasks;
    struct futhark_mc_task_130417 *futhark_mc_task_130417 =
                                  (struct futhark_mc_task_130417 *) args;
    struct futhark_context *ctx = futhark_mc_task_130417->ctx;
    uint64_t futhark_mc_segmap_task_130418_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130418_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130417->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130417->free_t_window_114108;
    int64_t gtid_119672 = futhark_mc_task_130417->free_gtid_119672;
    int64_t x_119795 = futhark_mc_task_130417->free_x_119795;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130417->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130417->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t x_128742 = futhark_mc_task_130417->free_x_128742;
    float x_128743 = futhark_mc_task_130417->free_x_128743;
    float defunc_0_f_res_128746 =
          futhark_mc_task_130417->free_defunc_0_f_res_128746;
    struct memblock mem_128747 = {.desc ="mem_128747", .mem =
                                  futhark_mc_task_130417->free_mem_128747,
                                  .size =0, .references =NULL};
    struct memblock mem_128748 = {.desc ="mem_128748", .mem =
                                  futhark_mc_task_130417->free_mem_128748,
                                  .size =0, .references =NULL};
    int64_t iter_129117;
    struct futhark_mc_segmap_parloop_struct_130419
    futhark_mc_segmap_parloop_struct_130419;
    
    futhark_mc_segmap_parloop_struct_130419.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130419.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130419.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130419.free_gtid_119672 = gtid_119672;
    futhark_mc_segmap_parloop_struct_130419.free_x_119795 = x_119795;
    futhark_mc_segmap_parloop_struct_130419.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130419.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130419.free_x_128742 = x_128742;
    futhark_mc_segmap_parloop_struct_130419.free_x_128743 = x_128743;
    futhark_mc_segmap_parloop_struct_130419.free_defunc_0_f_res_128746 =
        defunc_0_f_res_128746;
    futhark_mc_segmap_parloop_struct_130419.free_mem_128747 = mem_128747.mem;
    futhark_mc_segmap_parloop_struct_130419.free_mem_128748 = mem_128748.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130420_task;
    
    futhark_mc_segmap_parloop_130420_task.name =
        "futhark_mc_segmap_parloop_130420";
    futhark_mc_segmap_parloop_130420_task.fn = futhark_mc_segmap_parloop_130420;
    futhark_mc_segmap_parloop_130420_task.args =
        &futhark_mc_segmap_parloop_struct_130419;
    futhark_mc_segmap_parloop_130420_task.iterations = iterations;
    futhark_mc_segmap_parloop_130420_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130420_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130420_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130420_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130420_task);
    
    if (futhark_mc_segmap_parloop_130420_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130420_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130420_total_end -
                 futhark_mc_segmap_parloop_130420_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130420_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130420_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130420_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130418_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130418_end -
                 futhark_mc_segmap_task_130418_start;
        
        ctx->futhark_mc_segmap_task_130418_runs[tid]++;
        ctx->futhark_mc_segmap_task_130418_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130418_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130421 {
    struct futhark_context *ctx;
    char *free_mem_128747;
    char *free_mem_128748;
    float *retval_defunc_2_reduce_res_128770;
    float *retval_defunc_2_reduce_res_128771;
    float *retval_defunc_2_reduce_res_128772;
    float *retval_defunc_2_reduce_res_128773;
    float *retval_defunc_2_reduce_res_128774;
    char *retval_mem_128768;
    char *retval_mem_128769;
};
struct futhark_mc_segred_stage_1_parloop_struct_130428 {
    struct futhark_context *ctx;
    char *free_mem_128747;
    char *free_mem_128748;
    char *free_mem_128768;
    char *free_mem_128769;
    char *free_reduce_stage_1_tid_res_arr_mem_129126;
    char *free_reduce_stage_1_tid_res_arr_mem_129128;
    char *free_reduce_stage_1_tid_res_arr_mem_129130;
    char *free_reduce_stage_1_tid_res_arr_mem_129132;
    char *free_reduce_stage_1_tid_res_arr_mem_129134;
};
static int futhark_mc_segred_stage_1_parloop_130429(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_119679,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130428
    *futhark_mc_segred_stage_1_parloop_struct_130428 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130428 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130428->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130429_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130429_start = get_wall_time();
    
    struct memblock mem_128747 = {.desc ="mem_128747", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130428->free_mem_128747,
                                  .size =0, .references =NULL};
    struct memblock mem_128748 = {.desc ="mem_128748", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130428->free_mem_128748,
                                  .size =0, .references =NULL};
    struct memblock mem_128768 = {.desc ="mem_128768", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130428->free_mem_128768,
                                  .size =0, .references =NULL};
    struct memblock mem_128769 = {.desc ="mem_128769", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130428->free_mem_128769,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_129126 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_129126",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130428->free_reduce_stage_1_tid_res_arr_mem_129126,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_129128 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_129128",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130428->free_reduce_stage_1_tid_res_arr_mem_129128,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_129130 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_129130",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130428->free_reduce_stage_1_tid_res_arr_mem_129130,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_129132 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_129132",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130428->free_reduce_stage_1_tid_res_arr_mem_129132,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_129134 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_129134",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130428->free_reduce_stage_1_tid_res_arr_mem_129134,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129136 = start;
    float x_129068;
    float x_129069;
    float x_129071;
    float x_129072;
    float x_129074;
    float x_129075;
    float x_129077;
    float x_129078;
    float x_129080;
    float x_129081;
    float local_acc_129137 = 0.0F;
    float local_acc_129138 = 0.0F;
    float local_acc_129139 = 0.0F;
    float local_acc_129140 = 0.0F;
    float local_acc_129141 = 0.0F;
    
    for (; iter_129136 < end; iter_129136++) {
        int64_t gtid_119680 = iter_129136;
        float x_129083 = ((float *) mem_128747.mem)[gtid_119680];
        float x_129084 = ((float *) mem_128748.mem)[gtid_119680];
        float defunc_1_f_res_129085 = x_129083 * x_129084;
        float defunc_1_f_res_129086 = x_129083 * defunc_1_f_res_129085;
        float defunc_1_f_res_129087 = x_129083 * defunc_1_f_res_129086;
        float defunc_1_f_res_129088 = x_129083 * defunc_1_f_res_129087;
        
        // save map-out results
        {
            ((float *) mem_128768.mem)[gtid_119680] = defunc_1_f_res_129086;
            ((float *) mem_128769.mem)[gtid_119680] = defunc_1_f_res_129085;
        }
        // Load accum params
        {
            x_129068 = local_acc_129137;
        }
        // Load next params
        {
            x_129069 = x_129084;
        }
        // Red body
        {
            float defunc_1_op_res_129070 = x_129068 + x_129069;
            
            local_acc_129137 = defunc_1_op_res_129070;
        }
        // Load accum params
        {
            x_129071 = local_acc_129138;
        }
        // Load next params
        {
            x_129072 = defunc_1_f_res_129085;
        }
        // Red body
        {
            float defunc_1_op_res_129073 = x_129071 + x_129072;
            
            local_acc_129138 = defunc_1_op_res_129073;
        }
        // Load accum params
        {
            x_129074 = local_acc_129139;
        }
        // Load next params
        {
            x_129075 = defunc_1_f_res_129086;
        }
        // Red body
        {
            float defunc_1_op_res_129076 = x_129074 + x_129075;
            
            local_acc_129139 = defunc_1_op_res_129076;
        }
        // Load accum params
        {
            x_129077 = local_acc_129140;
        }
        // Load next params
        {
            x_129078 = defunc_1_f_res_129087;
        }
        // Red body
        {
            float defunc_1_op_res_129079 = x_129077 + x_129078;
            
            local_acc_129140 = defunc_1_op_res_129079;
        }
        // Load accum params
        {
            x_129080 = local_acc_129141;
        }
        // Load next params
        {
            x_129081 = defunc_1_f_res_129088;
        }
        // Red body
        {
            float defunc_1_op_res_129082 = x_129080 + x_129081;
            
            local_acc_129141 = defunc_1_op_res_129082;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_129126.mem)[flat_tid_119679] =
        local_acc_129137;
    ((float *) reduce_stage_1_tid_res_arr_mem_129128.mem)[flat_tid_119679] =
        local_acc_129138;
    ((float *) reduce_stage_1_tid_res_arr_mem_129130.mem)[flat_tid_119679] =
        local_acc_129139;
    ((float *) reduce_stage_1_tid_res_arr_mem_129132.mem)[flat_tid_119679] =
        local_acc_129140;
    ((float *) reduce_stage_1_tid_res_arr_mem_129134.mem)[flat_tid_119679] =
        local_acc_129141;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130429_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130429_end -
                 futhark_mc_segred_stage_1_parloop_130429_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130429_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130429_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130429_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130422(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119679 = tid;
    int num_tasks_129125 = info.nsubtasks;
    struct futhark_mc_task_130421 *futhark_mc_task_130421 =
                                  (struct futhark_mc_task_130421 *) args;
    struct futhark_context *ctx = futhark_mc_task_130421->ctx;
    uint64_t futhark_mc_segred_task_130422_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130422_start = get_wall_time();
    
    struct memblock mem_128747 = {.desc ="mem_128747", .mem =
                                  futhark_mc_task_130421->free_mem_128747,
                                  .size =0, .references =NULL};
    struct memblock mem_128748 = {.desc ="mem_128748", .mem =
                                  futhark_mc_task_130421->free_mem_128748,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_128770 =
          *futhark_mc_task_130421->retval_defunc_2_reduce_res_128770;
    float defunc_2_reduce_res_128771 =
          *futhark_mc_task_130421->retval_defunc_2_reduce_res_128771;
    float defunc_2_reduce_res_128772 =
          *futhark_mc_task_130421->retval_defunc_2_reduce_res_128772;
    float defunc_2_reduce_res_128773 =
          *futhark_mc_task_130421->retval_defunc_2_reduce_res_128773;
    float defunc_2_reduce_res_128774 =
          *futhark_mc_task_130421->retval_defunc_2_reduce_res_128774;
    struct memblock mem_128768 = {.desc ="mem_128768", .mem =
                                  futhark_mc_task_130421->retval_mem_128768,
                                  .size =0, .references =NULL};
    struct memblock mem_128769 = {.desc ="mem_128769", .mem =
                                  futhark_mc_task_130421->retval_mem_128769,
                                  .size =0, .references =NULL};
    size_t reduce_stage_1_tid_res_arr_mem_129126_cached_sizze_130423 = 0;
    char *reduce_stage_1_tid_res_arr_mem_129126 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_129128_cached_sizze_130424 = 0;
    char *reduce_stage_1_tid_res_arr_mem_129128 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_129130_cached_sizze_130425 = 0;
    char *reduce_stage_1_tid_res_arr_mem_129130 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_129132_cached_sizze_130426 = 0;
    char *reduce_stage_1_tid_res_arr_mem_129132 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_129134_cached_sizze_130427 = 0;
    char *reduce_stage_1_tid_res_arr_mem_129134 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_129126_cached_sizze_130423 <
        (size_t) ((int64_t) 4 * num_tasks_129125)) {
        reduce_stage_1_tid_res_arr_mem_129126 =
            realloc(reduce_stage_1_tid_res_arr_mem_129126, (int64_t) 4 *
                    num_tasks_129125);
        reduce_stage_1_tid_res_arr_mem_129126_cached_sizze_130423 =
            (int64_t) 4 * num_tasks_129125;
    }
    if (reduce_stage_1_tid_res_arr_mem_129128_cached_sizze_130424 <
        (size_t) ((int64_t) 4 * num_tasks_129125)) {
        reduce_stage_1_tid_res_arr_mem_129128 =
            realloc(reduce_stage_1_tid_res_arr_mem_129128, (int64_t) 4 *
                    num_tasks_129125);
        reduce_stage_1_tid_res_arr_mem_129128_cached_sizze_130424 =
            (int64_t) 4 * num_tasks_129125;
    }
    if (reduce_stage_1_tid_res_arr_mem_129130_cached_sizze_130425 <
        (size_t) ((int64_t) 4 * num_tasks_129125)) {
        reduce_stage_1_tid_res_arr_mem_129130 =
            realloc(reduce_stage_1_tid_res_arr_mem_129130, (int64_t) 4 *
                    num_tasks_129125);
        reduce_stage_1_tid_res_arr_mem_129130_cached_sizze_130425 =
            (int64_t) 4 * num_tasks_129125;
    }
    if (reduce_stage_1_tid_res_arr_mem_129132_cached_sizze_130426 <
        (size_t) ((int64_t) 4 * num_tasks_129125)) {
        reduce_stage_1_tid_res_arr_mem_129132 =
            realloc(reduce_stage_1_tid_res_arr_mem_129132, (int64_t) 4 *
                    num_tasks_129125);
        reduce_stage_1_tid_res_arr_mem_129132_cached_sizze_130426 =
            (int64_t) 4 * num_tasks_129125;
    }
    if (reduce_stage_1_tid_res_arr_mem_129134_cached_sizze_130427 <
        (size_t) ((int64_t) 4 * num_tasks_129125)) {
        reduce_stage_1_tid_res_arr_mem_129134 =
            realloc(reduce_stage_1_tid_res_arr_mem_129134, (int64_t) 4 *
                    num_tasks_129125);
        reduce_stage_1_tid_res_arr_mem_129134_cached_sizze_130427 =
            (int64_t) 4 * num_tasks_129125;
    }
    
    int64_t iter_129136;
    struct futhark_mc_segred_stage_1_parloop_struct_130428
    futhark_mc_segred_stage_1_parloop_struct_130428;
    
    futhark_mc_segred_stage_1_parloop_struct_130428.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130428.free_mem_128747 =
        mem_128747.mem;
    futhark_mc_segred_stage_1_parloop_struct_130428.free_mem_128748 =
        mem_128748.mem;
    futhark_mc_segred_stage_1_parloop_struct_130428.free_mem_128768 =
        mem_128768.mem;
    futhark_mc_segred_stage_1_parloop_struct_130428.free_mem_128769 =
        mem_128769.mem;
    futhark_mc_segred_stage_1_parloop_struct_130428.free_reduce_stage_1_tid_res_arr_mem_129126 =
        reduce_stage_1_tid_res_arr_mem_129126;
    futhark_mc_segred_stage_1_parloop_struct_130428.free_reduce_stage_1_tid_res_arr_mem_129128 =
        reduce_stage_1_tid_res_arr_mem_129128;
    futhark_mc_segred_stage_1_parloop_struct_130428.free_reduce_stage_1_tid_res_arr_mem_129130 =
        reduce_stage_1_tid_res_arr_mem_129130;
    futhark_mc_segred_stage_1_parloop_struct_130428.free_reduce_stage_1_tid_res_arr_mem_129132 =
        reduce_stage_1_tid_res_arr_mem_129132;
    futhark_mc_segred_stage_1_parloop_struct_130428.free_reduce_stage_1_tid_res_arr_mem_129134 =
        reduce_stage_1_tid_res_arr_mem_129134;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130429_task;
    
    futhark_mc_segred_stage_1_parloop_130429_task.name =
        "futhark_mc_segred_stage_1_parloop_130429";
    futhark_mc_segred_stage_1_parloop_130429_task.fn =
        futhark_mc_segred_stage_1_parloop_130429;
    futhark_mc_segred_stage_1_parloop_130429_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130428;
    futhark_mc_segred_stage_1_parloop_130429_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130429_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130429_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130429_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130429_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130429_task);
    
    if (futhark_mc_segred_stage_1_parloop_130429_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130429_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130429_total_end -
                 futhark_mc_segred_stage_1_parloop_130429_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130429_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130429_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130429_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_128770 = 0.0F;
        defunc_2_reduce_res_128771 = 0.0F;
        defunc_2_reduce_res_128772 = 0.0F;
        defunc_2_reduce_res_128773 = 0.0F;
        defunc_2_reduce_res_128774 = 0.0F;
    }
    
    float x_129142;
    float x_129143;
    float x_129145;
    float x_129146;
    float x_129148;
    float x_129149;
    float x_129151;
    float x_129152;
    float x_129154;
    float x_129155;
    
    for (int32_t i_129157 = 0; i_129157 < num_tasks_129125; i_129157++) {
        flat_tid_119679 = i_129157;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_129142 = defunc_2_reduce_res_128770;
            }
            // load next params
            {
                x_129143 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_129126)[flat_tid_119679];
            }
            // red body
            {
                float defunc_1_op_res_129144 = x_129142 + x_129143;
                
                defunc_2_reduce_res_128770 = defunc_1_op_res_129144;
            }
            // load acc params
            {
                x_129145 = defunc_2_reduce_res_128771;
            }
            // load next params
            {
                x_129146 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_129128)[flat_tid_119679];
            }
            // red body
            {
                float defunc_1_op_res_129147 = x_129145 + x_129146;
                
                defunc_2_reduce_res_128771 = defunc_1_op_res_129147;
            }
            // load acc params
            {
                x_129148 = defunc_2_reduce_res_128772;
            }
            // load next params
            {
                x_129149 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_129130)[flat_tid_119679];
            }
            // red body
            {
                float defunc_1_op_res_129150 = x_129148 + x_129149;
                
                defunc_2_reduce_res_128772 = defunc_1_op_res_129150;
            }
            // load acc params
            {
                x_129151 = defunc_2_reduce_res_128773;
            }
            // load next params
            {
                x_129152 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_129132)[flat_tid_119679];
            }
            // red body
            {
                float defunc_1_op_res_129153 = x_129151 + x_129152;
                
                defunc_2_reduce_res_128773 = defunc_1_op_res_129153;
            }
            // load acc params
            {
                x_129154 = defunc_2_reduce_res_128774;
            }
            // load next params
            {
                x_129155 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_129134)[flat_tid_119679];
            }
            // red body
            {
                float defunc_1_op_res_129156 = x_129154 + x_129155;
                
                defunc_2_reduce_res_128774 = defunc_1_op_res_129156;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_129126);
    free(reduce_stage_1_tid_res_arr_mem_129128);
    free(reduce_stage_1_tid_res_arr_mem_129130);
    free(reduce_stage_1_tid_res_arr_mem_129132);
    free(reduce_stage_1_tid_res_arr_mem_129134);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130422_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130422_end -
                 futhark_mc_segred_task_130422_start;
        
        ctx->futhark_mc_segred_task_130422_runs[tid]++;
        ctx->futhark_mc_segred_task_130422_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130422_iter[tid] += iterations;
    }
    *futhark_mc_task_130421->retval_defunc_2_reduce_res_128770 =
        defunc_2_reduce_res_128770;
    *futhark_mc_task_130421->retval_defunc_2_reduce_res_128771 =
        defunc_2_reduce_res_128771;
    *futhark_mc_task_130421->retval_defunc_2_reduce_res_128772 =
        defunc_2_reduce_res_128772;
    *futhark_mc_task_130421->retval_defunc_2_reduce_res_128773 =
        defunc_2_reduce_res_128773;
    *futhark_mc_task_130421->retval_defunc_2_reduce_res_128774 =
        defunc_2_reduce_res_128774;
    futhark_mc_task_130421->retval_mem_128768 = mem_128768.mem;
    futhark_mc_task_130421->retval_mem_128769 = mem_128769.mem;
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130430 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_119672;
    int64_t free_x_119795;
    char *free_mem_122001;
    int64_t free_x_128742;
    char *free_mem_128748;
    char *free_mem_128768;
    char *free_mem_128769;
    float free_a12_128818;
    float free_b12_128819;
    float free_c12_128820;
    float free_b2_128821;
    float free_c2_128822;
    float *retval_defunc_2_reduce_res_128823;
    float *retval_defunc_2_reduce_res_128824;
};
struct futhark_mc_segred_stage_1_parloop_struct_130434 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_119672;
    int64_t free_x_119795;
    char *free_mem_122001;
    int64_t free_x_128742;
    char *free_mem_128748;
    char *free_mem_128768;
    char *free_mem_128769;
    float free_a12_128818;
    float free_b12_128819;
    float free_c12_128820;
    float free_b2_128821;
    float free_c2_128822;
    char *free_reduce_stage_1_tid_res_arr_mem_129159;
    char *free_reduce_stage_1_tid_res_arr_mem_129161;
};
static int futhark_mc_segred_stage_1_parloop_130435(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_119681,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130434
    *futhark_mc_segred_stage_1_parloop_struct_130434 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130434 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130434->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130435_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130435_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130434->free_n_114105;
    int64_t gtid_119672 =
            futhark_mc_segred_stage_1_parloop_struct_130434->free_gtid_119672;
    int64_t x_119795 =
            futhark_mc_segred_stage_1_parloop_struct_130434->free_x_119795;
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130434->free_mem_122001,
                                  .size =0, .references =NULL};
    int64_t x_128742 =
            futhark_mc_segred_stage_1_parloop_struct_130434->free_x_128742;
    struct memblock mem_128748 = {.desc ="mem_128748", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130434->free_mem_128748,
                                  .size =0, .references =NULL};
    struct memblock mem_128768 = {.desc ="mem_128768", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130434->free_mem_128768,
                                  .size =0, .references =NULL};
    struct memblock mem_128769 = {.desc ="mem_128769", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130434->free_mem_128769,
                                  .size =0, .references =NULL};
    float a12_128818 =
          futhark_mc_segred_stage_1_parloop_struct_130434->free_a12_128818;
    float b12_128819 =
          futhark_mc_segred_stage_1_parloop_struct_130434->free_b12_128819;
    float c12_128820 =
          futhark_mc_segred_stage_1_parloop_struct_130434->free_c12_128820;
    float b2_128821 =
          futhark_mc_segred_stage_1_parloop_struct_130434->free_b2_128821;
    float c2_128822 =
          futhark_mc_segred_stage_1_parloop_struct_130434->free_c2_128822;
    struct memblock reduce_stage_1_tid_res_arr_mem_129159 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_129159",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130434->free_reduce_stage_1_tid_res_arr_mem_129159,
                                                             .size =0,
                                                             .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_129161 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_129161",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130434->free_reduce_stage_1_tid_res_arr_mem_129161,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129163 = start;
    float x_129089;
    float x_129090;
    float x_129092;
    float x_129093;
    float local_acc_129164 = 0.0F;
    float local_acc_129165 = 0.0F;
    
    for (; iter_129163 < end; iter_129163++) {
        int64_t gtid_119682 = iter_129163;
        float x_129095 = ((float *) mem_128748.mem)[gtid_119682];
        float x_129096 = ((float *) mem_128769.mem)[gtid_119682];
        float x_129097 = ((float *) mem_128768.mem)[gtid_119682];
        bool cond_129098 = sle64(x_119795, gtid_119682);
        float defunc_0_f_res_129099;
        
        if (cond_129098) {
            defunc_0_f_res_129099 = 0.0F;
        } else {
            int64_t i_129100 = add64(gtid_119682, x_128742);
            float x_129101 = ((float *) mem_122001.mem)[gtid_119672 * n_114105 +
                                                        i_129100];
            
            defunc_0_f_res_129099 = x_129101;
        }
        
        float x_129102 = a12_128818 * x_129095;
        float y_129103 = b12_128819 * x_129096;
        float x_129104 = x_129102 + y_129103;
        float y_129105 = c12_128820 * x_129097;
        float x_129106 = x_129104 + y_129105;
        float defunc_9_fit_fun_res_129107 = defunc_0_f_res_129099 * x_129106;
        float x_129108 = b12_128819 * x_129095;
        float y_129109 = b2_128821 * x_129096;
        float x_129110 = x_129108 + y_129109;
        float y_129111 = c2_128822 * x_129097;
        float x_129112 = x_129110 + y_129111;
        float defunc_9_slope_fun_res_129113 = defunc_0_f_res_129099 * x_129112;
        
        // save map-out results
        { }
        // Load accum params
        {
            x_129089 = local_acc_129164;
        }
        // Load next params
        {
            x_129090 = defunc_9_fit_fun_res_129107;
        }
        // Red body
        {
            float defunc_1_op_res_129091 = x_129089 + x_129090;
            
            local_acc_129164 = defunc_1_op_res_129091;
        }
        // Load accum params
        {
            x_129092 = local_acc_129165;
        }
        // Load next params
        {
            x_129093 = defunc_9_slope_fun_res_129113;
        }
        // Red body
        {
            float defunc_1_op_res_129094 = x_129092 + x_129093;
            
            local_acc_129165 = defunc_1_op_res_129094;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_129159.mem)[flat_tid_119681] =
        local_acc_129164;
    ((float *) reduce_stage_1_tid_res_arr_mem_129161.mem)[flat_tid_119681] =
        local_acc_129165;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130435_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130435_end -
                 futhark_mc_segred_stage_1_parloop_130435_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130435_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130435_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130435_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130431(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119681 = tid;
    int num_tasks_129158 = info.nsubtasks;
    struct futhark_mc_task_130430 *futhark_mc_task_130430 =
                                  (struct futhark_mc_task_130430 *) args;
    struct futhark_context *ctx = futhark_mc_task_130430->ctx;
    uint64_t futhark_mc_segred_task_130431_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130431_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130430->free_n_114105;
    int64_t gtid_119672 = futhark_mc_task_130430->free_gtid_119672;
    int64_t x_119795 = futhark_mc_task_130430->free_x_119795;
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130430->free_mem_122001,
                                  .size =0, .references =NULL};
    int64_t x_128742 = futhark_mc_task_130430->free_x_128742;
    struct memblock mem_128748 = {.desc ="mem_128748", .mem =
                                  futhark_mc_task_130430->free_mem_128748,
                                  .size =0, .references =NULL};
    struct memblock mem_128768 = {.desc ="mem_128768", .mem =
                                  futhark_mc_task_130430->free_mem_128768,
                                  .size =0, .references =NULL};
    struct memblock mem_128769 = {.desc ="mem_128769", .mem =
                                  futhark_mc_task_130430->free_mem_128769,
                                  .size =0, .references =NULL};
    float a12_128818 = futhark_mc_task_130430->free_a12_128818;
    float b12_128819 = futhark_mc_task_130430->free_b12_128819;
    float c12_128820 = futhark_mc_task_130430->free_c12_128820;
    float b2_128821 = futhark_mc_task_130430->free_b2_128821;
    float c2_128822 = futhark_mc_task_130430->free_c2_128822;
    float defunc_2_reduce_res_128823 =
          *futhark_mc_task_130430->retval_defunc_2_reduce_res_128823;
    float defunc_2_reduce_res_128824 =
          *futhark_mc_task_130430->retval_defunc_2_reduce_res_128824;
    size_t reduce_stage_1_tid_res_arr_mem_129159_cached_sizze_130432 = 0;
    char *reduce_stage_1_tid_res_arr_mem_129159 = NULL;
    size_t reduce_stage_1_tid_res_arr_mem_129161_cached_sizze_130433 = 0;
    char *reduce_stage_1_tid_res_arr_mem_129161 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_129159_cached_sizze_130432 <
        (size_t) ((int64_t) 4 * num_tasks_129158)) {
        reduce_stage_1_tid_res_arr_mem_129159 =
            realloc(reduce_stage_1_tid_res_arr_mem_129159, (int64_t) 4 *
                    num_tasks_129158);
        reduce_stage_1_tid_res_arr_mem_129159_cached_sizze_130432 =
            (int64_t) 4 * num_tasks_129158;
    }
    if (reduce_stage_1_tid_res_arr_mem_129161_cached_sizze_130433 <
        (size_t) ((int64_t) 4 * num_tasks_129158)) {
        reduce_stage_1_tid_res_arr_mem_129161 =
            realloc(reduce_stage_1_tid_res_arr_mem_129161, (int64_t) 4 *
                    num_tasks_129158);
        reduce_stage_1_tid_res_arr_mem_129161_cached_sizze_130433 =
            (int64_t) 4 * num_tasks_129158;
    }
    
    int64_t iter_129163;
    struct futhark_mc_segred_stage_1_parloop_struct_130434
    futhark_mc_segred_stage_1_parloop_struct_130434;
    
    futhark_mc_segred_stage_1_parloop_struct_130434.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_gtid_119672 =
        gtid_119672;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_x_119795 = x_119795;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_mem_122001 =
        mem_122001.mem;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_x_128742 = x_128742;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_mem_128748 =
        mem_128748.mem;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_mem_128768 =
        mem_128768.mem;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_mem_128769 =
        mem_128769.mem;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_a12_128818 =
        a12_128818;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_b12_128819 =
        b12_128819;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_c12_128820 =
        c12_128820;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_b2_128821 = b2_128821;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_c2_128822 = c2_128822;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_reduce_stage_1_tid_res_arr_mem_129159 =
        reduce_stage_1_tid_res_arr_mem_129159;
    futhark_mc_segred_stage_1_parloop_struct_130434.free_reduce_stage_1_tid_res_arr_mem_129161 =
        reduce_stage_1_tid_res_arr_mem_129161;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130435_task;
    
    futhark_mc_segred_stage_1_parloop_130435_task.name =
        "futhark_mc_segred_stage_1_parloop_130435";
    futhark_mc_segred_stage_1_parloop_130435_task.fn =
        futhark_mc_segred_stage_1_parloop_130435;
    futhark_mc_segred_stage_1_parloop_130435_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130434;
    futhark_mc_segred_stage_1_parloop_130435_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130435_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130435_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130435_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130435_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130435_task);
    
    if (futhark_mc_segred_stage_1_parloop_130435_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130435_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130435_total_end -
                 futhark_mc_segred_stage_1_parloop_130435_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130435_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130435_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130435_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_128823 = 0.0F;
        defunc_2_reduce_res_128824 = 0.0F;
    }
    
    float x_129166;
    float x_129167;
    float x_129169;
    float x_129170;
    
    for (int32_t i_129172 = 0; i_129172 < num_tasks_129158; i_129172++) {
        flat_tid_119681 = i_129172;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_129166 = defunc_2_reduce_res_128823;
            }
            // load next params
            {
                x_129167 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_129159)[flat_tid_119681];
            }
            // red body
            {
                float defunc_1_op_res_129168 = x_129166 + x_129167;
                
                defunc_2_reduce_res_128823 = defunc_1_op_res_129168;
            }
            // load acc params
            {
                x_129169 = defunc_2_reduce_res_128824;
            }
            // load next params
            {
                x_129170 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_129161)[flat_tid_119681];
            }
            // red body
            {
                float defunc_1_op_res_129171 = x_129169 + x_129170;
                
                defunc_2_reduce_res_128824 = defunc_1_op_res_129171;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_129159);
    free(reduce_stage_1_tid_res_arr_mem_129161);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130431_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130431_end -
                 futhark_mc_segred_task_130431_start;
        
        ctx->futhark_mc_segred_task_130431_runs[tid]++;
        ctx->futhark_mc_segred_task_130431_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130431_iter[tid] += iterations;
    }
    *futhark_mc_task_130430->retval_defunc_2_reduce_res_128823 =
        defunc_2_reduce_res_128823;
    *futhark_mc_task_130430->retval_defunc_2_reduce_res_128824 =
        defunc_2_reduce_res_128824;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130412(void *args, int64_t start,
                                            int64_t end, int flat_tid_119675,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130411
    *futhark_mc_segmap_parloop_struct_130411 =
    (struct futhark_mc_segmap_parloop_struct_130411 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130411->ctx;
    uint64_t futhark_mc_segmap_parloop_130412_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130412_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130411->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130411->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130411->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130411->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130411->free_i_114181;
    int64_t gtid_119672 =
            futhark_mc_segmap_parloop_struct_130411->free_gtid_119672;
    int64_t x_119795 = futhark_mc_segmap_parloop_struct_130411->free_x_119795;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130411->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130411->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130411->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130411->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130411->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122297 =
            futhark_mc_segmap_parloop_struct_130411->free_bytes_122297;
    struct memblock mem_122371 = {.desc ="mem_122371", .mem =
                                  futhark_mc_segmap_parloop_struct_130411->free_mem_122371,
                                  .size =0, .references =NULL};
    struct memblock mem_122374 = {.desc ="mem_122374", .mem =
                                  futhark_mc_segmap_parloop_struct_130411->free_mem_122374,
                                  .size =0, .references =NULL};
    size_t mem_128747_cached_sizze_130413 = 0;
    char *mem_128747 = NULL;
    size_t mem_128748_cached_sizze_130414 = 0;
    char *mem_128748 = NULL;
    size_t mem_128768_cached_sizze_130415 = 0;
    char *mem_128768 = NULL;
    size_t mem_128769_cached_sizze_130416 = 0;
    char *mem_128769 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129050 = start;
    
    if (mem_128747_cached_sizze_130413 < (size_t) bytes_122297) {
        mem_128747 = realloc(mem_128747, bytes_122297);
        mem_128747_cached_sizze_130413 = bytes_122297;
    }
    if (mem_128748_cached_sizze_130414 < (size_t) bytes_122297) {
        mem_128748 = realloc(mem_128748, bytes_122297);
        mem_128748_cached_sizze_130414 = bytes_122297;
    }
    if (mem_128768_cached_sizze_130415 < (size_t) bytes_122297) {
        mem_128768 = realloc(mem_128768, bytes_122297);
        mem_128768_cached_sizze_130415 = bytes_122297;
    }
    if (mem_128769_cached_sizze_130416 < (size_t) bytes_122297) {
        mem_128769 = realloc(mem_128769, bytes_122297);
        mem_128769_cached_sizze_130416 = bytes_122297;
    }
    for (; iter_129050 < end; iter_129050++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129114 = t_n_m_114162;
        int64_t gtid_119676 = iter_129050;
        int64_t remnant_129115 = iter_129050 - gtid_119676;
        int64_t x_128742 = ((int64_t *) mem_121233.mem)[gtid_119672 *
                                                        t_n_m_114162 +
                                                        gtid_119676];
        float x_128743 = ((float *) mem_121237.mem)[gtid_119672 * t_n_m_114162 +
                                                    gtid_119676];
        int64_t min_arg_128744 = mul64(t_jump_114112, gtid_119676);
        int64_t min_res_128745 = smin64(i_114181, min_arg_128744);
        float defunc_0_f_res_128746 = sitofp_i64_f32(min_res_128745);
        int64_t flat_tid_119677 = (int64_t) 0;
        int32_t num_tasks_129116;
        struct futhark_mc_task_130417 futhark_mc_task_130417;
        
        futhark_mc_task_130417.ctx = ctx;
        futhark_mc_task_130417.free_n_114105 = n_114105;
        futhark_mc_task_130417.free_t_window_114108 = t_window_114108;
        futhark_mc_task_130417.free_gtid_119672 = gtid_119672;
        futhark_mc_task_130417.free_x_119795 = x_119795;
        futhark_mc_task_130417.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130417.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130417.free_x_128742 = x_128742;
        futhark_mc_task_130417.free_x_128743 = x_128743;
        futhark_mc_task_130417.free_defunc_0_f_res_128746 =
            defunc_0_f_res_128746;
        futhark_mc_task_130417.free_mem_128747 = mem_128747;
        futhark_mc_task_130417.free_mem_128748 = mem_128748;
        
        struct scheduler_segop futhark_mc_task_130417_task;
        
        futhark_mc_task_130417_task.args = &futhark_mc_task_130417;
        futhark_mc_task_130417_task.top_level_fn =
            futhark_mc_segmap_task_130418;
        futhark_mc_task_130417_task.name = "futhark_mc_segmap_task_130418";
        futhark_mc_task_130417_task.iterations = t_window_114108;
        futhark_mc_task_130417_task.task_time =
            &ctx->futhark_mc_segmap_task_130418_total_time;
        futhark_mc_task_130417_task.task_iter =
            &ctx->futhark_mc_segmap_task_130418_total_iter;
        futhark_mc_task_130417_task.sched = STATIC;
        futhark_mc_task_130417_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_130418_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130417_task);
        
        if (futhark_mc_segmap_task_130418_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float defunc_2_reduce_res_128770;
        float defunc_2_reduce_res_128771;
        float defunc_2_reduce_res_128772;
        float defunc_2_reduce_res_128773;
        float defunc_2_reduce_res_128774;
        int64_t flat_tid_119679 = (int64_t) 0;
        int32_t num_tasks_129125;
        struct futhark_mc_task_130421 futhark_mc_task_130421;
        
        futhark_mc_task_130421.ctx = ctx;
        futhark_mc_task_130421.free_mem_128747 = mem_128747;
        futhark_mc_task_130421.free_mem_128748 = mem_128748;
        futhark_mc_task_130421.retval_defunc_2_reduce_res_128770 =
            &defunc_2_reduce_res_128770;
        futhark_mc_task_130421.retval_defunc_2_reduce_res_128771 =
            &defunc_2_reduce_res_128771;
        futhark_mc_task_130421.retval_defunc_2_reduce_res_128772 =
            &defunc_2_reduce_res_128772;
        futhark_mc_task_130421.retval_defunc_2_reduce_res_128773 =
            &defunc_2_reduce_res_128773;
        futhark_mc_task_130421.retval_defunc_2_reduce_res_128774 =
            &defunc_2_reduce_res_128774;
        futhark_mc_task_130421.retval_mem_128768 = mem_128768;
        futhark_mc_task_130421.retval_mem_128769 = mem_128769;
        
        struct scheduler_segop futhark_mc_task_130421_task;
        
        futhark_mc_task_130421_task.args = &futhark_mc_task_130421;
        futhark_mc_task_130421_task.top_level_fn =
            futhark_mc_segred_task_130422;
        futhark_mc_task_130421_task.name = "futhark_mc_segred_task_130422";
        futhark_mc_task_130421_task.iterations = t_window_114108;
        futhark_mc_task_130421_task.task_time =
            &ctx->futhark_mc_segred_task_130422_total_time;
        futhark_mc_task_130421_task.task_iter =
            &ctx->futhark_mc_segred_task_130422_total_iter;
        futhark_mc_task_130421_task.sched = STATIC;
        futhark_mc_task_130421_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130422_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130421_task);
        
        if (futhark_mc_segred_task_130422_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float x_128798 = defunc_2_reduce_res_128772 *
              defunc_2_reduce_res_128774;
        float y_128799 = defunc_2_reduce_res_128773 *
              defunc_2_reduce_res_128773;
        float a12_128800 = x_128798 - y_128799;
        float x_128801 = defunc_2_reduce_res_128772 *
              defunc_2_reduce_res_128773;
        float y_128802 = defunc_2_reduce_res_128771 *
              defunc_2_reduce_res_128774;
        float b12_128803 = x_128801 - y_128802;
        float x_128804 = defunc_2_reduce_res_128771 *
              defunc_2_reduce_res_128773;
        float y_128805 = defunc_2_reduce_res_128772 *
              defunc_2_reduce_res_128772;
        float c12_128806 = x_128804 - y_128805;
        float x_128807 = defunc_2_reduce_res_128770 *
              defunc_2_reduce_res_128774;
        float b2_128808 = x_128807 - y_128805;
        float x_128809 = defunc_2_reduce_res_128771 *
              defunc_2_reduce_res_128772;
        float y_128810 = defunc_2_reduce_res_128770 *
              defunc_2_reduce_res_128773;
        float c2_128811 = x_128809 - y_128810;
        float x_128812 = defunc_2_reduce_res_128770 * a12_128800;
        float y_128813 = defunc_2_reduce_res_128771 * b12_128803;
        float x_128814 = x_128812 + y_128813;
        float y_128815 = defunc_2_reduce_res_128772 * c12_128806;
        float y_128816 = x_128814 + y_128815;
        float det_128817 = 1.0F / y_128816;
        float a12_128818 = a12_128800 * det_128817;
        float b12_128819 = b12_128803 * det_128817;
        float c12_128820 = c12_128806 * det_128817;
        float b2_128821 = b2_128808 * det_128817;
        float c2_128822 = c2_128811 * det_128817;
        float defunc_2_reduce_res_128823;
        float defunc_2_reduce_res_128824;
        int64_t flat_tid_119681 = (int64_t) 0;
        int32_t num_tasks_129158;
        struct futhark_mc_task_130430 futhark_mc_task_130430;
        
        futhark_mc_task_130430.ctx = ctx;
        futhark_mc_task_130430.free_n_114105 = n_114105;
        futhark_mc_task_130430.free_gtid_119672 = gtid_119672;
        futhark_mc_task_130430.free_x_119795 = x_119795;
        futhark_mc_task_130430.free_mem_122001 = mem_122001.mem;
        futhark_mc_task_130430.free_x_128742 = x_128742;
        futhark_mc_task_130430.free_mem_128748 = mem_128748;
        futhark_mc_task_130430.free_mem_128768 = mem_128768;
        futhark_mc_task_130430.free_mem_128769 = mem_128769;
        futhark_mc_task_130430.free_a12_128818 = a12_128818;
        futhark_mc_task_130430.free_b12_128819 = b12_128819;
        futhark_mc_task_130430.free_c12_128820 = c12_128820;
        futhark_mc_task_130430.free_b2_128821 = b2_128821;
        futhark_mc_task_130430.free_c2_128822 = c2_128822;
        futhark_mc_task_130430.retval_defunc_2_reduce_res_128823 =
            &defunc_2_reduce_res_128823;
        futhark_mc_task_130430.retval_defunc_2_reduce_res_128824 =
            &defunc_2_reduce_res_128824;
        
        struct scheduler_segop futhark_mc_task_130430_task;
        
        futhark_mc_task_130430_task.args = &futhark_mc_task_130430;
        futhark_mc_task_130430_task.top_level_fn =
            futhark_mc_segred_task_130431;
        futhark_mc_task_130430_task.name = "futhark_mc_segred_task_130431";
        futhark_mc_task_130430_task.iterations = t_window_114108;
        futhark_mc_task_130430_task.task_time =
            &ctx->futhark_mc_segred_task_130431_total_time;
        futhark_mc_task_130430_task.task_iter =
            &ctx->futhark_mc_segred_task_130431_total_iter;
        futhark_mc_task_130430_task.sched = STATIC;
        futhark_mc_task_130430_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130431_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130430_task);
        
        if (futhark_mc_segred_task_130431_err != 0) {
            err = 1;
            goto cleanup;
        }
        ((float *) mem_122371.mem)[gtid_119676] = defunc_2_reduce_res_128823;
        ((float *) mem_122374.mem)[gtid_119676] = defunc_2_reduce_res_128824;
    }
    
  cleanup:
    { }
    free(mem_128747);
    free(mem_128748);
    free(mem_128768);
    free(mem_128769);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130412_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130412_end -
                 futhark_mc_segmap_parloop_130412_start;
        
        ctx->futhark_mc_segmap_parloop_130412_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130412_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130412_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130410(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119675 = tid;
    int num_tasks_128968 = info.nsubtasks;
    struct futhark_mc_task_130402 *futhark_mc_task_130402 =
                                  (struct futhark_mc_task_130402 *) args;
    struct futhark_context *ctx = futhark_mc_task_130402->ctx;
    uint64_t futhark_mc_segmap_nested_task_130410_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130410_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130402->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130402->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130402->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130402->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130402->free_i_114181;
    int64_t gtid_119672 = futhark_mc_task_130402->free_gtid_119672;
    int64_t x_119795 = futhark_mc_task_130402->free_x_119795;
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130402->free_mem_121069,
                                  .size =0, .references =NULL};
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130402->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130402->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130402->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130402->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122297 = futhark_mc_task_130402->free_bytes_122297;
    struct memblock mem_122371 = {.desc ="mem_122371", .mem =
                                  futhark_mc_task_130402->free_mem_122371,
                                  .size =0, .references =NULL};
    struct memblock mem_122374 = {.desc ="mem_122374", .mem =
                                  futhark_mc_task_130402->free_mem_122374,
                                  .size =0, .references =NULL};
    int64_t iter_129050;
    struct futhark_mc_segmap_parloop_struct_130411
    futhark_mc_segmap_parloop_struct_130411;
    
    futhark_mc_segmap_parloop_struct_130411.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130411.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130411.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130411.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130411.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130411.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130411.free_gtid_119672 = gtid_119672;
    futhark_mc_segmap_parloop_struct_130411.free_x_119795 = x_119795;
    futhark_mc_segmap_parloop_struct_130411.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130411.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130411.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130411.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130411.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130411.free_bytes_122297 = bytes_122297;
    futhark_mc_segmap_parloop_struct_130411.free_mem_122371 = mem_122371.mem;
    futhark_mc_segmap_parloop_struct_130411.free_mem_122374 = mem_122374.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130412_task;
    
    futhark_mc_segmap_parloop_130412_task.name =
        "futhark_mc_segmap_parloop_130412";
    futhark_mc_segmap_parloop_130412_task.fn = futhark_mc_segmap_parloop_130412;
    futhark_mc_segmap_parloop_130412_task.args =
        &futhark_mc_segmap_parloop_struct_130411;
    futhark_mc_segmap_parloop_130412_task.iterations = iterations;
    futhark_mc_segmap_parloop_130412_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130412_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130412_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130412_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130412_task);
    
    if (futhark_mc_segmap_parloop_130412_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130412_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130412_total_end -
                 futhark_mc_segmap_parloop_130412_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130412_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130412_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130412_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130410_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130410_end -
                 futhark_mc_segmap_nested_task_130410_start;
        
        ctx->futhark_mc_segmap_nested_task_130410_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130410_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130410_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130399(void *args, int64_t start,
                                            int64_t end, int flat_tid_119671,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130398
    *futhark_mc_segmap_parloop_struct_130398 =
    (struct futhark_mc_segmap_parloop_struct_130398 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130398->ctx;
    uint64_t futhark_mc_segmap_parloop_130399_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130399_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130398->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130398->free_n_114105;
    int64_t t_window_114108 =
            futhark_mc_segmap_parloop_struct_130398->free_t_window_114108;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130398->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130398->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130398->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_segmap_parloop_struct_130398->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_segmap_parloop_struct_130398->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 =
            futhark_mc_segmap_parloop_struct_130398->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_segmap_parloop_struct_130398->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_segmap_parloop_struct_130398->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_segmap_parloop_struct_130398->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_segmap_parloop_struct_130398->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122297 =
            futhark_mc_segmap_parloop_struct_130398->free_bytes_122297;
    struct memblock mem_122468 = {.desc ="mem_122468", .mem =
                                  futhark_mc_segmap_parloop_struct_130398->free_mem_122468,
                                  .size =0, .references =NULL};
    struct memblock mem_122472 = {.desc ="mem_122472", .mem =
                                  futhark_mc_segmap_parloop_struct_130398->free_mem_122472,
                                  .size =0, .references =NULL};
    size_t mem_122371_cached_sizze_130400 = 0;
    char *mem_122371 = NULL;
    size_t mem_122374_cached_sizze_130401 = 0;
    char *mem_122374 = NULL;
    int64_t iterations = end - start;
    int64_t iter_128741 = start;
    
    if (mem_122371_cached_sizze_130400 < (size_t) bytes_121179) {
        mem_122371 = realloc(mem_122371, bytes_121179);
        mem_122371_cached_sizze_130400 = bytes_121179;
    }
    if (mem_122374_cached_sizze_130401 < (size_t) bytes_121179) {
        mem_122374 = realloc(mem_122374, bytes_121179);
        mem_122374_cached_sizze_130401 = bytes_121179;
    }
    for (; iter_128741 < end; iter_128741++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_128966 = m_114104;
        int64_t gtid_119672 = iter_128741;
        int64_t remnant_128967 = iter_128741 - gtid_119672;
        int64_t x_119795 = ((int64_t *) mem_121047.mem)[gtid_119672];
        int64_t flat_tid_119673 = (int64_t) 0;
        int32_t num_tasks_128968;
        int64_t flat_tid_119675 = (int64_t) 0;
        struct futhark_mc_task_130402 futhark_mc_task_130402;
        
        futhark_mc_task_130402.ctx = ctx;
        futhark_mc_task_130402.free_n_114105 = n_114105;
        futhark_mc_task_130402.free_t_window_114108 = t_window_114108;
        futhark_mc_task_130402.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_130402.free_t_n_m_114162 = t_n_m_114162;
        futhark_mc_task_130402.free_i_114181 = i_114181;
        futhark_mc_task_130402.free_gtid_119672 = gtid_119672;
        futhark_mc_task_130402.free_x_119795 = x_119795;
        futhark_mc_task_130402.free_mem_121069 = mem_121069.mem;
        futhark_mc_task_130402.free_mem_121233 = mem_121233.mem;
        futhark_mc_task_130402.free_mem_121237 = mem_121237.mem;
        futhark_mc_task_130402.free_mem_122001 = mem_122001.mem;
        futhark_mc_task_130402.free_mem_122005 = mem_122005.mem;
        futhark_mc_task_130402.free_bytes_122297 = bytes_122297;
        futhark_mc_task_130402.free_mem_122371 = mem_122371;
        futhark_mc_task_130402.free_mem_122374 = mem_122374;
        
        struct scheduler_segop futhark_mc_task_130402_task;
        
        futhark_mc_task_130402_task.args = &futhark_mc_task_130402;
        futhark_mc_task_130402_task.top_level_fn =
            futhark_mc_segmap_task_130403;
        futhark_mc_task_130402_task.name = "futhark_mc_segmap_task_130403";
        futhark_mc_task_130402_task.iterations = t_n_m_114162;
        futhark_mc_task_130402_task.task_time =
            &ctx->futhark_mc_segmap_task_130403_total_time;
        futhark_mc_task_130402_task.task_iter =
            &ctx->futhark_mc_segmap_task_130403_total_iter;
        futhark_mc_task_130402_task.sched = STATIC;
        futhark_mc_task_130402_task.nested_fn =
            futhark_mc_segmap_nested_task_130410;
        
        int futhark_mc_segmap_task_130403_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130402_task);
        
        if (futhark_mc_segmap_task_130403_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_122468.mem + gtid_119672 * t_n_m_114162 * (int64_t) 4,
                mem_122371 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
        memmove(mem_122472.mem + gtid_119672 * t_n_m_114162 * (int64_t) 4,
                mem_122374 + (int64_t) 0, t_n_m_114162 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122371);
    free(mem_122374);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130399_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130399_end -
                 futhark_mc_segmap_parloop_130399_start;
        
        ctx->futhark_mc_segmap_parloop_130399_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130399_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130399_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130397(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_119671 = tid;
    int num_tasks_128607 = info.nsubtasks;
    struct futhark_mc_task_130387 *futhark_mc_task_130387 =
                                  (struct futhark_mc_task_130387 *) args;
    struct futhark_context *ctx = futhark_mc_task_130387->ctx;
    uint64_t futhark_mc_segmap_nested_task_130397_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130397_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130387->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130387->free_n_114105;
    int64_t t_window_114108 = futhark_mc_task_130387->free_t_window_114108;
    int64_t t_jump_114112 = futhark_mc_task_130387->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130387->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130387->free_i_114181;
    struct memblock mem_121047 = {.desc ="mem_121047", .mem =
                                  futhark_mc_task_130387->free_mem_121047,
                                  .size =0, .references =NULL};
    struct memblock mem_121069 = {.desc ="mem_121069", .mem =
                                  futhark_mc_task_130387->free_mem_121069,
                                  .size =0, .references =NULL};
    int64_t bytes_121179 = futhark_mc_task_130387->free_bytes_121179;
    struct memblock mem_121233 = {.desc ="mem_121233", .mem =
                                  futhark_mc_task_130387->free_mem_121233,
                                  .size =0, .references =NULL};
    struct memblock mem_121237 = {.desc ="mem_121237", .mem =
                                  futhark_mc_task_130387->free_mem_121237,
                                  .size =0, .references =NULL};
    struct memblock mem_122001 = {.desc ="mem_122001", .mem =
                                  futhark_mc_task_130387->free_mem_122001,
                                  .size =0, .references =NULL};
    struct memblock mem_122005 = {.desc ="mem_122005", .mem =
                                  futhark_mc_task_130387->free_mem_122005,
                                  .size =0, .references =NULL};
    int64_t bytes_122297 = futhark_mc_task_130387->free_bytes_122297;
    struct memblock mem_122468 = {.desc ="mem_122468", .mem =
                                  futhark_mc_task_130387->free_mem_122468,
                                  .size =0, .references =NULL};
    struct memblock mem_122472 = {.desc ="mem_122472", .mem =
                                  futhark_mc_task_130387->free_mem_122472,
                                  .size =0, .references =NULL};
    int64_t iter_128741;
    struct futhark_mc_segmap_parloop_struct_130398
    futhark_mc_segmap_parloop_struct_130398;
    
    futhark_mc_segmap_parloop_struct_130398.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130398.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130398.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130398.free_t_window_114108 =
        t_window_114108;
    futhark_mc_segmap_parloop_struct_130398.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130398.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130398.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130398.free_mem_121047 = mem_121047.mem;
    futhark_mc_segmap_parloop_struct_130398.free_mem_121069 = mem_121069.mem;
    futhark_mc_segmap_parloop_struct_130398.free_bytes_121179 = bytes_121179;
    futhark_mc_segmap_parloop_struct_130398.free_mem_121233 = mem_121233.mem;
    futhark_mc_segmap_parloop_struct_130398.free_mem_121237 = mem_121237.mem;
    futhark_mc_segmap_parloop_struct_130398.free_mem_122001 = mem_122001.mem;
    futhark_mc_segmap_parloop_struct_130398.free_mem_122005 = mem_122005.mem;
    futhark_mc_segmap_parloop_struct_130398.free_bytes_122297 = bytes_122297;
    futhark_mc_segmap_parloop_struct_130398.free_mem_122468 = mem_122468.mem;
    futhark_mc_segmap_parloop_struct_130398.free_mem_122472 = mem_122472.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130399_task;
    
    futhark_mc_segmap_parloop_130399_task.name =
        "futhark_mc_segmap_parloop_130399";
    futhark_mc_segmap_parloop_130399_task.fn = futhark_mc_segmap_parloop_130399;
    futhark_mc_segmap_parloop_130399_task.args =
        &futhark_mc_segmap_parloop_struct_130398;
    futhark_mc_segmap_parloop_130399_task.iterations = iterations;
    futhark_mc_segmap_parloop_130399_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130399_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130399_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130399_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130399_task);
    
    if (futhark_mc_segmap_parloop_130399_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130399_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130399_total_end -
                 futhark_mc_segmap_parloop_130399_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130399_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130399_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130399_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130397_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130397_end -
                 futhark_mc_segmap_nested_task_130397_start;
        
        ctx->futhark_mc_segmap_nested_task_130397_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130397_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130397_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130436 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_y_116027;
    int64_t free_bytes_121048;
    char *free_ext_mem_122477;
    char *free_ext_mem_122478;
    char *free_mem_122500;
};
struct futhark_mc_segmap_parloop_struct_130438 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_y_116027;
    int64_t free_bytes_121048;
    char *free_ext_mem_122477;
    char *free_ext_mem_122478;
    char *free_mem_122500;
};
static int futhark_mc_segmap_parloop_130439(void *args, int64_t start,
                                            int64_t end, int flat_tid_120012,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130438
    *futhark_mc_segmap_parloop_struct_130438 =
    (struct futhark_mc_segmap_parloop_struct_130438 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130438->ctx;
    uint64_t futhark_mc_segmap_parloop_130439_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130439_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130438->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130438->free_n_114105;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130438->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130438->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130438->free_i_114181;
    int64_t y_116027 = futhark_mc_segmap_parloop_struct_130438->free_y_116027;
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130438->free_bytes_121048;
    struct memblock ext_mem_122477 = {.desc ="ext_mem_122477", .mem =
                                      futhark_mc_segmap_parloop_struct_130438->free_ext_mem_122477,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122478 = {.desc ="ext_mem_122478", .mem =
                                      futhark_mc_segmap_parloop_struct_130438->free_ext_mem_122478,
                                      .size =0, .references =NULL};
    struct memblock mem_122500 = {.desc ="mem_122500", .mem =
                                  futhark_mc_segmap_parloop_struct_130438->free_mem_122500,
                                  .size =0, .references =NULL};
    size_t mem_122484_cached_sizze_130440 = 0;
    char *mem_122484 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129174 = start;
    
    if (mem_122484_cached_sizze_130440 < (size_t) bytes_121048) {
        mem_122484 = realloc(mem_122484, bytes_121048);
        mem_122484_cached_sizze_130440 = bytes_121048;
    }
    for (; iter_129174 < end; iter_129174++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129224 = m_114104;
        int64_t gtid_120013 = iter_129174;
        int64_t remnant_129225 = iter_129174 - gtid_120013;
        
        for (int64_t i_129175 = 0; i_129175 < n_114105; i_129175++) {
            int64_t m_v_129177 = sdiv64(i_129175, t_jump_114112);
            bool cond_129178 = m_v_129177 == y_116027;
            int64_t j_129179;
            
            if (cond_129178) {
                int64_t j_t_res_129180 = sub64(m_v_129177, (int64_t) 1);
                
                j_129179 = j_t_res_129180;
            } else {
                j_129179 = m_v_129177;
            }
            
            int64_t min_arg_129181 = mul64(t_jump_114112, j_129179);
            int64_t min_res_129182 = smin64(i_114181, min_arg_129181);
            int64_t defunc_0_m_fun_arg_129183 = add64((int64_t) 1, j_129179);
            int64_t min_arg_129184 = mul64(t_jump_114112,
                                           defunc_0_m_fun_arg_129183);
            int64_t min_res_129185 = smin64(i_114181, min_arg_129184);
            int64_t i64_arg_129186 = sub64(min_res_129185, min_res_129182);
            float i64_res_129187 = sitofp_i64_f32(i64_arg_129186);
            int64_t i64_arg_129188 = sub64(i_129175, min_res_129182);
            float i64_res_129189 = sitofp_i64_f32(i64_arg_129188);
            float u_129190 = i64_res_129189 / i64_res_129187;
            float u2_129191 = u_129190 * u_129190;
            float u3_129192 = u_129190 * u2_129191;
            float x_129193 = 2.0F * u3_129192;
            float y_129194 = 3.0F * u2_129191;
            float x_129195 = x_129193 - y_129194;
            float x_129196 = 1.0F + x_129195;
            bool x_129197 = sle64((int64_t) 0, j_129179);
            bool y_129198 = slt64(j_129179, t_n_m_114162);
            bool bounds_check_129199 = x_129197 && y_129198;
            bool index_certs_129200;
            
            if (!bounds_check_129199) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) j_129179,
                              "] out of bounds for array of shape [",
                              (long long) t_n_m_114162, "].",
                              "-> #0  loess.fut:431:41-47\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:271:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:270:15-272:43\n   #8  stl.fut:365:3-376:33\n   #9  stl.fut:352:1-376:33\n");
                return 1;
            }
            
            float y_129201 = ((float *) ext_mem_122478.mem)[gtid_120013 *
                                                            t_n_m_114162 +
                                                            j_129179];
            float x_129202 = x_129196 * y_129201;
            float x_129203 = y_129194 - x_129193;
            bool x_129204 = sle64((int64_t) 0, defunc_0_m_fun_arg_129183);
            bool y_129205 = slt64(defunc_0_m_fun_arg_129183, t_n_m_114162);
            bool bounds_check_129206 = x_129204 && y_129205;
            bool index_certs_129207;
            
            if (!bounds_check_129206) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) defunc_0_m_fun_arg_129183,
                              "] out of bounds for array of shape [",
                              (long long) t_n_m_114162, "].",
                              "-> #0  loess.fut:432:41-51\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:271:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:270:15-272:43\n   #8  stl.fut:365:3-376:33\n   #9  stl.fut:352:1-376:33\n");
                return 1;
            }
            
            float y_129208 = ((float *) ext_mem_122478.mem)[gtid_120013 *
                                                            t_n_m_114162 +
                                                            defunc_0_m_fun_arg_129183];
            float y_129209 = x_129203 * y_129208;
            float x_129210 = x_129202 + y_129209;
            float y_129211 = 2.0F * u2_129191;
            float x_129212 = u3_129192 - y_129211;
            float x_129213 = u_129190 + x_129212;
            float y_129214 = ((float *) ext_mem_122477.mem)[gtid_120013 *
                                                            t_n_m_114162 +
                                                            j_129179];
            float x_129215 = x_129213 * y_129214;
            float y_129216 = i64_res_129187 * x_129215;
            float x_129217 = x_129210 + y_129216;
            float x_129218 = u3_129192 - u2_129191;
            float y_129219 = ((float *) ext_mem_122477.mem)[gtid_120013 *
                                                            t_n_m_114162 +
                                                            defunc_0_m_fun_arg_129183];
            float x_129220 = x_129218 * y_129219;
            float y_129221 = i64_res_129187 * x_129220;
            float defunc_0_f_res_129222 = x_129217 + y_129221;
            
            ((float *) mem_122484)[i_129175] = defunc_0_f_res_129222;
        }
        memmove(mem_122500.mem + gtid_120013 * n_114105 * (int64_t) 4,
                mem_122484 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122484);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130439_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130439_end -
                 futhark_mc_segmap_parloop_130439_start;
        
        ctx->futhark_mc_segmap_parloop_130439_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130439_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130439_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130437(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120012 = tid;
    int num_tasks_129173 = info.nsubtasks;
    struct futhark_mc_task_130436 *futhark_mc_task_130436 =
                                  (struct futhark_mc_task_130436 *) args;
    struct futhark_context *ctx = futhark_mc_task_130436->ctx;
    uint64_t futhark_mc_segmap_task_130437_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130437_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130436->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130436->free_n_114105;
    int64_t t_jump_114112 = futhark_mc_task_130436->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130436->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130436->free_i_114181;
    int64_t y_116027 = futhark_mc_task_130436->free_y_116027;
    int64_t bytes_121048 = futhark_mc_task_130436->free_bytes_121048;
    struct memblock ext_mem_122477 = {.desc ="ext_mem_122477", .mem =
                                      futhark_mc_task_130436->free_ext_mem_122477,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122478 = {.desc ="ext_mem_122478", .mem =
                                      futhark_mc_task_130436->free_ext_mem_122478,
                                      .size =0, .references =NULL};
    struct memblock mem_122500 = {.desc ="mem_122500", .mem =
                                  futhark_mc_task_130436->free_mem_122500,
                                  .size =0, .references =NULL};
    int64_t iter_129174;
    struct futhark_mc_segmap_parloop_struct_130438
    futhark_mc_segmap_parloop_struct_130438;
    
    futhark_mc_segmap_parloop_struct_130438.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130438.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130438.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130438.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130438.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130438.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130438.free_y_116027 = y_116027;
    futhark_mc_segmap_parloop_struct_130438.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130438.free_ext_mem_122477 =
        ext_mem_122477.mem;
    futhark_mc_segmap_parloop_struct_130438.free_ext_mem_122478 =
        ext_mem_122478.mem;
    futhark_mc_segmap_parloop_struct_130438.free_mem_122500 = mem_122500.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130439_task;
    
    futhark_mc_segmap_parloop_130439_task.name =
        "futhark_mc_segmap_parloop_130439";
    futhark_mc_segmap_parloop_130439_task.fn = futhark_mc_segmap_parloop_130439;
    futhark_mc_segmap_parloop_130439_task.args =
        &futhark_mc_segmap_parloop_struct_130438;
    futhark_mc_segmap_parloop_130439_task.iterations = iterations;
    futhark_mc_segmap_parloop_130439_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130439_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130439_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130439_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130439_task);
    
    if (futhark_mc_segmap_parloop_130439_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130439_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130439_total_end -
                 futhark_mc_segmap_parloop_130439_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130439_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130439_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130439_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130437_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130437_end -
                 futhark_mc_segmap_task_130437_start;
        
        ctx->futhark_mc_segmap_task_130437_runs[tid]++;
        ctx->futhark_mc_segmap_task_130437_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130437_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130442 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_y_116027;
    int64_t free_bytes_121048;
    char *free_ext_mem_122477;
    char *free_ext_mem_122478;
    char *free_mem_122500;
};
struct futhark_mc_task_130445 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_y_116027;
    int64_t free_gtid_120015;
    char *free_ext_mem_122477;
    char *free_ext_mem_122478;
    char *free_mem_122481;
};
struct futhark_mc_segmap_parloop_struct_130447 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_t_jump_114112;
    int64_t free_t_n_m_114162;
    int64_t free_i_114181;
    int64_t free_y_116027;
    int64_t free_gtid_120015;
    char *free_ext_mem_122477;
    char *free_ext_mem_122478;
    char *free_mem_122481;
};
static int futhark_mc_segmap_parloop_130448(void *args, int64_t start,
                                            int64_t end, int flat_tid_120016,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130447
    *futhark_mc_segmap_parloop_struct_130447 =
    (struct futhark_mc_segmap_parloop_struct_130447 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130447->ctx;
    uint64_t futhark_mc_segmap_parloop_130448_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130448_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130447->free_n_114105;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130447->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130447->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130447->free_i_114181;
    int64_t y_116027 = futhark_mc_segmap_parloop_struct_130447->free_y_116027;
    int64_t gtid_120015 =
            futhark_mc_segmap_parloop_struct_130447->free_gtid_120015;
    struct memblock ext_mem_122477 = {.desc ="ext_mem_122477", .mem =
                                      futhark_mc_segmap_parloop_struct_130447->free_ext_mem_122477,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122478 = {.desc ="ext_mem_122478", .mem =
                                      futhark_mc_segmap_parloop_struct_130447->free_ext_mem_122478,
                                      .size =0, .references =NULL};
    struct memblock mem_122481 = {.desc ="mem_122481", .mem =
                                  futhark_mc_segmap_parloop_struct_130447->free_mem_122481,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129277 = start;
    
    for (; iter_129277 < end; iter_129277++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129279 = n_114105;
        int64_t gtid_120017 = iter_129277;
        int64_t remnant_129280 = iter_129277 - gtid_120017;
        int64_t m_v_129228 = sdiv64(gtid_120017, t_jump_114112);
        bool cond_129229 = m_v_129228 == y_116027;
        int64_t j_129230;
        
        if (cond_129229) {
            int64_t j_t_res_129278 = sub64(m_v_129228, (int64_t) 1);
            
            j_129230 = j_t_res_129278;
        } else {
            j_129230 = m_v_129228;
        }
        
        int64_t min_arg_129232 = mul64(t_jump_114112, j_129230);
        int64_t min_res_129233 = smin64(i_114181, min_arg_129232);
        int64_t defunc_0_m_fun_arg_129234 = add64((int64_t) 1, j_129230);
        int64_t min_arg_129235 = mul64(t_jump_114112,
                                       defunc_0_m_fun_arg_129234);
        int64_t min_res_129236 = smin64(i_114181, min_arg_129235);
        int64_t i64_arg_129237 = sub64(min_res_129236, min_res_129233);
        float i64_res_129238 = sitofp_i64_f32(i64_arg_129237);
        int64_t i64_arg_129239 = sub64(gtid_120017, min_res_129233);
        float i64_res_129240 = sitofp_i64_f32(i64_arg_129239);
        float u_129241 = i64_res_129240 / i64_res_129238;
        float u2_129242 = u_129241 * u_129241;
        float u3_129243 = u_129241 * u2_129242;
        float x_129244 = 2.0F * u3_129243;
        float y_129245 = 3.0F * u2_129242;
        float x_129246 = x_129244 - y_129245;
        float x_129247 = 1.0F + x_129246;
        bool x_129248 = sle64((int64_t) 0, j_129230);
        bool y_129249 = slt64(j_129230, t_n_m_114162);
        bool bounds_check_129250 = x_129248 && y_129249;
        bool index_certs_129251;
        
        if (!bounds_check_129250) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [", (long long) j_129230,
                                   "] out of bounds for array of shape [",
                                   (long long) t_n_m_114162, "].",
                                   "-> #0  loess.fut:431:41-47\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:271:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:270:15-272:43\n   #8  stl.fut:365:3-376:33\n   #9  stl.fut:352:1-376:33\n");
            return 1;
        }
        
        float y_129252 = ((float *) ext_mem_122478.mem)[gtid_120015 *
                                                        t_n_m_114162 +
                                                        j_129230];
        float x_129253 = x_129247 * y_129252;
        float x_129254 = y_129245 - x_129244;
        bool x_129255 = sle64((int64_t) 0, defunc_0_m_fun_arg_129234);
        bool y_129256 = slt64(defunc_0_m_fun_arg_129234, t_n_m_114162);
        bool bounds_check_129257 = x_129255 && y_129256;
        bool index_certs_129258;
        
        if (!bounds_check_129257) {
            ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                   "Index [",
                                   (long long) defunc_0_m_fun_arg_129234,
                                   "] out of bounds for array of shape [",
                                   (long long) t_n_m_114162, "].",
                                   "-> #0  loess.fut:432:41-51\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:271:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:270:15-272:43\n   #8  stl.fut:365:3-376:33\n   #9  stl.fut:352:1-376:33\n");
            return 1;
        }
        
        float y_129259 = ((float *) ext_mem_122478.mem)[gtid_120015 *
                                                        t_n_m_114162 +
                                                        defunc_0_m_fun_arg_129234];
        float y_129260 = x_129254 * y_129259;
        float x_129261 = x_129253 + y_129260;
        float y_129262 = 2.0F * u2_129242;
        float x_129263 = u3_129243 - y_129262;
        float x_129264 = u_129241 + x_129263;
        float y_129265 = ((float *) ext_mem_122477.mem)[gtid_120015 *
                                                        t_n_m_114162 +
                                                        j_129230];
        float x_129266 = x_129264 * y_129265;
        float y_129267 = i64_res_129238 * x_129266;
        float x_129268 = x_129261 + y_129267;
        float x_129269 = u3_129243 - u2_129242;
        float y_129270 = ((float *) ext_mem_122477.mem)[gtid_120015 *
                                                        t_n_m_114162 +
                                                        defunc_0_m_fun_arg_129234];
        float x_129271 = x_129269 * y_129270;
        float y_129272 = i64_res_129238 * x_129271;
        float defunc_0_f_res_129273 = x_129268 + y_129272;
        
        ((float *) mem_122481.mem)[gtid_120017] = defunc_0_f_res_129273;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130448_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130448_end -
                 futhark_mc_segmap_parloop_130448_start;
        
        ctx->futhark_mc_segmap_parloop_130448_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130448_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130448_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130446(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120016 = tid;
    int num_tasks_129276 = info.nsubtasks;
    struct futhark_mc_task_130445 *futhark_mc_task_130445 =
                                  (struct futhark_mc_task_130445 *) args;
    struct futhark_context *ctx = futhark_mc_task_130445->ctx;
    uint64_t futhark_mc_segmap_task_130446_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130446_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130445->free_n_114105;
    int64_t t_jump_114112 = futhark_mc_task_130445->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130445->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130445->free_i_114181;
    int64_t y_116027 = futhark_mc_task_130445->free_y_116027;
    int64_t gtid_120015 = futhark_mc_task_130445->free_gtid_120015;
    struct memblock ext_mem_122477 = {.desc ="ext_mem_122477", .mem =
                                      futhark_mc_task_130445->free_ext_mem_122477,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122478 = {.desc ="ext_mem_122478", .mem =
                                      futhark_mc_task_130445->free_ext_mem_122478,
                                      .size =0, .references =NULL};
    struct memblock mem_122481 = {.desc ="mem_122481", .mem =
                                  futhark_mc_task_130445->free_mem_122481,
                                  .size =0, .references =NULL};
    int64_t iter_129277;
    struct futhark_mc_segmap_parloop_struct_130447
    futhark_mc_segmap_parloop_struct_130447;
    
    futhark_mc_segmap_parloop_struct_130447.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130447.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130447.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130447.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130447.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130447.free_y_116027 = y_116027;
    futhark_mc_segmap_parloop_struct_130447.free_gtid_120015 = gtid_120015;
    futhark_mc_segmap_parloop_struct_130447.free_ext_mem_122477 =
        ext_mem_122477.mem;
    futhark_mc_segmap_parloop_struct_130447.free_ext_mem_122478 =
        ext_mem_122478.mem;
    futhark_mc_segmap_parloop_struct_130447.free_mem_122481 = mem_122481.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130448_task;
    
    futhark_mc_segmap_parloop_130448_task.name =
        "futhark_mc_segmap_parloop_130448";
    futhark_mc_segmap_parloop_130448_task.fn = futhark_mc_segmap_parloop_130448;
    futhark_mc_segmap_parloop_130448_task.args =
        &futhark_mc_segmap_parloop_struct_130447;
    futhark_mc_segmap_parloop_130448_task.iterations = iterations;
    futhark_mc_segmap_parloop_130448_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130448_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130448_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130448_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130448_task);
    
    if (futhark_mc_segmap_parloop_130448_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130448_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130448_total_end -
                 futhark_mc_segmap_parloop_130448_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130448_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130448_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130448_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130446_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130446_end -
                 futhark_mc_segmap_task_130446_start;
        
        ctx->futhark_mc_segmap_task_130446_runs[tid]++;
        ctx->futhark_mc_segmap_task_130446_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130446_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130443(void *args, int64_t start,
                                            int64_t end, int flat_tid_120014,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130442
    *futhark_mc_segmap_parloop_struct_130442 =
    (struct futhark_mc_segmap_parloop_struct_130442 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130442->ctx;
    uint64_t futhark_mc_segmap_parloop_130443_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130443_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130442->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130442->free_n_114105;
    int64_t t_jump_114112 =
            futhark_mc_segmap_parloop_struct_130442->free_t_jump_114112;
    int64_t t_n_m_114162 =
            futhark_mc_segmap_parloop_struct_130442->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130442->free_i_114181;
    int64_t y_116027 = futhark_mc_segmap_parloop_struct_130442->free_y_116027;
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130442->free_bytes_121048;
    struct memblock ext_mem_122477 = {.desc ="ext_mem_122477", .mem =
                                      futhark_mc_segmap_parloop_struct_130442->free_ext_mem_122477,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122478 = {.desc ="ext_mem_122478", .mem =
                                      futhark_mc_segmap_parloop_struct_130442->free_ext_mem_122478,
                                      .size =0, .references =NULL};
    struct memblock mem_122500 = {.desc ="mem_122500", .mem =
                                  futhark_mc_segmap_parloop_struct_130442->free_mem_122500,
                                  .size =0, .references =NULL};
    size_t mem_122481_cached_sizze_130444 = 0;
    char *mem_122481 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129227 = start;
    
    if (mem_122481_cached_sizze_130444 < (size_t) bytes_121048) {
        mem_122481 = realloc(mem_122481, bytes_121048);
        mem_122481_cached_sizze_130444 = bytes_121048;
    }
    for (; iter_129227 < end; iter_129227++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129274 = m_114104;
        int64_t gtid_120015 = iter_129227;
        int64_t remnant_129275 = iter_129227 - gtid_120015;
        int64_t flat_tid_120016 = (int64_t) 0;
        int32_t num_tasks_129276;
        struct futhark_mc_task_130445 futhark_mc_task_130445;
        
        futhark_mc_task_130445.ctx = ctx;
        futhark_mc_task_130445.free_n_114105 = n_114105;
        futhark_mc_task_130445.free_t_jump_114112 = t_jump_114112;
        futhark_mc_task_130445.free_t_n_m_114162 = t_n_m_114162;
        futhark_mc_task_130445.free_i_114181 = i_114181;
        futhark_mc_task_130445.free_y_116027 = y_116027;
        futhark_mc_task_130445.free_gtid_120015 = gtid_120015;
        futhark_mc_task_130445.free_ext_mem_122477 = ext_mem_122477.mem;
        futhark_mc_task_130445.free_ext_mem_122478 = ext_mem_122478.mem;
        futhark_mc_task_130445.free_mem_122481 = mem_122481;
        
        struct scheduler_segop futhark_mc_task_130445_task;
        
        futhark_mc_task_130445_task.args = &futhark_mc_task_130445;
        futhark_mc_task_130445_task.top_level_fn =
            futhark_mc_segmap_task_130446;
        futhark_mc_task_130445_task.name = "futhark_mc_segmap_task_130446";
        futhark_mc_task_130445_task.iterations = n_114105;
        futhark_mc_task_130445_task.task_time =
            &ctx->futhark_mc_segmap_task_130446_total_time;
        futhark_mc_task_130445_task.task_iter =
            &ctx->futhark_mc_segmap_task_130446_total_iter;
        futhark_mc_task_130445_task.sched = STATIC;
        futhark_mc_task_130445_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_130446_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130445_task);
        
        if (futhark_mc_segmap_task_130446_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_122500.mem + gtid_120015 * n_114105 * (int64_t) 4,
                mem_122481 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122481);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130443_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130443_end -
                 futhark_mc_segmap_parloop_130443_start;
        
        ctx->futhark_mc_segmap_parloop_130443_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130443_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130443_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130441(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120014 = tid;
    int num_tasks_129173 = info.nsubtasks;
    struct futhark_mc_task_130436 *futhark_mc_task_130436 =
                                  (struct futhark_mc_task_130436 *) args;
    struct futhark_context *ctx = futhark_mc_task_130436->ctx;
    uint64_t futhark_mc_segmap_nested_task_130441_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130441_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130436->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130436->free_n_114105;
    int64_t t_jump_114112 = futhark_mc_task_130436->free_t_jump_114112;
    int64_t t_n_m_114162 = futhark_mc_task_130436->free_t_n_m_114162;
    int64_t i_114181 = futhark_mc_task_130436->free_i_114181;
    int64_t y_116027 = futhark_mc_task_130436->free_y_116027;
    int64_t bytes_121048 = futhark_mc_task_130436->free_bytes_121048;
    struct memblock ext_mem_122477 = {.desc ="ext_mem_122477", .mem =
                                      futhark_mc_task_130436->free_ext_mem_122477,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122478 = {.desc ="ext_mem_122478", .mem =
                                      futhark_mc_task_130436->free_ext_mem_122478,
                                      .size =0, .references =NULL};
    struct memblock mem_122500 = {.desc ="mem_122500", .mem =
                                  futhark_mc_task_130436->free_mem_122500,
                                  .size =0, .references =NULL};
    int64_t iter_129227;
    struct futhark_mc_segmap_parloop_struct_130442
    futhark_mc_segmap_parloop_struct_130442;
    
    futhark_mc_segmap_parloop_struct_130442.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130442.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130442.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130442.free_t_jump_114112 = t_jump_114112;
    futhark_mc_segmap_parloop_struct_130442.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_segmap_parloop_struct_130442.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130442.free_y_116027 = y_116027;
    futhark_mc_segmap_parloop_struct_130442.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130442.free_ext_mem_122477 =
        ext_mem_122477.mem;
    futhark_mc_segmap_parloop_struct_130442.free_ext_mem_122478 =
        ext_mem_122478.mem;
    futhark_mc_segmap_parloop_struct_130442.free_mem_122500 = mem_122500.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130443_task;
    
    futhark_mc_segmap_parloop_130443_task.name =
        "futhark_mc_segmap_parloop_130443";
    futhark_mc_segmap_parloop_130443_task.fn = futhark_mc_segmap_parloop_130443;
    futhark_mc_segmap_parloop_130443_task.args =
        &futhark_mc_segmap_parloop_struct_130442;
    futhark_mc_segmap_parloop_130443_task.iterations = iterations;
    futhark_mc_segmap_parloop_130443_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130443_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130443_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130443_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130443_task);
    
    if (futhark_mc_segmap_parloop_130443_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130443_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130443_total_end -
                 futhark_mc_segmap_parloop_130443_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130443_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130443_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130443_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130441_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130441_end -
                 futhark_mc_segmap_nested_task_130441_start;
        
        ctx->futhark_mc_segmap_nested_task_130441_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130441_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130441_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130449 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_Y_mem_121004;
    int64_t free_bytes_121048;
    char *free_ext_mem_122507;
    char *free_ext_mem_122508;
    int64_t free_ext_122512;
    char *free_mem_122544;
};
struct futhark_mc_segmap_parloop_struct_130451 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_Y_mem_121004;
    int64_t free_bytes_121048;
    char *free_ext_mem_122507;
    char *free_ext_mem_122508;
    int64_t free_ext_122512;
    char *free_mem_122544;
};
static int futhark_mc_segmap_parloop_130452(void *args, int64_t start,
                                            int64_t end, int flat_tid_120068,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130451
    *futhark_mc_segmap_parloop_struct_130451 =
    (struct futhark_mc_segmap_parloop_struct_130451 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130451->ctx;
    uint64_t futhark_mc_segmap_parloop_130452_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130452_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130451->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130451->free_n_114105;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_130451->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130451->free_bytes_121048;
    struct memblock ext_mem_122507 = {.desc ="ext_mem_122507", .mem =
                                      futhark_mc_segmap_parloop_struct_130451->free_ext_mem_122507,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122508 = {.desc ="ext_mem_122508", .mem =
                                      futhark_mc_segmap_parloop_struct_130451->free_ext_mem_122508,
                                      .size =0, .references =NULL};
    int64_t ext_122512 =
            futhark_mc_segmap_parloop_struct_130451->free_ext_122512;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_segmap_parloop_struct_130451->free_mem_122544,
                                  .size =0, .references =NULL};
    size_t mem_122528_cached_sizze_130453 = 0;
    char *mem_122528 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129282 = start;
    
    if (mem_122528_cached_sizze_130453 < (size_t) bytes_121048) {
        mem_122528 = realloc(mem_122528, bytes_121048);
        mem_122528_cached_sizze_130453 = bytes_121048;
    }
    for (; iter_129282 < end; iter_129282++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129294 = m_114104;
        int64_t gtid_120069 = iter_129282;
        int64_t remnant_129295 = iter_129282 - gtid_120069;
        
        for (int64_t i_129283 = 0; i_129283 < n_114105; i_129283++) {
            float x_129285 = ((float *) Y_mem_121004.mem)[gtid_120069 *
                                                          n_114105 + i_129283];
            float x_129286 = ((float *) ext_mem_122508.mem)[gtid_120069 *
                                                            n_114105 +
                                                            i_129283];
            float x_129287 = ((float *) ext_mem_122507.mem)[gtid_120069 *
                                                            ext_122512 +
                                                            i_129283];
            float x_129288 = x_129285 - x_129286;
            float defunc_2_f_res_129289 = x_129288 - x_129287;
            bool isnan_res_129290;
            
            isnan_res_129290 = futrts_isnan32(defunc_2_f_res_129289);
            
            float defunc_0_f_res_129291;
            
            if (isnan_res_129290) {
                defunc_0_f_res_129291 = NAN;
            } else {
                float abs_res_129292 = (float) fabs(defunc_2_f_res_129289);
                
                defunc_0_f_res_129291 = abs_res_129292;
            }
            ((float *) mem_122528)[i_129283] = defunc_0_f_res_129291;
        }
        memmove(mem_122544.mem + gtid_120069 * n_114105 * (int64_t) 4,
                mem_122528 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122528);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130452_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130452_end -
                 futhark_mc_segmap_parloop_130452_start;
        
        ctx->futhark_mc_segmap_parloop_130452_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130452_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130452_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130450(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120068 = tid;
    int num_tasks_129281 = info.nsubtasks;
    struct futhark_mc_task_130449 *futhark_mc_task_130449 =
                                  (struct futhark_mc_task_130449 *) args;
    struct futhark_context *ctx = futhark_mc_task_130449->ctx;
    uint64_t futhark_mc_segmap_task_130450_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130450_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130449->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130449->free_n_114105;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_130449->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121048 = futhark_mc_task_130449->free_bytes_121048;
    struct memblock ext_mem_122507 = {.desc ="ext_mem_122507", .mem =
                                      futhark_mc_task_130449->free_ext_mem_122507,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122508 = {.desc ="ext_mem_122508", .mem =
                                      futhark_mc_task_130449->free_ext_mem_122508,
                                      .size =0, .references =NULL};
    int64_t ext_122512 = futhark_mc_task_130449->free_ext_122512;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_task_130449->free_mem_122544,
                                  .size =0, .references =NULL};
    int64_t iter_129282;
    struct futhark_mc_segmap_parloop_struct_130451
    futhark_mc_segmap_parloop_struct_130451;
    
    futhark_mc_segmap_parloop_struct_130451.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130451.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130451.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130451.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_130451.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130451.free_ext_mem_122507 =
        ext_mem_122507.mem;
    futhark_mc_segmap_parloop_struct_130451.free_ext_mem_122508 =
        ext_mem_122508.mem;
    futhark_mc_segmap_parloop_struct_130451.free_ext_122512 = ext_122512;
    futhark_mc_segmap_parloop_struct_130451.free_mem_122544 = mem_122544.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130452_task;
    
    futhark_mc_segmap_parloop_130452_task.name =
        "futhark_mc_segmap_parloop_130452";
    futhark_mc_segmap_parloop_130452_task.fn = futhark_mc_segmap_parloop_130452;
    futhark_mc_segmap_parloop_130452_task.args =
        &futhark_mc_segmap_parloop_struct_130451;
    futhark_mc_segmap_parloop_130452_task.iterations = iterations;
    futhark_mc_segmap_parloop_130452_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130452_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130452_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130452_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130452_task);
    
    if (futhark_mc_segmap_parloop_130452_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130452_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130452_total_end -
                 futhark_mc_segmap_parloop_130452_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130452_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130452_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130452_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130450_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130450_end -
                 futhark_mc_segmap_task_130450_start;
        
        ctx->futhark_mc_segmap_task_130450_runs[tid]++;
        ctx->futhark_mc_segmap_task_130450_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130450_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130455 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_Y_mem_121004;
    int64_t free_bytes_121048;
    char *free_ext_mem_122507;
    char *free_ext_mem_122508;
    int64_t free_ext_122512;
    char *free_mem_122544;
};
struct futhark_mc_task_130458 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_120071;
    char *free_Y_mem_121004;
    char *free_ext_mem_122507;
    char *free_ext_mem_122508;
    int64_t free_ext_122512;
    char *free_mem_122525;
};
struct futhark_mc_segmap_parloop_struct_130460 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_120071;
    char *free_Y_mem_121004;
    char *free_ext_mem_122507;
    char *free_ext_mem_122508;
    int64_t free_ext_122512;
    char *free_mem_122525;
};
static int futhark_mc_segmap_parloop_130461(void *args, int64_t start,
                                            int64_t end, int flat_tid_120072,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130460
    *futhark_mc_segmap_parloop_struct_130460 =
    (struct futhark_mc_segmap_parloop_struct_130460 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130460->ctx;
    uint64_t futhark_mc_segmap_parloop_130461_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130461_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130460->free_n_114105;
    int64_t gtid_120071 =
            futhark_mc_segmap_parloop_struct_130460->free_gtid_120071;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_130460->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock ext_mem_122507 = {.desc ="ext_mem_122507", .mem =
                                      futhark_mc_segmap_parloop_struct_130460->free_ext_mem_122507,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122508 = {.desc ="ext_mem_122508", .mem =
                                      futhark_mc_segmap_parloop_struct_130460->free_ext_mem_122508,
                                      .size =0, .references =NULL};
    int64_t ext_122512 =
            futhark_mc_segmap_parloop_struct_130460->free_ext_122512;
    struct memblock mem_122525 = {.desc ="mem_122525", .mem =
                                  futhark_mc_segmap_parloop_struct_130460->free_mem_122525,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129309 = start;
    
    for (; iter_129309 < end; iter_129309++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129311 = n_114105;
        int64_t gtid_120073 = iter_129309;
        int64_t remnant_129312 = iter_129309 - gtid_120073;
        float x_129298 = ((float *) Y_mem_121004.mem)[gtid_120071 * n_114105 +
                                                      gtid_120073];
        float x_129299 = ((float *) ext_mem_122508.mem)[gtid_120071 * n_114105 +
                                                        gtid_120073];
        float x_129300 = ((float *) ext_mem_122507.mem)[gtid_120071 *
                                                        ext_122512 +
                                                        gtid_120073];
        float x_129301 = x_129298 - x_129299;
        float defunc_2_f_res_129302 = x_129301 - x_129300;
        bool isnan_res_129303;
        
        isnan_res_129303 = futrts_isnan32(defunc_2_f_res_129302);
        
        float defunc_0_f_res_129304;
        
        if (isnan_res_129303) {
            defunc_0_f_res_129304 = NAN;
        } else {
            float abs_res_129310 = (float) fabs(defunc_2_f_res_129302);
            
            defunc_0_f_res_129304 = abs_res_129310;
        }
        ((float *) mem_122525.mem)[gtid_120073] = defunc_0_f_res_129304;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130461_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130461_end -
                 futhark_mc_segmap_parloop_130461_start;
        
        ctx->futhark_mc_segmap_parloop_130461_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130461_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130461_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130459(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120072 = tid;
    int num_tasks_129308 = info.nsubtasks;
    struct futhark_mc_task_130458 *futhark_mc_task_130458 =
                                  (struct futhark_mc_task_130458 *) args;
    struct futhark_context *ctx = futhark_mc_task_130458->ctx;
    uint64_t futhark_mc_segmap_task_130459_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130459_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130458->free_n_114105;
    int64_t gtid_120071 = futhark_mc_task_130458->free_gtid_120071;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_130458->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock ext_mem_122507 = {.desc ="ext_mem_122507", .mem =
                                      futhark_mc_task_130458->free_ext_mem_122507,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122508 = {.desc ="ext_mem_122508", .mem =
                                      futhark_mc_task_130458->free_ext_mem_122508,
                                      .size =0, .references =NULL};
    int64_t ext_122512 = futhark_mc_task_130458->free_ext_122512;
    struct memblock mem_122525 = {.desc ="mem_122525", .mem =
                                  futhark_mc_task_130458->free_mem_122525,
                                  .size =0, .references =NULL};
    int64_t iter_129309;
    struct futhark_mc_segmap_parloop_struct_130460
    futhark_mc_segmap_parloop_struct_130460;
    
    futhark_mc_segmap_parloop_struct_130460.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130460.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130460.free_gtid_120071 = gtid_120071;
    futhark_mc_segmap_parloop_struct_130460.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_130460.free_ext_mem_122507 =
        ext_mem_122507.mem;
    futhark_mc_segmap_parloop_struct_130460.free_ext_mem_122508 =
        ext_mem_122508.mem;
    futhark_mc_segmap_parloop_struct_130460.free_ext_122512 = ext_122512;
    futhark_mc_segmap_parloop_struct_130460.free_mem_122525 = mem_122525.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130461_task;
    
    futhark_mc_segmap_parloop_130461_task.name =
        "futhark_mc_segmap_parloop_130461";
    futhark_mc_segmap_parloop_130461_task.fn = futhark_mc_segmap_parloop_130461;
    futhark_mc_segmap_parloop_130461_task.args =
        &futhark_mc_segmap_parloop_struct_130460;
    futhark_mc_segmap_parloop_130461_task.iterations = iterations;
    futhark_mc_segmap_parloop_130461_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130461_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130461_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130461_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130461_task);
    
    if (futhark_mc_segmap_parloop_130461_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130461_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130461_total_end -
                 futhark_mc_segmap_parloop_130461_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130461_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130461_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130461_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130459_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130459_end -
                 futhark_mc_segmap_task_130459_start;
        
        ctx->futhark_mc_segmap_task_130459_runs[tid]++;
        ctx->futhark_mc_segmap_task_130459_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130459_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130456(void *args, int64_t start,
                                            int64_t end, int flat_tid_120070,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130455
    *futhark_mc_segmap_parloop_struct_130455 =
    (struct futhark_mc_segmap_parloop_struct_130455 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130455->ctx;
    uint64_t futhark_mc_segmap_parloop_130456_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130456_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130455->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130455->free_n_114105;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_130455->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130455->free_bytes_121048;
    struct memblock ext_mem_122507 = {.desc ="ext_mem_122507", .mem =
                                      futhark_mc_segmap_parloop_struct_130455->free_ext_mem_122507,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122508 = {.desc ="ext_mem_122508", .mem =
                                      futhark_mc_segmap_parloop_struct_130455->free_ext_mem_122508,
                                      .size =0, .references =NULL};
    int64_t ext_122512 =
            futhark_mc_segmap_parloop_struct_130455->free_ext_122512;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_segmap_parloop_struct_130455->free_mem_122544,
                                  .size =0, .references =NULL};
    size_t mem_122525_cached_sizze_130457 = 0;
    char *mem_122525 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129297 = start;
    
    if (mem_122525_cached_sizze_130457 < (size_t) bytes_121048) {
        mem_122525 = realloc(mem_122525, bytes_121048);
        mem_122525_cached_sizze_130457 = bytes_121048;
    }
    for (; iter_129297 < end; iter_129297++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129306 = m_114104;
        int64_t gtid_120071 = iter_129297;
        int64_t remnant_129307 = iter_129297 - gtid_120071;
        int64_t flat_tid_120072 = (int64_t) 0;
        int32_t num_tasks_129308;
        struct futhark_mc_task_130458 futhark_mc_task_130458;
        
        futhark_mc_task_130458.ctx = ctx;
        futhark_mc_task_130458.free_n_114105 = n_114105;
        futhark_mc_task_130458.free_gtid_120071 = gtid_120071;
        futhark_mc_task_130458.free_Y_mem_121004 = Y_mem_121004.mem;
        futhark_mc_task_130458.free_ext_mem_122507 = ext_mem_122507.mem;
        futhark_mc_task_130458.free_ext_mem_122508 = ext_mem_122508.mem;
        futhark_mc_task_130458.free_ext_122512 = ext_122512;
        futhark_mc_task_130458.free_mem_122525 = mem_122525;
        
        struct scheduler_segop futhark_mc_task_130458_task;
        
        futhark_mc_task_130458_task.args = &futhark_mc_task_130458;
        futhark_mc_task_130458_task.top_level_fn =
            futhark_mc_segmap_task_130459;
        futhark_mc_task_130458_task.name = "futhark_mc_segmap_task_130459";
        futhark_mc_task_130458_task.iterations = n_114105;
        futhark_mc_task_130458_task.task_time =
            &ctx->futhark_mc_segmap_task_130459_total_time;
        futhark_mc_task_130458_task.task_iter =
            &ctx->futhark_mc_segmap_task_130459_total_iter;
        futhark_mc_task_130458_task.sched = STATIC;
        futhark_mc_task_130458_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_130459_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130458_task);
        
        if (futhark_mc_segmap_task_130459_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_122544.mem + gtid_120071 * n_114105 * (int64_t) 4,
                mem_122525 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122525);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130456_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130456_end -
                 futhark_mc_segmap_parloop_130456_start;
        
        ctx->futhark_mc_segmap_parloop_130456_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130456_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130456_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130454(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120070 = tid;
    int num_tasks_129281 = info.nsubtasks;
    struct futhark_mc_task_130449 *futhark_mc_task_130449 =
                                  (struct futhark_mc_task_130449 *) args;
    struct futhark_context *ctx = futhark_mc_task_130449->ctx;
    uint64_t futhark_mc_segmap_nested_task_130454_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130454_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130449->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130449->free_n_114105;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_130449->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121048 = futhark_mc_task_130449->free_bytes_121048;
    struct memblock ext_mem_122507 = {.desc ="ext_mem_122507", .mem =
                                      futhark_mc_task_130449->free_ext_mem_122507,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122508 = {.desc ="ext_mem_122508", .mem =
                                      futhark_mc_task_130449->free_ext_mem_122508,
                                      .size =0, .references =NULL};
    int64_t ext_122512 = futhark_mc_task_130449->free_ext_122512;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_task_130449->free_mem_122544,
                                  .size =0, .references =NULL};
    int64_t iter_129297;
    struct futhark_mc_segmap_parloop_struct_130455
    futhark_mc_segmap_parloop_struct_130455;
    
    futhark_mc_segmap_parloop_struct_130455.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130455.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130455.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130455.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_130455.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130455.free_ext_mem_122507 =
        ext_mem_122507.mem;
    futhark_mc_segmap_parloop_struct_130455.free_ext_mem_122508 =
        ext_mem_122508.mem;
    futhark_mc_segmap_parloop_struct_130455.free_ext_122512 = ext_122512;
    futhark_mc_segmap_parloop_struct_130455.free_mem_122544 = mem_122544.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130456_task;
    
    futhark_mc_segmap_parloop_130456_task.name =
        "futhark_mc_segmap_parloop_130456";
    futhark_mc_segmap_parloop_130456_task.fn = futhark_mc_segmap_parloop_130456;
    futhark_mc_segmap_parloop_130456_task.args =
        &futhark_mc_segmap_parloop_struct_130455;
    futhark_mc_segmap_parloop_130456_task.iterations = iterations;
    futhark_mc_segmap_parloop_130456_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130456_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130456_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130456_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130456_task);
    
    if (futhark_mc_segmap_parloop_130456_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130456_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130456_total_end -
                 futhark_mc_segmap_parloop_130456_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130456_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130456_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130456_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130454_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130454_end -
                 futhark_mc_segmap_nested_task_130454_start;
        
        ctx->futhark_mc_segmap_nested_task_130454_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130454_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130454_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130462 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_mem_121044;
    int64_t free_bytes_121048;
    char *free_mem_122544;
    char *free_mem_122566;
};
struct futhark_mc_segmap_parloop_struct_130464 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_mem_121044;
    int64_t free_bytes_121048;
    char *free_mem_122544;
    char *free_mem_122566;
};
static int futhark_mc_segmap_parloop_130465(void *args, int64_t start,
                                            int64_t end, int flat_tid_120086,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130464
    *futhark_mc_segmap_parloop_struct_130464 =
    (struct futhark_mc_segmap_parloop_struct_130464 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130464->ctx;
    uint64_t futhark_mc_segmap_parloop_130465_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130465_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130464->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130464->free_n_114105;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_130464->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130464->free_bytes_121048;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_segmap_parloop_struct_130464->free_mem_122544,
                                  .size =0, .references =NULL};
    struct memblock mem_122566 = {.desc ="mem_122566", .mem =
                                  futhark_mc_segmap_parloop_struct_130464->free_mem_122566,
                                  .size =0, .references =NULL};
    size_t mem_122550_cached_sizze_130466 = 0;
    char *mem_122550 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129314 = start;
    
    if (mem_122550_cached_sizze_130466 < (size_t) bytes_121048) {
        mem_122550 = realloc(mem_122550, bytes_121048);
        mem_122550_cached_sizze_130466 = bytes_121048;
    }
    for (; iter_129314 < end; iter_129314++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129325 = m_114104;
        int64_t gtid_120087 = iter_129314;
        int64_t remnant_129326 = iter_129314 - gtid_120087;
        
        for (int64_t i_129315 = 0; i_129315 < n_114105; i_129315++) {
            int64_t x_129317 = ((int64_t *) mem_121044.mem)[gtid_120087 *
                                                            n_114105 +
                                                            i_129315];
            bool cond_129318 = sle64((int64_t) 0, x_129317);
            float defunc_0_f_res_129319;
            
            if (cond_129318) {
                bool y_129320 = slt64(x_129317, n_114105);
                bool bounds_check_129321 = cond_129318 && y_129320;
                bool index_certs_129322;
                
                if (!bounds_check_129321) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Index [", (long long) x_129317,
                                  "] out of bounds for array of shape [",
                                  (long long) n_114105, "].",
                                  "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:301:21-49\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:299:13-302:35\n   #6  stl.fut:365:3-376:33\n   #7  stl.fut:352:1-376:33\n");
                    return 1;
                }
                
                float defunc_0_f_res_t_res_129323 =
                      ((float *) mem_122544.mem)[gtid_120087 * n_114105 +
                                                 x_129317];
                
                defunc_0_f_res_129319 = defunc_0_f_res_t_res_129323;
            } else {
                defunc_0_f_res_129319 = INFINITY;
            }
            ((float *) mem_122550)[i_129315] = defunc_0_f_res_129319;
        }
        memmove(mem_122566.mem + gtid_120087 * n_114105 * (int64_t) 4,
                mem_122550 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122550);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130465_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130465_end -
                 futhark_mc_segmap_parloop_130465_start;
        
        ctx->futhark_mc_segmap_parloop_130465_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130465_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130465_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130463(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120086 = tid;
    int num_tasks_129313 = info.nsubtasks;
    struct futhark_mc_task_130462 *futhark_mc_task_130462 =
                                  (struct futhark_mc_task_130462 *) args;
    struct futhark_context *ctx = futhark_mc_task_130462->ctx;
    uint64_t futhark_mc_segmap_task_130463_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130463_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130462->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130462->free_n_114105;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_130462->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t bytes_121048 = futhark_mc_task_130462->free_bytes_121048;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_task_130462->free_mem_122544,
                                  .size =0, .references =NULL};
    struct memblock mem_122566 = {.desc ="mem_122566", .mem =
                                  futhark_mc_task_130462->free_mem_122566,
                                  .size =0, .references =NULL};
    int64_t iter_129314;
    struct futhark_mc_segmap_parloop_struct_130464
    futhark_mc_segmap_parloop_struct_130464;
    
    futhark_mc_segmap_parloop_struct_130464.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130464.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130464.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130464.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_130464.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130464.free_mem_122544 = mem_122544.mem;
    futhark_mc_segmap_parloop_struct_130464.free_mem_122566 = mem_122566.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130465_task;
    
    futhark_mc_segmap_parloop_130465_task.name =
        "futhark_mc_segmap_parloop_130465";
    futhark_mc_segmap_parloop_130465_task.fn = futhark_mc_segmap_parloop_130465;
    futhark_mc_segmap_parloop_130465_task.args =
        &futhark_mc_segmap_parloop_struct_130464;
    futhark_mc_segmap_parloop_130465_task.iterations = iterations;
    futhark_mc_segmap_parloop_130465_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130465_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130465_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130465_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130465_task);
    
    if (futhark_mc_segmap_parloop_130465_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130465_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130465_total_end -
                 futhark_mc_segmap_parloop_130465_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130465_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130465_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130465_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130463_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130463_end -
                 futhark_mc_segmap_task_130463_start;
        
        ctx->futhark_mc_segmap_task_130463_runs[tid]++;
        ctx->futhark_mc_segmap_task_130463_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130463_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130468 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_mem_121044;
    int64_t free_bytes_121048;
    char *free_mem_122544;
    char *free_mem_122566;
};
struct futhark_mc_task_130471 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_120089;
    char *free_mem_121044;
    char *free_mem_122544;
    char *free_mem_122547;
};
struct futhark_mc_segmap_parloop_struct_130473 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_120089;
    char *free_mem_121044;
    char *free_mem_122544;
    char *free_mem_122547;
};
static int futhark_mc_segmap_parloop_130474(void *args, int64_t start,
                                            int64_t end, int flat_tid_120090,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130473
    *futhark_mc_segmap_parloop_struct_130473 =
    (struct futhark_mc_segmap_parloop_struct_130473 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130473->ctx;
    uint64_t futhark_mc_segmap_parloop_130474_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130474_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130473->free_n_114105;
    int64_t gtid_120089 =
            futhark_mc_segmap_parloop_struct_130473->free_gtid_120089;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_130473->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_segmap_parloop_struct_130473->free_mem_122544,
                                  .size =0, .references =NULL};
    struct memblock mem_122547 = {.desc ="mem_122547", .mem =
                                  futhark_mc_segmap_parloop_struct_130473->free_mem_122547,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129339 = start;
    
    for (; iter_129339 < end; iter_129339++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129344 = n_114105;
        int64_t gtid_120091 = iter_129339;
        int64_t remnant_129345 = iter_129339 - gtid_120091;
        int64_t x_129329 = ((int64_t *) mem_121044.mem)[gtid_120089 * n_114105 +
                                                        gtid_120091];
        bool cond_129330 = sle64((int64_t) 0, x_129329);
        float defunc_0_f_res_129331;
        
        if (cond_129330) {
            bool y_129340 = slt64(x_129329, n_114105);
            bool bounds_check_129341 = cond_129330 && y_129340;
            bool index_certs_129342;
            
            if (!bounds_check_129341) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) x_129329,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  utils.fut:18:29-33\n   #1  utils.fut:18:3-49\n   #2  stl.fut:301:21-49\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:299:13-302:35\n   #6  stl.fut:365:3-376:33\n   #7  stl.fut:352:1-376:33\n");
                return 1;
            }
            
            float defunc_0_f_res_t_res_129343 =
                  ((float *) mem_122544.mem)[gtid_120089 * n_114105 + x_129329];
            
            defunc_0_f_res_129331 = defunc_0_f_res_t_res_129343;
        } else {
            defunc_0_f_res_129331 = INFINITY;
        }
        ((float *) mem_122547.mem)[gtid_120091] = defunc_0_f_res_129331;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130474_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130474_end -
                 futhark_mc_segmap_parloop_130474_start;
        
        ctx->futhark_mc_segmap_parloop_130474_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130474_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130474_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130472(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120090 = tid;
    int num_tasks_129338 = info.nsubtasks;
    struct futhark_mc_task_130471 *futhark_mc_task_130471 =
                                  (struct futhark_mc_task_130471 *) args;
    struct futhark_context *ctx = futhark_mc_task_130471->ctx;
    uint64_t futhark_mc_segmap_task_130472_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130472_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130471->free_n_114105;
    int64_t gtid_120089 = futhark_mc_task_130471->free_gtid_120089;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_130471->free_mem_121044,
                                  .size =0, .references =NULL};
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_task_130471->free_mem_122544,
                                  .size =0, .references =NULL};
    struct memblock mem_122547 = {.desc ="mem_122547", .mem =
                                  futhark_mc_task_130471->free_mem_122547,
                                  .size =0, .references =NULL};
    int64_t iter_129339;
    struct futhark_mc_segmap_parloop_struct_130473
    futhark_mc_segmap_parloop_struct_130473;
    
    futhark_mc_segmap_parloop_struct_130473.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130473.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130473.free_gtid_120089 = gtid_120089;
    futhark_mc_segmap_parloop_struct_130473.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_130473.free_mem_122544 = mem_122544.mem;
    futhark_mc_segmap_parloop_struct_130473.free_mem_122547 = mem_122547.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130474_task;
    
    futhark_mc_segmap_parloop_130474_task.name =
        "futhark_mc_segmap_parloop_130474";
    futhark_mc_segmap_parloop_130474_task.fn = futhark_mc_segmap_parloop_130474;
    futhark_mc_segmap_parloop_130474_task.args =
        &futhark_mc_segmap_parloop_struct_130473;
    futhark_mc_segmap_parloop_130474_task.iterations = iterations;
    futhark_mc_segmap_parloop_130474_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130474_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130474_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130474_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130474_task);
    
    if (futhark_mc_segmap_parloop_130474_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130474_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130474_total_end -
                 futhark_mc_segmap_parloop_130474_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130474_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130474_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130474_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130472_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130472_end -
                 futhark_mc_segmap_task_130472_start;
        
        ctx->futhark_mc_segmap_task_130472_runs[tid]++;
        ctx->futhark_mc_segmap_task_130472_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130472_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130469(void *args, int64_t start,
                                            int64_t end, int flat_tid_120088,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130468
    *futhark_mc_segmap_parloop_struct_130468 =
    (struct futhark_mc_segmap_parloop_struct_130468 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130468->ctx;
    uint64_t futhark_mc_segmap_parloop_130469_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130469_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130468->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130468->free_n_114105;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_segmap_parloop_struct_130468->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130468->free_bytes_121048;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_segmap_parloop_struct_130468->free_mem_122544,
                                  .size =0, .references =NULL};
    struct memblock mem_122566 = {.desc ="mem_122566", .mem =
                                  futhark_mc_segmap_parloop_struct_130468->free_mem_122566,
                                  .size =0, .references =NULL};
    size_t mem_122547_cached_sizze_130470 = 0;
    char *mem_122547 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129328 = start;
    
    if (mem_122547_cached_sizze_130470 < (size_t) bytes_121048) {
        mem_122547 = realloc(mem_122547, bytes_121048);
        mem_122547_cached_sizze_130470 = bytes_121048;
    }
    for (; iter_129328 < end; iter_129328++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129336 = m_114104;
        int64_t gtid_120089 = iter_129328;
        int64_t remnant_129337 = iter_129328 - gtid_120089;
        int64_t flat_tid_120090 = (int64_t) 0;
        int32_t num_tasks_129338;
        struct futhark_mc_task_130471 futhark_mc_task_130471;
        
        futhark_mc_task_130471.ctx = ctx;
        futhark_mc_task_130471.free_n_114105 = n_114105;
        futhark_mc_task_130471.free_gtid_120089 = gtid_120089;
        futhark_mc_task_130471.free_mem_121044 = mem_121044.mem;
        futhark_mc_task_130471.free_mem_122544 = mem_122544.mem;
        futhark_mc_task_130471.free_mem_122547 = mem_122547;
        
        struct scheduler_segop futhark_mc_task_130471_task;
        
        futhark_mc_task_130471_task.args = &futhark_mc_task_130471;
        futhark_mc_task_130471_task.top_level_fn =
            futhark_mc_segmap_task_130472;
        futhark_mc_task_130471_task.name = "futhark_mc_segmap_task_130472";
        futhark_mc_task_130471_task.iterations = n_114105;
        futhark_mc_task_130471_task.task_time =
            &ctx->futhark_mc_segmap_task_130472_total_time;
        futhark_mc_task_130471_task.task_iter =
            &ctx->futhark_mc_segmap_task_130472_total_iter;
        futhark_mc_task_130471_task.sched = STATIC;
        futhark_mc_task_130471_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_130472_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130471_task);
        
        if (futhark_mc_segmap_task_130472_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_122566.mem + gtid_120089 * n_114105 * (int64_t) 4,
                mem_122547 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122547);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130469_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130469_end -
                 futhark_mc_segmap_parloop_130469_start;
        
        ctx->futhark_mc_segmap_parloop_130469_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130469_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130469_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130467(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120088 = tid;
    int num_tasks_129313 = info.nsubtasks;
    struct futhark_mc_task_130462 *futhark_mc_task_130462 =
                                  (struct futhark_mc_task_130462 *) args;
    struct futhark_context *ctx = futhark_mc_task_130462->ctx;
    uint64_t futhark_mc_segmap_nested_task_130467_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130467_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130462->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130462->free_n_114105;
    struct memblock mem_121044 = {.desc ="mem_121044", .mem =
                                  futhark_mc_task_130462->free_mem_121044,
                                  .size =0, .references =NULL};
    int64_t bytes_121048 = futhark_mc_task_130462->free_bytes_121048;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_task_130462->free_mem_122544,
                                  .size =0, .references =NULL};
    struct memblock mem_122566 = {.desc ="mem_122566", .mem =
                                  futhark_mc_task_130462->free_mem_122566,
                                  .size =0, .references =NULL};
    int64_t iter_129328;
    struct futhark_mc_segmap_parloop_struct_130468
    futhark_mc_segmap_parloop_struct_130468;
    
    futhark_mc_segmap_parloop_struct_130468.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130468.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130468.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130468.free_mem_121044 = mem_121044.mem;
    futhark_mc_segmap_parloop_struct_130468.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130468.free_mem_122544 = mem_122544.mem;
    futhark_mc_segmap_parloop_struct_130468.free_mem_122566 = mem_122566.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130469_task;
    
    futhark_mc_segmap_parloop_130469_task.name =
        "futhark_mc_segmap_parloop_130469";
    futhark_mc_segmap_parloop_130469_task.fn = futhark_mc_segmap_parloop_130469;
    futhark_mc_segmap_parloop_130469_task.args =
        &futhark_mc_segmap_parloop_struct_130468;
    futhark_mc_segmap_parloop_130469_task.iterations = iterations;
    futhark_mc_segmap_parloop_130469_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130469_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130469_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130469_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130469_task);
    
    if (futhark_mc_segmap_parloop_130469_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130469_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130469_total_end -
                 futhark_mc_segmap_parloop_130469_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130469_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130469_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130469_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130467_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130467_end -
                 futhark_mc_segmap_nested_task_130467_start;
        
        ctx->futhark_mc_segmap_nested_task_130467_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130467_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130467_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130475 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_i_114181;
    int32_t free_iters_116111;
    int64_t free_bytes_121005;
    int64_t free_bytes_121048;
    char *free_mem_122566;
    char *free_mem_122720;
    int64_t free_double_buffer_sizze_122874;
    int64_t free_double_buffer_sizze_122878;
};
struct futhark_mc_segmap_parloop_struct_130477 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_i_114181;
    int32_t free_iters_116111;
    int64_t free_bytes_121005;
    int64_t free_bytes_121048;
    char *free_mem_122566;
    char *free_mem_122720;
    int64_t free_double_buffer_sizze_122878;
};
static int futhark_mc_segmap_parloop_130478(void *args, int64_t start,
                                            int64_t end, int flat_tid_120102,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130477
    *futhark_mc_segmap_parloop_struct_130477 =
    (struct futhark_mc_segmap_parloop_struct_130477 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130477->ctx;
    uint64_t futhark_mc_segmap_parloop_130478_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130478_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130477->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130477->free_n_114105;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130477->free_i_114181;
    int32_t iters_116111 =
            futhark_mc_segmap_parloop_struct_130477->free_iters_116111;
    int64_t bytes_121005 =
            futhark_mc_segmap_parloop_struct_130477->free_bytes_121005;
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130477->free_bytes_121048;
    struct memblock mem_122566 = {.desc ="mem_122566", .mem =
                                  futhark_mc_segmap_parloop_struct_130477->free_mem_122566,
                                  .size =0, .references =NULL};
    struct memblock mem_122720 = {.desc ="mem_122720", .mem =
                                  futhark_mc_segmap_parloop_struct_130477->free_mem_122720,
                                  .size =0, .references =NULL};
    int64_t double_buffer_sizze_122878 =
            futhark_mc_segmap_parloop_struct_130477->free_double_buffer_sizze_122878;
    size_t mem_122624_cached_sizze_130479 = 0;
    char *mem_122624 = NULL;
    size_t mem_122627_cached_sizze_130480 = 0;
    char *mem_122627 = NULL;
    size_t mem_122630_cached_sizze_130481 = 0;
    char *mem_122630 = NULL;
    size_t mem_122633_cached_sizze_130482 = 0;
    char *mem_122633 = NULL;
    size_t mem_122636_cached_sizze_130483 = 0;
    char *mem_122636 = NULL;
    size_t mem_122699_cached_sizze_130484 = 0;
    char *mem_122699 = NULL;
    size_t double_buffer_mem_122876_cached_sizze_130485 = 0;
    char *double_buffer_mem_122876 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129347 = start;
    
    if (mem_122624_cached_sizze_130479 < (size_t) bytes_121005) {
        mem_122624 = realloc(mem_122624, bytes_121005);
        mem_122624_cached_sizze_130479 = bytes_121005;
    }
    if (mem_122627_cached_sizze_130480 < (size_t) bytes_121005) {
        mem_122627 = realloc(mem_122627, bytes_121005);
        mem_122627_cached_sizze_130480 = bytes_121005;
    }
    if (mem_122630_cached_sizze_130481 < (size_t) bytes_121005) {
        mem_122630 = realloc(mem_122630, bytes_121005);
        mem_122630_cached_sizze_130481 = bytes_121005;
    }
    if (mem_122633_cached_sizze_130482 < (size_t) bytes_121005) {
        mem_122633 = realloc(mem_122633, bytes_121005);
        mem_122633_cached_sizze_130482 = bytes_121005;
    }
    if (mem_122636_cached_sizze_130483 < (size_t) bytes_121048) {
        mem_122636 = realloc(mem_122636, bytes_121048);
        mem_122636_cached_sizze_130483 = bytes_121048;
    }
    if (double_buffer_mem_122876_cached_sizze_130485 <
        (size_t) double_buffer_sizze_122878) {
        double_buffer_mem_122876 = realloc(double_buffer_mem_122876,
                                           double_buffer_sizze_122878);
        double_buffer_mem_122876_cached_sizze_130485 =
            double_buffer_sizze_122878;
    }
    if (mem_122699_cached_sizze_130484 < (size_t) bytes_121048) {
        mem_122699 = realloc(mem_122699, bytes_121048);
        mem_122699_cached_sizze_130484 = bytes_121048;
    }
    for (; iter_129347 < end; iter_129347++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129451 = m_114104;
        int64_t gtid_120103 = iter_129347;
        int64_t remnant_129452 = iter_129347 - gtid_120103;
        
        memmove(double_buffer_mem_122876 + (int64_t) 0, mem_122566.mem +
                gtid_120103 * n_114105 * (int64_t) 4, n_114105 * (int64_t) 4);
        for (int32_t i_129348 = 0; i_129348 < iters_116111; i_129348++) {
            int32_t defunc_2_radix_sort_step_arg_129350 = mul32(2, i_129348);
            int32_t defunc_0_get_bit_arg_129351 = add32(1,
                                                        defunc_2_radix_sort_step_arg_129350);
            bool cond_f_res_129352 = defunc_0_get_bit_arg_129351 == 31;
            bool cond_f_res_129353 = defunc_2_radix_sort_step_arg_129350 == 31;
            int64_t discard_129359;
            int64_t discard_129360;
            int64_t discard_129361;
            int64_t discard_129362;
            int64_t scanacc_129369;
            int64_t scanacc_129370;
            int64_t scanacc_129371;
            int64_t scanacc_129372;
            
            scanacc_129369 = (int64_t) 0;
            scanacc_129370 = (int64_t) 0;
            scanacc_129371 = (int64_t) 0;
            scanacc_129372 = (int64_t) 0;
            for (int64_t i_129368 = 0; i_129368 < n_114105; i_129368++) {
                float x_129378 = ((float *) double_buffer_mem_122876)[i_129368];
                int32_t i32_arg_129379;
                
                i32_arg_129379 = futrts_to_bits32(x_129378);
                
                int32_t unsign_arg_129380 = ashr32(i32_arg_129379,
                                                   defunc_0_get_bit_arg_129351);
                int32_t unsign_arg_129381 = 1 & unsign_arg_129380;
                int32_t unsign_arg_129382 = ashr32(i32_arg_129379, 31);
                int32_t unsign_arg_129383 = 1 & unsign_arg_129382;
                bool cond_129384 = unsign_arg_129383 == 1;
                bool x_129385 = !cond_129384;
                bool y_129386 = cond_f_res_129352 && x_129385;
                bool cond_129387 = cond_129384 || y_129386;
                int32_t defunc_1_get_bit_res_129388;
                
                if (cond_129387) {
                    int32_t defunc_1_get_bit_res_t_res_129389 = 1 ^
                            unsign_arg_129381;
                    
                    defunc_1_get_bit_res_129388 =
                        defunc_1_get_bit_res_t_res_129389;
                } else {
                    defunc_1_get_bit_res_129388 = unsign_arg_129381;
                }
                
                int32_t x_129390 = mul32(2, defunc_1_get_bit_res_129388);
                int32_t unsign_arg_129391 = ashr32(i32_arg_129379,
                                                   defunc_2_radix_sort_step_arg_129350);
                int32_t unsign_arg_129392 = 1 & unsign_arg_129391;
                bool y_129393 = cond_f_res_129353 && x_129385;
                bool cond_129394 = cond_129384 || y_129393;
                int32_t defunc_1_get_bit_res_129395;
                
                if (cond_129394) {
                    int32_t defunc_1_get_bit_res_t_res_129396 = 1 ^
                            unsign_arg_129392;
                    
                    defunc_1_get_bit_res_129395 =
                        defunc_1_get_bit_res_t_res_129396;
                } else {
                    defunc_1_get_bit_res_129395 = unsign_arg_129392;
                }
                
                int32_t defunc_0_f_res_129397 = add32(x_129390,
                                                      defunc_1_get_bit_res_129395);
                bool cond_129398 = defunc_0_f_res_129397 == 0;
                int64_t defunc_0_f_res_129399 = btoi_bool_i64(cond_129398);
                int64_t defunc_0_f_res_129400;
                int64_t defunc_0_f_res_129401;
                int64_t defunc_0_f_res_129402;
                
                if (cond_129398) {
                    defunc_0_f_res_129400 = (int64_t) 0;
                    defunc_0_f_res_129401 = (int64_t) 0;
                    defunc_0_f_res_129402 = (int64_t) 0;
                } else {
                    bool cond_129403 = defunc_0_f_res_129397 == 1;
                    int64_t defunc_0_f_res_f_res_129404 =
                            btoi_bool_i64(cond_129403);
                    int64_t defunc_0_f_res_f_res_129405;
                    int64_t defunc_0_f_res_f_res_129406;
                    
                    if (cond_129403) {
                        defunc_0_f_res_f_res_129405 = (int64_t) 0;
                        defunc_0_f_res_f_res_129406 = (int64_t) 0;
                    } else {
                        bool cond_129407 = defunc_0_f_res_129397 == 2;
                        int64_t defunc_0_f_res_f_res_f_res_129408 =
                                btoi_bool_i64(cond_129407);
                        bool cond_neg_129409 = !cond_129407;
                        int64_t defunc_0_f_res_f_res_f_res_129410 =
                                btoi_bool_i64(cond_neg_129409);
                        
                        defunc_0_f_res_f_res_129405 =
                            defunc_0_f_res_f_res_f_res_129408;
                        defunc_0_f_res_f_res_129406 =
                            defunc_0_f_res_f_res_f_res_129410;
                    }
                    defunc_0_f_res_129400 = defunc_0_f_res_f_res_129404;
                    defunc_0_f_res_129401 = defunc_0_f_res_f_res_129405;
                    defunc_0_f_res_129402 = defunc_0_f_res_f_res_129406;
                }
                
                int64_t defunc_1_op_res_129411 = add64(defunc_0_f_res_129399,
                                                       scanacc_129369);
                int64_t defunc_1_op_res_129412 = add64(defunc_0_f_res_129400,
                                                       scanacc_129370);
                int64_t defunc_1_op_res_129413 = add64(defunc_0_f_res_129401,
                                                       scanacc_129371);
                int64_t defunc_1_op_res_129414 = add64(defunc_0_f_res_129402,
                                                       scanacc_129372);
                
                ((int64_t *) mem_122624)[i_129368] = defunc_1_op_res_129411;
                ((int64_t *) mem_122627)[i_129368] = defunc_1_op_res_129412;
                ((int64_t *) mem_122630)[i_129368] = defunc_1_op_res_129413;
                ((int64_t *) mem_122633)[i_129368] = defunc_1_op_res_129414;
                ((int32_t *) mem_122636)[i_129368] = defunc_0_f_res_129397;
                
                int64_t scanacc_tmp_129454 = defunc_1_op_res_129411;
                int64_t scanacc_tmp_129455 = defunc_1_op_res_129412;
                int64_t scanacc_tmp_129456 = defunc_1_op_res_129413;
                int64_t scanacc_tmp_129457 = defunc_1_op_res_129414;
                
                scanacc_129369 = scanacc_tmp_129454;
                scanacc_129370 = scanacc_tmp_129455;
                scanacc_129371 = scanacc_tmp_129456;
                scanacc_129372 = scanacc_tmp_129457;
            }
            discard_129359 = scanacc_129369;
            discard_129360 = scanacc_129370;
            discard_129361 = scanacc_129371;
            discard_129362 = scanacc_129372;
            
            int64_t last_res_129420 = ((int64_t *) mem_122624)[i_114181];
            int64_t last_res_129421 = ((int64_t *) mem_122627)[i_114181];
            int64_t last_res_129422 = ((int64_t *) mem_122630)[i_114181];
            
            memmove(mem_122699 + (int64_t) 0, double_buffer_mem_122876 +
                    (int64_t) 0, n_114105 * (int64_t) 4);
            for (int64_t write_iter_129425 = 0; write_iter_129425 < n_114105;
                 write_iter_129425++) {
                int32_t write_iv_129427 =
                        ((int32_t *) mem_122636)[write_iter_129425];
                bool match_lit_129428 = 0 == write_iv_129427;
                int64_t defunc_1_f_res_129429;
                
                if (match_lit_129428) {
                    int64_t write_iv_129430 =
                            ((int64_t *) mem_122624)[write_iter_129425];
                    int64_t case_res_129431 = sub64(write_iv_129430,
                                                    (int64_t) 1);
                    
                    defunc_1_f_res_129429 = case_res_129431;
                } else {
                    bool match_lit_129432 = 1 == write_iv_129427;
                    int64_t x_129433;
                    
                    if (match_lit_129432) {
                        int64_t write_iv_129434 =
                                ((int64_t *) mem_122627)[write_iter_129425];
                        int64_t x_129435 = add64(last_res_129420,
                                                 write_iv_129434);
                        int64_t case_res_129436 = sub64(x_129435, (int64_t) 1);
                        
                        x_129433 = case_res_129436;
                    } else {
                        bool match_lit_129437 = 2 == write_iv_129427;
                        int64_t x_129438;
                        
                        if (match_lit_129437) {
                            int64_t write_iv_129439 =
                                    ((int64_t *) mem_122630)[write_iter_129425];
                            int64_t x_129440 = add64(last_res_129420,
                                                     last_res_129421);
                            int64_t x_129441 = add64(x_129440, write_iv_129439);
                            int64_t case_res_129442 = sub64(x_129441,
                                                            (int64_t) 1);
                            
                            x_129438 = case_res_129442;
                        } else {
                            int64_t write_iv_129443 =
                                    ((int64_t *) mem_122633)[write_iter_129425];
                            int64_t x_129444 = add64(last_res_129420,
                                                     last_res_129421);
                            int64_t x_129445 = add64(last_res_129422, x_129444);
                            int64_t x_129446 = add64(x_129445, write_iv_129443);
                            int64_t defunc_1_f_res_res_129447 = sub64(x_129446,
                                                                      (int64_t) 1);
                            
                            x_129438 = defunc_1_f_res_res_129447;
                        }
                        x_129433 = x_129438;
                    }
                    defunc_1_f_res_129429 = x_129433;
                }
                if (sle64((int64_t) 0, defunc_1_f_res_129429) &&
                    slt64(defunc_1_f_res_129429, n_114105)) {
                    memmove(mem_122699 + defunc_1_f_res_129429 * (int64_t) 4,
                            double_buffer_mem_122876 + write_iter_129425 *
                            (int64_t) 4, (int64_t) 4);
                }
            }
            memmove(double_buffer_mem_122876 + (int64_t) 0, mem_122699 +
                    (int64_t) 0, n_114105 * (int64_t) 4);
        }
        memmove(mem_122720.mem + gtid_120103 * n_114105 * (int64_t) 4,
                double_buffer_mem_122876 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122624);
    free(mem_122627);
    free(mem_122630);
    free(mem_122633);
    free(mem_122636);
    free(mem_122699);
    free(double_buffer_mem_122876);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130478_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130478_end -
                 futhark_mc_segmap_parloop_130478_start;
        
        ctx->futhark_mc_segmap_parloop_130478_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130478_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130478_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130476(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120102 = tid;
    int num_tasks_129346 = info.nsubtasks;
    struct futhark_mc_task_130475 *futhark_mc_task_130475 =
                                  (struct futhark_mc_task_130475 *) args;
    struct futhark_context *ctx = futhark_mc_task_130475->ctx;
    uint64_t futhark_mc_segmap_task_130476_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130476_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130475->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130475->free_n_114105;
    int64_t i_114181 = futhark_mc_task_130475->free_i_114181;
    int32_t iters_116111 = futhark_mc_task_130475->free_iters_116111;
    int64_t bytes_121005 = futhark_mc_task_130475->free_bytes_121005;
    int64_t bytes_121048 = futhark_mc_task_130475->free_bytes_121048;
    struct memblock mem_122566 = {.desc ="mem_122566", .mem =
                                  futhark_mc_task_130475->free_mem_122566,
                                  .size =0, .references =NULL};
    struct memblock mem_122720 = {.desc ="mem_122720", .mem =
                                  futhark_mc_task_130475->free_mem_122720,
                                  .size =0, .references =NULL};
    int64_t double_buffer_sizze_122874 =
            futhark_mc_task_130475->free_double_buffer_sizze_122874;
    int64_t double_buffer_sizze_122878 =
            futhark_mc_task_130475->free_double_buffer_sizze_122878;
    int64_t iter_129347;
    struct futhark_mc_segmap_parloop_struct_130477
    futhark_mc_segmap_parloop_struct_130477;
    
    futhark_mc_segmap_parloop_struct_130477.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130477.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130477.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130477.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130477.free_iters_116111 = iters_116111;
    futhark_mc_segmap_parloop_struct_130477.free_bytes_121005 = bytes_121005;
    futhark_mc_segmap_parloop_struct_130477.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130477.free_mem_122566 = mem_122566.mem;
    futhark_mc_segmap_parloop_struct_130477.free_mem_122720 = mem_122720.mem;
    futhark_mc_segmap_parloop_struct_130477.free_double_buffer_sizze_122878 =
        double_buffer_sizze_122878;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130478_task;
    
    futhark_mc_segmap_parloop_130478_task.name =
        "futhark_mc_segmap_parloop_130478";
    futhark_mc_segmap_parloop_130478_task.fn = futhark_mc_segmap_parloop_130478;
    futhark_mc_segmap_parloop_130478_task.args =
        &futhark_mc_segmap_parloop_struct_130477;
    futhark_mc_segmap_parloop_130478_task.iterations = iterations;
    futhark_mc_segmap_parloop_130478_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130478_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130478_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130478_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130478_task);
    
    if (futhark_mc_segmap_parloop_130478_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130478_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130478_total_end -
                 futhark_mc_segmap_parloop_130478_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130478_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130478_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130478_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130476_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130476_end -
                 futhark_mc_segmap_task_130476_start;
        
        ctx->futhark_mc_segmap_task_130476_runs[tid]++;
        ctx->futhark_mc_segmap_task_130476_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130476_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130487 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_i_114181;
    int32_t free_iters_116111;
    int64_t free_bytes_121005;
    int64_t free_bytes_121048;
    char *free_mem_122566;
    char *free_mem_122720;
    int64_t free_double_buffer_sizze_122874;
};
struct futhark_mc_task_130496 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    char *free_mem_122584;
    char *free_mem_122587;
    char *free_mem_122590;
    char *free_mem_122593;
    char *free_mem_122596;
    char *free_double_buffer_mem_122872;
    int32_t free_defunc_2_radix_sort_step_arg_129467;
    int32_t free_defunc_0_get_bit_arg_129468;
    bool free_cond_f_res_129469;
    bool free_cond_f_res_129470;
};
struct futhark_mc_scan_stage_1_parloop_struct_130502 {
    struct futhark_context *ctx;
    char *free_mem_122584;
    char *free_mem_122587;
    char *free_mem_122590;
    char *free_mem_122593;
    char *free_mem_122596;
    char *free_double_buffer_mem_122872;
    int32_t free_defunc_2_radix_sort_step_arg_129467;
    int32_t free_defunc_0_get_bit_arg_129468;
    bool free_cond_f_res_129469;
    bool free_cond_f_res_129470;
};
static int futhark_mc_scan_stage_1_parloop_130503(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_120106, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_1_parloop_struct_130502
    *futhark_mc_scan_stage_1_parloop_struct_130502 =
    (struct futhark_mc_scan_stage_1_parloop_struct_130502 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_1_parloop_struct_130502->ctx;
    uint64_t futhark_mc_scan_stage_1_parloop_130503_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_130503_start = get_wall_time();
    
    struct memblock mem_122584 = {.desc ="mem_122584", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_130502->free_mem_122584,
                                  .size =0, .references =NULL};
    struct memblock mem_122587 = {.desc ="mem_122587", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_130502->free_mem_122587,
                                  .size =0, .references =NULL};
    struct memblock mem_122590 = {.desc ="mem_122590", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_130502->free_mem_122590,
                                  .size =0, .references =NULL};
    struct memblock mem_122593 = {.desc ="mem_122593", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_130502->free_mem_122593,
                                  .size =0, .references =NULL};
    struct memblock mem_122596 = {.desc ="mem_122596", .mem =
                                  futhark_mc_scan_stage_1_parloop_struct_130502->free_mem_122596,
                                  .size =0, .references =NULL};
    struct memblock double_buffer_mem_122872 = {.desc =
                                                "double_buffer_mem_122872",
                                                .mem =
                                                futhark_mc_scan_stage_1_parloop_struct_130502->free_double_buffer_mem_122872,
                                                .size =0, .references =NULL};
    int32_t defunc_2_radix_sort_step_arg_129467 =
            futhark_mc_scan_stage_1_parloop_struct_130502->free_defunc_2_radix_sort_step_arg_129467;
    int32_t defunc_0_get_bit_arg_129468 =
            futhark_mc_scan_stage_1_parloop_struct_130502->free_defunc_0_get_bit_arg_129468;
    bool cond_f_res_129469 =
         futhark_mc_scan_stage_1_parloop_struct_130502->free_cond_f_res_129469;
    bool cond_f_res_129470 =
         futhark_mc_scan_stage_1_parloop_struct_130502->free_cond_f_res_129470;
    int64_t iterations = end - start;
    int64_t iter_129553 = start;
    int64_t x_129476;
    int64_t x_129477;
    int64_t x_129478;
    int64_t x_129479;
    int64_t x_129480;
    int64_t x_129481;
    int64_t x_129482;
    int64_t x_129483;
    
    x_129476 = (int64_t) 0;
    x_129477 = (int64_t) 0;
    x_129478 = (int64_t) 0;
    x_129479 = (int64_t) 0;
    for (; iter_129553 < end; iter_129553++) {
        int64_t gtid_120107 = iter_129553;
        
        // stage 1 scan body
        {
            float x_129488 =
                  ((float *) double_buffer_mem_122872.mem)[gtid_120107];
            int32_t i32_arg_129489;
            
            i32_arg_129489 = futrts_to_bits32(x_129488);
            
            int32_t unsign_arg_129490 = ashr32(i32_arg_129489,
                                               defunc_0_get_bit_arg_129468);
            int32_t unsign_arg_129491 = 1 & unsign_arg_129490;
            int32_t unsign_arg_129492 = ashr32(i32_arg_129489, 31);
            int32_t unsign_arg_129493 = 1 & unsign_arg_129492;
            bool cond_129494 = unsign_arg_129493 == 1;
            bool x_129495 = !cond_129494;
            bool y_129496 = cond_f_res_129469 && x_129495;
            bool cond_129497 = cond_129494 || y_129496;
            int32_t defunc_1_get_bit_res_129498;
            
            if (cond_129497) {
                int32_t defunc_1_get_bit_res_t_res_129499 = 1 ^
                        unsign_arg_129491;
                
                defunc_1_get_bit_res_129498 = defunc_1_get_bit_res_t_res_129499;
            } else {
                defunc_1_get_bit_res_129498 = unsign_arg_129491;
            }
            
            int32_t x_129500 = mul32(2, defunc_1_get_bit_res_129498);
            int32_t unsign_arg_129501 = ashr32(i32_arg_129489,
                                               defunc_2_radix_sort_step_arg_129467);
            int32_t unsign_arg_129502 = 1 & unsign_arg_129501;
            bool y_129503 = cond_f_res_129470 && x_129495;
            bool cond_129504 = cond_129494 || y_129503;
            int32_t defunc_1_get_bit_res_129505;
            
            if (cond_129504) {
                int32_t defunc_1_get_bit_res_t_res_129506 = 1 ^
                        unsign_arg_129502;
                
                defunc_1_get_bit_res_129505 = defunc_1_get_bit_res_t_res_129506;
            } else {
                defunc_1_get_bit_res_129505 = unsign_arg_129502;
            }
            
            int32_t defunc_0_f_res_129507 = add32(x_129500,
                                                  defunc_1_get_bit_res_129505);
            bool cond_129508 = defunc_0_f_res_129507 == 0;
            int64_t defunc_0_f_res_129509 = btoi_bool_i64(cond_129508);
            int64_t defunc_0_f_res_129510;
            int64_t defunc_0_f_res_129511;
            int64_t defunc_0_f_res_129512;
            
            if (cond_129508) {
                defunc_0_f_res_129510 = (int64_t) 0;
                defunc_0_f_res_129511 = (int64_t) 0;
                defunc_0_f_res_129512 = (int64_t) 0;
            } else {
                bool cond_129513 = defunc_0_f_res_129507 == 1;
                int64_t defunc_0_f_res_f_res_129514 =
                        btoi_bool_i64(cond_129513);
                int64_t defunc_0_f_res_f_res_129515;
                int64_t defunc_0_f_res_f_res_129516;
                
                if (cond_129513) {
                    defunc_0_f_res_f_res_129515 = (int64_t) 0;
                    defunc_0_f_res_f_res_129516 = (int64_t) 0;
                } else {
                    bool cond_129517 = defunc_0_f_res_129507 == 2;
                    int64_t defunc_0_f_res_f_res_f_res_129518 =
                            btoi_bool_i64(cond_129517);
                    bool cond_neg_129519 = !cond_129517;
                    int64_t defunc_0_f_res_f_res_f_res_129520 =
                            btoi_bool_i64(cond_neg_129519);
                    
                    defunc_0_f_res_f_res_129515 =
                        defunc_0_f_res_f_res_f_res_129518;
                    defunc_0_f_res_f_res_129516 =
                        defunc_0_f_res_f_res_f_res_129520;
                }
                defunc_0_f_res_129510 = defunc_0_f_res_f_res_129514;
                defunc_0_f_res_129511 = defunc_0_f_res_f_res_129515;
                defunc_0_f_res_129512 = defunc_0_f_res_f_res_129516;
            }
            // write mapped values results to memory
            {
                ((int32_t *) mem_122596.mem)[gtid_120107] =
                    defunc_0_f_res_129507;
            }
            x_129476 = x_129476;
            x_129477 = x_129477;
            x_129478 = x_129478;
            x_129479 = x_129479;
            // Read next values
            {
                x_129480 = defunc_0_f_res_129509;
                x_129481 = defunc_0_f_res_129510;
                x_129482 = defunc_0_f_res_129511;
                x_129483 = defunc_0_f_res_129512;
            }
            
            int64_t defunc_1_op_res_129484 = add64(x_129476, x_129480);
            int64_t defunc_1_op_res_129485 = add64(x_129477, x_129481);
            int64_t defunc_1_op_res_129486 = add64(x_129478, x_129482);
            int64_t defunc_1_op_res_129487 = add64(x_129479, x_129483);
            
            ((int64_t *) mem_122584.mem)[gtid_120107] = defunc_1_op_res_129484;
            x_129476 = defunc_1_op_res_129484;
            ((int64_t *) mem_122587.mem)[gtid_120107] = defunc_1_op_res_129485;
            x_129477 = defunc_1_op_res_129485;
            ((int64_t *) mem_122590.mem)[gtid_120107] = defunc_1_op_res_129486;
            x_129478 = defunc_1_op_res_129486;
            ((int64_t *) mem_122593.mem)[gtid_120107] = defunc_1_op_res_129487;
            x_129479 = defunc_1_op_res_129487;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_130503_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_130503_end -
                 futhark_mc_scan_stage_1_parloop_130503_start;
        
        ctx->futhark_mc_scan_stage_1_parloop_130503_runs[tid]++;
        ctx->futhark_mc_scan_stage_1_parloop_130503_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_1_parloop_130503_iter[tid] += iterations;
    }
    return err;
}
struct futhark_mc_scan_stage_3_parloop_struct_130504 {
    struct futhark_context *ctx;
    char *free_mem_122584;
    char *free_mem_122587;
    char *free_mem_122590;
    char *free_mem_122593;
    char *free_double_buffer_mem_122872;
    int32_t free_defunc_2_radix_sort_step_arg_129467;
    int32_t free_defunc_0_get_bit_arg_129468;
    bool free_cond_f_res_129469;
    bool free_cond_f_res_129470;
};
static int futhark_mc_scan_stage_3_parloop_130505(void *args, int64_t start,
                                                  int64_t end,
                                                  int flat_tid_120106, int tid)
{
    int err = 0;
    struct futhark_mc_scan_stage_3_parloop_struct_130504
    *futhark_mc_scan_stage_3_parloop_struct_130504 =
    (struct futhark_mc_scan_stage_3_parloop_struct_130504 *) args;
    struct futhark_context *ctx =
                           futhark_mc_scan_stage_3_parloop_struct_130504->ctx;
    uint64_t futhark_mc_scan_stage_3_parloop_130505_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_3_parloop_130505_start = get_wall_time();
    
    struct memblock mem_122584 = {.desc ="mem_122584", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_130504->free_mem_122584,
                                  .size =0, .references =NULL};
    struct memblock mem_122587 = {.desc ="mem_122587", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_130504->free_mem_122587,
                                  .size =0, .references =NULL};
    struct memblock mem_122590 = {.desc ="mem_122590", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_130504->free_mem_122590,
                                  .size =0, .references =NULL};
    struct memblock mem_122593 = {.desc ="mem_122593", .mem =
                                  futhark_mc_scan_stage_3_parloop_struct_130504->free_mem_122593,
                                  .size =0, .references =NULL};
    struct memblock double_buffer_mem_122872 = {.desc =
                                                "double_buffer_mem_122872",
                                                .mem =
                                                futhark_mc_scan_stage_3_parloop_struct_130504->free_double_buffer_mem_122872,
                                                .size =0, .references =NULL};
    int32_t defunc_2_radix_sort_step_arg_129467 =
            futhark_mc_scan_stage_3_parloop_struct_130504->free_defunc_2_radix_sort_step_arg_129467;
    int32_t defunc_0_get_bit_arg_129468 =
            futhark_mc_scan_stage_3_parloop_struct_130504->free_defunc_0_get_bit_arg_129468;
    bool cond_f_res_129469 =
         futhark_mc_scan_stage_3_parloop_struct_130504->free_cond_f_res_129469;
    bool cond_f_res_129470 =
         futhark_mc_scan_stage_3_parloop_struct_130504->free_cond_f_res_129470;
    int64_t iterations = end - start;
    int64_t iter_129589 = start;
    int64_t x_129577;
    int64_t x_129578;
    int64_t x_129579;
    int64_t x_129580;
    int64_t x_129581;
    int64_t x_129582;
    int64_t x_129583;
    int64_t x_129584;
    
    if (iter_129589 == (int64_t) 0) {
        x_129577 = (int64_t) 0;
    } else {
        x_129577 = ((int64_t *) mem_122584.mem)[iter_129589 - (int64_t) 1];
    }
    if (iter_129589 == (int64_t) 0) {
        x_129578 = (int64_t) 0;
    } else {
        x_129578 = ((int64_t *) mem_122587.mem)[iter_129589 - (int64_t) 1];
    }
    if (iter_129589 == (int64_t) 0) {
        x_129579 = (int64_t) 0;
    } else {
        x_129579 = ((int64_t *) mem_122590.mem)[iter_129589 - (int64_t) 1];
    }
    if (iter_129589 == (int64_t) 0) {
        x_129580 = (int64_t) 0;
    } else {
        x_129580 = ((int64_t *) mem_122593.mem)[iter_129589 - (int64_t) 1];
    }
    for (; iter_129589 < end; iter_129589++) {
        int64_t gtid_120107 = iter_129589;
        
        // stage 3 scan body
        {
            float x_129488 =
                  ((float *) double_buffer_mem_122872.mem)[gtid_120107];
            int32_t i32_arg_129489;
            
            i32_arg_129489 = futrts_to_bits32(x_129488);
            
            int32_t unsign_arg_129490 = ashr32(i32_arg_129489,
                                               defunc_0_get_bit_arg_129468);
            int32_t unsign_arg_129491 = 1 & unsign_arg_129490;
            int32_t unsign_arg_129492 = ashr32(i32_arg_129489, 31);
            int32_t unsign_arg_129493 = 1 & unsign_arg_129492;
            bool cond_129494 = unsign_arg_129493 == 1;
            bool x_129495 = !cond_129494;
            bool y_129496 = cond_f_res_129469 && x_129495;
            bool cond_129497 = cond_129494 || y_129496;
            int32_t defunc_1_get_bit_res_129498;
            
            if (cond_129497) {
                int32_t defunc_1_get_bit_res_t_res_129499 = 1 ^
                        unsign_arg_129491;
                
                defunc_1_get_bit_res_129498 = defunc_1_get_bit_res_t_res_129499;
            } else {
                defunc_1_get_bit_res_129498 = unsign_arg_129491;
            }
            
            int32_t x_129500 = mul32(2, defunc_1_get_bit_res_129498);
            int32_t unsign_arg_129501 = ashr32(i32_arg_129489,
                                               defunc_2_radix_sort_step_arg_129467);
            int32_t unsign_arg_129502 = 1 & unsign_arg_129501;
            bool y_129503 = cond_f_res_129470 && x_129495;
            bool cond_129504 = cond_129494 || y_129503;
            int32_t defunc_1_get_bit_res_129505;
            
            if (cond_129504) {
                int32_t defunc_1_get_bit_res_t_res_129506 = 1 ^
                        unsign_arg_129502;
                
                defunc_1_get_bit_res_129505 = defunc_1_get_bit_res_t_res_129506;
            } else {
                defunc_1_get_bit_res_129505 = unsign_arg_129502;
            }
            
            int32_t defunc_0_f_res_129507 = add32(x_129500,
                                                  defunc_1_get_bit_res_129505);
            bool cond_129508 = defunc_0_f_res_129507 == 0;
            int64_t defunc_0_f_res_129509 = btoi_bool_i64(cond_129508);
            int64_t defunc_0_f_res_129510;
            int64_t defunc_0_f_res_129511;
            int64_t defunc_0_f_res_129512;
            
            if (cond_129508) {
                defunc_0_f_res_129510 = (int64_t) 0;
                defunc_0_f_res_129511 = (int64_t) 0;
                defunc_0_f_res_129512 = (int64_t) 0;
            } else {
                bool cond_129513 = defunc_0_f_res_129507 == 1;
                int64_t defunc_0_f_res_f_res_129514 =
                        btoi_bool_i64(cond_129513);
                int64_t defunc_0_f_res_f_res_129515;
                int64_t defunc_0_f_res_f_res_129516;
                
                if (cond_129513) {
                    defunc_0_f_res_f_res_129515 = (int64_t) 0;
                    defunc_0_f_res_f_res_129516 = (int64_t) 0;
                } else {
                    bool cond_129517 = defunc_0_f_res_129507 == 2;
                    int64_t defunc_0_f_res_f_res_f_res_129518 =
                            btoi_bool_i64(cond_129517);
                    bool cond_neg_129519 = !cond_129517;
                    int64_t defunc_0_f_res_f_res_f_res_129520 =
                            btoi_bool_i64(cond_neg_129519);
                    
                    defunc_0_f_res_f_res_129515 =
                        defunc_0_f_res_f_res_f_res_129518;
                    defunc_0_f_res_f_res_129516 =
                        defunc_0_f_res_f_res_f_res_129520;
                }
                defunc_0_f_res_129510 = defunc_0_f_res_f_res_129514;
                defunc_0_f_res_129511 = defunc_0_f_res_f_res_129515;
                defunc_0_f_res_129512 = defunc_0_f_res_f_res_129516;
            }
            x_129577 = x_129577;
            x_129578 = x_129578;
            x_129579 = x_129579;
            x_129580 = x_129580;
            x_129581 = defunc_0_f_res_129509;
            x_129582 = defunc_0_f_res_129510;
            x_129583 = defunc_0_f_res_129511;
            x_129584 = defunc_0_f_res_129512;
            
            int64_t defunc_1_op_res_129585 = add64(x_129577, x_129581);
            int64_t defunc_1_op_res_129586 = add64(x_129578, x_129582);
            int64_t defunc_1_op_res_129587 = add64(x_129579, x_129583);
            int64_t defunc_1_op_res_129588 = add64(x_129580, x_129584);
            
            ((int64_t *) mem_122584.mem)[gtid_120107] = defunc_1_op_res_129585;
            x_129577 = defunc_1_op_res_129585;
            ((int64_t *) mem_122587.mem)[gtid_120107] = defunc_1_op_res_129586;
            x_129578 = defunc_1_op_res_129586;
            ((int64_t *) mem_122590.mem)[gtid_120107] = defunc_1_op_res_129587;
            x_129579 = defunc_1_op_res_129587;
            ((int64_t *) mem_122593.mem)[gtid_120107] = defunc_1_op_res_129588;
            x_129580 = defunc_1_op_res_129588;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_3_parloop_130505_end = get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_3_parloop_130505_end -
                 futhark_mc_scan_stage_3_parloop_130505_start;
        
        ctx->futhark_mc_scan_stage_3_parloop_130505_runs[tid]++;
        ctx->futhark_mc_scan_stage_3_parloop_130505_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_scan_stage_3_parloop_130505_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segscan_task_130497(void *args, int64_t iterations, int tid,
                                   struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120106 = tid;
    int num_tasks_129552 = info.nsubtasks;
    struct futhark_mc_task_130496 *futhark_mc_task_130496 =
                                  (struct futhark_mc_task_130496 *) args;
    struct futhark_context *ctx = futhark_mc_task_130496->ctx;
    uint64_t futhark_mc_segscan_task_130497_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segscan_task_130497_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130496->free_n_114105;
    struct memblock mem_122584 = {.desc ="mem_122584", .mem =
                                  futhark_mc_task_130496->free_mem_122584,
                                  .size =0, .references =NULL};
    struct memblock mem_122587 = {.desc ="mem_122587", .mem =
                                  futhark_mc_task_130496->free_mem_122587,
                                  .size =0, .references =NULL};
    struct memblock mem_122590 = {.desc ="mem_122590", .mem =
                                  futhark_mc_task_130496->free_mem_122590,
                                  .size =0, .references =NULL};
    struct memblock mem_122593 = {.desc ="mem_122593", .mem =
                                  futhark_mc_task_130496->free_mem_122593,
                                  .size =0, .references =NULL};
    struct memblock mem_122596 = {.desc ="mem_122596", .mem =
                                  futhark_mc_task_130496->free_mem_122596,
                                  .size =0, .references =NULL};
    struct memblock double_buffer_mem_122872 = {.desc =
                                                "double_buffer_mem_122872",
                                                .mem =
                                                futhark_mc_task_130496->free_double_buffer_mem_122872,
                                                .size =0, .references =NULL};
    int32_t defunc_2_radix_sort_step_arg_129467 =
            futhark_mc_task_130496->free_defunc_2_radix_sort_step_arg_129467;
    int32_t defunc_0_get_bit_arg_129468 =
            futhark_mc_task_130496->free_defunc_0_get_bit_arg_129468;
    bool cond_f_res_129469 = futhark_mc_task_130496->free_cond_f_res_129469;
    bool cond_f_res_129470 = futhark_mc_task_130496->free_cond_f_res_129470;
    size_t scan_stage_2_accum_mem_129568_cached_sizze_130498 = 0;
    char *scan_stage_2_accum_mem_129568 = NULL;
    size_t scan_stage_2_accum_mem_129570_cached_sizze_130499 = 0;
    char *scan_stage_2_accum_mem_129570 = NULL;
    size_t scan_stage_2_accum_mem_129572_cached_sizze_130500 = 0;
    char *scan_stage_2_accum_mem_129572 = NULL;
    size_t scan_stage_2_accum_mem_129574_cached_sizze_130501 = 0;
    char *scan_stage_2_accum_mem_129574 = NULL;
    int64_t iter_129553;
    struct futhark_mc_scan_stage_1_parloop_struct_130502
    futhark_mc_scan_stage_1_parloop_struct_130502;
    
    futhark_mc_scan_stage_1_parloop_struct_130502.ctx = ctx;
    futhark_mc_scan_stage_1_parloop_struct_130502.free_mem_122584 =
        mem_122584.mem;
    futhark_mc_scan_stage_1_parloop_struct_130502.free_mem_122587 =
        mem_122587.mem;
    futhark_mc_scan_stage_1_parloop_struct_130502.free_mem_122590 =
        mem_122590.mem;
    futhark_mc_scan_stage_1_parloop_struct_130502.free_mem_122593 =
        mem_122593.mem;
    futhark_mc_scan_stage_1_parloop_struct_130502.free_mem_122596 =
        mem_122596.mem;
    futhark_mc_scan_stage_1_parloop_struct_130502.free_double_buffer_mem_122872 =
        double_buffer_mem_122872.mem;
    futhark_mc_scan_stage_1_parloop_struct_130502.free_defunc_2_radix_sort_step_arg_129467 =
        defunc_2_radix_sort_step_arg_129467;
    futhark_mc_scan_stage_1_parloop_struct_130502.free_defunc_0_get_bit_arg_129468 =
        defunc_0_get_bit_arg_129468;
    futhark_mc_scan_stage_1_parloop_struct_130502.free_cond_f_res_129469 =
        cond_f_res_129469;
    futhark_mc_scan_stage_1_parloop_struct_130502.free_cond_f_res_129470 =
        cond_f_res_129470;
    
    struct scheduler_parloop futhark_mc_scan_stage_1_parloop_130503_task;
    
    futhark_mc_scan_stage_1_parloop_130503_task.name =
        "futhark_mc_scan_stage_1_parloop_130503";
    futhark_mc_scan_stage_1_parloop_130503_task.fn =
        futhark_mc_scan_stage_1_parloop_130503;
    futhark_mc_scan_stage_1_parloop_130503_task.args =
        &futhark_mc_scan_stage_1_parloop_struct_130502;
    futhark_mc_scan_stage_1_parloop_130503_task.iterations = iterations;
    futhark_mc_scan_stage_1_parloop_130503_task.info = info;
    
    uint64_t futhark_mc_scan_stage_1_parloop_130503_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_scan_stage_1_parloop_130503_total_start = get_wall_time();
    
    int futhark_mc_scan_stage_1_parloop_130503_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_scan_stage_1_parloop_130503_task);
    
    if (futhark_mc_scan_stage_1_parloop_130503_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_scan_stage_1_parloop_130503_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_scan_stage_1_parloop_130503_total_end -
                 futhark_mc_scan_stage_1_parloop_130503_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_130503_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_130503_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_scan_stage_1_parloop_130503_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (slt32(1, num_tasks_129552)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "nonsegmentedScan stage 2");
        
        int64_t x_129554;
        int64_t x_129555;
        int64_t x_129556;
        int64_t x_129557;
        int64_t x_129558;
        int64_t x_129559;
        int64_t x_129560;
        int64_t x_129561;
        int64_t offset_129566 = (int64_t) 0;
        int64_t offset_index_129567 = (int64_t) 0;
        
        if (scan_stage_2_accum_mem_129568_cached_sizze_130498 <
            (size_t) (int64_t) 8) {
            scan_stage_2_accum_mem_129568 =
                realloc(scan_stage_2_accum_mem_129568, (int64_t) 8);
            scan_stage_2_accum_mem_129568_cached_sizze_130498 = (int64_t) 8;
        }
        if (scan_stage_2_accum_mem_129570_cached_sizze_130499 <
            (size_t) (int64_t) 8) {
            scan_stage_2_accum_mem_129570 =
                realloc(scan_stage_2_accum_mem_129570, (int64_t) 8);
            scan_stage_2_accum_mem_129570_cached_sizze_130499 = (int64_t) 8;
        }
        if (scan_stage_2_accum_mem_129572_cached_sizze_130500 <
            (size_t) (int64_t) 8) {
            scan_stage_2_accum_mem_129572 =
                realloc(scan_stage_2_accum_mem_129572, (int64_t) 8);
            scan_stage_2_accum_mem_129572_cached_sizze_130500 = (int64_t) 8;
        }
        if (scan_stage_2_accum_mem_129574_cached_sizze_130501 <
            (size_t) (int64_t) 8) {
            scan_stage_2_accum_mem_129574 =
                realloc(scan_stage_2_accum_mem_129574, (int64_t) 8);
            scan_stage_2_accum_mem_129574_cached_sizze_130501 = (int64_t) 8;
        }
        ((int64_t *) scan_stage_2_accum_mem_129568)[(int64_t) 0] = (int64_t) 0;
        ((int64_t *) scan_stage_2_accum_mem_129570)[(int64_t) 0] = (int64_t) 0;
        ((int64_t *) scan_stage_2_accum_mem_129572)[(int64_t) 0] = (int64_t) 0;
        ((int64_t *) scan_stage_2_accum_mem_129574)[(int64_t) 0] = (int64_t) 0;
        for (int32_t i_129576 = 0; i_129576 < num_tasks_129552 - 1;
             i_129576++) {
            offset_129566 = squot64(n_114105, sext_i32_i64(num_tasks_129552));
            if (slt64(sext_i32_i64(i_129576), srem64(n_114105,
                                                     sext_i32_i64(num_tasks_129552)))) {
                offset_129566 += (int64_t) 1;
            }
            offset_index_129567 += offset_129566;
            
            int64_t gtid_120107 = offset_index_129567;
            float x_129488 =
                  ((float *) double_buffer_mem_122872.mem)[gtid_120107];
            int32_t i32_arg_129489;
            
            i32_arg_129489 = futrts_to_bits32(x_129488);
            
            int32_t unsign_arg_129490 = ashr32(i32_arg_129489,
                                               defunc_0_get_bit_arg_129468);
            int32_t unsign_arg_129491 = 1 & unsign_arg_129490;
            int32_t unsign_arg_129492 = ashr32(i32_arg_129489, 31);
            int32_t unsign_arg_129493 = 1 & unsign_arg_129492;
            bool cond_129494 = unsign_arg_129493 == 1;
            bool x_129495 = !cond_129494;
            bool y_129496 = cond_f_res_129469 && x_129495;
            bool cond_129497 = cond_129494 || y_129496;
            int32_t defunc_1_get_bit_res_129498;
            
            if (cond_129497) {
                int32_t defunc_1_get_bit_res_t_res_129499 = 1 ^
                        unsign_arg_129491;
                
                defunc_1_get_bit_res_129498 = defunc_1_get_bit_res_t_res_129499;
            } else {
                defunc_1_get_bit_res_129498 = unsign_arg_129491;
            }
            
            int32_t x_129500 = mul32(2, defunc_1_get_bit_res_129498);
            int32_t unsign_arg_129501 = ashr32(i32_arg_129489,
                                               defunc_2_radix_sort_step_arg_129467);
            int32_t unsign_arg_129502 = 1 & unsign_arg_129501;
            bool y_129503 = cond_f_res_129470 && x_129495;
            bool cond_129504 = cond_129494 || y_129503;
            int32_t defunc_1_get_bit_res_129505;
            
            if (cond_129504) {
                int32_t defunc_1_get_bit_res_t_res_129506 = 1 ^
                        unsign_arg_129502;
                
                defunc_1_get_bit_res_129505 = defunc_1_get_bit_res_t_res_129506;
            } else {
                defunc_1_get_bit_res_129505 = unsign_arg_129502;
            }
            
            int32_t defunc_0_f_res_129507 = add32(x_129500,
                                                  defunc_1_get_bit_res_129505);
            bool cond_129508 = defunc_0_f_res_129507 == 0;
            int64_t defunc_0_f_res_129509 = btoi_bool_i64(cond_129508);
            int64_t defunc_0_f_res_129510;
            int64_t defunc_0_f_res_129511;
            int64_t defunc_0_f_res_129512;
            
            if (cond_129508) {
                defunc_0_f_res_129510 = (int64_t) 0;
                defunc_0_f_res_129511 = (int64_t) 0;
                defunc_0_f_res_129512 = (int64_t) 0;
            } else {
                bool cond_129513 = defunc_0_f_res_129507 == 1;
                int64_t defunc_0_f_res_f_res_129514 =
                        btoi_bool_i64(cond_129513);
                int64_t defunc_0_f_res_f_res_129515;
                int64_t defunc_0_f_res_f_res_129516;
                
                if (cond_129513) {
                    defunc_0_f_res_f_res_129515 = (int64_t) 0;
                    defunc_0_f_res_f_res_129516 = (int64_t) 0;
                } else {
                    bool cond_129517 = defunc_0_f_res_129507 == 2;
                    int64_t defunc_0_f_res_f_res_f_res_129518 =
                            btoi_bool_i64(cond_129517);
                    bool cond_neg_129519 = !cond_129517;
                    int64_t defunc_0_f_res_f_res_f_res_129520 =
                            btoi_bool_i64(cond_neg_129519);
                    
                    defunc_0_f_res_f_res_129515 =
                        defunc_0_f_res_f_res_f_res_129518;
                    defunc_0_f_res_f_res_129516 =
                        defunc_0_f_res_f_res_f_res_129520;
                }
                defunc_0_f_res_129510 = defunc_0_f_res_f_res_129514;
                defunc_0_f_res_129511 = defunc_0_f_res_f_res_129515;
                defunc_0_f_res_129512 = defunc_0_f_res_f_res_129516;
            }
            // Read carry in
            {
                x_129554 =
                    ((int64_t *) scan_stage_2_accum_mem_129568)[(int64_t) 0];
                x_129555 =
                    ((int64_t *) scan_stage_2_accum_mem_129570)[(int64_t) 0];
                x_129556 =
                    ((int64_t *) scan_stage_2_accum_mem_129572)[(int64_t) 0];
                x_129557 =
                    ((int64_t *) scan_stage_2_accum_mem_129574)[(int64_t) 0];
            }
            // Read next values
            {
                x_129558 = ((int64_t *) mem_122584.mem)[offset_index_129567 -
                                                        (int64_t) 1];
                x_129559 = ((int64_t *) mem_122587.mem)[offset_index_129567 -
                                                        (int64_t) 1];
                x_129560 = ((int64_t *) mem_122590.mem)[offset_index_129567 -
                                                        (int64_t) 1];
                x_129561 = ((int64_t *) mem_122593.mem)[offset_index_129567 -
                                                        (int64_t) 1];
            }
            
            int64_t defunc_1_op_res_129562 = add64(x_129554, x_129558);
            int64_t defunc_1_op_res_129563 = add64(x_129555, x_129559);
            int64_t defunc_1_op_res_129564 = add64(x_129556, x_129560);
            int64_t defunc_1_op_res_129565 = add64(x_129557, x_129561);
            
            ((int64_t *) mem_122584.mem)[offset_index_129567 - (int64_t) 1] =
                defunc_1_op_res_129562;
            ((int64_t *) scan_stage_2_accum_mem_129568)[(int64_t) 0] =
                defunc_1_op_res_129562;
            ((int64_t *) mem_122587.mem)[offset_index_129567 - (int64_t) 1] =
                defunc_1_op_res_129563;
            ((int64_t *) scan_stage_2_accum_mem_129570)[(int64_t) 0] =
                defunc_1_op_res_129563;
            ((int64_t *) mem_122590.mem)[offset_index_129567 - (int64_t) 1] =
                defunc_1_op_res_129564;
            ((int64_t *) scan_stage_2_accum_mem_129572)[(int64_t) 0] =
                defunc_1_op_res_129564;
            ((int64_t *) mem_122593.mem)[offset_index_129567 - (int64_t) 1] =
                defunc_1_op_res_129565;
            ((int64_t *) scan_stage_2_accum_mem_129574)[(int64_t) 0] =
                defunc_1_op_res_129565;
        }
        
        int64_t iter_129589 = (int64_t) 0;
        struct futhark_mc_scan_stage_3_parloop_struct_130504
        futhark_mc_scan_stage_3_parloop_struct_130504;
        
        futhark_mc_scan_stage_3_parloop_struct_130504.ctx = ctx;
        futhark_mc_scan_stage_3_parloop_struct_130504.free_mem_122584 =
            mem_122584.mem;
        futhark_mc_scan_stage_3_parloop_struct_130504.free_mem_122587 =
            mem_122587.mem;
        futhark_mc_scan_stage_3_parloop_struct_130504.free_mem_122590 =
            mem_122590.mem;
        futhark_mc_scan_stage_3_parloop_struct_130504.free_mem_122593 =
            mem_122593.mem;
        futhark_mc_scan_stage_3_parloop_struct_130504.free_double_buffer_mem_122872 =
            double_buffer_mem_122872.mem;
        futhark_mc_scan_stage_3_parloop_struct_130504.free_defunc_2_radix_sort_step_arg_129467 =
            defunc_2_radix_sort_step_arg_129467;
        futhark_mc_scan_stage_3_parloop_struct_130504.free_defunc_0_get_bit_arg_129468 =
            defunc_0_get_bit_arg_129468;
        futhark_mc_scan_stage_3_parloop_struct_130504.free_cond_f_res_129469 =
            cond_f_res_129469;
        futhark_mc_scan_stage_3_parloop_struct_130504.free_cond_f_res_129470 =
            cond_f_res_129470;
        
        struct scheduler_parloop futhark_mc_scan_stage_3_parloop_130505_task;
        
        futhark_mc_scan_stage_3_parloop_130505_task.name =
            "futhark_mc_scan_stage_3_parloop_130505";
        futhark_mc_scan_stage_3_parloop_130505_task.fn =
            futhark_mc_scan_stage_3_parloop_130505;
        futhark_mc_scan_stage_3_parloop_130505_task.args =
            &futhark_mc_scan_stage_3_parloop_struct_130504;
        futhark_mc_scan_stage_3_parloop_130505_task.iterations = iterations;
        futhark_mc_scan_stage_3_parloop_130505_task.info = info;
        
        uint64_t futhark_mc_scan_stage_3_parloop_130505_total_start = 0;
        
        if (ctx->profiling && !ctx->profiling_paused)
            futhark_mc_scan_stage_3_parloop_130505_total_start =
                get_wall_time();
        
        int futhark_mc_scan_stage_3_parloop_130505_err =
            scheduler_execute_task(&ctx->scheduler,
                                   &futhark_mc_scan_stage_3_parloop_130505_task);
        
        if (futhark_mc_scan_stage_3_parloop_130505_err != 0) {
            err = 1;
            goto cleanup;
        }
        if (ctx->profiling && !ctx->profiling_paused) {
            uint64_t futhark_mc_scan_stage_3_parloop_130505_total_end =
                     get_wall_time();
            uint64_t elapsed =
                     futhark_mc_scan_stage_3_parloop_130505_total_end -
                     futhark_mc_scan_stage_3_parloop_130505_total_start;
            
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_130505_total_runs,
                               1, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_130505_total_total_runtime,
                               elapsed, __ATOMIC_RELAXED);
            __atomic_fetch_add(&ctx->futhark_mc_scan_stage_3_parloop_130505_total_iter,
                               iterations, __ATOMIC_RELAXED);
        }
    }
    free(scan_stage_2_accum_mem_129568);
    free(scan_stage_2_accum_mem_129570);
    free(scan_stage_2_accum_mem_129572);
    free(scan_stage_2_accum_mem_129574);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segscan_task_130497_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segscan_task_130497_end -
                 futhark_mc_segscan_task_130497_start;
        
        ctx->futhark_mc_segscan_task_130497_runs[tid]++;
        ctx->futhark_mc_segscan_task_130497_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segscan_task_130497_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130506 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    char *free_mem_122584;
    char *free_mem_122587;
    char *free_mem_122590;
    char *free_mem_122593;
    char *free_mem_122596;
    char *free_mem_122599;
    char *free_double_buffer_mem_122872;
    int64_t free_last_res_129521;
    int64_t free_last_res_129522;
    int64_t free_last_res_129523;
};
struct futhark_mc_segmap_parloop_struct_130508 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    char *free_mem_122584;
    char *free_mem_122587;
    char *free_mem_122590;
    char *free_mem_122593;
    char *free_mem_122596;
    char *free_mem_122599;
    char *free_double_buffer_mem_122872;
    int64_t free_last_res_129521;
    int64_t free_last_res_129522;
    int64_t free_last_res_129523;
};
static int futhark_mc_segmap_parloop_130509(void *args, int64_t start,
                                            int64_t end, int flat_tid_120108,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130508
    *futhark_mc_segmap_parloop_struct_130508 =
    (struct futhark_mc_segmap_parloop_struct_130508 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130508->ctx;
    uint64_t futhark_mc_segmap_parloop_130509_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130509_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130508->free_n_114105;
    struct memblock mem_122584 = {.desc ="mem_122584", .mem =
                                  futhark_mc_segmap_parloop_struct_130508->free_mem_122584,
                                  .size =0, .references =NULL};
    struct memblock mem_122587 = {.desc ="mem_122587", .mem =
                                  futhark_mc_segmap_parloop_struct_130508->free_mem_122587,
                                  .size =0, .references =NULL};
    struct memblock mem_122590 = {.desc ="mem_122590", .mem =
                                  futhark_mc_segmap_parloop_struct_130508->free_mem_122590,
                                  .size =0, .references =NULL};
    struct memblock mem_122593 = {.desc ="mem_122593", .mem =
                                  futhark_mc_segmap_parloop_struct_130508->free_mem_122593,
                                  .size =0, .references =NULL};
    struct memblock mem_122596 = {.desc ="mem_122596", .mem =
                                  futhark_mc_segmap_parloop_struct_130508->free_mem_122596,
                                  .size =0, .references =NULL};
    struct memblock mem_122599 = {.desc ="mem_122599", .mem =
                                  futhark_mc_segmap_parloop_struct_130508->free_mem_122599,
                                  .size =0, .references =NULL};
    struct memblock double_buffer_mem_122872 = {.desc =
                                                "double_buffer_mem_122872",
                                                .mem =
                                                futhark_mc_segmap_parloop_struct_130508->free_double_buffer_mem_122872,
                                                .size =0, .references =NULL};
    int64_t last_res_129521 =
            futhark_mc_segmap_parloop_struct_130508->free_last_res_129521;
    int64_t last_res_129522 =
            futhark_mc_segmap_parloop_struct_130508->free_last_res_129522;
    int64_t last_res_129523 =
            futhark_mc_segmap_parloop_struct_130508->free_last_res_129523;
    int64_t iterations = end - start;
    int64_t iter_129591 = start;
    
    for (; iter_129591 < end; iter_129591++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129610 = n_114105;
        int64_t gtid_120109 = iter_129591;
        int64_t remnant_129611 = iter_129591 - gtid_120109;
        int32_t x_129526 = ((int32_t *) mem_122596.mem)[gtid_120109];
        float write_value_129527 =
              ((float *) double_buffer_mem_122872.mem)[gtid_120109];
        bool match_lit_129528 = 0 == x_129526;
        int64_t defunc_1_f_res_129529;
        
        if (match_lit_129528) {
            int64_t x_129592 = ((int64_t *) mem_122584.mem)[gtid_120109];
            int64_t case_res_129593 = sub64(x_129592, (int64_t) 1);
            
            defunc_1_f_res_129529 = case_res_129593;
        } else {
            bool match_lit_129594 = 1 == x_129526;
            int64_t x_129595;
            
            if (match_lit_129594) {
                int64_t x_129596 = ((int64_t *) mem_122587.mem)[gtid_120109];
                int64_t x_129597 = add64(last_res_129521, x_129596);
                int64_t case_res_129598 = sub64(x_129597, (int64_t) 1);
                
                x_129595 = case_res_129598;
            } else {
                bool match_lit_129599 = 2 == x_129526;
                int64_t x_129600;
                
                if (match_lit_129599) {
                    int64_t x_129601 =
                            ((int64_t *) mem_122590.mem)[gtid_120109];
                    int64_t x_129602 = add64(last_res_129521, last_res_129522);
                    int64_t x_129603 = add64(x_129601, x_129602);
                    int64_t case_res_129604 = sub64(x_129603, (int64_t) 1);
                    
                    x_129600 = case_res_129604;
                } else {
                    int64_t x_129605 =
                            ((int64_t *) mem_122593.mem)[gtid_120109];
                    int64_t x_129606 = add64(last_res_129521, last_res_129522);
                    int64_t x_129607 = add64(last_res_129523, x_129606);
                    int64_t x_129608 = add64(x_129605, x_129607);
                    int64_t defunc_1_f_res_res_129609 = sub64(x_129608,
                                                              (int64_t) 1);
                    
                    x_129600 = defunc_1_f_res_res_129609;
                }
                x_129595 = x_129600;
            }
            defunc_1_f_res_129529 = x_129595;
        }
        if (sle64((int64_t) 0, defunc_1_f_res_129529) &&
            slt64(defunc_1_f_res_129529, n_114105)) {
            ((float *) mem_122599.mem)[defunc_1_f_res_129529] =
                write_value_129527;
        }
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130509_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130509_end -
                 futhark_mc_segmap_parloop_130509_start;
        
        ctx->futhark_mc_segmap_parloop_130509_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130509_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130509_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130507(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120108 = tid;
    int num_tasks_129590 = info.nsubtasks;
    struct futhark_mc_task_130506 *futhark_mc_task_130506 =
                                  (struct futhark_mc_task_130506 *) args;
    struct futhark_context *ctx = futhark_mc_task_130506->ctx;
    uint64_t futhark_mc_segmap_task_130507_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130507_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130506->free_n_114105;
    struct memblock mem_122584 = {.desc ="mem_122584", .mem =
                                  futhark_mc_task_130506->free_mem_122584,
                                  .size =0, .references =NULL};
    struct memblock mem_122587 = {.desc ="mem_122587", .mem =
                                  futhark_mc_task_130506->free_mem_122587,
                                  .size =0, .references =NULL};
    struct memblock mem_122590 = {.desc ="mem_122590", .mem =
                                  futhark_mc_task_130506->free_mem_122590,
                                  .size =0, .references =NULL};
    struct memblock mem_122593 = {.desc ="mem_122593", .mem =
                                  futhark_mc_task_130506->free_mem_122593,
                                  .size =0, .references =NULL};
    struct memblock mem_122596 = {.desc ="mem_122596", .mem =
                                  futhark_mc_task_130506->free_mem_122596,
                                  .size =0, .references =NULL};
    struct memblock mem_122599 = {.desc ="mem_122599", .mem =
                                  futhark_mc_task_130506->free_mem_122599,
                                  .size =0, .references =NULL};
    struct memblock double_buffer_mem_122872 = {.desc =
                                                "double_buffer_mem_122872",
                                                .mem =
                                                futhark_mc_task_130506->free_double_buffer_mem_122872,
                                                .size =0, .references =NULL};
    int64_t last_res_129521 = futhark_mc_task_130506->free_last_res_129521;
    int64_t last_res_129522 = futhark_mc_task_130506->free_last_res_129522;
    int64_t last_res_129523 = futhark_mc_task_130506->free_last_res_129523;
    int64_t iter_129591;
    struct futhark_mc_segmap_parloop_struct_130508
    futhark_mc_segmap_parloop_struct_130508;
    
    futhark_mc_segmap_parloop_struct_130508.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130508.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130508.free_mem_122584 = mem_122584.mem;
    futhark_mc_segmap_parloop_struct_130508.free_mem_122587 = mem_122587.mem;
    futhark_mc_segmap_parloop_struct_130508.free_mem_122590 = mem_122590.mem;
    futhark_mc_segmap_parloop_struct_130508.free_mem_122593 = mem_122593.mem;
    futhark_mc_segmap_parloop_struct_130508.free_mem_122596 = mem_122596.mem;
    futhark_mc_segmap_parloop_struct_130508.free_mem_122599 = mem_122599.mem;
    futhark_mc_segmap_parloop_struct_130508.free_double_buffer_mem_122872 =
        double_buffer_mem_122872.mem;
    futhark_mc_segmap_parloop_struct_130508.free_last_res_129521 =
        last_res_129521;
    futhark_mc_segmap_parloop_struct_130508.free_last_res_129522 =
        last_res_129522;
    futhark_mc_segmap_parloop_struct_130508.free_last_res_129523 =
        last_res_129523;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130509_task;
    
    futhark_mc_segmap_parloop_130509_task.name =
        "futhark_mc_segmap_parloop_130509";
    futhark_mc_segmap_parloop_130509_task.fn = futhark_mc_segmap_parloop_130509;
    futhark_mc_segmap_parloop_130509_task.args =
        &futhark_mc_segmap_parloop_struct_130508;
    futhark_mc_segmap_parloop_130509_task.iterations = iterations;
    futhark_mc_segmap_parloop_130509_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130509_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130509_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130509_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130509_task);
    
    if (futhark_mc_segmap_parloop_130509_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130509_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130509_total_end -
                 futhark_mc_segmap_parloop_130509_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130509_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130509_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130509_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130507_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130507_end -
                 futhark_mc_segmap_task_130507_start;
        
        ctx->futhark_mc_segmap_task_130507_runs[tid]++;
        ctx->futhark_mc_segmap_task_130507_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130507_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130488(void *args, int64_t start,
                                            int64_t end, int flat_tid_120104,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130487
    *futhark_mc_segmap_parloop_struct_130487 =
    (struct futhark_mc_segmap_parloop_struct_130487 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130487->ctx;
    uint64_t futhark_mc_segmap_parloop_130488_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130488_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130487->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130487->free_n_114105;
    int64_t i_114181 = futhark_mc_segmap_parloop_struct_130487->free_i_114181;
    int32_t iters_116111 =
            futhark_mc_segmap_parloop_struct_130487->free_iters_116111;
    int64_t bytes_121005 =
            futhark_mc_segmap_parloop_struct_130487->free_bytes_121005;
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130487->free_bytes_121048;
    struct memblock mem_122566 = {.desc ="mem_122566", .mem =
                                  futhark_mc_segmap_parloop_struct_130487->free_mem_122566,
                                  .size =0, .references =NULL};
    struct memblock mem_122720 = {.desc ="mem_122720", .mem =
                                  futhark_mc_segmap_parloop_struct_130487->free_mem_122720,
                                  .size =0, .references =NULL};
    int64_t double_buffer_sizze_122874 =
            futhark_mc_segmap_parloop_struct_130487->free_double_buffer_sizze_122874;
    size_t mem_122584_cached_sizze_130489 = 0;
    char *mem_122584 = NULL;
    size_t mem_122587_cached_sizze_130490 = 0;
    char *mem_122587 = NULL;
    size_t mem_122590_cached_sizze_130491 = 0;
    char *mem_122590 = NULL;
    size_t mem_122593_cached_sizze_130492 = 0;
    char *mem_122593 = NULL;
    size_t mem_122596_cached_sizze_130493 = 0;
    char *mem_122596 = NULL;
    size_t mem_122599_cached_sizze_130494 = 0;
    char *mem_122599 = NULL;
    size_t double_buffer_mem_122872_cached_sizze_130495 = 0;
    char *double_buffer_mem_122872 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129464 = start;
    
    if (mem_122584_cached_sizze_130489 < (size_t) bytes_121005) {
        mem_122584 = realloc(mem_122584, bytes_121005);
        mem_122584_cached_sizze_130489 = bytes_121005;
    }
    if (mem_122587_cached_sizze_130490 < (size_t) bytes_121005) {
        mem_122587 = realloc(mem_122587, bytes_121005);
        mem_122587_cached_sizze_130490 = bytes_121005;
    }
    if (mem_122590_cached_sizze_130491 < (size_t) bytes_121005) {
        mem_122590 = realloc(mem_122590, bytes_121005);
        mem_122590_cached_sizze_130491 = bytes_121005;
    }
    if (mem_122593_cached_sizze_130492 < (size_t) bytes_121005) {
        mem_122593 = realloc(mem_122593, bytes_121005);
        mem_122593_cached_sizze_130492 = bytes_121005;
    }
    if (mem_122596_cached_sizze_130493 < (size_t) bytes_121048) {
        mem_122596 = realloc(mem_122596, bytes_121048);
        mem_122596_cached_sizze_130493 = bytes_121048;
    }
    if (double_buffer_mem_122872_cached_sizze_130495 <
        (size_t) double_buffer_sizze_122874) {
        double_buffer_mem_122872 = realloc(double_buffer_mem_122872,
                                           double_buffer_sizze_122874);
        double_buffer_mem_122872_cached_sizze_130495 =
            double_buffer_sizze_122874;
    }
    if (mem_122599_cached_sizze_130494 < (size_t) bytes_121048) {
        mem_122599 = realloc(mem_122599, bytes_121048);
        mem_122599_cached_sizze_130494 = bytes_121048;
    }
    for (; iter_129464 < end; iter_129464++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129549 = m_114104;
        int64_t gtid_120105 = iter_129464;
        int64_t remnant_129550 = iter_129464 - gtid_120105;
        
        memmove(double_buffer_mem_122872 + (int64_t) 0, mem_122566.mem +
                gtid_120105 * n_114105 * (int64_t) 4, n_114105 * (int64_t) 4);
        for (int32_t i_129465 = 0; i_129465 < iters_116111; i_129465++) {
            int32_t defunc_2_radix_sort_step_arg_129467 = mul32(2, i_129465);
            int32_t defunc_0_get_bit_arg_129468 = add32(1,
                                                        defunc_2_radix_sort_step_arg_129467);
            bool cond_f_res_129469 = defunc_0_get_bit_arg_129468 == 31;
            bool cond_f_res_129470 = defunc_2_radix_sort_step_arg_129467 == 31;
            int64_t flat_tid_120106 = (int64_t) 0;
            int32_t num_tasks_129552;
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "nonsegmented segScan");
            
            struct futhark_mc_task_130496 futhark_mc_task_130496;
            
            futhark_mc_task_130496.ctx = ctx;
            futhark_mc_task_130496.free_n_114105 = n_114105;
            futhark_mc_task_130496.free_mem_122584 = mem_122584;
            futhark_mc_task_130496.free_mem_122587 = mem_122587;
            futhark_mc_task_130496.free_mem_122590 = mem_122590;
            futhark_mc_task_130496.free_mem_122593 = mem_122593;
            futhark_mc_task_130496.free_mem_122596 = mem_122596;
            futhark_mc_task_130496.free_double_buffer_mem_122872 =
                double_buffer_mem_122872;
            futhark_mc_task_130496.free_defunc_2_radix_sort_step_arg_129467 =
                defunc_2_radix_sort_step_arg_129467;
            futhark_mc_task_130496.free_defunc_0_get_bit_arg_129468 =
                defunc_0_get_bit_arg_129468;
            futhark_mc_task_130496.free_cond_f_res_129469 = cond_f_res_129469;
            futhark_mc_task_130496.free_cond_f_res_129470 = cond_f_res_129470;
            
            struct scheduler_segop futhark_mc_task_130496_task;
            
            futhark_mc_task_130496_task.args = &futhark_mc_task_130496;
            futhark_mc_task_130496_task.top_level_fn =
                futhark_mc_segscan_task_130497;
            futhark_mc_task_130496_task.name = "futhark_mc_segscan_task_130497";
            futhark_mc_task_130496_task.iterations = n_114105;
            futhark_mc_task_130496_task.task_time =
                &ctx->futhark_mc_segscan_task_130497_total_time;
            futhark_mc_task_130496_task.task_iter =
                &ctx->futhark_mc_segscan_task_130497_total_iter;
            futhark_mc_task_130496_task.sched = STATIC;
            futhark_mc_task_130496_task.nested_fn = NULL;
            
            int futhark_mc_segscan_task_130497_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_130496_task);
            
            if (futhark_mc_segscan_task_130497_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t last_res_129521 = ((int64_t *) mem_122584)[i_114181];
            int64_t last_res_129522 = ((int64_t *) mem_122587)[i_114181];
            int64_t last_res_129523 = ((int64_t *) mem_122590)[i_114181];
            
            memmove(mem_122599 + (int64_t) 0, double_buffer_mem_122872 +
                    (int64_t) 0, n_114105 * (int64_t) 4);
            
            int64_t flat_tid_120108 = (int64_t) 0;
            int32_t num_tasks_129590;
            struct futhark_mc_task_130506 futhark_mc_task_130506;
            
            futhark_mc_task_130506.ctx = ctx;
            futhark_mc_task_130506.free_n_114105 = n_114105;
            futhark_mc_task_130506.free_mem_122584 = mem_122584;
            futhark_mc_task_130506.free_mem_122587 = mem_122587;
            futhark_mc_task_130506.free_mem_122590 = mem_122590;
            futhark_mc_task_130506.free_mem_122593 = mem_122593;
            futhark_mc_task_130506.free_mem_122596 = mem_122596;
            futhark_mc_task_130506.free_mem_122599 = mem_122599;
            futhark_mc_task_130506.free_double_buffer_mem_122872 =
                double_buffer_mem_122872;
            futhark_mc_task_130506.free_last_res_129521 = last_res_129521;
            futhark_mc_task_130506.free_last_res_129522 = last_res_129522;
            futhark_mc_task_130506.free_last_res_129523 = last_res_129523;
            
            struct scheduler_segop futhark_mc_task_130506_task;
            
            futhark_mc_task_130506_task.args = &futhark_mc_task_130506;
            futhark_mc_task_130506_task.top_level_fn =
                futhark_mc_segmap_task_130507;
            futhark_mc_task_130506_task.name = "futhark_mc_segmap_task_130507";
            futhark_mc_task_130506_task.iterations = n_114105;
            futhark_mc_task_130506_task.task_time =
                &ctx->futhark_mc_segmap_task_130507_total_time;
            futhark_mc_task_130506_task.task_iter =
                &ctx->futhark_mc_segmap_task_130507_total_iter;
            futhark_mc_task_130506_task.sched = STATIC;
            futhark_mc_task_130506_task.nested_fn = NULL;
            
            int futhark_mc_segmap_task_130507_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_130506_task);
            
            if (futhark_mc_segmap_task_130507_err != 0) {
                err = 1;
                goto cleanup;
            }
            memmove(double_buffer_mem_122872 + (int64_t) 0, mem_122599 +
                    (int64_t) 0, n_114105 * (int64_t) 4);
        }
        memmove(mem_122720.mem + gtid_120105 * n_114105 * (int64_t) 4,
                double_buffer_mem_122872 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122584);
    free(mem_122587);
    free(mem_122590);
    free(mem_122593);
    free(mem_122596);
    free(mem_122599);
    free(double_buffer_mem_122872);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130488_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130488_end -
                 futhark_mc_segmap_parloop_130488_start;
        
        ctx->futhark_mc_segmap_parloop_130488_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130488_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130488_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130486(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120104 = tid;
    int num_tasks_129346 = info.nsubtasks;
    struct futhark_mc_task_130475 *futhark_mc_task_130475 =
                                  (struct futhark_mc_task_130475 *) args;
    struct futhark_context *ctx = futhark_mc_task_130475->ctx;
    uint64_t futhark_mc_segmap_nested_task_130486_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130486_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130475->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130475->free_n_114105;
    int64_t i_114181 = futhark_mc_task_130475->free_i_114181;
    int32_t iters_116111 = futhark_mc_task_130475->free_iters_116111;
    int64_t bytes_121005 = futhark_mc_task_130475->free_bytes_121005;
    int64_t bytes_121048 = futhark_mc_task_130475->free_bytes_121048;
    struct memblock mem_122566 = {.desc ="mem_122566", .mem =
                                  futhark_mc_task_130475->free_mem_122566,
                                  .size =0, .references =NULL};
    struct memblock mem_122720 = {.desc ="mem_122720", .mem =
                                  futhark_mc_task_130475->free_mem_122720,
                                  .size =0, .references =NULL};
    int64_t double_buffer_sizze_122874 =
            futhark_mc_task_130475->free_double_buffer_sizze_122874;
    int64_t double_buffer_sizze_122878 =
            futhark_mc_task_130475->free_double_buffer_sizze_122878;
    int64_t iter_129464;
    struct futhark_mc_segmap_parloop_struct_130487
    futhark_mc_segmap_parloop_struct_130487;
    
    futhark_mc_segmap_parloop_struct_130487.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130487.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130487.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130487.free_i_114181 = i_114181;
    futhark_mc_segmap_parloop_struct_130487.free_iters_116111 = iters_116111;
    futhark_mc_segmap_parloop_struct_130487.free_bytes_121005 = bytes_121005;
    futhark_mc_segmap_parloop_struct_130487.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130487.free_mem_122566 = mem_122566.mem;
    futhark_mc_segmap_parloop_struct_130487.free_mem_122720 = mem_122720.mem;
    futhark_mc_segmap_parloop_struct_130487.free_double_buffer_sizze_122874 =
        double_buffer_sizze_122874;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130488_task;
    
    futhark_mc_segmap_parloop_130488_task.name =
        "futhark_mc_segmap_parloop_130488";
    futhark_mc_segmap_parloop_130488_task.fn = futhark_mc_segmap_parloop_130488;
    futhark_mc_segmap_parloop_130488_task.args =
        &futhark_mc_segmap_parloop_struct_130487;
    futhark_mc_segmap_parloop_130488_task.iterations = iterations;
    futhark_mc_segmap_parloop_130488_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130488_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130488_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130488_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130488_task);
    
    if (futhark_mc_segmap_parloop_130488_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130488_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130488_total_end -
                 futhark_mc_segmap_parloop_130488_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130488_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130488_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130488_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130486_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130486_end -
                 futhark_mc_segmap_nested_task_130486_start;
        
        ctx->futhark_mc_segmap_nested_task_130486_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130486_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130486_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130510 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_stl_res_114175;
    int64_t free_j_m_i_114511;
    char *free_mem_122720;
    char *free_mem_122723;
    char *free_mem_122726;
    char *free_mem_122729;
};
struct futhark_mc_segmap_parloop_struct_130512 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_stl_res_114175;
    int64_t free_j_m_i_114511;
    char *free_mem_122720;
    char *free_mem_122723;
    char *free_mem_122726;
    char *free_mem_122729;
};
static int futhark_mc_segmap_parloop_130513(void *args, int64_t start,
                                            int64_t end, int flat_tid_120195,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130512
    *futhark_mc_segmap_parloop_struct_130512 =
    (struct futhark_mc_segmap_parloop_struct_130512 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130512->ctx;
    uint64_t futhark_mc_segmap_parloop_130513_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130513_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130512->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130512->free_n_114105;
    int64_t stl_res_114175 =
            futhark_mc_segmap_parloop_struct_130512->free_stl_res_114175;
    int64_t j_m_i_114511 =
            futhark_mc_segmap_parloop_struct_130512->free_j_m_i_114511;
    struct memblock mem_122720 = {.desc ="mem_122720", .mem =
                                  futhark_mc_segmap_parloop_struct_130512->free_mem_122720,
                                  .size =0, .references =NULL};
    struct memblock mem_122723 = {.desc ="mem_122723", .mem =
                                  futhark_mc_segmap_parloop_struct_130512->free_mem_122723,
                                  .size =0, .references =NULL};
    struct memblock mem_122726 = {.desc ="mem_122726", .mem =
                                  futhark_mc_segmap_parloop_struct_130512->free_mem_122726,
                                  .size =0, .references =NULL};
    struct memblock mem_122729 = {.desc ="mem_122729", .mem =
                                  futhark_mc_segmap_parloop_struct_130512->free_mem_122729,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129613 = start;
    
    for (; iter_129613 < end; iter_129613++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129619 = m_114104;
        int64_t gtid_120196 = iter_129613;
        int64_t remnant_129620 = iter_129613 - gtid_120196;
        float defunc_2_reduce_res_116247;
        float redout_129615 = 0.0F;
        
        for (int64_t i_129614 = 0; i_129614 < j_m_i_114511; i_129614++) {
            int64_t slice_129616 = stl_res_114175 + i_129614;
            float x_129617 = ((float *) mem_122720.mem)[gtid_120196 * n_114105 +
                                                        slice_129616];
            float defunc_1_op_res_129618 = x_129617 + redout_129615;
            float redout_tmp_129621 = defunc_1_op_res_129618;
            
            redout_129615 = redout_tmp_129621;
        }
        defunc_2_reduce_res_116247 = redout_129615;
        
        float h_116252 = 3.0F * defunc_2_reduce_res_116247;
        float h9_116253 = 0.999F * h_116252;
        float h1_116254 = 1.0e-3F * h_116252;
        
        ((float *) mem_122723.mem)[gtid_120196] = h_116252;
        ((float *) mem_122726.mem)[gtid_120196] = h9_116253;
        ((float *) mem_122729.mem)[gtid_120196] = h1_116254;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130513_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130513_end -
                 futhark_mc_segmap_parloop_130513_start;
        
        ctx->futhark_mc_segmap_parloop_130513_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130513_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130513_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130511(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120195 = tid;
    int num_tasks_129612 = info.nsubtasks;
    struct futhark_mc_task_130510 *futhark_mc_task_130510 =
                                  (struct futhark_mc_task_130510 *) args;
    struct futhark_context *ctx = futhark_mc_task_130510->ctx;
    uint64_t futhark_mc_segmap_task_130511_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130511_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130510->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130510->free_n_114105;
    int64_t stl_res_114175 = futhark_mc_task_130510->free_stl_res_114175;
    int64_t j_m_i_114511 = futhark_mc_task_130510->free_j_m_i_114511;
    struct memblock mem_122720 = {.desc ="mem_122720", .mem =
                                  futhark_mc_task_130510->free_mem_122720,
                                  .size =0, .references =NULL};
    struct memblock mem_122723 = {.desc ="mem_122723", .mem =
                                  futhark_mc_task_130510->free_mem_122723,
                                  .size =0, .references =NULL};
    struct memblock mem_122726 = {.desc ="mem_122726", .mem =
                                  futhark_mc_task_130510->free_mem_122726,
                                  .size =0, .references =NULL};
    struct memblock mem_122729 = {.desc ="mem_122729", .mem =
                                  futhark_mc_task_130510->free_mem_122729,
                                  .size =0, .references =NULL};
    int64_t iter_129613;
    struct futhark_mc_segmap_parloop_struct_130512
    futhark_mc_segmap_parloop_struct_130512;
    
    futhark_mc_segmap_parloop_struct_130512.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130512.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130512.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130512.free_stl_res_114175 =
        stl_res_114175;
    futhark_mc_segmap_parloop_struct_130512.free_j_m_i_114511 = j_m_i_114511;
    futhark_mc_segmap_parloop_struct_130512.free_mem_122720 = mem_122720.mem;
    futhark_mc_segmap_parloop_struct_130512.free_mem_122723 = mem_122723.mem;
    futhark_mc_segmap_parloop_struct_130512.free_mem_122726 = mem_122726.mem;
    futhark_mc_segmap_parloop_struct_130512.free_mem_122729 = mem_122729.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130513_task;
    
    futhark_mc_segmap_parloop_130513_task.name =
        "futhark_mc_segmap_parloop_130513";
    futhark_mc_segmap_parloop_130513_task.fn = futhark_mc_segmap_parloop_130513;
    futhark_mc_segmap_parloop_130513_task.args =
        &futhark_mc_segmap_parloop_struct_130512;
    futhark_mc_segmap_parloop_130513_task.iterations = iterations;
    futhark_mc_segmap_parloop_130513_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130513_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130513_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130513_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130513_task);
    
    if (futhark_mc_segmap_parloop_130513_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130513_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130513_total_end -
                 futhark_mc_segmap_parloop_130513_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130513_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130513_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130513_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130511_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130511_end -
                 futhark_mc_segmap_task_130511_start;
        
        ctx->futhark_mc_segmap_task_130511_runs[tid]++;
        ctx->futhark_mc_segmap_task_130511_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130511_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130515 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_stl_res_114175;
    int64_t free_j_m_i_114511;
    char *free_mem_122720;
    char *free_mem_122723;
    char *free_mem_122726;
    char *free_mem_122729;
};
struct futhark_mc_task_130517 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_stl_res_114175;
    int64_t free_gtid_120198;
    char *free_mem_122720;
    float *retval_defunc_2_reduce_res_120202;
};
struct futhark_mc_segred_stage_1_parloop_struct_130520 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_stl_res_114175;
    int64_t free_gtid_120198;
    char *free_mem_122720;
    char *free_reduce_stage_1_tid_res_arr_mem_129631;
};
static int futhark_mc_segred_stage_1_parloop_130521(void *args, int64_t start,
                                                    int64_t end,
                                                    int flat_tid_120199,
                                                    int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_130520
    *futhark_mc_segred_stage_1_parloop_struct_130520 =
    (struct futhark_mc_segred_stage_1_parloop_struct_130520 *) args;
    struct futhark_context *ctx =
                           futhark_mc_segred_stage_1_parloop_struct_130520->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_130521_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130521_start = get_wall_time();
    
    int64_t n_114105 =
            futhark_mc_segred_stage_1_parloop_struct_130520->free_n_114105;
    int64_t stl_res_114175 =
            futhark_mc_segred_stage_1_parloop_struct_130520->free_stl_res_114175;
    int64_t gtid_120198 =
            futhark_mc_segred_stage_1_parloop_struct_130520->free_gtid_120198;
    struct memblock mem_122720 = {.desc ="mem_122720", .mem =
                                  futhark_mc_segred_stage_1_parloop_struct_130520->free_mem_122720,
                                  .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_129631 = {.desc =
                                                             "reduce_stage_1_tid_res_arr_mem_129631",
                                                             .mem =
                                                             futhark_mc_segred_stage_1_parloop_struct_130520->free_reduce_stage_1_tid_res_arr_mem_129631,
                                                             .size =0,
                                                             .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129633 = start;
    float x_129623;
    float x_129624;
    float local_acc_129634 = 0.0F;
    
    for (; iter_129633 < end; iter_129633++) {
        int64_t gtid_120200 = iter_129633;
        int64_t slice_129626 = stl_res_114175 + gtid_120200;
        float x_129627 = ((float *) mem_122720.mem)[gtid_120198 * n_114105 +
                                                    slice_129626];
        
        // save map-out results
        { }
        // Load accum params
        {
            x_129623 = local_acc_129634;
        }
        // Load next params
        {
            x_129624 = x_129627;
        }
        // Red body
        {
            float defunc_1_op_res_129625 = x_129623 + x_129624;
            
            local_acc_129634 = defunc_1_op_res_129625;
        }
    }
    ((float *) reduce_stage_1_tid_res_arr_mem_129631.mem)[flat_tid_120199] =
        local_acc_129634;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130521_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130521_end -
                 futhark_mc_segred_stage_1_parloop_130521_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_130521_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_130521_total_runtime[tid] +=
            elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_130521_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_130518(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120199 = tid;
    int num_tasks_129630 = info.nsubtasks;
    struct futhark_mc_task_130517 *futhark_mc_task_130517 =
                                  (struct futhark_mc_task_130517 *) args;
    struct futhark_context *ctx = futhark_mc_task_130517->ctx;
    uint64_t futhark_mc_segred_task_130518_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_130518_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130517->free_n_114105;
    int64_t stl_res_114175 = futhark_mc_task_130517->free_stl_res_114175;
    int64_t gtid_120198 = futhark_mc_task_130517->free_gtid_120198;
    struct memblock mem_122720 = {.desc ="mem_122720", .mem =
                                  futhark_mc_task_130517->free_mem_122720,
                                  .size =0, .references =NULL};
    float defunc_2_reduce_res_120202 =
          *futhark_mc_task_130517->retval_defunc_2_reduce_res_120202;
    size_t reduce_stage_1_tid_res_arr_mem_129631_cached_sizze_130519 = 0;
    char *reduce_stage_1_tid_res_arr_mem_129631 = NULL;
    
    if (reduce_stage_1_tid_res_arr_mem_129631_cached_sizze_130519 <
        (size_t) ((int64_t) 4 * num_tasks_129630)) {
        reduce_stage_1_tid_res_arr_mem_129631 =
            realloc(reduce_stage_1_tid_res_arr_mem_129631, (int64_t) 4 *
                    num_tasks_129630);
        reduce_stage_1_tid_res_arr_mem_129631_cached_sizze_130519 =
            (int64_t) 4 * num_tasks_129630;
    }
    
    int64_t iter_129633;
    struct futhark_mc_segred_stage_1_parloop_struct_130520
    futhark_mc_segred_stage_1_parloop_struct_130520;
    
    futhark_mc_segred_stage_1_parloop_struct_130520.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_130520.free_n_114105 = n_114105;
    futhark_mc_segred_stage_1_parloop_struct_130520.free_stl_res_114175 =
        stl_res_114175;
    futhark_mc_segred_stage_1_parloop_struct_130520.free_gtid_120198 =
        gtid_120198;
    futhark_mc_segred_stage_1_parloop_struct_130520.free_mem_122720 =
        mem_122720.mem;
    futhark_mc_segred_stage_1_parloop_struct_130520.free_reduce_stage_1_tid_res_arr_mem_129631 =
        reduce_stage_1_tid_res_arr_mem_129631;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_130521_task;
    
    futhark_mc_segred_stage_1_parloop_130521_task.name =
        "futhark_mc_segred_stage_1_parloop_130521";
    futhark_mc_segred_stage_1_parloop_130521_task.fn =
        futhark_mc_segred_stage_1_parloop_130521;
    futhark_mc_segred_stage_1_parloop_130521_task.args =
        &futhark_mc_segred_stage_1_parloop_struct_130520;
    futhark_mc_segred_stage_1_parloop_130521_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_130521_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_130521_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_130521_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_130521_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segred_stage_1_parloop_130521_task);
    
    if (futhark_mc_segred_stage_1_parloop_130521_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_130521_total_end =
                 get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_130521_total_end -
                 futhark_mc_segred_stage_1_parloop_130521_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130521_total_runs,
                           1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130521_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_130521_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_120202 = 0.0F;
    }
    
    float x_129635;
    float x_129636;
    
    for (int32_t i_129638 = 0; i_129638 < num_tasks_129630; i_129638++) {
        flat_tid_120199 = i_129638;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_129635 = defunc_2_reduce_res_120202;
            }
            // load next params
            {
                x_129636 =
                    ((float *) reduce_stage_1_tid_res_arr_mem_129631)[flat_tid_120199];
            }
            // red body
            {
                float defunc_1_op_res_129637 = x_129635 + x_129636;
                
                defunc_2_reduce_res_120202 = defunc_1_op_res_129637;
            }
        }
    }
    free(reduce_stage_1_tid_res_arr_mem_129631);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_130518_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_130518_end -
                 futhark_mc_segred_task_130518_start;
        
        ctx->futhark_mc_segred_task_130518_runs[tid]++;
        ctx->futhark_mc_segred_task_130518_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_130518_iter[tid] += iterations;
    }
    *futhark_mc_task_130517->retval_defunc_2_reduce_res_120202 =
        defunc_2_reduce_res_120202;
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130516(void *args, int64_t start,
                                            int64_t end, int flat_tid_120197,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130515
    *futhark_mc_segmap_parloop_struct_130515 =
    (struct futhark_mc_segmap_parloop_struct_130515 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130515->ctx;
    uint64_t futhark_mc_segmap_parloop_130516_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130516_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130515->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130515->free_n_114105;
    int64_t stl_res_114175 =
            futhark_mc_segmap_parloop_struct_130515->free_stl_res_114175;
    int64_t j_m_i_114511 =
            futhark_mc_segmap_parloop_struct_130515->free_j_m_i_114511;
    struct memblock mem_122720 = {.desc ="mem_122720", .mem =
                                  futhark_mc_segmap_parloop_struct_130515->free_mem_122720,
                                  .size =0, .references =NULL};
    struct memblock mem_122723 = {.desc ="mem_122723", .mem =
                                  futhark_mc_segmap_parloop_struct_130515->free_mem_122723,
                                  .size =0, .references =NULL};
    struct memblock mem_122726 = {.desc ="mem_122726", .mem =
                                  futhark_mc_segmap_parloop_struct_130515->free_mem_122726,
                                  .size =0, .references =NULL};
    struct memblock mem_122729 = {.desc ="mem_122729", .mem =
                                  futhark_mc_segmap_parloop_struct_130515->free_mem_122729,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129622 = start;
    
    for (; iter_129622 < end; iter_129622++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129628 = m_114104;
        int64_t gtid_120198 = iter_129622;
        int64_t remnant_129629 = iter_129622 - gtid_120198;
        float defunc_2_reduce_res_120202;
        int64_t flat_tid_120199 = (int64_t) 0;
        int32_t num_tasks_129630;
        struct futhark_mc_task_130517 futhark_mc_task_130517;
        
        futhark_mc_task_130517.ctx = ctx;
        futhark_mc_task_130517.free_n_114105 = n_114105;
        futhark_mc_task_130517.free_stl_res_114175 = stl_res_114175;
        futhark_mc_task_130517.free_gtid_120198 = gtid_120198;
        futhark_mc_task_130517.free_mem_122720 = mem_122720.mem;
        futhark_mc_task_130517.retval_defunc_2_reduce_res_120202 =
            &defunc_2_reduce_res_120202;
        
        struct scheduler_segop futhark_mc_task_130517_task;
        
        futhark_mc_task_130517_task.args = &futhark_mc_task_130517;
        futhark_mc_task_130517_task.top_level_fn =
            futhark_mc_segred_task_130518;
        futhark_mc_task_130517_task.name = "futhark_mc_segred_task_130518";
        futhark_mc_task_130517_task.iterations = j_m_i_114511;
        futhark_mc_task_130517_task.task_time =
            &ctx->futhark_mc_segred_task_130518_total_time;
        futhark_mc_task_130517_task.task_iter =
            &ctx->futhark_mc_segred_task_130518_total_iter;
        futhark_mc_task_130517_task.sched = STATIC;
        futhark_mc_task_130517_task.nested_fn = NULL;
        
        int futhark_mc_segred_task_130518_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130517_task);
        
        if (futhark_mc_segred_task_130518_err != 0) {
            err = 1;
            goto cleanup;
        }
        
        float h_120207 = 3.0F * defunc_2_reduce_res_120202;
        float h9_120208 = 0.999F * h_120207;
        float h1_120209 = 1.0e-3F * h_120207;
        
        ((float *) mem_122723.mem)[gtid_120198] = h_120207;
        ((float *) mem_122726.mem)[gtid_120198] = h9_120208;
        ((float *) mem_122729.mem)[gtid_120198] = h1_120209;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130516_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130516_end -
                 futhark_mc_segmap_parloop_130516_start;
        
        ctx->futhark_mc_segmap_parloop_130516_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130516_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130516_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130514(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120197 = tid;
    int num_tasks_129612 = info.nsubtasks;
    struct futhark_mc_task_130510 *futhark_mc_task_130510 =
                                  (struct futhark_mc_task_130510 *) args;
    struct futhark_context *ctx = futhark_mc_task_130510->ctx;
    uint64_t futhark_mc_segmap_nested_task_130514_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130514_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130510->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130510->free_n_114105;
    int64_t stl_res_114175 = futhark_mc_task_130510->free_stl_res_114175;
    int64_t j_m_i_114511 = futhark_mc_task_130510->free_j_m_i_114511;
    struct memblock mem_122720 = {.desc ="mem_122720", .mem =
                                  futhark_mc_task_130510->free_mem_122720,
                                  .size =0, .references =NULL};
    struct memblock mem_122723 = {.desc ="mem_122723", .mem =
                                  futhark_mc_task_130510->free_mem_122723,
                                  .size =0, .references =NULL};
    struct memblock mem_122726 = {.desc ="mem_122726", .mem =
                                  futhark_mc_task_130510->free_mem_122726,
                                  .size =0, .references =NULL};
    struct memblock mem_122729 = {.desc ="mem_122729", .mem =
                                  futhark_mc_task_130510->free_mem_122729,
                                  .size =0, .references =NULL};
    int64_t iter_129622;
    struct futhark_mc_segmap_parloop_struct_130515
    futhark_mc_segmap_parloop_struct_130515;
    
    futhark_mc_segmap_parloop_struct_130515.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130515.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130515.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130515.free_stl_res_114175 =
        stl_res_114175;
    futhark_mc_segmap_parloop_struct_130515.free_j_m_i_114511 = j_m_i_114511;
    futhark_mc_segmap_parloop_struct_130515.free_mem_122720 = mem_122720.mem;
    futhark_mc_segmap_parloop_struct_130515.free_mem_122723 = mem_122723.mem;
    futhark_mc_segmap_parloop_struct_130515.free_mem_122726 = mem_122726.mem;
    futhark_mc_segmap_parloop_struct_130515.free_mem_122729 = mem_122729.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130516_task;
    
    futhark_mc_segmap_parloop_130516_task.name =
        "futhark_mc_segmap_parloop_130516";
    futhark_mc_segmap_parloop_130516_task.fn = futhark_mc_segmap_parloop_130516;
    futhark_mc_segmap_parloop_130516_task.args =
        &futhark_mc_segmap_parloop_struct_130515;
    futhark_mc_segmap_parloop_130516_task.iterations = iterations;
    futhark_mc_segmap_parloop_130516_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130516_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130516_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130516_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130516_task);
    
    if (futhark_mc_segmap_parloop_130516_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130516_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130516_total_end -
                 futhark_mc_segmap_parloop_130516_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130516_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130516_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130516_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130514_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130514_end -
                 futhark_mc_segmap_nested_task_130514_start;
        
        ctx->futhark_mc_segmap_nested_task_130514_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130514_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130514_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130522 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_bytes_121048;
    char *free_mem_122544;
    char *free_mem_122723;
    char *free_mem_122726;
    char *free_mem_122729;
    char *free_mem_122751;
};
struct futhark_mc_segmap_parloop_struct_130524 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_bytes_121048;
    char *free_mem_122544;
    char *free_mem_122723;
    char *free_mem_122726;
    char *free_mem_122729;
    char *free_mem_122751;
};
static int futhark_mc_segmap_parloop_130525(void *args, int64_t start,
                                            int64_t end, int flat_tid_120210,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130524
    *futhark_mc_segmap_parloop_struct_130524 =
    (struct futhark_mc_segmap_parloop_struct_130524 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130524->ctx;
    uint64_t futhark_mc_segmap_parloop_130525_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130525_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130524->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130524->free_n_114105;
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130524->free_bytes_121048;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_segmap_parloop_struct_130524->free_mem_122544,
                                  .size =0, .references =NULL};
    struct memblock mem_122723 = {.desc ="mem_122723", .mem =
                                  futhark_mc_segmap_parloop_struct_130524->free_mem_122723,
                                  .size =0, .references =NULL};
    struct memblock mem_122726 = {.desc ="mem_122726", .mem =
                                  futhark_mc_segmap_parloop_struct_130524->free_mem_122726,
                                  .size =0, .references =NULL};
    struct memblock mem_122729 = {.desc ="mem_122729", .mem =
                                  futhark_mc_segmap_parloop_struct_130524->free_mem_122729,
                                  .size =0, .references =NULL};
    struct memblock mem_122751 = {.desc ="mem_122751", .mem =
                                  futhark_mc_segmap_parloop_struct_130524->free_mem_122751,
                                  .size =0, .references =NULL};
    size_t mem_122735_cached_sizze_130526 = 0;
    char *mem_122735 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129640 = start;
    
    if (mem_122735_cached_sizze_130526 < (size_t) bytes_121048) {
        mem_122735 = realloc(mem_122735, bytes_121048);
        mem_122735_cached_sizze_130526 = bytes_121048;
    }
    for (; iter_129640 < end; iter_129640++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129661 = m_114104;
        int64_t gtid_120211 = iter_129640;
        int64_t remnant_129662 = iter_129640 - gtid_120211;
        float x_116260 = ((float *) mem_122723.mem)[gtid_120211];
        float x_116261 = ((float *) mem_122726.mem)[gtid_120211];
        float x_116262 = ((float *) mem_122729.mem)[gtid_120211];
        
        for (int64_t i_129641 = 0; i_129641 < n_114105; i_129641++) {
            float x_129643 = ((float *) mem_122544.mem)[gtid_120211 * n_114105 +
                                                        i_129641];
            float x_129644 = x_129643 / x_116260;
            float y_129645 = fpow32(x_129644, 2.0F);
            float x_129646 = 1.0F - y_129645;
            float bicube_129647 = fpow32(x_129646, 2.0F);
            bool isnan_res_129648;
            
            isnan_res_129648 = futrts_isnan32(x_129643);
            
            bool cond_f_res_129649 = x_129643 <= x_116262;
            bool x_129650 = !isnan_res_129648;
            bool y_129651 = cond_f_res_129649 && x_129650;
            bool cond_129652 = isnan_res_129648 || y_129651;
            float defunc_0_f_res_129653;
            
            if (cond_129652) {
                defunc_0_f_res_129653 = 1.0F;
            } else {
                bool cond_129654 = x_116261 <= x_129643;
                bool cond_f_res_129655 = x_129643 <= 1.0e-6F;
                bool x_129656 = !cond_129654;
                bool y_129657 = cond_f_res_129655 && x_129656;
                bool cond_129658 = cond_129654 || y_129657;
                float defunc_0_f_res_f_res_129659;
                
                if (cond_129658) {
                    defunc_0_f_res_f_res_129659 = 1.0e-6F;
                } else {
                    defunc_0_f_res_f_res_129659 = bicube_129647;
                }
                defunc_0_f_res_129653 = defunc_0_f_res_f_res_129659;
            }
            ((float *) mem_122735)[i_129641] = defunc_0_f_res_129653;
        }
        memmove(mem_122751.mem + gtid_120211 * n_114105 * (int64_t) 4,
                mem_122735 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122735);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130525_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130525_end -
                 futhark_mc_segmap_parloop_130525_start;
        
        ctx->futhark_mc_segmap_parloop_130525_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130525_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130525_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130523(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120210 = tid;
    int num_tasks_129639 = info.nsubtasks;
    struct futhark_mc_task_130522 *futhark_mc_task_130522 =
                                  (struct futhark_mc_task_130522 *) args;
    struct futhark_context *ctx = futhark_mc_task_130522->ctx;
    uint64_t futhark_mc_segmap_task_130523_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130523_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130522->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130522->free_n_114105;
    int64_t bytes_121048 = futhark_mc_task_130522->free_bytes_121048;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_task_130522->free_mem_122544,
                                  .size =0, .references =NULL};
    struct memblock mem_122723 = {.desc ="mem_122723", .mem =
                                  futhark_mc_task_130522->free_mem_122723,
                                  .size =0, .references =NULL};
    struct memblock mem_122726 = {.desc ="mem_122726", .mem =
                                  futhark_mc_task_130522->free_mem_122726,
                                  .size =0, .references =NULL};
    struct memblock mem_122729 = {.desc ="mem_122729", .mem =
                                  futhark_mc_task_130522->free_mem_122729,
                                  .size =0, .references =NULL};
    struct memblock mem_122751 = {.desc ="mem_122751", .mem =
                                  futhark_mc_task_130522->free_mem_122751,
                                  .size =0, .references =NULL};
    int64_t iter_129640;
    struct futhark_mc_segmap_parloop_struct_130524
    futhark_mc_segmap_parloop_struct_130524;
    
    futhark_mc_segmap_parloop_struct_130524.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130524.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130524.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130524.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130524.free_mem_122544 = mem_122544.mem;
    futhark_mc_segmap_parloop_struct_130524.free_mem_122723 = mem_122723.mem;
    futhark_mc_segmap_parloop_struct_130524.free_mem_122726 = mem_122726.mem;
    futhark_mc_segmap_parloop_struct_130524.free_mem_122729 = mem_122729.mem;
    futhark_mc_segmap_parloop_struct_130524.free_mem_122751 = mem_122751.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130525_task;
    
    futhark_mc_segmap_parloop_130525_task.name =
        "futhark_mc_segmap_parloop_130525";
    futhark_mc_segmap_parloop_130525_task.fn = futhark_mc_segmap_parloop_130525;
    futhark_mc_segmap_parloop_130525_task.args =
        &futhark_mc_segmap_parloop_struct_130524;
    futhark_mc_segmap_parloop_130525_task.iterations = iterations;
    futhark_mc_segmap_parloop_130525_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130525_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130525_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130525_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130525_task);
    
    if (futhark_mc_segmap_parloop_130525_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130525_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130525_total_end -
                 futhark_mc_segmap_parloop_130525_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130525_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130525_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130525_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130523_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130523_end -
                 futhark_mc_segmap_task_130523_start;
        
        ctx->futhark_mc_segmap_task_130523_runs[tid]++;
        ctx->futhark_mc_segmap_task_130523_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130523_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130528 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    int64_t free_bytes_121048;
    char *free_mem_122544;
    char *free_mem_122723;
    char *free_mem_122726;
    char *free_mem_122729;
    char *free_mem_122751;
};
struct futhark_mc_task_130531 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_120213;
    float free_x_120217;
    float free_x_120218;
    float free_x_120219;
    char *free_mem_122544;
    char *free_mem_122732;
};
struct futhark_mc_segmap_parloop_struct_130533 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_120213;
    float free_x_120217;
    float free_x_120218;
    float free_x_120219;
    char *free_mem_122544;
    char *free_mem_122732;
};
static int futhark_mc_segmap_parloop_130534(void *args, int64_t start,
                                            int64_t end, int flat_tid_120214,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130533
    *futhark_mc_segmap_parloop_struct_130533 =
    (struct futhark_mc_segmap_parloop_struct_130533 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130533->ctx;
    uint64_t futhark_mc_segmap_parloop_130534_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130534_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130533->free_n_114105;
    int64_t gtid_120213 =
            futhark_mc_segmap_parloop_struct_130533->free_gtid_120213;
    float x_120217 = futhark_mc_segmap_parloop_struct_130533->free_x_120217;
    float x_120218 = futhark_mc_segmap_parloop_struct_130533->free_x_120218;
    float x_120219 = futhark_mc_segmap_parloop_struct_130533->free_x_120219;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_segmap_parloop_struct_130533->free_mem_122544,
                                  .size =0, .references =NULL};
    struct memblock mem_122732 = {.desc ="mem_122732", .mem =
                                  futhark_mc_segmap_parloop_struct_130533->free_mem_122732,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129685 = start;
    
    for (; iter_129685 < end; iter_129685++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129692 = n_114105;
        int64_t gtid_120215 = iter_129685;
        int64_t remnant_129693 = iter_129685 - gtid_120215;
        float x_129665 = ((float *) mem_122544.mem)[gtid_120213 * n_114105 +
                                                    gtid_120215];
        float x_129666 = x_129665 / x_120217;
        float y_129667 = fpow32(x_129666, 2.0F);
        float x_129668 = 1.0F - y_129667;
        float bicube_129669 = fpow32(x_129668, 2.0F);
        bool isnan_res_129670;
        
        isnan_res_129670 = futrts_isnan32(x_129665);
        
        bool cond_f_res_129671 = x_129665 <= x_120219;
        bool x_129672 = !isnan_res_129670;
        bool y_129673 = cond_f_res_129671 && x_129672;
        bool cond_129674 = isnan_res_129670 || y_129673;
        float defunc_0_f_res_129675;
        
        if (cond_129674) {
            defunc_0_f_res_129675 = 1.0F;
        } else {
            bool cond_129686 = x_120218 <= x_129665;
            bool cond_f_res_129687 = x_129665 <= 1.0e-6F;
            bool x_129688 = !cond_129686;
            bool y_129689 = cond_f_res_129687 && x_129688;
            bool cond_129690 = cond_129686 || y_129689;
            float defunc_0_f_res_f_res_129691;
            
            if (cond_129690) {
                defunc_0_f_res_f_res_129691 = 1.0e-6F;
            } else {
                defunc_0_f_res_f_res_129691 = bicube_129669;
            }
            defunc_0_f_res_129675 = defunc_0_f_res_f_res_129691;
        }
        ((float *) mem_122732.mem)[gtid_120215] = defunc_0_f_res_129675;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130534_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130534_end -
                 futhark_mc_segmap_parloop_130534_start;
        
        ctx->futhark_mc_segmap_parloop_130534_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130534_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130534_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130532(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120214 = tid;
    int num_tasks_129684 = info.nsubtasks;
    struct futhark_mc_task_130531 *futhark_mc_task_130531 =
                                  (struct futhark_mc_task_130531 *) args;
    struct futhark_context *ctx = futhark_mc_task_130531->ctx;
    uint64_t futhark_mc_segmap_task_130532_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130532_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130531->free_n_114105;
    int64_t gtid_120213 = futhark_mc_task_130531->free_gtid_120213;
    float x_120217 = futhark_mc_task_130531->free_x_120217;
    float x_120218 = futhark_mc_task_130531->free_x_120218;
    float x_120219 = futhark_mc_task_130531->free_x_120219;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_task_130531->free_mem_122544,
                                  .size =0, .references =NULL};
    struct memblock mem_122732 = {.desc ="mem_122732", .mem =
                                  futhark_mc_task_130531->free_mem_122732,
                                  .size =0, .references =NULL};
    int64_t iter_129685;
    struct futhark_mc_segmap_parloop_struct_130533
    futhark_mc_segmap_parloop_struct_130533;
    
    futhark_mc_segmap_parloop_struct_130533.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130533.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130533.free_gtid_120213 = gtid_120213;
    futhark_mc_segmap_parloop_struct_130533.free_x_120217 = x_120217;
    futhark_mc_segmap_parloop_struct_130533.free_x_120218 = x_120218;
    futhark_mc_segmap_parloop_struct_130533.free_x_120219 = x_120219;
    futhark_mc_segmap_parloop_struct_130533.free_mem_122544 = mem_122544.mem;
    futhark_mc_segmap_parloop_struct_130533.free_mem_122732 = mem_122732.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130534_task;
    
    futhark_mc_segmap_parloop_130534_task.name =
        "futhark_mc_segmap_parloop_130534";
    futhark_mc_segmap_parloop_130534_task.fn = futhark_mc_segmap_parloop_130534;
    futhark_mc_segmap_parloop_130534_task.args =
        &futhark_mc_segmap_parloop_struct_130533;
    futhark_mc_segmap_parloop_130534_task.iterations = iterations;
    futhark_mc_segmap_parloop_130534_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130534_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130534_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130534_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130534_task);
    
    if (futhark_mc_segmap_parloop_130534_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130534_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130534_total_end -
                 futhark_mc_segmap_parloop_130534_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130534_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130534_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130534_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130532_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130532_end -
                 futhark_mc_segmap_task_130532_start;
        
        ctx->futhark_mc_segmap_task_130532_runs[tid]++;
        ctx->futhark_mc_segmap_task_130532_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130532_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130529(void *args, int64_t start,
                                            int64_t end, int flat_tid_120212,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130528
    *futhark_mc_segmap_parloop_struct_130528 =
    (struct futhark_mc_segmap_parloop_struct_130528 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130528->ctx;
    uint64_t futhark_mc_segmap_parloop_130529_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130529_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130528->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130528->free_n_114105;
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130528->free_bytes_121048;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_segmap_parloop_struct_130528->free_mem_122544,
                                  .size =0, .references =NULL};
    struct memblock mem_122723 = {.desc ="mem_122723", .mem =
                                  futhark_mc_segmap_parloop_struct_130528->free_mem_122723,
                                  .size =0, .references =NULL};
    struct memblock mem_122726 = {.desc ="mem_122726", .mem =
                                  futhark_mc_segmap_parloop_struct_130528->free_mem_122726,
                                  .size =0, .references =NULL};
    struct memblock mem_122729 = {.desc ="mem_122729", .mem =
                                  futhark_mc_segmap_parloop_struct_130528->free_mem_122729,
                                  .size =0, .references =NULL};
    struct memblock mem_122751 = {.desc ="mem_122751", .mem =
                                  futhark_mc_segmap_parloop_struct_130528->free_mem_122751,
                                  .size =0, .references =NULL};
    size_t mem_122732_cached_sizze_130530 = 0;
    char *mem_122732 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129664 = start;
    
    if (mem_122732_cached_sizze_130530 < (size_t) bytes_121048) {
        mem_122732 = realloc(mem_122732, bytes_121048);
        mem_122732_cached_sizze_130530 = bytes_121048;
    }
    for (; iter_129664 < end; iter_129664++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129682 = m_114104;
        int64_t gtid_120213 = iter_129664;
        int64_t remnant_129683 = iter_129664 - gtid_120213;
        float x_120217 = ((float *) mem_122723.mem)[gtid_120213];
        float x_120218 = ((float *) mem_122726.mem)[gtid_120213];
        float x_120219 = ((float *) mem_122729.mem)[gtid_120213];
        int64_t flat_tid_120214 = (int64_t) 0;
        int32_t num_tasks_129684;
        struct futhark_mc_task_130531 futhark_mc_task_130531;
        
        futhark_mc_task_130531.ctx = ctx;
        futhark_mc_task_130531.free_n_114105 = n_114105;
        futhark_mc_task_130531.free_gtid_120213 = gtid_120213;
        futhark_mc_task_130531.free_x_120217 = x_120217;
        futhark_mc_task_130531.free_x_120218 = x_120218;
        futhark_mc_task_130531.free_x_120219 = x_120219;
        futhark_mc_task_130531.free_mem_122544 = mem_122544.mem;
        futhark_mc_task_130531.free_mem_122732 = mem_122732;
        
        struct scheduler_segop futhark_mc_task_130531_task;
        
        futhark_mc_task_130531_task.args = &futhark_mc_task_130531;
        futhark_mc_task_130531_task.top_level_fn =
            futhark_mc_segmap_task_130532;
        futhark_mc_task_130531_task.name = "futhark_mc_segmap_task_130532";
        futhark_mc_task_130531_task.iterations = n_114105;
        futhark_mc_task_130531_task.task_time =
            &ctx->futhark_mc_segmap_task_130532_total_time;
        futhark_mc_task_130531_task.task_iter =
            &ctx->futhark_mc_segmap_task_130532_total_iter;
        futhark_mc_task_130531_task.sched = STATIC;
        futhark_mc_task_130531_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_130532_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130531_task);
        
        if (futhark_mc_segmap_task_130532_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_122751.mem + gtid_120213 * n_114105 * (int64_t) 4,
                mem_122732 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122732);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130529_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130529_end -
                 futhark_mc_segmap_parloop_130529_start;
        
        ctx->futhark_mc_segmap_parloop_130529_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130529_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130529_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130527(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120212 = tid;
    int num_tasks_129639 = info.nsubtasks;
    struct futhark_mc_task_130522 *futhark_mc_task_130522 =
                                  (struct futhark_mc_task_130522 *) args;
    struct futhark_context *ctx = futhark_mc_task_130522->ctx;
    uint64_t futhark_mc_segmap_nested_task_130527_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130527_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130522->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130522->free_n_114105;
    int64_t bytes_121048 = futhark_mc_task_130522->free_bytes_121048;
    struct memblock mem_122544 = {.desc ="mem_122544", .mem =
                                  futhark_mc_task_130522->free_mem_122544,
                                  .size =0, .references =NULL};
    struct memblock mem_122723 = {.desc ="mem_122723", .mem =
                                  futhark_mc_task_130522->free_mem_122723,
                                  .size =0, .references =NULL};
    struct memblock mem_122726 = {.desc ="mem_122726", .mem =
                                  futhark_mc_task_130522->free_mem_122726,
                                  .size =0, .references =NULL};
    struct memblock mem_122729 = {.desc ="mem_122729", .mem =
                                  futhark_mc_task_130522->free_mem_122729,
                                  .size =0, .references =NULL};
    struct memblock mem_122751 = {.desc ="mem_122751", .mem =
                                  futhark_mc_task_130522->free_mem_122751,
                                  .size =0, .references =NULL};
    int64_t iter_129664;
    struct futhark_mc_segmap_parloop_struct_130528
    futhark_mc_segmap_parloop_struct_130528;
    
    futhark_mc_segmap_parloop_struct_130528.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130528.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130528.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130528.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130528.free_mem_122544 = mem_122544.mem;
    futhark_mc_segmap_parloop_struct_130528.free_mem_122723 = mem_122723.mem;
    futhark_mc_segmap_parloop_struct_130528.free_mem_122726 = mem_122726.mem;
    futhark_mc_segmap_parloop_struct_130528.free_mem_122729 = mem_122729.mem;
    futhark_mc_segmap_parloop_struct_130528.free_mem_122751 = mem_122751.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130529_task;
    
    futhark_mc_segmap_parloop_130529_task.name =
        "futhark_mc_segmap_parloop_130529";
    futhark_mc_segmap_parloop_130529_task.fn = futhark_mc_segmap_parloop_130529;
    futhark_mc_segmap_parloop_130529_task.args =
        &futhark_mc_segmap_parloop_struct_130528;
    futhark_mc_segmap_parloop_130529_task.iterations = iterations;
    futhark_mc_segmap_parloop_130529_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130529_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130529_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130529_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130529_task);
    
    if (futhark_mc_segmap_parloop_130529_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130529_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130529_total_end -
                 futhark_mc_segmap_parloop_130529_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130529_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130529_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130529_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130527_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130527_end -
                 futhark_mc_segmap_nested_task_130527_start;
        
        ctx->futhark_mc_segmap_nested_task_130527_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130527_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130527_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_task_130535 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_Y_mem_121004;
    int64_t free_bytes_121048;
    char *free_ext_mem_122761;
    char *free_ext_mem_122762;
    int64_t free_ext_122773;
    char *free_mem_122805;
};
struct futhark_mc_segmap_parloop_struct_130537 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_Y_mem_121004;
    int64_t free_bytes_121048;
    char *free_ext_mem_122761;
    char *free_ext_mem_122762;
    int64_t free_ext_122773;
    char *free_mem_122805;
};
static int futhark_mc_segmap_parloop_130538(void *args, int64_t start,
                                            int64_t end, int flat_tid_120238,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130537
    *futhark_mc_segmap_parloop_struct_130537 =
    (struct futhark_mc_segmap_parloop_struct_130537 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130537->ctx;
    uint64_t futhark_mc_segmap_parloop_130538_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130538_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130537->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130537->free_n_114105;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_130537->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130537->free_bytes_121048;
    struct memblock ext_mem_122761 = {.desc ="ext_mem_122761", .mem =
                                      futhark_mc_segmap_parloop_struct_130537->free_ext_mem_122761,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122762 = {.desc ="ext_mem_122762", .mem =
                                      futhark_mc_segmap_parloop_struct_130537->free_ext_mem_122762,
                                      .size =0, .references =NULL};
    int64_t ext_122773 =
            futhark_mc_segmap_parloop_struct_130537->free_ext_122773;
    struct memblock mem_122805 = {.desc ="mem_122805", .mem =
                                  futhark_mc_segmap_parloop_struct_130537->free_mem_122805,
                                  .size =0, .references =NULL};
    size_t mem_122789_cached_sizze_130539 = 0;
    char *mem_122789 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129695 = start;
    
    if (mem_122789_cached_sizze_130539 < (size_t) bytes_121048) {
        mem_122789 = realloc(mem_122789, bytes_121048);
        mem_122789_cached_sizze_130539 = bytes_121048;
    }
    for (; iter_129695 < end; iter_129695++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129704 = m_114104;
        int64_t gtid_120239 = iter_129695;
        int64_t remnant_129705 = iter_129695 - gtid_120239;
        
        for (int64_t i_129696 = 0; i_129696 < n_114105; i_129696++) {
            float x_129698 = ((float *) Y_mem_121004.mem)[gtid_120239 *
                                                          n_114105 + i_129696];
            float x_129699 = ((float *) ext_mem_122762.mem)[gtid_120239 *
                                                            n_114105 +
                                                            i_129696];
            float x_129700 = ((float *) ext_mem_122761.mem)[gtid_120239 *
                                                            ext_122773 +
                                                            i_129696];
            float x_129701 = x_129698 - x_129699;
            float defunc_2_f_res_129702 = x_129701 - x_129700;
            
            ((float *) mem_122789)[i_129696] = defunc_2_f_res_129702;
        }
        memmove(mem_122805.mem + gtid_120239 * n_114105 * (int64_t) 4,
                mem_122789 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122789);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130538_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130538_end -
                 futhark_mc_segmap_parloop_130538_start;
        
        ctx->futhark_mc_segmap_parloop_130538_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130538_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130538_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130536(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120238 = tid;
    int num_tasks_129694 = info.nsubtasks;
    struct futhark_mc_task_130535 *futhark_mc_task_130535 =
                                  (struct futhark_mc_task_130535 *) args;
    struct futhark_context *ctx = futhark_mc_task_130535->ctx;
    uint64_t futhark_mc_segmap_task_130536_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130536_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130535->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130535->free_n_114105;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_130535->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121048 = futhark_mc_task_130535->free_bytes_121048;
    struct memblock ext_mem_122761 = {.desc ="ext_mem_122761", .mem =
                                      futhark_mc_task_130535->free_ext_mem_122761,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122762 = {.desc ="ext_mem_122762", .mem =
                                      futhark_mc_task_130535->free_ext_mem_122762,
                                      .size =0, .references =NULL};
    int64_t ext_122773 = futhark_mc_task_130535->free_ext_122773;
    struct memblock mem_122805 = {.desc ="mem_122805", .mem =
                                  futhark_mc_task_130535->free_mem_122805,
                                  .size =0, .references =NULL};
    int64_t iter_129695;
    struct futhark_mc_segmap_parloop_struct_130537
    futhark_mc_segmap_parloop_struct_130537;
    
    futhark_mc_segmap_parloop_struct_130537.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130537.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130537.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130537.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_130537.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130537.free_ext_mem_122761 =
        ext_mem_122761.mem;
    futhark_mc_segmap_parloop_struct_130537.free_ext_mem_122762 =
        ext_mem_122762.mem;
    futhark_mc_segmap_parloop_struct_130537.free_ext_122773 = ext_122773;
    futhark_mc_segmap_parloop_struct_130537.free_mem_122805 = mem_122805.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130538_task;
    
    futhark_mc_segmap_parloop_130538_task.name =
        "futhark_mc_segmap_parloop_130538";
    futhark_mc_segmap_parloop_130538_task.fn = futhark_mc_segmap_parloop_130538;
    futhark_mc_segmap_parloop_130538_task.args =
        &futhark_mc_segmap_parloop_struct_130537;
    futhark_mc_segmap_parloop_130538_task.iterations = iterations;
    futhark_mc_segmap_parloop_130538_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130538_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130538_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130538_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130538_task);
    
    if (futhark_mc_segmap_parloop_130538_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130538_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130538_total_end -
                 futhark_mc_segmap_parloop_130538_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130538_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130538_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130538_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130536_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130536_end -
                 futhark_mc_segmap_task_130536_start;
        
        ctx->futhark_mc_segmap_task_130536_runs[tid]++;
        ctx->futhark_mc_segmap_task_130536_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130536_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_130541 {
    struct futhark_context *ctx;
    int64_t free_m_114104;
    int64_t free_n_114105;
    char *free_Y_mem_121004;
    int64_t free_bytes_121048;
    char *free_ext_mem_122761;
    char *free_ext_mem_122762;
    int64_t free_ext_122773;
    char *free_mem_122805;
};
struct futhark_mc_task_130544 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_120241;
    char *free_Y_mem_121004;
    char *free_ext_mem_122761;
    char *free_ext_mem_122762;
    int64_t free_ext_122773;
    char *free_mem_122786;
};
struct futhark_mc_segmap_parloop_struct_130546 {
    struct futhark_context *ctx;
    int64_t free_n_114105;
    int64_t free_gtid_120241;
    char *free_Y_mem_121004;
    char *free_ext_mem_122761;
    char *free_ext_mem_122762;
    int64_t free_ext_122773;
    char *free_mem_122786;
};
static int futhark_mc_segmap_parloop_130547(void *args, int64_t start,
                                            int64_t end, int flat_tid_120242,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130546
    *futhark_mc_segmap_parloop_struct_130546 =
    (struct futhark_mc_segmap_parloop_struct_130546 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130546->ctx;
    uint64_t futhark_mc_segmap_parloop_130547_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130547_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130546->free_n_114105;
    int64_t gtid_120241 =
            futhark_mc_segmap_parloop_struct_130546->free_gtid_120241;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_130546->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock ext_mem_122761 = {.desc ="ext_mem_122761", .mem =
                                      futhark_mc_segmap_parloop_struct_130546->free_ext_mem_122761,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122762 = {.desc ="ext_mem_122762", .mem =
                                      futhark_mc_segmap_parloop_struct_130546->free_ext_mem_122762,
                                      .size =0, .references =NULL};
    int64_t ext_122773 =
            futhark_mc_segmap_parloop_struct_130546->free_ext_122773;
    struct memblock mem_122786 = {.desc ="mem_122786", .mem =
                                  futhark_mc_segmap_parloop_struct_130546->free_mem_122786,
                                  .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t iter_129716 = start;
    
    for (; iter_129716 < end; iter_129716++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129717 = n_114105;
        int64_t gtid_120243 = iter_129716;
        int64_t remnant_129718 = iter_129716 - gtid_120243;
        float x_129708 = ((float *) Y_mem_121004.mem)[gtid_120241 * n_114105 +
                                                      gtid_120243];
        float x_129709 = ((float *) ext_mem_122762.mem)[gtid_120241 * n_114105 +
                                                        gtid_120243];
        float x_129710 = ((float *) ext_mem_122761.mem)[gtid_120241 *
                                                        ext_122773 +
                                                        gtid_120243];
        float x_129711 = x_129708 - x_129709;
        float defunc_2_f_res_129712 = x_129711 - x_129710;
        
        ((float *) mem_122786.mem)[gtid_120243] = defunc_2_f_res_129712;
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130547_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130547_end -
                 futhark_mc_segmap_parloop_130547_start;
        
        ctx->futhark_mc_segmap_parloop_130547_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130547_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130547_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_130545(void *args, int64_t iterations, int tid,
                                  struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120242 = tid;
    int num_tasks_129715 = info.nsubtasks;
    struct futhark_mc_task_130544 *futhark_mc_task_130544 =
                                  (struct futhark_mc_task_130544 *) args;
    struct futhark_context *ctx = futhark_mc_task_130544->ctx;
    uint64_t futhark_mc_segmap_task_130545_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_130545_start = get_wall_time();
    
    int64_t n_114105 = futhark_mc_task_130544->free_n_114105;
    int64_t gtid_120241 = futhark_mc_task_130544->free_gtid_120241;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_130544->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    struct memblock ext_mem_122761 = {.desc ="ext_mem_122761", .mem =
                                      futhark_mc_task_130544->free_ext_mem_122761,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122762 = {.desc ="ext_mem_122762", .mem =
                                      futhark_mc_task_130544->free_ext_mem_122762,
                                      .size =0, .references =NULL};
    int64_t ext_122773 = futhark_mc_task_130544->free_ext_122773;
    struct memblock mem_122786 = {.desc ="mem_122786", .mem =
                                  futhark_mc_task_130544->free_mem_122786,
                                  .size =0, .references =NULL};
    int64_t iter_129716;
    struct futhark_mc_segmap_parloop_struct_130546
    futhark_mc_segmap_parloop_struct_130546;
    
    futhark_mc_segmap_parloop_struct_130546.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130546.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130546.free_gtid_120241 = gtid_120241;
    futhark_mc_segmap_parloop_struct_130546.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_130546.free_ext_mem_122761 =
        ext_mem_122761.mem;
    futhark_mc_segmap_parloop_struct_130546.free_ext_mem_122762 =
        ext_mem_122762.mem;
    futhark_mc_segmap_parloop_struct_130546.free_ext_122773 = ext_122773;
    futhark_mc_segmap_parloop_struct_130546.free_mem_122786 = mem_122786.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130547_task;
    
    futhark_mc_segmap_parloop_130547_task.name =
        "futhark_mc_segmap_parloop_130547";
    futhark_mc_segmap_parloop_130547_task.fn = futhark_mc_segmap_parloop_130547;
    futhark_mc_segmap_parloop_130547_task.args =
        &futhark_mc_segmap_parloop_struct_130546;
    futhark_mc_segmap_parloop_130547_task.iterations = iterations;
    futhark_mc_segmap_parloop_130547_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130547_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130547_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130547_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130547_task);
    
    if (futhark_mc_segmap_parloop_130547_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130547_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130547_total_end -
                 futhark_mc_segmap_parloop_130547_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130547_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130547_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130547_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_130545_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_130545_end -
                 futhark_mc_segmap_task_130545_start;
        
        ctx->futhark_mc_segmap_task_130545_runs[tid]++;
        ctx->futhark_mc_segmap_task_130545_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_130545_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
static int futhark_mc_segmap_parloop_130542(void *args, int64_t start,
                                            int64_t end, int flat_tid_120240,
                                            int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_130541
    *futhark_mc_segmap_parloop_struct_130541 =
    (struct futhark_mc_segmap_parloop_struct_130541 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_130541->ctx;
    uint64_t futhark_mc_segmap_parloop_130542_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130542_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_segmap_parloop_struct_130541->free_m_114104;
    int64_t n_114105 = futhark_mc_segmap_parloop_struct_130541->free_n_114105;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_segmap_parloop_struct_130541->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121048 =
            futhark_mc_segmap_parloop_struct_130541->free_bytes_121048;
    struct memblock ext_mem_122761 = {.desc ="ext_mem_122761", .mem =
                                      futhark_mc_segmap_parloop_struct_130541->free_ext_mem_122761,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122762 = {.desc ="ext_mem_122762", .mem =
                                      futhark_mc_segmap_parloop_struct_130541->free_ext_mem_122762,
                                      .size =0, .references =NULL};
    int64_t ext_122773 =
            futhark_mc_segmap_parloop_struct_130541->free_ext_122773;
    struct memblock mem_122805 = {.desc ="mem_122805", .mem =
                                  futhark_mc_segmap_parloop_struct_130541->free_mem_122805,
                                  .size =0, .references =NULL};
    size_t mem_122786_cached_sizze_130543 = 0;
    char *mem_122786 = NULL;
    int64_t iterations = end - start;
    int64_t iter_129707 = start;
    
    if (mem_122786_cached_sizze_130543 < (size_t) bytes_121048) {
        mem_122786 = realloc(mem_122786, bytes_121048);
        mem_122786_cached_sizze_130543 = bytes_121048;
    }
    for (; iter_129707 < end; iter_129707++) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "SegMap fbody");
        
        int64_t slice_129713 = m_114104;
        int64_t gtid_120241 = iter_129707;
        int64_t remnant_129714 = iter_129707 - gtid_120241;
        int64_t flat_tid_120242 = (int64_t) 0;
        int32_t num_tasks_129715;
        struct futhark_mc_task_130544 futhark_mc_task_130544;
        
        futhark_mc_task_130544.ctx = ctx;
        futhark_mc_task_130544.free_n_114105 = n_114105;
        futhark_mc_task_130544.free_gtid_120241 = gtid_120241;
        futhark_mc_task_130544.free_Y_mem_121004 = Y_mem_121004.mem;
        futhark_mc_task_130544.free_ext_mem_122761 = ext_mem_122761.mem;
        futhark_mc_task_130544.free_ext_mem_122762 = ext_mem_122762.mem;
        futhark_mc_task_130544.free_ext_122773 = ext_122773;
        futhark_mc_task_130544.free_mem_122786 = mem_122786;
        
        struct scheduler_segop futhark_mc_task_130544_task;
        
        futhark_mc_task_130544_task.args = &futhark_mc_task_130544;
        futhark_mc_task_130544_task.top_level_fn =
            futhark_mc_segmap_task_130545;
        futhark_mc_task_130544_task.name = "futhark_mc_segmap_task_130545";
        futhark_mc_task_130544_task.iterations = n_114105;
        futhark_mc_task_130544_task.task_time =
            &ctx->futhark_mc_segmap_task_130545_total_time;
        futhark_mc_task_130544_task.task_iter =
            &ctx->futhark_mc_segmap_task_130545_total_iter;
        futhark_mc_task_130544_task.sched = STATIC;
        futhark_mc_task_130544_task.nested_fn = NULL;
        
        int futhark_mc_segmap_task_130545_err =
            scheduler_prepare_task(&ctx->scheduler,
                                   &futhark_mc_task_130544_task);
        
        if (futhark_mc_segmap_task_130545_err != 0) {
            err = 1;
            goto cleanup;
        }
        memmove(mem_122805.mem + gtid_120241 * n_114105 * (int64_t) 4,
                mem_122786 + (int64_t) 0, n_114105 * (int64_t) 4);
    }
    
  cleanup:
    { }
    free(mem_122786);
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130542_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130542_end -
                 futhark_mc_segmap_parloop_130542_start;
        
        ctx->futhark_mc_segmap_parloop_130542_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_130542_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_130542_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_130540(void *args, int64_t iterations,
                                         int tid, struct scheduler_info info)
{
    int err = 0;
    int flat_tid_120240 = tid;
    int num_tasks_129694 = info.nsubtasks;
    struct futhark_mc_task_130535 *futhark_mc_task_130535 =
                                  (struct futhark_mc_task_130535 *) args;
    struct futhark_context *ctx = futhark_mc_task_130535->ctx;
    uint64_t futhark_mc_segmap_nested_task_130540_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_130540_start = get_wall_time();
    
    int64_t m_114104 = futhark_mc_task_130535->free_m_114104;
    int64_t n_114105 = futhark_mc_task_130535->free_n_114105;
    struct memblock Y_mem_121004 = {.desc ="Y_mem_121004", .mem =
                                    futhark_mc_task_130535->free_Y_mem_121004,
                                    .size =0, .references =NULL};
    int64_t bytes_121048 = futhark_mc_task_130535->free_bytes_121048;
    struct memblock ext_mem_122761 = {.desc ="ext_mem_122761", .mem =
                                      futhark_mc_task_130535->free_ext_mem_122761,
                                      .size =0, .references =NULL};
    struct memblock ext_mem_122762 = {.desc ="ext_mem_122762", .mem =
                                      futhark_mc_task_130535->free_ext_mem_122762,
                                      .size =0, .references =NULL};
    int64_t ext_122773 = futhark_mc_task_130535->free_ext_122773;
    struct memblock mem_122805 = {.desc ="mem_122805", .mem =
                                  futhark_mc_task_130535->free_mem_122805,
                                  .size =0, .references =NULL};
    int64_t iter_129707;
    struct futhark_mc_segmap_parloop_struct_130541
    futhark_mc_segmap_parloop_struct_130541;
    
    futhark_mc_segmap_parloop_struct_130541.ctx = ctx;
    futhark_mc_segmap_parloop_struct_130541.free_m_114104 = m_114104;
    futhark_mc_segmap_parloop_struct_130541.free_n_114105 = n_114105;
    futhark_mc_segmap_parloop_struct_130541.free_Y_mem_121004 =
        Y_mem_121004.mem;
    futhark_mc_segmap_parloop_struct_130541.free_bytes_121048 = bytes_121048;
    futhark_mc_segmap_parloop_struct_130541.free_ext_mem_122761 =
        ext_mem_122761.mem;
    futhark_mc_segmap_parloop_struct_130541.free_ext_mem_122762 =
        ext_mem_122762.mem;
    futhark_mc_segmap_parloop_struct_130541.free_ext_122773 = ext_122773;
    futhark_mc_segmap_parloop_struct_130541.free_mem_122805 = mem_122805.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_130542_task;
    
    futhark_mc_segmap_parloop_130542_task.name =
        "futhark_mc_segmap_parloop_130542";
    futhark_mc_segmap_parloop_130542_task.fn = futhark_mc_segmap_parloop_130542;
    futhark_mc_segmap_parloop_130542_task.args =
        &futhark_mc_segmap_parloop_struct_130541;
    futhark_mc_segmap_parloop_130542_task.iterations = iterations;
    futhark_mc_segmap_parloop_130542_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_130542_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_130542_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_130542_err =
        scheduler_execute_task(&ctx->scheduler,
                               &futhark_mc_segmap_parloop_130542_task);
    
    if (futhark_mc_segmap_parloop_130542_err != 0) {
        err = 1;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_130542_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_130542_total_end -
                 futhark_mc_segmap_parloop_130542_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130542_total_runs, 1,
                           __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130542_total_total_runtime,
                           elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_130542_total_iter,
                           iterations, __ATOMIC_RELAXED);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_130540_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_130540_end -
                 futhark_mc_segmap_nested_task_130540_start;
        
        ctx->futhark_mc_segmap_nested_task_130540_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_130540_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_130540_iter[tid] += iterations;
    }
    
  cleanup:
    { }
    return err;
}
struct futhark_f32_2d {
    struct memblock mem;
    int64_t shape[2];
};
struct futhark_f32_2d *futhark_new_f32_2d(struct futhark_context *ctx, const
                                          float *data, int64_t dim0,
                                          int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, (size_t) (dim0 * dim1) * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    memmove(arr->mem.mem + 0, data + 0, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_f32_2d *futhark_new_raw_f32_2d(struct futhark_context *ctx, const
                                              char *data, int offset,
                                              int64_t dim0, int64_t dim1)
{
    struct futhark_f32_2d *bad = NULL;
    struct futhark_f32_2d *arr =
                          (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, (size_t) (dim0 * dim1) * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    memmove(arr->mem.mem + 0, data + offset, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_2d(struct futhark_context *ctx, struct futhark_f32_2d *arr)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_2d(struct futhark_context *ctx,
                          struct futhark_f32_2d *arr, float *data)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    memmove(data + 0, arr->mem.mem + 0, (size_t) (arr->shape[0] *
                                                  arr->shape[1]) * 4);
    lock_unlock(&ctx->lock);
    return 0;
}
char *futhark_values_raw_f32_2d(struct futhark_context *ctx,
                                struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_2d(struct futhark_context *ctx,
                                    struct futhark_f32_2d *arr)
{
    (void) ctx;
    return arr->shape;
}
static int futrts_entry_main(struct futhark_context *ctx,
                             struct memblock *mem_out_p_129719,
                             struct memblock *mem_out_p_129720,
                             struct memblock *mem_out_p_129721,
                             struct memblock Y_mem_121004, int64_t m_114104,
                             int64_t n_114105, int64_t n_p_114107,
                             int64_t t_window_114108, int64_t l_window_114109,
                             int64_t t_degree_114110, int64_t l_degree_114111,
                             int64_t t_jump_114112, int64_t l_jump_114113,
                             int64_t inner_114114, int64_t outer_114115,
                             int64_t jump_threshold_114116,
                             int64_t max_group_sizze_114117)
{
    (void) ctx;
    
    int err = 0;
    size_t mem_121044_cached_sizze_129722 = 0;
    char *mem_121044 = NULL;
    size_t mem_121047_cached_sizze_129723 = 0;
    char *mem_121047 = NULL;
    size_t mem_121069_cached_sizze_129724 = 0;
    char *mem_121069 = NULL;
    size_t mem_121091_cached_sizze_129725 = 0;
    char *mem_121091 = NULL;
    size_t mem_121113_cached_sizze_129726 = 0;
    char *mem_121113 = NULL;
    size_t mem_121171_cached_sizze_129727 = 0;
    char *mem_121171 = NULL;
    size_t mem_121175_cached_sizze_129728 = 0;
    char *mem_121175 = NULL;
    size_t mem_121233_cached_sizze_129729 = 0;
    char *mem_121233 = NULL;
    size_t mem_121237_cached_sizze_129730 = 0;
    char *mem_121237 = NULL;
    size_t mem_121313_cached_sizze_129731 = 0;
    char *mem_121313 = NULL;
    size_t mem_121335_cached_sizze_129732 = 0;
    char *mem_121335 = NULL;
    size_t mem_121357_cached_sizze_129733 = 0;
    char *mem_121357 = NULL;
    size_t mem_121360_cached_sizze_129734 = 0;
    char *mem_121360 = NULL;
    size_t mem_121382_cached_sizze_129735 = 0;
    char *mem_121382 = NULL;
    size_t mem_121385_cached_sizze_129736 = 0;
    char *mem_121385 = NULL;
    size_t mem_121407_cached_sizze_129737 = 0;
    char *mem_121407 = NULL;
    size_t mem_121410_cached_sizze_129738 = 0;
    char *mem_121410 = NULL;
    size_t mem_121432_cached_sizze_129739 = 0;
    char *mem_121432 = NULL;
    size_t mem_122001_cached_sizze_129740 = 0;
    char *mem_122001 = NULL;
    size_t mem_122005_cached_sizze_129741 = 0;
    char *mem_122005 = NULL;
    size_t mem_122544_cached_sizze_129742 = 0;
    char *mem_122544 = NULL;
    size_t mem_122566_cached_sizze_129743 = 0;
    char *mem_122566 = NULL;
    size_t mem_122720_cached_sizze_129744 = 0;
    char *mem_122720 = NULL;
    size_t mem_122723_cached_sizze_129745 = 0;
    char *mem_122723 = NULL;
    size_t mem_122726_cached_sizze_129746 = 0;
    char *mem_122726 = NULL;
    size_t mem_122729_cached_sizze_129747 = 0;
    char *mem_122729 = NULL;
    struct memblock mem_out_122884;
    
    mem_out_122884.references = NULL;
    
    struct memblock mem_out_122885;
    
    mem_out_122885.references = NULL;
    
    struct memblock mem_out_122886;
    
    mem_out_122886.references = NULL;
    
    bool assert_cond_114118 = sle64((int64_t) 4, n_p_114107);
    bool assert_c_114119;
    
    if (!assert_cond_114118) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (n_p >= 4)",
                               "-> #0  stl.fut:69:13-33\n   #1  stl.fut:365:3-376:33\n   #2  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    int64_t x_114120 = smod64(t_window_114108, (int64_t) 2);
    bool assert_cond_114121 = x_114120 == (int64_t) 1;
    bool assert_c_114122;
    
    if (!assert_cond_114121) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x % 2 == 1)",
                               "-> #0  utils.fut:5:3-23\n   #1  /prelude/functional.fut:39:62-64\n   #2  stl.fut:71:18-35\n   #3  stl.fut:365:3-376:33\n   #4  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool assert_cond_114123 = slt64((int64_t) 0, t_window_114108);
    bool assert_c_114124;
    
    if (!assert_cond_114123) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x > 0)",
                               "-> #0  utils.fut:2:3-18\n   #1  /prelude/functional.fut:39:59-65\n   #2  stl.fut:71:18-35\n   #3  stl.fut:365:3-376:33\n   #4  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    int64_t x_114125 = smod64(l_window_114109, (int64_t) 2);
    bool assert_cond_114126 = x_114125 == (int64_t) 1;
    bool assert_c_114127;
    
    if (!assert_cond_114126) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x % 2 == 1)",
                               "-> #0  utils.fut:5:3-23\n   #1  /prelude/functional.fut:39:62-64\n   #2  stl.fut:72:18-35\n   #3  stl.fut:365:3-376:33\n   #4  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool assert_cond_114128 = slt64((int64_t) 0, l_window_114109);
    bool assert_c_114129;
    
    if (!assert_cond_114128) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x > 0)",
                               "-> #0  utils.fut:2:3-18\n   #1  /prelude/functional.fut:39:59-65\n   #2  stl.fut:72:18-35\n   #3  stl.fut:365:3-376:33\n   #4  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool cond_114130 = sle64((int64_t) 0, t_degree_114110);
    bool assert_cond_t_res_114131 = sle64(t_degree_114110, (int64_t) 2);
    bool x_114132 = cond_114130 && assert_cond_t_res_114131;
    bool assert_c_114133;
    
    if (!x_114132) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x >= 0 && x <= 2)",
                               "-> #0  utils.fut:8:3-29\n   #1  stl.fut:74:18-35\n   #2  stl.fut:365:3-376:33\n   #3  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool cond_114134 = sle64((int64_t) 0, l_degree_114111);
    bool assert_cond_t_res_114135 = sle64(l_degree_114111, (int64_t) 2);
    bool x_114136 = cond_114134 && assert_cond_t_res_114135;
    bool assert_c_114137;
    
    if (!x_114136) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x >= 0 && x <= 2)",
                               "-> #0  utils.fut:8:3-29\n   #1  stl.fut:75:18-35\n   #2  stl.fut:365:3-376:33\n   #3  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool assert_cond_114138 = sle64((int64_t) 0, t_jump_114112);
    bool assert_c_114139;
    
    if (!assert_cond_114138) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x >= 0)",
                               "-> #0  utils.fut:14:3-19\n   #1  stl.fut:77:16-34\n   #2  stl.fut:365:3-376:33\n   #3  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool assert_cond_114140 = sle64((int64_t) 0, l_jump_114113);
    bool assert_c_114141;
    
    if (!assert_cond_114140) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x >= 0)",
                               "-> #0  utils.fut:14:3-19\n   #1  stl.fut:78:16-34\n   #2  stl.fut:365:3-376:33\n   #3  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool assert_cond_114142 = slt64((int64_t) 0, inner_114114);
    bool assert_c_114143;
    
    if (!assert_cond_114142) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x > 0)",
                               "-> #0  utils.fut:2:3-18\n   #1  stl.fut:80:15-29\n   #2  stl.fut:365:3-376:33\n   #3  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool assert_cond_114144 = sle64((int64_t) 0, outer_114115);
    bool assert_c_114145;
    
    if (!assert_cond_114144) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "Assertion is false: (x >= 0)",
                               "-> #0  utils.fut:14:3-19\n   #1  stl.fut:81:15-32\n   #2  stl.fut:365:3-376:33\n   #3  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    float i64_res_114146 = sitofp_i64_f32(n_114105);
    float i64_res_114147 = sitofp_i64_f32(n_p_114107);
    float binop_p_114148 = i64_res_114146 / i64_res_114147;
    float defunc_0_f_res_114149;
    
    defunc_0_f_res_114149 = futrts_ceil32(binop_p_114148);
    
    int64_t defunc_0_f_res_114150 = fptosi_f32_i64(defunc_0_f_res_114149);
    int64_t css_chunk_len_114151 = add64((int64_t) 2, defunc_0_f_res_114150);
    int64_t y_114152 = mul64((int64_t) 2, n_p_114107);
    int64_t C_len_114153 = add64(n_114105, y_114152);
    bool cond_114154 = l_jump_114113 == (int64_t) 1;
    int64_t l_n_m_114155;
    
    if (cond_114154) {
        l_n_m_114155 = n_114105;
    } else {
        bool zzero_114156 = l_jump_114113 == (int64_t) 0;
        bool nonzzero_114157 = !zzero_114156;
        bool nonzzero_cert_114158;
        
        if (!nonzzero_114157) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  stl.fut:89:42-51\n   #1  stl.fut:365:3-376:33\n   #2  stl.fut:352:1-376:33\n");
            if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
                return 1;
            return 1;
        }
        
        int64_t x_114159 = sdiv64(n_114105, l_jump_114113);
        int64_t l_n_m_f_res_114160 = add64((int64_t) 1, x_114159);
        
        l_n_m_114155 = l_n_m_f_res_114160;
    }
    
    bool cond_114161 = t_jump_114112 == (int64_t) 1;
    int64_t t_n_m_114162;
    
    if (cond_114161) {
        t_n_m_114162 = n_114105;
    } else {
        bool zzero_114163 = t_jump_114112 == (int64_t) 0;
        bool nonzzero_114164 = !zzero_114163;
        bool nonzzero_cert_114165;
        
        if (!nonzzero_114164) {
            ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                   "division by zero",
                                   "-> #0  stl.fut:93:42-51\n   #1  stl.fut:365:3-376:33\n   #2  stl.fut:352:1-376:33\n");
            if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
                return 1;
            return 1;
        }
        
        int64_t x_114166 = sdiv64(n_114105, t_jump_114112);
        int64_t t_n_m_f_res_114167 = add64((int64_t) 1, x_114166);
        
        t_n_m_114162 = t_n_m_f_res_114167;
    }
    
    float x_114168 = i64_res_114146 / 2.0F;
    float floor_arg_114169 = 1.0F + x_114168;
    float floor_res_114170;
    
    floor_res_114170 = futrts_floor32(floor_arg_114169);
    
    int64_t defunc_0_f_res_114171 = fptosi_f32_i64(floor_res_114170);
    int64_t x_114172 = sub64(n_114105, defunc_0_f_res_114171);
    int64_t mid2_114173 = add64((int64_t) 1, x_114172);
    bool cond_114174 = defunc_0_f_res_114171 == mid2_114173;
    int64_t stl_res_114175;
    int64_t stl_res_114176;
    
    if (cond_114174) {
        int64_t stl_res_t_res_114177 = sub64(defunc_0_f_res_114171,
                                             (int64_t) 1);
        
        stl_res_114175 = stl_res_t_res_114177;
        stl_res_114176 = defunc_0_f_res_114171;
    } else {
        int64_t min_res_114178 = smin64(defunc_0_f_res_114171, mid2_114173);
        int64_t stl_res_f_res_114179 = sub64(min_res_114178, (int64_t) 1);
        int64_t max_res_114180 = smax64(defunc_0_f_res_114171, mid2_114173);
        
        stl_res_114175 = stl_res_f_res_114179;
        stl_res_114176 = max_res_114180;
    }
    
    int64_t i_114181 = sub64(n_114105, (int64_t) 1);
    bool x_114182 = sle64((int64_t) 0, i_114181);
    bool y_114183 = slt64(i_114181, n_114105);
    bool bounds_check_114184 = x_114182 && y_114183;
    bool index_certs_114185;
    
    if (!bounds_check_114184) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [", (long long) i_114181,
                               "] out of bounds for array of shape [",
                               (long long) n_114105, "].",
                               "-> #0  /prelude/array.fut:26:29-34\n   #1  utils.fut:38:13-20\n   #2  stl.fut:107:31-49\n   #3  stl.fut:365:3-376:33\n   #4  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    int64_t binop_x_121042 = m_114104 * n_114105;
    int64_t binop_y_121043 = (int64_t) 8 * binop_x_121042;
    int64_t bytes_121041 = smax64((int64_t) 0, binop_y_121043);
    
    if (mem_121044_cached_sizze_129722 < (size_t) bytes_121041) {
        mem_121044 = realloc(mem_121044, bytes_121041);
        mem_121044_cached_sizze_129722 = bytes_121041;
    }
    
    int64_t binop_y_121046 = (int64_t) 8 * m_114104;
    int64_t bytes_121045 = smax64((int64_t) 0, binop_y_121046);
    
    if (mem_121047_cached_sizze_129723 < (size_t) bytes_121045) {
        mem_121047 = realloc(mem_121047, bytes_121045);
        mem_121047_cached_sizze_129723 = bytes_121045;
    }
    
    int64_t binop_y_121006 = (int64_t) 8 * n_114105;
    int64_t bytes_121005 = smax64((int64_t) 0, binop_y_121006);
    int64_t flat_tid_116293 = (int64_t) 0;
    int32_t num_tasks_122887;
    int64_t flat_tid_116295 = (int64_t) 0;
    struct futhark_mc_task_129748 futhark_mc_task_129748;
    
    futhark_mc_task_129748.ctx = ctx;
    futhark_mc_task_129748.free_m_114104 = m_114104;
    futhark_mc_task_129748.free_n_114105 = n_114105;
    futhark_mc_task_129748.free_i_114181 = i_114181;
    futhark_mc_task_129748.free_Y_mem_121004 = Y_mem_121004.mem;
    futhark_mc_task_129748.free_bytes_121005 = bytes_121005;
    futhark_mc_task_129748.free_mem_121044 = mem_121044;
    futhark_mc_task_129748.free_mem_121047 = mem_121047;
    
    struct scheduler_segop futhark_mc_task_129748_task;
    
    futhark_mc_task_129748_task.args = &futhark_mc_task_129748;
    futhark_mc_task_129748_task.top_level_fn = futhark_mc_segmap_task_129749;
    futhark_mc_task_129748_task.name = "futhark_mc_segmap_task_129749";
    futhark_mc_task_129748_task.iterations = m_114104;
    futhark_mc_task_129748_task.task_time =
        &ctx->futhark_mc_segmap_task_129749_total_time;
    futhark_mc_task_129748_task.task_iter =
        &ctx->futhark_mc_segmap_task_129749_total_iter;
    futhark_mc_task_129748_task.sched = STATIC;
    futhark_mc_task_129748_task.nested_fn =
        futhark_mc_segmap_nested_task_129754;
    
    int futhark_mc_segmap_task_129749_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_129748_task);
    
    if (futhark_mc_segmap_task_129749_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t binop_y_121068 = (int64_t) 4 * binop_x_121042;
    int64_t bytes_121066 = smax64((int64_t) 0, binop_y_121068);
    
    if (mem_121069_cached_sizze_129724 < (size_t) bytes_121066) {
        mem_121069 = realloc(mem_121069, bytes_121066);
        mem_121069_cached_sizze_129724 = bytes_121066;
    }
    
    int64_t binop_y_121049 = (int64_t) 4 * n_114105;
    int64_t bytes_121048 = smax64((int64_t) 0, binop_y_121049);
    int64_t flat_tid_116320 = (int64_t) 0;
    int32_t num_tasks_122950;
    int64_t flat_tid_116322 = (int64_t) 0;
    struct futhark_mc_task_129770 futhark_mc_task_129770;
    
    futhark_mc_task_129770.ctx = ctx;
    futhark_mc_task_129770.free_m_114104 = m_114104;
    futhark_mc_task_129770.free_n_114105 = n_114105;
    futhark_mc_task_129770.free_mem_121044 = mem_121044;
    futhark_mc_task_129770.free_bytes_121048 = bytes_121048;
    futhark_mc_task_129770.free_mem_121069 = mem_121069;
    
    struct scheduler_segop futhark_mc_task_129770_task;
    
    futhark_mc_task_129770_task.args = &futhark_mc_task_129770;
    futhark_mc_task_129770_task.top_level_fn = futhark_mc_segmap_task_129771;
    futhark_mc_task_129770_task.name = "futhark_mc_segmap_task_129771";
    futhark_mc_task_129770_task.iterations = m_114104;
    futhark_mc_task_129770_task.task_time =
        &ctx->futhark_mc_segmap_task_129771_total_time;
    futhark_mc_task_129770_task.task_iter =
        &ctx->futhark_mc_segmap_task_129771_total_iter;
    futhark_mc_task_129770_task.sched = STATIC;
    futhark_mc_task_129770_task.nested_fn =
        futhark_mc_segmap_nested_task_129775;
    
    int futhark_mc_segmap_task_129771_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_129770_task);
    
    if (futhark_mc_segmap_task_129771_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_114216 = slt64(n_p_114107, (int64_t) 0);
    bool valid_114217 = !bounds_invalid_upwards_114216;
    bool range_valid_c_114218;
    
    if (!valid_114217) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) n_p_114107, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  stl.fut:113:5-123:14\n   #3  stl.fut:365:3-376:33\n   #4  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool bounds_invalid_upwards_114220 = slt64(css_chunk_len_114151,
                                               (int64_t) 0);
    bool valid_114221 = !bounds_invalid_upwards_114220;
    bool range_valid_c_114222;
    
    if (!valid_114221) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) css_chunk_len_114151, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  stl.fut:116:17-122:39\n   #3  /prelude/soacs.fut:59:3-10\n   #4  /prelude/array.fut:195:3-17\n   #5  stl.fut:113:5-123:14\n   #6  stl.fut:365:3-376:33\n   #7  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    int64_t binop_x_121089 = n_p_114107 * css_chunk_len_114151;
    int64_t binop_y_121090 = (int64_t) 8 * binop_x_121089;
    int64_t bytes_121088 = smax64((int64_t) 0, binop_y_121090);
    
    if (mem_121091_cached_sizze_129725 < (size_t) bytes_121088) {
        mem_121091 = realloc(mem_121091, bytes_121088);
        mem_121091_cached_sizze_129725 = bytes_121088;
    }
    
    int64_t binop_y_121071 = (int64_t) 8 * css_chunk_len_114151;
    int64_t bytes_121070 = smax64((int64_t) 0, binop_y_121071);
    int64_t flat_tid_116330 = (int64_t) 0;
    int32_t num_tasks_122969;
    int64_t flat_tid_116332 = (int64_t) 0;
    struct futhark_mc_task_129783 futhark_mc_task_129783;
    
    futhark_mc_task_129783.ctx = ctx;
    futhark_mc_task_129783.free_n_p_114107 = n_p_114107;
    futhark_mc_task_129783.free_css_chunk_len_114151 = css_chunk_len_114151;
    futhark_mc_task_129783.free_i_114181 = i_114181;
    futhark_mc_task_129783.free_bytes_121070 = bytes_121070;
    futhark_mc_task_129783.free_mem_121091 = mem_121091;
    
    struct scheduler_segop futhark_mc_task_129783_task;
    
    futhark_mc_task_129783_task.args = &futhark_mc_task_129783;
    futhark_mc_task_129783_task.top_level_fn = futhark_mc_segmap_task_129784;
    futhark_mc_task_129783_task.name = "futhark_mc_segmap_task_129784";
    futhark_mc_task_129783_task.iterations = n_p_114107;
    futhark_mc_task_129783_task.task_time =
        &ctx->futhark_mc_segmap_task_129784_total_time;
    futhark_mc_task_129783_task.task_iter =
        &ctx->futhark_mc_segmap_task_129784_total_iter;
    futhark_mc_task_129783_task.sched = STATIC;
    futhark_mc_task_129783_task.nested_fn =
        futhark_mc_segmap_nested_task_129788;
    
    int futhark_mc_segmap_task_129784_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_129783_task);
    
    if (futhark_mc_segmap_task_129784_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t binop_x_121111 = m_114104 * n_p_114107;
    int64_t binop_y_121112 = (int64_t) 4 * binop_x_121111;
    int64_t bytes_121110 = smax64((int64_t) 0, binop_y_121112);
    
    if (mem_121113_cached_sizze_129726 < (size_t) bytes_121110) {
        mem_121113 = realloc(mem_121113, bytes_121110);
        mem_121113_cached_sizze_129726 = bytes_121110;
    }
    
    int64_t binop_y_121093 = (int64_t) 4 * n_p_114107;
    int64_t bytes_121092 = smax64((int64_t) 0, binop_y_121093);
    int64_t flat_tid_116343 = (int64_t) 0;
    int32_t num_tasks_122992;
    int64_t flat_tid_116345 = (int64_t) 0;
    struct futhark_mc_task_129796 futhark_mc_task_129796;
    
    futhark_mc_task_129796.ctx = ctx;
    futhark_mc_task_129796.free_m_114104 = m_114104;
    futhark_mc_task_129796.free_n_114105 = n_114105;
    futhark_mc_task_129796.free_n_p_114107 = n_p_114107;
    futhark_mc_task_129796.free_css_chunk_len_114151 = css_chunk_len_114151;
    futhark_mc_task_129796.free_Y_mem_121004 = Y_mem_121004.mem;
    futhark_mc_task_129796.free_mem_121091 = mem_121091;
    futhark_mc_task_129796.free_bytes_121092 = bytes_121092;
    futhark_mc_task_129796.free_mem_121113 = mem_121113;
    
    struct scheduler_segop futhark_mc_task_129796_task;
    
    futhark_mc_task_129796_task.args = &futhark_mc_task_129796;
    futhark_mc_task_129796_task.top_level_fn = futhark_mc_segmap_task_129797;
    futhark_mc_task_129796_task.name = "futhark_mc_segmap_task_129797";
    futhark_mc_task_129796_task.iterations = m_114104;
    futhark_mc_task_129796_task.task_time =
        &ctx->futhark_mc_segmap_task_129797_total_time;
    futhark_mc_task_129796_task.task_iter =
        &ctx->futhark_mc_segmap_task_129797_total_iter;
    futhark_mc_task_129796_task.sched = STATIC;
    futhark_mc_task_129796_task.nested_fn =
        futhark_mc_segmap_nested_task_129801;
    
    int futhark_mc_segmap_task_129797_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_129796_task);
    
    if (futhark_mc_segmap_task_129797_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t min_res_114253 = smin64(n_114105, l_window_114109);
    bool bounds_invalid_upwards_114254 = slt64(l_n_m_114155, (int64_t) 0);
    bool valid_114255 = !bounds_invalid_upwards_114254;
    bool range_valid_c_114256;
    
    if (!valid_114255) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) l_n_m_114155, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  loess.fut:345:3-374:7\n   #3  loess.fut:409:15-61\n   #4  stl.fut:145:13-65\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:143:5-146:26\n   #8  stl.fut:365:3-376:33\n   #9  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool loop_cond_114258 = slt64((int64_t) 1, min_res_114253);
    float i64_res_114259 = sitofp_i64_f32(l_window_114109);
    int64_t binop_x_121169 = m_114104 * l_n_m_114155;
    int64_t binop_y_121170 = (int64_t) 8 * binop_x_121169;
    int64_t bytes_121168 = smax64((int64_t) 0, binop_y_121170);
    
    if (mem_121171_cached_sizze_129727 < (size_t) bytes_121168) {
        mem_121171 = realloc(mem_121171, bytes_121168);
        mem_121171_cached_sizze_129727 = bytes_121168;
    }
    
    int64_t binop_y_121174 = (int64_t) 4 * binop_x_121169;
    int64_t bytes_121172 = smax64((int64_t) 0, binop_y_121174);
    
    if (mem_121175_cached_sizze_129728 < (size_t) bytes_121172) {
        mem_121175 = realloc(mem_121175, bytes_121172);
        mem_121175_cached_sizze_129728 = bytes_121172;
    }
    
    int64_t binop_y_121118 = (int64_t) 4 * l_n_m_114155;
    int64_t bytes_121117 = smax64((int64_t) 0, binop_y_121118);
    int64_t binop_y_121121 = (int64_t) 8 * l_n_m_114155;
    int64_t bytes_121120 = smax64((int64_t) 0, binop_y_121121);
    int64_t flat_tid_116403 = (int64_t) 0;
    int32_t num_tasks_123090;
    int64_t flat_tid_116405 = (int64_t) 0;
    struct futhark_mc_task_129817 futhark_mc_task_129817;
    
    futhark_mc_task_129817.ctx = ctx;
    futhark_mc_task_129817.free_m_114104 = m_114104;
    futhark_mc_task_129817.free_n_114105 = n_114105;
    futhark_mc_task_129817.free_l_window_114109 = l_window_114109;
    futhark_mc_task_129817.free_l_jump_114113 = l_jump_114113;
    futhark_mc_task_129817.free_l_n_m_114155 = l_n_m_114155;
    futhark_mc_task_129817.free_i_114181 = i_114181;
    futhark_mc_task_129817.free_x_114182 = x_114182;
    futhark_mc_task_129817.free_min_res_114253 = min_res_114253;
    futhark_mc_task_129817.free_loop_cond_114258 = loop_cond_114258;
    futhark_mc_task_129817.free_i64_res_114259 = i64_res_114259;
    futhark_mc_task_129817.free_bytes_121005 = bytes_121005;
    futhark_mc_task_129817.free_mem_121044 = mem_121044;
    futhark_mc_task_129817.free_mem_121047 = mem_121047;
    futhark_mc_task_129817.free_bytes_121117 = bytes_121117;
    futhark_mc_task_129817.free_bytes_121120 = bytes_121120;
    futhark_mc_task_129817.free_mem_121171 = mem_121171;
    futhark_mc_task_129817.free_mem_121175 = mem_121175;
    
    struct scheduler_segop futhark_mc_task_129817_task;
    
    futhark_mc_task_129817_task.args = &futhark_mc_task_129817;
    futhark_mc_task_129817_task.top_level_fn = futhark_mc_segmap_task_129818;
    futhark_mc_task_129817_task.name = "futhark_mc_segmap_task_129818";
    futhark_mc_task_129817_task.iterations = m_114104;
    futhark_mc_task_129817_task.task_time =
        &ctx->futhark_mc_segmap_task_129818_total_time;
    futhark_mc_task_129817_task.task_iter =
        &ctx->futhark_mc_segmap_task_129818_total_iter;
    futhark_mc_task_129817_task.sched = DYNAMIC;
    futhark_mc_task_129817_task.nested_fn =
        futhark_mc_segmap_nested_task_129824;
    
    int futhark_mc_segmap_task_129818_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_129817_task);
    
    if (futhark_mc_segmap_task_129818_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t min_res_114365 = smin64(n_114105, t_window_114108);
    bool bounds_invalid_upwards_114366 = slt64(t_n_m_114162, (int64_t) 0);
    bool valid_114367 = !bounds_invalid_upwards_114366;
    bool range_valid_c_114368;
    
    if (!valid_114367) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) t_n_m_114162, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  loess.fut:345:3-374:7\n   #3  loess.fut:409:15-61\n   #4  stl.fut:152:13-65\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:150:5-153:26\n   #8  stl.fut:365:3-376:33\n   #9  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool loop_cond_114370 = slt64((int64_t) 1, min_res_114365);
    float i64_res_114371 = sitofp_i64_f32(t_window_114108);
    int64_t binop_x_121231 = m_114104 * t_n_m_114162;
    int64_t binop_y_121232 = (int64_t) 8 * binop_x_121231;
    int64_t bytes_121230 = smax64((int64_t) 0, binop_y_121232);
    
    if (mem_121233_cached_sizze_129729 < (size_t) bytes_121230) {
        mem_121233 = realloc(mem_121233, bytes_121230);
        mem_121233_cached_sizze_129729 = bytes_121230;
    }
    
    int64_t binop_y_121236 = (int64_t) 4 * binop_x_121231;
    int64_t bytes_121234 = smax64((int64_t) 0, binop_y_121236);
    
    if (mem_121237_cached_sizze_129730 < (size_t) bytes_121234) {
        mem_121237 = realloc(mem_121237, bytes_121234);
        mem_121237_cached_sizze_129730 = bytes_121234;
    }
    
    int64_t binop_y_121180 = (int64_t) 4 * t_n_m_114162;
    int64_t bytes_121179 = smax64((int64_t) 0, binop_y_121180);
    int64_t binop_y_121183 = (int64_t) 8 * t_n_m_114162;
    int64_t bytes_121182 = smax64((int64_t) 0, binop_y_121183);
    int64_t flat_tid_116512 = (int64_t) 0;
    int32_t num_tasks_123361;
    int64_t flat_tid_116514 = (int64_t) 0;
    struct futhark_mc_task_129838 futhark_mc_task_129838;
    
    futhark_mc_task_129838.ctx = ctx;
    futhark_mc_task_129838.free_m_114104 = m_114104;
    futhark_mc_task_129838.free_n_114105 = n_114105;
    futhark_mc_task_129838.free_t_window_114108 = t_window_114108;
    futhark_mc_task_129838.free_t_jump_114112 = t_jump_114112;
    futhark_mc_task_129838.free_t_n_m_114162 = t_n_m_114162;
    futhark_mc_task_129838.free_i_114181 = i_114181;
    futhark_mc_task_129838.free_x_114182 = x_114182;
    futhark_mc_task_129838.free_min_res_114365 = min_res_114365;
    futhark_mc_task_129838.free_loop_cond_114370 = loop_cond_114370;
    futhark_mc_task_129838.free_i64_res_114371 = i64_res_114371;
    futhark_mc_task_129838.free_bytes_121005 = bytes_121005;
    futhark_mc_task_129838.free_mem_121044 = mem_121044;
    futhark_mc_task_129838.free_mem_121047 = mem_121047;
    futhark_mc_task_129838.free_bytes_121179 = bytes_121179;
    futhark_mc_task_129838.free_bytes_121182 = bytes_121182;
    futhark_mc_task_129838.free_mem_121233 = mem_121233;
    futhark_mc_task_129838.free_mem_121237 = mem_121237;
    
    struct scheduler_segop futhark_mc_task_129838_task;
    
    futhark_mc_task_129838_task.args = &futhark_mc_task_129838;
    futhark_mc_task_129838_task.top_level_fn = futhark_mc_segmap_task_129839;
    futhark_mc_task_129838_task.name = "futhark_mc_segmap_task_129839";
    futhark_mc_task_129838_task.iterations = m_114104;
    futhark_mc_task_129838_task.task_time =
        &ctx->futhark_mc_segmap_task_129839_total_time;
    futhark_mc_task_129838_task.task_iter =
        &ctx->futhark_mc_segmap_task_129839_total_iter;
    futhark_mc_task_129838_task.sched = DYNAMIC;
    futhark_mc_task_129838_task.nested_fn =
        futhark_mc_segmap_nested_task_129845;
    
    int futhark_mc_segmap_task_129839_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_129838_task);
    
    if (futhark_mc_segmap_task_129839_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    struct memblock mem_121241;
    
    mem_121241.references = NULL;
    if (memblock_alloc(ctx, &mem_121241, bytes_121066, "mem_121241")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_123632 = 0; i_123632 < m_114104; i_123632++) {
        for (int64_t i_123633 = 0; i_123633 < n_114105; i_123633++) {
            ((float *) mem_121241.mem)[i_123632 * n_114105 + i_123633] = 0.0F;
        }
    }
    
    struct memblock mem_121245;
    
    mem_121245.references = NULL;
    if (memblock_alloc(ctx, &mem_121245, bytes_121066, "mem_121245")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_123634 = 0; i_123634 < m_114104; i_123634++) {
        for (int64_t i_123635 = 0; i_123635 < n_114105; i_123635++) {
            ((float *) mem_121245.mem)[i_123634 * n_114105 + i_123635] = 1.0F;
        }
    }
    
    bool cond_114479 = slt64((int64_t) 1, l_jump_114113);
    bool cond_114480 = slt64((int64_t) 1, t_jump_114112);
    int64_t y_114481 = sub64(outer_114115, (int64_t) 1);
    bool loop_nonempty_114482 = slt64((int64_t) 0, outer_114115);
    bool bounds_invalid_upwards_114483 = slt64(C_len_114153, (int64_t) 0);
    bool valid_114484 = !bounds_invalid_upwards_114483;
    bool loop_not_taken_114485 = !assert_cond_114142;
    bool protect_assert_disj_114486 = valid_114484 || loop_not_taken_114485;
    bool loop_not_taken_114487 = !loop_nonempty_114482;
    bool protect_assert_disj_114488 = protect_assert_disj_114486 ||
         loop_not_taken_114487;
    bool range_valid_c_114489;
    
    if (!protect_assert_disj_114488) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) C_len_114153, " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  stl.fut:196:20-59\n   #3  stl.fut:194:13-197:24\n   #4  stl.fut:365:3-376:33\n   #5  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool zzero_114491 = n_p_114107 == (int64_t) 0;
    bool nonzzero_114492 = !zzero_114491;
    bool protect_assert_disj_114493 = loop_not_taken_114485 || nonzzero_114492;
    bool protect_assert_disj_114494 = loop_not_taken_114487 ||
         protect_assert_disj_114493;
    bool nonzzero_cert_114495;
    
    if (!protect_assert_disj_114494) {
        ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                               "division by zero",
                               "-> #0  stl.fut:196:51-57\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  stl.fut:196:20-59\n   #4  stl.fut:194:13-197:24\n   #5  stl.fut:365:3-376:33\n   #6  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    int64_t j_114496 = add64(n_114105, n_p_114107);
    bool empty_slice_114497 = n_114105 == (int64_t) 0;
    int64_t i_p_m_t_s_114498 = add64(n_p_114107, i_114181);
    bool zzero_leq_i_p_m_t_s_114499 = sle64((int64_t) 0, i_p_m_t_s_114498);
    bool i_p_m_t_s_leq_w_114500 = slt64(i_p_m_t_s_114498, C_len_114153);
    bool zzero_lte_i_114501 = sle64((int64_t) 0, n_p_114107);
    bool i_lte_j_114502 = sle64(n_p_114107, j_114496);
    bool y_114503 = i_p_m_t_s_leq_w_114500 && zzero_lte_i_114501;
    bool y_114504 = zzero_leq_i_p_m_t_s_114499 && y_114503;
    bool y_114505 = i_lte_j_114502 && y_114504;
    bool forwards_ok_114506 = zzero_lte_i_114501 && y_114505;
    bool ok_or_empty_114507 = empty_slice_114497 || forwards_ok_114506;
    bool protect_assert_disj_114508 = loop_not_taken_114485 ||
         ok_or_empty_114507;
    bool protect_assert_disj_114509 = loop_not_taken_114487 ||
         protect_assert_disj_114508;
    bool index_certs_114510;
    
    if (!protect_assert_disj_114509) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [", (long long) n_p_114107, ":",
                               (long long) j_114496,
                               "] out of bounds for array of shape [",
                               (long long) C_len_114153, "].",
                               "-> #0  stl.fut:231:35-50\n   #1  /prelude/soacs.fut:67:19-23\n   #2  /prelude/soacs.fut:67:3-37\n   #3  stl.fut:229:13-234:26\n   #4  stl.fut:365:3-376:33\n   #5  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    int64_t j_m_i_114511 = sub64(stl_res_114176, stl_res_114175);
    int64_t lifted_single_ma_l_arg_114512 = add64((int64_t) 1, j_114496);
    int64_t m_114513 = sub64(n_p_114107, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_114514 = sle64((int64_t) 0, m_114513);
    bool i_p_m_t_s_leq_w_114515 = slt64(m_114513, C_len_114153);
    bool y_114516 = zzero_leq_i_p_m_t_s_114514 && i_p_m_t_s_leq_w_114515;
    bool y_114517 = zzero_lte_i_114501 && y_114516;
    bool ok_or_empty_114518 = zzero_114491 || y_114517;
    bool protect_assert_disj_114519 = loop_not_taken_114485 ||
         ok_or_empty_114518;
    bool protect_assert_disj_114520 = loop_not_taken_114487 ||
         protect_assert_disj_114519;
    bool index_certs_114521;
    
    if (!protect_assert_disj_114520) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [:", (long long) n_p_114107,
                               "] out of bounds for array of shape [",
                               (long long) C_len_114153, "].",
                               "-> #0  stl.fut:31:37-43\n   #1  stl.fut:31:20-48\n   #2  stl.fut:45:3-36\n   #3  stl.fut:201:23-47\n   #4  stl.fut:365:3-376:33\n   #5  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool bounds_invalid_upwards_114522 = slt64(lifted_single_ma_l_arg_114512,
                                               (int64_t) 0);
    bool valid_114523 = !bounds_invalid_upwards_114522;
    bool protect_assert_disj_114524 = loop_not_taken_114485 || valid_114523;
    bool protect_assert_disj_114525 = loop_not_taken_114487 ||
         protect_assert_disj_114524;
    bool range_valid_c_114526;
    
    if (!protect_assert_disj_114525) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) lifted_single_ma_l_arg_114512,
                               " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  stl.fut:34:12-40:23\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:33:5-41:23\n   #6  stl.fut:45:3-36\n   #7  stl.fut:201:23-47\n   #8  stl.fut:365:3-376:33\n   #9  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    int64_t lifted_single_ma_l_arg_114528 = add64((int64_t) 2, n_114105);
    bool i_p_m_t_s_leq_w_114529 = slt64(m_114513,
                                        lifted_single_ma_l_arg_114512);
    bool y_114530 = zzero_leq_i_p_m_t_s_114514 && i_p_m_t_s_leq_w_114529;
    bool y_114531 = zzero_lte_i_114501 && y_114530;
    bool ok_or_empty_114532 = zzero_114491 || y_114531;
    bool protect_assert_disj_114533 = loop_not_taken_114485 ||
         ok_or_empty_114532;
    bool protect_assert_disj_114534 = loop_not_taken_114487 ||
         protect_assert_disj_114533;
    bool index_certs_114535;
    
    if (!protect_assert_disj_114534) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [:", (long long) n_p_114107,
                               "] out of bounds for array of shape [",
                               (long long) lifted_single_ma_l_arg_114512, "].",
                               "-> #0  stl.fut:31:37-43\n   #1  stl.fut:31:20-48\n   #2  /prelude/functional.fut:9:42-44\n   #3  stl.fut:45:3-64\n   #4  stl.fut:201:23-47\n   #5  stl.fut:365:3-376:33\n   #6  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool bounds_invalid_upwards_114536 = slt64(lifted_single_ma_l_arg_114528,
                                               (int64_t) 0);
    bool valid_114537 = !bounds_invalid_upwards_114536;
    bool protect_assert_disj_114538 = loop_not_taken_114485 || valid_114537;
    bool protect_assert_disj_114539 = loop_not_taken_114487 ||
         protect_assert_disj_114538;
    bool range_valid_c_114540;
    
    if (!protect_assert_disj_114539) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Range ", (long long) (int64_t) 0, "..",
                               (long long) (int64_t) 1, "..<",
                               (long long) lifted_single_ma_l_arg_114528,
                               " is invalid.",
                               "-> #0  /prelude/array.fut:90:3-10\n   #1  /prelude/array.fut:195:11-16\n   #2  stl.fut:34:12-40:23\n   #3  /prelude/soacs.fut:67:19-23\n   #4  /prelude/soacs.fut:67:3-37\n   #5  stl.fut:33:5-41:23\n   #6  /prelude/functional.fut:9:42-44\n   #7  stl.fut:45:3-64\n   #8  stl.fut:201:23-47\n   #9  stl.fut:365:3-376:33\n   #10 stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool i_p_m_t_s_leq_w_114542 = slt64((int64_t) 2,
                                        lifted_single_ma_l_arg_114528);
    bool protect_assert_disj_114543 = loop_not_taken_114485 ||
         i_p_m_t_s_leq_w_114542;
    bool protect_assert_disj_114544 = loop_not_taken_114487 ||
         protect_assert_disj_114543;
    bool index_certs_114545;
    
    if (!protect_assert_disj_114544) {
        ctx->error = msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                               "Index [:", (long long) (int64_t) 3,
                               "] out of bounds for array of shape [",
                               (long long) lifted_single_ma_l_arg_114528, "].",
                               "-> #0  stl.fut:31:37-43\n   #1  stl.fut:31:20-48\n   #2  /prelude/functional.fut:9:42-44\n   #3  stl.fut:45:3-84\n   #4  stl.fut:201:23-47\n   #5  stl.fut:365:3-376:33\n   #6  stl.fut:352:1-376:33\n");
        if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
            return 1;
        return 1;
    }
    
    bool cond_114546 = slt64(l_jump_114113, jump_threshold_114116);
    bool cond_f_res_114547 = slt64(max_group_sizze_114117, l_window_114109);
    bool x_114548 = !cond_114546;
    bool y_114549 = cond_f_res_114547 && x_114548;
    bool cond_114550 = cond_114546 || y_114549;
    bool cond_114551 = slt64(t_jump_114112, jump_threshold_114116);
    bool cond_f_res_114552 = slt64(max_group_sizze_114117, t_window_114108);
    bool x_114553 = !cond_114551;
    bool y_114554 = cond_f_res_114552 && x_114553;
    bool cond_114555 = cond_114551 || y_114554;
    
    if (mem_121313_cached_sizze_129731 < (size_t) bytes_121066) {
        mem_121313 = realloc(mem_121313, bytes_121066);
        mem_121313_cached_sizze_129731 = bytes_121066;
    }
    if (mem_121335_cached_sizze_129732 < (size_t) bytes_121110) {
        mem_121335 = realloc(mem_121335, bytes_121110);
        mem_121335_cached_sizze_129732 = bytes_121110;
    }
    
    int64_t binop_x_121355 = m_114104 * C_len_114153;
    int64_t binop_y_121356 = (int64_t) 4 * binop_x_121355;
    int64_t bytes_121354 = smax64((int64_t) 0, binop_y_121356);
    
    if (mem_121357_cached_sizze_129733 < (size_t) bytes_121354) {
        mem_121357 = realloc(mem_121357, bytes_121354);
        mem_121357_cached_sizze_129733 = bytes_121354;
    }
    
    int64_t binop_y_121337 = (int64_t) 4 * C_len_114153;
    int64_t bytes_121336 = smax64((int64_t) 0, binop_y_121337);
    int64_t binop_y_121359 = (int64_t) 4 * m_114104;
    int64_t bytes_121358 = smax64((int64_t) 0, binop_y_121359);
    
    if (mem_121360_cached_sizze_129734 < (size_t) bytes_121358) {
        mem_121360 = realloc(mem_121360, bytes_121358);
        mem_121360_cached_sizze_129734 = bytes_121358;
    }
    
    int64_t binop_x_121380 = m_114104 * lifted_single_ma_l_arg_114512;
    int64_t binop_y_121381 = (int64_t) 4 * binop_x_121380;
    int64_t bytes_121379 = smax64((int64_t) 0, binop_y_121381);
    
    if (mem_121382_cached_sizze_129735 < (size_t) bytes_121379) {
        mem_121382 = realloc(mem_121382, bytes_121379);
        mem_121382_cached_sizze_129735 = bytes_121379;
    }
    
    int64_t binop_y_121362 = (int64_t) 4 * lifted_single_ma_l_arg_114512;
    int64_t bytes_121361 = smax64((int64_t) 0, binop_y_121362);
    
    if (mem_121385_cached_sizze_129736 < (size_t) bytes_121358) {
        mem_121385 = realloc(mem_121385, bytes_121358);
        mem_121385_cached_sizze_129736 = bytes_121358;
    }
    
    int64_t binop_x_121405 = m_114104 * lifted_single_ma_l_arg_114528;
    int64_t binop_y_121406 = (int64_t) 4 * binop_x_121405;
    int64_t bytes_121404 = smax64((int64_t) 0, binop_y_121406);
    
    if (mem_121407_cached_sizze_129737 < (size_t) bytes_121404) {
        mem_121407 = realloc(mem_121407, bytes_121404);
        mem_121407_cached_sizze_129737 = bytes_121404;
    }
    
    int64_t binop_y_121387 = (int64_t) 4 * lifted_single_ma_l_arg_114528;
    int64_t bytes_121386 = smax64((int64_t) 0, binop_y_121387);
    
    if (mem_121410_cached_sizze_129738 < (size_t) bytes_121358) {
        mem_121410 = realloc(mem_121410, bytes_121358);
        mem_121410_cached_sizze_129738 = bytes_121358;
    }
    if (mem_121432_cached_sizze_129739 < (size_t) bytes_121066) {
        mem_121432 = realloc(mem_121432, bytes_121066);
        mem_121432_cached_sizze_129739 = bytes_121066;
    }
    
    int64_t ext_121925;
    
    if (cond_114479) {
        ext_121925 = n_114105;
    } else {
        ext_121925 = l_n_m_114155;
    }
    if (mem_122001_cached_sizze_129740 < (size_t) bytes_121066) {
        mem_122001 = realloc(mem_122001, bytes_121066);
        mem_122001_cached_sizze_129740 = bytes_121066;
    }
    if (mem_122005_cached_sizze_129741 < (size_t) bytes_121066) {
        mem_122005 = realloc(mem_122005, bytes_121066);
        mem_122005_cached_sizze_129741 = bytes_121066;
    }
    
    int64_t ext_122502;
    
    if (cond_114480) {
        ext_122502 = n_114105;
    } else {
        ext_122502 = t_n_m_114162;
    }
    
    int64_t ext_122775;
    int64_t ext_122773;
    int64_t ext_122769;
    int64_t ext_122768;
    int64_t ext_122767;
    int64_t ext_122766;
    int64_t ext_122765;
    int64_t ext_122764;
    int64_t ext_122763;
    struct memblock ext_mem_122762;
    
    ext_mem_122762.references = NULL;
    
    struct memblock ext_mem_122761;
    
    ext_mem_122761.references = NULL;
    
    struct memblock ext_mem_122760;
    
    ext_mem_122760.references = NULL;
    
    struct memblock mem_param_121253;
    
    mem_param_121253.references = NULL;
    
    int64_t ctx_param_ext_121255;
    int64_t ctx_param_ext_121257;
    struct memblock mem_param_121261;
    
    mem_param_121261.references = NULL;
    
    int64_t ctx_param_ext_121262;
    int64_t ctx_param_ext_121263;
    int64_t ctx_param_ext_121264;
    int64_t ctx_param_ext_121265;
    int64_t ctx_param_ext_121266;
    int64_t ctx_param_ext_121267;
    int64_t ctx_param_ext_121268;
    struct memblock mem_param_121269;
    
    mem_param_121269.references = NULL;
    ctx_param_ext_121255 = n_114105;
    ctx_param_ext_121257 = n_114105;
    ctx_param_ext_121262 = m_114104;
    ctx_param_ext_121263 = n_114105;
    ctx_param_ext_121264 = (int64_t) 0;
    ctx_param_ext_121265 = n_114105;
    ctx_param_ext_121266 = m_114104;
    ctx_param_ext_121267 = (int64_t) 1;
    ctx_param_ext_121268 = n_114105;
    if (memblock_set(ctx, &mem_param_121253, &mem_121241, "mem_121241") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_121261, &mem_121241, "mem_121241") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_121269, &mem_121245, "mem_121245") != 0)
        return 1;
    for (int64_t i_outer_114559 = 0; i_outer_114559 < outer_114115;
         i_outer_114559++) {
        int64_t ext_122514;
        int64_t ext_122512;
        struct memblock ext_mem_122508;
        
        ext_mem_122508.references = NULL;
        
        struct memblock ext_mem_122507;
        
        ext_mem_122507.references = NULL;
        
        struct memblock mem_param_121283;
        
        mem_param_121283.references = NULL;
        
        int64_t ctx_param_ext_121285;
        int64_t ctx_param_ext_121287;
        struct memblock mem_param_121291;
        
        mem_param_121291.references = NULL;
        ctx_param_ext_121285 = ctx_param_ext_121255;
        ctx_param_ext_121287 = ctx_param_ext_121257;
        if (memblock_set(ctx, &mem_param_121283, &mem_param_121253,
                         "mem_param_121253") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_121291, &mem_param_121261,
                         "mem_param_121261") != 0)
            return 1;
        for (int64_t _i_inner_114565 = 0; _i_inner_114565 < inner_114114;
             _i_inner_114565++) {
            int64_t flat_tid_116621 = (int64_t) 0;
            int32_t num_tasks_123657;
            int64_t flat_tid_116623 = (int64_t) 0;
            struct futhark_mc_task_129859 futhark_mc_task_129859;
            
            futhark_mc_task_129859.ctx = ctx;
            futhark_mc_task_129859.free_m_114104 = m_114104;
            futhark_mc_task_129859.free_n_114105 = n_114105;
            futhark_mc_task_129859.free_Y_mem_121004 = Y_mem_121004.mem;
            futhark_mc_task_129859.free_bytes_121048 = bytes_121048;
            futhark_mc_task_129859.free_ctx_param_ext_121287 =
                ctx_param_ext_121287;
            futhark_mc_task_129859.free_mem_param_121291 = mem_param_121291.mem;
            futhark_mc_task_129859.free_mem_121313 = mem_121313;
            
            struct scheduler_segop futhark_mc_task_129859_task;
            
            futhark_mc_task_129859_task.args = &futhark_mc_task_129859;
            futhark_mc_task_129859_task.top_level_fn =
                futhark_mc_segmap_task_129860;
            futhark_mc_task_129859_task.name = "futhark_mc_segmap_task_129860";
            futhark_mc_task_129859_task.iterations = m_114104;
            futhark_mc_task_129859_task.task_time =
                &ctx->futhark_mc_segmap_task_129860_total_time;
            futhark_mc_task_129859_task.task_iter =
                &ctx->futhark_mc_segmap_task_129860_total_iter;
            futhark_mc_task_129859_task.sched = STATIC;
            futhark_mc_task_129859_task.nested_fn =
                futhark_mc_segmap_nested_task_129864;
            
            int futhark_mc_segmap_task_129860_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_129859_task);
            
            if (futhark_mc_segmap_task_129860_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_116633 = (int64_t) 0;
            int32_t num_tasks_123678;
            int64_t flat_tid_116635 = (int64_t) 0;
            struct futhark_mc_task_129872 futhark_mc_task_129872;
            
            futhark_mc_task_129872.ctx = ctx;
            futhark_mc_task_129872.free_m_114104 = m_114104;
            futhark_mc_task_129872.free_n_114105 = n_114105;
            futhark_mc_task_129872.free_n_p_114107 = n_p_114107;
            futhark_mc_task_129872.free_css_chunk_len_114151 =
                css_chunk_len_114151;
            futhark_mc_task_129872.free_mem_121091 = mem_121091;
            futhark_mc_task_129872.free_bytes_121092 = bytes_121092;
            futhark_mc_task_129872.free_mem_121113 = mem_121113;
            futhark_mc_task_129872.free_mem_121313 = mem_121313;
            futhark_mc_task_129872.free_mem_121335 = mem_121335;
            
            struct scheduler_segop futhark_mc_task_129872_task;
            
            futhark_mc_task_129872_task.args = &futhark_mc_task_129872;
            futhark_mc_task_129872_task.top_level_fn =
                futhark_mc_segmap_task_129873;
            futhark_mc_task_129872_task.name = "futhark_mc_segmap_task_129873";
            futhark_mc_task_129872_task.iterations = m_114104;
            futhark_mc_task_129872_task.task_time =
                &ctx->futhark_mc_segmap_task_129873_total_time;
            futhark_mc_task_129872_task.task_iter =
                &ctx->futhark_mc_segmap_task_129873_total_iter;
            futhark_mc_task_129872_task.sched = STATIC;
            futhark_mc_task_129872_task.nested_fn =
                futhark_mc_segmap_nested_task_129877;
            
            int futhark_mc_segmap_task_129873_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_129872_task);
            
            if (futhark_mc_segmap_task_129873_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_116694 = (int64_t) 0;
            int32_t num_tasks_123776;
            int64_t flat_tid_116696 = (int64_t) 0;
            struct futhark_mc_task_129893 futhark_mc_task_129893;
            
            futhark_mc_task_129893.ctx = ctx;
            futhark_mc_task_129893.free_m_114104 = m_114104;
            futhark_mc_task_129893.free_n_p_114107 = n_p_114107;
            futhark_mc_task_129893.free_C_len_114153 = C_len_114153;
            futhark_mc_task_129893.free_mem_121335 = mem_121335;
            futhark_mc_task_129893.free_bytes_121336 = bytes_121336;
            futhark_mc_task_129893.free_mem_121357 = mem_121357;
            
            struct scheduler_segop futhark_mc_task_129893_task;
            
            futhark_mc_task_129893_task.args = &futhark_mc_task_129893;
            futhark_mc_task_129893_task.top_level_fn =
                futhark_mc_segmap_task_129894;
            futhark_mc_task_129893_task.name = "futhark_mc_segmap_task_129894";
            futhark_mc_task_129893_task.iterations = m_114104;
            futhark_mc_task_129893_task.task_time =
                &ctx->futhark_mc_segmap_task_129894_total_time;
            futhark_mc_task_129893_task.task_iter =
                &ctx->futhark_mc_segmap_task_129894_total_iter;
            futhark_mc_task_129893_task.sched = STATIC;
            futhark_mc_task_129893_task.nested_fn =
                futhark_mc_segmap_nested_task_129898;
            
            int futhark_mc_segmap_task_129894_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_129893_task);
            
            if (futhark_mc_segmap_task_129894_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_116709 = (int64_t) 0;
            int32_t num_tasks_123803;
            int64_t flat_tid_116711 = (int64_t) 0;
            struct futhark_mc_task_129906 futhark_mc_task_129906;
            
            futhark_mc_task_129906.ctx = ctx;
            futhark_mc_task_129906.free_m_114104 = m_114104;
            futhark_mc_task_129906.free_n_p_114107 = n_p_114107;
            futhark_mc_task_129906.free_C_len_114153 = C_len_114153;
            futhark_mc_task_129906.free_mem_121357 = mem_121357;
            futhark_mc_task_129906.free_mem_121360 = mem_121360;
            
            struct scheduler_segop futhark_mc_task_129906_task;
            
            futhark_mc_task_129906_task.args = &futhark_mc_task_129906;
            futhark_mc_task_129906_task.top_level_fn =
                futhark_mc_segmap_task_129907;
            futhark_mc_task_129906_task.name = "futhark_mc_segmap_task_129907";
            futhark_mc_task_129906_task.iterations = m_114104;
            futhark_mc_task_129906_task.task_time =
                &ctx->futhark_mc_segmap_task_129907_total_time;
            futhark_mc_task_129906_task.task_iter =
                &ctx->futhark_mc_segmap_task_129907_total_iter;
            futhark_mc_task_129906_task.sched = STATIC;
            futhark_mc_task_129906_task.nested_fn =
                futhark_mc_segmap_nested_task_129910;
            
            int futhark_mc_segmap_task_129907_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_129906_task);
            
            if (futhark_mc_segmap_task_129907_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_116721 = (int64_t) 0;
            int32_t num_tasks_123828;
            int64_t flat_tid_116723 = (int64_t) 0;
            struct futhark_mc_task_129918 futhark_mc_task_129918;
            
            futhark_mc_task_129918.ctx = ctx;
            futhark_mc_task_129918.free_m_114104 = m_114104;
            futhark_mc_task_129918.free_n_p_114107 = n_p_114107;
            futhark_mc_task_129918.free_i64_res_114147 = i64_res_114147;
            futhark_mc_task_129918.free_C_len_114153 = C_len_114153;
            futhark_mc_task_129918.free_lifted_single_ma_l_arg_114512 =
                lifted_single_ma_l_arg_114512;
            futhark_mc_task_129918.free_mem_121357 = mem_121357;
            futhark_mc_task_129918.free_mem_121360 = mem_121360;
            futhark_mc_task_129918.free_bytes_121361 = bytes_121361;
            futhark_mc_task_129918.free_mem_121382 = mem_121382;
            
            struct scheduler_segop futhark_mc_task_129918_task;
            
            futhark_mc_task_129918_task.args = &futhark_mc_task_129918;
            futhark_mc_task_129918_task.top_level_fn =
                futhark_mc_segmap_task_129919;
            futhark_mc_task_129918_task.name = "futhark_mc_segmap_task_129919";
            futhark_mc_task_129918_task.iterations = m_114104;
            futhark_mc_task_129918_task.task_time =
                &ctx->futhark_mc_segmap_task_129919_total_time;
            futhark_mc_task_129918_task.task_iter =
                &ctx->futhark_mc_segmap_task_129919_total_iter;
            futhark_mc_task_129918_task.sched = STATIC;
            futhark_mc_task_129918_task.nested_fn =
                futhark_mc_segmap_nested_task_129923;
            
            int futhark_mc_segmap_task_129919_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_129918_task);
            
            if (futhark_mc_segmap_task_129919_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_116752 = (int64_t) 0;
            int32_t num_tasks_123895;
            int64_t flat_tid_116754 = (int64_t) 0;
            struct futhark_mc_task_129934 futhark_mc_task_129934;
            
            futhark_mc_task_129934.ctx = ctx;
            futhark_mc_task_129934.free_m_114104 = m_114104;
            futhark_mc_task_129934.free_n_p_114107 = n_p_114107;
            futhark_mc_task_129934.free_lifted_single_ma_l_arg_114512 =
                lifted_single_ma_l_arg_114512;
            futhark_mc_task_129934.free_mem_121382 = mem_121382;
            futhark_mc_task_129934.free_mem_121385 = mem_121385;
            
            struct scheduler_segop futhark_mc_task_129934_task;
            
            futhark_mc_task_129934_task.args = &futhark_mc_task_129934;
            futhark_mc_task_129934_task.top_level_fn =
                futhark_mc_segmap_task_129935;
            futhark_mc_task_129934_task.name = "futhark_mc_segmap_task_129935";
            futhark_mc_task_129934_task.iterations = m_114104;
            futhark_mc_task_129934_task.task_time =
                &ctx->futhark_mc_segmap_task_129935_total_time;
            futhark_mc_task_129934_task.task_iter =
                &ctx->futhark_mc_segmap_task_129935_total_iter;
            futhark_mc_task_129934_task.sched = STATIC;
            futhark_mc_task_129934_task.nested_fn =
                futhark_mc_segmap_nested_task_129938;
            
            int futhark_mc_segmap_task_129935_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_129934_task);
            
            if (futhark_mc_segmap_task_129935_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_116764 = (int64_t) 0;
            int32_t num_tasks_123920;
            int64_t flat_tid_116766 = (int64_t) 0;
            struct futhark_mc_task_129946 futhark_mc_task_129946;
            
            futhark_mc_task_129946.ctx = ctx;
            futhark_mc_task_129946.free_m_114104 = m_114104;
            futhark_mc_task_129946.free_n_p_114107 = n_p_114107;
            futhark_mc_task_129946.free_i64_res_114147 = i64_res_114147;
            futhark_mc_task_129946.free_lifted_single_ma_l_arg_114512 =
                lifted_single_ma_l_arg_114512;
            futhark_mc_task_129946.free_lifted_single_ma_l_arg_114528 =
                lifted_single_ma_l_arg_114528;
            futhark_mc_task_129946.free_mem_121382 = mem_121382;
            futhark_mc_task_129946.free_mem_121385 = mem_121385;
            futhark_mc_task_129946.free_bytes_121386 = bytes_121386;
            futhark_mc_task_129946.free_mem_121407 = mem_121407;
            
            struct scheduler_segop futhark_mc_task_129946_task;
            
            futhark_mc_task_129946_task.args = &futhark_mc_task_129946;
            futhark_mc_task_129946_task.top_level_fn =
                futhark_mc_segmap_task_129947;
            futhark_mc_task_129946_task.name = "futhark_mc_segmap_task_129947";
            futhark_mc_task_129946_task.iterations = m_114104;
            futhark_mc_task_129946_task.task_time =
                &ctx->futhark_mc_segmap_task_129947_total_time;
            futhark_mc_task_129946_task.task_iter =
                &ctx->futhark_mc_segmap_task_129947_total_iter;
            futhark_mc_task_129946_task.sched = STATIC;
            futhark_mc_task_129946_task.nested_fn =
                futhark_mc_segmap_nested_task_129951;
            
            int futhark_mc_segmap_task_129947_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_129946_task);
            
            if (futhark_mc_segmap_task_129947_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_116795 = (int64_t) 0;
            int32_t num_tasks_123987;
            int64_t flat_tid_116797 = (int64_t) 0;
            struct futhark_mc_task_129962 futhark_mc_task_129962;
            
            futhark_mc_task_129962.ctx = ctx;
            futhark_mc_task_129962.free_m_114104 = m_114104;
            futhark_mc_task_129962.free_lifted_single_ma_l_arg_114528 =
                lifted_single_ma_l_arg_114528;
            futhark_mc_task_129962.free_mem_121407 = mem_121407;
            futhark_mc_task_129962.free_mem_121410 = mem_121410;
            
            struct scheduler_segop futhark_mc_task_129962_task;
            
            futhark_mc_task_129962_task.args = &futhark_mc_task_129962;
            futhark_mc_task_129962_task.top_level_fn =
                futhark_mc_segmap_task_129963;
            futhark_mc_task_129962_task.name = "futhark_mc_segmap_task_129963";
            futhark_mc_task_129962_task.iterations = m_114104;
            futhark_mc_task_129962_task.task_time =
                &ctx->futhark_mc_segmap_task_129963_total_time;
            futhark_mc_task_129962_task.task_iter =
                &ctx->futhark_mc_segmap_task_129963_total_iter;
            futhark_mc_task_129962_task.sched = STATIC;
            futhark_mc_task_129962_task.nested_fn =
                futhark_mc_segmap_nested_task_129966;
            
            int futhark_mc_segmap_task_129963_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_129962_task);
            
            if (futhark_mc_segmap_task_129963_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_116807 = (int64_t) 0;
            int32_t num_tasks_124013;
            int64_t flat_tid_116809 = (int64_t) 0;
            struct futhark_mc_task_129974 futhark_mc_task_129974;
            
            futhark_mc_task_129974.ctx = ctx;
            futhark_mc_task_129974.free_m_114104 = m_114104;
            futhark_mc_task_129974.free_n_114105 = n_114105;
            futhark_mc_task_129974.free_lifted_single_ma_l_arg_114528 =
                lifted_single_ma_l_arg_114528;
            futhark_mc_task_129974.free_bytes_121048 = bytes_121048;
            futhark_mc_task_129974.free_mem_121407 = mem_121407;
            futhark_mc_task_129974.free_mem_121410 = mem_121410;
            futhark_mc_task_129974.free_mem_121432 = mem_121432;
            
            struct scheduler_segop futhark_mc_task_129974_task;
            
            futhark_mc_task_129974_task.args = &futhark_mc_task_129974;
            futhark_mc_task_129974_task.top_level_fn =
                futhark_mc_segmap_task_129975;
            futhark_mc_task_129974_task.name = "futhark_mc_segmap_task_129975";
            futhark_mc_task_129974_task.iterations = m_114104;
            futhark_mc_task_129974_task.task_time =
                &ctx->futhark_mc_segmap_task_129975_total_time;
            futhark_mc_task_129974_task.task_iter =
                &ctx->futhark_mc_segmap_task_129975_total_iter;
            futhark_mc_task_129974_task.sched = STATIC;
            futhark_mc_task_129974_task.nested_fn =
                futhark_mc_segmap_nested_task_129979;
            
            int futhark_mc_segmap_task_129975_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_129974_task);
            
            if (futhark_mc_segmap_task_129975_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            struct memblock ext_mem_121901;
            
            ext_mem_121901.references = NULL;
            
            struct memblock ext_mem_121900;
            
            ext_mem_121900.references = NULL;
            if (cond_114550) {
                bool match_lit_114718 = (int64_t) 0 == l_degree_114111;
                struct memblock ext_mem_121550;
                
                ext_mem_121550.references = NULL;
                
                struct memblock ext_mem_121549;
                
                ext_mem_121549.references = NULL;
                if (match_lit_114718) {
                    struct memblock mem_121436;
                    
                    mem_121436.references = NULL;
                    if (memblock_alloc(ctx, &mem_121436, bytes_121172,
                                       "mem_121436")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t i_124080 = 0; i_124080 < m_114104;
                         i_124080++) {
                        for (int64_t i_124081 = 0; i_124081 < l_n_m_114155;
                             i_124081++) {
                            ((float *) mem_121436.mem)[i_124080 * l_n_m_114155 +
                                                       i_124081] = 0.0F;
                        }
                    }
                    
                    struct memblock mem_121458;
                    
                    mem_121458.references = NULL;
                    if (memblock_alloc(ctx, &mem_121458, bytes_121172,
                                       "mem_121458")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t flat_tid_116838 = (int64_t) 0;
                    int32_t num_tasks_124082;
                    int64_t flat_tid_116840 = (int64_t) 0;
                    struct futhark_mc_task_129990 futhark_mc_task_129990;
                    
                    futhark_mc_task_129990.ctx = ctx;
                    futhark_mc_task_129990.free_m_114104 = m_114104;
                    futhark_mc_task_129990.free_n_114105 = n_114105;
                    futhark_mc_task_129990.free_l_window_114109 =
                        l_window_114109;
                    futhark_mc_task_129990.free_t_jump_114112 = t_jump_114112;
                    futhark_mc_task_129990.free_l_n_m_114155 = l_n_m_114155;
                    futhark_mc_task_129990.free_i_114181 = i_114181;
                    futhark_mc_task_129990.free_bytes_121117 = bytes_121117;
                    futhark_mc_task_129990.free_mem_121171 = mem_121171;
                    futhark_mc_task_129990.free_mem_121175 = mem_121175;
                    futhark_mc_task_129990.free_ctx_param_ext_121264 =
                        ctx_param_ext_121264;
                    futhark_mc_task_129990.free_ctx_param_ext_121265 =
                        ctx_param_ext_121265;
                    futhark_mc_task_129990.free_ctx_param_ext_121267 =
                        ctx_param_ext_121267;
                    futhark_mc_task_129990.free_mem_param_121269 =
                        mem_param_121269.mem;
                    futhark_mc_task_129990.free_mem_121432 = mem_121432;
                    futhark_mc_task_129990.free_mem_121458 = mem_121458.mem;
                    
                    struct scheduler_segop futhark_mc_task_129990_task;
                    
                    futhark_mc_task_129990_task.args = &futhark_mc_task_129990;
                    futhark_mc_task_129990_task.top_level_fn =
                        futhark_mc_segmap_task_129991;
                    futhark_mc_task_129990_task.name =
                        "futhark_mc_segmap_task_129991";
                    futhark_mc_task_129990_task.iterations = m_114104;
                    futhark_mc_task_129990_task.task_time =
                        &ctx->futhark_mc_segmap_task_129991_total_time;
                    futhark_mc_task_129990_task.task_iter =
                        &ctx->futhark_mc_segmap_task_129991_total_iter;
                    futhark_mc_task_129990_task.sched = STATIC;
                    futhark_mc_task_129990_task.nested_fn =
                        futhark_mc_segmap_nested_task_129995;
                    
                    int futhark_mc_segmap_task_129991_err =
                        scheduler_prepare_task(&ctx->scheduler,
                                               &futhark_mc_task_129990_task);
                    
                    if (futhark_mc_segmap_task_129991_err != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_121550, &mem_121458,
                                     "mem_121458") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_121549, &mem_121436,
                                     "mem_121436") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_121458, "mem_121458") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_121436, "mem_121436") != 0)
                        return 1;
                } else {
                    bool match_lit_114787 = (int64_t) 1 == l_degree_114111;
                    struct memblock ext_mem_121548;
                    
                    ext_mem_121548.references = NULL;
                    
                    struct memblock ext_mem_121547;
                    
                    ext_mem_121547.references = NULL;
                    if (match_lit_114787) {
                        struct memblock mem_121498;
                        
                        mem_121498.references = NULL;
                        if (memblock_alloc(ctx, &mem_121498, bytes_121172,
                                           "mem_121498")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_121502;
                        
                        mem_121502.references = NULL;
                        if (memblock_alloc(ctx, &mem_121502, bytes_121172,
                                           "mem_121502")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t flat_tid_117023 = (int64_t) 0;
                        int32_t num_tasks_124371;
                        int64_t flat_tid_117025 = (int64_t) 0;
                        struct futhark_mc_task_130016 futhark_mc_task_130016;
                        
                        futhark_mc_task_130016.ctx = ctx;
                        futhark_mc_task_130016.free_m_114104 = m_114104;
                        futhark_mc_task_130016.free_n_114105 = n_114105;
                        futhark_mc_task_130016.free_l_window_114109 =
                            l_window_114109;
                        futhark_mc_task_130016.free_t_jump_114112 =
                            t_jump_114112;
                        futhark_mc_task_130016.free_l_n_m_114155 = l_n_m_114155;
                        futhark_mc_task_130016.free_i_114181 = i_114181;
                        futhark_mc_task_130016.free_bytes_121117 = bytes_121117;
                        futhark_mc_task_130016.free_mem_121171 = mem_121171;
                        futhark_mc_task_130016.free_mem_121175 = mem_121175;
                        futhark_mc_task_130016.free_ctx_param_ext_121264 =
                            ctx_param_ext_121264;
                        futhark_mc_task_130016.free_ctx_param_ext_121265 =
                            ctx_param_ext_121265;
                        futhark_mc_task_130016.free_ctx_param_ext_121267 =
                            ctx_param_ext_121267;
                        futhark_mc_task_130016.free_mem_param_121269 =
                            mem_param_121269.mem;
                        futhark_mc_task_130016.free_mem_121432 = mem_121432;
                        futhark_mc_task_130016.free_mem_121498 = mem_121498.mem;
                        futhark_mc_task_130016.free_mem_121502 = mem_121502.mem;
                        
                        struct scheduler_segop futhark_mc_task_130016_task;
                        
                        futhark_mc_task_130016_task.args =
                            &futhark_mc_task_130016;
                        futhark_mc_task_130016_task.top_level_fn =
                            futhark_mc_segmap_task_130017;
                        futhark_mc_task_130016_task.name =
                            "futhark_mc_segmap_task_130017";
                        futhark_mc_task_130016_task.iterations = m_114104;
                        futhark_mc_task_130016_task.task_time =
                            &ctx->futhark_mc_segmap_task_130017_total_time;
                        futhark_mc_task_130016_task.task_iter =
                            &ctx->futhark_mc_segmap_task_130017_total_iter;
                        futhark_mc_task_130016_task.sched = STATIC;
                        futhark_mc_task_130016_task.nested_fn =
                            futhark_mc_segmap_nested_task_130022;
                        
                        int futhark_mc_segmap_task_130017_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_130016_task);
                        
                        if (futhark_mc_segmap_task_130017_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_121548, &mem_121498,
                                         "mem_121498") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_121547, &mem_121502,
                                         "mem_121502") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_121502, "mem_121502") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_121498, "mem_121498") != 0)
                            return 1;
                    } else {
                        struct memblock mem_121542;
                        
                        mem_121542.references = NULL;
                        if (memblock_alloc(ctx, &mem_121542, bytes_121172,
                                           "mem_121542")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_121546;
                        
                        mem_121546.references = NULL;
                        if (memblock_alloc(ctx, &mem_121546, bytes_121172,
                                           "mem_121546")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t flat_tid_117293 = (int64_t) 0;
                        int32_t num_tasks_124798;
                        int64_t flat_tid_117295 = (int64_t) 0;
                        struct futhark_mc_task_130047 futhark_mc_task_130047;
                        
                        futhark_mc_task_130047.ctx = ctx;
                        futhark_mc_task_130047.free_m_114104 = m_114104;
                        futhark_mc_task_130047.free_n_114105 = n_114105;
                        futhark_mc_task_130047.free_l_window_114109 =
                            l_window_114109;
                        futhark_mc_task_130047.free_t_jump_114112 =
                            t_jump_114112;
                        futhark_mc_task_130047.free_l_n_m_114155 = l_n_m_114155;
                        futhark_mc_task_130047.free_i_114181 = i_114181;
                        futhark_mc_task_130047.free_bytes_121117 = bytes_121117;
                        futhark_mc_task_130047.free_mem_121171 = mem_121171;
                        futhark_mc_task_130047.free_mem_121175 = mem_121175;
                        futhark_mc_task_130047.free_ctx_param_ext_121264 =
                            ctx_param_ext_121264;
                        futhark_mc_task_130047.free_ctx_param_ext_121265 =
                            ctx_param_ext_121265;
                        futhark_mc_task_130047.free_ctx_param_ext_121267 =
                            ctx_param_ext_121267;
                        futhark_mc_task_130047.free_mem_param_121269 =
                            mem_param_121269.mem;
                        futhark_mc_task_130047.free_mem_121432 = mem_121432;
                        futhark_mc_task_130047.free_mem_121542 = mem_121542.mem;
                        futhark_mc_task_130047.free_mem_121546 = mem_121546.mem;
                        
                        struct scheduler_segop futhark_mc_task_130047_task;
                        
                        futhark_mc_task_130047_task.args =
                            &futhark_mc_task_130047;
                        futhark_mc_task_130047_task.top_level_fn =
                            futhark_mc_segmap_task_130048;
                        futhark_mc_task_130047_task.name =
                            "futhark_mc_segmap_task_130048";
                        futhark_mc_task_130047_task.iterations = m_114104;
                        futhark_mc_task_130047_task.task_time =
                            &ctx->futhark_mc_segmap_task_130048_total_time;
                        futhark_mc_task_130047_task.task_iter =
                            &ctx->futhark_mc_segmap_task_130048_total_iter;
                        futhark_mc_task_130047_task.sched = STATIC;
                        futhark_mc_task_130047_task.nested_fn =
                            futhark_mc_segmap_nested_task_130053;
                        
                        int futhark_mc_segmap_task_130048_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_130047_task);
                        
                        if (futhark_mc_segmap_task_130048_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_121548, &mem_121542,
                                         "mem_121542") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_121547, &mem_121546,
                                         "mem_121546") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_121546, "mem_121546") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_121542, "mem_121542") != 0)
                            return 1;
                    }
                    if (memblock_set(ctx, &ext_mem_121550, &ext_mem_121548,
                                     "ext_mem_121548") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_121549, &ext_mem_121547,
                                     "ext_mem_121547") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121547,
                                       "ext_mem_121547") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121548,
                                       "ext_mem_121548") != 0)
                        return 1;
                }
                if (memblock_set(ctx, &ext_mem_121901, &ext_mem_121550,
                                 "ext_mem_121550") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_121900, &ext_mem_121549,
                                 "ext_mem_121549") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_121549, "ext_mem_121549") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_121550, "ext_mem_121550") != 0)
                    return 1;
            } else {
                bool match_lit_115012 = (int64_t) 0 == l_degree_114111;
                struct memblock ext_mem_121899;
                
                ext_mem_121899.references = NULL;
                
                struct memblock ext_mem_121898;
                
                ext_mem_121898.references = NULL;
                if (match_lit_115012) {
                    struct memblock mem_121554;
                    
                    mem_121554.references = NULL;
                    if (memblock_alloc(ctx, &mem_121554, bytes_121172,
                                       "mem_121554")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t i_125357 = 0; i_125357 < m_114104;
                         i_125357++) {
                        for (int64_t i_125358 = 0; i_125358 < l_n_m_114155;
                             i_125358++) {
                            ((float *) mem_121554.mem)[i_125357 * l_n_m_114155 +
                                                       i_125358] = 0.0F;
                        }
                    }
                    
                    struct memblock mem_121609;
                    
                    mem_121609.references = NULL;
                    if (memblock_alloc(ctx, &mem_121609, bytes_121172,
                                       "mem_121609")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t binop_y_121556 = (int64_t) 4 * l_window_114109;
                    int64_t bytes_121555 = smax64((int64_t) 0, binop_y_121556);
                    int64_t flat_tid_117659 = (int64_t) 0;
                    int32_t num_tasks_125359;
                    int64_t flat_tid_117661 = (int64_t) 0;
                    struct futhark_mc_task_130080 futhark_mc_task_130080;
                    
                    futhark_mc_task_130080.ctx = ctx;
                    futhark_mc_task_130080.free_m_114104 = m_114104;
                    futhark_mc_task_130080.free_n_114105 = n_114105;
                    futhark_mc_task_130080.free_l_window_114109 =
                        l_window_114109;
                    futhark_mc_task_130080.free_t_jump_114112 = t_jump_114112;
                    futhark_mc_task_130080.free_l_n_m_114155 = l_n_m_114155;
                    futhark_mc_task_130080.free_i_114181 = i_114181;
                    futhark_mc_task_130080.free_bytes_121117 = bytes_121117;
                    futhark_mc_task_130080.free_mem_121171 = mem_121171;
                    futhark_mc_task_130080.free_mem_121175 = mem_121175;
                    futhark_mc_task_130080.free_ctx_param_ext_121264 =
                        ctx_param_ext_121264;
                    futhark_mc_task_130080.free_ctx_param_ext_121265 =
                        ctx_param_ext_121265;
                    futhark_mc_task_130080.free_ctx_param_ext_121267 =
                        ctx_param_ext_121267;
                    futhark_mc_task_130080.free_mem_param_121269 =
                        mem_param_121269.mem;
                    futhark_mc_task_130080.free_mem_121432 = mem_121432;
                    futhark_mc_task_130080.free_bytes_121555 = bytes_121555;
                    futhark_mc_task_130080.free_mem_121609 = mem_121609.mem;
                    
                    struct scheduler_segop futhark_mc_task_130080_task;
                    
                    futhark_mc_task_130080_task.args = &futhark_mc_task_130080;
                    futhark_mc_task_130080_task.top_level_fn =
                        futhark_mc_segmap_task_130081;
                    futhark_mc_task_130080_task.name =
                        "futhark_mc_segmap_task_130081";
                    futhark_mc_task_130080_task.iterations = m_114104;
                    futhark_mc_task_130080_task.task_time =
                        &ctx->futhark_mc_segmap_task_130081_total_time;
                    futhark_mc_task_130080_task.task_iter =
                        &ctx->futhark_mc_segmap_task_130081_total_iter;
                    futhark_mc_task_130080_task.sched = STATIC;
                    futhark_mc_task_130080_task.nested_fn =
                        futhark_mc_segmap_nested_task_130086;
                    
                    int futhark_mc_segmap_task_130081_err =
                        scheduler_prepare_task(&ctx->scheduler,
                                               &futhark_mc_task_130080_task);
                    
                    if (futhark_mc_segmap_task_130081_err != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_121899, &mem_121609,
                                     "mem_121609") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_121898, &mem_121554,
                                     "mem_121554") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_121609, "mem_121609") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_121554, "mem_121554") != 0)
                        return 1;
                } else {
                    bool match_lit_115067 = (int64_t) 1 == l_degree_114111;
                    struct memblock ext_mem_121897;
                    
                    ext_mem_121897.references = NULL;
                    
                    struct memblock ext_mem_121896;
                    
                    ext_mem_121896.references = NULL;
                    if (match_lit_115067) {
                        struct memblock mem_121715;
                        
                        mem_121715.references = NULL;
                        if (memblock_alloc(ctx, &mem_121715, bytes_121172,
                                           "mem_121715")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_121719;
                        
                        mem_121719.references = NULL;
                        if (memblock_alloc(ctx, &mem_121719, bytes_121172,
                                           "mem_121719")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t binop_y_121611 = (int64_t) 4 * l_window_114109;
                        int64_t bytes_121610 = smax64((int64_t) 0,
                                                      binop_y_121611);
                        int64_t flat_tid_117802 = (int64_t) 0;
                        int32_t num_tasks_125588;
                        int64_t flat_tid_117804 = (int64_t) 0;
                        struct futhark_mc_task_130109 futhark_mc_task_130109;
                        
                        futhark_mc_task_130109.ctx = ctx;
                        futhark_mc_task_130109.free_m_114104 = m_114104;
                        futhark_mc_task_130109.free_n_114105 = n_114105;
                        futhark_mc_task_130109.free_l_window_114109 =
                            l_window_114109;
                        futhark_mc_task_130109.free_t_jump_114112 =
                            t_jump_114112;
                        futhark_mc_task_130109.free_l_n_m_114155 = l_n_m_114155;
                        futhark_mc_task_130109.free_i_114181 = i_114181;
                        futhark_mc_task_130109.free_bytes_121117 = bytes_121117;
                        futhark_mc_task_130109.free_mem_121171 = mem_121171;
                        futhark_mc_task_130109.free_mem_121175 = mem_121175;
                        futhark_mc_task_130109.free_ctx_param_ext_121264 =
                            ctx_param_ext_121264;
                        futhark_mc_task_130109.free_ctx_param_ext_121265 =
                            ctx_param_ext_121265;
                        futhark_mc_task_130109.free_ctx_param_ext_121267 =
                            ctx_param_ext_121267;
                        futhark_mc_task_130109.free_mem_param_121269 =
                            mem_param_121269.mem;
                        futhark_mc_task_130109.free_mem_121432 = mem_121432;
                        futhark_mc_task_130109.free_bytes_121610 = bytes_121610;
                        futhark_mc_task_130109.free_mem_121715 = mem_121715.mem;
                        futhark_mc_task_130109.free_mem_121719 = mem_121719.mem;
                        
                        struct scheduler_segop futhark_mc_task_130109_task;
                        
                        futhark_mc_task_130109_task.args =
                            &futhark_mc_task_130109;
                        futhark_mc_task_130109_task.top_level_fn =
                            futhark_mc_segmap_task_130110;
                        futhark_mc_task_130109_task.name =
                            "futhark_mc_segmap_task_130110";
                        futhark_mc_task_130109_task.iterations = m_114104;
                        futhark_mc_task_130109_task.task_time =
                            &ctx->futhark_mc_segmap_task_130110_total_time;
                        futhark_mc_task_130109_task.task_iter =
                            &ctx->futhark_mc_segmap_task_130110_total_iter;
                        futhark_mc_task_130109_task.sched = STATIC;
                        futhark_mc_task_130109_task.nested_fn =
                            futhark_mc_segmap_nested_task_130117;
                        
                        int futhark_mc_segmap_task_130110_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_130109_task);
                        
                        if (futhark_mc_segmap_task_130110_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_121897, &mem_121715,
                                         "mem_121715") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_121896, &mem_121719,
                                         "mem_121719") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_121719, "mem_121719") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_121715, "mem_121715") != 0)
                            return 1;
                    } else {
                        struct memblock mem_121891;
                        
                        mem_121891.references = NULL;
                        if (memblock_alloc(ctx, &mem_121891, bytes_121172,
                                           "mem_121891")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_121895;
                        
                        mem_121895.references = NULL;
                        if (memblock_alloc(ctx, &mem_121895, bytes_121172,
                                           "mem_121895")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t binop_y_121721 = (int64_t) 4 * l_window_114109;
                        int64_t bytes_121720 = smax64((int64_t) 0,
                                                      binop_y_121721);
                        int64_t flat_tid_118033 = (int64_t) 0;
                        int32_t num_tasks_125970;
                        int64_t flat_tid_118035 = (int64_t) 0;
                        struct futhark_mc_task_130146 futhark_mc_task_130146;
                        
                        futhark_mc_task_130146.ctx = ctx;
                        futhark_mc_task_130146.free_m_114104 = m_114104;
                        futhark_mc_task_130146.free_n_114105 = n_114105;
                        futhark_mc_task_130146.free_l_window_114109 =
                            l_window_114109;
                        futhark_mc_task_130146.free_t_jump_114112 =
                            t_jump_114112;
                        futhark_mc_task_130146.free_l_n_m_114155 = l_n_m_114155;
                        futhark_mc_task_130146.free_i_114181 = i_114181;
                        futhark_mc_task_130146.free_bytes_121117 = bytes_121117;
                        futhark_mc_task_130146.free_mem_121171 = mem_121171;
                        futhark_mc_task_130146.free_mem_121175 = mem_121175;
                        futhark_mc_task_130146.free_ctx_param_ext_121264 =
                            ctx_param_ext_121264;
                        futhark_mc_task_130146.free_ctx_param_ext_121265 =
                            ctx_param_ext_121265;
                        futhark_mc_task_130146.free_ctx_param_ext_121267 =
                            ctx_param_ext_121267;
                        futhark_mc_task_130146.free_mem_param_121269 =
                            mem_param_121269.mem;
                        futhark_mc_task_130146.free_mem_121432 = mem_121432;
                        futhark_mc_task_130146.free_bytes_121720 = bytes_121720;
                        futhark_mc_task_130146.free_mem_121891 = mem_121891.mem;
                        futhark_mc_task_130146.free_mem_121895 = mem_121895.mem;
                        
                        struct scheduler_segop futhark_mc_task_130146_task;
                        
                        futhark_mc_task_130146_task.args =
                            &futhark_mc_task_130146;
                        futhark_mc_task_130146_task.top_level_fn =
                            futhark_mc_segmap_task_130147;
                        futhark_mc_task_130146_task.name =
                            "futhark_mc_segmap_task_130147";
                        futhark_mc_task_130146_task.iterations = m_114104;
                        futhark_mc_task_130146_task.task_time =
                            &ctx->futhark_mc_segmap_task_130147_total_time;
                        futhark_mc_task_130146_task.task_iter =
                            &ctx->futhark_mc_segmap_task_130147_total_iter;
                        futhark_mc_task_130146_task.sched = STATIC;
                        futhark_mc_task_130146_task.nested_fn =
                            futhark_mc_segmap_nested_task_130156;
                        
                        int futhark_mc_segmap_task_130147_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_130146_task);
                        
                        if (futhark_mc_segmap_task_130147_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_121897, &mem_121891,
                                         "mem_121891") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_121896, &mem_121895,
                                         "mem_121895") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_121895, "mem_121895") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_121891, "mem_121891") != 0)
                            return 1;
                    }
                    if (memblock_set(ctx, &ext_mem_121899, &ext_mem_121897,
                                     "ext_mem_121897") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_121898, &ext_mem_121896,
                                     "ext_mem_121896") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121896,
                                       "ext_mem_121896") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121897,
                                       "ext_mem_121897") != 0)
                        return 1;
                }
                if (memblock_set(ctx, &ext_mem_121901, &ext_mem_121899,
                                 "ext_mem_121899") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_121900, &ext_mem_121898,
                                 "ext_mem_121898") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_121898, "ext_mem_121898") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_121899, "ext_mem_121899") != 0)
                    return 1;
            }
            
            struct memblock ext_mem_121924;
            
            ext_mem_121924.references = NULL;
            if (cond_114479) {
                bool zzero_115311 = l_jump_114113 == (int64_t) 0;
                bool nonzzero_115312 = !zzero_115311;
                bool nonzzero_cert_115313;
                
                if (!nonzzero_115312) {
                    ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                           "division by zero",
                                           "-> #0  loess.fut:423:27-34\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:221:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:219:15-222:43\n   #8  stl.fut:365:3-376:33\n   #9  stl.fut:352:1-376:33\n");
                    if (memblock_unref(ctx, &ext_mem_121924,
                                       "ext_mem_121924") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121900,
                                       "ext_mem_121900") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121901,
                                       "ext_mem_121901") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121291,
                                       "mem_param_121291") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121283,
                                       "mem_param_121283") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122507,
                                       "ext_mem_122507") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122508,
                                       "ext_mem_122508") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121269,
                                       "mem_param_121269") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121261,
                                       "mem_param_121261") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121253,
                                       "mem_param_121253") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122760,
                                       "ext_mem_122760") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122761,
                                       "ext_mem_122761") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122762,
                                       "ext_mem_122762") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_122886,
                                       "mem_out_122886") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_122885,
                                       "mem_out_122885") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_122884,
                                       "mem_out_122884") != 0)
                        return 1;
                    return 1;
                }
                
                int64_t y_115314 = sub64(l_n_m_114155, (int64_t) 1);
                struct memblock mem_121923;
                
                mem_121923.references = NULL;
                if (memblock_alloc(ctx, &mem_121923, bytes_121066,
                                   "mem_121923")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t flat_tid_118374 = (int64_t) 0;
                int32_t num_tasks_126536;
                int64_t flat_tid_118376 = (int64_t) 0;
                struct futhark_mc_task_130195 futhark_mc_task_130195;
                
                futhark_mc_task_130195.ctx = ctx;
                futhark_mc_task_130195.free_m_114104 = m_114104;
                futhark_mc_task_130195.free_n_114105 = n_114105;
                futhark_mc_task_130195.free_l_jump_114113 = l_jump_114113;
                futhark_mc_task_130195.free_l_n_m_114155 = l_n_m_114155;
                futhark_mc_task_130195.free_i_114181 = i_114181;
                futhark_mc_task_130195.free_y_115314 = y_115314;
                futhark_mc_task_130195.free_bytes_121048 = bytes_121048;
                futhark_mc_task_130195.free_ext_mem_121900 = ext_mem_121900.mem;
                futhark_mc_task_130195.free_ext_mem_121901 = ext_mem_121901.mem;
                futhark_mc_task_130195.free_mem_121923 = mem_121923.mem;
                
                struct scheduler_segop futhark_mc_task_130195_task;
                
                futhark_mc_task_130195_task.args = &futhark_mc_task_130195;
                futhark_mc_task_130195_task.top_level_fn =
                    futhark_mc_segmap_task_130196;
                futhark_mc_task_130195_task.name =
                    "futhark_mc_segmap_task_130196";
                futhark_mc_task_130195_task.iterations = m_114104;
                futhark_mc_task_130195_task.task_time =
                    &ctx->futhark_mc_segmap_task_130196_total_time;
                futhark_mc_task_130195_task.task_iter =
                    &ctx->futhark_mc_segmap_task_130196_total_iter;
                futhark_mc_task_130195_task.sched = STATIC;
                futhark_mc_task_130195_task.nested_fn =
                    futhark_mc_segmap_nested_task_130200;
                
                int futhark_mc_segmap_task_130196_err =
                    scheduler_prepare_task(&ctx->scheduler,
                                           &futhark_mc_task_130195_task);
                
                if (futhark_mc_segmap_task_130196_err != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set(ctx, &ext_mem_121924, &mem_121923,
                                 "mem_121923") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_121923, "mem_121923") != 0)
                    return 1;
            } else {
                bool dim_match_115366 = n_114105 == l_n_m_114155;
                bool empty_or_match_cert_115367;
                
                if (!dim_match_115366) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Value of (core language) shape (",
                                  (long long) m_114104, ", ",
                                  (long long) l_n_m_114155,
                                  ") cannot match shape of type `[",
                                  (long long) m_114104, "][",
                                  (long long) n_114105, "]t`.",
                                  "-> #0  stl.fut:224:15-36\n   #1  stl.fut:365:3-376:33\n   #2  stl.fut:352:1-376:33\n");
                    if (memblock_unref(ctx, &ext_mem_121924,
                                       "ext_mem_121924") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121900,
                                       "ext_mem_121900") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121901,
                                       "ext_mem_121901") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121291,
                                       "mem_param_121291") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121283,
                                       "mem_param_121283") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122507,
                                       "ext_mem_122507") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122508,
                                       "ext_mem_122508") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121269,
                                       "mem_param_121269") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121261,
                                       "mem_param_121261") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121253,
                                       "mem_param_121253") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122760,
                                       "ext_mem_122760") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122761,
                                       "ext_mem_122761") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122762,
                                       "ext_mem_122762") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_122886,
                                       "mem_out_122886") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_122885,
                                       "mem_out_122885") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_122884,
                                       "mem_out_122884") != 0)
                        return 1;
                    return 1;
                }
                if (memblock_set(ctx, &ext_mem_121924, &ext_mem_121901,
                                 "ext_mem_121901") != 0)
                    return 1;
            }
            if (memblock_unref(ctx, &ext_mem_121900, "ext_mem_121900") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_121901, "ext_mem_121901") != 0)
                return 1;
            
            struct memblock mem_122009;
            
            mem_122009.references = NULL;
            if (memblock_alloc(ctx, &mem_122009, bytes_121066, "mem_122009")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_118430 = (int64_t) 0;
            int32_t num_tasks_126644;
            int64_t flat_tid_118432 = (int64_t) 0;
            struct futhark_mc_task_130208 futhark_mc_task_130208;
            
            futhark_mc_task_130208.ctx = ctx;
            futhark_mc_task_130208.free_m_114104 = m_114104;
            futhark_mc_task_130208.free_n_114105 = n_114105;
            futhark_mc_task_130208.free_n_p_114107 = n_p_114107;
            futhark_mc_task_130208.free_C_len_114153 = C_len_114153;
            futhark_mc_task_130208.free_Y_mem_121004 = Y_mem_121004.mem;
            futhark_mc_task_130208.free_mem_121044 = mem_121044;
            futhark_mc_task_130208.free_bytes_121048 = bytes_121048;
            futhark_mc_task_130208.free_ctx_param_ext_121264 =
                ctx_param_ext_121264;
            futhark_mc_task_130208.free_ctx_param_ext_121265 =
                ctx_param_ext_121265;
            futhark_mc_task_130208.free_ctx_param_ext_121267 =
                ctx_param_ext_121267;
            futhark_mc_task_130208.free_mem_param_121269 = mem_param_121269.mem;
            futhark_mc_task_130208.free_mem_121357 = mem_121357;
            futhark_mc_task_130208.free_ext_mem_121924 = ext_mem_121924.mem;
            futhark_mc_task_130208.free_ext_121925 = ext_121925;
            futhark_mc_task_130208.free_mem_122001 = mem_122001;
            futhark_mc_task_130208.free_mem_122005 = mem_122005;
            futhark_mc_task_130208.free_mem_122009 = mem_122009.mem;
            
            struct scheduler_segop futhark_mc_task_130208_task;
            
            futhark_mc_task_130208_task.args = &futhark_mc_task_130208;
            futhark_mc_task_130208_task.top_level_fn =
                futhark_mc_segmap_task_130209;
            futhark_mc_task_130208_task.name = "futhark_mc_segmap_task_130209";
            futhark_mc_task_130208_task.iterations = m_114104;
            futhark_mc_task_130208_task.task_time =
                &ctx->futhark_mc_segmap_task_130209_total_time;
            futhark_mc_task_130208_task.task_iter =
                &ctx->futhark_mc_segmap_task_130209_total_iter;
            futhark_mc_task_130208_task.sched = STATIC;
            futhark_mc_task_130208_task.nested_fn =
                futhark_mc_segmap_nested_task_130216;
            
            int futhark_mc_segmap_task_130209_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_130208_task);
            
            if (futhark_mc_segmap_task_130209_err != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_unref(ctx, &ext_mem_121924, "ext_mem_121924") != 0)
                return 1;
            
            struct memblock ext_mem_122478;
            
            ext_mem_122478.references = NULL;
            
            struct memblock ext_mem_122477;
            
            ext_mem_122477.references = NULL;
            if (cond_114555) {
                bool match_lit_115419 = (int64_t) 0 == t_degree_114110;
                struct memblock ext_mem_122127;
                
                ext_mem_122127.references = NULL;
                
                struct memblock ext_mem_122126;
                
                ext_mem_122126.references = NULL;
                if (match_lit_115419) {
                    struct memblock mem_122013;
                    
                    mem_122013.references = NULL;
                    if (memblock_alloc(ctx, &mem_122013, bytes_121234,
                                       "mem_122013")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t i_126717 = 0; i_126717 < m_114104;
                         i_126717++) {
                        for (int64_t i_126718 = 0; i_126718 < t_n_m_114162;
                             i_126718++) {
                            ((float *) mem_122013.mem)[i_126717 * t_n_m_114162 +
                                                       i_126718] = 0.0F;
                        }
                    }
                    
                    struct memblock mem_122035;
                    
                    mem_122035.references = NULL;
                    if (memblock_alloc(ctx, &mem_122035, bytes_121234,
                                       "mem_122035")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t flat_tid_118464 = (int64_t) 0;
                    int32_t num_tasks_126719;
                    int64_t flat_tid_118466 = (int64_t) 0;
                    struct futhark_mc_task_130231 futhark_mc_task_130231;
                    
                    futhark_mc_task_130231.ctx = ctx;
                    futhark_mc_task_130231.free_m_114104 = m_114104;
                    futhark_mc_task_130231.free_n_114105 = n_114105;
                    futhark_mc_task_130231.free_t_window_114108 =
                        t_window_114108;
                    futhark_mc_task_130231.free_t_jump_114112 = t_jump_114112;
                    futhark_mc_task_130231.free_t_n_m_114162 = t_n_m_114162;
                    futhark_mc_task_130231.free_i_114181 = i_114181;
                    futhark_mc_task_130231.free_mem_121047 = mem_121047;
                    futhark_mc_task_130231.free_mem_121069 = mem_121069;
                    futhark_mc_task_130231.free_bytes_121179 = bytes_121179;
                    futhark_mc_task_130231.free_mem_121233 = mem_121233;
                    futhark_mc_task_130231.free_mem_121237 = mem_121237;
                    futhark_mc_task_130231.free_mem_122001 = mem_122001;
                    futhark_mc_task_130231.free_mem_122005 = mem_122005;
                    futhark_mc_task_130231.free_mem_122035 = mem_122035.mem;
                    
                    struct scheduler_segop futhark_mc_task_130231_task;
                    
                    futhark_mc_task_130231_task.args = &futhark_mc_task_130231;
                    futhark_mc_task_130231_task.top_level_fn =
                        futhark_mc_segmap_task_130232;
                    futhark_mc_task_130231_task.name =
                        "futhark_mc_segmap_task_130232";
                    futhark_mc_task_130231_task.iterations = m_114104;
                    futhark_mc_task_130231_task.task_time =
                        &ctx->futhark_mc_segmap_task_130232_total_time;
                    futhark_mc_task_130231_task.task_iter =
                        &ctx->futhark_mc_segmap_task_130232_total_iter;
                    futhark_mc_task_130231_task.sched = STATIC;
                    futhark_mc_task_130231_task.nested_fn =
                        futhark_mc_segmap_nested_task_130236;
                    
                    int futhark_mc_segmap_task_130232_err =
                        scheduler_prepare_task(&ctx->scheduler,
                                               &futhark_mc_task_130231_task);
                    
                    if (futhark_mc_segmap_task_130232_err != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_122127, &mem_122035,
                                     "mem_122035") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_122126, &mem_122013,
                                     "mem_122013") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_122035, "mem_122035") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_122013, "mem_122013") != 0)
                        return 1;
                } else {
                    bool match_lit_115490 = (int64_t) 1 == t_degree_114110;
                    struct memblock ext_mem_122125;
                    
                    ext_mem_122125.references = NULL;
                    
                    struct memblock ext_mem_122124;
                    
                    ext_mem_122124.references = NULL;
                    if (match_lit_115490) {
                        struct memblock mem_122075;
                        
                        mem_122075.references = NULL;
                        if (memblock_alloc(ctx, &mem_122075, bytes_121234,
                                           "mem_122075")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_122079;
                        
                        mem_122079.references = NULL;
                        if (memblock_alloc(ctx, &mem_122079, bytes_121234,
                                           "mem_122079")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t flat_tid_118651 = (int64_t) 0;
                        int32_t num_tasks_127008;
                        int64_t flat_tid_118653 = (int64_t) 0;
                        struct futhark_mc_task_130257 futhark_mc_task_130257;
                        
                        futhark_mc_task_130257.ctx = ctx;
                        futhark_mc_task_130257.free_m_114104 = m_114104;
                        futhark_mc_task_130257.free_n_114105 = n_114105;
                        futhark_mc_task_130257.free_t_window_114108 =
                            t_window_114108;
                        futhark_mc_task_130257.free_t_jump_114112 =
                            t_jump_114112;
                        futhark_mc_task_130257.free_t_n_m_114162 = t_n_m_114162;
                        futhark_mc_task_130257.free_i_114181 = i_114181;
                        futhark_mc_task_130257.free_mem_121047 = mem_121047;
                        futhark_mc_task_130257.free_mem_121069 = mem_121069;
                        futhark_mc_task_130257.free_bytes_121179 = bytes_121179;
                        futhark_mc_task_130257.free_mem_121233 = mem_121233;
                        futhark_mc_task_130257.free_mem_121237 = mem_121237;
                        futhark_mc_task_130257.free_mem_122001 = mem_122001;
                        futhark_mc_task_130257.free_mem_122005 = mem_122005;
                        futhark_mc_task_130257.free_mem_122075 = mem_122075.mem;
                        futhark_mc_task_130257.free_mem_122079 = mem_122079.mem;
                        
                        struct scheduler_segop futhark_mc_task_130257_task;
                        
                        futhark_mc_task_130257_task.args =
                            &futhark_mc_task_130257;
                        futhark_mc_task_130257_task.top_level_fn =
                            futhark_mc_segmap_task_130258;
                        futhark_mc_task_130257_task.name =
                            "futhark_mc_segmap_task_130258";
                        futhark_mc_task_130257_task.iterations = m_114104;
                        futhark_mc_task_130257_task.task_time =
                            &ctx->futhark_mc_segmap_task_130258_total_time;
                        futhark_mc_task_130257_task.task_iter =
                            &ctx->futhark_mc_segmap_task_130258_total_iter;
                        futhark_mc_task_130257_task.sched = STATIC;
                        futhark_mc_task_130257_task.nested_fn =
                            futhark_mc_segmap_nested_task_130263;
                        
                        int futhark_mc_segmap_task_130258_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_130257_task);
                        
                        if (futhark_mc_segmap_task_130258_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_122125, &mem_122075,
                                         "mem_122075") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_122124, &mem_122079,
                                         "mem_122079") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_122079, "mem_122079") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_122075, "mem_122075") != 0)
                            return 1;
                    } else {
                        struct memblock mem_122119;
                        
                        mem_122119.references = NULL;
                        if (memblock_alloc(ctx, &mem_122119, bytes_121234,
                                           "mem_122119")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_122123;
                        
                        mem_122123.references = NULL;
                        if (memblock_alloc(ctx, &mem_122123, bytes_121234,
                                           "mem_122123")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t flat_tid_118923 = (int64_t) 0;
                        int32_t num_tasks_127435;
                        int64_t flat_tid_118925 = (int64_t) 0;
                        struct futhark_mc_task_130288 futhark_mc_task_130288;
                        
                        futhark_mc_task_130288.ctx = ctx;
                        futhark_mc_task_130288.free_m_114104 = m_114104;
                        futhark_mc_task_130288.free_n_114105 = n_114105;
                        futhark_mc_task_130288.free_t_window_114108 =
                            t_window_114108;
                        futhark_mc_task_130288.free_t_jump_114112 =
                            t_jump_114112;
                        futhark_mc_task_130288.free_t_n_m_114162 = t_n_m_114162;
                        futhark_mc_task_130288.free_i_114181 = i_114181;
                        futhark_mc_task_130288.free_mem_121047 = mem_121047;
                        futhark_mc_task_130288.free_mem_121069 = mem_121069;
                        futhark_mc_task_130288.free_bytes_121179 = bytes_121179;
                        futhark_mc_task_130288.free_mem_121233 = mem_121233;
                        futhark_mc_task_130288.free_mem_121237 = mem_121237;
                        futhark_mc_task_130288.free_mem_122001 = mem_122001;
                        futhark_mc_task_130288.free_mem_122005 = mem_122005;
                        futhark_mc_task_130288.free_mem_122119 = mem_122119.mem;
                        futhark_mc_task_130288.free_mem_122123 = mem_122123.mem;
                        
                        struct scheduler_segop futhark_mc_task_130288_task;
                        
                        futhark_mc_task_130288_task.args =
                            &futhark_mc_task_130288;
                        futhark_mc_task_130288_task.top_level_fn =
                            futhark_mc_segmap_task_130289;
                        futhark_mc_task_130288_task.name =
                            "futhark_mc_segmap_task_130289";
                        futhark_mc_task_130288_task.iterations = m_114104;
                        futhark_mc_task_130288_task.task_time =
                            &ctx->futhark_mc_segmap_task_130289_total_time;
                        futhark_mc_task_130288_task.task_iter =
                            &ctx->futhark_mc_segmap_task_130289_total_iter;
                        futhark_mc_task_130288_task.sched = STATIC;
                        futhark_mc_task_130288_task.nested_fn =
                            futhark_mc_segmap_nested_task_130294;
                        
                        int futhark_mc_segmap_task_130289_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_130288_task);
                        
                        if (futhark_mc_segmap_task_130289_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_122125, &mem_122119,
                                         "mem_122119") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_122124, &mem_122123,
                                         "mem_122123") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_122123, "mem_122123") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_122119, "mem_122119") != 0)
                            return 1;
                    }
                    if (memblock_set(ctx, &ext_mem_122127, &ext_mem_122125,
                                     "ext_mem_122125") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_122126, &ext_mem_122124,
                                     "ext_mem_122124") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122124,
                                       "ext_mem_122124") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122125,
                                       "ext_mem_122125") != 0)
                        return 1;
                }
                if (memblock_set(ctx, &ext_mem_122478, &ext_mem_122127,
                                 "ext_mem_122127") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_122477, &ext_mem_122126,
                                 "ext_mem_122126") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122126, "ext_mem_122126") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122127, "ext_mem_122127") != 0)
                    return 1;
            } else {
                bool match_lit_115719 = (int64_t) 0 == t_degree_114110;
                struct memblock ext_mem_122476;
                
                ext_mem_122476.references = NULL;
                
                struct memblock ext_mem_122475;
                
                ext_mem_122475.references = NULL;
                if (match_lit_115719) {
                    struct memblock mem_122131;
                    
                    mem_122131.references = NULL;
                    if (memblock_alloc(ctx, &mem_122131, bytes_121234,
                                       "mem_122131")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t i_127994 = 0; i_127994 < m_114104;
                         i_127994++) {
                        for (int64_t i_127995 = 0; i_127995 < t_n_m_114162;
                             i_127995++) {
                            ((float *) mem_122131.mem)[i_127994 * t_n_m_114162 +
                                                       i_127995] = 0.0F;
                        }
                    }
                    
                    struct memblock mem_122186;
                    
                    mem_122186.references = NULL;
                    if (memblock_alloc(ctx, &mem_122186, bytes_121234,
                                       "mem_122186")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t binop_y_122133 = (int64_t) 4 * t_window_114108;
                    int64_t bytes_122132 = smax64((int64_t) 0, binop_y_122133);
                    int64_t flat_tid_119291 = (int64_t) 0;
                    int32_t num_tasks_127996;
                    int64_t flat_tid_119293 = (int64_t) 0;
                    struct futhark_mc_task_130321 futhark_mc_task_130321;
                    
                    futhark_mc_task_130321.ctx = ctx;
                    futhark_mc_task_130321.free_m_114104 = m_114104;
                    futhark_mc_task_130321.free_n_114105 = n_114105;
                    futhark_mc_task_130321.free_t_window_114108 =
                        t_window_114108;
                    futhark_mc_task_130321.free_t_jump_114112 = t_jump_114112;
                    futhark_mc_task_130321.free_t_n_m_114162 = t_n_m_114162;
                    futhark_mc_task_130321.free_i_114181 = i_114181;
                    futhark_mc_task_130321.free_mem_121047 = mem_121047;
                    futhark_mc_task_130321.free_mem_121069 = mem_121069;
                    futhark_mc_task_130321.free_bytes_121179 = bytes_121179;
                    futhark_mc_task_130321.free_mem_121233 = mem_121233;
                    futhark_mc_task_130321.free_mem_121237 = mem_121237;
                    futhark_mc_task_130321.free_mem_122001 = mem_122001;
                    futhark_mc_task_130321.free_mem_122005 = mem_122005;
                    futhark_mc_task_130321.free_bytes_122132 = bytes_122132;
                    futhark_mc_task_130321.free_mem_122186 = mem_122186.mem;
                    
                    struct scheduler_segop futhark_mc_task_130321_task;
                    
                    futhark_mc_task_130321_task.args = &futhark_mc_task_130321;
                    futhark_mc_task_130321_task.top_level_fn =
                        futhark_mc_segmap_task_130322;
                    futhark_mc_task_130321_task.name =
                        "futhark_mc_segmap_task_130322";
                    futhark_mc_task_130321_task.iterations = m_114104;
                    futhark_mc_task_130321_task.task_time =
                        &ctx->futhark_mc_segmap_task_130322_total_time;
                    futhark_mc_task_130321_task.task_iter =
                        &ctx->futhark_mc_segmap_task_130322_total_iter;
                    futhark_mc_task_130321_task.sched = STATIC;
                    futhark_mc_task_130321_task.nested_fn =
                        futhark_mc_segmap_nested_task_130327;
                    
                    int futhark_mc_segmap_task_130322_err =
                        scheduler_prepare_task(&ctx->scheduler,
                                               &futhark_mc_task_130321_task);
                    
                    if (futhark_mc_segmap_task_130322_err != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_122476, &mem_122186,
                                     "mem_122186") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_122475, &mem_122131,
                                     "mem_122131") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_122186, "mem_122186") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_122131, "mem_122131") != 0)
                        return 1;
                } else {
                    bool match_lit_115776 = (int64_t) 1 == t_degree_114110;
                    struct memblock ext_mem_122474;
                    
                    ext_mem_122474.references = NULL;
                    
                    struct memblock ext_mem_122473;
                    
                    ext_mem_122473.references = NULL;
                    if (match_lit_115776) {
                        struct memblock mem_122292;
                        
                        mem_122292.references = NULL;
                        if (memblock_alloc(ctx, &mem_122292, bytes_121234,
                                           "mem_122292")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_122296;
                        
                        mem_122296.references = NULL;
                        if (memblock_alloc(ctx, &mem_122296, bytes_121234,
                                           "mem_122296")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t binop_y_122188 = (int64_t) 4 * t_window_114108;
                        int64_t bytes_122187 = smax64((int64_t) 0,
                                                      binop_y_122188);
                        int64_t flat_tid_119436 = (int64_t) 0;
                        int32_t num_tasks_128225;
                        int64_t flat_tid_119438 = (int64_t) 0;
                        struct futhark_mc_task_130350 futhark_mc_task_130350;
                        
                        futhark_mc_task_130350.ctx = ctx;
                        futhark_mc_task_130350.free_m_114104 = m_114104;
                        futhark_mc_task_130350.free_n_114105 = n_114105;
                        futhark_mc_task_130350.free_t_window_114108 =
                            t_window_114108;
                        futhark_mc_task_130350.free_t_jump_114112 =
                            t_jump_114112;
                        futhark_mc_task_130350.free_t_n_m_114162 = t_n_m_114162;
                        futhark_mc_task_130350.free_i_114181 = i_114181;
                        futhark_mc_task_130350.free_mem_121047 = mem_121047;
                        futhark_mc_task_130350.free_mem_121069 = mem_121069;
                        futhark_mc_task_130350.free_bytes_121179 = bytes_121179;
                        futhark_mc_task_130350.free_mem_121233 = mem_121233;
                        futhark_mc_task_130350.free_mem_121237 = mem_121237;
                        futhark_mc_task_130350.free_mem_122001 = mem_122001;
                        futhark_mc_task_130350.free_mem_122005 = mem_122005;
                        futhark_mc_task_130350.free_bytes_122187 = bytes_122187;
                        futhark_mc_task_130350.free_mem_122292 = mem_122292.mem;
                        futhark_mc_task_130350.free_mem_122296 = mem_122296.mem;
                        
                        struct scheduler_segop futhark_mc_task_130350_task;
                        
                        futhark_mc_task_130350_task.args =
                            &futhark_mc_task_130350;
                        futhark_mc_task_130350_task.top_level_fn =
                            futhark_mc_segmap_task_130351;
                        futhark_mc_task_130350_task.name =
                            "futhark_mc_segmap_task_130351";
                        futhark_mc_task_130350_task.iterations = m_114104;
                        futhark_mc_task_130350_task.task_time =
                            &ctx->futhark_mc_segmap_task_130351_total_time;
                        futhark_mc_task_130350_task.task_iter =
                            &ctx->futhark_mc_segmap_task_130351_total_iter;
                        futhark_mc_task_130350_task.sched = STATIC;
                        futhark_mc_task_130350_task.nested_fn =
                            futhark_mc_segmap_nested_task_130358;
                        
                        int futhark_mc_segmap_task_130351_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_130350_task);
                        
                        if (futhark_mc_segmap_task_130351_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_122474, &mem_122292,
                                         "mem_122292") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_122473, &mem_122296,
                                         "mem_122296") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_122296, "mem_122296") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_122292, "mem_122292") != 0)
                            return 1;
                    } else {
                        struct memblock mem_122468;
                        
                        mem_122468.references = NULL;
                        if (memblock_alloc(ctx, &mem_122468, bytes_121234,
                                           "mem_122468")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock mem_122472;
                        
                        mem_122472.references = NULL;
                        if (memblock_alloc(ctx, &mem_122472, bytes_121234,
                                           "mem_122472")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t binop_y_122298 = (int64_t) 4 * t_window_114108;
                        int64_t bytes_122297 = smax64((int64_t) 0,
                                                      binop_y_122298);
                        int64_t flat_tid_119669 = (int64_t) 0;
                        int32_t num_tasks_128607;
                        int64_t flat_tid_119671 = (int64_t) 0;
                        struct futhark_mc_task_130387 futhark_mc_task_130387;
                        
                        futhark_mc_task_130387.ctx = ctx;
                        futhark_mc_task_130387.free_m_114104 = m_114104;
                        futhark_mc_task_130387.free_n_114105 = n_114105;
                        futhark_mc_task_130387.free_t_window_114108 =
                            t_window_114108;
                        futhark_mc_task_130387.free_t_jump_114112 =
                            t_jump_114112;
                        futhark_mc_task_130387.free_t_n_m_114162 = t_n_m_114162;
                        futhark_mc_task_130387.free_i_114181 = i_114181;
                        futhark_mc_task_130387.free_mem_121047 = mem_121047;
                        futhark_mc_task_130387.free_mem_121069 = mem_121069;
                        futhark_mc_task_130387.free_bytes_121179 = bytes_121179;
                        futhark_mc_task_130387.free_mem_121233 = mem_121233;
                        futhark_mc_task_130387.free_mem_121237 = mem_121237;
                        futhark_mc_task_130387.free_mem_122001 = mem_122001;
                        futhark_mc_task_130387.free_mem_122005 = mem_122005;
                        futhark_mc_task_130387.free_bytes_122297 = bytes_122297;
                        futhark_mc_task_130387.free_mem_122468 = mem_122468.mem;
                        futhark_mc_task_130387.free_mem_122472 = mem_122472.mem;
                        
                        struct scheduler_segop futhark_mc_task_130387_task;
                        
                        futhark_mc_task_130387_task.args =
                            &futhark_mc_task_130387;
                        futhark_mc_task_130387_task.top_level_fn =
                            futhark_mc_segmap_task_130388;
                        futhark_mc_task_130387_task.name =
                            "futhark_mc_segmap_task_130388";
                        futhark_mc_task_130387_task.iterations = m_114104;
                        futhark_mc_task_130387_task.task_time =
                            &ctx->futhark_mc_segmap_task_130388_total_time;
                        futhark_mc_task_130387_task.task_iter =
                            &ctx->futhark_mc_segmap_task_130388_total_iter;
                        futhark_mc_task_130387_task.sched = STATIC;
                        futhark_mc_task_130387_task.nested_fn =
                            futhark_mc_segmap_nested_task_130397;
                        
                        int futhark_mc_segmap_task_130388_err =
                            scheduler_prepare_task(&ctx->scheduler,
                                                   &futhark_mc_task_130387_task);
                        
                        if (futhark_mc_segmap_task_130388_err != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set(ctx, &ext_mem_122474, &mem_122468,
                                         "mem_122468") != 0)
                            return 1;
                        if (memblock_set(ctx, &ext_mem_122473, &mem_122472,
                                         "mem_122472") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_122472, "mem_122472") != 0)
                            return 1;
                        if (memblock_unref(ctx, &mem_122468, "mem_122468") != 0)
                            return 1;
                    }
                    if (memblock_set(ctx, &ext_mem_122476, &ext_mem_122474,
                                     "ext_mem_122474") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_122475, &ext_mem_122473,
                                     "ext_mem_122473") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122473,
                                       "ext_mem_122473") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122474,
                                       "ext_mem_122474") != 0)
                        return 1;
                }
                if (memblock_set(ctx, &ext_mem_122478, &ext_mem_122476,
                                 "ext_mem_122476") != 0)
                    return 1;
                if (memblock_set(ctx, &ext_mem_122477, &ext_mem_122475,
                                 "ext_mem_122475") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122475, "ext_mem_122475") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122476, "ext_mem_122476") != 0)
                    return 1;
            }
            
            struct memblock ext_mem_122501;
            
            ext_mem_122501.references = NULL;
            if (cond_114480) {
                bool zzero_116024 = t_jump_114112 == (int64_t) 0;
                bool nonzzero_116025 = !zzero_116024;
                bool nonzzero_cert_116026;
                
                if (!nonzzero_116025) {
                    ctx->error = msgprintf("Error: %s\n\nBacktrace:\n%s",
                                           "division by zero",
                                           "-> #0  loess.fut:423:27-34\n   #1  /prelude/soacs.fut:59:3-10\n   #2  /prelude/array.fut:195:3-17\n   #3  loess.fut:422:3-435:14\n   #4  stl.fut:271:23-75\n   #5  /prelude/soacs.fut:67:19-23\n   #6  /prelude/soacs.fut:67:3-37\n   #7  stl.fut:270:15-272:43\n   #8  stl.fut:365:3-376:33\n   #9  stl.fut:352:1-376:33\n");
                    if (memblock_unref(ctx, &ext_mem_122501,
                                       "ext_mem_122501") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122477,
                                       "ext_mem_122477") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122478,
                                       "ext_mem_122478") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_122009, "mem_122009") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121924,
                                       "ext_mem_121924") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121900,
                                       "ext_mem_121900") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121901,
                                       "ext_mem_121901") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121291,
                                       "mem_param_121291") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121283,
                                       "mem_param_121283") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122507,
                                       "ext_mem_122507") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122508,
                                       "ext_mem_122508") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121269,
                                       "mem_param_121269") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121261,
                                       "mem_param_121261") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121253,
                                       "mem_param_121253") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122760,
                                       "ext_mem_122760") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122761,
                                       "ext_mem_122761") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122762,
                                       "ext_mem_122762") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_122886,
                                       "mem_out_122886") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_122885,
                                       "mem_out_122885") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_122884,
                                       "mem_out_122884") != 0)
                        return 1;
                    return 1;
                }
                
                int64_t y_116027 = sub64(t_n_m_114162, (int64_t) 1);
                struct memblock mem_122500;
                
                mem_122500.references = NULL;
                if (memblock_alloc(ctx, &mem_122500, bytes_121066,
                                   "mem_122500")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t flat_tid_120012 = (int64_t) 0;
                int32_t num_tasks_129173;
                int64_t flat_tid_120014 = (int64_t) 0;
                struct futhark_mc_task_130436 futhark_mc_task_130436;
                
                futhark_mc_task_130436.ctx = ctx;
                futhark_mc_task_130436.free_m_114104 = m_114104;
                futhark_mc_task_130436.free_n_114105 = n_114105;
                futhark_mc_task_130436.free_t_jump_114112 = t_jump_114112;
                futhark_mc_task_130436.free_t_n_m_114162 = t_n_m_114162;
                futhark_mc_task_130436.free_i_114181 = i_114181;
                futhark_mc_task_130436.free_y_116027 = y_116027;
                futhark_mc_task_130436.free_bytes_121048 = bytes_121048;
                futhark_mc_task_130436.free_ext_mem_122477 = ext_mem_122477.mem;
                futhark_mc_task_130436.free_ext_mem_122478 = ext_mem_122478.mem;
                futhark_mc_task_130436.free_mem_122500 = mem_122500.mem;
                
                struct scheduler_segop futhark_mc_task_130436_task;
                
                futhark_mc_task_130436_task.args = &futhark_mc_task_130436;
                futhark_mc_task_130436_task.top_level_fn =
                    futhark_mc_segmap_task_130437;
                futhark_mc_task_130436_task.name =
                    "futhark_mc_segmap_task_130437";
                futhark_mc_task_130436_task.iterations = m_114104;
                futhark_mc_task_130436_task.task_time =
                    &ctx->futhark_mc_segmap_task_130437_total_time;
                futhark_mc_task_130436_task.task_iter =
                    &ctx->futhark_mc_segmap_task_130437_total_iter;
                futhark_mc_task_130436_task.sched = STATIC;
                futhark_mc_task_130436_task.nested_fn =
                    futhark_mc_segmap_nested_task_130441;
                
                int futhark_mc_segmap_task_130437_err =
                    scheduler_prepare_task(&ctx->scheduler,
                                           &futhark_mc_task_130436_task);
                
                if (futhark_mc_segmap_task_130437_err != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set(ctx, &ext_mem_122501, &mem_122500,
                                 "mem_122500") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_122500, "mem_122500") != 0)
                    return 1;
            } else {
                bool dim_match_116080 = n_114105 == t_n_m_114162;
                bool empty_or_match_cert_116081;
                
                if (!dim_match_116080) {
                    ctx->error =
                        msgprintf("Error: %s%lld%s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                                  "Value of (core language) shape (",
                                  (long long) m_114104, ", ",
                                  (long long) t_n_m_114162,
                                  ") cannot match shape of type `[",
                                  (long long) m_114104, "][",
                                  (long long) n_114105, "]t`.",
                                  "-> #0  stl.fut:274:15-36\n   #1  stl.fut:365:3-376:33\n   #2  stl.fut:352:1-376:33\n");
                    if (memblock_unref(ctx, &ext_mem_122501,
                                       "ext_mem_122501") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122477,
                                       "ext_mem_122477") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122478,
                                       "ext_mem_122478") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_122009, "mem_122009") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121924,
                                       "ext_mem_121924") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121900,
                                       "ext_mem_121900") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_121901,
                                       "ext_mem_121901") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121291,
                                       "mem_param_121291") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121283,
                                       "mem_param_121283") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122507,
                                       "ext_mem_122507") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122508,
                                       "ext_mem_122508") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121269,
                                       "mem_param_121269") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121261,
                                       "mem_param_121261") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_param_121253,
                                       "mem_param_121253") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122760,
                                       "ext_mem_122760") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122761,
                                       "ext_mem_122761") != 0)
                        return 1;
                    if (memblock_unref(ctx, &ext_mem_122762,
                                       "ext_mem_122762") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_122886,
                                       "mem_out_122886") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_122885,
                                       "mem_out_122885") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_out_122884,
                                       "mem_out_122884") != 0)
                        return 1;
                    return 1;
                }
                if (memblock_set(ctx, &ext_mem_122501, &ext_mem_122478,
                                 "ext_mem_122478") != 0)
                    return 1;
            }
            if (memblock_unref(ctx, &ext_mem_122477, "ext_mem_122477") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_122478, "ext_mem_122478") != 0)
                return 1;
            
            int64_t ctx_param_ext_tmp_123651 = ext_122502;
            int64_t ctx_param_ext_tmp_123652 = ext_122502;
            struct memblock mem_param_tmp_123653;
            
            mem_param_tmp_123653.references = NULL;
            if (memblock_set(ctx, &mem_param_tmp_123653, &mem_122009,
                             "mem_122009") != 0)
                return 1;
            
            struct memblock mem_param_tmp_123654;
            
            mem_param_tmp_123654.references = NULL;
            if (memblock_set(ctx, &mem_param_tmp_123654, &ext_mem_122501,
                             "ext_mem_122501") != 0)
                return 1;
            ctx_param_ext_121285 = ctx_param_ext_tmp_123651;
            ctx_param_ext_121287 = ctx_param_ext_tmp_123652;
            if (memblock_set(ctx, &mem_param_121283, &mem_param_tmp_123653,
                             "mem_param_tmp_123653") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_121291, &mem_param_tmp_123654,
                             "mem_param_tmp_123654") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_param_tmp_123654,
                               "mem_param_tmp_123654") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_param_tmp_123653,
                               "mem_param_tmp_123653") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_122501, "ext_mem_122501") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_122477, "ext_mem_122477") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_122478, "ext_mem_122478") != 0)
                return 1;
            if (memblock_unref(ctx, &mem_122009, "mem_122009") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_121924, "ext_mem_121924") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_121900, "ext_mem_121900") != 0)
                return 1;
            if (memblock_unref(ctx, &ext_mem_121901, "ext_mem_121901") != 0)
                return 1;
        }
        ext_122514 = ctx_param_ext_121285;
        ext_122512 = ctx_param_ext_121287;
        if (memblock_set(ctx, &ext_mem_122508, &mem_param_121283,
                         "mem_param_121283") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_122507, &mem_param_121291,
                         "mem_param_121291") != 0)
            return 1;
        
        bool cond_116083 = slt64(i_outer_114559, y_114481);
        int64_t ext_122759;
        
        if (cond_116083) {
            ext_122759 = m_114104;
        } else {
            ext_122759 = ctx_param_ext_121266;
        }
        
        int64_t ext_122758;
        
        if (cond_116083) {
            ext_122758 = n_114105;
        } else {
            ext_122758 = ctx_param_ext_121268;
        }
        
        int64_t ext_122757;
        
        if (cond_116083) {
            ext_122757 = m_114104;
        } else {
            ext_122757 = ctx_param_ext_121262;
        }
        
        int64_t ext_122756;
        
        if (cond_116083) {
            ext_122756 = n_114105;
        } else {
            ext_122756 = ctx_param_ext_121263;
        }
        
        int64_t ext_122755;
        
        if (cond_116083) {
            ext_122755 = n_114105;
        } else {
            ext_122755 = ctx_param_ext_121265;
        }
        
        int64_t ext_122754;
        
        if (cond_116083) {
            ext_122754 = (int64_t) 1;
        } else {
            ext_122754 = ctx_param_ext_121267;
        }
        
        int64_t ext_122753;
        
        if (cond_116083) {
            ext_122753 = (int64_t) 0;
        } else {
            ext_122753 = ctx_param_ext_121264;
        }
        
        struct memblock ext_mem_122752;
        
        ext_mem_122752.references = NULL;
        if (cond_116083) {
            if (mem_122544_cached_sizze_129742 < (size_t) bytes_121066) {
                mem_122544 = realloc(mem_122544, bytes_121066);
                mem_122544_cached_sizze_129742 = bytes_121066;
            }
            
            int64_t flat_tid_120068 = (int64_t) 0;
            int32_t num_tasks_129281;
            int64_t flat_tid_120070 = (int64_t) 0;
            struct futhark_mc_task_130449 futhark_mc_task_130449;
            
            futhark_mc_task_130449.ctx = ctx;
            futhark_mc_task_130449.free_m_114104 = m_114104;
            futhark_mc_task_130449.free_n_114105 = n_114105;
            futhark_mc_task_130449.free_Y_mem_121004 = Y_mem_121004.mem;
            futhark_mc_task_130449.free_bytes_121048 = bytes_121048;
            futhark_mc_task_130449.free_ext_mem_122507 = ext_mem_122507.mem;
            futhark_mc_task_130449.free_ext_mem_122508 = ext_mem_122508.mem;
            futhark_mc_task_130449.free_ext_122512 = ext_122512;
            futhark_mc_task_130449.free_mem_122544 = mem_122544;
            
            struct scheduler_segop futhark_mc_task_130449_task;
            
            futhark_mc_task_130449_task.args = &futhark_mc_task_130449;
            futhark_mc_task_130449_task.top_level_fn =
                futhark_mc_segmap_task_130450;
            futhark_mc_task_130449_task.name = "futhark_mc_segmap_task_130450";
            futhark_mc_task_130449_task.iterations = m_114104;
            futhark_mc_task_130449_task.task_time =
                &ctx->futhark_mc_segmap_task_130450_total_time;
            futhark_mc_task_130449_task.task_iter =
                &ctx->futhark_mc_segmap_task_130450_total_iter;
            futhark_mc_task_130449_task.sched = STATIC;
            futhark_mc_task_130449_task.nested_fn =
                futhark_mc_segmap_nested_task_130454;
            
            int futhark_mc_segmap_task_130450_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_130449_task);
            
            if (futhark_mc_segmap_task_130450_err != 0) {
                err = 1;
                goto cleanup;
            }
            if (mem_122566_cached_sizze_129743 < (size_t) bytes_121066) {
                mem_122566 = realloc(mem_122566, bytes_121066);
                mem_122566_cached_sizze_129743 = bytes_121066;
            }
            
            int64_t flat_tid_120086 = (int64_t) 0;
            int32_t num_tasks_129313;
            int64_t flat_tid_120088 = (int64_t) 0;
            struct futhark_mc_task_130462 futhark_mc_task_130462;
            
            futhark_mc_task_130462.ctx = ctx;
            futhark_mc_task_130462.free_m_114104 = m_114104;
            futhark_mc_task_130462.free_n_114105 = n_114105;
            futhark_mc_task_130462.free_mem_121044 = mem_121044;
            futhark_mc_task_130462.free_bytes_121048 = bytes_121048;
            futhark_mc_task_130462.free_mem_122544 = mem_122544;
            futhark_mc_task_130462.free_mem_122566 = mem_122566;
            
            struct scheduler_segop futhark_mc_task_130462_task;
            
            futhark_mc_task_130462_task.args = &futhark_mc_task_130462;
            futhark_mc_task_130462_task.top_level_fn =
                futhark_mc_segmap_task_130463;
            futhark_mc_task_130462_task.name = "futhark_mc_segmap_task_130463";
            futhark_mc_task_130462_task.iterations = m_114104;
            futhark_mc_task_130462_task.task_time =
                &ctx->futhark_mc_segmap_task_130463_total_time;
            futhark_mc_task_130462_task.task_iter =
                &ctx->futhark_mc_segmap_task_130463_total_iter;
            futhark_mc_task_130462_task.sched = STATIC;
            futhark_mc_task_130462_task.nested_fn =
                futhark_mc_segmap_nested_task_130467;
            
            int futhark_mc_segmap_task_130463_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_130462_task);
            
            if (futhark_mc_segmap_task_130463_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t iters_116111;
            
            if (empty_slice_114497) {
                iters_116111 = 0;
            } else {
                iters_116111 = 16;
            }
            
            bool loop_nonempty_116112 = slt32(0, iters_116111);
            bool loop_not_taken_116113 = !loop_nonempty_116112;
            bool protect_assert_disj_116114 = bounds_check_114184 ||
                 loop_not_taken_116113;
            bool index_certs_116115;
            
            if (!protect_assert_disj_116114) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) i_114181,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  /prelude/array.fut:26:29-34\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:25:24-35\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:53:31-62\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:104:6-36\n   #4  stl.fut:305:35-77\n   #5  stl.fut:304:28-306:40\n   #6  stl.fut:365:3-376:33\n   #7  stl.fut:352:1-376:33\n");
                if (memblock_unref(ctx, &ext_mem_122752, "ext_mem_122752") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_121291,
                                   "mem_param_121291") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_121283,
                                   "mem_param_121283") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122507, "ext_mem_122507") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122508, "ext_mem_122508") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_121269,
                                   "mem_param_121269") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_121261,
                                   "mem_param_121261") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_121253,
                                   "mem_param_121253") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122760, "ext_mem_122760") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122761, "ext_mem_122761") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122762, "ext_mem_122762") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
                    return 1;
                return 1;
            }
            if (mem_122720_cached_sizze_129744 < (size_t) bytes_121066) {
                mem_122720 = realloc(mem_122720, bytes_121066);
                mem_122720_cached_sizze_129744 = bytes_121066;
            }
            
            int64_t double_buffer_sizze_122874 = (int64_t) 4 * n_114105;
            int64_t double_buffer_sizze_122878 = (int64_t) 4 * n_114105;
            int64_t flat_tid_120102 = (int64_t) 0;
            int32_t num_tasks_129346;
            int64_t flat_tid_120104 = (int64_t) 0;
            struct futhark_mc_task_130475 futhark_mc_task_130475;
            
            futhark_mc_task_130475.ctx = ctx;
            futhark_mc_task_130475.free_m_114104 = m_114104;
            futhark_mc_task_130475.free_n_114105 = n_114105;
            futhark_mc_task_130475.free_i_114181 = i_114181;
            futhark_mc_task_130475.free_iters_116111 = iters_116111;
            futhark_mc_task_130475.free_bytes_121005 = bytes_121005;
            futhark_mc_task_130475.free_bytes_121048 = bytes_121048;
            futhark_mc_task_130475.free_mem_122566 = mem_122566;
            futhark_mc_task_130475.free_mem_122720 = mem_122720;
            futhark_mc_task_130475.free_double_buffer_sizze_122874 =
                double_buffer_sizze_122874;
            futhark_mc_task_130475.free_double_buffer_sizze_122878 =
                double_buffer_sizze_122878;
            
            struct scheduler_segop futhark_mc_task_130475_task;
            
            futhark_mc_task_130475_task.args = &futhark_mc_task_130475;
            futhark_mc_task_130475_task.top_level_fn =
                futhark_mc_segmap_task_130476;
            futhark_mc_task_130475_task.name = "futhark_mc_segmap_task_130476";
            futhark_mc_task_130475_task.iterations = m_114104;
            futhark_mc_task_130475_task.task_time =
                &ctx->futhark_mc_segmap_task_130476_total_time;
            futhark_mc_task_130475_task.task_iter =
                &ctx->futhark_mc_segmap_task_130476_total_iter;
            futhark_mc_task_130475_task.sched = STATIC;
            futhark_mc_task_130475_task.nested_fn =
                futhark_mc_segmap_nested_task_130486;
            
            int futhark_mc_segmap_task_130476_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_130475_task);
            
            if (futhark_mc_segmap_task_130476_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            bool empty_slice_116229 = j_m_i_114511 == (int64_t) 0;
            int64_t m_116230 = sub64(j_m_i_114511, (int64_t) 1);
            int64_t i_p_m_t_s_116231 = add64(stl_res_114175, m_116230);
            bool zzero_leq_i_p_m_t_s_116232 = sle64((int64_t) 0,
                                                    i_p_m_t_s_116231);
            bool i_p_m_t_s_leq_w_116233 = slt64(i_p_m_t_s_116231, n_114105);
            bool zzero_lte_i_116234 = sle64((int64_t) 0, stl_res_114175);
            bool i_lte_j_116235 = sle64(stl_res_114175, stl_res_114176);
            bool y_116236 = i_p_m_t_s_leq_w_116233 && zzero_lte_i_116234;
            bool y_116237 = zzero_leq_i_p_m_t_s_116232 && y_116236;
            bool y_116238 = i_lte_j_116235 && y_116237;
            bool forwards_ok_116239 = zzero_lte_i_116234 && y_116238;
            bool ok_or_empty_116240 = empty_slice_116229 || forwards_ok_116239;
            bool index_certs_116241;
            
            if (!ok_or_empty_116240) {
                ctx->error =
                    msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s",
                              "Index [", (long long) stl_res_114175, ":",
                              (long long) stl_res_114176,
                              "] out of bounds for array of shape [",
                              (long long) n_114105, "].",
                              "-> #0  stl.fut:311:33-51\n   #1  stl.fut:309:13-316:28\n   #2  stl.fut:365:3-376:33\n   #3  stl.fut:352:1-376:33\n");
                if (memblock_unref(ctx, &ext_mem_122752, "ext_mem_122752") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_121291,
                                   "mem_param_121291") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_121283,
                                   "mem_param_121283") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122507, "ext_mem_122507") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122508, "ext_mem_122508") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_121269,
                                   "mem_param_121269") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_121261,
                                   "mem_param_121261") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_param_121253,
                                   "mem_param_121253") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122760, "ext_mem_122760") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122761, "ext_mem_122761") != 0)
                    return 1;
                if (memblock_unref(ctx, &ext_mem_122762, "ext_mem_122762") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
                    return 1;
                return 1;
            }
            if (mem_122723_cached_sizze_129745 < (size_t) bytes_121358) {
                mem_122723 = realloc(mem_122723, bytes_121358);
                mem_122723_cached_sizze_129745 = bytes_121358;
            }
            if (mem_122726_cached_sizze_129746 < (size_t) bytes_121358) {
                mem_122726 = realloc(mem_122726, bytes_121358);
                mem_122726_cached_sizze_129746 = bytes_121358;
            }
            if (mem_122729_cached_sizze_129747 < (size_t) bytes_121358) {
                mem_122729 = realloc(mem_122729, bytes_121358);
                mem_122729_cached_sizze_129747 = bytes_121358;
            }
            
            int64_t flat_tid_120195 = (int64_t) 0;
            int32_t num_tasks_129612;
            int64_t flat_tid_120197 = (int64_t) 0;
            struct futhark_mc_task_130510 futhark_mc_task_130510;
            
            futhark_mc_task_130510.ctx = ctx;
            futhark_mc_task_130510.free_m_114104 = m_114104;
            futhark_mc_task_130510.free_n_114105 = n_114105;
            futhark_mc_task_130510.free_stl_res_114175 = stl_res_114175;
            futhark_mc_task_130510.free_j_m_i_114511 = j_m_i_114511;
            futhark_mc_task_130510.free_mem_122720 = mem_122720;
            futhark_mc_task_130510.free_mem_122723 = mem_122723;
            futhark_mc_task_130510.free_mem_122726 = mem_122726;
            futhark_mc_task_130510.free_mem_122729 = mem_122729;
            
            struct scheduler_segop futhark_mc_task_130510_task;
            
            futhark_mc_task_130510_task.args = &futhark_mc_task_130510;
            futhark_mc_task_130510_task.top_level_fn =
                futhark_mc_segmap_task_130511;
            futhark_mc_task_130510_task.name = "futhark_mc_segmap_task_130511";
            futhark_mc_task_130510_task.iterations = m_114104;
            futhark_mc_task_130510_task.task_time =
                &ctx->futhark_mc_segmap_task_130511_total_time;
            futhark_mc_task_130510_task.task_iter =
                &ctx->futhark_mc_segmap_task_130511_total_iter;
            futhark_mc_task_130510_task.sched = STATIC;
            futhark_mc_task_130510_task.nested_fn =
                futhark_mc_segmap_nested_task_130514;
            
            int futhark_mc_segmap_task_130511_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_130510_task);
            
            if (futhark_mc_segmap_task_130511_err != 0) {
                err = 1;
                goto cleanup;
            }
            
            struct memblock mem_122751;
            
            mem_122751.references = NULL;
            if (memblock_alloc(ctx, &mem_122751, bytes_121066, "mem_122751")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t flat_tid_120210 = (int64_t) 0;
            int32_t num_tasks_129639;
            int64_t flat_tid_120212 = (int64_t) 0;
            struct futhark_mc_task_130522 futhark_mc_task_130522;
            
            futhark_mc_task_130522.ctx = ctx;
            futhark_mc_task_130522.free_m_114104 = m_114104;
            futhark_mc_task_130522.free_n_114105 = n_114105;
            futhark_mc_task_130522.free_bytes_121048 = bytes_121048;
            futhark_mc_task_130522.free_mem_122544 = mem_122544;
            futhark_mc_task_130522.free_mem_122723 = mem_122723;
            futhark_mc_task_130522.free_mem_122726 = mem_122726;
            futhark_mc_task_130522.free_mem_122729 = mem_122729;
            futhark_mc_task_130522.free_mem_122751 = mem_122751.mem;
            
            struct scheduler_segop futhark_mc_task_130522_task;
            
            futhark_mc_task_130522_task.args = &futhark_mc_task_130522;
            futhark_mc_task_130522_task.top_level_fn =
                futhark_mc_segmap_task_130523;
            futhark_mc_task_130522_task.name = "futhark_mc_segmap_task_130523";
            futhark_mc_task_130522_task.iterations = m_114104;
            futhark_mc_task_130522_task.task_time =
                &ctx->futhark_mc_segmap_task_130523_total_time;
            futhark_mc_task_130522_task.task_iter =
                &ctx->futhark_mc_segmap_task_130523_total_iter;
            futhark_mc_task_130522_task.sched = STATIC;
            futhark_mc_task_130522_task.nested_fn =
                futhark_mc_segmap_nested_task_130527;
            
            int futhark_mc_segmap_task_130523_err =
                scheduler_prepare_task(&ctx->scheduler,
                                       &futhark_mc_task_130522_task);
            
            if (futhark_mc_segmap_task_130523_err != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set(ctx, &ext_mem_122752, &mem_122751, "mem_122751") !=
                0)
                return 1;
            if (memblock_unref(ctx, &mem_122751, "mem_122751") != 0)
                return 1;
        } else {
            if (memblock_set(ctx, &ext_mem_122752, &mem_param_121269,
                             "mem_param_121269") != 0)
                return 1;
        }
        
        int64_t ctx_param_ext_tmp_123636 = ext_122514;
        int64_t ctx_param_ext_tmp_123637 = ext_122512;
        int64_t ctx_param_ext_tmp_123638 = ext_122757;
        int64_t ctx_param_ext_tmp_123639 = ext_122756;
        int64_t ctx_param_ext_tmp_123640 = ext_122753;
        int64_t ctx_param_ext_tmp_123641 = ext_122755;
        int64_t ctx_param_ext_tmp_123642 = ext_122759;
        int64_t ctx_param_ext_tmp_123643 = ext_122754;
        int64_t ctx_param_ext_tmp_123644 = ext_122758;
        struct memblock mem_param_tmp_123645;
        
        mem_param_tmp_123645.references = NULL;
        if (memblock_set(ctx, &mem_param_tmp_123645, &ext_mem_122508,
                         "ext_mem_122508") != 0)
            return 1;
        
        struct memblock mem_param_tmp_123646;
        
        mem_param_tmp_123646.references = NULL;
        if (memblock_set(ctx, &mem_param_tmp_123646, &ext_mem_122507,
                         "ext_mem_122507") != 0)
            return 1;
        
        struct memblock mem_param_tmp_123647;
        
        mem_param_tmp_123647.references = NULL;
        if (memblock_set(ctx, &mem_param_tmp_123647, &ext_mem_122752,
                         "ext_mem_122752") != 0)
            return 1;
        ctx_param_ext_121255 = ctx_param_ext_tmp_123636;
        ctx_param_ext_121257 = ctx_param_ext_tmp_123637;
        ctx_param_ext_121262 = ctx_param_ext_tmp_123638;
        ctx_param_ext_121263 = ctx_param_ext_tmp_123639;
        ctx_param_ext_121264 = ctx_param_ext_tmp_123640;
        ctx_param_ext_121265 = ctx_param_ext_tmp_123641;
        ctx_param_ext_121266 = ctx_param_ext_tmp_123642;
        ctx_param_ext_121267 = ctx_param_ext_tmp_123643;
        ctx_param_ext_121268 = ctx_param_ext_tmp_123644;
        if (memblock_set(ctx, &mem_param_121253, &mem_param_tmp_123645,
                         "mem_param_tmp_123645") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_121261, &mem_param_tmp_123646,
                         "mem_param_tmp_123646") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_121269, &mem_param_tmp_123647,
                         "mem_param_tmp_123647") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_123647,
                           "mem_param_tmp_123647") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_123646,
                           "mem_param_tmp_123646") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_123645,
                           "mem_param_tmp_123645") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_122752, "ext_mem_122752") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_121291, "mem_param_121291") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_121283, "mem_param_121283") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_122507, "ext_mem_122507") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_122508, "ext_mem_122508") != 0)
            return 1;
    }
    ext_122775 = ctx_param_ext_121255;
    ext_122773 = ctx_param_ext_121257;
    ext_122769 = ctx_param_ext_121262;
    ext_122768 = ctx_param_ext_121263;
    ext_122767 = ctx_param_ext_121264;
    ext_122766 = ctx_param_ext_121265;
    ext_122765 = ctx_param_ext_121266;
    ext_122764 = ctx_param_ext_121267;
    ext_122763 = ctx_param_ext_121268;
    if (memblock_set(ctx, &ext_mem_122762, &mem_param_121253,
                     "mem_param_121253") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_122761, &mem_param_121261,
                     "mem_param_121261") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_122760, &mem_param_121269,
                     "mem_param_121269") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
        return 1;
    
    struct memblock mem_122805;
    
    mem_122805.references = NULL;
    if (memblock_alloc(ctx, &mem_122805, bytes_121066, "mem_122805")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t flat_tid_120238 = (int64_t) 0;
    int32_t num_tasks_129694;
    int64_t flat_tid_120240 = (int64_t) 0;
    struct futhark_mc_task_130535 futhark_mc_task_130535;
    
    futhark_mc_task_130535.ctx = ctx;
    futhark_mc_task_130535.free_m_114104 = m_114104;
    futhark_mc_task_130535.free_n_114105 = n_114105;
    futhark_mc_task_130535.free_Y_mem_121004 = Y_mem_121004.mem;
    futhark_mc_task_130535.free_bytes_121048 = bytes_121048;
    futhark_mc_task_130535.free_ext_mem_122761 = ext_mem_122761.mem;
    futhark_mc_task_130535.free_ext_mem_122762 = ext_mem_122762.mem;
    futhark_mc_task_130535.free_ext_122773 = ext_122773;
    futhark_mc_task_130535.free_mem_122805 = mem_122805.mem;
    
    struct scheduler_segop futhark_mc_task_130535_task;
    
    futhark_mc_task_130535_task.args = &futhark_mc_task_130535;
    futhark_mc_task_130535_task.top_level_fn = futhark_mc_segmap_task_130536;
    futhark_mc_task_130535_task.name = "futhark_mc_segmap_task_130536";
    futhark_mc_task_130535_task.iterations = m_114104;
    futhark_mc_task_130535_task.task_time =
        &ctx->futhark_mc_segmap_task_130536_total_time;
    futhark_mc_task_130535_task.task_iter =
        &ctx->futhark_mc_segmap_task_130536_total_iter;
    futhark_mc_task_130535_task.sched = STATIC;
    futhark_mc_task_130535_task.nested_fn =
        futhark_mc_segmap_nested_task_130540;
    
    int futhark_mc_segmap_task_130536_err =
        scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_130535_task);
    
    if (futhark_mc_segmap_task_130536_err != 0) {
        err = 1;
        goto cleanup;
    }
    
    struct memblock mem_122809;
    
    mem_122809.references = NULL;
    if (memblock_alloc(ctx, &mem_122809, bytes_121066, "mem_122809")) {
        err = 1;
        goto cleanup;
    }
    memmove(mem_122809.mem + (int64_t) 0, ext_mem_122762.mem + (int64_t) 0,
            m_114104 * n_114105 * (int64_t) 4);
    if (memblock_unref(ctx, &ext_mem_122762, "ext_mem_122762") != 0)
        return 1;
    
    struct memblock mem_122814;
    
    mem_122814.references = NULL;
    if (memblock_alloc(ctx, &mem_122814, bytes_121066, "mem_122814")) {
        err = 1;
        goto cleanup;
    }
    memmove(mem_122814.mem + (int64_t) 0, ext_mem_122761.mem + (int64_t) 0,
            m_114104 * n_114105 * (int64_t) 4);
    if (memblock_unref(ctx, &ext_mem_122761, "ext_mem_122761") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_122884, &mem_122809, "mem_122809") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_122885, &mem_122814, "mem_122814") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_122886, &mem_122805, "mem_122805") != 0)
        return 1;
    (*mem_out_p_129719).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_129719, &mem_out_122884,
                     "mem_out_122884") != 0)
        return 1;
    (*mem_out_p_129720).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_129720, &mem_out_122885,
                     "mem_out_122885") != 0)
        return 1;
    (*mem_out_p_129721).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_129721, &mem_out_122886,
                     "mem_out_122886") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_122814, "mem_122814") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_122809, "mem_122809") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_122805, "mem_122805") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_param_121269, "mem_param_121269") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_param_121261, "mem_param_121261") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_param_121253, "mem_param_121253") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_122760, "ext_mem_122760") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_122761, "ext_mem_122761") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_122762, "ext_mem_122762") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_121245, "mem_121245") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_121241, "mem_121241") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_out_122886, "mem_out_122886") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_out_122885, "mem_out_122885") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_out_122884, "mem_out_122884") != 0)
        return 1;
    
  cleanup:
    { }
    free(mem_121044);
    free(mem_121047);
    free(mem_121069);
    free(mem_121091);
    free(mem_121113);
    free(mem_121171);
    free(mem_121175);
    free(mem_121233);
    free(mem_121237);
    free(mem_121313);
    free(mem_121335);
    free(mem_121357);
    free(mem_121360);
    free(mem_121382);
    free(mem_121385);
    free(mem_121407);
    free(mem_121410);
    free(mem_121432);
    free(mem_122001);
    free(mem_122005);
    free(mem_122544);
    free(mem_122566);
    free(mem_122720);
    free(mem_122723);
    free(mem_122726);
    free(mem_122729);
    return err;
}
int futhark_entry_main(struct futhark_context *ctx,
                       struct futhark_f32_2d **out0,
                       struct futhark_f32_2d **out1,
                       struct futhark_f32_2d **out2, const
                       struct futhark_f32_2d *in0, const int64_t in1, const
                       int64_t in2, const int64_t in3, const int64_t in4, const
                       int64_t in5, const int64_t in6, const int64_t in7, const
                       int64_t in8, const int64_t in9, const int64_t in10, const
                       int64_t in11)
{
    struct memblock Y_mem_121004;
    
    Y_mem_121004.references = NULL;
    
    int64_t m_114104;
    int64_t n_114105;
    int64_t n_p_114107;
    int64_t t_window_114108;
    int64_t l_window_114109;
    int64_t t_degree_114110;
    int64_t l_degree_114111;
    int64_t t_jump_114112;
    int64_t l_jump_114113;
    int64_t inner_114114;
    int64_t outer_114115;
    int64_t jump_threshold_114116;
    int64_t max_group_sizze_114117;
    struct memblock mem_out_122884;
    
    mem_out_122884.references = NULL;
    
    struct memblock mem_out_122885;
    
    mem_out_122885.references = NULL;
    
    struct memblock mem_out_122886;
    
    mem_out_122886.references = NULL;
    
    int ret = 0;
    
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    Y_mem_121004 = in0->mem;
    m_114104 = in0->shape[0];
    n_114105 = in0->shape[1];
    n_p_114107 = in1;
    t_window_114108 = in2;
    l_window_114109 = in3;
    t_degree_114110 = in4;
    l_degree_114111 = in5;
    t_jump_114112 = in6;
    l_jump_114113 = in7;
    inner_114114 = in8;
    outer_114115 = in9;
    jump_threshold_114116 = in10;
    max_group_sizze_114117 = in11;
    if (!(m_114104 == in0->shape[0] && n_114105 == in0->shape[1])) {
        ret = 1;
        if (!ctx->error)
            ctx->error =
                msgprintf("Error: entry point arguments have invalid sizes.\n");
    }
    if (ret == 0) {
        ret = futrts_entry_main(ctx, &mem_out_122884, &mem_out_122885,
                                &mem_out_122886, Y_mem_121004, m_114104,
                                n_114105, n_p_114107, t_window_114108,
                                l_window_114109, t_degree_114110,
                                l_degree_114111, t_jump_114112, l_jump_114113,
                                inner_114114, outer_114115,
                                jump_threshold_114116, max_group_sizze_114117);
        if (ret == 0) {
            assert((*out0 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out0)->mem = mem_out_122884;
            (*out0)->shape[0] = m_114104;
            (*out0)->shape[1] = n_114105;
            assert((*out1 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out1)->mem = mem_out_122885;
            (*out1)->shape[0] = m_114104;
            (*out1)->shape[1] = n_114105;
            assert((*out2 =
                    (struct futhark_f32_2d *) malloc(sizeof(struct futhark_f32_2d))) !=
                NULL);
            (*out2)->mem = mem_out_122886;
            (*out2)->shape[0] = m_114104;
            (*out2)->shape[1] = n_114105;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
